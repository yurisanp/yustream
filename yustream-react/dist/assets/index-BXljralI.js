(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const d of l)if(d.type==="childList")for(const a of d.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(l){const d={};return l.integrity&&(d.integrity=l.integrity),l.referrerPolicy&&(d.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?d.credentials="include":l.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function i(l){if(l.ep)return;l.ep=!0;const d=n(l);fetch(l.href,d)}})();function Zy(g){return g&&g.__esModule&&Object.prototype.hasOwnProperty.call(g,"default")?g.default:g}var Id={exports:{}},Kl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Up;function Jy(){if(Up)return Kl;Up=1;var g=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,l,d){var a=null;if(d!==void 0&&(a=""+d),l.key!==void 0&&(a=""+l.key),"key"in l){d={};for(var c in l)c!=="key"&&(d[c]=l[c])}else d=l;return l=d.ref,{$$typeof:g,type:i,key:a,ref:l!==void 0?l:null,props:d}}return Kl.Fragment=t,Kl.jsx=n,Kl.jsxs=n,Kl}var Fp;function t1(){return Fp||(Fp=1,Id.exports=Jy()),Id.exports}var xr=t1(),Dd={exports:{}},Un={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gp;function e1(){if(Gp)return Un;Gp=1;var g=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),e=Symbol.for("react.suspense"),o=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),f=Symbol.iterator;function A(G){return G===null||typeof G!="object"?null:(G=f&&G[f]||G["@@iterator"],typeof G=="function"?G:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,y={};function E(G,q,et){this.props=G,this.context=q,this.refs=y,this.updater=et||p}E.prototype.isReactComponent={},E.prototype.setState=function(G,q){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,q,"setState")},E.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function C(){}C.prototype=E.prototype;function T(G,q,et){this.props=G,this.context=q,this.refs=y,this.updater=et||p}var x=T.prototype=new C;x.constructor=T,m(x,E.prototype),x.isPureReactComponent=!0;var L=Array.isArray,D={H:null,A:null,T:null,S:null,V:null},B=Object.prototype.hasOwnProperty;function O(G,q,et,ot,bt,Ct){return et=Ct.ref,{$$typeof:g,type:G,key:q,ref:et!==void 0?et:null,props:Ct}}function _(G,q){return O(G.type,q,void 0,void 0,void 0,G.props)}function M(G){return typeof G=="object"&&G!==null&&G.$$typeof===g}function U(G){var q={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(et){return q[et]})}var Q=/\/+/g;function $(G,q){return typeof G=="object"&&G!==null&&G.key!=null?U(""+G.key):q.toString(36)}function W(){}function X(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(W,W):(G.status="pending",G.then(function(q){G.status==="pending"&&(G.status="fulfilled",G.value=q)},function(q){G.status==="pending"&&(G.status="rejected",G.reason=q)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function tt(G,q,et,ot,bt){var Ct=typeof G;(Ct==="undefined"||Ct==="boolean")&&(G=null);var Tt=!1;if(G===null)Tt=!0;else switch(Ct){case"bigint":case"string":case"number":Tt=!0;break;case"object":switch(G.$$typeof){case g:case t:Tt=!0;break;case u:return Tt=G._init,tt(Tt(G._payload),q,et,ot,bt)}}if(Tt)return bt=bt(G),Tt=ot===""?"."+$(G,0):ot,L(bt)?(et="",Tt!=null&&(et=Tt.replace(Q,"$&/")+"/"),tt(bt,q,et,"",function(jt){return jt})):bt!=null&&(M(bt)&&(bt=_(bt,et+(bt.key==null||G&&G.key===bt.key?"":(""+bt.key).replace(Q,"$&/")+"/")+Tt)),q.push(bt)),1;Tt=0;var $t=ot===""?".":ot+":";if(L(G))for(var Vt=0;Vt<G.length;Vt++)ot=G[Vt],Ct=$t+$(ot,Vt),Tt+=tt(ot,q,et,Ct,bt);else if(Vt=A(G),typeof Vt=="function")for(G=Vt.call(G),Vt=0;!(ot=G.next()).done;)ot=ot.value,Ct=$t+$(ot,Vt++),Tt+=tt(ot,q,et,Ct,bt);else if(Ct==="object"){if(typeof G.then=="function")return tt(X(G),q,et,ot,bt);throw q=String(G),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return Tt}function V(G,q,et){if(G==null)return G;var ot=[],bt=0;return tt(G,ot,"","",function(Ct){return q.call(et,Ct,bt++)}),ot}function N(G){if(G._status===-1){var q=G._result;q=q(),q.then(function(et){(G._status===0||G._status===-1)&&(G._status=1,G._result=et)},function(et){(G._status===0||G._status===-1)&&(G._status=2,G._result=et)}),G._status===-1&&(G._status=0,G._result=q)}if(G._status===1)return G._result.default;throw G._result}var K=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)};function at(){}return Un.Children={map:V,forEach:function(G,q,et){V(G,function(){q.apply(this,arguments)},et)},count:function(G){var q=0;return V(G,function(){q++}),q},toArray:function(G){return V(G,function(q){return q})||[]},only:function(G){if(!M(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},Un.Component=E,Un.Fragment=n,Un.Profiler=l,Un.PureComponent=T,Un.StrictMode=i,Un.Suspense=e,Un.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Un.__COMPILER_RUNTIME={__proto__:null,c:function(G){return D.H.useMemoCache(G)}},Un.cache=function(G){return function(){return G.apply(null,arguments)}},Un.cloneElement=function(G,q,et){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var ot=m({},G.props),bt=G.key,Ct=void 0;if(q!=null)for(Tt in q.ref!==void 0&&(Ct=void 0),q.key!==void 0&&(bt=""+q.key),q)!B.call(q,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&q.ref===void 0||(ot[Tt]=q[Tt]);var Tt=arguments.length-2;if(Tt===1)ot.children=et;else if(1<Tt){for(var $t=Array(Tt),Vt=0;Vt<Tt;Vt++)$t[Vt]=arguments[Vt+2];ot.children=$t}return O(G.type,bt,void 0,void 0,Ct,ot)},Un.createContext=function(G){return G={$$typeof:a,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:d,_context:G},G},Un.createElement=function(G,q,et){var ot,bt={},Ct=null;if(q!=null)for(ot in q.key!==void 0&&(Ct=""+q.key),q)B.call(q,ot)&&ot!=="key"&&ot!=="__self"&&ot!=="__source"&&(bt[ot]=q[ot]);var Tt=arguments.length-2;if(Tt===1)bt.children=et;else if(1<Tt){for(var $t=Array(Tt),Vt=0;Vt<Tt;Vt++)$t[Vt]=arguments[Vt+2];bt.children=$t}if(G&&G.defaultProps)for(ot in Tt=G.defaultProps,Tt)bt[ot]===void 0&&(bt[ot]=Tt[ot]);return O(G,Ct,void 0,void 0,null,bt)},Un.createRef=function(){return{current:null}},Un.forwardRef=function(G){return{$$typeof:c,render:G}},Un.isValidElement=M,Un.lazy=function(G){return{$$typeof:u,_payload:{_status:-1,_result:G},_init:N}},Un.memo=function(G,q){return{$$typeof:o,type:G,compare:q===void 0?null:q}},Un.startTransition=function(G){var q=D.T,et={};D.T=et;try{var ot=G(),bt=D.S;bt!==null&&bt(et,ot),typeof ot=="object"&&ot!==null&&typeof ot.then=="function"&&ot.then(at,K)}catch(Ct){K(Ct)}finally{D.T=q}},Un.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Un.use=function(G){return D.H.use(G)},Un.useActionState=function(G,q,et){return D.H.useActionState(G,q,et)},Un.useCallback=function(G,q){return D.H.useCallback(G,q)},Un.useContext=function(G){return D.H.useContext(G)},Un.useDebugValue=function(){},Un.useDeferredValue=function(G,q){return D.H.useDeferredValue(G,q)},Un.useEffect=function(G,q,et){var ot=D.H;if(typeof et=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ot.useEffect(G,q)},Un.useId=function(){return D.H.useId()},Un.useImperativeHandle=function(G,q,et){return D.H.useImperativeHandle(G,q,et)},Un.useInsertionEffect=function(G,q){return D.H.useInsertionEffect(G,q)},Un.useLayoutEffect=function(G,q){return D.H.useLayoutEffect(G,q)},Un.useMemo=function(G,q){return D.H.useMemo(G,q)},Un.useOptimistic=function(G,q){return D.H.useOptimistic(G,q)},Un.useReducer=function(G,q,et){return D.H.useReducer(G,q,et)},Un.useRef=function(G){return D.H.useRef(G)},Un.useState=function(G){return D.H.useState(G)},Un.useSyncExternalStore=function(G,q,et){return D.H.useSyncExternalStore(G,q,et)},Un.useTransition=function(){return D.H.useTransition()},Un.version="19.1.1",Un}var Qp;function Lh(){return Qp||(Qp=1,Dd.exports=e1()),Dd.exports}var bi=Lh(),kd={exports:{}},Wl={},Bd={exports:{}},Od={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hp;function n1(){return Hp||(Hp=1,(function(g){function t(V,N){var K=V.length;V.push(N);t:for(;0<K;){var at=K-1>>>1,G=V[at];if(0<l(G,N))V[at]=N,V[K]=G,K=at;else break t}}function n(V){return V.length===0?null:V[0]}function i(V){if(V.length===0)return null;var N=V[0],K=V.pop();if(K!==N){V[0]=K;t:for(var at=0,G=V.length,q=G>>>1;at<q;){var et=2*(at+1)-1,ot=V[et],bt=et+1,Ct=V[bt];if(0>l(ot,K))bt<G&&0>l(Ct,ot)?(V[at]=Ct,V[bt]=K,at=bt):(V[at]=ot,V[et]=K,at=et);else if(bt<G&&0>l(Ct,K))V[at]=Ct,V[bt]=K,at=bt;else break t}}return N}function l(V,N){var K=V.sortIndex-N.sortIndex;return K!==0?K:V.id-N.id}if(g.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;g.unstable_now=function(){return d.now()}}else{var a=Date,c=a.now();g.unstable_now=function(){return a.now()-c}}var e=[],o=[],u=1,f=null,A=3,p=!1,m=!1,y=!1,E=!1,C=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;function L(V){for(var N=n(o);N!==null;){if(N.callback===null)i(o);else if(N.startTime<=V)i(o),N.sortIndex=N.expirationTime,t(e,N);else break;N=n(o)}}function D(V){if(y=!1,L(V),!m)if(n(e)!==null)m=!0,B||(B=!0,$());else{var N=n(o);N!==null&&tt(D,N.startTime-V)}}var B=!1,O=-1,_=5,M=-1;function U(){return E?!0:!(g.unstable_now()-M<_)}function Q(){if(E=!1,B){var V=g.unstable_now();M=V;var N=!0;try{t:{m=!1,y&&(y=!1,T(O),O=-1),p=!0;var K=A;try{e:{for(L(V),f=n(e);f!==null&&!(f.expirationTime>V&&U());){var at=f.callback;if(typeof at=="function"){f.callback=null,A=f.priorityLevel;var G=at(f.expirationTime<=V);if(V=g.unstable_now(),typeof G=="function"){f.callback=G,L(V),N=!0;break e}f===n(e)&&i(e),L(V)}else i(e);f=n(e)}if(f!==null)N=!0;else{var q=n(o);q!==null&&tt(D,q.startTime-V),N=!1}}break t}finally{f=null,A=K,p=!1}N=void 0}}finally{N?$():B=!1}}}var $;if(typeof x=="function")$=function(){x(Q)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,X=W.port2;W.port1.onmessage=Q,$=function(){X.postMessage(null)}}else $=function(){C(Q,0)};function tt(V,N){O=C(function(){V(g.unstable_now())},N)}g.unstable_IdlePriority=5,g.unstable_ImmediatePriority=1,g.unstable_LowPriority=4,g.unstable_NormalPriority=3,g.unstable_Profiling=null,g.unstable_UserBlockingPriority=2,g.unstable_cancelCallback=function(V){V.callback=null},g.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<V?Math.floor(1e3/V):5},g.unstable_getCurrentPriorityLevel=function(){return A},g.unstable_next=function(V){switch(A){case 1:case 2:case 3:var N=3;break;default:N=A}var K=A;A=N;try{return V()}finally{A=K}},g.unstable_requestPaint=function(){E=!0},g.unstable_runWithPriority=function(V,N){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var K=A;A=V;try{return N()}finally{A=K}},g.unstable_scheduleCallback=function(V,N,K){var at=g.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?at+K:at):K=at,V){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=K+G,V={id:u++,callback:N,priorityLevel:V,startTime:K,expirationTime:G,sortIndex:-1},K>at?(V.sortIndex=K,t(o,V),n(e)===null&&V===n(o)&&(y?(T(O),O=-1):y=!0,tt(D,K-at))):(V.sortIndex=G,t(e,V),m||p||(m=!0,B||(B=!0,$()))),V},g.unstable_shouldYield=U,g.unstable_wrapCallback=function(V){var N=A;return function(){var K=A;A=N;try{return V.apply(this,arguments)}finally{A=K}}}})(Od)),Od}var Yp;function r1(){return Yp||(Yp=1,Bd.exports=n1()),Bd.exports}var _d={exports:{}},Ei={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zp;function i1(){if(zp)return Ei;zp=1;var g=Lh();function t(e){var o="https://react.dev/errors/"+e;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+e+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function d(e,o,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:f==null?null:""+f,children:e,containerInfo:o,implementation:u}}var a=g.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,o){if(e==="font")return"";if(typeof o=="string")return o==="use-credentials"?o:""}return Ei.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Ei.createPortal=function(e,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)throw Error(t(299));return d(e,o,null,u)},Ei.flushSync=function(e){var o=a.T,u=i.p;try{if(a.T=null,i.p=2,e)return e()}finally{a.T=o,i.p=u,i.d.f()}},Ei.preconnect=function(e,o){typeof e=="string"&&(o?(o=o.crossOrigin,o=typeof o=="string"?o==="use-credentials"?o:"":void 0):o=null,i.d.C(e,o))},Ei.prefetchDNS=function(e){typeof e=="string"&&i.d.D(e)},Ei.preinit=function(e,o){if(typeof e=="string"&&o&&typeof o.as=="string"){var u=o.as,f=c(u,o.crossOrigin),A=typeof o.integrity=="string"?o.integrity:void 0,p=typeof o.fetchPriority=="string"?o.fetchPriority:void 0;u==="style"?i.d.S(e,typeof o.precedence=="string"?o.precedence:void 0,{crossOrigin:f,integrity:A,fetchPriority:p}):u==="script"&&i.d.X(e,{crossOrigin:f,integrity:A,fetchPriority:p,nonce:typeof o.nonce=="string"?o.nonce:void 0})}},Ei.preinitModule=function(e,o){if(typeof e=="string")if(typeof o=="object"&&o!==null){if(o.as==null||o.as==="script"){var u=c(o.as,o.crossOrigin);i.d.M(e,{crossOrigin:u,integrity:typeof o.integrity=="string"?o.integrity:void 0,nonce:typeof o.nonce=="string"?o.nonce:void 0})}}else o==null&&i.d.M(e)},Ei.preload=function(e,o){if(typeof e=="string"&&typeof o=="object"&&o!==null&&typeof o.as=="string"){var u=o.as,f=c(u,o.crossOrigin);i.d.L(e,u,{crossOrigin:f,integrity:typeof o.integrity=="string"?o.integrity:void 0,nonce:typeof o.nonce=="string"?o.nonce:void 0,type:typeof o.type=="string"?o.type:void 0,fetchPriority:typeof o.fetchPriority=="string"?o.fetchPriority:void 0,referrerPolicy:typeof o.referrerPolicy=="string"?o.referrerPolicy:void 0,imageSrcSet:typeof o.imageSrcSet=="string"?o.imageSrcSet:void 0,imageSizes:typeof o.imageSizes=="string"?o.imageSizes:void 0,media:typeof o.media=="string"?o.media:void 0})}},Ei.preloadModule=function(e,o){if(typeof e=="string")if(o){var u=c(o.as,o.crossOrigin);i.d.m(e,{as:typeof o.as=="string"&&o.as!=="script"?o.as:void 0,crossOrigin:u,integrity:typeof o.integrity=="string"?o.integrity:void 0})}else i.d.m(e)},Ei.requestFormReset=function(e){i.d.r(e)},Ei.unstable_batchedUpdates=function(e,o){return e(o)},Ei.useFormState=function(e,o,u){return a.H.useFormState(e,o,u)},Ei.useFormStatus=function(){return a.H.useHostTransitionStatus()},Ei.version="19.1.1",Ei}var Vp;function s1(){if(Vp)return _d.exports;Vp=1;function g(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(g)}catch(t){console.error(t)}}return g(),_d.exports=i1(),_d.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jp;function a1(){if(jp)return Wl;jp=1;var g=r1(),t=Lh(),n=s1();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)s+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function d(r){var s=r,h=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(h=s.return),r=s.return;while(r)}return s.tag===3?h:null}function a(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function c(r){if(d(r)!==r)throw Error(i(188))}function e(r){var s=r.alternate;if(!s){if(s=d(r),s===null)throw Error(i(188));return s!==r?null:r}for(var h=r,v=s;;){var b=h.return;if(b===null)break;var w=b.alternate;if(w===null){if(v=b.return,v!==null){h=v;continue}break}if(b.child===w.child){for(w=b.child;w;){if(w===h)return c(b),r;if(w===v)return c(b),s;w=w.sibling}throw Error(i(188))}if(h.return!==v.return)h=b,v=w;else{for(var z=!1,J=b.child;J;){if(J===h){z=!0,h=b,v=w;break}if(J===v){z=!0,v=b,h=w;break}J=J.sibling}if(!z){for(J=w.child;J;){if(J===h){z=!0,h=w,v=b;break}if(J===v){z=!0,v=w,h=b;break}J=J.sibling}if(!z)throw Error(i(189))}}if(h.alternate!==v)throw Error(i(190))}if(h.tag!==3)throw Error(i(188));return h.stateNode.current===h?r:s}function o(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=o(r),s!==null)return s;r=r.sibling}return null}var u=Object.assign,f=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),T=Symbol.for("react.consumer"),x=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),Q=Symbol.iterator;function $(r){return r===null||typeof r!="object"?null:(r=Q&&r[Q]||r["@@iterator"],typeof r=="function"?r:null)}var W=Symbol.for("react.client.reference");function X(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===W?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case m:return"Fragment";case E:return"Profiler";case y:return"StrictMode";case D:return"Suspense";case B:return"SuspenseList";case M:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case p:return"Portal";case x:return(r.displayName||"Context")+".Provider";case T:return(r._context.displayName||"Context")+".Consumer";case L:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case O:return s=r.displayName||null,s!==null?s:X(r.type)||"Memo";case _:s=r._payload,r=r._init;try{return X(r(s))}catch{}}return null}var tt=Array.isArray,V=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},at=[],G=-1;function q(r){return{current:r}}function et(r){0>G||(r.current=at[G],at[G]=null,G--)}function ot(r,s){G++,at[G]=r.current,r.current=s}var bt=q(null),Ct=q(null),Tt=q(null),$t=q(null);function Vt(r,s){switch(ot(Tt,s),ot(Ct,r),ot(bt,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?dp(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=dp(s),r=hp(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}et(bt),ot(bt,r)}function jt(){et(bt),et(Ct),et(Tt)}function ee(r){r.memoizedState!==null&&ot($t,r);var s=bt.current,h=hp(s,r.type);s!==h&&(ot(Ct,r),ot(bt,h))}function ce(r){Ct.current===r&&(et(bt),et(Ct)),$t.current===r&&(et($t),Yl._currentValue=K)}var se=Object.prototype.hasOwnProperty,Se=g.unstable_scheduleCallback,Pe=g.unstable_cancelCallback,je=g.unstable_shouldYield,xe=g.unstable_requestPaint,we=g.unstable_now,en=g.unstable_getCurrentPriorityLevel,En=g.unstable_ImmediatePriority,un=g.unstable_UserBlockingPriority,We=g.unstable_NormalPriority,$e=g.unstable_LowPriority,Rn=g.unstable_IdlePriority,sn=g.log,te=g.unstable_setDisableYieldValue,Ae=null,oe=null;function De(r){if(typeof sn=="function"&&te(r),oe&&typeof oe.setStrictMode=="function")try{oe.setStrictMode(Ae,r)}catch{}}var Rt=Math.clz32?Math.clz32:Yn,me=Math.log,ke=Math.LN2;function Yn(r){return r>>>=0,r===0?32:31-(me(r)/ke|0)|0}var Ne=256,Ve=4194304;function It(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Te(r,s,h){var v=r.pendingLanes;if(v===0)return 0;var b=0,w=r.suspendedLanes,z=r.pingedLanes;r=r.warmLanes;var J=v&134217727;return J!==0?(v=J&~w,v!==0?b=It(v):(z&=J,z!==0?b=It(z):h||(h=J&~r,h!==0&&(b=It(h))))):(J=v&~w,J!==0?b=It(J):z!==0?b=It(z):h||(h=v&~r,h!==0&&(b=It(h)))),b===0?0:s!==0&&s!==b&&(s&w)===0&&(w=b&-b,h=s&-s,w>=h||w===32&&(h&4194048)!==0)?s:b}function an(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function dn(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function re(){var r=Ne;return Ne<<=1,(Ne&4194048)===0&&(Ne=256),r}function _e(){var r=Ve;return Ve<<=1,(Ve&62914560)===0&&(Ve=4194304),r}function ve(r){for(var s=[],h=0;31>h;h++)s.push(r);return s}function Ue(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function qe(r,s,h,v,b,w){var z=r.pendingLanes;r.pendingLanes=h,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=h,r.entangledLanes&=h,r.errorRecoveryDisabledLanes&=h,r.shellSuspendCounter=0;var J=r.entanglements,vt=r.expirationTimes,Mt=r.hiddenUpdates;for(h=z&~h;0<h;){var Zt=31-Rt(h),ue=1<<Zt;J[Zt]=0,vt[Zt]=-1;var Nt=Mt[Zt];if(Nt!==null)for(Mt[Zt]=null,Zt=0;Zt<Nt.length;Zt++){var Gt=Nt[Zt];Gt!==null&&(Gt.lane&=-536870913)}h&=~ue}v!==0&&gn(r,v,0),w!==0&&b===0&&r.tag!==0&&(r.suspendedLanes|=w&~(z&~s))}function gn(r,s,h){r.pendingLanes|=s,r.suspendedLanes&=~s;var v=31-Rt(s);r.entangledLanes|=s,r.entanglements[v]=r.entanglements[v]|1073741824|h&4194090}function ln(r,s){var h=r.entangledLanes|=s;for(r=r.entanglements;h;){var v=31-Rt(h),b=1<<v;b&s|r[v]&s&&(r[v]|=s),h&=~b}}function Wt(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Le(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function He(){var r=N.p;return r!==0?r:(r=window.event,r===void 0?32:Bp(r.type))}function Me(r,s){var h=N.p;try{return N.p=r,s()}finally{N.p=h}}var hn=Math.random().toString(36).slice(2),rn="__reactFiber$"+hn,Tn="__reactProps$"+hn,zn="__reactContainer$"+hn,sr="__reactEvents$"+hn,Fr="__reactListeners$"+hn,or="__reactHandles$"+hn,Ir="__reactResources$"+hn,ai="__reactMarker$"+hn;function Lr(r){delete r[rn],delete r[Tn],delete r[sr],delete r[Fr],delete r[or]}function Tr(r){var s=r[rn];if(s)return s;for(var h=r.parentNode;h;){if(s=h[zn]||h[rn]){if(h=s.alternate,s.child!==null||h!==null&&h.child!==null)for(r=mp(r);r!==null;){if(h=r[rn])return h;r=mp(r)}return s}r=h,h=r.parentNode}return null}function Dr(r){if(r=r[rn]||r[zn]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function Yr(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function tr(r){var s=r[Ir];return s||(s=r[Ir]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Gn(r){r[ai]=!0}var hi=new Set,Ii={};function Yt(r,s){zt(r,s),zt(r+"Capture",s)}function zt(r,s){for(Ii[r]=s,r=0;r<s.length;r++)hi.add(s[r])}var ge=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mn={},qt={};function ir(r){return se.call(qt,r)?!0:se.call(Mn,r)?!1:ge.test(r)?qt[r]=!0:(Mn[r]=!0,!1)}function Fn(r,s,h){if(ir(s))if(h===null)r.removeAttribute(s);else{switch(typeof h){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var v=s.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+h)}}function Bn(r,s,h){if(h===null)r.removeAttribute(s);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+h)}}function St(r,s,h,v){if(v===null)r.removeAttribute(h);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(h);return}r.setAttributeNS(s,h,""+v)}}var Re,Pn;function tn(r){if(Re===void 0)try{throw Error()}catch(h){var s=h.stack.trim().match(/\n( *(at )?)/);Re=s&&s[1]||"",Pn=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Re+r+Pn}var dr=!1;function vr(r,s){if(!r||dr)return"";dr=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(s){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(Gt){var Nt=Gt}Reflect.construct(r,[],ue)}else{try{ue.call()}catch(Gt){Nt=Gt}r.call(ue.prototype)}}else{try{throw Error()}catch(Gt){Nt=Gt}(ue=r())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(Gt){if(Gt&&Nt&&typeof Gt.stack=="string")return[Gt.stack,Nt.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=v.DetermineComponentFrameRoot(),z=w[0],J=w[1];if(z&&J){var vt=z.split(`
`),Mt=J.split(`
`);for(b=v=0;v<vt.length&&!vt[v].includes("DetermineComponentFrameRoot");)v++;for(;b<Mt.length&&!Mt[b].includes("DetermineComponentFrameRoot");)b++;if(v===vt.length||b===Mt.length)for(v=vt.length-1,b=Mt.length-1;1<=v&&0<=b&&vt[v]!==Mt[b];)b--;for(;1<=v&&0<=b;v--,b--)if(vt[v]!==Mt[b]){if(v!==1||b!==1)do if(v--,b--,0>b||vt[v]!==Mt[b]){var Zt=`
`+vt[v].replace(" at new "," at ");return r.displayName&&Zt.includes("<anonymous>")&&(Zt=Zt.replace("<anonymous>",r.displayName)),Zt}while(1<=v&&0<=b);break}}}finally{dr=!1,Error.prepareStackTrace=h}return(h=r?r.displayName||r.name:"")?tn(h):""}function ei(r){switch(r.tag){case 26:case 27:case 5:return tn(r.type);case 16:return tn("Lazy");case 13:return tn("Suspense");case 19:return tn("SuspenseList");case 0:case 15:return vr(r.type,!1);case 11:return vr(r.type.render,!1);case 1:return vr(r.type,!0);case 31:return tn("Activity");default:return""}}function zr(r){try{var s="";do s+=ei(r),r=r.return;while(r);return s}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}function Nn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ai(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ni(r){var s=Ai(r)?"checked":"value",h=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),v=""+r[s];if(!r.hasOwnProperty(s)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var b=h.get,w=h.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return b.call(this)},set:function(z){v=""+z,w.call(this,z)}}),Object.defineProperty(r,s,{enumerable:h.enumerable}),{getValue:function(){return v},setValue:function(z){v=""+z},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Gr(r){r._valueTracker||(r._valueTracker=Ni(r))}function oi(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var h=s.getValue(),v="";return r&&(v=Ai(r)?r.checked?"true":"false":r.value),r=v,r!==h?(s.setValue(r),!0):!1}function Xi(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Ha=/[\n"\\]/g;function Wr(r){return r.replace(Ha,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ui(r,s,h,v,b,w,z,J){r.name="",z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?r.type=z:r.removeAttribute("type"),s!=null?z==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+Nn(s)):r.value!==""+Nn(s)&&(r.value=""+Nn(s)):z!=="submit"&&z!=="reset"||r.removeAttribute("value"),s!=null?Ya(r,z,Nn(s)):h!=null?Ya(r,z,Nn(h)):v!=null&&r.removeAttribute("value"),b==null&&w!=null&&(r.defaultChecked=!!w),b!=null&&(r.checked=b&&typeof b!="function"&&typeof b!="symbol"),J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"?r.name=""+Nn(J):r.removeAttribute("name")}function Us(r,s,h,v,b,w,z,J){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(r.type=w),s!=null||h!=null){if(!(w!=="submit"&&w!=="reset"||s!=null))return;h=h!=null?""+Nn(h):"",s=s!=null?""+Nn(s):h,J||s===r.value||(r.value=s),r.defaultValue=s}v=v??b,v=typeof v!="function"&&typeof v!="symbol"&&!!v,r.checked=J?r.checked:!!v,r.defaultChecked=!!v,z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"&&(r.name=z)}function Ya(r,s,h){s==="number"&&Xi(r.ownerDocument)===r||r.defaultValue===""+h||(r.defaultValue=""+h)}function br(r,s,h,v){if(r=r.options,s){s={};for(var b=0;b<h.length;b++)s["$"+h[b]]=!0;for(h=0;h<r.length;h++)b=s.hasOwnProperty("$"+r[h].value),r[h].selected!==b&&(r[h].selected=b),b&&v&&(r[h].defaultSelected=!0)}else{for(h=""+Nn(h),s=null,b=0;b<r.length;b++){if(r[b].value===h){r[b].selected=!0,v&&(r[b].defaultSelected=!0);return}s!==null||r[b].disabled||(s=r[b])}s!==null&&(s.selected=!0)}}function za(r,s,h){if(s!=null&&(s=""+Nn(s),s!==r.value&&(r.value=s),h==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=h!=null?""+Nn(h):""}function kr(r,s,h,v){if(s==null){if(v!=null){if(h!=null)throw Error(i(92));if(tt(v)){if(1<v.length)throw Error(i(93));v=v[0]}h=v}h==null&&(h=""),s=h}h=Nn(s),r.defaultValue=h,v=r.textContent,v===h&&v!==""&&v!==null&&(r.value=v)}function as(r,s){if(s){var h=r.firstChild;if(h&&h===r.lastChild&&h.nodeType===3){h.nodeValue=s;return}}r.textContent=s}var Eo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Va(r,s,h){var v=s.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?v?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":v?r.setProperty(s,h):typeof h!="number"||h===0||Eo.has(s)?s==="float"?r.cssFloat=h:r[s]=(""+h).trim():r[s]=h+"px"}function ia(r,s,h){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,h!=null){for(var v in h)!h.hasOwnProperty(v)||s!=null&&s.hasOwnProperty(v)||(v.indexOf("--")===0?r.setProperty(v,""):v==="float"?r.cssFloat="":r[v]="");for(var b in s)v=s[b],s.hasOwnProperty(b)&&h[b]!==v&&Va(r,b,v)}else for(var w in s)s.hasOwnProperty(w)&&Va(r,w,s[w])}function Fs(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ja=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Di=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function li(r){return Di.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Gs=null;function Ss(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var gi=null,lr=null;function Xn(r){var s=Dr(r);if(s&&(r=s.stateNode)){var h=r[Tn]||null;t:switch(r=s.stateNode,s.type){case"input":if(Ui(r,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),s=h.name,h.type==="radio"&&s!=null){for(h=r;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+Wr(""+s)+'"][type="radio"]'),s=0;s<h.length;s++){var v=h[s];if(v!==r&&v.form===r.form){var b=v[Tn]||null;if(!b)throw Error(i(90));Ui(v,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(s=0;s<h.length;s++)v=h[s],v.form===r.form&&oi(v)}break t;case"textarea":za(r,h.value,h.defaultValue);break t;case"select":s=h.value,s!=null&&br(r,!!h.multiple,s,!1)}}}var sa=!1;function Ci(r,s,h){if(sa)return r(s,h);sa=!0;try{var v=r(s);return v}finally{if(sa=!1,(gi!==null||lr!==null)&&(zu(),gi&&(s=gi,r=lr,lr=gi=null,Xn(s),r)))for(s=0;s<r.length;s++)Xn(r[s])}}function xn(r,s){var h=r.stateNode;if(h===null)return null;var v=h[Tn]||null;if(v===null)return null;h=v[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(r=r.type,v=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!v;break t;default:r=!1}if(r)return null;if(h&&typeof h!="function")throw Error(i(231,s,typeof h));return h}var pi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fi=!1;if(pi)try{var Ts={};Object.defineProperty(Ts,"passive",{get:function(){Fi=!0}}),window.addEventListener("test",Ts,Ts),window.removeEventListener("test",Ts,Ts)}catch{Fi=!1}var Si=null,$a=null,Qs=null;function bo(){if(Qs)return Qs;var r,s=$a,h=s.length,v,b="value"in Si?Si.value:Si.textContent,w=b.length;for(r=0;r<h&&s[r]===b[r];r++);var z=h-r;for(v=1;v<=z&&s[h-v]===b[w-v];v++);return Qs=b.slice(r,1<v?1-v:void 0)}function aa(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function oa(){return!0}function la(){return!1}function qr(r){function s(h,v,b,w,z){this._reactName=h,this._targetInst=b,this.type=v,this.nativeEvent=w,this.target=z,this.currentTarget=null;for(var J in r)r.hasOwnProperty(J)&&(h=r[J],this[J]=h?h(w):w[J]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?oa:la,this.isPropagationStopped=la,this}return u(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=oa)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=oa)},persist:function(){},isPersistent:oa}),s}var Zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hs=qr(Zi),os=u({},Zi,{view:0,detail:0}),Ys=qr(os),ua,Ka,ls,Ti=u({},os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:er,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ls&&(ls&&r.type==="mousemove"?(ua=r.screenX-ls.screenX,Ka=r.screenY-ls.screenY):Ka=ua=0,ls=r),ua)},movementY:function(r){return"movementY"in r?r.movementY:Ka}}),qn=qr(Ti),Co=u({},Ti,{dataTransfer:0}),ca=qr(Co),Wa=u({},os,{relatedTarget:0}),xs=qr(Wa),H=u({},Zi,{animationName:0,elapsedTime:0,pseudoElement:0}),Z=qr(H),gt=u({},Zi,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Et=qr(gt),Dt=u({},Zi,{data:0}),wt=qr(Dt),Qt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ie={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=mn[r])?!!s[r]:!1}function er(){return Cn}var Cr=u({},os,{key:function(r){if(r.key){var s=Qt[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=aa(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?ie[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:er,charCode:function(r){return r.type==="keypress"?aa(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?aa(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),us=qr(Cr),cs=u({},Ti,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mi=qr(cs),qa=u({},os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:er}),So=qr(qa),To=u({},Zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),ou=qr(To),Kc=u({},Ti,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Wc=qr(Kc),qc=u({},Zi,{newState:0,oldState:0}),Xa=qr(qc),lu=[9,13,27,32],xo=pi&&"CompositionEvent"in window,Za=null;pi&&"documentMode"in document&&(Za=document.documentMode);var fs=pi&&"TextEvent"in window&&!Za,Gi=pi&&(!xo||Za&&8<Za&&11>=Za),uu=" ",wo=!1;function cu(r,s){switch(r){case"keyup":return lu.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fu(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var fa=!1;function dl(r,s){switch(r){case"compositionend":return fu(s);case"keypress":return s.which!==32?null:(wo=!0,uu);case"textInput":return r=s.data,r===uu&&wo?null:r;default:return null}}function ds(r,s){if(fa)return r==="compositionend"||!xo&&cu(r,s)?(r=bo(),Qs=$a=Si=null,fa=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Gi&&s.locale!=="ko"?null:s.data;default:return null}}var Xc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function du(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Xc[r.type]:s==="textarea"}function hl(r,s,h,v){gi?lr?lr.push(v):lr=[v]:gi=v,s=qu(s,"onChange"),0<s.length&&(h=new Hs("onChange","change",null,h,v),r.push({event:h,listeners:s}))}var nr=null,da=null;function Zc(r){op(r,0)}function xi(r){var s=Yr(r);if(oi(s))return r}function wi(r,s){if(r==="change")return s}var Ja=!1;if(pi){var Al;if(pi){var vi="oninput"in document;if(!vi){var Lo=document.createElement("div");Lo.setAttribute("oninput","return;"),vi=typeof Lo.oninput=="function"}Al=vi}else Al=!1;Ja=Al&&(!document.documentMode||9<document.documentMode)}function hu(){nr&&(nr.detachEvent("onpropertychange",Au),da=nr=null)}function Au(r){if(r.propertyName==="value"&&xi(da)){var s=[];hl(s,da,r,Ss(r)),Ci(Zc,s)}}function Jc(r,s,h){r==="focusin"?(hu(),nr=s,da=h,nr.attachEvent("onpropertychange",Au)):r==="focusout"&&hu()}function tf(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return xi(da)}function ef(r,s){if(r==="click")return xi(s)}function nf(r,s){if(r==="input"||r==="change")return xi(s)}function rf(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Li=typeof Object.is=="function"?Object.is:rf;function to(r,s){if(Li(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var h=Object.keys(r),v=Object.keys(s);if(h.length!==v.length)return!1;for(v=0;v<h.length;v++){var b=h[v];if(!se.call(s,b)||!Li(r[b],s[b]))return!1}return!0}function gu(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function pu(r,s){var h=gu(r);r=0;for(var v;h;){if(h.nodeType===3){if(v=r+h.textContent.length,r<=s&&v>=s)return{node:h,offset:s-r};r=v}t:{for(;h;){if(h.nextSibling){h=h.nextSibling;break t}h=h.parentNode}h=void 0}h=gu(h)}}function mu(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?mu(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function vu(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Xi(r.document);s instanceof r.HTMLIFrameElement;){try{var h=typeof s.contentWindow.location.href=="string"}catch{h=!1}if(h)r=s.contentWindow;else break;s=Xi(r.document)}return s}function gl(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var Ro=pi&&"documentMode"in document&&11>=document.documentMode,Qi=null,ha=null,eo=null,pl=!1;function R(r,s,h){var v=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;pl||Qi==null||Qi!==Xi(v)||(v=Qi,"selectionStart"in v&&gl(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),eo&&to(eo,v)||(eo=v,v=qu(ha,"onSelect"),0<v.length&&(s=new Hs("onSelect","select",null,s,h),r.push({event:s,listeners:v}),s.target=Qi)))}function S(r,s){var h={};return h[r.toLowerCase()]=s.toLowerCase(),h["Webkit"+r]="webkit"+s,h["Moz"+r]="moz"+s,h}var I={animationend:S("Animation","AnimationEnd"),animationiteration:S("Animation","AnimationIteration"),animationstart:S("Animation","AnimationStart"),transitionrun:S("Transition","TransitionRun"),transitionstart:S("Transition","TransitionStart"),transitioncancel:S("Transition","TransitionCancel"),transitionend:S("Transition","TransitionEnd")},k={},P={};pi&&(P=document.createElement("div").style,"AnimationEvent"in window||(delete I.animationend.animation,delete I.animationiteration.animation,delete I.animationstart.animation),"TransitionEvent"in window||delete I.transitionend.transition);function j(r){if(k[r])return k[r];if(!I[r])return r;var s=I[r],h;for(h in s)if(s.hasOwnProperty(h)&&h in P)return k[r]=s[h];return r}var Y=j("animationend"),st=j("animationiteration"),nt=j("animationstart"),rt=j("transitionrun"),yt=j("transitionstart"),lt=j("transitioncancel"),ct=j("transitionend"),dt=new Map,ut="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ut.push("scrollEnd");function it(r,s){dt.set(r,s),Yt(s,[r])}var At=new WeakMap;function ft(r,s){if(typeof r=="object"&&r!==null){var h=At.get(r);return h!==void 0?h:(s={value:r,source:s,stack:zr(s)},At.set(r,s),s)}return{value:r,source:s,stack:zr(s)}}var pt=[],mt=0,ht=0;function Pt(){for(var r=mt,s=ht=mt=0;s<r;){var h=pt[s];pt[s++]=null;var v=pt[s];pt[s++]=null;var b=pt[s];pt[s++]=null;var w=pt[s];if(pt[s++]=null,v!==null&&b!==null){var z=v.pending;z===null?b.next=b:(b.next=z.next,z.next=b),v.pending=b}w!==0&&le(h,b,w)}}function Xt(r,s,h,v){pt[mt++]=r,pt[mt++]=s,pt[mt++]=h,pt[mt++]=v,ht|=v,r.lanes|=v,r=r.alternate,r!==null&&(r.lanes|=v)}function pe(r,s,h,v){return Xt(r,s,h,v),fe(r)}function Kt(r,s){return Xt(r,null,null,s),fe(r)}function le(r,s,h){r.lanes|=h;var v=r.alternate;v!==null&&(v.lanes|=h);for(var b=!1,w=r.return;w!==null;)w.childLanes|=h,v=w.alternate,v!==null&&(v.childLanes|=h),w.tag===22&&(r=w.stateNode,r===null||r._visibility&1||(b=!0)),r=w,w=w.return;return r.tag===3?(w=r.stateNode,b&&s!==null&&(b=31-Rt(h),r=w.hiddenUpdates,v=r[b],v===null?r[b]=[s]:v.push(s),s.lane=h|536870912),w):null}function fe(r){if(50<Ml)throw Ml=0,Jf=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var Ft={};function Ht(r,s,h,v){this.tag=r,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ae(r,s,h,v){return new Ht(r,s,h,v)}function de(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ce(r,s){var h=r.alternate;return h===null?(h=ae(r.tag,s,r.key,r.mode),h.elementType=r.elementType,h.type=r.type,h.stateNode=r.stateNode,h.alternate=r,r.alternate=h):(h.pendingProps=s,h.type=r.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=r.flags&65011712,h.childLanes=r.childLanes,h.lanes=r.lanes,h.child=r.child,h.memoizedProps=r.memoizedProps,h.memoizedState=r.memoizedState,h.updateQueue=r.updateQueue,s=r.dependencies,h.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},h.sibling=r.sibling,h.index=r.index,h.ref=r.ref,h.refCleanup=r.refCleanup,h}function Ee(r,s){r.flags&=65011714;var h=r.alternate;return h===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=h.childLanes,r.lanes=h.lanes,r.child=h.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=h.memoizedProps,r.memoizedState=h.memoizedState,r.updateQueue=h.updateQueue,r.type=h.type,s=h.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function kt(r,s,h,v,b,w){var z=0;if(v=r,typeof r=="function")de(r)&&(z=1);else if(typeof r=="string")z=Fy(r,h,bt.current)?26:r==="html"||r==="head"||r==="body"?27:5;else t:switch(r){case M:return r=ae(31,h,s,b),r.elementType=M,r.lanes=w,r;case m:return Ut(h.children,b,w,s);case y:z=8,b|=24;break;case E:return r=ae(12,h,s,b|2),r.elementType=E,r.lanes=w,r;case D:return r=ae(13,h,s,b),r.elementType=D,r.lanes=w,r;case B:return r=ae(19,h,s,b),r.elementType=B,r.lanes=w,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case C:case x:z=10;break t;case T:z=9;break t;case L:z=11;break t;case O:z=14;break t;case _:z=16,v=null;break t}z=29,h=Error(i(130,r===null?"null":typeof r,"")),v=null}return s=ae(z,h,s,b),s.elementType=r,s.type=v,s.lanes=w,s}function Ut(r,s,h,v){return r=ae(7,r,v,s),r.lanes=h,r}function he(r,s,h){return r=ae(6,r,null,s),r.lanes=h,r}function be(r,s,h){return s=ae(4,r.children!==null?r.children:[],r.key,s),s.lanes=h,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var Fe=[],ye=0,ze=null,Ge=0,Ie=[],pn=0,Oe=null,Ye=1,An="";function wn(r,s){Fe[ye++]=Ge,Fe[ye++]=ze,ze=r,Ge=s}function In(r,s,h){Ie[pn++]=Ye,Ie[pn++]=An,Ie[pn++]=Oe,Oe=r;var v=Ye;r=An;var b=32-Rt(v)-1;v&=~(1<<b),h+=1;var w=32-Rt(s)+b;if(30<w){var z=b-b%5;w=(v&(1<<z)-1).toString(32),v>>=z,b-=z,Ye=1<<32-Rt(s)+b|h<<b|v,An=w+r}else Ye=1<<w|h<<b|v,An=r}function $n(r){r.return!==null&&(wn(r,1),In(r,1,0))}function on(r){for(;r===ze;)ze=Fe[--ye],Fe[ye]=null,Ge=Fe[--ye],Fe[ye]=null;for(;r===Oe;)Oe=Ie[--pn],Ie[pn]=null,An=Ie[--pn],Ie[pn]=null,Ye=Ie[--pn],Ie[pn]=null}var cn=null,yn=null,Xe=!1,Be=null,Dn=!1,Br=Error(i(519));function Xr(r){var s=Error(i(418,""));throw On(ft(s,r)),Br}function hs(r){var s=r.stateNode,h=r.type,v=r.memoizedProps;switch(s[rn]=r,s[Tn]=v,h){case"dialog":Wn("cancel",s),Wn("close",s);break;case"iframe":case"object":case"embed":Wn("load",s);break;case"video":case"audio":for(h=0;h<Nl.length;h++)Wn(Nl[h],s);break;case"source":Wn("error",s);break;case"img":case"image":case"link":Wn("error",s),Wn("load",s);break;case"details":Wn("toggle",s);break;case"input":Wn("invalid",s),Us(s,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0),Gr(s);break;case"select":Wn("invalid",s);break;case"textarea":Wn("invalid",s),kr(s,v.value,v.defaultValue,v.children),Gr(s)}h=v.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||s.textContent===""+h||v.suppressHydrationWarning===!0||fp(s.textContent,h)?(v.popover!=null&&(Wn("beforetoggle",s),Wn("toggle",s)),v.onScroll!=null&&Wn("scroll",s),v.onScrollEnd!=null&&Wn("scrollend",s),v.onClick!=null&&(s.onclick=Xu),s=!0):s=!1,s||Xr(r)}function zs(r){for(cn=r.return;cn;)switch(cn.tag){case 5:case 13:Dn=!1;return;case 27:case 3:Dn=!0;return;default:cn=cn.return}}function As(r){if(r!==cn)return!1;if(!Xe)return zs(r),Xe=!0,!1;var s=r.tag,h;if((h=s!==3&&s!==27)&&((h=s===5)&&(h=r.type,h=!(h!=="form"&&h!=="button")||gd(r.type,r.memoizedProps)),h=!h),h&&yn&&Xr(r),zs(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));t:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(h=r.data,h==="/$"){if(s===0){yn=ys(r.nextSibling);break t}s--}else h!=="$"&&h!=="$!"&&h!=="$?"||s++;r=r.nextSibling}yn=null}}else s===27?(s=yn,Da(r.type)?(r=yd,yd=null,yn=r):yn=s):yn=cn?ys(r.stateNode.nextSibling):null;return!0}function Aa(){yn=cn=null,Xe=!1}function Ke(){var r=Be;return r!==null&&(Oi===null?Oi=r:Oi.push.apply(Oi,r),Be=null),r}function On(r){Be===null?Be=[r]:Be.push(r)}var vn=q(null),Zn=null,ar=null;function yi(r,s,h){ot(vn,s._currentValue),s._currentValue=h}function gs(r){r._currentValue=vn.current,et(vn)}function no(r,s,h){for(;r!==null;){var v=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,v!==null&&(v.childLanes|=s)):v!==null&&(v.childLanes&s)!==s&&(v.childLanes|=s),r===h)break;r=r.return}}function Io(r,s,h,v){var b=r.child;for(b!==null&&(b.return=r);b!==null;){var w=b.dependencies;if(w!==null){var z=b.child;w=w.firstContext;t:for(;w!==null;){var J=w;w=b;for(var vt=0;vt<s.length;vt++)if(J.context===s[vt]){w.lanes|=h,J=w.alternate,J!==null&&(J.lanes|=h),no(w.return,h,r),v||(z=null);break t}w=J.next}}else if(b.tag===18){if(z=b.return,z===null)throw Error(i(341));z.lanes|=h,w=z.alternate,w!==null&&(w.lanes|=h),no(z,h,r),z=null}else z=b.child;if(z!==null)z.return=b;else for(z=b;z!==null;){if(z===r){z=null;break}if(b=z.sibling,b!==null){b.return=z.return,z=b;break}z=z.return}b=z}}function ro(r,s,h,v){r=null;for(var b=s,w=!1;b!==null;){if(!w){if((b.flags&524288)!==0)w=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var z=b.alternate;if(z===null)throw Error(i(387));if(z=z.memoizedProps,z!==null){var J=b.type;Li(b.pendingProps.value,z.value)||(r!==null?r.push(J):r=[J])}}else if(b===$t.current){if(z=b.alternate,z===null)throw Error(i(387));z.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(r!==null?r.push(Yl):r=[Yl])}b=b.return}r!==null&&Io(s,r,h,v),s.flags|=262144}function Do(r){for(r=r.firstContext;r!==null;){if(!Li(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Ji(r){Zn=r,ar=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Vr(r){return io(Zn,r)}function ps(r,s){return Zn===null&&Ji(r),io(r,s)}function io(r,s){var h=s._currentValue;if(s={context:s,memoizedValue:h,next:null},ar===null){if(r===null)throw Error(i(308));ar=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else ar=ar.next=s;return h}var Vs=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(h,v){r.push(v)}};this.abort=function(){s.aborted=!0,r.forEach(function(h){return h()})}},ko=g.unstable_scheduleCallback,yu=g.unstable_NormalPriority,Mr={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bo(){return{controller:new Vs,data:new Map,refCount:0}}function so(r){r.refCount--,r.refCount===0&&ko(yu,function(){r.controller.abort()})}var ao=null,oo=0,ga=0,ms=null;function Qv(r,s){if(ao===null){var h=ao=[];oo=0,ga=ad(),ms={status:"pending",value:void 0,then:function(v){h.push(v)}}}return oo++,s.then(Zh,Zh),s}function Zh(){if(--oo===0&&ao!==null){ms!==null&&(ms.status="fulfilled");var r=ao;ao=null,ga=0,ms=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function Hv(r,s){var h=[],v={status:"pending",value:null,reason:null,then:function(b){h.push(b)}};return r.then(function(){v.status="fulfilled",v.value=s;for(var b=0;b<h.length;b++)(0,h[b])(s)},function(b){for(v.status="rejected",v.reason=b,b=0;b<h.length;b++)(0,h[b])(void 0)}),v}var Jh=V.S;V.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&Qv(r,s),Jh!==null&&Jh(r,s)};var lo=q(null);function sf(){var r=lo.current;return r!==null?r:Sr.pooledCache}function Eu(r,s){s===null?ot(lo,lo.current):ot(lo,s.pool)}function tA(){var r=sf();return r===null?null:{parent:Mr._currentValue,pool:r}}var ml=Error(i(460)),eA=Error(i(474)),bu=Error(i(542)),af={then:function(){}};function nA(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Cu(){}function rA(r,s,h){switch(h=r[h],h===void 0?r.push(s):h!==s&&(s.then(Cu,Cu),s=h),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,sA(r),r;default:if(typeof s.status=="string")s.then(Cu,Cu);else{if(r=Sr,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(v){if(s.status==="pending"){var b=s;b.status="fulfilled",b.value=v}},function(v){if(s.status==="pending"){var b=s;b.status="rejected",b.reason=v}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,sA(r),r}throw vl=s,ml}}var vl=null;function iA(){if(vl===null)throw Error(i(459));var r=vl;return vl=null,r}function sA(r){if(r===ml||r===bu)throw Error(i(483))}var pa=!1;function of(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lf(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ma(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function va(r,s,h){var v=r.updateQueue;if(v===null)return null;if(v=v.shared,(ur&2)!==0){var b=v.pending;return b===null?s.next=s:(s.next=b.next,b.next=s),v.pending=s,s=fe(r),le(r,null,h),s}return Xt(r,v,s,h),fe(r)}function yl(r,s,h){if(s=s.updateQueue,s!==null&&(s=s.shared,(h&4194048)!==0)){var v=s.lanes;v&=r.pendingLanes,h|=v,s.lanes=h,ln(r,h)}}function uf(r,s){var h=r.updateQueue,v=r.alternate;if(v!==null&&(v=v.updateQueue,h===v)){var b=null,w=null;if(h=h.firstBaseUpdate,h!==null){do{var z={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};w===null?b=w=z:w=w.next=z,h=h.next}while(h!==null);w===null?b=w=s:w=w.next=s}else b=w=s;h={baseState:v.baseState,firstBaseUpdate:b,lastBaseUpdate:w,shared:v.shared,callbacks:v.callbacks},r.updateQueue=h;return}r=h.lastBaseUpdate,r===null?h.firstBaseUpdate=s:r.next=s,h.lastBaseUpdate=s}var cf=!1;function El(){if(cf){var r=ms;if(r!==null)throw r}}function bl(r,s,h,v){cf=!1;var b=r.updateQueue;pa=!1;var w=b.firstBaseUpdate,z=b.lastBaseUpdate,J=b.shared.pending;if(J!==null){b.shared.pending=null;var vt=J,Mt=vt.next;vt.next=null,z===null?w=Mt:z.next=Mt,z=vt;var Zt=r.alternate;Zt!==null&&(Zt=Zt.updateQueue,J=Zt.lastBaseUpdate,J!==z&&(J===null?Zt.firstBaseUpdate=Mt:J.next=Mt,Zt.lastBaseUpdate=vt))}if(w!==null){var ue=b.baseState;z=0,Zt=Mt=vt=null,J=w;do{var Nt=J.lane&-536870913,Gt=Nt!==J.lane;if(Gt?(Jn&Nt)===Nt:(v&Nt)===Nt){Nt!==0&&Nt===ga&&(cf=!0),Zt!==null&&(Zt=Zt.next={lane:0,tag:J.tag,payload:J.payload,callback:null,next:null});t:{var Ln=r,bn=J;Nt=s;var gr=h;switch(bn.tag){case 1:if(Ln=bn.payload,typeof Ln=="function"){ue=Ln.call(gr,ue,Nt);break t}ue=Ln;break t;case 3:Ln.flags=Ln.flags&-65537|128;case 0:if(Ln=bn.payload,Nt=typeof Ln=="function"?Ln.call(gr,ue,Nt):Ln,Nt==null)break t;ue=u({},ue,Nt);break t;case 2:pa=!0}}Nt=J.callback,Nt!==null&&(r.flags|=64,Gt&&(r.flags|=8192),Gt=b.callbacks,Gt===null?b.callbacks=[Nt]:Gt.push(Nt))}else Gt={lane:Nt,tag:J.tag,payload:J.payload,callback:J.callback,next:null},Zt===null?(Mt=Zt=Gt,vt=ue):Zt=Zt.next=Gt,z|=Nt;if(J=J.next,J===null){if(J=b.shared.pending,J===null)break;Gt=J,J=Gt.next,Gt.next=null,b.lastBaseUpdate=Gt,b.shared.pending=null}}while(!0);Zt===null&&(vt=ue),b.baseState=vt,b.firstBaseUpdate=Mt,b.lastBaseUpdate=Zt,w===null&&(b.shared.lanes=0),wa|=z,r.lanes=z,r.memoizedState=ue}}function aA(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function oA(r,s){var h=r.callbacks;if(h!==null)for(r.callbacks=null,r=0;r<h.length;r++)aA(h[r],s)}var Oo=q(null),Su=q(0);function lA(r,s){r=Zs,ot(Su,r),ot(Oo,s),Zs=r|s.baseLanes}function ff(){ot(Su,Zs),ot(Oo,Oo.current)}function df(){Zs=Su.current,et(Oo),et(Su)}var ya=0,Qn=null,hr=null,jr=null,Tu=!1,_o=!1,uo=!1,xu=0,Cl=0,Mo=null,Yv=0;function Qr(){throw Error(i(321))}function hf(r,s){if(s===null)return!1;for(var h=0;h<s.length&&h<r.length;h++)if(!Li(r[h],s[h]))return!1;return!0}function Af(r,s,h,v,b,w){return ya=w,Qn=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,V.H=r===null||r.memoizedState===null?VA:jA,uo=!1,w=h(v,b),uo=!1,_o&&(w=cA(s,h,v,b)),uA(r),w}function uA(r){V.H=ku;var s=hr!==null&&hr.next!==null;if(ya=0,jr=hr=Qn=null,Tu=!1,Cl=0,Mo=null,s)throw Error(i(300));r===null||ni||(r=r.dependencies,r!==null&&Do(r)&&(ni=!0))}function cA(r,s,h,v){Qn=r;var b=0;do{if(_o&&(Mo=null),Cl=0,_o=!1,25<=b)throw Error(i(301));if(b+=1,jr=hr=null,r.updateQueue!=null){var w=r.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}V.H=qv,w=s(h,v)}while(_o);return w}function zv(){var r=V.H,s=r.useState()[0];return s=typeof s.then=="function"?Sl(s):s,r=r.useState()[0],(hr!==null?hr.memoizedState:null)!==r&&(Qn.flags|=1024),s}function gf(){var r=xu!==0;return xu=0,r}function pf(r,s,h){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~h}function mf(r){if(Tu){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Tu=!1}ya=0,jr=hr=Qn=null,_o=!1,Cl=xu=0,Mo=null}function ki(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jr===null?Qn.memoizedState=jr=r:jr=jr.next=r,jr}function $r(){if(hr===null){var r=Qn.alternate;r=r!==null?r.memoizedState:null}else r=hr.next;var s=jr===null?Qn.memoizedState:jr.next;if(s!==null)jr=s,hr=r;else{if(r===null)throw Qn.alternate===null?Error(i(467)):Error(i(310));hr=r,r={memoizedState:hr.memoizedState,baseState:hr.baseState,baseQueue:hr.baseQueue,queue:hr.queue,next:null},jr===null?Qn.memoizedState=jr=r:jr=jr.next=r}return jr}function vf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Sl(r){var s=Cl;return Cl+=1,Mo===null&&(Mo=[]),r=rA(Mo,r,s),s=Qn,(jr===null?s.memoizedState:jr.next)===null&&(s=s.alternate,V.H=s===null||s.memoizedState===null?VA:jA),r}function wu(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Sl(r);if(r.$$typeof===x)return Vr(r)}throw Error(i(438,String(r)))}function yf(r){var s=null,h=Qn.updateQueue;if(h!==null&&(s=h.memoCache),s==null){var v=Qn.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(s={data:v.data.map(function(b){return b.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),h===null&&(h=vf(),Qn.updateQueue=h),h.memoCache=s,h=s.data[s.index],h===void 0)for(h=s.data[s.index]=Array(r),v=0;v<r;v++)h[v]=U;return s.index++,h}function js(r,s){return typeof s=="function"?s(r):s}function Lu(r){var s=$r();return Ef(s,hr,r)}function Ef(r,s,h){var v=r.queue;if(v===null)throw Error(i(311));v.lastRenderedReducer=h;var b=r.baseQueue,w=v.pending;if(w!==null){if(b!==null){var z=b.next;b.next=w.next,w.next=z}s.baseQueue=b=w,v.pending=null}if(w=r.baseState,b===null)r.memoizedState=w;else{s=b.next;var J=z=null,vt=null,Mt=s,Zt=!1;do{var ue=Mt.lane&-536870913;if(ue!==Mt.lane?(Jn&ue)===ue:(ya&ue)===ue){var Nt=Mt.revertLane;if(Nt===0)vt!==null&&(vt=vt.next={lane:0,revertLane:0,action:Mt.action,hasEagerState:Mt.hasEagerState,eagerState:Mt.eagerState,next:null}),ue===ga&&(Zt=!0);else if((ya&Nt)===Nt){Mt=Mt.next,Nt===ga&&(Zt=!0);continue}else ue={lane:0,revertLane:Mt.revertLane,action:Mt.action,hasEagerState:Mt.hasEagerState,eagerState:Mt.eagerState,next:null},vt===null?(J=vt=ue,z=w):vt=vt.next=ue,Qn.lanes|=Nt,wa|=Nt;ue=Mt.action,uo&&h(w,ue),w=Mt.hasEagerState?Mt.eagerState:h(w,ue)}else Nt={lane:ue,revertLane:Mt.revertLane,action:Mt.action,hasEagerState:Mt.hasEagerState,eagerState:Mt.eagerState,next:null},vt===null?(J=vt=Nt,z=w):vt=vt.next=Nt,Qn.lanes|=ue,wa|=ue;Mt=Mt.next}while(Mt!==null&&Mt!==s);if(vt===null?z=w:vt.next=J,!Li(w,r.memoizedState)&&(ni=!0,Zt&&(h=ms,h!==null)))throw h;r.memoizedState=w,r.baseState=z,r.baseQueue=vt,v.lastRenderedState=w}return b===null&&(v.lanes=0),[r.memoizedState,v.dispatch]}function bf(r){var s=$r(),h=s.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=r;var v=h.dispatch,b=h.pending,w=s.memoizedState;if(b!==null){h.pending=null;var z=b=b.next;do w=r(w,z.action),z=z.next;while(z!==b);Li(w,s.memoizedState)||(ni=!0),s.memoizedState=w,s.baseQueue===null&&(s.baseState=w),h.lastRenderedState=w}return[w,v]}function fA(r,s,h){var v=Qn,b=$r(),w=Xe;if(w){if(h===void 0)throw Error(i(407));h=h()}else h=s();var z=!Li((hr||b).memoizedState,h);z&&(b.memoizedState=h,ni=!0),b=b.queue;var J=AA.bind(null,v,b,r);if(Tl(2048,8,J,[r]),b.getSnapshot!==s||z||jr!==null&&jr.memoizedState.tag&1){if(v.flags|=2048,Po(9,Ru(),hA.bind(null,v,b,h,s),null),Sr===null)throw Error(i(349));w||(ya&124)!==0||dA(v,s,h)}return h}function dA(r,s,h){r.flags|=16384,r={getSnapshot:s,value:h},s=Qn.updateQueue,s===null?(s=vf(),Qn.updateQueue=s,s.stores=[r]):(h=s.stores,h===null?s.stores=[r]:h.push(r))}function hA(r,s,h,v){s.value=h,s.getSnapshot=v,gA(s)&&pA(r)}function AA(r,s,h){return h(function(){gA(s)&&pA(r)})}function gA(r){var s=r.getSnapshot;r=r.value;try{var h=s();return!Li(r,h)}catch{return!0}}function pA(r){var s=Kt(r,2);s!==null&&ji(s,r,2)}function Cf(r){var s=ki();if(typeof r=="function"){var h=r;if(r=h(),uo){De(!0);try{h()}finally{De(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:js,lastRenderedState:r},s}function mA(r,s,h,v){return r.baseState=h,Ef(r,hr,typeof v=="function"?v:js)}function Vv(r,s,h,v,b){if(Du(r))throw Error(i(485));if(r=s.action,r!==null){var w={payload:b,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(z){w.listeners.push(z)}};V.T!==null?h(!0):w.isTransition=!1,v(w),h=s.pending,h===null?(w.next=s.pending=w,vA(s,w)):(w.next=h.next,s.pending=h.next=w)}}function vA(r,s){var h=s.action,v=s.payload,b=r.state;if(s.isTransition){var w=V.T,z={};V.T=z;try{var J=h(b,v),vt=V.S;vt!==null&&vt(z,J),yA(r,s,J)}catch(Mt){Sf(r,s,Mt)}finally{V.T=w}}else try{w=h(b,v),yA(r,s,w)}catch(Mt){Sf(r,s,Mt)}}function yA(r,s,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(v){EA(r,s,v)},function(v){return Sf(r,s,v)}):EA(r,s,h)}function EA(r,s,h){s.status="fulfilled",s.value=h,bA(s),r.state=h,s=r.pending,s!==null&&(h=s.next,h===s?r.pending=null:(h=h.next,s.next=h,vA(r,h)))}function Sf(r,s,h){var v=r.pending;if(r.pending=null,v!==null){v=v.next;do s.status="rejected",s.reason=h,bA(s),s=s.next;while(s!==v)}r.action=null}function bA(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function CA(r,s){return s}function SA(r,s){if(Xe){var h=Sr.formState;if(h!==null){t:{var v=Qn;if(Xe){if(yn){e:{for(var b=yn,w=Dn;b.nodeType!==8;){if(!w){b=null;break e}if(b=ys(b.nextSibling),b===null){b=null;break e}}w=b.data,b=w==="F!"||w==="F"?b:null}if(b){yn=ys(b.nextSibling),v=b.data==="F!";break t}}Xr(v)}v=!1}v&&(s=h[0])}}return h=ki(),h.memoizedState=h.baseState=s,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:CA,lastRenderedState:s},h.queue=v,h=HA.bind(null,Qn,v),v.dispatch=h,v=Cf(!1),w=Rf.bind(null,Qn,!1,v.queue),v=ki(),b={state:s,dispatch:null,action:r,pending:null},v.queue=b,h=Vv.bind(null,Qn,b,w,h),b.dispatch=h,v.memoizedState=r,[s,h,!1]}function TA(r){var s=$r();return xA(s,hr,r)}function xA(r,s,h){if(s=Ef(r,s,CA)[0],r=Lu(js)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var v=Sl(s)}catch(z){throw z===ml?bu:z}else v=s;s=$r();var b=s.queue,w=b.dispatch;return h!==s.memoizedState&&(Qn.flags|=2048,Po(9,Ru(),jv.bind(null,b,h),null)),[v,w,r]}function jv(r,s){r.action=s}function wA(r){var s=$r(),h=hr;if(h!==null)return xA(s,h,r);$r(),s=s.memoizedState,h=$r();var v=h.queue.dispatch;return h.memoizedState=r,[s,v,!1]}function Po(r,s,h,v){return r={tag:r,create:h,deps:v,inst:s,next:null},s=Qn.updateQueue,s===null&&(s=vf(),Qn.updateQueue=s),h=s.lastEffect,h===null?s.lastEffect=r.next=r:(v=h.next,h.next=r,r.next=v,s.lastEffect=r),r}function Ru(){return{destroy:void 0,resource:void 0}}function LA(){return $r().memoizedState}function Iu(r,s,h,v){var b=ki();v=v===void 0?null:v,Qn.flags|=r,b.memoizedState=Po(1|s,Ru(),h,v)}function Tl(r,s,h,v){var b=$r();v=v===void 0?null:v;var w=b.memoizedState.inst;hr!==null&&v!==null&&hf(v,hr.memoizedState.deps)?b.memoizedState=Po(s,w,h,v):(Qn.flags|=r,b.memoizedState=Po(1|s,w,h,v))}function RA(r,s){Iu(8390656,8,r,s)}function IA(r,s){Tl(2048,8,r,s)}function DA(r,s){return Tl(4,2,r,s)}function kA(r,s){return Tl(4,4,r,s)}function BA(r,s){if(typeof s=="function"){r=r();var h=s(r);return function(){typeof h=="function"?h():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function OA(r,s,h){h=h!=null?h.concat([r]):null,Tl(4,4,BA.bind(null,s,r),h)}function Tf(){}function _A(r,s){var h=$r();s=s===void 0?null:s;var v=h.memoizedState;return s!==null&&hf(s,v[1])?v[0]:(h.memoizedState=[r,s],r)}function MA(r,s){var h=$r();s=s===void 0?null:s;var v=h.memoizedState;if(s!==null&&hf(s,v[1]))return v[0];if(v=r(),uo){De(!0);try{r()}finally{De(!1)}}return h.memoizedState=[v,s],v}function xf(r,s,h){return h===void 0||(ya&1073741824)!==0?r.memoizedState=s:(r.memoizedState=h,r=Ug(),Qn.lanes|=r,wa|=r,h)}function PA(r,s,h,v){return Li(h,s)?h:Oo.current!==null?(r=xf(r,h,v),Li(r,s)||(ni=!0),r):(ya&42)===0?(ni=!0,r.memoizedState=h):(r=Ug(),Qn.lanes|=r,wa|=r,s)}function NA(r,s,h,v,b){var w=N.p;N.p=w!==0&&8>w?w:8;var z=V.T,J={};V.T=J,Rf(r,!1,s,h);try{var vt=b(),Mt=V.S;if(Mt!==null&&Mt(J,vt),vt!==null&&typeof vt=="object"&&typeof vt.then=="function"){var Zt=Hv(vt,v);xl(r,s,Zt,Vi(r))}else xl(r,s,v,Vi(r))}catch(ue){xl(r,s,{then:function(){},status:"rejected",reason:ue},Vi())}finally{N.p=w,V.T=z}}function $v(){}function wf(r,s,h,v){if(r.tag!==5)throw Error(i(476));var b=UA(r).queue;NA(r,b,s,K,h===null?$v:function(){return FA(r),h(v)})}function UA(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:js,lastRenderedState:K},next:null};var h={};return s.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:js,lastRenderedState:h},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function FA(r){var s=UA(r).next.queue;xl(r,s,{},Vi())}function Lf(){return Vr(Yl)}function GA(){return $r().memoizedState}function QA(){return $r().memoizedState}function Kv(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var h=Vi();r=ma(h);var v=va(s,r,h);v!==null&&(ji(v,s,h),yl(v,s,h)),s={cache:Bo()},r.payload=s;return}s=s.return}}function Wv(r,s,h){var v=Vi();h={lane:v,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null},Du(r)?YA(s,h):(h=pe(r,s,h,v),h!==null&&(ji(h,r,v),zA(h,s,v)))}function HA(r,s,h){var v=Vi();xl(r,s,h,v)}function xl(r,s,h,v){var b={lane:v,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null};if(Du(r))YA(s,b);else{var w=r.alternate;if(r.lanes===0&&(w===null||w.lanes===0)&&(w=s.lastRenderedReducer,w!==null))try{var z=s.lastRenderedState,J=w(z,h);if(b.hasEagerState=!0,b.eagerState=J,Li(J,z))return Xt(r,s,b,0),Sr===null&&Pt(),!1}catch{}finally{}if(h=pe(r,s,b,v),h!==null)return ji(h,r,v),zA(h,s,v),!0}return!1}function Rf(r,s,h,v){if(v={lane:2,revertLane:ad(),action:v,hasEagerState:!1,eagerState:null,next:null},Du(r)){if(s)throw Error(i(479))}else s=pe(r,h,v,2),s!==null&&ji(s,r,2)}function Du(r){var s=r.alternate;return r===Qn||s!==null&&s===Qn}function YA(r,s){_o=Tu=!0;var h=r.pending;h===null?s.next=s:(s.next=h.next,h.next=s),r.pending=s}function zA(r,s,h){if((h&4194048)!==0){var v=s.lanes;v&=r.pendingLanes,h|=v,s.lanes=h,ln(r,h)}}var ku={readContext:Vr,use:wu,useCallback:Qr,useContext:Qr,useEffect:Qr,useImperativeHandle:Qr,useLayoutEffect:Qr,useInsertionEffect:Qr,useMemo:Qr,useReducer:Qr,useRef:Qr,useState:Qr,useDebugValue:Qr,useDeferredValue:Qr,useTransition:Qr,useSyncExternalStore:Qr,useId:Qr,useHostTransitionStatus:Qr,useFormState:Qr,useActionState:Qr,useOptimistic:Qr,useMemoCache:Qr,useCacheRefresh:Qr},VA={readContext:Vr,use:wu,useCallback:function(r,s){return ki().memoizedState=[r,s===void 0?null:s],r},useContext:Vr,useEffect:RA,useImperativeHandle:function(r,s,h){h=h!=null?h.concat([r]):null,Iu(4194308,4,BA.bind(null,s,r),h)},useLayoutEffect:function(r,s){return Iu(4194308,4,r,s)},useInsertionEffect:function(r,s){Iu(4,2,r,s)},useMemo:function(r,s){var h=ki();s=s===void 0?null:s;var v=r();if(uo){De(!0);try{r()}finally{De(!1)}}return h.memoizedState=[v,s],v},useReducer:function(r,s,h){var v=ki();if(h!==void 0){var b=h(s);if(uo){De(!0);try{h(s)}finally{De(!1)}}}else b=s;return v.memoizedState=v.baseState=b,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:b},v.queue=r,r=r.dispatch=Wv.bind(null,Qn,r),[v.memoizedState,r]},useRef:function(r){var s=ki();return r={current:r},s.memoizedState=r},useState:function(r){r=Cf(r);var s=r.queue,h=HA.bind(null,Qn,s);return s.dispatch=h,[r.memoizedState,h]},useDebugValue:Tf,useDeferredValue:function(r,s){var h=ki();return xf(h,r,s)},useTransition:function(){var r=Cf(!1);return r=NA.bind(null,Qn,r.queue,!0,!1),ki().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,h){var v=Qn,b=ki();if(Xe){if(h===void 0)throw Error(i(407));h=h()}else{if(h=s(),Sr===null)throw Error(i(349));(Jn&124)!==0||dA(v,s,h)}b.memoizedState=h;var w={value:h,getSnapshot:s};return b.queue=w,RA(AA.bind(null,v,w,r),[r]),v.flags|=2048,Po(9,Ru(),hA.bind(null,v,w,h,s),null),h},useId:function(){var r=ki(),s=Sr.identifierPrefix;if(Xe){var h=An,v=Ye;h=(v&~(1<<32-Rt(v)-1)).toString(32)+h,s="«"+s+"R"+h,h=xu++,0<h&&(s+="H"+h.toString(32)),s+="»"}else h=Yv++,s="«"+s+"r"+h.toString(32)+"»";return r.memoizedState=s},useHostTransitionStatus:Lf,useFormState:SA,useActionState:SA,useOptimistic:function(r){var s=ki();s.memoizedState=s.baseState=r;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=h,s=Rf.bind(null,Qn,!0,h),h.dispatch=s,[r,s]},useMemoCache:yf,useCacheRefresh:function(){return ki().memoizedState=Kv.bind(null,Qn)}},jA={readContext:Vr,use:wu,useCallback:_A,useContext:Vr,useEffect:IA,useImperativeHandle:OA,useInsertionEffect:DA,useLayoutEffect:kA,useMemo:MA,useReducer:Lu,useRef:LA,useState:function(){return Lu(js)},useDebugValue:Tf,useDeferredValue:function(r,s){var h=$r();return PA(h,hr.memoizedState,r,s)},useTransition:function(){var r=Lu(js)[0],s=$r().memoizedState;return[typeof r=="boolean"?r:Sl(r),s]},useSyncExternalStore:fA,useId:GA,useHostTransitionStatus:Lf,useFormState:TA,useActionState:TA,useOptimistic:function(r,s){var h=$r();return mA(h,hr,r,s)},useMemoCache:yf,useCacheRefresh:QA},qv={readContext:Vr,use:wu,useCallback:_A,useContext:Vr,useEffect:IA,useImperativeHandle:OA,useInsertionEffect:DA,useLayoutEffect:kA,useMemo:MA,useReducer:bf,useRef:LA,useState:function(){return bf(js)},useDebugValue:Tf,useDeferredValue:function(r,s){var h=$r();return hr===null?xf(h,r,s):PA(h,hr.memoizedState,r,s)},useTransition:function(){var r=bf(js)[0],s=$r().memoizedState;return[typeof r=="boolean"?r:Sl(r),s]},useSyncExternalStore:fA,useId:GA,useHostTransitionStatus:Lf,useFormState:wA,useActionState:wA,useOptimistic:function(r,s){var h=$r();return hr!==null?mA(h,hr,r,s):(h.baseState=r,[r,h.queue.dispatch])},useMemoCache:yf,useCacheRefresh:QA},No=null,wl=0;function Bu(r){var s=wl;return wl+=1,No===null&&(No=[]),rA(No,r,s)}function Ll(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function Ou(r,s){throw s.$$typeof===f?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function $A(r){var s=r._init;return s(r._payload)}function KA(r){function s(Lt,xt){if(r){var _t=Lt.deletions;_t===null?(Lt.deletions=[xt],Lt.flags|=16):_t.push(xt)}}function h(Lt,xt){if(!r)return null;for(;xt!==null;)s(Lt,xt),xt=xt.sibling;return null}function v(Lt){for(var xt=new Map;Lt!==null;)Lt.key!==null?xt.set(Lt.key,Lt):xt.set(Lt.index,Lt),Lt=Lt.sibling;return xt}function b(Lt,xt){return Lt=Ce(Lt,xt),Lt.index=0,Lt.sibling=null,Lt}function w(Lt,xt,_t){return Lt.index=_t,r?(_t=Lt.alternate,_t!==null?(_t=_t.index,_t<xt?(Lt.flags|=67108866,xt):_t):(Lt.flags|=67108866,xt)):(Lt.flags|=1048576,xt)}function z(Lt){return r&&Lt.alternate===null&&(Lt.flags|=67108866),Lt}function J(Lt,xt,_t,ne){return xt===null||xt.tag!==6?(xt=he(_t,Lt.mode,ne),xt.return=Lt,xt):(xt=b(xt,_t),xt.return=Lt,xt)}function vt(Lt,xt,_t,ne){var Je=_t.type;return Je===m?Zt(Lt,xt,_t.props.children,ne,_t.key):xt!==null&&(xt.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===_&&$A(Je)===xt.type)?(xt=b(xt,_t.props),Ll(xt,_t),xt.return=Lt,xt):(xt=kt(_t.type,_t.key,_t.props,null,Lt.mode,ne),Ll(xt,_t),xt.return=Lt,xt)}function Mt(Lt,xt,_t,ne){return xt===null||xt.tag!==4||xt.stateNode.containerInfo!==_t.containerInfo||xt.stateNode.implementation!==_t.implementation?(xt=be(_t,Lt.mode,ne),xt.return=Lt,xt):(xt=b(xt,_t.children||[]),xt.return=Lt,xt)}function Zt(Lt,xt,_t,ne,Je){return xt===null||xt.tag!==7?(xt=Ut(_t,Lt.mode,ne,Je),xt.return=Lt,xt):(xt=b(xt,_t),xt.return=Lt,xt)}function ue(Lt,xt,_t){if(typeof xt=="string"&&xt!==""||typeof xt=="number"||typeof xt=="bigint")return xt=he(""+xt,Lt.mode,_t),xt.return=Lt,xt;if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case A:return _t=kt(xt.type,xt.key,xt.props,null,Lt.mode,_t),Ll(_t,xt),_t.return=Lt,_t;case p:return xt=be(xt,Lt.mode,_t),xt.return=Lt,xt;case _:var ne=xt._init;return xt=ne(xt._payload),ue(Lt,xt,_t)}if(tt(xt)||$(xt))return xt=Ut(xt,Lt.mode,_t,null),xt.return=Lt,xt;if(typeof xt.then=="function")return ue(Lt,Bu(xt),_t);if(xt.$$typeof===x)return ue(Lt,ps(Lt,xt),_t);Ou(Lt,xt)}return null}function Nt(Lt,xt,_t,ne){var Je=xt!==null?xt.key:null;if(typeof _t=="string"&&_t!==""||typeof _t=="number"||typeof _t=="bigint")return Je!==null?null:J(Lt,xt,""+_t,ne);if(typeof _t=="object"&&_t!==null){switch(_t.$$typeof){case A:return _t.key===Je?vt(Lt,xt,_t,ne):null;case p:return _t.key===Je?Mt(Lt,xt,_t,ne):null;case _:return Je=_t._init,_t=Je(_t._payload),Nt(Lt,xt,_t,ne)}if(tt(_t)||$(_t))return Je!==null?null:Zt(Lt,xt,_t,ne,null);if(typeof _t.then=="function")return Nt(Lt,xt,Bu(_t),ne);if(_t.$$typeof===x)return Nt(Lt,xt,ps(Lt,_t),ne);Ou(Lt,_t)}return null}function Gt(Lt,xt,_t,ne,Je){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return Lt=Lt.get(_t)||null,J(xt,Lt,""+ne,Je);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case A:return Lt=Lt.get(ne.key===null?_t:ne.key)||null,vt(xt,Lt,ne,Je);case p:return Lt=Lt.get(ne.key===null?_t:ne.key)||null,Mt(xt,Lt,ne,Je);case _:var Vn=ne._init;return ne=Vn(ne._payload),Gt(Lt,xt,_t,ne,Je)}if(tt(ne)||$(ne))return Lt=Lt.get(_t)||null,Zt(xt,Lt,ne,Je,null);if(typeof ne.then=="function")return Gt(Lt,xt,_t,Bu(ne),Je);if(ne.$$typeof===x)return Gt(Lt,xt,_t,ps(xt,ne),Je);Ou(xt,ne)}return null}function Ln(Lt,xt,_t,ne){for(var Je=null,Vn=null,fn=xt,Sn=xt=0,ii=null;fn!==null&&Sn<_t.length;Sn++){fn.index>Sn?(ii=fn,fn=null):ii=fn.sibling;var rr=Nt(Lt,fn,_t[Sn],ne);if(rr===null){fn===null&&(fn=ii);break}r&&fn&&rr.alternate===null&&s(Lt,fn),xt=w(rr,xt,Sn),Vn===null?Je=rr:Vn.sibling=rr,Vn=rr,fn=ii}if(Sn===_t.length)return h(Lt,fn),Xe&&wn(Lt,Sn),Je;if(fn===null){for(;Sn<_t.length;Sn++)fn=ue(Lt,_t[Sn],ne),fn!==null&&(xt=w(fn,xt,Sn),Vn===null?Je=fn:Vn.sibling=fn,Vn=fn);return Xe&&wn(Lt,Sn),Je}for(fn=v(fn);Sn<_t.length;Sn++)ii=Gt(fn,Lt,Sn,_t[Sn],ne),ii!==null&&(r&&ii.alternate!==null&&fn.delete(ii.key===null?Sn:ii.key),xt=w(ii,xt,Sn),Vn===null?Je=ii:Vn.sibling=ii,Vn=ii);return r&&fn.forEach(function(Ma){return s(Lt,Ma)}),Xe&&wn(Lt,Sn),Je}function bn(Lt,xt,_t,ne){if(_t==null)throw Error(i(151));for(var Je=null,Vn=null,fn=xt,Sn=xt=0,ii=null,rr=_t.next();fn!==null&&!rr.done;Sn++,rr=_t.next()){fn.index>Sn?(ii=fn,fn=null):ii=fn.sibling;var Ma=Nt(Lt,fn,rr.value,ne);if(Ma===null){fn===null&&(fn=ii);break}r&&fn&&Ma.alternate===null&&s(Lt,fn),xt=w(Ma,xt,Sn),Vn===null?Je=Ma:Vn.sibling=Ma,Vn=Ma,fn=ii}if(rr.done)return h(Lt,fn),Xe&&wn(Lt,Sn),Je;if(fn===null){for(;!rr.done;Sn++,rr=_t.next())rr=ue(Lt,rr.value,ne),rr!==null&&(xt=w(rr,xt,Sn),Vn===null?Je=rr:Vn.sibling=rr,Vn=rr);return Xe&&wn(Lt,Sn),Je}for(fn=v(fn);!rr.done;Sn++,rr=_t.next())rr=Gt(fn,Lt,Sn,rr.value,ne),rr!==null&&(r&&rr.alternate!==null&&fn.delete(rr.key===null?Sn:rr.key),xt=w(rr,xt,Sn),Vn===null?Je=rr:Vn.sibling=rr,Vn=rr);return r&&fn.forEach(function(Xy){return s(Lt,Xy)}),Xe&&wn(Lt,Sn),Je}function gr(Lt,xt,_t,ne){if(typeof _t=="object"&&_t!==null&&_t.type===m&&_t.key===null&&(_t=_t.props.children),typeof _t=="object"&&_t!==null){switch(_t.$$typeof){case A:t:{for(var Je=_t.key;xt!==null;){if(xt.key===Je){if(Je=_t.type,Je===m){if(xt.tag===7){h(Lt,xt.sibling),ne=b(xt,_t.props.children),ne.return=Lt,Lt=ne;break t}}else if(xt.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===_&&$A(Je)===xt.type){h(Lt,xt.sibling),ne=b(xt,_t.props),Ll(ne,_t),ne.return=Lt,Lt=ne;break t}h(Lt,xt);break}else s(Lt,xt);xt=xt.sibling}_t.type===m?(ne=Ut(_t.props.children,Lt.mode,ne,_t.key),ne.return=Lt,Lt=ne):(ne=kt(_t.type,_t.key,_t.props,null,Lt.mode,ne),Ll(ne,_t),ne.return=Lt,Lt=ne)}return z(Lt);case p:t:{for(Je=_t.key;xt!==null;){if(xt.key===Je)if(xt.tag===4&&xt.stateNode.containerInfo===_t.containerInfo&&xt.stateNode.implementation===_t.implementation){h(Lt,xt.sibling),ne=b(xt,_t.children||[]),ne.return=Lt,Lt=ne;break t}else{h(Lt,xt);break}else s(Lt,xt);xt=xt.sibling}ne=be(_t,Lt.mode,ne),ne.return=Lt,Lt=ne}return z(Lt);case _:return Je=_t._init,_t=Je(_t._payload),gr(Lt,xt,_t,ne)}if(tt(_t))return Ln(Lt,xt,_t,ne);if($(_t)){if(Je=$(_t),typeof Je!="function")throw Error(i(150));return _t=Je.call(_t),bn(Lt,xt,_t,ne)}if(typeof _t.then=="function")return gr(Lt,xt,Bu(_t),ne);if(_t.$$typeof===x)return gr(Lt,xt,ps(Lt,_t),ne);Ou(Lt,_t)}return typeof _t=="string"&&_t!==""||typeof _t=="number"||typeof _t=="bigint"?(_t=""+_t,xt!==null&&xt.tag===6?(h(Lt,xt.sibling),ne=b(xt,_t),ne.return=Lt,Lt=ne):(h(Lt,xt),ne=he(_t,Lt.mode,ne),ne.return=Lt,Lt=ne),z(Lt)):h(Lt,xt)}return function(Lt,xt,_t,ne){try{wl=0;var Je=gr(Lt,xt,_t,ne);return No=null,Je}catch(fn){if(fn===ml||fn===bu)throw fn;var Vn=ae(29,fn,null,Lt.mode);return Vn.lanes=ne,Vn.return=Lt,Vn}finally{}}}var Uo=KA(!0),WA=KA(!1),ts=q(null),ws=null;function Ea(r){var s=r.alternate;ot(Zr,Zr.current&1),ot(ts,r),ws===null&&(s===null||Oo.current!==null||s.memoizedState!==null)&&(ws=r)}function qA(r){if(r.tag===22){if(ot(Zr,Zr.current),ot(ts,r),ws===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(ws=r)}}else ba()}function ba(){ot(Zr,Zr.current),ot(ts,ts.current)}function $s(r){et(ts),ws===r&&(ws=null),et(Zr)}var Zr=q(0);function _u(r){for(var s=r;s!==null;){if(s.tag===13){var h=s.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||vd(h)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function If(r,s,h,v){s=r.memoizedState,h=h(v,s),h=h==null?s:u({},s,h),r.memoizedState=h,r.lanes===0&&(r.updateQueue.baseState=h)}var Df={enqueueSetState:function(r,s,h){r=r._reactInternals;var v=Vi(),b=ma(v);b.payload=s,h!=null&&(b.callback=h),s=va(r,b,v),s!==null&&(ji(s,r,v),yl(s,r,v))},enqueueReplaceState:function(r,s,h){r=r._reactInternals;var v=Vi(),b=ma(v);b.tag=1,b.payload=s,h!=null&&(b.callback=h),s=va(r,b,v),s!==null&&(ji(s,r,v),yl(s,r,v))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var h=Vi(),v=ma(h);v.tag=2,s!=null&&(v.callback=s),s=va(r,v,h),s!==null&&(ji(s,r,h),yl(s,r,h))}};function XA(r,s,h,v,b,w,z){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(v,w,z):s.prototype&&s.prototype.isPureReactComponent?!to(h,v)||!to(b,w):!0}function ZA(r,s,h,v){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(h,v),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(h,v),s.state!==r&&Df.enqueueReplaceState(s,s.state,null)}function co(r,s){var h=s;if("ref"in s){h={};for(var v in s)v!=="ref"&&(h[v]=s[v])}if(r=r.defaultProps){h===s&&(h=u({},h));for(var b in r)h[b]===void 0&&(h[b]=r[b])}return h}var Mu=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function JA(r){Mu(r)}function tg(r){console.error(r)}function eg(r){Mu(r)}function Pu(r,s){try{var h=r.onUncaughtError;h(s.value,{componentStack:s.stack})}catch(v){setTimeout(function(){throw v})}}function ng(r,s,h){try{var v=r.onCaughtError;v(h.value,{componentStack:h.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function kf(r,s,h){return h=ma(h),h.tag=3,h.payload={element:null},h.callback=function(){Pu(r,s)},h}function rg(r){return r=ma(r),r.tag=3,r}function ig(r,s,h,v){var b=h.type.getDerivedStateFromError;if(typeof b=="function"){var w=v.value;r.payload=function(){return b(w)},r.callback=function(){ng(s,h,v)}}var z=h.stateNode;z!==null&&typeof z.componentDidCatch=="function"&&(r.callback=function(){ng(s,h,v),typeof b!="function"&&(La===null?La=new Set([this]):La.add(this));var J=v.stack;this.componentDidCatch(v.value,{componentStack:J!==null?J:""})})}function Xv(r,s,h,v,b){if(h.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(s=h.alternate,s!==null&&ro(s,h,b,!0),h=ts.current,h!==null){switch(h.tag){case 13:return ws===null?ed():h.alternate===null&&Pr===0&&(Pr=3),h.flags&=-257,h.flags|=65536,h.lanes=b,v===af?h.flags|=16384:(s=h.updateQueue,s===null?h.updateQueue=new Set([v]):s.add(v),rd(r,v,b)),!1;case 22:return h.flags|=65536,v===af?h.flags|=16384:(s=h.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([v])},h.updateQueue=s):(h=s.retryQueue,h===null?s.retryQueue=new Set([v]):h.add(v)),rd(r,v,b)),!1}throw Error(i(435,h.tag))}return rd(r,v,b),ed(),!1}if(Xe)return s=ts.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=b,v!==Br&&(r=Error(i(422),{cause:v}),On(ft(r,h)))):(v!==Br&&(s=Error(i(423),{cause:v}),On(ft(s,h))),r=r.current.alternate,r.flags|=65536,b&=-b,r.lanes|=b,v=ft(v,h),b=kf(r.stateNode,v,b),uf(r,b),Pr!==4&&(Pr=2)),!1;var w=Error(i(520),{cause:v});if(w=ft(w,h),_l===null?_l=[w]:_l.push(w),Pr!==4&&(Pr=2),s===null)return!0;v=ft(v,h),h=s;do{switch(h.tag){case 3:return h.flags|=65536,r=b&-b,h.lanes|=r,r=kf(h.stateNode,v,r),uf(h,r),!1;case 1:if(s=h.type,w=h.stateNode,(h.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(La===null||!La.has(w))))return h.flags|=65536,b&=-b,h.lanes|=b,b=rg(b),ig(b,r,h,v),uf(h,b),!1}h=h.return}while(h!==null);return!1}var sg=Error(i(461)),ni=!1;function ui(r,s,h,v){s.child=r===null?WA(s,null,h,v):Uo(s,r.child,h,v)}function ag(r,s,h,v,b){h=h.render;var w=s.ref;if("ref"in v){var z={};for(var J in v)J!=="ref"&&(z[J]=v[J])}else z=v;return Ji(s),v=Af(r,s,h,z,w,b),J=gf(),r!==null&&!ni?(pf(r,s,b),Ks(r,s,b)):(Xe&&J&&$n(s),s.flags|=1,ui(r,s,v,b),s.child)}function og(r,s,h,v,b){if(r===null){var w=h.type;return typeof w=="function"&&!de(w)&&w.defaultProps===void 0&&h.compare===null?(s.tag=15,s.type=w,lg(r,s,w,v,b)):(r=kt(h.type,null,v,s,s.mode,b),r.ref=s.ref,r.return=s,s.child=r)}if(w=r.child,!Ff(r,b)){var z=w.memoizedProps;if(h=h.compare,h=h!==null?h:to,h(z,v)&&r.ref===s.ref)return Ks(r,s,b)}return s.flags|=1,r=Ce(w,v),r.ref=s.ref,r.return=s,s.child=r}function lg(r,s,h,v,b){if(r!==null){var w=r.memoizedProps;if(to(w,v)&&r.ref===s.ref)if(ni=!1,s.pendingProps=v=w,Ff(r,b))(r.flags&131072)!==0&&(ni=!0);else return s.lanes=r.lanes,Ks(r,s,b)}return Bf(r,s,h,v,b)}function ug(r,s,h){var v=s.pendingProps,b=v.children,w=r!==null?r.memoizedState:null;if(v.mode==="hidden"){if((s.flags&128)!==0){if(v=w!==null?w.baseLanes|h:h,r!==null){for(b=s.child=r.child,w=0;b!==null;)w=w|b.lanes|b.childLanes,b=b.sibling;s.childLanes=w&~v}else s.childLanes=0,s.child=null;return cg(r,s,v,h)}if((h&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Eu(s,w!==null?w.cachePool:null),w!==null?lA(s,w):ff(),qA(s);else return s.lanes=s.childLanes=536870912,cg(r,s,w!==null?w.baseLanes|h:h,h)}else w!==null?(Eu(s,w.cachePool),lA(s,w),ba(),s.memoizedState=null):(r!==null&&Eu(s,null),ff(),ba());return ui(r,s,b,h),s.child}function cg(r,s,h,v){var b=sf();return b=b===null?null:{parent:Mr._currentValue,pool:b},s.memoizedState={baseLanes:h,cachePool:b},r!==null&&Eu(s,null),ff(),qA(s),r!==null&&ro(r,s,v,!0),null}function Nu(r,s){var h=s.ref;if(h===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(i(284));(r===null||r.ref!==h)&&(s.flags|=4194816)}}function Bf(r,s,h,v,b){return Ji(s),h=Af(r,s,h,v,void 0,b),v=gf(),r!==null&&!ni?(pf(r,s,b),Ks(r,s,b)):(Xe&&v&&$n(s),s.flags|=1,ui(r,s,h,b),s.child)}function fg(r,s,h,v,b,w){return Ji(s),s.updateQueue=null,h=cA(s,v,h,b),uA(r),v=gf(),r!==null&&!ni?(pf(r,s,w),Ks(r,s,w)):(Xe&&v&&$n(s),s.flags|=1,ui(r,s,h,w),s.child)}function dg(r,s,h,v,b){if(Ji(s),s.stateNode===null){var w=Ft,z=h.contextType;typeof z=="object"&&z!==null&&(w=Vr(z)),w=new h(v,w),s.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=Df,s.stateNode=w,w._reactInternals=s,w=s.stateNode,w.props=v,w.state=s.memoizedState,w.refs={},of(s),z=h.contextType,w.context=typeof z=="object"&&z!==null?Vr(z):Ft,w.state=s.memoizedState,z=h.getDerivedStateFromProps,typeof z=="function"&&(If(s,h,z,v),w.state=s.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(z=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),z!==w.state&&Df.enqueueReplaceState(w,w.state,null),bl(s,v,w,b),El(),w.state=s.memoizedState),typeof w.componentDidMount=="function"&&(s.flags|=4194308),v=!0}else if(r===null){w=s.stateNode;var J=s.memoizedProps,vt=co(h,J);w.props=vt;var Mt=w.context,Zt=h.contextType;z=Ft,typeof Zt=="object"&&Zt!==null&&(z=Vr(Zt));var ue=h.getDerivedStateFromProps;Zt=typeof ue=="function"||typeof w.getSnapshotBeforeUpdate=="function",J=s.pendingProps!==J,Zt||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(J||Mt!==z)&&ZA(s,w,v,z),pa=!1;var Nt=s.memoizedState;w.state=Nt,bl(s,v,w,b),El(),Mt=s.memoizedState,J||Nt!==Mt||pa?(typeof ue=="function"&&(If(s,h,ue,v),Mt=s.memoizedState),(vt=pa||XA(s,h,vt,v,Nt,Mt,z))?(Zt||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=v,s.memoizedState=Mt),w.props=v,w.state=Mt,w.context=z,v=vt):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),v=!1)}else{w=s.stateNode,lf(r,s),z=s.memoizedProps,Zt=co(h,z),w.props=Zt,ue=s.pendingProps,Nt=w.context,Mt=h.contextType,vt=Ft,typeof Mt=="object"&&Mt!==null&&(vt=Vr(Mt)),J=h.getDerivedStateFromProps,(Mt=typeof J=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(z!==ue||Nt!==vt)&&ZA(s,w,v,vt),pa=!1,Nt=s.memoizedState,w.state=Nt,bl(s,v,w,b),El();var Gt=s.memoizedState;z!==ue||Nt!==Gt||pa||r!==null&&r.dependencies!==null&&Do(r.dependencies)?(typeof J=="function"&&(If(s,h,J,v),Gt=s.memoizedState),(Zt=pa||XA(s,h,Zt,v,Nt,Gt,vt)||r!==null&&r.dependencies!==null&&Do(r.dependencies))?(Mt||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(v,Gt,vt),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(v,Gt,vt)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||z===r.memoizedProps&&Nt===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||z===r.memoizedProps&&Nt===r.memoizedState||(s.flags|=1024),s.memoizedProps=v,s.memoizedState=Gt),w.props=v,w.state=Gt,w.context=vt,v=Zt):(typeof w.componentDidUpdate!="function"||z===r.memoizedProps&&Nt===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||z===r.memoizedProps&&Nt===r.memoizedState||(s.flags|=1024),v=!1)}return w=v,Nu(r,s),v=(s.flags&128)!==0,w||v?(w=s.stateNode,h=v&&typeof h.getDerivedStateFromError!="function"?null:w.render(),s.flags|=1,r!==null&&v?(s.child=Uo(s,r.child,null,b),s.child=Uo(s,null,h,b)):ui(r,s,h,b),s.memoizedState=w.state,r=s.child):r=Ks(r,s,b),r}function hg(r,s,h,v){return Aa(),s.flags|=256,ui(r,s,h,v),s.child}var Of={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _f(r){return{baseLanes:r,cachePool:tA()}}function Mf(r,s,h){return r=r!==null?r.childLanes&~h:0,s&&(r|=es),r}function Ag(r,s,h){var v=s.pendingProps,b=!1,w=(s.flags&128)!==0,z;if((z=w)||(z=r!==null&&r.memoizedState===null?!1:(Zr.current&2)!==0),z&&(b=!0,s.flags&=-129),z=(s.flags&32)!==0,s.flags&=-33,r===null){if(Xe){if(b?Ea(s):ba(),Xe){var J=yn,vt;if(vt=J){t:{for(vt=J,J=Dn;vt.nodeType!==8;){if(!J){J=null;break t}if(vt=ys(vt.nextSibling),vt===null){J=null;break t}}J=vt}J!==null?(s.memoizedState={dehydrated:J,treeContext:Oe!==null?{id:Ye,overflow:An}:null,retryLane:536870912,hydrationErrors:null},vt=ae(18,null,null,0),vt.stateNode=J,vt.return=s,s.child=vt,cn=s,yn=null,vt=!0):vt=!1}vt||Xr(s)}if(J=s.memoizedState,J!==null&&(J=J.dehydrated,J!==null))return vd(J)?s.lanes=32:s.lanes=536870912,null;$s(s)}return J=v.children,v=v.fallback,b?(ba(),b=s.mode,J=Uu({mode:"hidden",children:J},b),v=Ut(v,b,h,null),J.return=s,v.return=s,J.sibling=v,s.child=J,b=s.child,b.memoizedState=_f(h),b.childLanes=Mf(r,z,h),s.memoizedState=Of,v):(Ea(s),Pf(s,J))}if(vt=r.memoizedState,vt!==null&&(J=vt.dehydrated,J!==null)){if(w)s.flags&256?(Ea(s),s.flags&=-257,s=Nf(r,s,h)):s.memoizedState!==null?(ba(),s.child=r.child,s.flags|=128,s=null):(ba(),b=v.fallback,J=s.mode,v=Uu({mode:"visible",children:v.children},J),b=Ut(b,J,h,null),b.flags|=2,v.return=s,b.return=s,v.sibling=b,s.child=v,Uo(s,r.child,null,h),v=s.child,v.memoizedState=_f(h),v.childLanes=Mf(r,z,h),s.memoizedState=Of,s=b);else if(Ea(s),vd(J)){if(z=J.nextSibling&&J.nextSibling.dataset,z)var Mt=z.dgst;z=Mt,v=Error(i(419)),v.stack="",v.digest=z,On({value:v,source:null,stack:null}),s=Nf(r,s,h)}else if(ni||ro(r,s,h,!1),z=(h&r.childLanes)!==0,ni||z){if(z=Sr,z!==null&&(v=h&-h,v=(v&42)!==0?1:Wt(v),v=(v&(z.suspendedLanes|h))!==0?0:v,v!==0&&v!==vt.retryLane))throw vt.retryLane=v,Kt(r,v),ji(z,r,v),sg;J.data==="$?"||ed(),s=Nf(r,s,h)}else J.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=vt.treeContext,yn=ys(J.nextSibling),cn=s,Xe=!0,Be=null,Dn=!1,r!==null&&(Ie[pn++]=Ye,Ie[pn++]=An,Ie[pn++]=Oe,Ye=r.id,An=r.overflow,Oe=s),s=Pf(s,v.children),s.flags|=4096);return s}return b?(ba(),b=v.fallback,J=s.mode,vt=r.child,Mt=vt.sibling,v=Ce(vt,{mode:"hidden",children:v.children}),v.subtreeFlags=vt.subtreeFlags&65011712,Mt!==null?b=Ce(Mt,b):(b=Ut(b,J,h,null),b.flags|=2),b.return=s,v.return=s,v.sibling=b,s.child=v,v=b,b=s.child,J=r.child.memoizedState,J===null?J=_f(h):(vt=J.cachePool,vt!==null?(Mt=Mr._currentValue,vt=vt.parent!==Mt?{parent:Mt,pool:Mt}:vt):vt=tA(),J={baseLanes:J.baseLanes|h,cachePool:vt}),b.memoizedState=J,b.childLanes=Mf(r,z,h),s.memoizedState=Of,v):(Ea(s),h=r.child,r=h.sibling,h=Ce(h,{mode:"visible",children:v.children}),h.return=s,h.sibling=null,r!==null&&(z=s.deletions,z===null?(s.deletions=[r],s.flags|=16):z.push(r)),s.child=h,s.memoizedState=null,h)}function Pf(r,s){return s=Uu({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Uu(r,s){return r=ae(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Nf(r,s,h){return Uo(s,r.child,null,h),r=Pf(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function gg(r,s,h){r.lanes|=s;var v=r.alternate;v!==null&&(v.lanes|=s),no(r.return,s,h)}function Uf(r,s,h,v,b){var w=r.memoizedState;w===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:v,tail:h,tailMode:b}:(w.isBackwards=s,w.rendering=null,w.renderingStartTime=0,w.last=v,w.tail=h,w.tailMode=b)}function pg(r,s,h){var v=s.pendingProps,b=v.revealOrder,w=v.tail;if(ui(r,s,v.children,h),v=Zr.current,(v&2)!==0)v=v&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)t:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&gg(r,h,s);else if(r.tag===19)gg(r,h,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break t;for(;r.sibling===null;){if(r.return===null||r.return===s)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}v&=1}switch(ot(Zr,v),b){case"forwards":for(h=s.child,b=null;h!==null;)r=h.alternate,r!==null&&_u(r)===null&&(b=h),h=h.sibling;h=b,h===null?(b=s.child,s.child=null):(b=h.sibling,h.sibling=null),Uf(s,!1,b,h,w);break;case"backwards":for(h=null,b=s.child,s.child=null;b!==null;){if(r=b.alternate,r!==null&&_u(r)===null){s.child=b;break}r=b.sibling,b.sibling=h,h=b,b=r}Uf(s,!0,h,null,w);break;case"together":Uf(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ks(r,s,h){if(r!==null&&(s.dependencies=r.dependencies),wa|=s.lanes,(h&s.childLanes)===0)if(r!==null){if(ro(r,s,h,!1),(h&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,h=Ce(r,r.pendingProps),s.child=h,h.return=s;r.sibling!==null;)r=r.sibling,h=h.sibling=Ce(r,r.pendingProps),h.return=s;h.sibling=null}return s.child}function Ff(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Do(r)))}function Zv(r,s,h){switch(s.tag){case 3:Vt(s,s.stateNode.containerInfo),yi(s,Mr,r.memoizedState.cache),Aa();break;case 27:case 5:ee(s);break;case 4:Vt(s,s.stateNode.containerInfo);break;case 10:yi(s,s.type,s.memoizedProps.value);break;case 13:var v=s.memoizedState;if(v!==null)return v.dehydrated!==null?(Ea(s),s.flags|=128,null):(h&s.child.childLanes)!==0?Ag(r,s,h):(Ea(s),r=Ks(r,s,h),r!==null?r.sibling:null);Ea(s);break;case 19:var b=(r.flags&128)!==0;if(v=(h&s.childLanes)!==0,v||(ro(r,s,h,!1),v=(h&s.childLanes)!==0),b){if(v)return pg(r,s,h);s.flags|=128}if(b=s.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),ot(Zr,Zr.current),v)break;return null;case 22:case 23:return s.lanes=0,ug(r,s,h);case 24:yi(s,Mr,r.memoizedState.cache)}return Ks(r,s,h)}function mg(r,s,h){if(r!==null)if(r.memoizedProps!==s.pendingProps)ni=!0;else{if(!Ff(r,h)&&(s.flags&128)===0)return ni=!1,Zv(r,s,h);ni=(r.flags&131072)!==0}else ni=!1,Xe&&(s.flags&1048576)!==0&&In(s,Ge,s.index);switch(s.lanes=0,s.tag){case 16:t:{r=s.pendingProps;var v=s.elementType,b=v._init;if(v=b(v._payload),s.type=v,typeof v=="function")de(v)?(r=co(v,r),s.tag=1,s=dg(null,s,v,r,h)):(s.tag=0,s=Bf(null,s,v,r,h));else{if(v!=null){if(b=v.$$typeof,b===L){s.tag=11,s=ag(null,s,v,r,h);break t}else if(b===O){s.tag=14,s=og(null,s,v,r,h);break t}}throw s=X(v)||v,Error(i(306,s,""))}}return s;case 0:return Bf(r,s,s.type,s.pendingProps,h);case 1:return v=s.type,b=co(v,s.pendingProps),dg(r,s,v,b,h);case 3:t:{if(Vt(s,s.stateNode.containerInfo),r===null)throw Error(i(387));v=s.pendingProps;var w=s.memoizedState;b=w.element,lf(r,s),bl(s,v,null,h);var z=s.memoizedState;if(v=z.cache,yi(s,Mr,v),v!==w.cache&&Io(s,[Mr],h,!0),El(),v=z.element,w.isDehydrated)if(w={element:v,isDehydrated:!1,cache:z.cache},s.updateQueue.baseState=w,s.memoizedState=w,s.flags&256){s=hg(r,s,v,h);break t}else if(v!==b){b=ft(Error(i(424)),s),On(b),s=hg(r,s,v,h);break t}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(yn=ys(r.firstChild),cn=s,Xe=!0,Be=null,Dn=!0,h=WA(s,null,v,h),s.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(Aa(),v===b){s=Ks(r,s,h);break t}ui(r,s,v,h)}s=s.child}return s;case 26:return Nu(r,s),r===null?(h=bp(s.type,null,s.pendingProps,null))?s.memoizedState=h:Xe||(h=s.type,r=s.pendingProps,v=Zu(Tt.current).createElement(h),v[rn]=s,v[Tn]=r,fi(v,h,r),Gn(v),s.stateNode=v):s.memoizedState=bp(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return ee(s),r===null&&Xe&&(v=s.stateNode=vp(s.type,s.pendingProps,Tt.current),cn=s,Dn=!0,b=yn,Da(s.type)?(yd=b,yn=ys(v.firstChild)):yn=b),ui(r,s,s.pendingProps.children,h),Nu(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&Xe&&((b=v=yn)&&(v=wy(v,s.type,s.pendingProps,Dn),v!==null?(s.stateNode=v,cn=s,yn=ys(v.firstChild),Dn=!1,b=!0):b=!1),b||Xr(s)),ee(s),b=s.type,w=s.pendingProps,z=r!==null?r.memoizedProps:null,v=w.children,gd(b,w)?v=null:z!==null&&gd(b,z)&&(s.flags|=32),s.memoizedState!==null&&(b=Af(r,s,zv,null,null,h),Yl._currentValue=b),Nu(r,s),ui(r,s,v,h),s.child;case 6:return r===null&&Xe&&((r=h=yn)&&(h=Ly(h,s.pendingProps,Dn),h!==null?(s.stateNode=h,cn=s,yn=null,r=!0):r=!1),r||Xr(s)),null;case 13:return Ag(r,s,h);case 4:return Vt(s,s.stateNode.containerInfo),v=s.pendingProps,r===null?s.child=Uo(s,null,v,h):ui(r,s,v,h),s.child;case 11:return ag(r,s,s.type,s.pendingProps,h);case 7:return ui(r,s,s.pendingProps,h),s.child;case 8:return ui(r,s,s.pendingProps.children,h),s.child;case 12:return ui(r,s,s.pendingProps.children,h),s.child;case 10:return v=s.pendingProps,yi(s,s.type,v.value),ui(r,s,v.children,h),s.child;case 9:return b=s.type._context,v=s.pendingProps.children,Ji(s),b=Vr(b),v=v(b),s.flags|=1,ui(r,s,v,h),s.child;case 14:return og(r,s,s.type,s.pendingProps,h);case 15:return lg(r,s,s.type,s.pendingProps,h);case 19:return pg(r,s,h);case 31:return v=s.pendingProps,h=s.mode,v={mode:v.mode,children:v.children},r===null?(h=Uu(v,h),h.ref=s.ref,s.child=h,h.return=s,s=h):(h=Ce(r.child,v),h.ref=s.ref,s.child=h,h.return=s,s=h),s;case 22:return ug(r,s,h);case 24:return Ji(s),v=Vr(Mr),r===null?(b=sf(),b===null&&(b=Sr,w=Bo(),b.pooledCache=w,w.refCount++,w!==null&&(b.pooledCacheLanes|=h),b=w),s.memoizedState={parent:v,cache:b},of(s),yi(s,Mr,b)):((r.lanes&h)!==0&&(lf(r,s),bl(s,null,null,h),El()),b=r.memoizedState,w=s.memoizedState,b.parent!==v?(b={parent:v,cache:v},s.memoizedState=b,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=b),yi(s,Mr,v)):(v=w.cache,yi(s,Mr,v),v!==b.cache&&Io(s,[Mr],h,!0))),ui(r,s,s.pendingProps.children,h),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Ws(r){r.flags|=4}function vg(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!wp(s)){if(s=ts.current,s!==null&&((Jn&4194048)===Jn?ws!==null:(Jn&62914560)!==Jn&&(Jn&536870912)===0||s!==ws))throw vl=af,eA;r.flags|=8192}}function Fu(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?_e():536870912,r.lanes|=s,Ho|=s)}function Rl(r,s){if(!Xe)switch(r.tailMode){case"hidden":s=r.tail;for(var h=null;s!==null;)s.alternate!==null&&(h=s),s=s.sibling;h===null?r.tail=null:h.sibling=null;break;case"collapsed":h=r.tail;for(var v=null;h!==null;)h.alternate!==null&&(v=h),h=h.sibling;v===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:v.sibling=null}}function Or(r){var s=r.alternate!==null&&r.alternate.child===r.child,h=0,v=0;if(s)for(var b=r.child;b!==null;)h|=b.lanes|b.childLanes,v|=b.subtreeFlags&65011712,v|=b.flags&65011712,b.return=r,b=b.sibling;else for(b=r.child;b!==null;)h|=b.lanes|b.childLanes,v|=b.subtreeFlags,v|=b.flags,b.return=r,b=b.sibling;return r.subtreeFlags|=v,r.childLanes=h,s}function Jv(r,s,h){var v=s.pendingProps;switch(on(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Or(s),null;case 1:return Or(s),null;case 3:return h=s.stateNode,v=null,r!==null&&(v=r.memoizedState.cache),s.memoizedState.cache!==v&&(s.flags|=2048),gs(Mr),jt(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(As(s)?Ws(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Ke())),Or(s),null;case 26:return h=s.memoizedState,r===null?(Ws(s),h!==null?(Or(s),vg(s,h)):(Or(s),s.flags&=-16777217)):h?h!==r.memoizedState?(Ws(s),Or(s),vg(s,h)):(Or(s),s.flags&=-16777217):(r.memoizedProps!==v&&Ws(s),Or(s),s.flags&=-16777217),null;case 27:ce(s),h=Tt.current;var b=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==v&&Ws(s);else{if(!v){if(s.stateNode===null)throw Error(i(166));return Or(s),null}r=bt.current,As(s)?hs(s):(r=vp(b,v,h),s.stateNode=r,Ws(s))}return Or(s),null;case 5:if(ce(s),h=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==v&&Ws(s);else{if(!v){if(s.stateNode===null)throw Error(i(166));return Or(s),null}if(r=bt.current,As(s))hs(s);else{switch(b=Zu(Tt.current),r){case 1:r=b.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:r=b.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":r=b.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":r=b.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":r=b.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof v.is=="string"?b.createElement("select",{is:v.is}):b.createElement("select"),v.multiple?r.multiple=!0:v.size&&(r.size=v.size);break;default:r=typeof v.is=="string"?b.createElement(h,{is:v.is}):b.createElement(h)}}r[rn]=s,r[Tn]=v;t:for(b=s.child;b!==null;){if(b.tag===5||b.tag===6)r.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===s)break t;for(;b.sibling===null;){if(b.return===null||b.return===s)break t;b=b.return}b.sibling.return=b.return,b=b.sibling}s.stateNode=r;t:switch(fi(r,h,v),h){case"button":case"input":case"select":case"textarea":r=!!v.autoFocus;break t;case"img":r=!0;break t;default:r=!1}r&&Ws(s)}}return Or(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==v&&Ws(s);else{if(typeof v!="string"&&s.stateNode===null)throw Error(i(166));if(r=Tt.current,As(s)){if(r=s.stateNode,h=s.memoizedProps,v=null,b=cn,b!==null)switch(b.tag){case 27:case 5:v=b.memoizedProps}r[rn]=s,r=!!(r.nodeValue===h||v!==null&&v.suppressHydrationWarning===!0||fp(r.nodeValue,h)),r||Xr(s)}else r=Zu(r).createTextNode(v),r[rn]=s,s.stateNode=r}return Or(s),null;case 13:if(v=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(b=As(s),v!==null&&v.dehydrated!==null){if(r===null){if(!b)throw Error(i(318));if(b=s.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(i(317));b[rn]=s}else Aa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Or(s),b=!1}else b=Ke(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=b),b=!0;if(!b)return s.flags&256?($s(s),s):($s(s),null)}if($s(s),(s.flags&128)!==0)return s.lanes=h,s;if(h=v!==null,r=r!==null&&r.memoizedState!==null,h){v=s.child,b=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(b=v.alternate.memoizedState.cachePool.pool);var w=null;v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(w=v.memoizedState.cachePool.pool),w!==b&&(v.flags|=2048)}return h!==r&&h&&(s.child.flags|=8192),Fu(s,s.updateQueue),Or(s),null;case 4:return jt(),r===null&&cd(s.stateNode.containerInfo),Or(s),null;case 10:return gs(s.type),Or(s),null;case 19:if(et(Zr),b=s.memoizedState,b===null)return Or(s),null;if(v=(s.flags&128)!==0,w=b.rendering,w===null)if(v)Rl(b,!1);else{if(Pr!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(w=_u(r),w!==null){for(s.flags|=128,Rl(b,!1),r=w.updateQueue,s.updateQueue=r,Fu(s,r),s.subtreeFlags=0,r=h,h=s.child;h!==null;)Ee(h,r),h=h.sibling;return ot(Zr,Zr.current&1|2),s.child}r=r.sibling}b.tail!==null&&we()>Hu&&(s.flags|=128,v=!0,Rl(b,!1),s.lanes=4194304)}else{if(!v)if(r=_u(w),r!==null){if(s.flags|=128,v=!0,r=r.updateQueue,s.updateQueue=r,Fu(s,r),Rl(b,!0),b.tail===null&&b.tailMode==="hidden"&&!w.alternate&&!Xe)return Or(s),null}else 2*we()-b.renderingStartTime>Hu&&h!==536870912&&(s.flags|=128,v=!0,Rl(b,!1),s.lanes=4194304);b.isBackwards?(w.sibling=s.child,s.child=w):(r=b.last,r!==null?r.sibling=w:s.child=w,b.last=w)}return b.tail!==null?(s=b.tail,b.rendering=s,b.tail=s.sibling,b.renderingStartTime=we(),s.sibling=null,r=Zr.current,ot(Zr,v?r&1|2:r&1),s):(Or(s),null);case 22:case 23:return $s(s),df(),v=s.memoizedState!==null,r!==null?r.memoizedState!==null!==v&&(s.flags|=8192):v&&(s.flags|=8192),v?(h&536870912)!==0&&(s.flags&128)===0&&(Or(s),s.subtreeFlags&6&&(s.flags|=8192)):Or(s),h=s.updateQueue,h!==null&&Fu(s,h.retryQueue),h=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(h=r.memoizedState.cachePool.pool),v=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(v=s.memoizedState.cachePool.pool),v!==h&&(s.flags|=2048),r!==null&&et(lo),null;case 24:return h=null,r!==null&&(h=r.memoizedState.cache),s.memoizedState.cache!==h&&(s.flags|=2048),gs(Mr),Or(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function ty(r,s){switch(on(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return gs(Mr),jt(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return ce(s),null;case 13:if($s(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Aa()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return et(Zr),null;case 4:return jt(),null;case 10:return gs(s.type),null;case 22:case 23:return $s(s),df(),r!==null&&et(lo),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return gs(Mr),null;case 25:return null;default:return null}}function yg(r,s){switch(on(s),s.tag){case 3:gs(Mr),jt();break;case 26:case 27:case 5:ce(s);break;case 4:jt();break;case 13:$s(s);break;case 19:et(Zr);break;case 10:gs(s.type);break;case 22:case 23:$s(s),df(),r!==null&&et(lo);break;case 24:gs(Mr)}}function Il(r,s){try{var h=s.updateQueue,v=h!==null?h.lastEffect:null;if(v!==null){var b=v.next;h=b;do{if((h.tag&r)===r){v=void 0;var w=h.create,z=h.inst;v=w(),z.destroy=v}h=h.next}while(h!==b)}}catch(J){yr(s,s.return,J)}}function Ca(r,s,h){try{var v=s.updateQueue,b=v!==null?v.lastEffect:null;if(b!==null){var w=b.next;v=w;do{if((v.tag&r)===r){var z=v.inst,J=z.destroy;if(J!==void 0){z.destroy=void 0,b=s;var vt=h,Mt=J;try{Mt()}catch(Zt){yr(b,vt,Zt)}}}v=v.next}while(v!==w)}}catch(Zt){yr(s,s.return,Zt)}}function Eg(r){var s=r.updateQueue;if(s!==null){var h=r.stateNode;try{oA(s,h)}catch(v){yr(r,r.return,v)}}}function bg(r,s,h){h.props=co(r.type,r.memoizedProps),h.state=r.memoizedState;try{h.componentWillUnmount()}catch(v){yr(r,s,v)}}function Dl(r,s){try{var h=r.ref;if(h!==null){switch(r.tag){case 26:case 27:case 5:var v=r.stateNode;break;case 30:v=r.stateNode;break;default:v=r.stateNode}typeof h=="function"?r.refCleanup=h(v):h.current=v}}catch(b){yr(r,s,b)}}function Ls(r,s){var h=r.ref,v=r.refCleanup;if(h!==null)if(typeof v=="function")try{v()}catch(b){yr(r,s,b)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(b){yr(r,s,b)}else h.current=null}function Cg(r){var s=r.type,h=r.memoizedProps,v=r.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":h.autoFocus&&v.focus();break t;case"img":h.src?v.src=h.src:h.srcSet&&(v.srcset=h.srcSet)}}catch(b){yr(r,r.return,b)}}function Gf(r,s,h){try{var v=r.stateNode;by(v,r.type,h,s),v[Tn]=s}catch(b){yr(r,r.return,b)}}function Sg(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Da(r.type)||r.tag===4}function Qf(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||Sg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Da(r.type)||r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Hf(r,s,h){var v=r.tag;if(v===5||v===6)r=r.stateNode,s?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(r,s):(s=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,s.appendChild(r),h=h._reactRootContainer,h!=null||s.onclick!==null||(s.onclick=Xu));else if(v!==4&&(v===27&&Da(r.type)&&(h=r.stateNode,s=null),r=r.child,r!==null))for(Hf(r,s,h),r=r.sibling;r!==null;)Hf(r,s,h),r=r.sibling}function Gu(r,s,h){var v=r.tag;if(v===5||v===6)r=r.stateNode,s?h.insertBefore(r,s):h.appendChild(r);else if(v!==4&&(v===27&&Da(r.type)&&(h=r.stateNode),r=r.child,r!==null))for(Gu(r,s,h),r=r.sibling;r!==null;)Gu(r,s,h),r=r.sibling}function Tg(r){var s=r.stateNode,h=r.memoizedProps;try{for(var v=r.type,b=s.attributes;b.length;)s.removeAttributeNode(b[0]);fi(s,v,h),s[rn]=r,s[Tn]=h}catch(w){yr(r,r.return,w)}}var qs=!1,Hr=!1,Yf=!1,xg=typeof WeakSet=="function"?WeakSet:Set,ri=null;function ey(r,s){if(r=r.containerInfo,hd=ic,r=vu(r),gl(r)){if("selectionStart"in r)var h={start:r.selectionStart,end:r.selectionEnd};else t:{h=(h=r.ownerDocument)&&h.defaultView||window;var v=h.getSelection&&h.getSelection();if(v&&v.rangeCount!==0){h=v.anchorNode;var b=v.anchorOffset,w=v.focusNode;v=v.focusOffset;try{h.nodeType,w.nodeType}catch{h=null;break t}var z=0,J=-1,vt=-1,Mt=0,Zt=0,ue=r,Nt=null;e:for(;;){for(var Gt;ue!==h||b!==0&&ue.nodeType!==3||(J=z+b),ue!==w||v!==0&&ue.nodeType!==3||(vt=z+v),ue.nodeType===3&&(z+=ue.nodeValue.length),(Gt=ue.firstChild)!==null;)Nt=ue,ue=Gt;for(;;){if(ue===r)break e;if(Nt===h&&++Mt===b&&(J=z),Nt===w&&++Zt===v&&(vt=z),(Gt=ue.nextSibling)!==null)break;ue=Nt,Nt=ue.parentNode}ue=Gt}h=J===-1||vt===-1?null:{start:J,end:vt}}else h=null}h=h||{start:0,end:0}}else h=null;for(Ad={focusedElem:r,selectionRange:h},ic=!1,ri=s;ri!==null;)if(s=ri,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,ri=r;else for(;ri!==null;){switch(s=ri,w=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&w!==null){r=void 0,h=s,b=w.memoizedProps,w=w.memoizedState,v=h.stateNode;try{var Ln=co(h.type,b,h.elementType===h.type);r=v.getSnapshotBeforeUpdate(Ln,w),v.__reactInternalSnapshotBeforeUpdate=r}catch(bn){yr(h,h.return,bn)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,h=r.nodeType,h===9)md(r);else if(h===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":md(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,ri=r;break}ri=s.return}}function wg(r,s,h){var v=h.flags;switch(h.tag){case 0:case 11:case 15:Sa(r,h),v&4&&Il(5,h);break;case 1:if(Sa(r,h),v&4)if(r=h.stateNode,s===null)try{r.componentDidMount()}catch(z){yr(h,h.return,z)}else{var b=co(h.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(b,s,r.__reactInternalSnapshotBeforeUpdate)}catch(z){yr(h,h.return,z)}}v&64&&Eg(h),v&512&&Dl(h,h.return);break;case 3:if(Sa(r,h),v&64&&(r=h.updateQueue,r!==null)){if(s=null,h.child!==null)switch(h.child.tag){case 27:case 5:s=h.child.stateNode;break;case 1:s=h.child.stateNode}try{oA(r,s)}catch(z){yr(h,h.return,z)}}break;case 27:s===null&&v&4&&Tg(h);case 26:case 5:Sa(r,h),s===null&&v&4&&Cg(h),v&512&&Dl(h,h.return);break;case 12:Sa(r,h);break;case 13:Sa(r,h),v&4&&Ig(r,h),v&64&&(r=h.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(h=cy.bind(null,h),Ry(r,h))));break;case 22:if(v=h.memoizedState!==null||qs,!v){s=s!==null&&s.memoizedState!==null||Hr,b=qs;var w=Hr;qs=v,(Hr=s)&&!w?Ta(r,h,(h.subtreeFlags&8772)!==0):Sa(r,h),qs=b,Hr=w}break;case 30:break;default:Sa(r,h)}}function Lg(r){var s=r.alternate;s!==null&&(r.alternate=null,Lg(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&Lr(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Rr=null,Bi=!1;function Xs(r,s,h){for(h=h.child;h!==null;)Rg(r,s,h),h=h.sibling}function Rg(r,s,h){if(oe&&typeof oe.onCommitFiberUnmount=="function")try{oe.onCommitFiberUnmount(Ae,h)}catch{}switch(h.tag){case 26:Hr||Ls(h,s),Xs(r,s,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Hr||Ls(h,s);var v=Rr,b=Bi;Da(h.type)&&(Rr=h.stateNode,Bi=!1),Xs(r,s,h),Fl(h.stateNode),Rr=v,Bi=b;break;case 5:Hr||Ls(h,s);case 6:if(v=Rr,b=Bi,Rr=null,Xs(r,s,h),Rr=v,Bi=b,Rr!==null)if(Bi)try{(Rr.nodeType===9?Rr.body:Rr.nodeName==="HTML"?Rr.ownerDocument.body:Rr).removeChild(h.stateNode)}catch(w){yr(h,s,w)}else try{Rr.removeChild(h.stateNode)}catch(w){yr(h,s,w)}break;case 18:Rr!==null&&(Bi?(r=Rr,pp(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,h.stateNode),$l(r)):pp(Rr,h.stateNode));break;case 4:v=Rr,b=Bi,Rr=h.stateNode.containerInfo,Bi=!0,Xs(r,s,h),Rr=v,Bi=b;break;case 0:case 11:case 14:case 15:Hr||Ca(2,h,s),Hr||Ca(4,h,s),Xs(r,s,h);break;case 1:Hr||(Ls(h,s),v=h.stateNode,typeof v.componentWillUnmount=="function"&&bg(h,s,v)),Xs(r,s,h);break;case 21:Xs(r,s,h);break;case 22:Hr=(v=Hr)||h.memoizedState!==null,Xs(r,s,h),Hr=v;break;default:Xs(r,s,h)}}function Ig(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{$l(r)}catch(h){yr(s,s.return,h)}}function ny(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new xg),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new xg),s;default:throw Error(i(435,r.tag))}}function zf(r,s){var h=ny(r);s.forEach(function(v){var b=fy.bind(null,r,v);h.has(v)||(h.add(v),v.then(b,b))})}function Hi(r,s){var h=s.deletions;if(h!==null)for(var v=0;v<h.length;v++){var b=h[v],w=r,z=s,J=z;t:for(;J!==null;){switch(J.tag){case 27:if(Da(J.type)){Rr=J.stateNode,Bi=!1;break t}break;case 5:Rr=J.stateNode,Bi=!1;break t;case 3:case 4:Rr=J.stateNode.containerInfo,Bi=!0;break t}J=J.return}if(Rr===null)throw Error(i(160));Rg(w,z,b),Rr=null,Bi=!1,w=b.alternate,w!==null&&(w.return=null),b.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Dg(s,r),s=s.sibling}var vs=null;function Dg(r,s){var h=r.alternate,v=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Hi(s,r),Yi(r),v&4&&(Ca(3,r,r.return),Il(3,r),Ca(5,r,r.return));break;case 1:Hi(s,r),Yi(r),v&512&&(Hr||h===null||Ls(h,h.return)),v&64&&qs&&(r=r.updateQueue,r!==null&&(v=r.callbacks,v!==null&&(h=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=h===null?v:h.concat(v))));break;case 26:var b=vs;if(Hi(s,r),Yi(r),v&512&&(Hr||h===null||Ls(h,h.return)),v&4){var w=h!==null?h.memoizedState:null;if(v=r.memoizedState,h===null)if(v===null)if(r.stateNode===null){t:{v=r.type,h=r.memoizedProps,b=b.ownerDocument||b;e:switch(v){case"title":w=b.getElementsByTagName("title")[0],(!w||w[ai]||w[rn]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=b.createElement(v),b.head.insertBefore(w,b.querySelector("head > title"))),fi(w,v,h),w[rn]=r,Gn(w),v=w;break t;case"link":var z=Tp("link","href",b).get(v+(h.href||""));if(z){for(var J=0;J<z.length;J++)if(w=z[J],w.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&w.getAttribute("rel")===(h.rel==null?null:h.rel)&&w.getAttribute("title")===(h.title==null?null:h.title)&&w.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){z.splice(J,1);break e}}w=b.createElement(v),fi(w,v,h),b.head.appendChild(w);break;case"meta":if(z=Tp("meta","content",b).get(v+(h.content||""))){for(J=0;J<z.length;J++)if(w=z[J],w.getAttribute("content")===(h.content==null?null:""+h.content)&&w.getAttribute("name")===(h.name==null?null:h.name)&&w.getAttribute("property")===(h.property==null?null:h.property)&&w.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&w.getAttribute("charset")===(h.charSet==null?null:h.charSet)){z.splice(J,1);break e}}w=b.createElement(v),fi(w,v,h),b.head.appendChild(w);break;default:throw Error(i(468,v))}w[rn]=r,Gn(w),v=w}r.stateNode=v}else xp(b,r.type,r.stateNode);else r.stateNode=Sp(b,v,r.memoizedProps);else w!==v?(w===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):w.count--,v===null?xp(b,r.type,r.stateNode):Sp(b,v,r.memoizedProps)):v===null&&r.stateNode!==null&&Gf(r,r.memoizedProps,h.memoizedProps)}break;case 27:Hi(s,r),Yi(r),v&512&&(Hr||h===null||Ls(h,h.return)),h!==null&&v&4&&Gf(r,r.memoizedProps,h.memoizedProps);break;case 5:if(Hi(s,r),Yi(r),v&512&&(Hr||h===null||Ls(h,h.return)),r.flags&32){b=r.stateNode;try{as(b,"")}catch(Gt){yr(r,r.return,Gt)}}v&4&&r.stateNode!=null&&(b=r.memoizedProps,Gf(r,b,h!==null?h.memoizedProps:b)),v&1024&&(Yf=!0);break;case 6:if(Hi(s,r),Yi(r),v&4){if(r.stateNode===null)throw Error(i(162));v=r.memoizedProps,h=r.stateNode;try{h.nodeValue=v}catch(Gt){yr(r,r.return,Gt)}}break;case 3:if(ec=null,b=vs,vs=Ju(s.containerInfo),Hi(s,r),vs=b,Yi(r),v&4&&h!==null&&h.memoizedState.isDehydrated)try{$l(s.containerInfo)}catch(Gt){yr(r,r.return,Gt)}Yf&&(Yf=!1,kg(r));break;case 4:v=vs,vs=Ju(r.stateNode.containerInfo),Hi(s,r),Yi(r),vs=v;break;case 12:Hi(s,r),Yi(r);break;case 13:Hi(s,r),Yi(r),r.child.flags&8192&&r.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(qf=we()),v&4&&(v=r.updateQueue,v!==null&&(r.updateQueue=null,zf(r,v)));break;case 22:b=r.memoizedState!==null;var vt=h!==null&&h.memoizedState!==null,Mt=qs,Zt=Hr;if(qs=Mt||b,Hr=Zt||vt,Hi(s,r),Hr=Zt,qs=Mt,Yi(r),v&8192)t:for(s=r.stateNode,s._visibility=b?s._visibility&-2:s._visibility|1,b&&(h===null||vt||qs||Hr||fo(r)),h=null,s=r;;){if(s.tag===5||s.tag===26){if(h===null){vt=h=s;try{if(w=vt.stateNode,b)z=w.style,typeof z.setProperty=="function"?z.setProperty("display","none","important"):z.display="none";else{J=vt.stateNode;var ue=vt.memoizedProps.style,Nt=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;J.style.display=Nt==null||typeof Nt=="boolean"?"":(""+Nt).trim()}}catch(Gt){yr(vt,vt.return,Gt)}}}else if(s.tag===6){if(h===null){vt=s;try{vt.stateNode.nodeValue=b?"":vt.memoizedProps}catch(Gt){yr(vt,vt.return,Gt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break t;for(;s.sibling===null;){if(s.return===null||s.return===r)break t;h===s&&(h=null),s=s.return}h===s&&(h=null),s.sibling.return=s.return,s=s.sibling}v&4&&(v=r.updateQueue,v!==null&&(h=v.retryQueue,h!==null&&(v.retryQueue=null,zf(r,h))));break;case 19:Hi(s,r),Yi(r),v&4&&(v=r.updateQueue,v!==null&&(r.updateQueue=null,zf(r,v)));break;case 30:break;case 21:break;default:Hi(s,r),Yi(r)}}function Yi(r){var s=r.flags;if(s&2){try{for(var h,v=r.return;v!==null;){if(Sg(v)){h=v;break}v=v.return}if(h==null)throw Error(i(160));switch(h.tag){case 27:var b=h.stateNode,w=Qf(r);Gu(r,w,b);break;case 5:var z=h.stateNode;h.flags&32&&(as(z,""),h.flags&=-33);var J=Qf(r);Gu(r,J,z);break;case 3:case 4:var vt=h.stateNode.containerInfo,Mt=Qf(r);Hf(r,Mt,vt);break;default:throw Error(i(161))}}catch(Zt){yr(r,r.return,Zt)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function kg(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;kg(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Sa(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)wg(r,s.alternate,s),s=s.sibling}function fo(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Ca(4,s,s.return),fo(s);break;case 1:Ls(s,s.return);var h=s.stateNode;typeof h.componentWillUnmount=="function"&&bg(s,s.return,h),fo(s);break;case 27:Fl(s.stateNode);case 26:case 5:Ls(s,s.return),fo(s);break;case 22:s.memoizedState===null&&fo(s);break;case 30:fo(s);break;default:fo(s)}r=r.sibling}}function Ta(r,s,h){for(h=h&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var v=s.alternate,b=r,w=s,z=w.flags;switch(w.tag){case 0:case 11:case 15:Ta(b,w,h),Il(4,w);break;case 1:if(Ta(b,w,h),v=w,b=v.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(Mt){yr(v,v.return,Mt)}if(v=w,b=v.updateQueue,b!==null){var J=v.stateNode;try{var vt=b.shared.hiddenCallbacks;if(vt!==null)for(b.shared.hiddenCallbacks=null,b=0;b<vt.length;b++)aA(vt[b],J)}catch(Mt){yr(v,v.return,Mt)}}h&&z&64&&Eg(w),Dl(w,w.return);break;case 27:Tg(w);case 26:case 5:Ta(b,w,h),h&&v===null&&z&4&&Cg(w),Dl(w,w.return);break;case 12:Ta(b,w,h);break;case 13:Ta(b,w,h),h&&z&4&&Ig(b,w);break;case 22:w.memoizedState===null&&Ta(b,w,h),Dl(w,w.return);break;case 30:break;default:Ta(b,w,h)}s=s.sibling}}function Vf(r,s){var h=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(h=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==h&&(r!=null&&r.refCount++,h!=null&&so(h))}function jf(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&so(r))}function Rs(r,s,h,v){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Bg(r,s,h,v),s=s.sibling}function Bg(r,s,h,v){var b=s.flags;switch(s.tag){case 0:case 11:case 15:Rs(r,s,h,v),b&2048&&Il(9,s);break;case 1:Rs(r,s,h,v);break;case 3:Rs(r,s,h,v),b&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&so(r)));break;case 12:if(b&2048){Rs(r,s,h,v),r=s.stateNode;try{var w=s.memoizedProps,z=w.id,J=w.onPostCommit;typeof J=="function"&&J(z,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(vt){yr(s,s.return,vt)}}else Rs(r,s,h,v);break;case 13:Rs(r,s,h,v);break;case 23:break;case 22:w=s.stateNode,z=s.alternate,s.memoizedState!==null?w._visibility&2?Rs(r,s,h,v):kl(r,s):w._visibility&2?Rs(r,s,h,v):(w._visibility|=2,Fo(r,s,h,v,(s.subtreeFlags&10256)!==0)),b&2048&&Vf(z,s);break;case 24:Rs(r,s,h,v),b&2048&&jf(s.alternate,s);break;default:Rs(r,s,h,v)}}function Fo(r,s,h,v,b){for(b=b&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var w=r,z=s,J=h,vt=v,Mt=z.flags;switch(z.tag){case 0:case 11:case 15:Fo(w,z,J,vt,b),Il(8,z);break;case 23:break;case 22:var Zt=z.stateNode;z.memoizedState!==null?Zt._visibility&2?Fo(w,z,J,vt,b):kl(w,z):(Zt._visibility|=2,Fo(w,z,J,vt,b)),b&&Mt&2048&&Vf(z.alternate,z);break;case 24:Fo(w,z,J,vt,b),b&&Mt&2048&&jf(z.alternate,z);break;default:Fo(w,z,J,vt,b)}s=s.sibling}}function kl(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var h=r,v=s,b=v.flags;switch(v.tag){case 22:kl(h,v),b&2048&&Vf(v.alternate,v);break;case 24:kl(h,v),b&2048&&jf(v.alternate,v);break;default:kl(h,v)}s=s.sibling}}var Bl=8192;function Go(r){if(r.subtreeFlags&Bl)for(r=r.child;r!==null;)Og(r),r=r.sibling}function Og(r){switch(r.tag){case 26:Go(r),r.flags&Bl&&r.memoizedState!==null&&Qy(vs,r.memoizedState,r.memoizedProps);break;case 5:Go(r);break;case 3:case 4:var s=vs;vs=Ju(r.stateNode.containerInfo),Go(r),vs=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=Bl,Bl=16777216,Go(r),Bl=s):Go(r));break;default:Go(r)}}function _g(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Ol(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var h=0;h<s.length;h++){var v=s[h];ri=v,Pg(v,r)}_g(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Mg(r),r=r.sibling}function Mg(r){switch(r.tag){case 0:case 11:case 15:Ol(r),r.flags&2048&&Ca(9,r,r.return);break;case 3:Ol(r);break;case 12:Ol(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,Qu(r)):Ol(r);break;default:Ol(r)}}function Qu(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var h=0;h<s.length;h++){var v=s[h];ri=v,Pg(v,r)}_g(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Ca(8,s,s.return),Qu(s);break;case 22:h=s.stateNode,h._visibility&2&&(h._visibility&=-3,Qu(s));break;default:Qu(s)}r=r.sibling}}function Pg(r,s){for(;ri!==null;){var h=ri;switch(h.tag){case 0:case 11:case 15:Ca(8,h,s);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var v=h.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:so(h.memoizedState.cache)}if(v=h.child,v!==null)v.return=h,ri=v;else t:for(h=r;ri!==null;){v=ri;var b=v.sibling,w=v.return;if(Lg(v),v===h){ri=null;break t}if(b!==null){b.return=w,ri=b;break t}ri=w}}}var ry={getCacheForType:function(r){var s=Vr(Mr),h=s.data.get(r);return h===void 0&&(h=r(),s.data.set(r,h)),h}},iy=typeof WeakMap=="function"?WeakMap:Map,ur=0,Sr=null,Kn=null,Jn=0,cr=0,zi=null,xa=!1,Qo=!1,$f=!1,Zs=0,Pr=0,wa=0,ho=0,Kf=0,es=0,Ho=0,_l=null,Oi=null,Wf=!1,qf=0,Hu=1/0,Yu=null,La=null,ci=0,Ra=null,Yo=null,zo=0,Xf=0,Zf=null,Ng=null,Ml=0,Jf=null;function Vi(){if((ur&2)!==0&&Jn!==0)return Jn&-Jn;if(V.T!==null){var r=ga;return r!==0?r:ad()}return He()}function Ug(){es===0&&(es=(Jn&536870912)===0||Xe?re():536870912);var r=ts.current;return r!==null&&(r.flags|=32),es}function ji(r,s,h){(r===Sr&&(cr===2||cr===9)||r.cancelPendingCommit!==null)&&(Vo(r,0),Ia(r,Jn,es,!1)),Ue(r,h),((ur&2)===0||r!==Sr)&&(r===Sr&&((ur&2)===0&&(ho|=h),Pr===4&&Ia(r,Jn,es,!1)),Is(r))}function Fg(r,s,h){if((ur&6)!==0)throw Error(i(327));var v=!h&&(s&124)===0&&(s&r.expiredLanes)===0||an(r,s),b=v?oy(r,s):nd(r,s,!0),w=v;do{if(b===0){Qo&&!v&&Ia(r,s,0,!1);break}else{if(h=r.current.alternate,w&&!sy(h)){b=nd(r,s,!1),w=!1;continue}if(b===2){if(w=s,r.errorRecoveryDisabledLanes&w)var z=0;else z=r.pendingLanes&-536870913,z=z!==0?z:z&536870912?536870912:0;if(z!==0){s=z;t:{var J=r;b=_l;var vt=J.current.memoizedState.isDehydrated;if(vt&&(Vo(J,z).flags|=256),z=nd(J,z,!1),z!==2){if($f&&!vt){J.errorRecoveryDisabledLanes|=w,ho|=w,b=4;break t}w=Oi,Oi=b,w!==null&&(Oi===null?Oi=w:Oi.push.apply(Oi,w))}b=z}if(w=!1,b!==2)continue}}if(b===1){Vo(r,0),Ia(r,s,0,!0);break}t:{switch(v=r,w=b,w){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Ia(v,s,es,!xa);break t;case 2:Oi=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(b=qf+300-we(),10<b)){if(Ia(v,s,es,!xa),Te(v,0,!0)!==0)break t;v.timeoutHandle=Ap(Gg.bind(null,v,h,Oi,Yu,Wf,s,es,ho,Ho,xa,w,2,-0,0),b);break t}Gg(v,h,Oi,Yu,Wf,s,es,ho,Ho,xa,w,0,-0,0)}}break}while(!0);Is(r)}function Gg(r,s,h,v,b,w,z,J,vt,Mt,Zt,ue,Nt,Gt){if(r.timeoutHandle=-1,ue=s.subtreeFlags,(ue&8192||(ue&16785408)===16785408)&&(Hl={stylesheets:null,count:0,unsuspend:Gy},Og(s),ue=Hy(),ue!==null)){r.cancelPendingCommit=ue($g.bind(null,r,s,w,h,v,b,z,J,vt,Zt,1,Nt,Gt)),Ia(r,w,z,!Mt);return}$g(r,s,w,h,v,b,z,J,vt)}function sy(r){for(var s=r;;){var h=s.tag;if((h===0||h===11||h===15)&&s.flags&16384&&(h=s.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var v=0;v<h.length;v++){var b=h[v],w=b.getSnapshot;b=b.value;try{if(!Li(w(),b))return!1}catch{return!1}}if(h=s.child,s.subtreeFlags&16384&&h!==null)h.return=s,s=h;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ia(r,s,h,v){s&=~Kf,s&=~ho,r.suspendedLanes|=s,r.pingedLanes&=~s,v&&(r.warmLanes|=s),v=r.expirationTimes;for(var b=s;0<b;){var w=31-Rt(b),z=1<<w;v[w]=-1,b&=~z}h!==0&&gn(r,h,s)}function zu(){return(ur&6)===0?(Pl(0),!1):!0}function td(){if(Kn!==null){if(cr===0)var r=Kn.return;else r=Kn,ar=Zn=null,mf(r),No=null,wl=0,r=Kn;for(;r!==null;)yg(r.alternate,r),r=r.return;Kn=null}}function Vo(r,s){var h=r.timeoutHandle;h!==-1&&(r.timeoutHandle=-1,Sy(h)),h=r.cancelPendingCommit,h!==null&&(r.cancelPendingCommit=null,h()),td(),Sr=r,Kn=h=Ce(r.current,null),Jn=s,cr=0,zi=null,xa=!1,Qo=an(r,s),$f=!1,Ho=es=Kf=ho=wa=Pr=0,Oi=_l=null,Wf=!1,(s&8)!==0&&(s|=s&32);var v=r.entangledLanes;if(v!==0)for(r=r.entanglements,v&=s;0<v;){var b=31-Rt(v),w=1<<b;s|=r[b],v&=~w}return Zs=s,Pt(),h}function Qg(r,s){Qn=null,V.H=ku,s===ml||s===bu?(s=iA(),cr=3):s===eA?(s=iA(),cr=4):cr=s===sg?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,zi=s,Kn===null&&(Pr=1,Pu(r,ft(s,r.current)))}function Hg(){var r=V.H;return V.H=ku,r===null?ku:r}function Yg(){var r=V.A;return V.A=ry,r}function ed(){Pr=4,xa||(Jn&4194048)!==Jn&&ts.current!==null||(Qo=!0),(wa&134217727)===0&&(ho&134217727)===0||Sr===null||Ia(Sr,Jn,es,!1)}function nd(r,s,h){var v=ur;ur|=2;var b=Hg(),w=Yg();(Sr!==r||Jn!==s)&&(Yu=null,Vo(r,s)),s=!1;var z=Pr;t:do try{if(cr!==0&&Kn!==null){var J=Kn,vt=zi;switch(cr){case 8:td(),z=6;break t;case 3:case 2:case 9:case 6:ts.current===null&&(s=!0);var Mt=cr;if(cr=0,zi=null,jo(r,J,vt,Mt),h&&Qo){z=0;break t}break;default:Mt=cr,cr=0,zi=null,jo(r,J,vt,Mt)}}ay(),z=Pr;break}catch(Zt){Qg(r,Zt)}while(!0);return s&&r.shellSuspendCounter++,ar=Zn=null,ur=v,V.H=b,V.A=w,Kn===null&&(Sr=null,Jn=0,Pt()),z}function ay(){for(;Kn!==null;)zg(Kn)}function oy(r,s){var h=ur;ur|=2;var v=Hg(),b=Yg();Sr!==r||Jn!==s?(Yu=null,Hu=we()+500,Vo(r,s)):Qo=an(r,s);t:do try{if(cr!==0&&Kn!==null){s=Kn;var w=zi;e:switch(cr){case 1:cr=0,zi=null,jo(r,s,w,1);break;case 2:case 9:if(nA(w)){cr=0,zi=null,Vg(s);break}s=function(){cr!==2&&cr!==9||Sr!==r||(cr=7),Is(r)},w.then(s,s);break t;case 3:cr=7;break t;case 4:cr=5;break t;case 7:nA(w)?(cr=0,zi=null,Vg(s)):(cr=0,zi=null,jo(r,s,w,7));break;case 5:var z=null;switch(Kn.tag){case 26:z=Kn.memoizedState;case 5:case 27:var J=Kn;if(!z||wp(z)){cr=0,zi=null;var vt=J.sibling;if(vt!==null)Kn=vt;else{var Mt=J.return;Mt!==null?(Kn=Mt,Vu(Mt)):Kn=null}break e}}cr=0,zi=null,jo(r,s,w,5);break;case 6:cr=0,zi=null,jo(r,s,w,6);break;case 8:td(),Pr=6;break t;default:throw Error(i(462))}}ly();break}catch(Zt){Qg(r,Zt)}while(!0);return ar=Zn=null,V.H=v,V.A=b,ur=h,Kn!==null?0:(Sr=null,Jn=0,Pt(),Pr)}function ly(){for(;Kn!==null&&!je();)zg(Kn)}function zg(r){var s=mg(r.alternate,r,Zs);r.memoizedProps=r.pendingProps,s===null?Vu(r):Kn=s}function Vg(r){var s=r,h=s.alternate;switch(s.tag){case 15:case 0:s=fg(h,s,s.pendingProps,s.type,void 0,Jn);break;case 11:s=fg(h,s,s.pendingProps,s.type.render,s.ref,Jn);break;case 5:mf(s);default:yg(h,s),s=Kn=Ee(s,Zs),s=mg(h,s,Zs)}r.memoizedProps=r.pendingProps,s===null?Vu(r):Kn=s}function jo(r,s,h,v){ar=Zn=null,mf(s),No=null,wl=0;var b=s.return;try{if(Xv(r,b,s,h,Jn)){Pr=1,Pu(r,ft(h,r.current)),Kn=null;return}}catch(w){if(b!==null)throw Kn=b,w;Pr=1,Pu(r,ft(h,r.current)),Kn=null;return}s.flags&32768?(Xe||v===1?r=!0:Qo||(Jn&536870912)!==0?r=!1:(xa=r=!0,(v===2||v===9||v===3||v===6)&&(v=ts.current,v!==null&&v.tag===13&&(v.flags|=16384))),jg(s,r)):Vu(s)}function Vu(r){var s=r;do{if((s.flags&32768)!==0){jg(s,xa);return}r=s.return;var h=Jv(s.alternate,s,Zs);if(h!==null){Kn=h;return}if(s=s.sibling,s!==null){Kn=s;return}Kn=s=r}while(s!==null);Pr===0&&(Pr=5)}function jg(r,s){do{var h=ty(r.alternate,r);if(h!==null){h.flags&=32767,Kn=h;return}if(h=r.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!s&&(r=r.sibling,r!==null)){Kn=r;return}Kn=r=h}while(r!==null);Pr=6,Kn=null}function $g(r,s,h,v,b,w,z,J,vt){r.cancelPendingCommit=null;do ju();while(ci!==0);if((ur&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(w=s.lanes|s.childLanes,w|=ht,qe(r,h,w,z,J,vt),r===Sr&&(Kn=Sr=null,Jn=0),Yo=s,Ra=r,zo=h,Xf=w,Zf=b,Ng=v,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,dy(We,function(){return Zg(),null})):(r.callbackNode=null,r.callbackPriority=0),v=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||v){v=V.T,V.T=null,b=N.p,N.p=2,z=ur,ur|=4;try{ey(r,s,h)}finally{ur=z,N.p=b,V.T=v}}ci=1,Kg(),Wg(),qg()}}function Kg(){if(ci===1){ci=0;var r=Ra,s=Yo,h=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||h){h=V.T,V.T=null;var v=N.p;N.p=2;var b=ur;ur|=4;try{Dg(s,r);var w=Ad,z=vu(r.containerInfo),J=w.focusedElem,vt=w.selectionRange;if(z!==J&&J&&J.ownerDocument&&mu(J.ownerDocument.documentElement,J)){if(vt!==null&&gl(J)){var Mt=vt.start,Zt=vt.end;if(Zt===void 0&&(Zt=Mt),"selectionStart"in J)J.selectionStart=Mt,J.selectionEnd=Math.min(Zt,J.value.length);else{var ue=J.ownerDocument||document,Nt=ue&&ue.defaultView||window;if(Nt.getSelection){var Gt=Nt.getSelection(),Ln=J.textContent.length,bn=Math.min(vt.start,Ln),gr=vt.end===void 0?bn:Math.min(vt.end,Ln);!Gt.extend&&bn>gr&&(z=gr,gr=bn,bn=z);var Lt=pu(J,bn),xt=pu(J,gr);if(Lt&&xt&&(Gt.rangeCount!==1||Gt.anchorNode!==Lt.node||Gt.anchorOffset!==Lt.offset||Gt.focusNode!==xt.node||Gt.focusOffset!==xt.offset)){var _t=ue.createRange();_t.setStart(Lt.node,Lt.offset),Gt.removeAllRanges(),bn>gr?(Gt.addRange(_t),Gt.extend(xt.node,xt.offset)):(_t.setEnd(xt.node,xt.offset),Gt.addRange(_t))}}}}for(ue=[],Gt=J;Gt=Gt.parentNode;)Gt.nodeType===1&&ue.push({element:Gt,left:Gt.scrollLeft,top:Gt.scrollTop});for(typeof J.focus=="function"&&J.focus(),J=0;J<ue.length;J++){var ne=ue[J];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}ic=!!hd,Ad=hd=null}finally{ur=b,N.p=v,V.T=h}}r.current=s,ci=2}}function Wg(){if(ci===2){ci=0;var r=Ra,s=Yo,h=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||h){h=V.T,V.T=null;var v=N.p;N.p=2;var b=ur;ur|=4;try{wg(r,s.alternate,s)}finally{ur=b,N.p=v,V.T=h}}ci=3}}function qg(){if(ci===4||ci===3){ci=0,xe();var r=Ra,s=Yo,h=zo,v=Ng;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?ci=5:(ci=0,Yo=Ra=null,Xg(r,r.pendingLanes));var b=r.pendingLanes;if(b===0&&(La=null),Le(h),s=s.stateNode,oe&&typeof oe.onCommitFiberRoot=="function")try{oe.onCommitFiberRoot(Ae,s,void 0,(s.current.flags&128)===128)}catch{}if(v!==null){s=V.T,b=N.p,N.p=2,V.T=null;try{for(var w=r.onRecoverableError,z=0;z<v.length;z++){var J=v[z];w(J.value,{componentStack:J.stack})}}finally{V.T=s,N.p=b}}(zo&3)!==0&&ju(),Is(r),b=r.pendingLanes,(h&4194090)!==0&&(b&42)!==0?r===Jf?Ml++:(Ml=0,Jf=r):Ml=0,Pl(0)}}function Xg(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,so(s)))}function ju(r){return Kg(),Wg(),qg(),Zg()}function Zg(){if(ci!==5)return!1;var r=Ra,s=Xf;Xf=0;var h=Le(zo),v=V.T,b=N.p;try{N.p=32>h?32:h,V.T=null,h=Zf,Zf=null;var w=Ra,z=zo;if(ci=0,Yo=Ra=null,zo=0,(ur&6)!==0)throw Error(i(331));var J=ur;if(ur|=4,Mg(w.current),Bg(w,w.current,z,h),ur=J,Pl(0,!1),oe&&typeof oe.onPostCommitFiberRoot=="function")try{oe.onPostCommitFiberRoot(Ae,w)}catch{}return!0}finally{N.p=b,V.T=v,Xg(r,s)}}function Jg(r,s,h){s=ft(h,s),s=kf(r.stateNode,s,2),r=va(r,s,2),r!==null&&(Ue(r,2),Is(r))}function yr(r,s,h){if(r.tag===3)Jg(r,r,h);else for(;s!==null;){if(s.tag===3){Jg(s,r,h);break}else if(s.tag===1){var v=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(La===null||!La.has(v))){r=ft(h,r),h=rg(2),v=va(s,h,2),v!==null&&(ig(h,v,s,r),Ue(v,2),Is(v));break}}s=s.return}}function rd(r,s,h){var v=r.pingCache;if(v===null){v=r.pingCache=new iy;var b=new Set;v.set(s,b)}else b=v.get(s),b===void 0&&(b=new Set,v.set(s,b));b.has(h)||($f=!0,b.add(h),r=uy.bind(null,r,s,h),s.then(r,r))}function uy(r,s,h){var v=r.pingCache;v!==null&&v.delete(s),r.pingedLanes|=r.suspendedLanes&h,r.warmLanes&=~h,Sr===r&&(Jn&h)===h&&(Pr===4||Pr===3&&(Jn&62914560)===Jn&&300>we()-qf?(ur&2)===0&&Vo(r,0):Kf|=h,Ho===Jn&&(Ho=0)),Is(r)}function tp(r,s){s===0&&(s=_e()),r=Kt(r,s),r!==null&&(Ue(r,s),Is(r))}function cy(r){var s=r.memoizedState,h=0;s!==null&&(h=s.retryLane),tp(r,h)}function fy(r,s){var h=0;switch(r.tag){case 13:var v=r.stateNode,b=r.memoizedState;b!==null&&(h=b.retryLane);break;case 19:v=r.stateNode;break;case 22:v=r.stateNode._retryCache;break;default:throw Error(i(314))}v!==null&&v.delete(s),tp(r,h)}function dy(r,s){return Se(r,s)}var $u=null,$o=null,id=!1,Ku=!1,sd=!1,Ao=0;function Is(r){r!==$o&&r.next===null&&($o===null?$u=$o=r:$o=$o.next=r),Ku=!0,id||(id=!0,Ay())}function Pl(r,s){if(!sd&&Ku){sd=!0;do for(var h=!1,v=$u;v!==null;){if(r!==0){var b=v.pendingLanes;if(b===0)var w=0;else{var z=v.suspendedLanes,J=v.pingedLanes;w=(1<<31-Rt(42|r)+1)-1,w&=b&~(z&~J),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(h=!0,ip(v,w))}else w=Jn,w=Te(v,v===Sr?w:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(w&3)===0||an(v,w)||(h=!0,ip(v,w));v=v.next}while(h);sd=!1}}function hy(){ep()}function ep(){Ku=id=!1;var r=0;Ao!==0&&(Cy()&&(r=Ao),Ao=0);for(var s=we(),h=null,v=$u;v!==null;){var b=v.next,w=np(v,s);w===0?(v.next=null,h===null?$u=b:h.next=b,b===null&&($o=h)):(h=v,(r!==0||(w&3)!==0)&&(Ku=!0)),v=b}Pl(r)}function np(r,s){for(var h=r.suspendedLanes,v=r.pingedLanes,b=r.expirationTimes,w=r.pendingLanes&-62914561;0<w;){var z=31-Rt(w),J=1<<z,vt=b[z];vt===-1?((J&h)===0||(J&v)!==0)&&(b[z]=dn(J,s)):vt<=s&&(r.expiredLanes|=J),w&=~J}if(s=Sr,h=Jn,h=Te(r,r===s?h:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),v=r.callbackNode,h===0||r===s&&(cr===2||cr===9)||r.cancelPendingCommit!==null)return v!==null&&v!==null&&Pe(v),r.callbackNode=null,r.callbackPriority=0;if((h&3)===0||an(r,h)){if(s=h&-h,s===r.callbackPriority)return s;switch(v!==null&&Pe(v),Le(h)){case 2:case 8:h=un;break;case 32:h=We;break;case 268435456:h=Rn;break;default:h=We}return v=rp.bind(null,r),h=Se(h,v),r.callbackPriority=s,r.callbackNode=h,s}return v!==null&&v!==null&&Pe(v),r.callbackPriority=2,r.callbackNode=null,2}function rp(r,s){if(ci!==0&&ci!==5)return r.callbackNode=null,r.callbackPriority=0,null;var h=r.callbackNode;if(ju()&&r.callbackNode!==h)return null;var v=Jn;return v=Te(r,r===Sr?v:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),v===0?null:(Fg(r,v,s),np(r,we()),r.callbackNode!=null&&r.callbackNode===h?rp.bind(null,r):null)}function ip(r,s){if(ju())return null;Fg(r,s,!0)}function Ay(){Ty(function(){(ur&6)!==0?Se(En,hy):ep()})}function ad(){return Ao===0&&(Ao=re()),Ao}function sp(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:li(""+r)}function ap(r,s){var h=s.ownerDocument.createElement("input");return h.name=s.name,h.value=s.value,r.id&&h.setAttribute("form",r.id),s.parentNode.insertBefore(h,s),r=new FormData(r),h.parentNode.removeChild(h),r}function gy(r,s,h,v,b){if(s==="submit"&&h&&h.stateNode===b){var w=sp((b[Tn]||null).action),z=v.submitter;z&&(s=(s=z[Tn]||null)?sp(s.formAction):z.getAttribute("formAction"),s!==null&&(w=s,z=null));var J=new Hs("action","action",null,v,b);r.push({event:J,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(Ao!==0){var vt=z?ap(b,z):new FormData(b);wf(h,{pending:!0,data:vt,method:b.method,action:w},null,vt)}}else typeof w=="function"&&(J.preventDefault(),vt=z?ap(b,z):new FormData(b),wf(h,{pending:!0,data:vt,method:b.method,action:w},w,vt))},currentTarget:b}]})}}for(var od=0;od<ut.length;od++){var ld=ut[od],py=ld.toLowerCase(),my=ld[0].toUpperCase()+ld.slice(1);it(py,"on"+my)}it(Y,"onAnimationEnd"),it(st,"onAnimationIteration"),it(nt,"onAnimationStart"),it("dblclick","onDoubleClick"),it("focusin","onFocus"),it("focusout","onBlur"),it(rt,"onTransitionRun"),it(yt,"onTransitionStart"),it(lt,"onTransitionCancel"),it(ct,"onTransitionEnd"),zt("onMouseEnter",["mouseout","mouseover"]),zt("onMouseLeave",["mouseout","mouseover"]),zt("onPointerEnter",["pointerout","pointerover"]),zt("onPointerLeave",["pointerout","pointerover"]),Yt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nl));function op(r,s){s=(s&4)!==0;for(var h=0;h<r.length;h++){var v=r[h],b=v.event;v=v.listeners;t:{var w=void 0;if(s)for(var z=v.length-1;0<=z;z--){var J=v[z],vt=J.instance,Mt=J.currentTarget;if(J=J.listener,vt!==w&&b.isPropagationStopped())break t;w=J,b.currentTarget=Mt;try{w(b)}catch(Zt){Mu(Zt)}b.currentTarget=null,w=vt}else for(z=0;z<v.length;z++){if(J=v[z],vt=J.instance,Mt=J.currentTarget,J=J.listener,vt!==w&&b.isPropagationStopped())break t;w=J,b.currentTarget=Mt;try{w(b)}catch(Zt){Mu(Zt)}b.currentTarget=null,w=vt}}}}function Wn(r,s){var h=s[sr];h===void 0&&(h=s[sr]=new Set);var v=r+"__bubble";h.has(v)||(lp(s,r,2,!1),h.add(v))}function ud(r,s,h){var v=0;s&&(v|=4),lp(h,r,v,s)}var Wu="_reactListening"+Math.random().toString(36).slice(2);function cd(r){if(!r[Wu]){r[Wu]=!0,hi.forEach(function(h){h!=="selectionchange"&&(vy.has(h)||ud(h,!1,r),ud(h,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Wu]||(s[Wu]=!0,ud("selectionchange",!1,s))}}function lp(r,s,h,v){switch(Bp(s)){case 2:var b=Vy;break;case 8:b=jy;break;default:b=Td}h=b.bind(null,s,h,r),b=void 0,!Fi||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(b=!0),v?b!==void 0?r.addEventListener(s,h,{capture:!0,passive:b}):r.addEventListener(s,h,!0):b!==void 0?r.addEventListener(s,h,{passive:b}):r.addEventListener(s,h,!1)}function fd(r,s,h,v,b){var w=v;if((s&1)===0&&(s&2)===0&&v!==null)t:for(;;){if(v===null)return;var z=v.tag;if(z===3||z===4){var J=v.stateNode.containerInfo;if(J===b)break;if(z===4)for(z=v.return;z!==null;){var vt=z.tag;if((vt===3||vt===4)&&z.stateNode.containerInfo===b)return;z=z.return}for(;J!==null;){if(z=Tr(J),z===null)return;if(vt=z.tag,vt===5||vt===6||vt===26||vt===27){v=w=z;continue t}J=J.parentNode}}v=v.return}Ci(function(){var Mt=w,Zt=Ss(h),ue=[];t:{var Nt=dt.get(r);if(Nt!==void 0){var Gt=Hs,Ln=r;switch(r){case"keypress":if(aa(h)===0)break t;case"keydown":case"keyup":Gt=us;break;case"focusin":Ln="focus",Gt=xs;break;case"focusout":Ln="blur",Gt=xs;break;case"beforeblur":case"afterblur":Gt=xs;break;case"click":if(h.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Gt=qn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Gt=ca;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Gt=So;break;case Y:case st:case nt:Gt=Z;break;case ct:Gt=ou;break;case"scroll":case"scrollend":Gt=Ys;break;case"wheel":Gt=Wc;break;case"copy":case"cut":case"paste":Gt=Et;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Gt=mi;break;case"toggle":case"beforetoggle":Gt=Xa}var bn=(s&4)!==0,gr=!bn&&(r==="scroll"||r==="scrollend"),Lt=bn?Nt!==null?Nt+"Capture":null:Nt;bn=[];for(var xt=Mt,_t;xt!==null;){var ne=xt;if(_t=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||_t===null||Lt===null||(ne=xn(xt,Lt),ne!=null&&bn.push(Ul(xt,ne,_t))),gr)break;xt=xt.return}0<bn.length&&(Nt=new Gt(Nt,Ln,null,h,Zt),ue.push({event:Nt,listeners:bn}))}}if((s&7)===0){t:{if(Nt=r==="mouseover"||r==="pointerover",Gt=r==="mouseout"||r==="pointerout",Nt&&h!==Gs&&(Ln=h.relatedTarget||h.fromElement)&&(Tr(Ln)||Ln[zn]))break t;if((Gt||Nt)&&(Nt=Zt.window===Zt?Zt:(Nt=Zt.ownerDocument)?Nt.defaultView||Nt.parentWindow:window,Gt?(Ln=h.relatedTarget||h.toElement,Gt=Mt,Ln=Ln?Tr(Ln):null,Ln!==null&&(gr=d(Ln),bn=Ln.tag,Ln!==gr||bn!==5&&bn!==27&&bn!==6)&&(Ln=null)):(Gt=null,Ln=Mt),Gt!==Ln)){if(bn=qn,ne="onMouseLeave",Lt="onMouseEnter",xt="mouse",(r==="pointerout"||r==="pointerover")&&(bn=mi,ne="onPointerLeave",Lt="onPointerEnter",xt="pointer"),gr=Gt==null?Nt:Yr(Gt),_t=Ln==null?Nt:Yr(Ln),Nt=new bn(ne,xt+"leave",Gt,h,Zt),Nt.target=gr,Nt.relatedTarget=_t,ne=null,Tr(Zt)===Mt&&(bn=new bn(Lt,xt+"enter",Ln,h,Zt),bn.target=_t,bn.relatedTarget=gr,ne=bn),gr=ne,Gt&&Ln)e:{for(bn=Gt,Lt=Ln,xt=0,_t=bn;_t;_t=Ko(_t))xt++;for(_t=0,ne=Lt;ne;ne=Ko(ne))_t++;for(;0<xt-_t;)bn=Ko(bn),xt--;for(;0<_t-xt;)Lt=Ko(Lt),_t--;for(;xt--;){if(bn===Lt||Lt!==null&&bn===Lt.alternate)break e;bn=Ko(bn),Lt=Ko(Lt)}bn=null}else bn=null;Gt!==null&&up(ue,Nt,Gt,bn,!1),Ln!==null&&gr!==null&&up(ue,gr,Ln,bn,!0)}}t:{if(Nt=Mt?Yr(Mt):window,Gt=Nt.nodeName&&Nt.nodeName.toLowerCase(),Gt==="select"||Gt==="input"&&Nt.type==="file")var Je=wi;else if(du(Nt))if(Ja)Je=nf;else{Je=tf;var Vn=Jc}else Gt=Nt.nodeName,!Gt||Gt.toLowerCase()!=="input"||Nt.type!=="checkbox"&&Nt.type!=="radio"?Mt&&Fs(Mt.elementType)&&(Je=wi):Je=ef;if(Je&&(Je=Je(r,Mt))){hl(ue,Je,h,Zt);break t}Vn&&Vn(r,Nt,Mt),r==="focusout"&&Mt&&Nt.type==="number"&&Mt.memoizedProps.value!=null&&Ya(Nt,"number",Nt.value)}switch(Vn=Mt?Yr(Mt):window,r){case"focusin":(du(Vn)||Vn.contentEditable==="true")&&(Qi=Vn,ha=Mt,eo=null);break;case"focusout":eo=ha=Qi=null;break;case"mousedown":pl=!0;break;case"contextmenu":case"mouseup":case"dragend":pl=!1,R(ue,h,Zt);break;case"selectionchange":if(Ro)break;case"keydown":case"keyup":R(ue,h,Zt)}var fn;if(xo)t:{switch(r){case"compositionstart":var Sn="onCompositionStart";break t;case"compositionend":Sn="onCompositionEnd";break t;case"compositionupdate":Sn="onCompositionUpdate";break t}Sn=void 0}else fa?cu(r,h)&&(Sn="onCompositionEnd"):r==="keydown"&&h.keyCode===229&&(Sn="onCompositionStart");Sn&&(Gi&&h.locale!=="ko"&&(fa||Sn!=="onCompositionStart"?Sn==="onCompositionEnd"&&fa&&(fn=bo()):(Si=Zt,$a="value"in Si?Si.value:Si.textContent,fa=!0)),Vn=qu(Mt,Sn),0<Vn.length&&(Sn=new wt(Sn,r,null,h,Zt),ue.push({event:Sn,listeners:Vn}),fn?Sn.data=fn:(fn=fu(h),fn!==null&&(Sn.data=fn)))),(fn=fs?dl(r,h):ds(r,h))&&(Sn=qu(Mt,"onBeforeInput"),0<Sn.length&&(Vn=new wt("onBeforeInput","beforeinput",null,h,Zt),ue.push({event:Vn,listeners:Sn}),Vn.data=fn)),gy(ue,r,Mt,h,Zt)}op(ue,s)})}function Ul(r,s,h){return{instance:r,listener:s,currentTarget:h}}function qu(r,s){for(var h=s+"Capture",v=[];r!==null;){var b=r,w=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||w===null||(b=xn(r,h),b!=null&&v.unshift(Ul(r,b,w)),b=xn(r,s),b!=null&&v.push(Ul(r,b,w))),r.tag===3)return v;r=r.return}return[]}function Ko(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function up(r,s,h,v,b){for(var w=s._reactName,z=[];h!==null&&h!==v;){var J=h,vt=J.alternate,Mt=J.stateNode;if(J=J.tag,vt!==null&&vt===v)break;J!==5&&J!==26&&J!==27||Mt===null||(vt=Mt,b?(Mt=xn(h,w),Mt!=null&&z.unshift(Ul(h,Mt,vt))):b||(Mt=xn(h,w),Mt!=null&&z.push(Ul(h,Mt,vt)))),h=h.return}z.length!==0&&r.push({event:s,listeners:z})}var yy=/\r\n?/g,Ey=/\u0000|\uFFFD/g;function cp(r){return(typeof r=="string"?r:""+r).replace(yy,`
`).replace(Ey,"")}function fp(r,s){return s=cp(s),cp(r)===s}function Xu(){}function Ar(r,s,h,v,b,w){switch(h){case"children":typeof v=="string"?s==="body"||s==="textarea"&&v===""||as(r,v):(typeof v=="number"||typeof v=="bigint")&&s!=="body"&&as(r,""+v);break;case"className":Bn(r,"class",v);break;case"tabIndex":Bn(r,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":Bn(r,h,v);break;case"style":ia(r,v,w);break;case"data":if(s!=="object"){Bn(r,"data",v);break}case"src":case"href":if(v===""&&(s!=="a"||h!=="href")){r.removeAttribute(h);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){r.removeAttribute(h);break}v=li(""+v),r.setAttribute(h,v);break;case"action":case"formAction":if(typeof v=="function"){r.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(h==="formAction"?(s!=="input"&&Ar(r,s,"name",b.name,b,null),Ar(r,s,"formEncType",b.formEncType,b,null),Ar(r,s,"formMethod",b.formMethod,b,null),Ar(r,s,"formTarget",b.formTarget,b,null)):(Ar(r,s,"encType",b.encType,b,null),Ar(r,s,"method",b.method,b,null),Ar(r,s,"target",b.target,b,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){r.removeAttribute(h);break}v=li(""+v),r.setAttribute(h,v);break;case"onClick":v!=null&&(r.onclick=Xu);break;case"onScroll":v!=null&&Wn("scroll",r);break;case"onScrollEnd":v!=null&&Wn("scrollend",r);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(i(61));if(h=v.__html,h!=null){if(b.children!=null)throw Error(i(60));r.innerHTML=h}}break;case"multiple":r.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":r.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){r.removeAttribute("xlink:href");break}h=li(""+v),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?r.setAttribute(h,""+v):r.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?r.setAttribute(h,""):r.removeAttribute(h);break;case"capture":case"download":v===!0?r.setAttribute(h,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?r.setAttribute(h,v):r.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?r.setAttribute(h,v):r.removeAttribute(h);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?r.removeAttribute(h):r.setAttribute(h,v);break;case"popover":Wn("beforetoggle",r),Wn("toggle",r),Fn(r,"popover",v);break;case"xlinkActuate":St(r,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":St(r,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":St(r,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":St(r,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":St(r,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":St(r,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":St(r,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":St(r,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":St(r,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":Fn(r,"is",v);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=ja.get(h)||h,Fn(r,h,v))}}function dd(r,s,h,v,b,w){switch(h){case"style":ia(r,v,w);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(i(61));if(h=v.__html,h!=null){if(b.children!=null)throw Error(i(60));r.innerHTML=h}}break;case"children":typeof v=="string"?as(r,v):(typeof v=="number"||typeof v=="bigint")&&as(r,""+v);break;case"onScroll":v!=null&&Wn("scroll",r);break;case"onScrollEnd":v!=null&&Wn("scrollend",r);break;case"onClick":v!=null&&(r.onclick=Xu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ii.hasOwnProperty(h))t:{if(h[0]==="o"&&h[1]==="n"&&(b=h.endsWith("Capture"),s=h.slice(2,b?h.length-7:void 0),w=r[Tn]||null,w=w!=null?w[h]:null,typeof w=="function"&&r.removeEventListener(s,w,b),typeof v=="function")){typeof w!="function"&&w!==null&&(h in r?r[h]=null:r.hasAttribute(h)&&r.removeAttribute(h)),r.addEventListener(s,v,b);break t}h in r?r[h]=v:v===!0?r.setAttribute(h,""):Fn(r,h,v)}}}function fi(r,s,h){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Wn("error",r),Wn("load",r);var v=!1,b=!1,w;for(w in h)if(h.hasOwnProperty(w)){var z=h[w];if(z!=null)switch(w){case"src":v=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Ar(r,s,w,z,h,null)}}b&&Ar(r,s,"srcSet",h.srcSet,h,null),v&&Ar(r,s,"src",h.src,h,null);return;case"input":Wn("invalid",r);var J=w=z=b=null,vt=null,Mt=null;for(v in h)if(h.hasOwnProperty(v)){var Zt=h[v];if(Zt!=null)switch(v){case"name":b=Zt;break;case"type":z=Zt;break;case"checked":vt=Zt;break;case"defaultChecked":Mt=Zt;break;case"value":w=Zt;break;case"defaultValue":J=Zt;break;case"children":case"dangerouslySetInnerHTML":if(Zt!=null)throw Error(i(137,s));break;default:Ar(r,s,v,Zt,h,null)}}Us(r,w,J,vt,Mt,z,b,!1),Gr(r);return;case"select":Wn("invalid",r),v=z=w=null;for(b in h)if(h.hasOwnProperty(b)&&(J=h[b],J!=null))switch(b){case"value":w=J;break;case"defaultValue":z=J;break;case"multiple":v=J;default:Ar(r,s,b,J,h,null)}s=w,h=z,r.multiple=!!v,s!=null?br(r,!!v,s,!1):h!=null&&br(r,!!v,h,!0);return;case"textarea":Wn("invalid",r),w=b=v=null;for(z in h)if(h.hasOwnProperty(z)&&(J=h[z],J!=null))switch(z){case"value":v=J;break;case"defaultValue":b=J;break;case"children":w=J;break;case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(91));break;default:Ar(r,s,z,J,h,null)}kr(r,v,b,w),Gr(r);return;case"option":for(vt in h)if(h.hasOwnProperty(vt)&&(v=h[vt],v!=null))switch(vt){case"selected":r.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:Ar(r,s,vt,v,h,null)}return;case"dialog":Wn("beforetoggle",r),Wn("toggle",r),Wn("cancel",r),Wn("close",r);break;case"iframe":case"object":Wn("load",r);break;case"video":case"audio":for(v=0;v<Nl.length;v++)Wn(Nl[v],r);break;case"image":Wn("error",r),Wn("load",r);break;case"details":Wn("toggle",r);break;case"embed":case"source":case"link":Wn("error",r),Wn("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Mt in h)if(h.hasOwnProperty(Mt)&&(v=h[Mt],v!=null))switch(Mt){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Ar(r,s,Mt,v,h,null)}return;default:if(Fs(s)){for(Zt in h)h.hasOwnProperty(Zt)&&(v=h[Zt],v!==void 0&&dd(r,s,Zt,v,h,void 0));return}}for(J in h)h.hasOwnProperty(J)&&(v=h[J],v!=null&&Ar(r,s,J,v,h,null))}function by(r,s,h,v){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,w=null,z=null,J=null,vt=null,Mt=null,Zt=null;for(Gt in h){var ue=h[Gt];if(h.hasOwnProperty(Gt)&&ue!=null)switch(Gt){case"checked":break;case"value":break;case"defaultValue":vt=ue;default:v.hasOwnProperty(Gt)||Ar(r,s,Gt,null,v,ue)}}for(var Nt in v){var Gt=v[Nt];if(ue=h[Nt],v.hasOwnProperty(Nt)&&(Gt!=null||ue!=null))switch(Nt){case"type":w=Gt;break;case"name":b=Gt;break;case"checked":Mt=Gt;break;case"defaultChecked":Zt=Gt;break;case"value":z=Gt;break;case"defaultValue":J=Gt;break;case"children":case"dangerouslySetInnerHTML":if(Gt!=null)throw Error(i(137,s));break;default:Gt!==ue&&Ar(r,s,Nt,Gt,v,ue)}}Ui(r,z,J,vt,Mt,Zt,w,b);return;case"select":Gt=z=J=Nt=null;for(w in h)if(vt=h[w],h.hasOwnProperty(w)&&vt!=null)switch(w){case"value":break;case"multiple":Gt=vt;default:v.hasOwnProperty(w)||Ar(r,s,w,null,v,vt)}for(b in v)if(w=v[b],vt=h[b],v.hasOwnProperty(b)&&(w!=null||vt!=null))switch(b){case"value":Nt=w;break;case"defaultValue":J=w;break;case"multiple":z=w;default:w!==vt&&Ar(r,s,b,w,v,vt)}s=J,h=z,v=Gt,Nt!=null?br(r,!!h,Nt,!1):!!v!=!!h&&(s!=null?br(r,!!h,s,!0):br(r,!!h,h?[]:"",!1));return;case"textarea":Gt=Nt=null;for(J in h)if(b=h[J],h.hasOwnProperty(J)&&b!=null&&!v.hasOwnProperty(J))switch(J){case"value":break;case"children":break;default:Ar(r,s,J,null,v,b)}for(z in v)if(b=v[z],w=h[z],v.hasOwnProperty(z)&&(b!=null||w!=null))switch(z){case"value":Nt=b;break;case"defaultValue":Gt=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(i(91));break;default:b!==w&&Ar(r,s,z,b,v,w)}za(r,Nt,Gt);return;case"option":for(var Ln in h)if(Nt=h[Ln],h.hasOwnProperty(Ln)&&Nt!=null&&!v.hasOwnProperty(Ln))switch(Ln){case"selected":r.selected=!1;break;default:Ar(r,s,Ln,null,v,Nt)}for(vt in v)if(Nt=v[vt],Gt=h[vt],v.hasOwnProperty(vt)&&Nt!==Gt&&(Nt!=null||Gt!=null))switch(vt){case"selected":r.selected=Nt&&typeof Nt!="function"&&typeof Nt!="symbol";break;default:Ar(r,s,vt,Nt,v,Gt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bn in h)Nt=h[bn],h.hasOwnProperty(bn)&&Nt!=null&&!v.hasOwnProperty(bn)&&Ar(r,s,bn,null,v,Nt);for(Mt in v)if(Nt=v[Mt],Gt=h[Mt],v.hasOwnProperty(Mt)&&Nt!==Gt&&(Nt!=null||Gt!=null))switch(Mt){case"children":case"dangerouslySetInnerHTML":if(Nt!=null)throw Error(i(137,s));break;default:Ar(r,s,Mt,Nt,v,Gt)}return;default:if(Fs(s)){for(var gr in h)Nt=h[gr],h.hasOwnProperty(gr)&&Nt!==void 0&&!v.hasOwnProperty(gr)&&dd(r,s,gr,void 0,v,Nt);for(Zt in v)Nt=v[Zt],Gt=h[Zt],!v.hasOwnProperty(Zt)||Nt===Gt||Nt===void 0&&Gt===void 0||dd(r,s,Zt,Nt,v,Gt);return}}for(var Lt in h)Nt=h[Lt],h.hasOwnProperty(Lt)&&Nt!=null&&!v.hasOwnProperty(Lt)&&Ar(r,s,Lt,null,v,Nt);for(ue in v)Nt=v[ue],Gt=h[ue],!v.hasOwnProperty(ue)||Nt===Gt||Nt==null&&Gt==null||Ar(r,s,ue,Nt,v,Gt)}var hd=null,Ad=null;function Zu(r){return r.nodeType===9?r:r.ownerDocument}function dp(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hp(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function gd(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var pd=null;function Cy(){var r=window.event;return r&&r.type==="popstate"?r===pd?!1:(pd=r,!0):(pd=null,!1)}var Ap=typeof setTimeout=="function"?setTimeout:void 0,Sy=typeof clearTimeout=="function"?clearTimeout:void 0,gp=typeof Promise=="function"?Promise:void 0,Ty=typeof queueMicrotask=="function"?queueMicrotask:typeof gp<"u"?function(r){return gp.resolve(null).then(r).catch(xy)}:Ap;function xy(r){setTimeout(function(){throw r})}function Da(r){return r==="head"}function pp(r,s){var h=s,v=0,b=0;do{var w=h.nextSibling;if(r.removeChild(h),w&&w.nodeType===8)if(h=w.data,h==="/$"){if(0<v&&8>v){h=v;var z=r.ownerDocument;if(h&1&&Fl(z.documentElement),h&2&&Fl(z.body),h&4)for(h=z.head,Fl(h),z=h.firstChild;z;){var J=z.nextSibling,vt=z.nodeName;z[ai]||vt==="SCRIPT"||vt==="STYLE"||vt==="LINK"&&z.rel.toLowerCase()==="stylesheet"||h.removeChild(z),z=J}}if(b===0){r.removeChild(w),$l(s);return}b--}else h==="$"||h==="$?"||h==="$!"?b++:v=h.charCodeAt(0)-48;else v=0;h=w}while(h);$l(s)}function md(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var h=s;switch(s=s.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":md(h),Lr(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}r.removeChild(h)}}function wy(r,s,h,v){for(;r.nodeType===1;){var b=h;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!v&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(v){if(!r[ai])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(w=r.getAttribute("rel"),w==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(w!==b.rel||r.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||r.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||r.getAttribute("title")!==(b.title==null?null:b.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(w=r.getAttribute("src"),(w!==(b.src==null?null:b.src)||r.getAttribute("type")!==(b.type==null?null:b.type)||r.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&w&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var w=b.name==null?null:""+b.name;if(b.type==="hidden"&&r.getAttribute("name")===w)return r}else return r;if(r=ys(r.nextSibling),r===null)break}return null}function Ly(r,s,h){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!h||(r=ys(r.nextSibling),r===null))return null;return r}function vd(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function Ry(r,s){var h=r.ownerDocument;if(r.data!=="$?"||h.readyState==="complete")s();else{var v=function(){s(),h.removeEventListener("DOMContentLoaded",v)};h.addEventListener("DOMContentLoaded",v),r._reactRetry=v}}function ys(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var yd=null;function mp(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var h=r.data;if(h==="$"||h==="$!"||h==="$?"){if(s===0)return r;s--}else h==="/$"&&s++}r=r.previousSibling}return null}function vp(r,s,h){switch(s=Zu(h),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Fl(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);Lr(r)}var ns=new Map,yp=new Set;function Ju(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Js=N.d;N.d={f:Iy,r:Dy,D:ky,C:By,L:Oy,m:_y,X:Py,S:My,M:Ny};function Iy(){var r=Js.f(),s=zu();return r||s}function Dy(r){var s=Dr(r);s!==null&&s.tag===5&&s.type==="form"?FA(s):Js.r(r)}var Wo=typeof document>"u"?null:document;function Ep(r,s,h){var v=Wo;if(v&&typeof s=="string"&&s){var b=Wr(s);b='link[rel="'+r+'"][href="'+b+'"]',typeof h=="string"&&(b+='[crossorigin="'+h+'"]'),yp.has(b)||(yp.add(b),r={rel:r,crossOrigin:h,href:s},v.querySelector(b)===null&&(s=v.createElement("link"),fi(s,"link",r),Gn(s),v.head.appendChild(s)))}}function ky(r){Js.D(r),Ep("dns-prefetch",r,null)}function By(r,s){Js.C(r,s),Ep("preconnect",r,s)}function Oy(r,s,h){Js.L(r,s,h);var v=Wo;if(v&&r&&s){var b='link[rel="preload"][as="'+Wr(s)+'"]';s==="image"&&h&&h.imageSrcSet?(b+='[imagesrcset="'+Wr(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(b+='[imagesizes="'+Wr(h.imageSizes)+'"]')):b+='[href="'+Wr(r)+'"]';var w=b;switch(s){case"style":w=qo(r);break;case"script":w=Xo(r)}ns.has(w)||(r=u({rel:"preload",href:s==="image"&&h&&h.imageSrcSet?void 0:r,as:s},h),ns.set(w,r),v.querySelector(b)!==null||s==="style"&&v.querySelector(Gl(w))||s==="script"&&v.querySelector(Ql(w))||(s=v.createElement("link"),fi(s,"link",r),Gn(s),v.head.appendChild(s)))}}function _y(r,s){Js.m(r,s);var h=Wo;if(h&&r){var v=s&&typeof s.as=="string"?s.as:"script",b='link[rel="modulepreload"][as="'+Wr(v)+'"][href="'+Wr(r)+'"]',w=b;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Xo(r)}if(!ns.has(w)&&(r=u({rel:"modulepreload",href:r},s),ns.set(w,r),h.querySelector(b)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Ql(w)))return}v=h.createElement("link"),fi(v,"link",r),Gn(v),h.head.appendChild(v)}}}function My(r,s,h){Js.S(r,s,h);var v=Wo;if(v&&r){var b=tr(v).hoistableStyles,w=qo(r);s=s||"default";var z=b.get(w);if(!z){var J={loading:0,preload:null};if(z=v.querySelector(Gl(w)))J.loading=5;else{r=u({rel:"stylesheet",href:r,"data-precedence":s},h),(h=ns.get(w))&&Ed(r,h);var vt=z=v.createElement("link");Gn(vt),fi(vt,"link",r),vt._p=new Promise(function(Mt,Zt){vt.onload=Mt,vt.onerror=Zt}),vt.addEventListener("load",function(){J.loading|=1}),vt.addEventListener("error",function(){J.loading|=2}),J.loading|=4,tc(z,s,v)}z={type:"stylesheet",instance:z,count:1,state:J},b.set(w,z)}}}function Py(r,s){Js.X(r,s);var h=Wo;if(h&&r){var v=tr(h).hoistableScripts,b=Xo(r),w=v.get(b);w||(w=h.querySelector(Ql(b)),w||(r=u({src:r,async:!0},s),(s=ns.get(b))&&bd(r,s),w=h.createElement("script"),Gn(w),fi(w,"link",r),h.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},v.set(b,w))}}function Ny(r,s){Js.M(r,s);var h=Wo;if(h&&r){var v=tr(h).hoistableScripts,b=Xo(r),w=v.get(b);w||(w=h.querySelector(Ql(b)),w||(r=u({src:r,async:!0,type:"module"},s),(s=ns.get(b))&&bd(r,s),w=h.createElement("script"),Gn(w),fi(w,"link",r),h.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},v.set(b,w))}}function bp(r,s,h,v){var b=(b=Tt.current)?Ju(b):null;if(!b)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(s=qo(h.href),h=tr(b).hoistableStyles,v=h.get(s),v||(v={type:"style",instance:null,count:0,state:null},h.set(s,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){r=qo(h.href);var w=tr(b).hoistableStyles,z=w.get(r);if(z||(b=b.ownerDocument||b,z={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(r,z),(w=b.querySelector(Gl(r)))&&!w._p&&(z.instance=w,z.state.loading=5),ns.has(r)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},ns.set(r,h),w||Uy(b,r,h,z.state))),s&&v===null)throw Error(i(528,""));return z}if(s&&v!==null)throw Error(i(529,""));return null;case"script":return s=h.async,h=h.src,typeof h=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Xo(h),h=tr(b).hoistableScripts,v=h.get(s),v||(v={type:"script",instance:null,count:0,state:null},h.set(s,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function qo(r){return'href="'+Wr(r)+'"'}function Gl(r){return'link[rel="stylesheet"]['+r+"]"}function Cp(r){return u({},r,{"data-precedence":r.precedence,precedence:null})}function Uy(r,s,h,v){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?v.loading=1:(s=r.createElement("link"),v.preload=s,s.addEventListener("load",function(){return v.loading|=1}),s.addEventListener("error",function(){return v.loading|=2}),fi(s,"link",h),Gn(s),r.head.appendChild(s))}function Xo(r){return'[src="'+Wr(r)+'"]'}function Ql(r){return"script[async]"+r}function Sp(r,s,h){if(s.count++,s.instance===null)switch(s.type){case"style":var v=r.querySelector('style[data-href~="'+Wr(h.href)+'"]');if(v)return s.instance=v,Gn(v),v;var b=u({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return v=(r.ownerDocument||r).createElement("style"),Gn(v),fi(v,"style",b),tc(v,h.precedence,r),s.instance=v;case"stylesheet":b=qo(h.href);var w=r.querySelector(Gl(b));if(w)return s.state.loading|=4,s.instance=w,Gn(w),w;v=Cp(h),(b=ns.get(b))&&Ed(v,b),w=(r.ownerDocument||r).createElement("link"),Gn(w);var z=w;return z._p=new Promise(function(J,vt){z.onload=J,z.onerror=vt}),fi(w,"link",v),s.state.loading|=4,tc(w,h.precedence,r),s.instance=w;case"script":return w=Xo(h.src),(b=r.querySelector(Ql(w)))?(s.instance=b,Gn(b),b):(v=h,(b=ns.get(w))&&(v=u({},h),bd(v,b)),r=r.ownerDocument||r,b=r.createElement("script"),Gn(b),fi(b,"link",v),r.head.appendChild(b),s.instance=b);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(v=s.instance,s.state.loading|=4,tc(v,h.precedence,r));return s.instance}function tc(r,s,h){for(var v=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=v.length?v[v.length-1]:null,w=b,z=0;z<v.length;z++){var J=v[z];if(J.dataset.precedence===s)w=J;else if(w!==b)break}w?w.parentNode.insertBefore(r,w.nextSibling):(s=h.nodeType===9?h.head:h,s.insertBefore(r,s.firstChild))}function Ed(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function bd(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var ec=null;function Tp(r,s,h){if(ec===null){var v=new Map,b=ec=new Map;b.set(h,v)}else b=ec,v=b.get(h),v||(v=new Map,b.set(h,v));if(v.has(r))return v;for(v.set(r,null),h=h.getElementsByTagName(r),b=0;b<h.length;b++){var w=h[b];if(!(w[ai]||w[rn]||r==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var z=w.getAttribute(s)||"";z=r+z;var J=v.get(z);J?J.push(w):v.set(z,[w])}}return v}function xp(r,s,h){r=r.ownerDocument||r,r.head.insertBefore(h,s==="title"?r.querySelector("head > title"):null)}function Fy(r,s,h){if(h===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function wp(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Hl=null;function Gy(){}function Qy(r,s,h){if(Hl===null)throw Error(i(475));var v=Hl;if(s.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var b=qo(h.href),w=r.querySelector(Gl(b));if(w){r=w._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(v.count++,v=nc.bind(v),r.then(v,v)),s.state.loading|=4,s.instance=w,Gn(w);return}w=r.ownerDocument||r,h=Cp(h),(b=ns.get(b))&&Ed(h,b),w=w.createElement("link"),Gn(w);var z=w;z._p=new Promise(function(J,vt){z.onload=J,z.onerror=vt}),fi(w,"link",h),s.instance=w}v.stylesheets===null&&(v.stylesheets=new Map),v.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(v.count++,s=nc.bind(v),r.addEventListener("load",s),r.addEventListener("error",s))}}function Hy(){if(Hl===null)throw Error(i(475));var r=Hl;return r.stylesheets&&r.count===0&&Cd(r,r.stylesheets),0<r.count?function(s){var h=setTimeout(function(){if(r.stylesheets&&Cd(r,r.stylesheets),r.unsuspend){var v=r.unsuspend;r.unsuspend=null,v()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(h)}}:null}function nc(){if(this.count--,this.count===0){if(this.stylesheets)Cd(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var rc=null;function Cd(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,rc=new Map,s.forEach(Yy,r),rc=null,nc.call(r))}function Yy(r,s){if(!(s.state.loading&4)){var h=rc.get(r);if(h)var v=h.get(null);else{h=new Map,rc.set(r,h);for(var b=r.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<b.length;w++){var z=b[w];(z.nodeName==="LINK"||z.getAttribute("media")!=="not all")&&(h.set(z.dataset.precedence,z),v=z)}v&&h.set(null,v)}b=s.instance,z=b.getAttribute("data-precedence"),w=h.get(z)||v,w===v&&h.set(null,b),h.set(z,b),this.count++,v=nc.bind(this),b.addEventListener("load",v),b.addEventListener("error",v),w?w.parentNode.insertBefore(b,w.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(b,r.firstChild)),s.state.loading|=4}}var Yl={$$typeof:x,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function zy(r,s,h,v,b,w,z,J){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ve(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ve(0),this.hiddenUpdates=ve(null),this.identifierPrefix=v,this.onUncaughtError=b,this.onCaughtError=w,this.onRecoverableError=z,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=J,this.incompleteTransitions=new Map}function Lp(r,s,h,v,b,w,z,J,vt,Mt,Zt,ue){return r=new zy(r,s,h,z,J,vt,Mt,ue),s=1,w===!0&&(s|=24),w=ae(3,null,null,s),r.current=w,w.stateNode=r,s=Bo(),s.refCount++,r.pooledCache=s,s.refCount++,w.memoizedState={element:v,isDehydrated:h,cache:s},of(w),r}function Rp(r){return r?(r=Ft,r):Ft}function Ip(r,s,h,v,b,w){b=Rp(b),v.context===null?v.context=b:v.pendingContext=b,v=ma(s),v.payload={element:h},w=w===void 0?null:w,w!==null&&(v.callback=w),h=va(r,v,s),h!==null&&(ji(h,r,s),yl(h,r,s))}function Dp(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var h=r.retryLane;r.retryLane=h!==0&&h<s?h:s}}function Sd(r,s){Dp(r,s),(r=r.alternate)&&Dp(r,s)}function kp(r){if(r.tag===13){var s=Kt(r,67108864);s!==null&&ji(s,r,67108864),Sd(r,67108864)}}var ic=!0;function Vy(r,s,h,v){var b=V.T;V.T=null;var w=N.p;try{N.p=2,Td(r,s,h,v)}finally{N.p=w,V.T=b}}function jy(r,s,h,v){var b=V.T;V.T=null;var w=N.p;try{N.p=8,Td(r,s,h,v)}finally{N.p=w,V.T=b}}function Td(r,s,h,v){if(ic){var b=xd(v);if(b===null)fd(r,s,v,sc,h),Op(r,v);else if(Ky(b,r,s,h,v))v.stopPropagation();else if(Op(r,v),s&4&&-1<$y.indexOf(r)){for(;b!==null;){var w=Dr(b);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var z=It(w.pendingLanes);if(z!==0){var J=w;for(J.pendingLanes|=2,J.entangledLanes|=2;z;){var vt=1<<31-Rt(z);J.entanglements[1]|=vt,z&=~vt}Is(w),(ur&6)===0&&(Hu=we()+500,Pl(0))}}break;case 13:J=Kt(w,2),J!==null&&ji(J,w,2),zu(),Sd(w,2)}if(w=xd(v),w===null&&fd(r,s,v,sc,h),w===b)break;b=w}b!==null&&v.stopPropagation()}else fd(r,s,v,null,h)}}function xd(r){return r=Ss(r),wd(r)}var sc=null;function wd(r){if(sc=null,r=Tr(r),r!==null){var s=d(r);if(s===null)r=null;else{var h=s.tag;if(h===13){if(r=a(s),r!==null)return r;r=null}else if(h===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return sc=r,null}function Bp(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(en()){case En:return 2;case un:return 8;case We:case $e:return 32;case Rn:return 268435456;default:return 32}default:return 32}}var Ld=!1,ka=null,Ba=null,Oa=null,zl=new Map,Vl=new Map,_a=[],$y="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Op(r,s){switch(r){case"focusin":case"focusout":ka=null;break;case"dragenter":case"dragleave":Ba=null;break;case"mouseover":case"mouseout":Oa=null;break;case"pointerover":case"pointerout":zl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vl.delete(s.pointerId)}}function jl(r,s,h,v,b,w){return r===null||r.nativeEvent!==w?(r={blockedOn:s,domEventName:h,eventSystemFlags:v,nativeEvent:w,targetContainers:[b]},s!==null&&(s=Dr(s),s!==null&&kp(s)),r):(r.eventSystemFlags|=v,s=r.targetContainers,b!==null&&s.indexOf(b)===-1&&s.push(b),r)}function Ky(r,s,h,v,b){switch(s){case"focusin":return ka=jl(ka,r,s,h,v,b),!0;case"dragenter":return Ba=jl(Ba,r,s,h,v,b),!0;case"mouseover":return Oa=jl(Oa,r,s,h,v,b),!0;case"pointerover":var w=b.pointerId;return zl.set(w,jl(zl.get(w)||null,r,s,h,v,b)),!0;case"gotpointercapture":return w=b.pointerId,Vl.set(w,jl(Vl.get(w)||null,r,s,h,v,b)),!0}return!1}function _p(r){var s=Tr(r.target);if(s!==null){var h=d(s);if(h!==null){if(s=h.tag,s===13){if(s=a(h),s!==null){r.blockedOn=s,Me(r.priority,function(){if(h.tag===13){var v=Vi();v=Wt(v);var b=Kt(h,v);b!==null&&ji(b,h,v),Sd(h,v)}});return}}else if(s===3&&h.stateNode.current.memoizedState.isDehydrated){r.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}r.blockedOn=null}function ac(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var h=xd(r.nativeEvent);if(h===null){h=r.nativeEvent;var v=new h.constructor(h.type,h);Gs=v,h.target.dispatchEvent(v),Gs=null}else return s=Dr(h),s!==null&&kp(s),r.blockedOn=h,!1;s.shift()}return!0}function Mp(r,s,h){ac(r)&&h.delete(s)}function Wy(){Ld=!1,ka!==null&&ac(ka)&&(ka=null),Ba!==null&&ac(Ba)&&(Ba=null),Oa!==null&&ac(Oa)&&(Oa=null),zl.forEach(Mp),Vl.forEach(Mp)}function oc(r,s){r.blockedOn===s&&(r.blockedOn=null,Ld||(Ld=!0,g.unstable_scheduleCallback(g.unstable_NormalPriority,Wy)))}var lc=null;function Pp(r){lc!==r&&(lc=r,g.unstable_scheduleCallback(g.unstable_NormalPriority,function(){lc===r&&(lc=null);for(var s=0;s<r.length;s+=3){var h=r[s],v=r[s+1],b=r[s+2];if(typeof v!="function"){if(wd(v||h)===null)continue;break}var w=Dr(h);w!==null&&(r.splice(s,3),s-=3,wf(w,{pending:!0,data:b,method:h.method,action:v},v,b))}}))}function $l(r){function s(vt){return oc(vt,r)}ka!==null&&oc(ka,r),Ba!==null&&oc(Ba,r),Oa!==null&&oc(Oa,r),zl.forEach(s),Vl.forEach(s);for(var h=0;h<_a.length;h++){var v=_a[h];v.blockedOn===r&&(v.blockedOn=null)}for(;0<_a.length&&(h=_a[0],h.blockedOn===null);)_p(h),h.blockedOn===null&&_a.shift();if(h=(r.ownerDocument||r).$$reactFormReplay,h!=null)for(v=0;v<h.length;v+=3){var b=h[v],w=h[v+1],z=b[Tn]||null;if(typeof w=="function")z||Pp(h);else if(z){var J=null;if(w&&w.hasAttribute("formAction")){if(b=w,z=w[Tn]||null)J=z.formAction;else if(wd(b)!==null)continue}else J=z.action;typeof J=="function"?h[v+1]=J:(h.splice(v,3),v-=3),Pp(h)}}}function Rd(r){this._internalRoot=r}uc.prototype.render=Rd.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var h=s.current,v=Vi();Ip(h,v,r,s,null,null)},uc.prototype.unmount=Rd.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Ip(r.current,2,null,r,null,null),zu(),s[zn]=null}};function uc(r){this._internalRoot=r}uc.prototype.unstable_scheduleHydration=function(r){if(r){var s=He();r={blockedOn:null,target:r,priority:s};for(var h=0;h<_a.length&&s!==0&&s<_a[h].priority;h++);_a.splice(h,0,r),h===0&&_p(r)}};var Np=t.version;if(Np!=="19.1.1")throw Error(i(527,Np,"19.1.1"));N.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=e(s),r=r!==null?o(r):null,r=r===null?null:r.stateNode,r};var qy={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cc.isDisabled&&cc.supportsFiber)try{Ae=cc.inject(qy),oe=cc}catch{}}return Wl.createRoot=function(r,s){if(!l(r))throw Error(i(299));var h=!1,v="",b=JA,w=tg,z=eg,J=null;return s!=null&&(s.unstable_strictMode===!0&&(h=!0),s.identifierPrefix!==void 0&&(v=s.identifierPrefix),s.onUncaughtError!==void 0&&(b=s.onUncaughtError),s.onCaughtError!==void 0&&(w=s.onCaughtError),s.onRecoverableError!==void 0&&(z=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(J=s.unstable_transitionCallbacks)),s=Lp(r,1,!1,null,null,h,v,b,w,z,J,null),r[zn]=s.current,cd(r),new Rd(s)},Wl.hydrateRoot=function(r,s,h){if(!l(r))throw Error(i(299));var v=!1,b="",w=JA,z=tg,J=eg,vt=null,Mt=null;return h!=null&&(h.unstable_strictMode===!0&&(v=!0),h.identifierPrefix!==void 0&&(b=h.identifierPrefix),h.onUncaughtError!==void 0&&(w=h.onUncaughtError),h.onCaughtError!==void 0&&(z=h.onCaughtError),h.onRecoverableError!==void 0&&(J=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(vt=h.unstable_transitionCallbacks),h.formState!==void 0&&(Mt=h.formState)),s=Lp(r,1,!0,s,h??null,v,b,w,z,J,vt,Mt),s.context=Rp(null),h=s.current,v=Vi(),v=Wt(v),b=ma(v),b.callback=null,va(h,b,v),h=v,s.current.lanes=h,Ue(s,h),Is(s),r[zn]=s.current,cd(r),new uc(s)},Wl.version="19.1.1",Wl}var $p;function o1(){if($p)return kd.exports;$p=1;function g(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(g)}catch(t){console.error(t)}}return g(),kd.exports=a1(),kd.exports}var l1=o1();/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=g=>g.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),c1=g=>g.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,i)=>i?i.toUpperCase():n.toLowerCase()),Kp=g=>{const t=c1(g);return t.charAt(0).toUpperCase()+t.slice(1)},hm=(...g)=>g.filter((t,n,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===n).join(" ").trim(),f1=g=>{for(const t in g)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var d1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1=bi.forwardRef(({color:g="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:l="",children:d,iconNode:a,...c},e)=>bi.createElement("svg",{ref:e,...d1,width:t,height:t,stroke:g,strokeWidth:i?Number(n)*24/Number(t):n,className:hm("lucide",l),...!d&&!f1(c)&&{"aria-hidden":"true"},...c},[...a.map(([o,u])=>bi.createElement(o,u)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=(g,t)=>{const n=bi.forwardRef(({className:i,...l},d)=>bi.createElement(h1,{ref:d,iconNode:t,className:hm(`lucide-${u1(Kp(g))}`,`lucide-${g}`,i),...l}));return n.displayName=Kp(g),n};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],g1=fl("circle-alert",A1);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],m1=fl("circle-check-big",p1);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Wp=fl("info",v1);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],E1=fl("wifi-off",y1);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],qp=fl("wifi",b1);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],S1=fl("x",C1);var Md={exports:{}},Xp;function T1(){return Xp||(Xp=1,(function(g,t){(function(n,i){g.exports=i()})(self,(function(){return(function(){var n={63166:function(a,c,e){e.d(c,{default:function(){return pl}});var o="0.10.46-beta.0",u=e(69986),f=e.n(u);function A(R){return R?R.replace(/^\s+|\s+$/g,""):""}var p=function(R){if(!R||R.substr(0,4)=="rtmp")return"";var S=(function(I){var k="";return/[(,]format=mpd-/i.test(I)?k="mpd":/[(,]format=m3u8-/i.test(I)&&(k="m3u8"),k})(R);return S||((R=R.split("?")[0].split("#")[0]).lastIndexOf(".")>-1?R.substr(R.lastIndexOf(".")+1,R.length).toLowerCase():"")};function m(R){var S=parseInt(R,10);if(!R)return"00:00";var I=Math.floor(S/3600),k=Math.floor((S-3600*I)/60),P=S-3600*I-60*k;return k<10&&(k="0"+k),P<10&&(P="0"+P),I>0?I+":"+k+":"+P:k+":"+P}function y(R,S){if(!R)return 0;if(f().isNumber(R)&&!f().isNaN(R))return R;var I=(R=R.replace(",",".")).split(":"),k=I.length,P=0;if(R.slice(-1)==="s")P=parseFloat(R);else if(R.slice(-1)==="m")P=60*parseFloat(R);else if(R.slice(-1)==="h")P=3600*parseFloat(R);else if(k>1){var j=k-1;k===4&&(j-=1),P+=parseFloat(I[j]),P+=60*parseFloat(I[j-1]),k>=3&&(P+=3600*parseFloat(I[j-2]))}else P=parseFloat(R);return f().isNaN(P)?0:P}function E(R){var S={},I=R.split(`\r
`);I.length===1&&(I=R.split(`
`));var k=1;if(I[0].indexOf(" --> ")>0&&(k=0),I.length>k+1&&I[k+1]){var P=I[k],j=P.indexOf(" --> ");j>0&&(S.start=y(P.substr(0,j)),S.end=y(P.substr(j+5)),S.text=I.slice(k+1).join(`\r
`))}return S}var C=window.VTTCue,T={"":!0,lr:!0,rl:!0},x={start:!0,middle:!0,end:!0,left:!0,right:!0};function L(R){return typeof R=="string"&&!!x[R.toLowerCase()]&&R.toLowerCase()}function D(R){for(var S=1;S<arguments.length;S++){var I=arguments[S];for(var k in I)R[k]=I[k]}return R}C||((C=function(R,S,I){var k=this,P=/MSIE\s8\.0/.test(navigator.userAgent),j={};P?k=document.createElement("custom"):j.enumerable=!0,k.hasBeenReset=!1;var Y="",st=!1,nt=R,rt=S,yt=I,lt=null,ct="",dt=!0,ut="auto",it="start",At=50,ft="middle",pt=50,mt="middle";if(Object.defineProperty(k,"id",D({},j,{get:function(){return Y},set:function(ht){Y=""+ht}})),Object.defineProperty(k,"pauseOnExit",D({},j,{get:function(){return st},set:function(ht){st=!!ht}})),Object.defineProperty(k,"startTime",D({},j,{get:function(){return nt},set:function(ht){if(typeof ht!="number")throw new TypeError("Start time must be set to a number.");nt=ht,this.hasBeenReset=!0}})),Object.defineProperty(k,"endTime",D({},j,{get:function(){return rt},set:function(ht){if(typeof ht!="number")throw new TypeError("End time must be set to a number.");rt=ht,this.hasBeenReset=!0}})),Object.defineProperty(k,"text",D({},j,{get:function(){return yt},set:function(ht){yt=""+ht,this.hasBeenReset=!0}})),Object.defineProperty(k,"region",D({},j,{get:function(){return lt},set:function(ht){lt=ht,this.hasBeenReset=!0}})),Object.defineProperty(k,"vertical",D({},j,{get:function(){return ct},set:function(ht){var Pt=(function(Xt){return typeof Xt=="string"&&!!T[Xt.toLowerCase()]&&Xt.toLowerCase()})(ht);if(Pt===!1)throw new SyntaxError("An invalid or illegal string was specified.");ct=Pt,this.hasBeenReset=!0}})),Object.defineProperty(k,"snapToLines",D({},j,{get:function(){return dt},set:function(ht){dt=!!ht,this.hasBeenReset=!0}})),Object.defineProperty(k,"line",D({},j,{get:function(){return ut},set:function(ht){if(typeof ht!="number"&&ht!=="auto")throw new SyntaxError("An invalid number or illegal string was specified.");ut=ht,this.hasBeenReset=!0}})),Object.defineProperty(k,"lineAlign",D({},j,{get:function(){return it},set:function(ht){var Pt=L(ht);if(!Pt)throw new SyntaxError("An invalid or illegal string was specified.");it=Pt,this.hasBeenReset=!0}})),Object.defineProperty(k,"position",D({},j,{get:function(){return At},set:function(ht){if(ht<0||ht>100)throw new Error("Position must be between 0 and 100.");At=ht,this.hasBeenReset=!0}})),Object.defineProperty(k,"positionAlign",D({},j,{get:function(){return ft},set:function(ht){var Pt=L(ht);if(!Pt)throw new SyntaxError("An invalid or illegal string was specified.");ft=Pt,this.hasBeenReset=!0}})),Object.defineProperty(k,"size",D({},j,{get:function(){return pt},set:function(ht){if(ht<0||ht>100)throw new Error("Size must be between 0 and 100.");pt=ht,this.hasBeenReset=!0}})),Object.defineProperty(k,"align",D({},j,{get:function(){return mt},set:function(ht){var Pt=L(ht);if(!Pt)throw new SyntaxError("An invalid or illegal string was specified.");mt=Pt,this.hasBeenReset=!0}})),k.displayState=void 0,P)return k}).prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)});var B=C,O={"":!0,up:!0};function _(R){return typeof R=="number"&&R>=0&&R<=100}var M=function(){var R=100,S=3,I=0,k=100,P=0,j=100,Y="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return R},set:function(st){if(!_(st))throw new Error("Width must be between 0 and 100.");R=st}},lines:{enumerable:!0,get:function(){return S},set:function(st){if(typeof st!="number")throw new TypeError("Lines must be set to a number.");S=st}},regionAnchorY:{enumerable:!0,get:function(){return k},set:function(st){if(!_(st))throw new Error("RegionAnchorX must be between 0 and 100.");k=st}},regionAnchorX:{enumerable:!0,get:function(){return I},set:function(st){if(!_(st))throw new Error("RegionAnchorY must be between 0 and 100.");I=st}},viewportAnchorY:{enumerable:!0,get:function(){return j},set:function(st){if(!_(st))throw new Error("ViewportAnchorY must be between 0 and 100.");j=st}},viewportAnchorX:{enumerable:!0,get:function(){return P},set:function(st){if(!_(st))throw new Error("ViewportAnchorX must be between 0 and 100.");P=st}},scroll:{enumerable:!0,get:function(){return Y},set:function(st){var nt=(function(rt){return typeof rt=="string"&&!!O[rt.toLowerCase()]&&rt.toLowerCase()})(st);if(nt===!1)throw new SyntaxError("An invalid or illegal string was specified.");Y=nt}}})},U=function(){};function Q(R,S){return S===void 0&&(S=1),"rgba("+[parseInt(R.substring(0,2),16),parseInt(R.substring(2,4),16),parseInt(R.substring(4,6),16),S].join(",")+")"}var $=1;function W(R,S,I){switch(I){case"webvtt.font.color":case"webvtt.font.opacity":var k=Services.prefs.getCharPref("webvtt.font.color"),P=Services.prefs.getIntPref("webvtt.font.opacity")/100;X.fontSet=Q(k,P);break;case"webvtt.font.scale":$=Services.prefs.getIntPref("webvtt.font.scale")/100;break;case"webvtt.bg.color":case"webvtt.bg.opacity":var j=Services.prefs.getCharPref("webvtt.bg.color"),Y=Services.prefs.getIntPref("webvtt.bg.opacity")/100;X.backgroundSet=Q(j,Y);break;case"webvtt.edge.color":case"webvtt.edge.type":var st=Services.prefs.getIntPref("webvtt.edge.type"),nt=Services.prefs.getCharPref("webvtt.edge.color");X.edgeSet=["","0px 0px ","4px 4px 4px ","-2px -2px ","2px 2px "][st]+Q(nt)}}if(typeof Services<"u"){var X={};["webvtt.font.color","webvtt.font.opacity","webvtt.font.scale","webvtt.bg.color","webvtt.bg.opacity","webvtt.edge.color","webvtt.edge.type"].forEach((function(R){W(0,0,R),Services.prefs.addObserver(R,W,!1)}))}var tt=Object.create||(function(){function R(){}return function(S){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return R.prototype=S,new R}})();function V(R,S){this.name="ParsingError",this.code=R.code,this.message=S||R.message}function N(R){function S(k,P,j,Y){return 3600*(0|k)+60*(0|P)+(0|j)+(0|Y)/1e3}var I=R.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return I?I[3]?S(I[1],I[2],I[3].replace(":",""),I[4]):I[1]>59?S(I[1],I[2],0,I[4]):S(0,I[1],I[2],I[4]):null}function K(){this.values=tt(null)}function at(R,S,I,k){var P=k?R.split(k):[R];for(var j in P)if(typeof P[j]=="string"){var Y=P[j].split(I);Y.length===2&&S(Y[0],Y[1])}}function G(R,S,I){var k=R;function P(){var Y=N(R);if(Y===null)throw new V(V.Errors.BadTimeStamp,"Malformed timestamp: "+k);return R=R.replace(/^[^\sa-zA-Z-]+/,""),Y}function j(){R=R.replace(/^\s+/,"")}if(j(),S.startTime=P(),j(),R.substr(0,3)!=="-->")throw new V(V.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+k);R=R.substr(3),j(),S.endTime=P(),j(),(function(Y){var st=new K;at(Y,(function(nt,rt){switch(nt){case"region":for(var yt=I.length-1;yt>=0;yt--)if(I[yt].id===rt){st.set(nt,I[yt].region);break}break;case"vertical":st.alt(nt,rt,["rl","lr"]);break;case"line":var lt=rt.split(","),ct=lt[0];st.integer(nt,ct),st.percent(nt,ct)&&st.set("snapToLines",!1),st.alt(nt,ct,["auto"]),lt.length===2&&st.alt("lineAlign",lt[1],["start","middle","end"]);break;case"position":lt=rt.split(","),st.percent(nt,lt[0]),lt.length===2&&st.alt("positionAlign",lt[1],["start","middle","end"]);break;case"size":st.percent(nt,rt);break;case"align":st.alt(nt,rt,["start","middle","end","left","right"])}}),/:/,/\s/)})(R)}V.prototype=tt(Error.prototype),V.prototype.constructor=V,V.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},K.prototype={set:function(R,S){this.get(R)||S===""||(this.values[R]=S)},get:function(R,S,I){return I?this.has(R)?this.values[R]:S[I]:this.has(R)?this.values[R]:S},has:function(R){return R in this.values},alt:function(R,S,I){for(var k=0;k<I.length;++k)if(S===I[k]){this.set(R,S);break}},integer:function(R,S){/^-?\d+$/.test(S)&&this.set(R,parseInt(S,10))},percent:function(R,S){return!!(S.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(S=parseFloat(S))>=0&&S<=100)&&(this.set(R,S),!0)}};var q={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"‎","&rlm;":"‏","&nbsp;":" "},et={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},ot={v:"title",lang:"lang"},bt={rt:"ruby"};function Ct(R,S){function I(){if(!S)return null;var ut,it=S.match(/^([^<]*)(<[^>]+>?)?/);return ut=it[1]?it[1]:it[2],S=S.substr(ut.length),ut}function k(ut){return q[ut]}function P(ut){for(;dt=ut.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)ut=ut.replace(dt[0],k);return ut}function j(ut,it){return!bt[it.localName]||bt[it.localName]===ut.localName}function Y(ut,it){var At=et[ut];if(!At)return null;var ft=R.document.createElement(At);ft.localName=At;var pt=ot[ut];return pt&&it&&(ft[pt]=it.trim()),ft}for(var st,nt=R.document.createElement("div"),rt=nt,yt=[];(st=I())!==null;)if(st[0]!=="<")rt.appendChild(R.document.createTextNode(P(st)));else{if(st[1]==="/"){yt.length&&yt[yt.length-1]===st.substr(2).replace(">","")&&(yt.pop(),rt=rt.parentNode);continue}var lt,ct=N(st.substr(1,st.length-2));if(ct){lt=R.document.createProcessingInstruction("timestamp",ct),rt.appendChild(lt);continue}var dt=st.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!dt||!(lt=Y(dt[1],dt[3]))||!j(rt,lt))continue;dt[2]&&(lt.className=dt[2].substr(1).replace("."," ")),yt.push(dt[1]),rt.appendChild(lt),rt=lt}return nt}var Tt=[1470,1472,1475,1478,1488,1489,1490,1491,1492,1493,1494,1495,1496,1497,1498,1499,1500,1501,1502,1503,1504,1505,1506,1507,1508,1509,1510,1511,1512,1513,1514,1520,1521,1522,1523,1524,1544,1547,1549,1563,1566,1567,1568,1569,1570,1571,1572,1573,1574,1575,1576,1577,1578,1579,1580,1581,1582,1583,1584,1585,1586,1587,1588,1589,1590,1591,1592,1593,1594,1595,1596,1597,1598,1599,1600,1601,1602,1603,1604,1605,1606,1607,1608,1609,1610,1645,1646,1647,1649,1650,1651,1652,1653,1654,1655,1656,1657,1658,1659,1660,1661,1662,1663,1664,1665,1666,1667,1668,1669,1670,1671,1672,1673,1674,1675,1676,1677,1678,1679,1680,1681,1682,1683,1684,1685,1686,1687,1688,1689,1690,1691,1692,1693,1694,1695,1696,1697,1698,1699,1700,1701,1702,1703,1704,1705,1706,1707,1708,1709,1710,1711,1712,1713,1714,1715,1716,1717,1718,1719,1720,1721,1722,1723,1724,1725,1726,1727,1728,1729,1730,1731,1732,1733,1734,1735,1736,1737,1738,1739,1740,1741,1742,1743,1744,1745,1746,1747,1748,1749,1765,1766,1774,1775,1786,1787,1788,1789,1790,1791,1792,1793,1794,1795,1796,1797,1798,1799,1800,1801,1802,1803,1804,1805,1807,1808,1810,1811,1812,1813,1814,1815,1816,1817,1818,1819,1820,1821,1822,1823,1824,1825,1826,1827,1828,1829,1830,1831,1832,1833,1834,1835,1836,1837,1838,1839,1869,1870,1871,1872,1873,1874,1875,1876,1877,1878,1879,1880,1881,1882,1883,1884,1885,1886,1887,1888,1889,1890,1891,1892,1893,1894,1895,1896,1897,1898,1899,1900,1901,1902,1903,1904,1905,1906,1907,1908,1909,1910,1911,1912,1913,1914,1915,1916,1917,1918,1919,1920,1921,1922,1923,1924,1925,1926,1927,1928,1929,1930,1931,1932,1933,1934,1935,1936,1937,1938,1939,1940,1941,1942,1943,1944,1945,1946,1947,1948,1949,1950,1951,1952,1953,1954,1955,1956,1957,1969,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024,2025,2026,2036,2037,2042,2048,2049,2050,2051,2052,2053,2054,2055,2056,2057,2058,2059,2060,2061,2062,2063,2064,2065,2066,2067,2068,2069,2074,2084,2088,2096,2097,2098,2099,2100,2101,2102,2103,2104,2105,2106,2107,2108,2109,2110,2112,2113,2114,2115,2116,2117,2118,2119,2120,2121,2122,2123,2124,2125,2126,2127,2128,2129,2130,2131,2132,2133,2134,2135,2136,2142,2208,2210,2211,2212,2213,2214,2215,2216,2217,2218,2219,2220,8207,64285,64287,64288,64289,64290,64291,64292,64293,64294,64295,64296,64298,64299,64300,64301,64302,64303,64304,64305,64306,64307,64308,64309,64310,64312,64313,64314,64315,64316,64318,64320,64321,64323,64324,64326,64327,64328,64329,64330,64331,64332,64333,64334,64335,64336,64337,64338,64339,64340,64341,64342,64343,64344,64345,64346,64347,64348,64349,64350,64351,64352,64353,64354,64355,64356,64357,64358,64359,64360,64361,64362,64363,64364,64365,64366,64367,64368,64369,64370,64371,64372,64373,64374,64375,64376,64377,64378,64379,64380,64381,64382,64383,64384,64385,64386,64387,64388,64389,64390,64391,64392,64393,64394,64395,64396,64397,64398,64399,64400,64401,64402,64403,64404,64405,64406,64407,64408,64409,64410,64411,64412,64413,64414,64415,64416,64417,64418,64419,64420,64421,64422,64423,64424,64425,64426,64427,64428,64429,64430,64431,64432,64433,64434,64435,64436,64437,64438,64439,64440,64441,64442,64443,64444,64445,64446,64447,64448,64449,64467,64468,64469,64470,64471,64472,64473,64474,64475,64476,64477,64478,64479,64480,64481,64482,64483,64484,64485,64486,64487,64488,64489,64490,64491,64492,64493,64494,64495,64496,64497,64498,64499,64500,64501,64502,64503,64504,64505,64506,64507,64508,64509,64510,64511,64512,64513,64514,64515,64516,64517,64518,64519,64520,64521,64522,64523,64524,64525,64526,64527,64528,64529,64530,64531,64532,64533,64534,64535,64536,64537,64538,64539,64540,64541,64542,64543,64544,64545,64546,64547,64548,64549,64550,64551,64552,64553,64554,64555,64556,64557,64558,64559,64560,64561,64562,64563,64564,64565,64566,64567,64568,64569,64570,64571,64572,64573,64574,64575,64576,64577,64578,64579,64580,64581,64582,64583,64584,64585,64586,64587,64588,64589,64590,64591,64592,64593,64594,64595,64596,64597,64598,64599,64600,64601,64602,64603,64604,64605,64606,64607,64608,64609,64610,64611,64612,64613,64614,64615,64616,64617,64618,64619,64620,64621,64622,64623,64624,64625,64626,64627,64628,64629,64630,64631,64632,64633,64634,64635,64636,64637,64638,64639,64640,64641,64642,64643,64644,64645,64646,64647,64648,64649,64650,64651,64652,64653,64654,64655,64656,64657,64658,64659,64660,64661,64662,64663,64664,64665,64666,64667,64668,64669,64670,64671,64672,64673,64674,64675,64676,64677,64678,64679,64680,64681,64682,64683,64684,64685,64686,64687,64688,64689,64690,64691,64692,64693,64694,64695,64696,64697,64698,64699,64700,64701,64702,64703,64704,64705,64706,64707,64708,64709,64710,64711,64712,64713,64714,64715,64716,64717,64718,64719,64720,64721,64722,64723,64724,64725,64726,64727,64728,64729,64730,64731,64732,64733,64734,64735,64736,64737,64738,64739,64740,64741,64742,64743,64744,64745,64746,64747,64748,64749,64750,64751,64752,64753,64754,64755,64756,64757,64758,64759,64760,64761,64762,64763,64764,64765,64766,64767,64768,64769,64770,64771,64772,64773,64774,64775,64776,64777,64778,64779,64780,64781,64782,64783,64784,64785,64786,64787,64788,64789,64790,64791,64792,64793,64794,64795,64796,64797,64798,64799,64800,64801,64802,64803,64804,64805,64806,64807,64808,64809,64810,64811,64812,64813,64814,64815,64816,64817,64818,64819,64820,64821,64822,64823,64824,64825,64826,64827,64828,64829,64848,64849,64850,64851,64852,64853,64854,64855,64856,64857,64858,64859,64860,64861,64862,64863,64864,64865,64866,64867,64868,64869,64870,64871,64872,64873,64874,64875,64876,64877,64878,64879,64880,64881,64882,64883,64884,64885,64886,64887,64888,64889,64890,64891,64892,64893,64894,64895,64896,64897,64898,64899,64900,64901,64902,64903,64904,64905,64906,64907,64908,64909,64910,64911,64914,64915,64916,64917,64918,64919,64920,64921,64922,64923,64924,64925,64926,64927,64928,64929,64930,64931,64932,64933,64934,64935,64936,64937,64938,64939,64940,64941,64942,64943,64944,64945,64946,64947,64948,64949,64950,64951,64952,64953,64954,64955,64956,64957,64958,64959,64960,64961,64962,64963,64964,64965,64966,64967,65008,65009,65010,65011,65012,65013,65014,65015,65016,65017,65018,65019,65020,65136,65137,65138,65139,65140,65142,65143,65144,65145,65146,65147,65148,65149,65150,65151,65152,65153,65154,65155,65156,65157,65158,65159,65160,65161,65162,65163,65164,65165,65166,65167,65168,65169,65170,65171,65172,65173,65174,65175,65176,65177,65178,65179,65180,65181,65182,65183,65184,65185,65186,65187,65188,65189,65190,65191,65192,65193,65194,65195,65196,65197,65198,65199,65200,65201,65202,65203,65204,65205,65206,65207,65208,65209,65210,65211,65212,65213,65214,65215,65216,65217,65218,65219,65220,65221,65222,65223,65224,65225,65226,65227,65228,65229,65230,65231,65232,65233,65234,65235,65236,65237,65238,65239,65240,65241,65242,65243,65244,65245,65246,65247,65248,65249,65250,65251,65252,65253,65254,65255,65256,65257,65258,65259,65260,65261,65262,65263,65264,65265,65266,65267,65268,65269,65270,65271,65272,65273,65274,65275,65276,67584,67585,67586,67587,67588,67589,67592,67594,67595,67596,67597,67598,67599,67600,67601,67602,67603,67604,67605,67606,67607,67608,67609,67610,67611,67612,67613,67614,67615,67616,67617,67618,67619,67620,67621,67622,67623,67624,67625,67626,67627,67628,67629,67630,67631,67632,67633,67634,67635,67636,67637,67639,67640,67644,67647,67648,67649,67650,67651,67652,67653,67654,67655,67656,67657,67658,67659,67660,67661,67662,67663,67664,67665,67666,67667,67668,67669,67671,67672,67673,67674,67675,67676,67677,67678,67679,67840,67841,67842,67843,67844,67845,67846,67847,67848,67849,67850,67851,67852,67853,67854,67855,67856,67857,67858,67859,67860,67861,67862,67863,67864,67865,67866,67867,67872,67873,67874,67875,67876,67877,67878,67879,67880,67881,67882,67883,67884,67885,67886,67887,67888,67889,67890,67891,67892,67893,67894,67895,67896,67897,67903,67968,67969,67970,67971,67972,67973,67974,67975,67976,67977,67978,67979,67980,67981,67982,67983,67984,67985,67986,67987,67988,67989,67990,67991,67992,67993,67994,67995,67996,67997,67998,67999,68e3,68001,68002,68003,68004,68005,68006,68007,68008,68009,68010,68011,68012,68013,68014,68015,68016,68017,68018,68019,68020,68021,68022,68023,68030,68031,68096,68112,68113,68114,68115,68117,68118,68119,68121,68122,68123,68124,68125,68126,68127,68128,68129,68130,68131,68132,68133,68134,68135,68136,68137,68138,68139,68140,68141,68142,68143,68144,68145,68146,68147,68160,68161,68162,68163,68164,68165,68166,68167,68176,68177,68178,68179,68180,68181,68182,68183,68184,68192,68193,68194,68195,68196,68197,68198,68199,68200,68201,68202,68203,68204,68205,68206,68207,68208,68209,68210,68211,68212,68213,68214,68215,68216,68217,68218,68219,68220,68221,68222,68223,68352,68353,68354,68355,68356,68357,68358,68359,68360,68361,68362,68363,68364,68365,68366,68367,68368,68369,68370,68371,68372,68373,68374,68375,68376,68377,68378,68379,68380,68381,68382,68383,68384,68385,68386,68387,68388,68389,68390,68391,68392,68393,68394,68395,68396,68397,68398,68399,68400,68401,68402,68403,68404,68405,68416,68417,68418,68419,68420,68421,68422,68423,68424,68425,68426,68427,68428,68429,68430,68431,68432,68433,68434,68435,68436,68437,68440,68441,68442,68443,68444,68445,68446,68447,68448,68449,68450,68451,68452,68453,68454,68455,68456,68457,68458,68459,68460,68461,68462,68463,68464,68465,68466,68472,68473,68474,68475,68476,68477,68478,68479,68608,68609,68610,68611,68612,68613,68614,68615,68616,68617,68618,68619,68620,68621,68622,68623,68624,68625,68626,68627,68628,68629,68630,68631,68632,68633,68634,68635,68636,68637,68638,68639,68640,68641,68642,68643,68644,68645,68646,68647,68648,68649,68650,68651,68652,68653,68654,68655,68656,68657,68658,68659,68660,68661,68662,68663,68664,68665,68666,68667,68668,68669,68670,68671,68672,68673,68674,68675,68676,68677,68678,68679,68680,126464,126465,126466,126467,126469,126470,126471,126472,126473,126474,126475,126476,126477,126478,126479,126480,126481,126482,126483,126484,126485,126486,126487,126488,126489,126490,126491,126492,126493,126494,126495,126497,126498,126500,126503,126505,126506,126507,126508,126509,126510,126511,126512,126513,126514,126516,126517,126518,126519,126521,126523,126530,126535,126537,126539,126541,126542,126543,126545,126546,126548,126551,126553,126555,126557,126559,126561,126562,126564,126567,126568,126569,126570,126572,126573,126574,126575,126576,126577,126578,126580,126581,126582,126583,126585,126586,126587,126588,126590,126592,126593,126594,126595,126596,126597,126598,126599,126600,126601,126603,126604,126605,126606,126607,126608,126609,126610,126611,126612,126613,126614,126615,126616,126617,126618,126619,126625,126626,126627,126629,126630,126631,126632,126633,126635,126636,126637,126638,126639,126640,126641,126642,126643,126644,126645,126646,126647,126648,126649,126650,126651,1114109];function $t(){}function Vt(R,S,I){var k=typeof navigator<"u"&&/MSIE\s8\.0/.test(navigator.userAgent),P="rgba(255, 255, 255, 1)",j="rgba(0, 0, 0, 0.8)",Y="";X!==void 0&&(P=X.fontSet,j=X.backgroundSet,Y=X.edgeSet),k&&(P="rgb(255, 255, 255)",j="rgb(0, 0, 0)"),$t.call(this),this.cue=S,this.cueDiv=Ct(R,S.text);var st={color:P,backgroundColor:j,textShadow:Y,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};k||(st.writingMode=S.vertical===""?"horizontal-tb":S.vertical==="lr"?"vertical-lr":"vertical-rl",st.unicodeBidi="plaintext"),this.applyStyles(st,this.cueDiv),this.div=R.document.createElement("div"),st={textAlign:S.align==="middle"?"center":S.align,font:I.font,whiteSpace:"pre-line",position:"absolute"},k||(st.direction=(function(rt){var yt,lt=[],ct="";if(!rt||!rt.childNodes)return"ltr";function dt(ft,pt){for(var mt=pt.childNodes.length-1;mt>=0;mt--)ft.push(pt.childNodes[mt])}function ut(ft){if(!ft||!ft.length)return null;var pt=ft.pop(),mt=pt.textContent||pt.innerText;if(mt){var ht=mt.match(/^.*(\n|\r)/);return ht?(ft.length=0,ht[0]):mt}return pt.tagName==="ruby"?ut(ft):pt.childNodes?(dt(ft,pt),ut(ft)):void 0}for(dt(lt,rt);ct=ut(lt);)for(var it=0;it<ct.length;it++){yt=ct.charCodeAt(it);for(var At=0;At<Tt.length;At++)if(Tt[At]===yt)return"rtl"}return"ltr"})(this.cueDiv),st.writingMode=S.vertical===""?"horizontal-tb":S.vertical==="lr"?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"),this.applyStyles(st),this.div.appendChild(this.cueDiv);var nt=0;switch(S.positionAlign){case"start":nt=S.position;break;case"middle":nt=S.position-S.size/2;break;case"end":nt=S.position-S.size}S.vertical===""?this.applyStyles({left:this.formatStyle(nt,"%"),width:this.formatStyle(S.size,"%")}):this.applyStyles({top:this.formatStyle(nt,"%"),height:this.formatStyle(S.size,"%")}),this.move=function(rt){this.applyStyles({top:this.formatStyle(rt.top,"px"),bottom:this.formatStyle(rt.bottom,"px"),left:this.formatStyle(rt.left,"px"),right:this.formatStyle(rt.right,"px"),height:this.formatStyle(rt.height,"px"),width:this.formatStyle(rt.width,"px")})}}function jt(R){var S,I,k,P,j=typeof navigator<"u"&&/MSIE\s8\.0/.test(navigator.userAgent);if(R.div){I=R.div.offsetHeight,k=R.div.offsetWidth,P=R.div.offsetTop;var Y=(Y=R.div.childNodes)&&(Y=Y[0])&&Y.getClientRects&&Y.getClientRects();R=R.div.getBoundingClientRect(),S=Y?Math.max(Y[0]&&Y[0].height||0,R.height/Y.length):0}this.left=R.left,this.right=R.right,this.top=R.top||P,this.height=R.height||I,this.bottom=R.bottom||P+(R.height||I),this.width=R.width||k,this.lineHeight=S!==void 0?S:R.lineHeight,j&&!this.lineHeight&&(this.lineHeight=13)}function ee(R,S,I,k){var P=new jt(S),j=S.cue,Y=(function(it){if(typeof it.line=="number"&&(it.snapToLines||it.line>=0&&it.line<=100))return it.line;if(!it.track||!it.track.textTrackList||!it.track.textTrackList.mediaElement)return-1;for(var At=it.track,ft=At.textTrackList,pt=0,mt=0;mt<ft.length&&ft[mt]!==At;mt++)ft[mt].mode==="showing"&&pt++;return-1*++pt})(j),st=[];if(j.snapToLines){var nt;switch(j.vertical){case"":st=["+y","-y"],nt="height";break;case"rl":st=["+x","-x"],nt="width";break;case"lr":st=["-x","+x"],nt="width"}var rt=P.lineHeight,yt=rt*Math.round(Y),lt=I[nt]+rt,ct=st[0];Math.abs(yt)>lt&&(yt=yt<0?-1:1,yt*=Math.ceil(lt/rt)*rt),Y<0&&(yt+=j.vertical===""?I.height:I.width,st=st.reverse()),P.move(ct,yt)}else{var dt=P.lineHeight/I.height*100;switch(j.lineAlign){case"middle":Y-=dt/2;break;case"end":Y-=dt}switch(j.vertical){case"":S.applyStyles({top:S.formatStyle(Y,"%")});break;case"rl":S.applyStyles({left:S.formatStyle(Y,"%")});break;case"lr":S.applyStyles({right:S.formatStyle(Y,"%")})}st=["+y","-x","+x","-y"],P=new jt(S)}var ut=(function(it,At){for(var ft,pt=new jt(it),mt=1,ht=0;ht<At.length;ht++){for(;it.overlapsOppositeAxis(I,At[ht])||it.within(I)&&it.overlapsAny(k);)it.move(At[ht]);if(it.within(I))return it;var Pt=it.intersectPercentage(I);mt>Pt&&(ft=new jt(it),mt=Pt),it=new jt(pt)}return ft||pt})(P,st);S.move(ut.toCSSCompatValues(I))}$t.prototype.applyStyles=function(R,S){for(var I in S=S||this.div,R)R.hasOwnProperty(I)&&(S.style[I]=R[I])},$t.prototype.formatStyle=function(R,S){return R===0?0:R+S},Vt.prototype=tt($t.prototype),Vt.prototype.constructor=Vt,jt.prototype.move=function(R,S){switch(S=S!==void 0?S:this.lineHeight,R){case"+x":this.left+=S,this.right+=S;break;case"-x":this.left-=S,this.right-=S;break;case"+y":this.top+=S,this.bottom+=S;break;case"-y":this.top-=S,this.bottom-=S}},jt.prototype.overlaps=function(R){return this.left<R.right&&this.right>R.left&&this.top<R.bottom&&this.bottom>R.top},jt.prototype.overlapsAny=function(R){for(var S=0;S<R.length;S++)if(this.overlaps(R[S]))return!0;return!1},jt.prototype.within=function(R){return this.top>=R.top&&this.bottom<=R.bottom&&this.left>=R.left&&this.right<=R.right},jt.prototype.overlapsOppositeAxis=function(R,S){switch(S){case"+x":return this.left<R.left;case"-x":return this.right>R.right;case"+y":return this.top<R.top;case"-y":return this.bottom>R.bottom}},jt.prototype.intersectPercentage=function(R){return Math.max(0,Math.min(this.right,R.right)-Math.max(this.left,R.left))*Math.max(0,Math.min(this.bottom,R.bottom)-Math.max(this.top,R.top))/(this.height*this.width)},jt.prototype.toCSSCompatValues=function(R){return{top:this.top-R.top,bottom:R.bottom-this.bottom,left:this.left-R.left,right:R.right-this.right,height:this.height,width:this.width}},jt.getSimpleBoxPosition=function(R){var S=R.div?R.div.offsetHeight:R.tagName?R.offsetHeight:0,I=R.div?R.div.offsetWidth:R.tagName?R.offsetWidth:0,k=R.div?R.div.offsetTop:R.tagName?R.offsetTop:0;return{left:(R=R.div?R.div.getBoundingClientRect():R.tagName?R.getBoundingClientRect():R).left,right:R.right,top:R.top||k,height:R.height||S,bottom:R.bottom||k+(R.height||S),width:R.width||I}},U.StringDecoder=function(){return{decode:function(R){if(!R)return"";if(typeof R!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(R))}}},U.convertCueToDOMTree=function(R,S){return R&&S?Ct(R,S):null},U.processCues=function(R,S,I){if(!R||!S||!I)return null;for(;I.firstChild;)I.removeChild(I.firstChild);var k=R.document.createElement("div");if(k.style.position="absolute",k.style.left="0",k.style.right="0",k.style.top="0",k.style.bottom="0",k.style.margin="1.5%",I.appendChild(k),(function(nt){for(var rt=0;rt<nt.length;rt++)if(nt[rt].hasBeenReset||!nt[rt].displayState)return!0;return!1})(S)){var P=[],j=jt.getSimpleBoxPosition(k),Y={font:Math.round(.05*j.height*100)/100*$+"px sans-serif"};(function(){for(var nt,rt,yt=0;yt<S.length;yt++)rt=S[yt],nt=new Vt(R,rt,Y),k.appendChild(nt.div),ee(0,nt,j,P),rt.displayState=nt.div,P.push(jt.getSimpleBoxPosition(nt))})()}else for(var st=0;st<S.length;st++)k.appendChild(S[st].displayState)},(U.Parser=function(R,S){this.window=R,this.state="INITIAL",this.buffer="",this.decoder=S||new TextDecoder("utf8"),this.regionList=[]}).prototype={reportOrThrowError:function(R){if(!(R instanceof V))throw R;this.onparsingerror&&this.onparsingerror(R)},parse:function(R,S){var I=this;function k(){for(var nt=I.buffer,rt=0;rt<nt.length&&nt[rt]!=="\r"&&nt[rt]!==`
`;)++rt;var yt=nt.substr(0,rt);return nt[rt]==="\r"&&++rt,nt[rt]===`
`&&++rt,I.buffer=nt.substr(rt),yt}R&&(I.buffer+=I.decoder.decode(R,{stream:!0}));try{var P;if(I.state==="INITIAL"){if(!/\r\n|\n/.test(I.buffer))return this;var j=(P=k()).match(/^WEBVTT([ \t].*)?$/);if(!j||!j[0])throw new V(V.Errors.BadSignature);I.state="HEADER"}for(var Y=!1;I.buffer;){if(!/\r\n|\n/.test(I.buffer))return this;switch(Y?Y=!1:P=k(),I.state){case"HEADER":/:/.test(P)?at(P,(function(nt,rt){nt==="Region"&&(function(yt){var lt=new K;if(at(yt,(function(dt,ut){switch(dt){case"id":lt.set(dt,ut);break;case"width":lt.percent(dt,ut);break;case"lines":lt.integer(dt,ut);break;case"regionanchor":case"viewportanchor":var it=ut.split(",");if(it.length!==2)break;var At=new K;if(At.percent("x",it[0]),At.percent("y",it[1]),!At.has("x")||!At.has("y"))break;lt.set(dt+"X",At.get("x")),lt.set(dt+"Y",At.get("y"));break;case"scroll":lt.alt(dt,ut,["up"])}}),/=/,/\s/),lt.has("id")){var ct=new M;ct.width=lt.get("width",100),ct.lines=lt.get("lines",3),ct.regionAnchorX=lt.get("regionanchorX",0),ct.regionAnchorY=lt.get("regionanchorY",100),ct.viewportAnchorX=lt.get("viewportanchorX",0),ct.viewportAnchorY=lt.get("viewportanchorY",100),ct.scroll=lt.get("scroll",""),I.onregion&&I.onregion(ct),I.regionList.push({id:lt.get("id"),region:ct})}})(rt)}),/:/):P||(I.state="ID");continue;case"NOTE":P||(I.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(P)){I.state="NOTE";break}if(!P)continue;if(I.cue=new B(0,0,""),I.state="CUE",P.indexOf("-->")===-1){I.cue.id=P;continue}case"CUE":try{G(P,I.cue,I.regionList)}catch(nt){I.reportOrThrowError(nt),I.cue=null,I.state="BADCUE";continue}I.state="CUETEXT";continue;case"CUETEXT":var st=P.indexOf("-->")!==-1;if(!P||st&&(Y=!0)){I.oncue&&I.oncue(I.cue),I.cue=null,I.state="ID";continue}I.cue.text&&(I.cue.text+=`
`),I.cue.text+=P;continue;case"BADCUE":P||(I.state="ID");continue}}if(!S)return I.state==="CUETEXT"&&I.cue&&I.oncue&&I.oncue(I.cue),I.flush(),this}catch(nt){I.reportOrThrowError(nt),I.state==="CUETEXT"&&I.cue&&I.oncue&&I.oncue(I.cue),I.cue=null,I.state=I.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var R=this;try{if(R.buffer+=R.decoder.decode(),(R.cue||R.state==="HEADER")&&(R.buffer+=`

`,R.parse(null,!0)),R.state==="INITIAL")throw new V(V.Errors.BadSignature)}catch(S){R.reportOrThrowError(S)}return R.onflush&&R.onflush(),this}};var ce=U,se=function(){var R="";screen.width&&(R+=(screen.width?screen.width:"")+" x "+(screen.height?screen.height:""));var S,I,k,P=navigator.appVersion,j=navigator.userAgent,Y=navigator.appName,st=""+parseFloat(navigator.appVersion),nt=parseInt(navigator.appVersion,10);(I=j.indexOf("Opera"))!=-1&&(Y="Opera",st=j.substring(I+6),(I=j.indexOf("Version"))!=-1&&(st=j.substring(I+8))),(I=j.indexOf("OPR"))!=-1?(Y="Opera",st=j.substring(I+4)):(I=j.indexOf("SamsungBrowser"))!=-1?(Y="SamsungBrowser",st=j.substring(I+15)):(I=j.indexOf("Edge"))!=-1?(Y="Microsoft Edge",st=j.substring(I+5)):(I=j.indexOf("MSIE"))!=-1?(Y="Microsoft Internet Explorer",st=j.substring(I+5),j.indexOf("Trident/")!==-1&&j.indexOf("rv:")!==-1&&(st=j.substring(j.indexOf("rv:")+3))):(I=j.indexOf("Chrome"))!=-1?(Y="Chrome",st=j.substring(I+7)):(I=j.indexOf("CriOS"))!=-1?(Y="Chrome",st=j.substring(I+6)):(I=j.indexOf("Firefox"))!=-1?(Y="Firefox",st=j.substring(I+8)):(I=j.indexOf("FxiOS"))!=-1?(Y="Firefox",st=j.substring(I+6)):(I=j.indexOf("Safari"))!=-1?(Y="Safari",st=j.substring(I+7),(I=j.indexOf("Version"))!=-1&&(st=j.substring(I+8))):j.indexOf("Trident/")!==-1?(Y="Microsoft Internet Explorer",st=j.substring(j.indexOf("rv:")+3)):(S=j.lastIndexOf(" ")+1)<(I=j.lastIndexOf("/"))&&(Y=j.substring(S,I),st=j.substring(I+1),Y.toLowerCase()==Y.toUpperCase()&&(Y=navigator.appName)),j.indexOf(" wv"),(k=st.indexOf(";"))!=-1&&(st=st.substring(0,k)),(k=st.indexOf(" "))!=-1&&(st=st.substring(0,k)),(k=st.indexOf(")"))!=-1&&(st=st.substring(0,k)),nt=parseInt(""+st,10),isNaN(nt)&&(st=""+parseFloat(navigator.appVersion),nt=parseInt(navigator.appVersion,10));var rt=/Mobile|mini|Fennec|Android|iP(ad|od|hone)/.test(P),yt=!!navigator.cookieEnabled;navigator.cookieEnabled!==void 0||yt||(document.cookie="testcookie",yt=document.cookie.indexOf("testcookie")!=-1);var lt="-",ct=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 3.11",r:/Win16/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS XI",r:/Mac OS X 11/},{s:"Mac OS X",r:/Mac OS X 10/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(var dt in ct){var ut=ct[dt];if(ut.r.test(j)){lt=ut.s;break}}var it="-";switch(/Windows/.test(lt)&&(it=/Windows (.*)/.exec(lt)[1],lt="Windows"),lt){case"Mac OS XI":it=/Mac OS X (11[\.\_\d]+)/.exec(j)[1];break;case"Mac OS X":it=/Mac OS X (10[\.\_\d]+)/.exec(j)[1];break;case"Android":it=/Android ([\.\_\d]+)/.exec(j)[1];break;case"iOS":it=(it=/OS (\d+)_(\d+)_?(\d+)?/.exec(P))?it[1]+"."+it[2]+"."+(0|it[3]):""}return{screen:R,browser:Y,browserVersion:st,browserMajorVersion:nt,mobile:rt,ua:j,os:lt,osVersion:it,cookies:yt}},Se=/<sync|<\/body|<\/sami/i,Pe=/\r\n?|\n/g,je=/<[a-z]*[^>]*<[a-z]*/g,xe=/<sync[^>]+?start[^=]*=[^0-9]*([0-9]*)["^0-9"]*/i,we=/<br[^>]*>/gi,en=function(R,S){return S=(((S||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join(""),R.replace(/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi,"").replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,(function(I,k){return S.indexOf("<"+k.toLowerCase()+">")>-1?I:""}))},En=function(R){return R.sort((function(S,I){var k;return(k=S.start-I.start)==0?S.end-I.end:k}))},un=function(){var R={},S=function(I){return I.map((function(k){return new B(k.start,k.end,k.text)}))};return R.load=function(I,k,P,j){fetch(I.file).then((function(Y){Y.ok?Y.text().then((function(st){var nt=[],rt=[];if(st.indexOf("WEBVTT")>=0){OvenPlayerConsole.log("WEBVTT LOADED");var yt=new ce.Parser(window,ce.StringDecoder());rt=[],yt.oncue=function(ct){rt.push(ct)},yt.onflush=function(){P(rt)},yt.parse(st),yt.flush()}else if(st.indexOf("SAMI")>=0){OvenPlayerConsole.log("SAMI LOADED");var lt=(function(ct,dt){var ut,it,At,ft,pt,mt,ht,Pt,Xt,pe;if(ht=function(){var Kt,le,fe,Ft,Ht,ae,de,Ce,Ee,kt,Ut,he,be,Fe,ye,ze;for(le=function(Ie){var pn;return(pn=new Error(Ie)).line=de,pn.context=Kt,At.push(pn)},de=1,Ee=[],be={},he=ct;kt=he.search(),!(Ce<=0||kt<0);)Ce=he.slice(kt+1).search(Se)+1,Kt=Ce>0?he.slice(kt,kt+Ce):he.slice(kt),de+=((Fe=he.slice(0,kt).match(Pe))!=null?Fe.length:void 0)||0,je.test(Kt)&&le("ERROR_BROKEN_TAGS"),he=he.slice(kt+Ce),((Ut=+((ye=Kt.match(xe))!=null?parseFloat(ye[1]/1e3):void 0))===null||Ut<0)&&le("ERROR_INVALID_TIME"),(Ht=ft(Kt))||le("ERROR_INVALID_LANGUAGE"),de+=((ze=Kt.match(Pe))!=null?ze.length:void 0)||0,Kt=(Kt=Kt.replace(Pe,"")).replace(we,`
`),Ft={start:Ut,text:"",contents:fe=en(Kt).trim()},Ht&&(Ft.text=fe),be[Ht]||(be[Ht]=[]),Ft.start&&be[Ht].push(Ft);pe=pe||(function(){var Ie,pn,Oe=window.navigator,Ye=["language","browserLanguage","systemLanguage","userLanguage"];if(Array.isArray(Oe.languages)){for(Ie=0;Ie<Oe.languages.length;Ie++)if((pn=Oe.languages[Ie])&&pn.length)return pn}for(Ie=0;Ie<Ye.length;Ie++)if((pn=Oe[Ye[Ie]])&&pn.length)return pn;return null})();var Ge=Object.keys(be);return Ge&&Ge.length>0&&(ae=Ge.indexOf(pe)>-1?be[pe]:be[Ge.filter((function(Ie){return Ie!=="undefined"}))[0]],ae=En(ae),ae=mt(ae),Ee=Ee.concat(ae)),En(Ee)},ft=function(Kt){var le,fe;if(Kt){for(le in ut)if((fe=ut[le]).reClassName.test(Kt))return fe.lang}},mt=function(Kt){var le,fe,Ft;for(le=Kt.length;le--;)fe=Kt[le],(Ft=Kt[le-1])!=null&&(Ft.end=fe.start),fe.contents&&fe.contents!=="&nbsp;"?(delete Kt[le].contents,fe.end||(fe.end=fe.start+it)):Kt.splice(le,1);return Kt},At=[],ut={KRCC:{lang:"ko",reClassName:new RegExp(`class[^=]*?=["'S]*(KRCC)['"S]?`,"i")},KOCC:{lang:"ko",reClassName:new RegExp(`class[^=]*?=["'S]*(KOCC)['"S]?`,"i")},KR:{lang:"ko",reClassName:new RegExp(`class[^=]*?=["'S]*(KR)['"S]?`,"i")},ENCC:{lang:"en",reClassName:new RegExp(`class[^=]*?=["'S]*(ENCC)['"S]?`,"i")},EGCC:{lang:"en",reClassName:new RegExp(`class[^=]*?=["'S]*(EGCC)['"S]?`,"i")},EN:{lang:"en",reClassName:new RegExp(`class[^=]*?=["'S]*(EN)['"S]?`,"i")},JPCC:{lang:"ja",reClassName:new RegExp(`class[^=]*?=["'S]*(JPCC)['"S]?`,"i")}},dt?.definedLangs)for(pt in Xt=dt.definedLangs)Pt=Xt[pt],ut[pt]=Pt;return it=dt?.duration||10,pe=dt.fixedLang,ct=ct.trim(),{result:ht(),errors:At}})(st,{fixedLang:k});rt=S(lt.result),P(rt)}else OvenPlayerConsole.log("SRT LOADED"),nt=(function(ct){var dt=[],ut=(ct=A(ct)).split(`\r
\r
`);ut.length===1&&(ut=ct.split(`

`));for(var it=0;it<ut.length;it++)if(ut[it]!=="WEBVTT"){var At=E(ut[it]);At.text&&dt.push(At)}return dt})(st),rt=S(nt),P(rt)})).catch((function(st){j(st)})):j(Y.status)})).catch((function(Y){j(Y)}))},R},We="idle",$e="complete",Rn="paused",sn="playing",te="error",Ae="loading",oe="stalled",De="adLoaded",Rt="adPlaying",me="adPaused",ke="adComplete",Yn="adError",Ne="html5",Ve="webrtc",It="dash",Te="hls",an=$e,dn="ready",re="destroy",_e="playlistChanged",ve="allPlaylistEnded",Ue="unstableNetwork",qe="error",gn="stateChanged",ln=$e,Wt="pause",Le="play",He="clicked",Me="resized",hn="fullscreenChanged",rn="warning",Tn="zoomChanged",zn="adChanged",sr="adTime",Fr="bufferChanged",or="time",Ir="volumeChanged",ai="mute",Lr="metaChanged",Tr="sourceChanged",Dr="qualityLevelChanged",Yr="cueChanged",tr="captionChanged",Gn="timeDisplayModeChanged",hi="p2pMode",Ii="audioTrackChanged",Yt="subtitleTrackChanged",zt={codes:""},ge=[{lang:"en",ui:{context:"About OvenPlayer",controls:{live:"Live Streaming",low_latency_live:"Sub-Second Latency Streaming",low_latency_p2p:"Sub-Second Latency P2P"},playlist:"Playlist",quality:{auto:"Auto"},setting:{title:"Settings",speed:"Speed",speedUnit:"x",source:"Source",quality:"Quality",audioTrack:"Audio",caption:"Caption",display:"Display",zoom:"Zoom",subtitleTrack:"Subtitle"}},api:{message:{muted_play:"Please touch here to turn on the sound."},error:{100:{code:100,message:"Can not load due to unknown reasons.",reason:"Can not load due to unknown reasons."},101:{code:101,message:"Can not load due to playable media not found.",reason:"Can not load due to playable media not found."},102:{code:102,message:"Flash fetching process aborted. </br><a href='http://www.adobe.com/go/getflashplayer' target='_self'><img src='http://www.adobe.com/images/shared/download_buttons/get_flash_player.gif' alt='Get Adobe Flash player'></a>",reason:"It looks like not found swf or your environment is localhost."},103:{code:103,message:"Can not load due to dash.js. Please use the latest dash.js.",reason:"dash.js version is old."},104:{code:104,message:"Can not load due to google ima for Ads. ",reason:"Please check the google ima library."},105:{code:105,message:"Error initializing DASH.",reason:"Error initializing DASH."},106:{code:106,message:"Error initializing HLS.",reason:"Error initializing HLS."},107:{code:107,message:"Error initializing DRM.",reason:"Error initializing DRM."},300:{code:300,message:"Can not play due to unknown reasons.",reason:"Can not play due to unknown reasons."},301:{code:301,message:"Fetching process aborted by user.",reason:"Fetching process aborted by user."},302:{code:302,message:"Some of the media could not be downloaded due to a network error.",reason:"Error occurred when downloading."},303:{code:303,message:"Unable to load media. This may be due to a server or network error, or due to an unsupported format.",reason:"Error occurred when decoding."},304:{code:304,message:"Media playback has been canceled. It looks like your media is corrupted or your browser does not support the features your media uses.",reason:"Media playback not supported."},305:{code:305,message:"Can not load captions due to unknown reasons.",reason:"Can not load captions due to unknown reasons."},306:{code:306,message:"Unable to load media. This may be due to a server or network error, or due to an unsupported format.",reason:"The server cannot or will not process the request."},307:{code:307,message:"Unable to load media. This may be due to a server or network error, or due to an unsupported format.",reason:"The server refused the request."},308:{code:308,message:"Unable to load media. This may be due to a server or network error, or due to an unsupported format.",reason:"The server do not accept the request."},501:{code:501,message:"Connection with low-latency(OME) server failed.",reason:"WebSocket connection failed."},502:{code:502,message:"Connection with low-latency(OME) server failed.",reason:"WebRTC addIceCandidate failed."},503:{code:503,message:"Connection with low-latency(OME) server failed.",reason:"WebRTC setRemoteDescription failed."},504:{code:504,message:"Connection with low-latency(OME) server failed.",reason:"WebRTC peer createOffer failed."},505:{code:505,message:"Connection with low-latency(OME) server failed.",reason:"WebRTC setLocalDescription failed."},506:{code:506,message:"Connection with low-latency(OME) server failed.",reason:"WebRTC internal error."},510:{code:510,message:"Network connection is unstable. Check the network connection.",reason:"Network is slow."},511:{code:511,message:"Connection with low-latency(OME) terminated unexpectedly.",reason:"Unexpected end of connection."},512:{code:512,message:"Connection with low-latency(OME) server failed.",reason:"Connection timeout."}}}},{lang:"ko",ui:{context:"오븐플레이어에 관하여",controls:{live:"라이브",low_latency_live:"초저지연 라이브",low_latency_p2p:"초저지연 P2P"},playlist:"플레이리스트",quality:{auto:"자동"},setting:{title:"설정",speed:"재생 속도",speedUnit:"x",source:"소스",quality:"품질",audioTrack:"오디오",caption:"자막",display:"표시",zoom:"줌",subtitleTrack:"자막"}},api:{message:{muted_play:"눌러서 소리 켜기"},error:{100:{code:100,message:"알 수 없는 이유로 로드 할 수 없습니다.",reason:"알 수 없는 이유로 로드 할 수 없습니다."},101:{code:101,message:"지원되는 미디어를 찾지 못해 로드 할 수 없습니다.",reason:"Can not load due to playable media not found."},102:{code:102,message:"플레시 로드가 중단 되었습니다. </br><a href='http://www.adobe.com/go/getflashplayer' target='_self'><img src='http://www.adobe.com/images/shared/download_buttons/get_flash_player.gif' alt='Get Adobe Flash player'></a>",reason:"It looks like not found swf or your environment is localhost."},103:{code:103,message:"DashJS로 인해 로드 할 수 없습니다. 최신 dash.js를 사용해 주세요.",reason:"dash.js version is old."},104:{code:104,message:"Google IMA 라이브러리가 없어 로드 할 수 없습니다.",reason:"Please check the google ima library."},105:{code:105,message:"DASH 초기화 중 오류가 발생했습니다.",reason:"Error initializing DASH."},106:{code:106,message:"HLS 초기화 중 오류가 발생했습니다.",reason:"Error initializing HLS."},107:{code:107,message:"DRM 초기화 중 오류가 발생했습니다.",reason:"Error initializing DRM."},300:{code:300,message:"알 수 없는 이유로 재생할 수 없습니다.",reason:"Can not play due to unknown reasons."},301:{code:301,message:"사용자에 의한 프로세스 중단.",reason:"Fetching process aborted by user."},302:{code:302,message:"네트워크 오류로 인해 일부 미디어를 다운로드 할 수 없습니다.",reason:"Error occurred when downloading."},303:{code:303,message:"미디어를 로드 할 수 없습니다. 서버 또는 네트워크 오류 또는 지원되지 않는 형식으로 인해 발생할 수 있습니다.",reason:"Error occurred when decoding."},304:{code:304,message:"미디어 재생이 취소되었습니다. 미디어가 손상되었거나 브라우저가 미디어에서 사용하는 기능을 지원하지 않는 것 같습니다.",reason:"Media playback not supported."},305:{code:305,message:"알 수 없는 이유로 자막을 로드 할 수 없습니다.",reason:"Can not load captions due to unknown reasons."},306:{code:306,message:"미디어를 로드 할 수 없습니다. 서버 또는 네트워크 오류 또는 지원되지 않는 형식으로 인해 발생할 수 있습니다.",reason:"The server cannot or will not process the request."},307:{code:307,message:"미디어를 로드 할 수 없습니다. 서버 또는 네트워크 오류 또는 지원되지 않는 형식으로 인해 발생할 수 있습니다.",reason:"The server refused the request."},308:{code:308,message:"미디어를 로드 할 수 없습니다. 서버 또는 네트워크 오류 또는 지원되지 않는 형식으로 인해 발생할 수 있습니다.",reason:"The server do not accept the request."},501:{code:501,message:"웹소켓 연결 실패",reason:"WebSocket connection failed."},502:{code:502,message:"저지연(OME) 서버와 연결에 실패했습니다.",reason:"WebRTC addIceCandidate failed."},503:{code:503,message:"저지연(OME) 서버와 연결에 실패했습니다.",reason:"WebRTC setRemoteDescription failed."},504:{code:504,message:"저지연(OME) 서버와 연결에 실패했습니다.",reason:"WebRTC peer createOffer failed."},505:{code:505,message:"저지연(OME) 서버와 연결에 실패했습니다.",reason:"WebRTC setLocalDescription failed."},506:{code:506,message:"저지연(OME) 서버와 연결에 실패했습니다.",reason:"WebRTC internal error."},510:{code:510,message:"네트워크 연결이 불안정합니다. 네트워크 연결을 확인하십시오.",reason:"Network is slow."},511:{code:511,message:"저지연(OME) 서버와 연결에 실패했습니다.",reason:"Unexpected end of connection."},512:{code:512,message:"저지연(OME) 서버와 연결에 실패했습니다.",reason:"Connection timeout."}}}},{lang:"pl",ui:{context:"O OvenPlayer",controls:{live:"Transmisja na żywo",low_latency_live:"Transmisja z niskim opóźnieniem",low_latency_p2p:"Transmisja z niskim opóźnieniem P2P"},playlist:"Playlista",quality:{auto:"Auto"},setting:{title:"Ustawienia",speed:"Prędkość",speedUnit:"x",source:"Źrodło",quality:"Jakość",audioTrack:"Audio",caption:"Podtytuł",display:"Wyświetlacz",zoom:"Zbliżenie",subtitleTrack:"Napisy"}},api:{message:{muted_play:"Naciśnij tutaj, aby aktywować dźwięk"},error:{100:{code:100,message:"Nie można załadować z nieznanego powodu.",reason:"Can not load due to unknown reasons."},101:{code:101,message:"Nie można załadować, ponieważ nie znaleziono multimediów, który można odtworzyć.",reason:"Can not load due to playable media not found."},102:{code:102,message:"Flash fetching process aborted. </br><a href='http://www.adobe.com/go/getflashplayer' target='_self'><img src='http://www.adobe.com/images/shared/download_buttons/get_flash_player.gif' alt='Get Adobe Flash player'></a>",reason:"It looks like not found swf or your environment is localhost."},103:{code:103,message:"Nie można załadować, ponieważ wersja dash.js jest za stara.",reason:"dash.js version is old."},104:{code:104,message:"Can not load due to google ima for Ads. ",reason:"Please check the google ima library."},105:{code:105,message:"Nie można załadować, nie znaleziono DASH.",reason:"Error initializing DASH."},106:{code:106,message:"Nie można załadować, nie znaleziono hlsjs.",reason:"Error initializing HLS"},107:{code:107,message:"Nie można załadować, nie znaleziono DRM.",reason:"Error initializing DRM"},300:{code:300,message:"Nie można odtworzyć z nieznanego powodu.",reason:"Can not play due to unknown reasons."},301:{code:301,message:"Proces pobierania przerwany przez użytkownika.",reason:"Fetching process aborted by user."},302:{code:302,message:"Nie udało się pobrać niektórych multimediów z powodu błędu sieci.",reason:"Error occurred when downloading."},303:{code:303,message:"Nie udało się załadować niektórych multimediów. Może być to spowodowane problemem z serwerem, siecią lub niewspieranym formatem.",reason:"Error occurred when decoding."},304:{code:304,message:"Odtwarzanie zostało anulowane. Wygląda na to, że plik jest uszkodzony lub Twoja przeglądarka nie obsługuje tego pliku.",reason:"Media playback not supported."},305:{code:305,message:"Nie można wczytać napisów z nieznanego powodu.",reason:"Can not load captions due to unknown reasons."},306:{code:306,message:"Nie udało się załadować niektórych multimediów. Może być to spowodowane problemem z serwerem, siecią lub niewspieranym formatem.",reason:"The server cannot or will not process the request."},307:{code:307,message:"Nie udało się załadować niektórych multimediów. Może być to spowodowane problemem z serwerem, siecią lub niewspieranym formatem.",reason:"The server refused the request."},308:{code:308,message:"Nie udało się załadować niektórych multimediów. Może być to spowodowane problemem z serwerem, siecią lub niewspieranym formatem.",reason:"The server do not accept the request."},501:{code:501,message:"Połączenie z serwerem niskiego opóźnienia (OME) nie powiodło się.",reason:"WebSocket connection failed."},502:{code:502,message:"Połączenie z serwerem niskiego opóźnienia (OME) nie powiodło się.",reason:"WebRTC addIceCandidate failed."},503:{code:503,message:"Połączenie z serwerem niskiego opóźnienia (OME) nie powiodło się.",reason:"WebRTC setRemoteDescription failed."},504:{code:504,message:"Połączenie z serwerem niskiego opóźnienia (OME) nie powiodło się.",reason:"WebRTC peer createOffer failed."},505:{code:505,message:"Połączenie z serwerem niskiego opóźnienia (OME) nie powiodło się.",reason:"WebRTC setLocalDescription failed."},506:{code:506,message:"Połączenie z serwerem niskiego opóźnienia (OME) nie powiodło się.",reason:"WebRTC internal error."},510:{code:510,message:"Połączenie sieciowe jest niestabilne. Sprawdź swoją sieć.",reason:"Network is slow."},511:{code:511,message:"Połączenie z serwerem niskiego opóźnienia (OME) nieoczekiwanie zakończone.",reason:"Unexpected end of connection."},512:{code:512,message:"Połączenie z serwerem niskiego opóźnienia (OME) nie powiodło się.",reason:"Connection timeout."}}}}],Mn=function(R){return R==="subtitles"||R==="captions"};function qt(R){return qt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},qt(R)}function ir(R,S){for(var I in S)Object.prototype.hasOwnProperty.call(S,I)&&(qt(S[I])==="object"&&S[I]!==null&&qt(R[I])==="object"&&R[I]!==null?ir(R[I],S[I]):R[I]=S[I]);return R}var Fn=function(R){var S=R,I=[],k=function(P,j,Y){var st=0,nt=P.length;for(st=0;st<nt;st++){var rt=P[st];rt.listener.apply(rt.context||Y,j)}};return S.on=function(P,j,Y){return(I[P]||(I[P]=[])).push({listener:j,context:Y}),S},S.trigger=function(P){if(!I)return!1;var j=[].slice.call(arguments,1),Y=I[P],st=I.all;Y&&k(Y,j,S),st&&k(st,arguments,S)},S.off=function(P,j,Y){if(!I)return!1;if(!P&&!j&&!Y)return I=[],S;for(var st=P?[P]:Object.keys(I),nt=0,rt=st.length;nt<rt;nt++){P=st[nt];var yt=I[P];if(yt){var lt=I[P]=[];if(j||Y)for(var ct=0,dt=yt.length;ct<dt;ct++){var ut=yt[ct];(j&&j!==ut.listener&&j!==ut.listener.listener&&j!==ut.listener._listener||Y&&Y!==ut.context)&&lt.push(ut)}lt.length||delete I[P]}}return S},S.once=function(P,j,Y){var st=0,nt=function(){st++||(S.off(P,nt),j.apply(S,arguments))};return nt._listener=j,S.on(P,nt,Y)},S},Bn=(e(53439),function(R){var S={},I=null,k=function(P,j){var Y=P.querySelectorAll(j);return Y.length>1?Y:Y[0]};return(I=f().isElement(R)||f().every(R,(function(P){return f().isElement(P)}))?R:R==="document"?document:R==="window"?window:k(document,R))?(S.show=function(){I.style.display="block"},S.hide=function(){I.style.display="none"},S.addClass=function(P){I.classList?I.classList.add(P):I.className.split(" ").indexOf(P)===-1&&(I.className+=" "+P)},S.after=function(P){I.insertAdjacentHTML("afterend",P)},S.append=function(P){I.appendChild(P)},S.before=function(P){I.insertAdjacentHTML("beforebegin",P)},S.children=function(){return I.children||[]},S.contains=function(P){return I!==P&&I.contains(P)},S.empty=function(){I.innerHTML=""},S.find=function(P){return Bn(k(I,P))},S.css=function(P,j){if(!j)return I.style[P];I.length>0?I.forEach((function(Y){Y.style[P]=j})):I.style[P]=j},S.removeClass=function(P){I.classList?I.classList.remove(P):I.className=I.className.replace(new RegExp("(^|\\b)"+P.split(" ").join("|")+"(\\b|$)","gi")," ")},S.removeAttribute=function(P){I.removeAttribute(P)},S.text=function(P){if(P===void 0)return I.textContent;I.textContent=P},S.html=function(P){I.innerHTML=P},S.hasClass=function(P){return I.classList?I.classList.contains(P):new RegExp("(^| )"+P+"( |$)","gi").test(I.name)},S.is=function(P){return I===P},S.offset=function(){var P=I.getBoundingClientRect();return{top:P.top+document.body.scrollTop,left:P.left+document.body.scrollLeft}},S.width=function(){return I.clientWidth},S.height=function(){return I.clientHeight},S.attr=function(P){return I.getAttribute(P)},S.replace=function(P){I.replaceWith(P)},S.remove=function(){I.length>1?I.parentElement.removeChild(I):I.remove()},S.removeChild=function(P){if(P)I.removeChild(P);else for(;I.hasChildNodes();)I.removeChild(I.firstChild)},S.get=function(){return I},S.closest=function(P){I.closest=function(Y){var st=I;do{if(st.matches(Y))return st;st=st.parentElement||st.parentNode}while(st!==null&&st.nodeType===1);return null};var j=I.closest(P);return j?Bn(j):null},S):null}),St=Bn,Re=function(R,S){if(R)return R.indexOf("rtmp:")==0||S=="rtmp"},Pn=function(R,S){return!!R&&(R.indexOf("ws:")===0||R.indexOf("wss:")===0||S==="webrtc")},tn=function(R,S){if(R)return S==="hls"||S==="m3u8"||S==="application/vnd.apple.mpegurl"||p(R)=="m3u8"},dr=function(R,S){if(R)return S==="mpd"||S==="dash"||S==="application/dash+xml"||p(R)=="mpd"},vr=function(R){if(!R)return null;var S=null;if(typeof R=="string")S=document.getElementById(R);else{if(!R.nodeType)return null;S=R}return S},ei=function(){var R={};OvenPlayerConsole.log("SupportChecker loaded.");var S=se(),I=[{name:"html5",checkSupport:function(k){var P=document.createElement("video");if(!P.canPlayType)return!1;var j=k.file,Y=k.type,st=k.overrideNative;if(!Y)return!1;var nt=k.mimeType||{aac:"audio/mp4",mp4:"video/mp4",f4v:"video/mp4",m4v:"video/mp4",mov:"video/mp4",mp3:"audio/mpeg",mpeg:"audio/mpeg",ogv:"video/ogg",ogg:"video/ogg",oga:"video/ogg",vorbis:"video/ogg",webm:"video/webm",f4a:"video/aac",m3u8:"application/vnd.apple.mpegurl",m3u:"application/vnd.apple.mpegurl",hls:"application/vnd.apple.mpegurl"}[Y];return!(tn(j,Y)&&S.os!=="iOS"||tn(j,Y)&&(S.browser==="Microsoft Edge"||S.os==="Android")||tn(j,Y)&&st||Re(j,Y)||Pn(j,Y)||!nt||!P.canPlayType(nt))}},{name:"webrtc",checkSupport:function(k){if(!document.createElement("video").canPlayType||Re(P,j))return!1;var P=k.file,j=k.type;return!!Pn(P,j)}},{name:"dash",checkSupport:function(k){var P=k.file,j=k.type;return!Re(P,j)&&!(typeof(window.MediaSource||window.WebKitMediaSource)!="function"||!dr(P,j))}},{name:"hls",checkSupport:function(k){document.createElement("video");var P,j,Y,st,nt=k.file,rt=k.type;return!Re(nt,rt)&&(P=(function(){if(typeof window<"u")return window.MediaSource||window.WebKitMediaSource})(),j=window.SourceBuffer||window.WebKitSourceBuffer,Y=P&&typeof P.isTypeSupported=="function"&&P.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),st=!j||j.prototype&&typeof j.prototype.appendBuffer=="function"&&typeof j.prototype.remove=="function",!!Y&&!!st)}},{name:"rtmp",checkSupport:function(k){var P=k.file,j=k.type;return!(!Re(P,j)||!(function(){var Y=!1;if("ActiveXObject"in window)try{Y=!!new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch{Y=!1}else Y=!!navigator.mimeTypes["application/x-shockwave-flash"];return Y})()||S.browser==="Microsoft Edge"||S.os==="Android"||S.os==="iOS"||S.browser==="Safari")}}];return R.findProviderNameBySource=function(k){OvenPlayerConsole.log("SupportChecker : findProviderNameBySource()",k);for(var P=k===Object(k)?k:{},j=0;j<I.length;j++)if(I[j].checkSupport(P))return I[j].name},R.findProviderNamesByPlaylist=function(k){OvenPlayerConsole.log("SupportChecker : findProviderNamesByPlaylist()",k);var P=[],j=k;if(j&&j.sources){for(var Y=0;Y<j.sources.length;Y++){var st=j.sources[Y];if(st){var nt=R.findProviderNameBySource(st);nt&&P.push(nt)}}return P}return null},R},zr="data:video/mp4;base64, AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw",Nn=function(R,S){S&&(S.setState(te),S.pause(),S.trigger(qe,R))},Ai=function(R,S){var I=0;if(R)if(S.getSourceIndex()===-1){for(var k=0;k<R.length;k++)if(R[k].default){I=k;break}}else I=S.getSourceIndex();return I};function Ni(R){return{start:R.seekable.start(0),end:R.seekable.end(R.seekable.length-1)}}var Gr=function(R,S,I,k,P){var j,Y="admanagerLoadingTimeout",st="",nt="",rt={},yt=!1,lt=!1,ct={started:!1,active:!1,isVideoEnded:!1},dt=null,ut=null,it=null,At=null,ft=null,pt=null,mt=null,ht=!1,Pt=!1,Xt=I.getBrowser(),pe=Xt.os==="Android"||Xt.os==="iOS";OvenPlayerConsole.log("IMA : started ","isMobile : ",pe,k);try{st=google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,nt=google.ima.AdErrorEvent.Type.AD_ERROR,google.ima.settings.setLocale(I.getLanguage()),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(!0),ut=function(fe){console.log(fe.getError().getVastErrorCode(),fe.getError().getMessage()),lt=!0;var Ft=fe.getError().getInnerError();if(Ft)try{console.log(Ft.getErrorCode(),Ft.getMessage())}catch{}S.trigger(Yn,{code:fe.getError().getVastErrorCode(),message:fe.getError().getMessage()}),ct.active=!1,ct.started=!0,S.play()},dt=function(fe){OvenPlayerConsole.log("IMA : OnManagerLoaded ");var Ft=new google.ima.AdsRenderingSettings;Ft.restoreCustomPlaybackStateOnAdBreakComplete=!0,ft&&(OvenPlayerConsole.log("IMA : destroy adsManager----"),pt.destroy(),pt=null,ft.destroy(),ft=null),ft=fe.getAdsManager(R,Ft),pt=(function(Ht,ae,de,Ce){var Ee={},kt={},Ut=null,he=google.ima.AdEvent.Type.AD_BUFFERING,be=google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,Fe=google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,ye=google.ima.AdErrorEvent.Type.AD_ERROR,ze=google.ima.AdEvent.Type.ALL_ADS_COMPLETED,Ge=google.ima.AdEvent.Type.CLICK,Ie=google.ima.AdEvent.Type.SKIPPED,pn=google.ima.AdEvent.Type.COMPLETE,Oe=google.ima.AdEvent.Type.FIRST_QUARTILE,Ye=google.ima.AdEvent.Type.LOADED,An=google.ima.AdEvent.Type.MIDPOINT,wn=google.ima.AdEvent.Type.PAUSED,In=google.ima.AdEvent.Type.RESUMED,$n=google.ima.AdEvent.Type.STARTED,on=google.ima.AdEvent.Type.USER_CLOSE,cn=google.ima.AdEvent.Type.THIRD_QUARTILE,yn=!1,Xe=null;return OvenPlayerConsole.log("IMA : Listener Created"),kt[be]=function(Be){OvenPlayerConsole.log("IMA LISTENER : ",Be.type),de.started&&(de.active=!0,ae.pause())},kt[Fe]=function(Be){OvenPlayerConsole.log("IMA LISTENER : ",Be.type),de.active=!1,!de.started||ae.getPosition()!==0&&de.isVideoEnded||ae.play()},kt[ye]=function(Be){yn=!0,Ce(Be)},kt[ze]=function(Be){OvenPlayerConsole.log("IMA LISTENER : ",Be.type),yn=!0,de.isVideoEnded&&ae.setState($e)},kt[Ge]=function(Be){OvenPlayerConsole.log(Be.type),ae.trigger(He,{type:"adclick"})},kt[Oe]=function(Be){OvenPlayerConsole.log(Be.type)},kt[he]=function(Be){OvenPlayerConsole.log("AD_BUFFERING",Be.type)},kt[Ye]=function(Be){OvenPlayerConsole.log(Be.type);var Dn=Ht.getRemainingTime(),Br=Be.getAd();ae.trigger(De,{remaining:Dn,isLinear:Br.isLinear()})},kt[An]=function(Be){OvenPlayerConsole.log(Be.type)},kt[wn]=function(Be){OvenPlayerConsole.log(Be.type),ae.setState(me)},kt[In]=function(Be){OvenPlayerConsole.log(Be.type),ae.setState(Rt)},kt[$n]=function(Be){OvenPlayerConsole.log(Be.type);var Dn=Be.getAd();Xe=Dn;var Br={isLinear:Dn.isLinear(),duration:Dn.getDuration(),skipTimeOffset:Dn.getSkipTimeOffset()};ae.trigger(zn,Br),Dn.isLinear()?(ae.setState(Rt),de.started=!0,Ut=setInterval((function(){var Xr=Ht.getRemainingTime(),hs=Dn.getDuration();ae.trigger(sr,{duration:hs,skipTimeOffset:Dn.getSkipTimeOffset(),remaining:Xr,position:hs-Xr,skippable:Ht.getAdSkippableState()})}),300)):ae.play()},kt[pn]=function(Be){OvenPlayerConsole.log(Be.type),Be.getAd().isLinear()&&clearInterval(Ut),ae.trigger(ke)},kt[Ie]=function(Be){OvenPlayerConsole.log(Be.type),Be.getAd().isLinear()&&clearInterval(Ut),ae.trigger(ke)},kt[on]=function(Be){OvenPlayerConsole.log(Be.type),Be.getAd().isLinear()&&clearInterval(Ut),ae.trigger(ke)},kt[cn]=function(Be){OvenPlayerConsole.log(Be.type)},Object.keys(kt).forEach((function(Be){Ht.removeEventListener(Be,kt[Be]),Ht.addEventListener(Be,kt[Be])})),Ee.setAdCompleteCallback=function(Be){},Ee.isAllAdComplete=function(){return yn},Ee.isLinearAd=function(){return!Xe||Xe.isLinear()},Ee.destroy=function(){OvenPlayerConsole.log("IMAEventListener : destroy()"),Object.keys(kt).forEach((function(Be){Ht.removeEventListener(Be,kt[Be])}))},Ee})(ft,S,ct,ut),OvenPlayerConsole.log("IMA : created admanager and listner "),yt=!0};var Kt=((j=document.createElement("div")).setAttribute("class","op-ads"),j.setAttribute("id","op-ads"),I.getContainer().append(j),j);it=new google.ima.AdDisplayContainer(Kt,R),(At=new google.ima.AdsLoader(it)).addEventListener(st,dt,!1),At.addEventListener(nt,ut,!1),OvenPlayerConsole.log("IMA : adDisplayContainer initialized"),S.on(Ir,(function(fe){ft&&(fe.mute?ft.setVolume(0):ft.setVolume(fe.volume/100))}),rt);var le=function(){mt&&(OvenPlayerConsole.log("IMA : setADWillAutoPlay ","autoplayAllowed",ht,"autoplayRequiresMuted",Pt),mt.setAdWillAutoPlay(ht),mt.setAdWillPlayMuted(Pt),Pt&&S.trigger(rn,{message:"Please touch here to turn on the sound.",timer:1e4,iconClass:"volume-mute",onClickCallback:function(){S.setMute(!1)}}))};return rt.isActive=function(){return ct.active},rt.started=function(){return ct.started},rt.play=function(){return ct.started?new Promise((function(fe,Ft){try{ft.resume(),fe()}catch(Ht){Ft(Ht)}})):(it.initialize(),new Promise((function(fe,Ft){var Ht=0,ae=function(){Ht++,yt?(OvenPlayerConsole.log("IMA : ad start!"),ft.init("100%","100%",google.ima.ViewMode.NORMAL),ft.start(),ct.started=!0,fe()):lt?Ft(new Error(Y)):Ht<150?setTimeout(ae,100):Ft(new Error(Y))};(function(){OvenPlayerConsole.log("IMA : checkAutoplaySupport() ");var de=document.createElement("video");de.setAttribute("playsinline","true"),de.src=zr,de.load(),pe&&S.getName()!==It&&R.load();var Ce=function(Ee,kt){ht=Ee,Pt=kt,de.pause(),de.remove(),le()};return new Promise((function(Ee,kt){if(de.play){var Ut=de.play();Ut!==void 0?Ut.then((function(){OvenPlayerConsole.log("IMA : auto play allowed."),Ce(!0,!1),Ee()})).catch((function(he){OvenPlayerConsole.log("IMA : auto play failed",he.message),Ce(!1,!1),Ee()})):(OvenPlayerConsole.log("IMA : promise not support"),Ce(!0,!1),Ee())}else OvenPlayerConsole.log("IMA : !temporarySupportCheckVideo.play"),Ce(!0,!1),Ee()}))})().then((function(){I.isAutoStart()&&!ht?(OvenPlayerConsole.log("IMA : autoplayAllowed : false"),ct.started=!1,Ft(new Error("autoplayNotAllowed"))):(yt=!1,OvenPlayerConsole.log("IMA : initRequest() AutoPlay Support : ","autoplayAllowed",ht,"autoplayRequiresMuted",Pt),(mt=new google.ima.AdsRequest).forceNonLinearFullSlot=!1,le(),mt.adTagUrl=k,At.requestAds(mt),OvenPlayerConsole.log("IMA : requestAds Complete"),ae())}))})))},rt.pause=function(){ft.pause()},rt.videoEndedCallback=function(fe){!pt||!pt.isAllAdComplete()&&pt.isLinearAd()?lt?fe():(ct.isVideoEnded=!0,At.contentComplete()):fe()},rt.destroy=function(){At&&(At.removeEventListener(st,dt),At.removeEventListener(nt,ut)),ft&&ft.destroy(),it&&it.destroy(),pt&&pt.destroy();var fe=St(I.getContainer()).find(".op-ads");fe&&fe.remove(),S.off(Ir,null,rt)},rt}catch{return null}};function oi(R){return oi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},oi(R)}function Xi(R,S,I){return S=Wr(S),(function(k,P){if(P&&(oi(P)=="object"||typeof P=="function"))return P;if(P!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(j){if(j===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j})(k)})(R,Ha()?Reflect.construct(S,I||[],Wr(R).constructor):S.apply(R,I))}function Ha(){try{var R=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(Ha=function(){return!!R})()}function Wr(R){return Wr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(S){return S.__proto__||Object.getPrototypeOf(S)},Wr(R)}function Ui(R,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(S&&S.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),Object.defineProperty(R,"prototype",{writable:!1}),S&&Us(R,S)}function Us(R,S){return Us=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(I,k){return I.__proto__=k,I},Us(R,S)}function Ya(R,S){for(var I=0;I<S.length;I++){var k=S[I];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(R,za(k.key),k)}}function br(R,S,I){return S&&Ya(R.prototype,S),Object.defineProperty(R,"prototype",{writable:!1}),R}function za(R){var S=(function(I){if(oi(I)!="object"||!I)return I;var k=I[Symbol.toPrimitive];if(k!==void 0){var P=k.call(I,"string");if(oi(P)!="object")return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(I)})(R);return oi(S)=="symbol"?S:S+""}function kr(R,S){if(!(R instanceof S))throw new TypeError("Cannot call a class as a function")}var as=br((function R(){kr(this,R),this.id=null,this.sequence=null,this.system=null,this.title=null,this.description=null,this.advertiser=null,this.pricing=null,this.survey=null,this.errorURLTemplates=[],this.impressionURLTemplates=[],this.creatives=[],this.extensions=[]})),Eo=br((function R(){kr(this,R),this.attributes={},this.children=[]})),Va=br((function R(){kr(this,R),this.name=null,this.value=null,this.attributes={}})),ia=br((function R(){kr(this,R),this.id=null,this.width=0,this.height=0,this.type=null,this.staticResource=null,this.htmlResource=null,this.iframeResource=null,this.altText=null,this.companionClickThroughURLTemplate=null,this.companionClickTrackingURLTemplates=[],this.trackingEvents={}})),Fs=br((function R(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};kr(this,R),this.id=S.id||null,this.adId=S.adId||null,this.sequence=S.sequence||null,this.apiFramework=S.apiFramework||null,this.trackingEvents={}})),ja=(function(R){function S(){var I,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return kr(this,S),(I=Xi(this,S,[k])).type="companion",I.variations=[],I}return Ui(S,R),br(S)})(Fs);function Di(R){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},I=[];for(var k in S.ASSETURI&&(S.ASSETURI=li(S.ASSETURI)),S.CONTENTPLAYHEAD&&(S.CONTENTPLAYHEAD=li(S.CONTENTPLAYHEAD)),S.ERRORCODE&&!/^[0-9]{3}$/.test(S.ERRORCODE)&&(S.ERRORCODE=900),S.CACHEBUSTING=Gs(Math.round(1e8*Math.random()).toString()),S.TIMESTAMP=li(new Date().toISOString()),S.RANDOM=S.random=S.CACHEBUSTING,R){var P=R[k];if(typeof P=="string"){for(var j in S){var Y=S[j],st="[".concat(j,"]"),nt="%%".concat(j,"%%");P=(P=P.replace(st,Y)).replace(nt,Y)}I.push(P)}}return I}function li(R){return encodeURIComponent(R).replace(/[!'()*]/g,(function(S){return"%".concat(S.charCodeAt(0).toString(16))}))}function Gs(R){return R.length<8?Ss(0,8-R.length,!1).map((function(S){return"0"})).join("")+R:R}function Ss(R,S,I){for(var k=[],P=R<S,j=I?P?S+1:S-1:S,Y=R;P?Y<j:Y>j;P?Y++:Y--)k.push(Y);return k}var gi={track:function(R,S){Di(R,S).forEach((function(I){typeof window<"u"&&window!==null&&(new Image().src=I)}))},resolveURLTemplates:Di,encodeURIComponentRFC3986:li,leftpad:Gs,range:Ss,isNumeric:function(R){return!isNaN(parseFloat(R))&&isFinite(R)},flatten:function R(S){return S.reduce((function(I,k){return I.concat(Array.isArray(k)?R(k):k)}),[])}},lr=function(R,S){var I=R.childNodes;for(var k in I){var P=I[k];if(P.nodeName===S)return P}},Xn=function(R,S){var I=[],k=R.childNodes;for(var P in k){var j=k[P];j.nodeName===S&&I.push(j)}return I},sa=function(R,S){if(!S)return R;if(R.indexOf("//")===0){var I=location.protocol;return"".concat(I).concat(R)}return R.indexOf("://")===-1?"".concat(S.slice(0,S.lastIndexOf("/")),"/").concat(R):R},Ci=function(R){return["true","TRUE","1"].indexOf(R)!==-1},xn=function(R){return R&&(R.textContent||R.text||"").trim()},pi=function(R,S,I){var k=S.getAttribute(R);k&&I.setAttribute(R,k)},Fi=function(R){if(R==null)return-1;if(gi.isNumeric(R))return parseInt(R);var S=R.split(":");if(S.length!==3)return-1;var I=S[2].split("."),k=parseInt(I[0]);I.length===2&&(k+=parseFloat("0.".concat(I[1])));var P=parseInt(60*S[1]),j=parseInt(60*S[0]*60);return isNaN(j)||isNaN(P)||isNaN(k)||P>3600||k>60?-1:j+P+k},Ts=function(R){var S=[],I=null;return R.forEach((function(k,P){if(k.sequence&&(k.sequence=parseInt(k.sequence,10)),k.sequence>1){var j=R[P-1];if(j&&j.sequence===k.sequence-1)return void(I&&I.push(k));delete k.sequence}I=[k],S.push(I)})),S},Si=function(R,S){R.errorURLTemplates=S.errorURLTemplates.concat(R.errorURLTemplates),R.impressionURLTemplates=S.impressionURLTemplates.concat(R.impressionURLTemplates),R.extensions=S.extensions.concat(R.extensions),R.creatives.forEach((function(I){if(S.trackingEvents&&S.trackingEvents[I.type])for(var k in S.trackingEvents[I.type]){var P=S.trackingEvents[I.type][k];I.trackingEvents[k]||(I.trackingEvents[k]=[]),I.trackingEvents[k]=I.trackingEvents[k].concat(P)}})),S.videoClickTrackingURLTemplates&&S.videoClickTrackingURLTemplates.length&&R.creatives.forEach((function(I){I.type==="linear"&&(I.videoClickTrackingURLTemplates=I.videoClickTrackingURLTemplates.concat(S.videoClickTrackingURLTemplates))})),S.videoCustomClickURLTemplates&&S.videoCustomClickURLTemplates.length&&R.creatives.forEach((function(I){I.type==="linear"&&(I.videoCustomClickURLTemplates=I.videoCustomClickURLTemplates.concat(S.videoCustomClickURLTemplates))})),S.videoClickThroughURLTemplate&&R.creatives.forEach((function(I){I.type==="linear"&&I.videoClickThroughURLTemplate==null&&(I.videoClickThroughURLTemplate=S.videoClickThroughURLTemplate)}))};function $a(R,S){var I=new ja(S);return Xn(R,"Companion").forEach((function(k){var P=new ia;P.id=k.getAttribute("id")||null,P.width=k.getAttribute("width"),P.height=k.getAttribute("height"),P.companionClickTrackingURLTemplates=[],Xn(k,"HTMLResource").forEach((function(j){P.type=j.getAttribute("creativeType")||"text/html",P.htmlResource=xn(j)})),Xn(k,"IFrameResource").forEach((function(j){P.type=j.getAttribute("creativeType")||0,P.iframeResource=xn(j)})),Xn(k,"StaticResource").forEach((function(j){P.type=j.getAttribute("creativeType")||0,Xn(k,"AltText").forEach((function(Y){P.altText=xn(Y)})),P.staticResource=xn(j)})),Xn(k,"TrackingEvents").forEach((function(j){Xn(j,"Tracking").forEach((function(Y){var st=Y.getAttribute("event"),nt=xn(Y);st&&nt&&(P.trackingEvents[st]==null&&(P.trackingEvents[st]=[]),P.trackingEvents[st].push(nt))}))})),Xn(k,"CompanionClickTracking").forEach((function(j){P.companionClickTrackingURLTemplates.push(xn(j))})),P.companionClickThroughURLTemplate=xn(lr(k,"CompanionClickThrough")),P.companionClickTrackingURLTemplate=xn(lr(k,"CompanionClickTracking")),I.variations.push(P)})),I}var Qs=(function(R){function S(){var I,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return kr(this,S),(I=Xi(this,S,[k])).type="linear",I.duration=0,I.skipDelay=null,I.mediaFiles=[],I.videoClickThroughURLTemplate=null,I.videoClickTrackingURLTemplates=[],I.videoCustomClickURLTemplates=[],I.adParameters=null,I.icons=[],I}return Ui(S,R),br(S)})(Fs),bo=br((function R(){kr(this,R),this.program=null,this.height=0,this.width=0,this.xPosition=0,this.yPosition=0,this.apiFramework=null,this.offset=null,this.duration=0,this.type=null,this.staticResource=null,this.htmlResource=null,this.iframeResource=null,this.iconClickThroughURLTemplate=null,this.iconClickTrackingURLTemplates=[],this.iconViewTrackingURLTemplate=null})),aa=br((function R(){kr(this,R),this.id=null,this.fileURL=null,this.deliveryType="progressive",this.mimeType=null,this.codec=null,this.bitrate=0,this.minBitrate=0,this.maxBitrate=0,this.width=0,this.height=0,this.apiFramework=null,this.scalable=null,this.maintainAspectRatio=null}));function oa(R,S){var I,k=new Qs(S);k.duration=Fi(xn(lr(R,"Duration")));var P=R.getAttribute("skipoffset");if(P==null)k.skipDelay=null;else if(P.charAt(P.length-1)==="%"&&k.duration!==-1){var j=parseInt(P,10);k.skipDelay=k.duration*(j/100)}else k.skipDelay=Fi(P);var Y=lr(R,"VideoClicks");Y&&(k.videoClickThroughURLTemplate=xn(lr(Y,"ClickThrough")),Xn(Y,"ClickTracking").forEach((function(rt){k.videoClickTrackingURLTemplates.push(xn(rt))})),Xn(Y,"CustomClick").forEach((function(rt){k.videoCustomClickURLTemplates.push(xn(rt))})));var st=lr(R,"AdParameters");st&&(k.adParameters=xn(st)),Xn(R,"TrackingEvents").forEach((function(rt){Xn(rt,"Tracking").forEach((function(yt){var lt=yt.getAttribute("event"),ct=xn(yt);if(lt&&ct){if(lt==="progress"){if(!(I=yt.getAttribute("offset")))return;lt=I.charAt(I.length-1)==="%"?"progress-".concat(I):"progress-".concat(Math.round(Fi(I)))}k.trackingEvents[lt]==null&&(k.trackingEvents[lt]=[]),k.trackingEvents[lt].push(ct)}}))})),Xn(R,"MediaFiles").forEach((function(rt){Xn(rt,"MediaFile").forEach((function(yt){var lt=new aa;lt.id=yt.getAttribute("id"),lt.fileURL=xn(yt),lt.deliveryType=yt.getAttribute("delivery"),lt.codec=yt.getAttribute("codec"),lt.mimeType=yt.getAttribute("type"),lt.apiFramework=yt.getAttribute("apiFramework"),lt.bitrate=parseInt(yt.getAttribute("bitrate")||0),lt.minBitrate=parseInt(yt.getAttribute("minBitrate")||0),lt.maxBitrate=parseInt(yt.getAttribute("maxBitrate")||0),lt.width=parseInt(yt.getAttribute("width")||0),lt.height=parseInt(yt.getAttribute("height")||0);var ct=yt.getAttribute("scalable");ct&&typeof ct=="string"&&((ct=ct.toLowerCase())==="true"?lt.scalable=!0:ct==="false"&&(lt.scalable=!1));var dt=yt.getAttribute("maintainAspectRatio");dt&&typeof dt=="string"&&((dt=dt.toLowerCase())==="true"?lt.maintainAspectRatio=!0:dt==="false"&&(lt.maintainAspectRatio=!1)),k.mediaFiles.push(lt)}))}));var nt=lr(R,"Icons");return nt&&Xn(nt,"Icon").forEach((function(rt){var yt=new bo;yt.program=rt.getAttribute("program"),yt.height=parseInt(rt.getAttribute("height")||0),yt.width=parseInt(rt.getAttribute("width")||0),yt.xPosition=(function(ct){return["left","right"].indexOf(ct)!==-1?ct:parseInt(ct||0)})(rt.getAttribute("xPosition")),yt.yPosition=(function(ct){return["top","bottom"].indexOf(ct)!==-1?ct:parseInt(ct||0)})(rt.getAttribute("yPosition")),yt.apiFramework=rt.getAttribute("apiFramework"),yt.offset=Fi(rt.getAttribute("offset")),yt.duration=Fi(rt.getAttribute("duration")),Xn(rt,"HTMLResource").forEach((function(ct){yt.type=ct.getAttribute("creativeType")||"text/html",yt.htmlResource=xn(ct)})),Xn(rt,"IFrameResource").forEach((function(ct){yt.type=ct.getAttribute("creativeType")||0,yt.iframeResource=xn(ct)})),Xn(rt,"StaticResource").forEach((function(ct){yt.type=ct.getAttribute("creativeType")||0,yt.staticResource=xn(ct)}));var lt=lr(rt,"IconClicks");lt&&(yt.iconClickThroughURLTemplate=xn(lr(lt,"IconClickThrough")),Xn(lt,"IconClickTracking").forEach((function(ct){yt.iconClickTrackingURLTemplates.push(xn(ct))}))),yt.iconViewTrackingURLTemplate=xn(lr(rt,"IconViewTracking")),k.icons.push(yt)})),k}var la,qr=(function(R){function S(){var I,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return kr(this,S),(I=Xi(this,S,[k])).type="nonlinear",I.variations=[],I}return Ui(S,R),br(S)})(Fs),Zi=br((function R(){kr(this,R),this.id=null,this.width=0,this.height=0,this.expandedWidth=0,this.expandedHeight=0,this.scalable=!0,this.maintainAspectRatio=!0,this.minSuggestedDuration=0,this.apiFramework="static",this.type=null,this.staticResource=null,this.htmlResource=null,this.iframeResource=null,this.nonlinearClickThroughURLTemplate=null,this.nonlinearClickTrackingURLTemplates=[],this.adParameters=null}));function Hs(R,S){var I=new qr(S);return Xn(R,"TrackingEvents").forEach((function(k){var P,j;Xn(k,"Tracking").forEach((function(Y){P=Y.getAttribute("event"),j=xn(Y),P&&j&&(I.trackingEvents[P]==null&&(I.trackingEvents[P]=[]),I.trackingEvents[P].push(j))}))})),Xn(R,"NonLinear").forEach((function(k){var P=new Zi;P.id=k.getAttribute("id")||null,P.width=k.getAttribute("width"),P.height=k.getAttribute("height"),P.expandedWidth=k.getAttribute("expandedWidth"),P.expandedHeight=k.getAttribute("expandedHeight"),P.scalable=Ci(k.getAttribute("scalable")),P.maintainAspectRatio=Ci(k.getAttribute("maintainAspectRatio")),P.minSuggestedDuration=Fi(k.getAttribute("minSuggestedDuration")),P.apiFramework=k.getAttribute("apiFramework"),Xn(k,"HTMLResource").forEach((function(Y){P.type=Y.getAttribute("creativeType")||"text/html",P.htmlResource=xn(Y)})),Xn(k,"IFrameResource").forEach((function(Y){P.type=Y.getAttribute("creativeType")||0,P.iframeResource=xn(Y)})),Xn(k,"StaticResource").forEach((function(Y){P.type=Y.getAttribute("creativeType")||0,P.staticResource=xn(Y)}));var j=lr(k,"AdParameters");j&&(P.adParameters=xn(j)),P.nonlinearClickThroughURLTemplate=xn(lr(k,"NonLinearClickThrough")),Xn(k,"NonLinearClickTracking").forEach((function(Y){P.nonlinearClickTrackingURLTemplates.push(xn(Y))})),I.variations.push(P)})),I}function os(R){var S=R.childNodes;for(var I in S){var k=S[I];if(["Wrapper","InLine"].indexOf(k.nodeName)!==-1){if(pi("id",R,k),pi("sequence",R,k),k.nodeName==="Wrapper")return ua(k);if(k.nodeName==="InLine")return Ys(k)}}}function Ys(R){var S=R.childNodes,I=new as;for(var k in I.id=R.getAttribute("id")||null,I.sequence=R.getAttribute("sequence")||null,S){var P=S[k];switch(P.nodeName){case"Error":I.errorURLTemplates.push(xn(P));break;case"Impression":I.impressionURLTemplates.push(xn(P));break;case"Creatives":Xn(P,"Creative").forEach((function(j){var Y={id:j.getAttribute("id")||null,adId:ls(j),sequence:j.getAttribute("sequence")||null,apiFramework:j.getAttribute("apiFramework")||null};for(var st in j.childNodes){var nt=j.childNodes[st];switch(nt.nodeName){case"Linear":var rt=oa(nt,Y);rt&&I.creatives.push(rt);break;case"NonLinearAds":var yt=Hs(nt,Y);yt&&I.creatives.push(yt);break;case"CompanionAds":var lt=$a(nt,Y);lt&&I.creatives.push(lt)}}}));break;case"Extensions":Ka(I.extensions,Xn(P,"Extension"));break;case"AdSystem":I.system={value:xn(P),version:P.getAttribute("version")||null};break;case"AdTitle":I.title=xn(P);break;case"Description":I.description=xn(P);break;case"Advertiser":I.advertiser=xn(P);break;case"Pricing":I.pricing={value:xn(P),model:P.getAttribute("model")||null,currency:P.getAttribute("currency")||null};break;case"Survey":I.survey=xn(P)}}return I}function ua(R){var S=Ys(R),I=lr(R,"VASTAdTagURI");if(I?S.nextWrapperURL=xn(I):(I=lr(R,"VASTAdTagURL"))&&(S.nextWrapperURL=xn(lr(I,"URL"))),S.creatives.forEach((function(k){if(["linear","nonlinear"].indexOf(k.type)!==-1){if(k.trackingEvents){S.trackingEvents||(S.trackingEvents={}),S.trackingEvents[k.type]||(S.trackingEvents[k.type]={});var P=function(Y){var st=k.trackingEvents[Y];S.trackingEvents[k.type][Y]||(S.trackingEvents[k.type][Y]=[]),st.forEach((function(nt){S.trackingEvents[k.type][Y].push(nt)}))};for(var j in k.trackingEvents)P(j)}k.videoClickTrackingURLTemplates&&(S.videoClickTrackingURLTemplates||(S.videoClickTrackingURLTemplates=[]),k.videoClickTrackingURLTemplates.forEach((function(Y){S.videoClickTrackingURLTemplates.push(Y)}))),k.videoClickThroughURLTemplate&&(S.videoClickThroughURLTemplate=k.videoClickThroughURLTemplate),k.videoCustomClickURLTemplates&&(S.videoCustomClickURLTemplates||(S.videoCustomClickURLTemplates=[]),k.videoCustomClickURLTemplates.forEach((function(Y){S.videoCustomClickURLTemplates.push(Y)})))}})),S.nextWrapperURL)return S}function Ka(R,S){S.forEach((function(I){var k=new Eo,P=I.attributes,j=I.childNodes;if(I.attributes)for(var Y in P){var st=P[Y];st.nodeName&&st.nodeValue&&(k.attributes[st.nodeName]=st.nodeValue)}for(var nt in j){var rt=j[nt],yt=xn(rt);if(rt.nodeName!=="#comment"&&yt!==""){var lt=new Va;if(lt.name=rt.nodeName,lt.value=yt,rt.attributes){var ct=rt.attributes;for(var dt in ct){var ut=ct[dt];lt.attributes[ut.nodeName]=ut.nodeValue}}k.children.push(lt)}}R.push(k)}))}function ls(R){return R.getAttribute("AdID")||R.getAttribute("adID")||R.getAttribute("adId")||null}function Ti(){}function qn(){qn.init.call(this)}function Co(R){return R._maxListeners===void 0?qn.defaultMaxListeners:R._maxListeners}function ca(R,S,I,k){var P,j,Y;if(typeof I!="function")throw new TypeError('"listener" argument must be a function');if((j=R._events)?(j.newListener&&(R.emit("newListener",S,I.listener?I.listener:I),j=R._events),Y=j[S]):(j=R._events=new Ti,R._eventsCount=0),Y){if(typeof Y=="function"?Y=j[S]=k?[I,Y]:[Y,I]:k?Y.unshift(I):Y.push(I),!Y.warned&&(P=Co(R))&&P>0&&Y.length>P){Y.warned=!0;var st=new Error("Possible EventEmitter memory leak detected. "+Y.length+" "+S+" listeners added. Use emitter.setMaxListeners() to increase limit");st.name="MaxListenersExceededWarning",st.emitter=R,st.type=S,st.count=Y.length,(function(nt){typeof console.warn=="function"?console.warn(nt):console.log(nt)})(st)}}else Y=j[S]=I,++R._eventsCount;return R}function Wa(R,S,I){var k=!1;function P(){R.removeListener(S,P),k||(k=!0,I.apply(R,arguments))}return P.listener=I,P}function xs(R){var S=this._events;if(S){var I=S[R];if(typeof I=="function")return 1;if(I)return I.length}return 0}function H(R,S){for(var I=new Array(S);S--;)I[S]=R[S];return I}Ti.prototype=Object.create(null),qn.EventEmitter=qn,qn.usingDomains=!1,qn.prototype.domain=void 0,qn.prototype._events=void 0,qn.prototype._maxListeners=void 0,qn.defaultMaxListeners=10,qn.init=function(){this.domain=null,qn.usingDomains&&(!la.active||this instanceof la.Domain||(this.domain=la.active)),this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new Ti,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},qn.prototype.setMaxListeners=function(R){if(typeof R!="number"||R<0||isNaN(R))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=R,this},qn.prototype.getMaxListeners=function(){return Co(this)},qn.prototype.emit=function(R){var S,I,k,P,j,Y,st,nt=R==="error";if(Y=this._events)nt=nt&&Y.error==null;else if(!nt)return!1;if(st=this.domain,nt){if(S=arguments[1],!st){if(S instanceof Error)throw S;var rt=new Error('Uncaught, unspecified "error" event. ('+S+")");throw rt.context=S,rt}return S||(S=new Error('Uncaught, unspecified "error" event')),S.domainEmitter=this,S.domain=st,S.domainThrown=!1,st.emit("error",S),!1}if(!(I=Y[R]))return!1;var yt=typeof I=="function";switch(k=arguments.length){case 1:(function(lt,ct,dt){if(ct)lt.call(dt);else for(var ut=lt.length,it=H(lt,ut),At=0;At<ut;++At)it[At].call(dt)})(I,yt,this);break;case 2:(function(lt,ct,dt,ut){if(ct)lt.call(dt,ut);else for(var it=lt.length,At=H(lt,it),ft=0;ft<it;++ft)At[ft].call(dt,ut)})(I,yt,this,arguments[1]);break;case 3:(function(lt,ct,dt,ut,it){if(ct)lt.call(dt,ut,it);else for(var At=lt.length,ft=H(lt,At),pt=0;pt<At;++pt)ft[pt].call(dt,ut,it)})(I,yt,this,arguments[1],arguments[2]);break;case 4:(function(lt,ct,dt,ut,it,At){if(ct)lt.call(dt,ut,it,At);else for(var ft=lt.length,pt=H(lt,ft),mt=0;mt<ft;++mt)pt[mt].call(dt,ut,it,At)})(I,yt,this,arguments[1],arguments[2],arguments[3]);break;default:for(P=new Array(k-1),j=1;j<k;j++)P[j-1]=arguments[j];(function(lt,ct,dt,ut){if(ct)lt.apply(dt,ut);else for(var it=lt.length,At=H(lt,it),ft=0;ft<it;++ft)At[ft].apply(dt,ut)})(I,yt,this,P)}return!0},qn.prototype.addListener=function(R,S){return ca(this,R,S,!1)},qn.prototype.on=qn.prototype.addListener,qn.prototype.prependListener=function(R,S){return ca(this,R,S,!0)},qn.prototype.once=function(R,S){if(typeof S!="function")throw new TypeError('"listener" argument must be a function');return this.on(R,Wa(this,R,S)),this},qn.prototype.prependOnceListener=function(R,S){if(typeof S!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(R,Wa(this,R,S)),this},qn.prototype.removeListener=function(R,S){var I,k,P,j,Y;if(typeof S!="function")throw new TypeError('"listener" argument must be a function');if(!(k=this._events))return this;if(!(I=k[R]))return this;if(I===S||I.listener&&I.listener===S)--this._eventsCount==0?this._events=new Ti:(delete k[R],k.removeListener&&this.emit("removeListener",R,I.listener||S));else if(typeof I!="function"){for(P=-1,j=I.length;j-- >0;)if(I[j]===S||I[j].listener&&I[j].listener===S){Y=I[j].listener,P=j;break}if(P<0)return this;if(I.length===1){if(I[0]=void 0,--this._eventsCount==0)return this._events=new Ti,this;delete k[R]}else(function(st,nt){for(var rt=nt,yt=rt+1,lt=st.length;yt<lt;rt+=1,yt+=1)st[rt]=st[yt];st.pop()})(I,P);k.removeListener&&this.emit("removeListener",R,Y||S)}return this},qn.prototype.removeAllListeners=function(R){var S,I;if(!(I=this._events))return this;if(!I.removeListener)return arguments.length===0?(this._events=new Ti,this._eventsCount=0):I[R]&&(--this._eventsCount==0?this._events=new Ti:delete I[R]),this;if(arguments.length===0){for(var k,P=Object.keys(I),j=0;j<P.length;++j)(k=P[j])!=="removeListener"&&this.removeAllListeners(k);return this.removeAllListeners("removeListener"),this._events=new Ti,this._eventsCount=0,this}if(typeof(S=I[R])=="function")this.removeListener(R,S);else if(S)do this.removeListener(R,S[S.length-1]);while(S[0]);return this},qn.prototype.listeners=function(R){var S,I=this._events;return I&&(S=I[R])?typeof S=="function"?[S.listener||S]:(function(k){for(var P=new Array(k.length),j=0;j<P.length;++j)P[j]=k[j].listener||k[j];return P})(S):[]},qn.listenerCount=function(R,S){return typeof R.listenerCount=="function"?R.listenerCount(S):xs.call(R,S)},qn.prototype.listenerCount=xs,qn.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var Z=function(R,S,I){var k=typeof window.ActiveXObject=="function"?new window.ActiveXObject("Microsoft.XMLDOM"):void 0;if(!k)return I(new Error("FlashURLHandler: Microsoft.XMLDOM format not supported"));k.async=!1,request.open("GET",R),request.timeout=S.timeout||0,request.withCredentials=S.withCredentials||!1,request.send(),request.onprogress=function(){},request.onload=function(){k.loadXML(request.responseText),I(null,k)}},gt=function(){return window.XDomainRequest&&(R=new XDomainRequest),!!R;var R},Et=function(R,S,I){I(new Error("Please bundle the library for node to use the node urlHandler"))};function Dt(){try{var R=new window.XMLHttpRequest;return"withCredentials"in R?R:null}catch(S){return console.log("Error in XHRURLHandler support check:",S),null}}var wt=function(R,S,I){if(window.location.protocol==="https:"&&R.indexOf("http://")===0)return I(new Error("XHRURLHandler: Cannot go from HTTPS to HTTP."));try{var k=Dt();k.open("GET",R),k.timeout=S.timeout||0,k.withCredentials=S.withCredentials||!1,k.overrideMimeType&&k.overrideMimeType("text/xml"),k.onreadystatechange=function(){k.readyState===4&&(k.status===200?I(null,k.responseXML):I(new Error("XHRURLHandler: ".concat(k.statusText))))},k.send()}catch{I(new Error("XHRURLHandler: Unexpected error"))}},Qt=function(){return!!Dt()},ie={get:function(R,S,I){return I||(typeof S=="function"&&(I=S),S={}),typeof window>"u"||window===null?Et(R,S,I):Qt()?wt(R,S,I):gt()?Z(R,S,I):I(new Error("Current context is not supported by any of the default URLHandlers. Please provide a custom URLHandler"))}},mn=br((function R(){kr(this,R),this.ads=[],this.errorURLTemplates=[]})),Cn={ERRORCODE:900,extensions:[]},er=(function(R){function S(){var I;return kr(this,S),(I=Xi(this,S)).remainingAds=[],I.parentURLs=[],I.errorURLTemplates=[],I.rootErrorURLTemplates=[],I.maxWrapperDepth=null,I.URLTemplateFilters=[],I.fetchingOptions={},I}return Ui(S,R),br(S,[{key:"addURLTemplateFilter",value:function(I){typeof I=="function"&&this.URLTemplateFilters.push(I)}},{key:"removeURLTemplateFilter",value:function(){this.URLTemplateFilters.pop()}},{key:"countURLTemplateFilters",value:function(){return this.URLTemplateFilters.length}},{key:"clearURLTemplateFilters",value:function(){this.URLTemplateFilters=[]}},{key:"trackVastError",value:function(I,k){for(var P=arguments.length,j=new Array(P>2?P-2:0),Y=2;Y<P;Y++)j[Y-2]=arguments[Y];this.emit("VAST-error",Object.assign.apply(Object,[Cn,k].concat(j))),gi.track(I,k)}},{key:"getErrorURLTemplates",value:function(){return this.rootErrorURLTemplates.concat(this.errorURLTemplates)}},{key:"fetchVAST",value:function(I,k,P){var j=this;return new Promise((function(Y,st){j.URLTemplateFilters.forEach((function(nt){I=nt(I)})),j.parentURLs.push(I),j.emit("VAST-resolving",{url:I,wrapperDepth:k,originalUrl:P}),j.urlHandler.get(I,j.fetchingOptions,(function(nt,rt){j.emit("VAST-resolved",{url:I,error:nt}),nt?st(nt):Y(rt)}))}))}},{key:"initParsingStatus",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.rootURL="",this.remainingAds=[],this.parentURLs=[],this.errorURLTemplates=[],this.rootErrorURLTemplates=[],this.maxWrapperDepth=I.wrapperLimit||10,this.fetchingOptions={timeout:I.timeout,withCredentials:I.withCredentials},this.urlHandler=I.urlhandler||ie}},{key:"getRemainingAds",value:function(I){var k=this;if(this.remainingAds.length===0)return Promise.reject(new Error("No more ads are available for the given VAST"));var P=I?gi.flatten(this.remainingAds):this.remainingAds.shift();return this.errorURLTemplates=[],this.parentURLs=[],this.resolveAds(P,{wrapperDepth:0,originalUrl:this.rootURL}).then((function(j){return k.buildVASTResponse(j)}))}},{key:"getAndParseVAST",value:function(I){var k=this,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.initParsingStatus(P),this.rootURL=I,this.fetchVAST(I).then((function(j){return P.originalUrl=I,P.isRootVAST=!0,k.parse(j,P).then((function(Y){return k.buildVASTResponse(Y)}))}))}},{key:"parseVAST",value:function(I){var k=this,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.initParsingStatus(P),P.isRootVAST=!0,this.parse(I,P).then((function(j){return k.buildVASTResponse(j)}))}},{key:"buildVASTResponse",value:function(I){var k=new mn;return k.ads=I,k.errorURLTemplates=this.getErrorURLTemplates(),this.completeWrapperResolving(k),k}},{key:"parse",value:function(I,k){var P=k.resolveAll,j=P===void 0||P,Y=k.wrapperSequence,st=Y===void 0?null:Y,nt=k.originalUrl,rt=nt===void 0?null:nt,yt=k.wrapperDepth,lt=yt===void 0?0:yt,ct=k.isRootVAST,dt=ct!==void 0&&ct;if(!I||!I.documentElement||I.documentElement.nodeName!=="VAST")return Promise.reject(new Error("Invalid VAST XMLDocument"));var ut=[],it=I.documentElement.childNodes;for(var At in it){var ft=it[At];if(ft.nodeName==="Error"){var pt=xn(ft);dt?this.rootErrorURLTemplates.push(pt):this.errorURLTemplates.push(pt)}if(ft.nodeName==="Ad"){var mt=os(ft);mt?ut.push(mt):this.trackVastError(this.getErrorURLTemplates(),{ERRORCODE:101})}}var ht=ut.length,Pt=ut[ht-1];return ht===1&&st!=null&&Pt&&!Pt.sequence&&(Pt.sequence=st),j===!1&&(this.remainingAds=Ts(ut),ut=this.remainingAds.shift()),this.resolveAds(ut,{wrapperDepth:lt,originalUrl:rt})}},{key:"resolveAds",value:function(){var I=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],P=arguments.length>1?arguments[1]:void 0,j=P.wrapperDepth,Y=P.originalUrl,st=[];return k.forEach((function(nt){var rt=I.resolveWrappers(nt,j,Y);st.push(rt)})),Promise.all(st).then((function(nt){var rt=gi.flatten(nt);if(!rt&&I.remainingAds.length>0){var yt=I.remainingAds.shift();return I.resolveAds(yt,{wrapperDepth:j,originalUrl:Y})}return rt}))}},{key:"resolveWrappers",value:function(I,k,P){var j=this;return new Promise((function(Y,st){if(k++,!I.nextWrapperURL)return delete I.nextWrapperURL,Y(I);if(k>=j.maxWrapperDepth||j.parentURLs.indexOf(I.nextWrapperURL)!==-1)return I.errorCode=302,delete I.nextWrapperURL,Y(I);I.nextWrapperURL=sa(I.nextWrapperURL,P);var nt=I.sequence;P=I.nextWrapperURL,j.fetchVAST(I.nextWrapperURL,k,P).then((function(rt){return j.parse(rt,{originalUrl:P,wrapperSequence:nt,wrapperDepth:k}).then((function(yt){if(delete I.nextWrapperURL,yt.length===0)return I.creatives=[],Y(I);yt.forEach((function(lt){lt&&Si(lt,I)})),Y(yt)}))})).catch((function(rt){I.errorCode=301,I.errorMessage=rt.message,Y(I)}))}))}},{key:"completeWrapperResolving",value:function(I){if(I.ads.length===0)this.trackVastError(I.errorURLTemplates,{ERRORCODE:303});else for(var k=I.ads.length-1;k>=0;k--){var P=I.ads[k];(P.errorCode||P.creatives.length===0)&&(this.trackVastError(P.errorURLTemplates.concat(I.errorURLTemplates),{ERRORCODE:P.errorCode||303},{ERRORMESSAGE:P.errorMessage||""},{extensions:P.extensions},{system:P.system}),I.ads.splice(k,1))}}}])})(qn),Cr=null,us={data:{},length:0,getItem:function(R){return this.data[R]},setItem:function(R,S){this.data[R]=S,this.length=Object.keys(this.data).length},removeItem:function(R){delete data[R],this.length=Object.keys(this.data).length},clear:function(){this.data={},this.length=0}},cs=(function(){return br((function R(){kr(this,R),this.storage=this.initStorage()}),[{key:"initStorage",value:function(){if(Cr)return Cr;try{Cr=typeof window<"u"&&window!==null?window.localStorage||window.sessionStorage:null}catch{Cr=null}return Cr&&!this.isStorageDisabled(Cr)||(Cr=us).clear(),Cr}},{key:"isStorageDisabled",value:function(R){var S="__VASTStorage__";try{if(R.setItem(S,S),R.getItem(S)!==S)return R.removeItem(S),!0}catch{return!0}return R.removeItem(S),!1}},{key:"getItem",value:function(R){return this.storage.getItem(R)}},{key:"setItem",value:function(R,S){return this.storage.setItem(R,S)}},{key:"removeItem",value:function(R){return this.storage.removeItem(R)}},{key:"clear",value:function(){return this.storage.clear()}}])})(),mi=(function(){return br((function R(S,I,k){kr(this,R),this.cappingFreeLunch=S||0,this.cappingMinimumTimeInterval=I||0,this.defaultOptions={withCredentials:!1,timeout:0},this.vastParser=new er,this.storage=k||new cs,this.lastSuccessfulAd===void 0&&(this.lastSuccessfulAd=0),this.totalCalls===void 0&&(this.totalCalls=0),this.totalCallsTimeout===void 0&&(this.totalCallsTimeout=0)}),[{key:"getParser",value:function(){return this.vastParser}},{key:"lastSuccessfulAd",get:function(){return this.storage.getItem("vast-client-last-successful-ad")},set:function(R){this.storage.setItem("vast-client-last-successful-ad",R)}},{key:"totalCalls",get:function(){return this.storage.getItem("vast-client-total-calls")},set:function(R){this.storage.setItem("vast-client-total-calls",R)}},{key:"totalCallsTimeout",get:function(){return this.storage.getItem("vast-client-total-calls-timeout")},set:function(R){this.storage.setItem("vast-client-total-calls-timeout",R)}},{key:"hasRemainingAds",value:function(){return this.vastParser.remainingAds.length>0}},{key:"getNextAds",value:function(R){return this.vastParser.getRemainingAds(R)}},{key:"get",value:function(R){var S=this,I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},k=Date.now();return(I=Object.assign(this.defaultOptions,I)).hasOwnProperty("resolveAll")||(I.resolveAll=!1),this.totalCallsTimeout<k?(this.totalCalls=1,this.totalCallsTimeout=k+36e5):this.totalCalls++,new Promise((function(P,j){if(S.cappingFreeLunch>=S.totalCalls)return j(new Error("VAST call canceled – FreeLunch capping not reached yet ".concat(S.totalCalls,"/").concat(S.cappingFreeLunch)));var Y=k-S.lastSuccessfulAd;if(Y<0)S.lastSuccessfulAd=0;else if(Y<S.cappingMinimumTimeInterval)return j(new Error("VAST call canceled – (".concat(S.cappingMinimumTimeInterval,")ms minimum interval reached")));S.vastParser.getAndParseVAST(R,I).then((function(st){return P(st)})).catch((function(st){return j(st)}))}))}}])})(),qa=(function(R){function S(I,k,P){var j,Y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;for(var st in kr(this,S),(j=Xi(this,S)).ad=k,j.creative=P,j.variation=Y,j.muted=!1,j.impressed=!1,j.skippable=!1,j.trackingEvents={},j._alreadyTriggeredQuartiles={},j.emitAlwaysEvents=["creativeView","start","firstQuartile","midpoint","thirdQuartile","complete","resume","pause","rewind","skip","closeLinear","close"],j.creative.trackingEvents){var nt=j.creative.trackingEvents[st];j.trackingEvents[st]=nt.slice(0)}return j.creative instanceof Qs?j._initLinearTracking():j._initVariationTracking(),I&&j.on("start",(function(){I.lastSuccessfulAd=Date.now()})),j}return Ui(S,R),br(S,[{key:"_initLinearTracking",value:function(){this.linear=!0,this.skipDelay=this.creative.skipDelay,this.setDuration(this.creative.duration),this.clickThroughURLTemplate=this.creative.videoClickThroughURLTemplate,this.clickTrackingURLTemplates=this.creative.videoClickTrackingURLTemplates}},{key:"_initVariationTracking",value:function(){if(this.linear=!1,this.skipDelay=-1,this.variation){for(var I in this.variation.trackingEvents){var k=this.variation.trackingEvents[I];this.trackingEvents[I]?this.trackingEvents[I]=this.trackingEvents[I].concat(k.slice(0)):this.trackingEvents[I]=k.slice(0)}this.variation instanceof Zi?(this.clickThroughURLTemplate=this.variation.nonlinearClickThroughURLTemplate,this.clickTrackingURLTemplates=this.variation.nonlinearClickTrackingURLTemplates,this.setDuration(this.variation.minSuggestedDuration)):this.variation instanceof ia&&(this.clickThroughURLTemplate=this.variation.companionClickThroughURLTemplate,this.clickTrackingURLTemplates=this.variation.companionClickTrackingURLTemplates)}}},{key:"setDuration",value:function(I){this.assetDuration=I,this.quartiles={firstQuartile:Math.round(25*this.assetDuration)/100,midpoint:Math.round(50*this.assetDuration)/100,thirdQuartile:Math.round(75*this.assetDuration)/100}}},{key:"setProgress",value:function(I){var k=this,P=this.skipDelay||-1;if(P===-1||this.skippable||(P>I?this.emit("skip-countdown",P-I):(this.skippable=!0,this.emit("skip-countdown",0))),this.assetDuration>0){var j=[];if(I>0){var Y=Math.round(I/this.assetDuration*100);for(var st in j.push("start"),j.push("progress-".concat(Y,"%")),j.push("progress-".concat(Math.round(I))),this.quartiles)this.isQuartileReached(st,this.quartiles[st],I)&&(j.push(st),this._alreadyTriggeredQuartiles[st]=!0)}j.forEach((function(nt){k.track(nt,!0)})),I<this.progress&&this.track("rewind")}this.progress=I}},{key:"isQuartileReached",value:function(I,k,P){var j=!1;return k<=P&&!this._alreadyTriggeredQuartiles[I]&&(j=!0),j}},{key:"setMuted",value:function(I){this.muted!==I&&this.track(I?"mute":"unmute"),this.muted=I}},{key:"setPaused",value:function(I){this.paused!==I&&this.track(I?"pause":"resume"),this.paused=I}},{key:"setFullscreen",value:function(I){this.fullscreen!==I&&this.track(I?"fullscreen":"exitFullscreen"),this.fullscreen=I}},{key:"setExpand",value:function(I){this.expanded!==I&&this.track(I?"expand":"collapse"),this.expanded=I}},{key:"setSkipDelay",value:function(I){typeof I=="number"&&(this.skipDelay=I)}},{key:"trackImpression",value:function(){this.impressed||(this.impressed=!0,this.trackURLs(this.ad.impressionURLTemplates),this.track("creativeView"))}},{key:"errorWithCode",value:function(I){this.trackURLs(this.ad.errorURLTemplates,{ERRORCODE:I})}},{key:"complete",value:function(){this.track("complete")}},{key:"close",value:function(){this.track(this.linear?"closeLinear":"close")}},{key:"skip",value:function(){this.track("skip"),this.trackingEvents=[]}},{key:"click",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this.clickTrackingURLTemplates&&this.clickTrackingURLTemplates.length&&this.trackURLs(this.clickTrackingURLTemplates);var k=this.clickThroughURLTemplate||I;if(k){var P=this.linear?{CONTENTPLAYHEAD:this.progressFormatted()}:{},j=gi.resolveURLTemplates([k],P)[0];this.emit("clickthrough",j)}}},{key:"track",value:function(I){var k=arguments.length>1&&arguments[1]!==void 0&&arguments[1];I==="closeLinear"&&!this.trackingEvents[I]&&this.trackingEvents.close&&(I="close");var P=this.trackingEvents[I],j=this.emitAlwaysEvents.indexOf(I)>-1;P?(this.emit(I,""),this.trackURLs(P)):j&&this.emit(I,""),k&&(delete this.trackingEvents[I],j&&this.emitAlwaysEvents.splice(this.emitAlwaysEvents.indexOf(I),1))}},{key:"trackURLs",value:function(I){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.linear&&(this.creative&&this.creative.mediaFiles&&this.creative.mediaFiles[0]&&this.creative.mediaFiles[0].fileURL&&(k.ASSETURI=this.creative.mediaFiles[0].fileURL),k.CONTENTPLAYHEAD=this.progressFormatted()),gi.track(I,k)}},{key:"progressFormatted",value:function(){var I=parseInt(this.progress),k=I/3600;k.length<2&&(k="0".concat(k));var P=I/60%60;P.length<2&&(P="0".concat(P));var j=I%60;return j.length<2&&(j="0".concat(P)),"".concat(k,":").concat(P,":").concat(j,".").concat(parseInt(100*(this.progress-I)))}}])})(qn),So=function(R,S,I,k){var P,j={},Y={started:!1,active:!1,isVideoEnded:!1,lang:I.getLanguage()},st=null,nt="",rt=null,yt="",lt="",ct=!1,dt=I.getBrowser(),ut=dt.os==="Android"||dt.os==="iOS";(P=document.createElement("div")).setAttribute("class","op-ads"),P.setAttribute("id","op-ads"),I.getContainer().append(P),(rt=document.createElement("video")).setAttribute("playsinline","true"),rt.setAttribute("title","Advertisement"),rt.setAttribute("class","op-ads-vast-video"),(lt=document.createElement("div")).setAttribute("class","op-ads-button"),(yt=document.createElement("div")).setAttribute("class","op-ads-textview"),lt.append(yt),P.append(rt),P.append(lt),nt=P;var it=new mi,At=null,ft=null,pt=function(mt){console.log(mt),rt.style.display="none",S.trigger(Yn,{code:mt.code,message:mt.message}),Y.active=!1,Y.started=!0,S.play()};return j.isActive=function(){return Y.active},j.started=function(){return Y.started},j.play=function(){return Y.started?rt.play():new Promise((function(mt,ht){var Pt=function(){S.metaLoaded()?(OvenPlayerConsole.log("VAST : main contents meta loaded."),(function(){OvenPlayerConsole.log("VAST : checkAutoplaySupport() ");var Xt=document.createElement("video");Xt.setAttribute("playsinline","true"),Xt.src=zr,Xt.load(),rt.load(),ut&&S.getName()!==It&&R.load();var pe=function(Kt,le){ct=Kt,Xt.pause(),Xt.remove()};return new Promise((function(Kt,le){if(Xt.play){var fe=Xt.play();fe!==void 0?fe.then((function(){OvenPlayerConsole.log("VAST : auto play allowed."),pe(!0),Kt()})).catch((function(Ft){OvenPlayerConsole.log("VAST : auto play failed",Ft.message),pe(!1),Kt()})):(OvenPlayerConsole.log("VAST : promise not support"),pe(!0),Kt())}else OvenPlayerConsole.log("VAST : !temporarySupportCheckVideo.play"),pe(!0),Kt()}))})().then((function(){I.isAutoStart()&&!ct?(OvenPlayerConsole.log("VAST : autoplayAllowed : false"),Y.started=!1,ht(new Error("autoplayNotAllowed"))):(it.get(k).then((function(Xt){if(OvenPlayerConsole.log("VAST : initRequest()"),!(ft=Xt.ads[0]))throw{code:401,message:"File not found. Unable to find Linear/MediaFile from URI."};At=new qa(it,ft,ft.creatives[0]),OvenPlayerConsole.log("VAST : created ad tracker."),st=(function(Kt,le,fe,Ft,Ht,ae,de){var Ce={},Ee={},kt=St(ae),Ut=St(Ht),he=St(Kt);fe.on(Ir,(function(ye){ye.mute?Kt.muted=!0:(Kt.muted=!1,Kt.volume=ye.volume/100)}),Ee);var be=function(){Ft.active=!1,Ut.hide(),!Ft.started||fe.getPosition()!==0&&Ft.isVideoEnded||(he.hide(),fe.play()),fe.trigger(ke)},Fe=function(ye){kt.hasClass("videoAdUiAction")&&(le.skip(),Kt.pause(),be())};return ae.addEventListener("click",Fe,!1),Ce.error=function(){OvenPlayerConsole.log("VAST : listener : error.",Kt.error),console.log("VAST : listener : error.",Kt.error);var ye={},ze=Kt.error&&Kt.error.code||0;ze===2?(ye.code=402,ye.message="Timeout of MediaFile URI."):ze===3?(ye.code=405,ye.message="Problem displaying MediaFile. Video player found a MediaFile with supported type but couldn’t display it. MediaFile may include: unsupported codecs, different MIME type than MediaFile@type, unsupported delivery method, etc."):ze===4?(ye.code=403,ye.message="Couldn’t find MediaFile that is supported by this video player, based on the attributes of the MediaFile element."):(ye.code=400,ye.message="General Linear error. Video player is unable to display the Linear Ad."),le.errorWithCode(ye.code),de("405")},Ce.canplay=function(){},Ce.ended=function(){le.complete(),be()},Ce.click=function(ye){le.click()},Ce.play=function(){le.setPaused(!1)},Ce.pause=function(){le.setPaused(!0)},Ce.timeupdate=function(ye){le.setProgress(ye.target.currentTime),fe.trigger(sr,{duration:Kt.duration,position:Kt.currentTime})},Ce.volumechange=function(ye){OvenPlayerConsole.log("VAST : listener : Ad Video Volumechange."),le.setMuted(ye.target.muted)},Ce.loadedmetadata=function(){OvenPlayerConsole.log("VAST : listener : Ad CONTENT LOADED ."),sn===fe.getState()&&fe.pause(),le.trackImpression(),fe.trigger(De,{remaining:Kt.duration,isLinear:!0}),Kt.play()},le.on("skip",(function(){OvenPlayerConsole.log("VAST : listener : skipped")})),le.on("mute",(function(){OvenPlayerConsole.log("VAST : listener : muted")})),le.on("unmute",(function(){OvenPlayerConsole.log("VAST : listener : unmuted")})),le.on("resume",(function(){OvenPlayerConsole.log("VAST : listener : vastTracker resumed."),Ft.started&&fe.setState(Rt)})),le.on("pause",(function(){OvenPlayerConsole.log("VAST : listener : vastTracker paused."),fe.setState(me)})),le.on("clickthrough",(function(ye){OvenPlayerConsole.log("VAST : listener : clickthrough :",ye),window.open(ye,"_blank")})),le.on("skip-countdown",(function(ye){ye===0?(Ft.lang==="ko"?kt.html("광고 건너뛰기<i class='op-con op-arrow-right btn-right'></i>"):kt.html("Ad Skip<i class='op-con op-arrow-right btn-right'></i>"),kt.addClass("videoAdUiAction")):Ft.lang==="ko"?kt.html(parseInt(ye)+1+"초 후에 이 광고를 건너뛸 수 있습니다."):kt.html("You can skip this ad in "+(parseInt(ye)+1))})),le.on("rewind",(function(){OvenPlayerConsole.log("VAST : listener : rewind")})),le.on("start",(function(){OvenPlayerConsole.log("VAST : listener : started"),Ft.started=!0,Ft.active=!0,he.show(),Ut.show(),fe.trigger(zn,{isLinear:!0}),fe.setState(Rt)})),le.on("firstQuartile",(function(){OvenPlayerConsole.log("VAST : listener : firstQuartile")})),le.on("midpoint",(function(){OvenPlayerConsole.log("VAST : listener : midpoint")})),le.on("thirdQuartile",(function(){OvenPlayerConsole.log("VAST : listener : thirdQuartile")})),le.on("creativeView",(function(){OvenPlayerConsole.log("VAST : listener : creativeView")})),Object.keys(Ce).forEach((function(ye){Kt.removeEventListener(ye,Ce[ye]),Kt.addEventListener(ye,Ce[ye])})),Ee.destroy=function(){OvenPlayerConsole.log("EventListener : destroy()"),ae.removeEventListener("click",Fe,!1),Object.keys(Ce).forEach((function(ye){Kt.removeEventListener(ye,Ce[ye])}))},Ee})(rt,At,S,Y,lt,yt,pt);var pe="";ft.creatives&&ft.creatives.length>0&&ft.creatives[0].mediaFiles&&ft.creatives[0].mediaFiles.length>0&&ft.creatives[0].mediaFiles[0].fileURL&&(pe=ft.creatives[0].mediaFiles[0].fileURL,OvenPlayerConsole.log("VAST : media url : ",pe)),rt.src=pe,rt.volume=R.volume,rt.muted=R.muted})).catch((function(Xt){pt(Xt)})),mt())}))):setTimeout(Pt,100)};Pt()}))},j.pause=function(){rt.pause()},j.videoEndedCallback=function(mt){mt(),Y.isVideoEnded=!0},j.destroy=function(){st&&(st.destroy(),st=null),At=null,it=null,nt.remove()},j},To=function(R,S,I){OvenPlayerConsole.log("[Provider] loaded. ");var k={};Fn(k);var P=R.element,j=null,Y=null;R.adTagUrl&&(OvenPlayerConsole.log("[Provider] Ad Client - ",S.getAdClient()),(j=S.getAdClient()==="vast"?So(P,k,S,R.adTagUrl):Gr(P,k,S,R.adTagUrl))||console.log("Can not load due to google ima for Ads.")),Y=(function(nt,rt,yt,lt){var ct={};OvenPlayerConsole.log("EventListener loaded.",nt,rt);var dt={},ut=-1,it=nt;return ct.canplay=function(){rt.setCanSeek(!0),rt.trigger("bufferFull"),OvenPlayerConsole.log("EventListener : on canplay")},ct.durationchange=function(){ct.progress(),OvenPlayerConsole.log("EventListener : on durationchange"),rt.trigger("durationChanged")},ct.ended=function(){OvenPlayerConsole.log("EventListener : on ended"),it.pause(),rt.getState()!==We&&rt.getState()!==$e&&rt.getState()!==te&&(yt?yt((function(){rt.setState($e)})):rt.setState($e))},ct.loadeddata=function(){},ct.loadedmetadata=function(){var At=rt.getSources(),ft=rt.getCurrentSource(),pt=ft>-1?At[ft].type:"",mt={duration:rt.isLive()?1/0:it.duration,type:pt};rt.setMetaLoaded(),OvenPlayerConsole.log("EventListener : on loadedmetadata",mt),rt.trigger(Lr,mt)},ct.pause=function(){return rt.getState()!==$e&&rt.getState()!==te&&!it.ended&&!it.error&&it.currentTime!==it.duration&&(OvenPlayerConsole.log("EventListener : on pause"),void rt.setState(Rn))},ct.loadstart=function(){lt&&!lt.getConfig().showBigPlayButton&&lt.getConfig().autoStart&&rt.setState(Ae)},ct.play=function(){ut=-1,it.paused||rt.getState()===sn||rt.setState(Ae)},ct.playing=function(){OvenPlayerConsole.log("EventListener : on playing"),ut<0&&rt.setState(sn)},ct.progress=function(){var At=it.buffered;if(!At)return!1;var ft,pt=it.duration,mt=it.currentTime,ht=(ft=(At.length>0?At.end(At.length-1):0)/pt,Math.max(Math.min(ft,1),0));rt.setBuffer(100*ht),rt.trigger(Fr,{bufferPercent:100*ht,position:mt,duration:pt}),OvenPlayerConsole.log("EventListener : on progress",100*ht)},ct.timeupdate=function(){var At=it.currentTime,ft=it.duration;if(!isNaN(ft)){if(At>ft)return it.pause(),void rt.setState($e);var pt=rt.getSources()[rt.getCurrentSource()].sectionStart;pt&&At<pt&&rt.getState()===sn&&rt.seek(pt);var mt=rt.getSources()[rt.getCurrentSource()].sectionEnd;if(mt&&At>mt&&rt.getState()===sn)return rt.stop(),void rt.setState($e);ft>9e15&&(ft=1/0),rt.isSeeking()||it.paused||rt.getState()!==oe&&rt.getState()!==Ae&&rt.getState()!==Rt||(function(ht,Pt){return ht.toFixed(2)===Pt.toFixed(2)})(ut,At)||(ut=-1,rt.setState(sn)),pt&&pt>0&&(At-=pt)<0&&(At=0),mt&&(ft=mt),pt&&(ft-=pt),(rt.getState()===sn||rt.isSeeking())&&rt.trigger(or,{position:At,duration:ft})}},ct.seeking=function(){rt.setSeeking(!0),OvenPlayerConsole.log("EventListener : on seeking",it.currentTime),rt.trigger("seek",{position:it.currentTime})},ct.seeked=function(){rt.isSeeking()&&(OvenPlayerConsole.log("EventListener : on seeked"),rt.setSeeking(!1),rt.trigger("seeked"))},ct.stalled=function(){OvenPlayerConsole.log("EventListener : on stalled")},ct.waiting=function(){OvenPlayerConsole.log("EventListener : on waiting",rt.getState()),rt.isSeeking()?rt.setState(Ae):rt.getState()===sn&&(ut=it.currentTime,rt.setState(oe))},ct.volumechange=function(){OvenPlayerConsole.log("EventListener : on volumechange",Math.round(100*it.volume)),rt.trigger(Ir,{volume:Math.round(100*it.volume),mute:it.muted})},ct.error=function(){var At={0:300,1:301,2:302,3:303,4:304}[it.error&&it.error.code||0]||0;OvenPlayerConsole.log("EventListener : on error",At),Nn(zt.codes[At],rt)},Object.keys(ct).forEach((function(At){it.removeEventListener(At,ct[At]),it.addEventListener(At,ct[At])})),dt.destroy=function(){OvenPlayerConsole.log("EventListener : destroy()"),Object.keys(ct).forEach((function(At){it.removeEventListener(At,ct[At])}))},dt})(P,k,j?j.videoEndedCallback:null,S),P.playbackRate=P.defaultPlaybackRate=S.getPlaybackRate(),R.zoomFactor=1;var st=function(nt){var rt=R.sources[R.currentSource];if(R.framerate=rt.framerate,k.setVolume(S.getVolume()),R.framerate||S.setTimecodeMode(!0),I)I(rt,nt);else{OvenPlayerConsole.log("source loaded : ",rt,"lastPlayPosition : "+nt);var yt=P.src;rt.file!==yt&&(P.src=rt.file,(yt||yt==="")&&P.load()),k.on(Lr,(function(){nt>0&&k.seek(nt)}))}};return k.getName=function(){return R.name},k.getMse=function(){return R.mse},k.getMediaElement=function(){return R.element},k.canSeek=function(){return R.canSeek},k.setCanSeek=function(nt){R.canSeek=nt},k.isSeeking=function(){return R.seeking},k.setSeeking=function(nt){R.seeking=nt},k.setMetaLoaded=function(){R.isLoaded=!0},k.metaLoaded=function(){return R.isLoaded},k.setState=function(nt){if(R.state!==nt){var rt=R.state;if(OvenPlayerConsole.log("Provider : setState()",nt),rt===Rt&&(nt===te||nt===We))return!1;switch(OvenPlayerConsole.log("Provider : triggerSatatus",nt),nt){case $e:k.trigger(ln);break;case Rn:k.trigger(Wt,{prevState:R.state,newstate:Rn});break;case me:k.trigger(Wt,{prevState:R.state,newstate:me});break;case sn:k.trigger(Le,{prevState:R.state,newstate:sn});break;case Rt:k.trigger(Le,{prevState:R.state,newstate:Rt})}R.state=nt,k.trigger(gn,{prevstate:rt,newstate:R.state})}},k.getState=function(){return R.state},k.setBuffer=function(nt){R.buffer=nt},k.getBuffer=function(){return R.buffer},k.isLive=function(){return!!R.isLive||P.duration===1/0},k.getDuration=function(){return k.isLive()?1/0:P.duration},k.getDvrWindow=function(){return R.dvrWindow},k.getPosition=function(){return P?P.currentTime:0},k.setVolume=function(nt){if(!P)return!1;P.volume=nt/100,S.setVolume(nt)},k.getVolume=function(){return S.getVolume()},k.setMute=function(nt){if(!P)return!1;if(nt===void 0){var rt=S.isMute();P.muted=!rt,S.setMute(!rt),k.trigger(ai,{mute:S.isMute()})}else P.muted=nt,S.setMute(nt),k.trigger(ai,{mute:S.isMute()});return P.muted},k.getMute=function(){return S.isMute()},k.preload=function(nt,rt){return R.sources=nt,R.currentSource=Ai(nt,S),st(rt||0),new Promise((function(yt,lt){S.isMute()&&k.setMute(!0),S.getVolume()&&k.setVolume(S.getVolume()),yt()}))},k.load=function(nt){R.sources=nt,R.currentSource=Ai(nt,S),st(0)},k.play=function(){if(OvenPlayerConsole.log("Provider : play()"),!P)return!1;if(k.getState()!==sn)if(j&&j.isActive()||j&&!j.started())j.play().then((function(rt){OvenPlayerConsole.log("Provider : ads play success")})).catch((function(rt){OvenPlayerConsole.log("Provider : ads play fail",rt)}));else{var nt=P.play();nt!==void 0?nt.then((function(){OvenPlayerConsole.log("Provider : video play success")})).catch((function(rt){OvenPlayerConsole.log("Provider : video play error",rt.message)})):OvenPlayerConsole.log("Provider : video play success (ie)")}},k.pause=function(){if(OvenPlayerConsole.log("Provider : pause()"),!P)return!1;k.getState()===sn?P.pause():k.getState()===Rt&&j.pause()},k.seek=function(nt){if(!P)return!1;P.currentTime=nt},k.setPlaybackRate=function(nt){return!!P&&(k.trigger("playbackRateChanged",{playbackRate:nt}),P.playbackRate=P.defaultPlaybackRate=nt)},k.getPlaybackRate=function(){return P?P.playbackRate:0},k.getZoomFactor=function(){return R.zoomFactor},k.setZoomFactor=function(nt){return k.trigger(Tn,{zoomFactor:nt}),R.zoomFactor=nt},k.getSources=function(){return P?R.sources.map((function(nt,rt){var yt={file:nt.file,type:nt.type,label:nt.label,index:rt,sectionStart:nt.sectionStart,sectionEnd:nt.sectionEnd,gridThumbnail:nt.gridThumbnail};return nt.lowLatency&&(yt.lowLatency=nt.lowLatency),yt})):[]},k.getCurrentSource=function(){return R.currentSource},k.setCurrentSource=function(nt,rt){if(nt>-1&&R.sources&&R.sources.length>nt)return OvenPlayerConsole.log("source changed : "+nt),R.currentSource=nt,S.setSourceIndex(nt),k.setState(We),rt&&st(P.currentTime||0),R.currentSource},k.getQualityLevels=function(){return P?R.qualityLevels:[]},k.getCurrentQuality=function(){return P?R.currentQuality:null},k.setCurrentQuality=function(nt){},k.getAudioTracks=function(){return P?R.audioTracks:[]},k.getCurrentAudioTrack=function(){return P?R.currentAudioTrack:[]},k.setCurrentAudioTrack=function(nt){},k.getSubtitleTracks=function(){return P?R.subtitleTracks:[]},k.getCurrentSubtitleTrack=function(){return P?R.currentSubtitleTrack:[]},k.setCurrentSubtitleTrack=function(nt){},k.isAutoQuality=function(){},k.setAutoQuality=function(nt){},k.getFramerate=function(){return R.framerate},k.setFramerate=function(nt){return R.framerate=nt},k.seekFrame=function(nt){var rt=R.framerate,yt=(P.currentTime*rt+nt)/rt;yt+=1e-5,k.pause(),k.seek(yt)},k.stop=function(){if(!P)return!1;for(OvenPlayerConsole.log("CORE : stop() "),P.removeAttribute("preload"),P.removeAttribute("src");P.firstChild;)P.removeChild(P.firstChild);k.pause(),k.setState(We)},k.destroy=function(){if(!P)return!1;k.stop(),Y.destroy(),j&&(j.destroy(),j=null),k.off(),OvenPlayerConsole.log("CORE : destroy() player stop, listener, event destroied")},k.super=function(nt){var rt=k[nt];return function(){return rt.apply(k,arguments)}},k};function ou(R){for(var S=window.atob(R),I=S.length,k=new Uint8Array(new ArrayBuffer(I)),P=0;P<I;P++)k[P]=S.charCodeAt(P);return k}function Kc(R){for(var S,I,k,P,j,Y,st,nt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",rt="",yt=0;yt<R.length;)P=(S=R[yt++])>>2,j=(3&S)<<4|(I=yt<R.length?R[yt++]:Number.NaN)>>4,Y=(15&I)<<2|(k=yt<R.length?R[yt++]:Number.NaN)>>6,st=63&k,isNaN(I)?Y=st=64:isNaN(k)&&(st=64),rt+=nt.charAt(P)+nt.charAt(j)+nt.charAt(Y)+nt.charAt(st);return rt}var Wc=function(R,S,I){var k=To({name:Ne,element:R,mse:null,isLoaded:!1,canSeek:!1,isLive:!1,seeking:!1,state:We,buffer:0,framerate:0,currentQuality:-1,qualityLevels:[],currentAudioTrack:-1,audioTracks:[],currentSource:-1,sources:[],adTagUrl:I,subtitleTracks:[],currentSubtitleTrack:-1},S,null),P=k.super("destroy");OvenPlayerConsole.log("HTML5 PROVIDER LOADED.");var j=null;function Y(nt,rt){return new Promise((function(yt,lt){if(!R.webkitKeys)try{R.webkitSetMediaKeys(new window.WebKitMediaKeys("com.apple.fps.1_0"))}catch(dt){return void lt(dt)}var ct;try{ct=R.webkitKeys.createSession("video/mp4",(function(dt){var ut=dt.id,it=dt.initData,At=dt.cert;try{typeof ut=="string"&&(ut=(function(Pt){for(var Xt=new ArrayBuffer(2*Pt.length),pe=new Uint16Array(Xt),Kt=0;Kt<Pt.length;Kt++)pe[Kt]=Pt.charCodeAt(Kt);return pe})(ut));var ft=0,pt=new ArrayBuffer(it.byteLength+4+ut.byteLength+4+At.byteLength),mt=new DataView(pt);new Uint8Array(pt,ft,it.byteLength).set(it),ft+=it.byteLength,mt.setUint32(ft,ut.byteLength,!0),ft+=4;var ht=new Uint16Array(pt,ft,ut.length);return ht.set(ut),ft+=ht.byteLength,mt.setUint32(ft,At.byteLength,!0),ft+=4,new Uint8Array(pt,ft,At.byteLength).set(At),new Uint8Array(pt,0,pt.byteLength)}catch{return null}})({id:rt,initData:nt,cert:j}))}catch(dt){return void lt(dt)}ct.contentId=rt,ct.addEventListener("webkitkeymessage",(function(dt){var ut;(ut=dt.message,new Promise((function(it,At){var ft=S.getConfig().hlsConfig.drmSystems["com.apple.fps"].licenseUrl,pt=new Headers({"Content-Type":"application/x-www-form-urlencoded"});S.getConfig().licenseCustomHeader&&pt.append(S.getConfig().licenseCustomHeader.key,S.getConfig().licenseCustomHeader.value),fetch(ft,{method:"POST",headers:pt,body:"spc="+Kc(ut)}).then((function(mt){mt.text().then((function(ht){it(ou(ht))})).catch((function(ht){At(ht)}))})).catch((function(mt){At(mt)}))}))).then((function(it){ct.update(new Uint8Array(it)),yt()})).catch((function(it){lt(it)}))})),ct.addEventListener("webkitkeyadded",(function(){})),ct.addEventListener("webkitkeyerror",(function(){var dt=ct.error;lt(dt)}))}))}function st(nt){nt.initDataType;var rt,yt=nt.initData,lt=(rt=new Uint16Array(yt.buffer),String.fromCharCode.apply(null,rt));Y(yt,lt.substring(lt.indexOf("skd://")+6)).catch((function(ct){zt.codes[107].message="Could not add add key.",Nn(zt.codes[107],k)}))}return S.getConfig().hlsConfig&&S.getConfig().hlsConfig.emeEnabled&&new Promise((function(nt,rt){var yt;(yt=S.getConfig().hlsConfig.drmSystems["com.apple.fps"].serverCertificateUrl,new Promise((function(lt,ct){fetch(yt).then((function(dt){dt.text().then((function(ut){lt(ou(ut))})).catch((function(ut){ct(ut)}))})).catch((function(dt){ct(dt)}))}))).then((function(lt){j=lt,R.addEventListener("webkitneedkey",st,{once:!0})})).catch((function(lt){rt(lt)}))})).catch((function(nt){zt.codes[107].message="Could not load drm certificate.",Nn(zt.codes[107],k)})),k.destroy=function(){OvenPlayerConsole.log("HTML5 : PROVIDER DESTROYED."),P()},k},qc=function(R,S,I,k,P,j,Y,st){var nt={},rt={},yt=null,lt=!1,ct=null,dt=null,ut={},it=!1,At=!1,ft=null,pt=!1;Y.getConfig().webrtcConfig&&Y.getConfig().webrtcConfig.recoverPacketLoss===!0&&(At=!0);var mt=!0;Y.getConfig().webrtcConfig&&Y.getConfig().webrtcConfig.generatePublicCandidate===!1&&(mt=Y.getConfig().webrtcConfig.generatePublicCandidate);var ht=se(),Pt=null;function Xt(kt){var Ut=null;return dt&&kt===dt.id?Ut=dt.peerConnection:ut[kt]&&(Ut=ut[kt].peerConnection),Ut}function pe(kt){kt.statisticsTimer&&clearTimeout(kt.statisticsTimer),kt.status||(kt.status={},kt.status.lostPacketsArr=[],kt.status.slotLength=8,kt.status.prevPacketsLost=0,kt.status.avg8Losses=0,kt.status.avgMoreThanThresholdCount=0,kt.status.threshold=40);var Ut=kt.status.lostPacketsArr,he=kt.status.slotLength,be=kt.status.prevPacketsLost,Fe=kt.status.avg8Losses,ye=kt.status.threshold;kt.statisticsTimer=setTimeout((function(){if(!kt.peerConnection)return!1;kt.peerConnection.getStats().then((function(ze){ze&&Y.getConfig().autoFallback&&ze&&(ze.forEach((function(Ge){if(Ge.type==="inbound-rtp"&&Ge.kind==="video"&&!Ge.isRemote){var Ie=parseInt(Ge.packetsLost)-parseInt(be);Ut.push(parseInt(Ge.packetsLost)-parseInt(be)),Ut.length>he&&Ut.shift(),Ut.length===he&&(Fe=f().reduce(Ut,(function(pn,Oe){return pn+Oe}),0)/he,OvenPlayerConsole.log("Last8 LOST PACKET AVG  : "+Fe,"Current Packet LOST: "+Ie,"Total Packet Lost: "+Ge.packetsLost,Ut),Fe>ye?(kt.status.avgMoreThanThresholdCount=kt.status.avgMoreThanThresholdCount+1,kt.status.avgMoreThanThresholdCount>=60&&(OvenPlayerConsole.log("NETWORK UNSTABLED!!! "),Ce(zt.codes[510]))):kt.status.avgMoreThanThresholdCount=0),kt.status.prevPacketsLost=Ge.packetsLost}})),pe(kt))}))}),2e3)}function Kt(kt,Ut,he,be,Fe){var ye={};if(Y.getConfig().webrtcConfig&&Y.getConfig().webrtcConfig.iceServers)ye.iceServers=Y.getConfig().webrtcConfig.iceServers,Y.getConfig().webrtcConfig.iceTransportPolicy&&(ye.iceTransportPolicy=Y.getConfig().webrtcConfig.iceTransportPolicy);else if(Fe){ye.iceServers=[];for(var ze=0;ze<Fe.length;ze++){var Ge=Fe[ze],Ie={};Ie.urls=Ge.urls;for(var pn=!1,Oe=fe(S),Ye=0;Ye<Ie.urls.length;Ye++)if(Ie.urls[Ye].indexOf(Oe)>-1){pn=!0;break}if(!pn&&Ie.urls.length>0){var An=f().clone(Ie.urls[0]),wn=Ft(An);Oe&&wn&&Ie.urls.push(An.replace(wn,Oe))}Ie.username=Ge.username||Ge.user_name,Ie.credential=Ge.credential,ye.iceServers.push(Ie)}ye.iceTransportPolicy="relay"}else ye=nt;OvenPlayerConsole.log("Main Peer Connection Config : ",ye);var In=null;try{In=new RTCPeerConnection(ye),R.trigger("peerConnectionPrepared",In)}catch(on){var $n=zt.codes[506];return $n.error=on,void Ce($n)}dt={id:kt,peerId:Ut,peerConnection:In},In.setRemoteDescription(new RTCSessionDescription(he)).then((function(){In.createAnswer().then((function(on){var cn=(function(yn){for(var Xe=yn.split(`\r
`),Be=-1,Dn=0;Dn<Xe.length-1;Dn++)if(Xe[Dn]=Xe[Dn].toLowerCase(),Xe[Dn].indexOf("a=rtpmap")>-1&&Xe[Dn].indexOf("opus")>-1){Be=Xe[Dn].split(" ")[0].split(":")[1];break}return Be})(he.sdp);cn>-1&&(function(yn,Xe){for(var Be=yn.split(`\r
`),Dn=!1,Br=0;Br<Be.length-1;Br++)if(Be[Br]=Be[Br].toLowerCase(),Be[Br].indexOf("a=fmtp:"+Xe)>-1){Be[Br].indexOf("stereo=1")>-1&&(Dn=!0);break}return Dn})(he.sdp,cn)&&(on.sdp=(function(yn,Xe){for(var Be=yn.split(`\r
`),Dn=0;Dn<Be.length-1;Dn++)if(Be[Dn].indexOf("a=fmtp:"+Xe)>-1){Be[Dn].indexOf("stereo=1")===-1&&(Be[Dn]=Be[Dn]+";stereo=1");break}return Be.join(`\r
`)})(on.sdp,cn)),OvenPlayerConsole.log("Local SDP",on),Ee(yt,{id:kt,peer_id:Ut,command:"answer",sdp:on}),OvenPlayerConsole.log("create Host Answer : success"),In.setLocalDescription(on).then((function(){})).catch((function(yn){var Xe=zt.codes[505];Xe.error=yn,Ce(Xe)}))})).catch((function(on){var cn=zt.codes[504];cn.error=on,Ce(cn)}))})).catch((function(on){var cn=zt.codes[503];cn.error=on,Ce(cn)})),be&&ae(In,be),In.onicecandidate=function(on){on.candidate&&(OvenPlayerConsole.log("WebRTCLoader send candidate to server : ",on.candidate),Ee(yt,{id:kt,peer_id:Ut,command:"candidate",candidates:[on.candidate]}))},In.onconnectionstatechange=function(on){OvenPlayerConsole.log("[on connection state change]",In.connectionState,on),In.connectionState==="connected"&&k&&k()},In.onicecandidateerror=function(on){},In.onicegatheringstatechange=function(on){},In.oniceconnectionstatechange=function(on){OvenPlayerConsole.log("[on ice connection state change]",In.iceConnectionState,on),In.iceConnectionState==="connected"&&k&&k(),(In.iceConnectionState==="disconnected"||In.iceConnectionState==="closed")&&(it||dt&&Ce(zt.codes[511]))},In.ontrack=function(on){if(OvenPlayerConsole.log("stream received."),OvenPlayerConsole.log("Recovery On Packet Loss :",At),At&&pe(dt),I(on),Y.getConfig().webrtcConfig&&Y.getConfig().webrtcConfig.playoutDelayHint)for(var cn=Y.getConfig().webrtcConfig.playoutDelayHint,yn=dt.peerConnection.getReceivers(),Xe=0;Xe<yn.length;Xe++){var Be=yn[Xe];Be.track.kind==="audio"?(Be.playoutDelayHint=cn,Be.jitterBufferDelayHint=cn):Be.playoutDelayHint=cn,OvenPlayerConsole.log("WebRTC playoutDelayHint",Be,cn)}}}function le(kt,Ut){if(ct){var he=new RTCPeerConnection(nt);ut[Ut]={id:Ut,peerId:kt,peerConnection:he},he.addStream(ct),he.createOffer((function(be){he.setLocalDescription(be),Ee(yt,{id:kt,peer_id:Ut,sdp:be,command:"offer_p2p"})}),(function(be){}),{}),he.onicecandidate=function(be){be.candidate&&(OvenPlayerConsole.log("WebRTCLoader send candidate to server : "+be.candidate),Ee(yt,{id:kt,peer_id:Ut,command:"candidate_p2p",candidates:[be.candidate]}))}}else setTimeout((function(){le(kt,Ut)}),100)}function fe(kt){var Ut,he="";return(Ut=kt.match(/^(?:wss?:\/\/)?(?:[^@\n]+@)?(?:www\.)?([^:\/\n\?\=]+)/im))&&(he=Ut[1]),he}function Ft(kt){var Ut,he="";return(Ut=kt.match(new RegExp("\\b(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\b","gi")))&&(he=Ut[0]),he}function Ht(kt){var Ut=f().clone(kt),he=fe(S),be=Ft(Ut.candidate);return new Promise((function(Fe,ye){be!==""&&be!==he||Fe(null),ht.browser!=="Firefox"||Ft(he)?(Ut.candidate=Ut.candidate.replace(be,he),Fe(Ut)):Fe(null)}))}function ae(kt,Ut){for(var he=0;he<Ut.length;he++)if(Ut[he]&&Ut[he].candidate){var be=Ut[he];if(kt.addIceCandidate(new RTCIceCandidate(be)).then((function(){OvenPlayerConsole.log("addIceCandidate : success")})).catch((function(ye){var ze=zt.codes[502];ze.error=ye,Ce(ze)})),mt){var Fe=Ht(be);Fe&&Fe.then((function(ye){ye&&kt.addIceCandidate(new RTCIceCandidate(ye)).then((function(){OvenPlayerConsole.log("cloned addIceCandidate : success")})).catch((function(ze){var Ge=zt.codes[502];Ge.error=ze,Ce(Ge)}))}))}}}function de(){try{(yt=new WebSocket(S)).onopen=function(){lt=!0,Ee(yt,{command:"request_offer"})},yt.onmessage=function(kt){var Ut=JSON.parse(kt.data);if(Ut.error){var he=zt.codes[501];return he.error=Ut.error,void Ce(he)}if(Object.keys(Ut).length!==0||Ut.constructor!==Object)if(Ut.command!=="ping"){if(Ut.command==="offer"){var be=Ut.iceServers||Ut.ice_servers;Kt(Ut.id,Ut.peer_id,Ut.sdp,Ut.candidates,be),Ut.peer_id===0?R.trigger(hi,!1):R.trigger(hi,!0)}if(Ut.command==="request_offer_p2p"&&le(Ut.id,Ut.peer_id),Ut.command==="answer_p2p"&&Xt(Ut.peer_id).setRemoteDescription(new RTCSessionDescription(Ut.sdp)).then((function(Oe){})).catch((function(Oe){var Ye=zt.codes[503];Ye.error=Oe,Ce(Ye)})),Ut.command==="candidate"&&ae(Xt(Ut.id),Ut.candidates),Ut.command==="candidate_p2p"&&ae(Xt(Ut.peer_id),Ut.candidates),Ut.command==="notification"){if(Ut.type==="playlist"){var Fe=Ut.message.renditions;ft=Ut.message;for(var ye=0;ye<Fe.length;ye++){var ze=Fe[ye];(ze.video_track||ze.audio_track)&&st.qualityLevels.push({bitrate:ze.video_track?ze.video_track.video.bitrate:ze.audio_track.bitrate,height:ze.video_track?ze.video_track.video.height:0,width:ze.video_track?ze.video_track.video.width:0,index:ye,label:ze.name})}st.currentQuality=0,pt=Ut.message.auto}if(Ut.type==="rendition_changed"){var Ge=Ut.message;Ut.auto&&(pt=Ut.auto);for(var Ie=-1,pn=0;pn<ft.renditions.length;pn++)if(Ge.rendition_name===ft.renditions[pn].name){Ie=pn,st.currentQuality=pn;break}R.trigger(Dr,{isAuto:pt,currentQuality:Ie,type:"render"})}}Ut.command==="stop"&&(dt.peerId===Ut.peer_id?(ct=null,dt.peerConnection.close(),dt=null,R.pause(),Ee(yt,{command:"request_offer"})):ut[Ut.peer_id]&&(ut[Ut.peer_id].peerConnection.close(),delete ut[Ut.peer_id]))}else Ee(yt,{command:"pong"});else OvenPlayerConsole.log("Empty Message")},yt.onclose=function(kt){if(!it){if(k&&!lt)return void Ce();var Ut=zt.codes[501];dt&&(Ut=zt.codes[511]),Ce(Ut)}},yt.onerror=function(kt){}}catch(kt){Ce(kt)}}function Ce(kt){if(OvenPlayerConsole.log("WebRTC Loader closePeer()"),kt||(it=!0),dt&&(dt.statisticsTimer&&clearTimeout(dt.statisticsTimer),ct=null,OvenPlayerConsole.log("Closing main peer connection..."),dt.peerConnection&&dt.peerConnection.close(),dt.peerConnection=null,R.trigger("peerConnectionDestroyed"),dt=null),Object.keys(ut).length>0){for(var Ut in ut){var he=ut[Ut].peerConnection;he&&(OvenPlayerConsole.log("Closing client peer connection..."),he.close(),he=null)}ut={}}yt?(OvenPlayerConsole.log("Closing websocket connection..."),OvenPlayerConsole.log("Send Signaling : Stop."),yt.readyState===1&&(it=!0,dt&&Ee(yt,{command:"stop",id:dt.id}),yt.close())):it=!1,yt=null,kt&&(P&&P(kt),j(kt,R))}function Ee(kt,Ut){kt&&kt.send(JSON.stringify(Ut))}return Pt=window.onbeforeunload,window.onbeforeunload=function(kt){Pt&&Pt(kt),OvenPlayerConsole.log("This calls auto when browser closed."),Ce()},R.setCurrentQuality=function(kt){if(!ft||!dt)return-1;var Ut=ft.renditions[kt];return Ut&&(Ee(yt,{command:"change_rendition",id:dt.id,rendition_name:Ut.name,auto:!1}),pt=!1,st.currentQuality=kt),st.currentQuality},R.isAutoQuality=function(){return pt},R.setAutoQuality=function(kt){dt&&(Ee(yt,{command:"change_rendition",id:dt.id,auto:kt}),pt=kt)},rt.connect=function(){OvenPlayerConsole.log("WebRTCLoader connecting..."),OvenPlayerConsole.log("WebRTCLoader url : "+S),de()},rt.destroy=function(){it=!0,Ce(),window.onbeforeunload=Pt,Pt=null},rt};function Xa(R){return Xa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},Xa(R)}function lu(R,S){var I=Object.keys(R);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(R);S&&(k=k.filter((function(P){return Object.getOwnPropertyDescriptor(R,P).enumerable}))),I.push.apply(I,k)}return I}function xo(R){for(var S=1;S<arguments.length;S++){var I=arguments[S]!=null?arguments[S]:{};S%2?lu(Object(I),!0).forEach((function(k){Za(R,k,I[k])})):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(I)):lu(Object(I)).forEach((function(k){Object.defineProperty(R,k,Object.getOwnPropertyDescriptor(I,k))}))}return R}function Za(R,S,I){return(S=(function(k){var P=(function(j){if(Xa(j)!="object"||!j)return j;var Y=j[Symbol.toPrimitive];if(Y!==void 0){var st=Y.call(j,"string");if(Xa(st)!="object")return st;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)})(k);return Xa(P)=="symbol"?P:P+""})(S))in R?Object.defineProperty(R,S,{value:I,enumerable:!0,configurable:!0,writable:!0}):R[S]=I,R}var fs,Gi,uu=function(R,S,I){var k={},P=null,j=null,Y=null,st=null,nt=null,rt=null,yt={name:Ve,element:R,mse:null,listener:null,isLoaded:!1,canSeek:!1,isLive:!1,seeking:!1,state:We,buffer:0,framerate:0,currentQuality:-1,currentSource:-1,qualityLevels:[],sources:[],adTagUrl:I},lt=1e4,ct=0,dt=null,ut=!1;function it(){if(Pn(nt.file,nt.type)){clearTimeout(dt),OvenPlayerConsole.log("WEBRTC : onBeforeLoad : ",nt),P&&(P.destroy(),P=null);var ft=null,pt=null;ct>0&&(ft=function(){clearTimeout(dt)},pt=function(){clearTimeout(dt),performance.now(),ut=!0}),P=qc(k,nt.file,(function(mt){R.srcObject&&(R.srcObject=null),rt&&(rt.close(),rt=null);var ht=mt.streams[0];if(R.srcObject=ht,ht.getAudioTracks().length>0){var Pt=window.AudioContext||window.webkitAudioContext;(function(Ht){var ae=/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent),de=!1;ae&&Ht.state==="suspended"&&document.addEventListener("touchend",(function(){de||Ht.state==="running"||(Ht.resume(),de=!0)}))})(rt=new Pt),rt.createMediaStreamSource(ht)}if(mt.receiver.track.kind==="video"&&S.getConfig().parseStream.enabled){var Xt=new Blob([`/**\r
 * Created by rock on 2025. 2\r
 */\r
\r
const OVENMEDIAENGINE_SEI_METADATA_UUID = '464d4c475241494e434f4c4f55524201';\r
\r
function removeEmulationPreventionBytes(data) {\r
  const rbsp = [];\r
  for (let i = 0; i < data.length; i++) {\r
\r
    if (i > 2 && data[i - 2] === 0x00 && data[i - 1] === 0x00 && data[i] === 0x03) {\r
      continue; // skip 0x03\r
    }\r
    rbsp.push(data[i]);\r
  }\r
  return new Uint8Array(rbsp);\r
}\r
\r
function parseSEIPayload(rbsp) {\r
\r
  const messages = [];\r
\r
  let i = 0;\r
  const rbspLength = rbsp[rbsp.length - 1] === 0x80 ? rbsp.length - 1 : rbsp.length;\r
\r
  while (i < rbspLength) {\r
\r
    let type = 0;\r
    while (rbsp[i] === 0xFF) {\r
      type += 255;\r
      i++;\r
    }\r
    type += rbsp[i++];\r
\r
    let size = 0;\r
    while (rbsp[i] === 0xFF) {\r
      size += 255;\r
      i++;\r
    }\r
    size += rbsp[i++];\r
\r
    const payload = rbsp.slice(i, i + size);\r
    i += size;\r
\r
    messages.push({ type, size, payload });\r
\r
    return { type, size, payload };\r
  }\r
\r
  return messages;\r
}\r
\r
function toHexString(byteArray, delimiter = '') {\r
  return Array.from(byteArray, byte => {\r
    return ('0' + (byte & 0xFF).toString(16)).slice(-2);\r
  }).join(delimiter);\r
}\r
\r
function toHexArray(byteArray) {\r
  return Array.from(byteArray, byte => {\r
    return ('0' + (byte & 0xFF).toString(16)).slice(-2);\r
  });\r
}\r
\r
function toUUID(byteArray) {\r
  const hexString = toHexString(byteArray);\r
  return [\r
    hexString.slice(0, 8),\r
    hexString.slice(8, 12),\r
    hexString.slice(12, 16),\r
    hexString.slice(16, 20),\r
    hexString.slice(20, 24),\r
    hexString.slice(24, 32)\r
  ].join('-');\r
}\r
\r
function toTimestamp(byteArray) {\r
  const hexString = toHexString(byteArray);\r
  return parseInt(hexString, 16);\r
}\r
\r
function toAsciiString(byteArray) {\r
  return String.fromCharCode.apply(null, byteArray);\r
}\r
\r
function findNalStartIndex(frameData, offset) {\r
  while (offset < frameData.byteLength - 4) {\r
    if ((frameData[offset] === 0x00 && frameData[offset + 1] === 0x00)\r
      && (frameData[offset + 2] === 0x01 || (frameData[offset + 2] === 0x00 && frameData[offset + 3] === 0x01))) {\r
      return offset;\r
    } else {\r
      offset += 1;\r
    }\r
  }\r
  return -1;\r
}\r
\r
function getNalus(frameData) {\r
\r
  let offset = 0;\r
  const headerSize = 1;\r
  const nalus = [];\r
\r
  while (offset < frameData.byteLength - 4) {\r
\r
    const startCodeIndex = findNalStartIndex(frameData, offset);\r
\r
    if (startCodeIndex >= offset) {\r
\r
      const startCodeLength = frameData[startCodeIndex + 2] === 0x01 ? 3 : 4;\r
      const nextStartCodeIndex = findNalStartIndex(frameData, startCodeIndex + startCodeLength + headerSize);\r
\r
      if (nextStartCodeIndex > startCodeIndex) {\r
\r
        nalus.push(frameData.subarray(startCodeIndex, nextStartCodeIndex));\r
        offset = nextStartCodeIndex;\r
      } else {\r
\r
        nalus.push(frameData.subarray(startCodeIndex));\r
        break;\r
      }\r
    } else {\r
      break;\r
    }\r
  }\r
  return nalus;\r
}\r
\r
function createReceiverTransform() {\r
  return new TransformStream({\r
    start() { },\r
    flush() { },\r
    async transform(encodedFrame, controller) {\r
\r
      const nalus = getNalus(new Uint8Array(encodedFrame.data));\r
\r
      nalus.forEach((nalu) => {\r
\r
        const startCodeLength = nalu[2] === 0x01 ? 3 : 4;\r
        const headerCodeLength = 1;\r
        const nalHeader = nalu[startCodeLength];\r
        const nalType = nalHeader & 0x1F;\r
\r
        // NAL Type SEI\r
        if (nalType === 6) {\r
\r
          const rbsp = removeEmulationPreventionBytes(nalu.subarray(startCodeLength + headerCodeLength));\r
\r
          const parsedSei = parseSEIPayload(rbsp);\r
\r
          const eventData = {\r
            nalu: nalu,\r
            sei: parsedSei\r
          };\r
\r
          const uuid = toHexString(parsedSei.payload.subarray(0, 16));\r
\r
          if (uuid === OVENMEDIAENGINE_SEI_METADATA_UUID) {\r
\r
            postMessage({\r
              action: 'sei', data: {\r
                ...eventData,\r
                registered: true,\r
                uuid: toUUID(parsedSei.payload.subarray(0, 16)),\r
                timecode: toTimestamp(parsedSei.payload.subarray(16, 24)),\r
                userdata: parsedSei.payload.subarray(24)\r
              }\r
            });\r
          } else {\r
\r
            postMessage({\r
              action: 'sei', data: {\r
                ...eventData,\r
                registered: false\r
              }\r
            });\r
          }\r
        }\r
      });\r
\r
      controller.enqueue(encodedFrame);\r
    }\r
  })\r
}\r
\r
function setupPipe({ readable, writable }, transform) {\r
  readable\r
    .pipeThrough(transform)\r
    .pipeTo(writable)\r
}\r
\r
addEventListener('rtctransform', (event) => {\r
  setupPipe(event.transformer, createReceiverTransform());\r
});\r
\r
addEventListener('message', (event) => {\r
  const { action } = event.data;\r
\r
  switch (action) {\r
    case 'rtctransform':\r
      setupPipe(event.data, createReceiverTransform())\r
      break;\r
    default:\r
      break;\r
  }\r
});\r
`],{type:"application/javascript"}),pe=URL.createObjectURL(Xt),Kt=new Worker(pe);if("RTCRtpScriptTransform"in window)mt.receiver.transform=new RTCRtpScriptTransform(Kt);else{var le=mt.receiver.createEncodedStreams(),fe=le.readable,Ft=le.writable;Kt.postMessage({action:"rtctransform",readable:fe,writable:Ft},[fe,Ft])}Kt.addEventListener("message",(function(Ht){Ht.data.action==="sei"&&k.trigger("metaData",xo(xo({},Ht.data.data),{},{type:"sei"}))}))}}),pt,ft,Nn,S,yt),performance.now(),P.connect(),ct>0&&(k.once(gn,(function(mt){ut||mt.newstate===We&&(clearTimeout(dt),At())})),k.once(qe,(function(){ut=!1})),dt=setTimeout((function(){if(ct>0)ut||(At(),it());else{At();var mt=zt.codes[512];Nn(mt,k)}ct--}),lt))}}function At(){P&&(P.destroy(),P=null,R.srcObject=null)}return k=To(yt,S,(function(ft){var pt=S.getConfig();pt.webrtcConfig&&(typeof pt.webrtcConfig.connectionTimeout=="number"&&pt.webrtcConfig.connectionTimeout>0&&(lt=pt.webrtcConfig.connectionTimeout),typeof pt.webrtcConfig.timeoutMaxRetry=="number"&&pt.webrtcConfig.timeoutMaxRetry>0&&(ct=pt.webrtcConfig.timeoutMaxRetry)),nt=ft,it()})),j=k.super("destroy"),Y=k.super("play"),st=k.super("stop"),OvenPlayerConsole.log("WEBRTC PROVIDER LOADED."),k.removeStream=function(){R.srcObject=null},k.destroy=function(){clearTimeout(dt),At(),OvenPlayerConsole.log("WEBRTC :  PROVIDER DESTROYED."),j()},k.play=function(){(!P||ct>0&&!ut)&&it(),Y()},k.stop=function(){clearTimeout(dt),At(),st()},k},wo=function(R,S,I){var k=1e3;if(Math.abs(R)<k)return R+" B";var P=I,j=["k"+P,"M"+P,"G"+P,"T"+P,"P"+P,"E"+P,"Z"+P,"Y"+P],Y=-1;do R/=k,++Y;while(Math.abs(R)>=k&&Y<j.length-1);return R.toFixed(1)+j[Y]},cu=function(R,S,I){var k={},P=null,j=null,Y=null,st=0,nt="";try{if(dashjs.Version<"3.0.0")throw zt.codes[103];var rt=function(dt){P.updateSettings({streaming:{abr:{autoSwitchBitrate:{video:dt}}}})},yt=function(){return P.getSettings().streaming.abr.autoSwitchBitrate.video};(P=dashjs.MediaPlayer().create()).initialize(R,null,!1),window.op_dash=P;var lt={name:It,element:R,mse:P,listener:null,isLoaded:!1,canSeek:!1,isLive:!1,seeking:!1,state:We,buffer:0,framerate:0,currentQuality:-1,currentSource:-1,qualityLevels:[],sources:[],adTagUrl:I};k=To(lt,S,(function(dt,ut){OvenPlayerConsole.log("DASH : Attach File : ",dt,"lastPlayPosition : "+ut),rt(!0),nt=dt.file,dt.lowLatency===!0?(P.updateSettings({streaming:{lowLatencyEnabled:dt.lowLatency}}),S.getConfig().lowLatencyMpdLiveDelay&&typeof S.getConfig().lowLatencyMpdLiveDelay=="number"&&P.updateSettings({streaming:{liveDelay:S.getConfig().lowLatencyMpdLiveDelay}})):P.updateSettings({streaming:{lowLatencyEnabled:!1,liveDelay:void 0}}),P.updateSettings({debug:{logLevel:dashjs.Debug.LOG_LEVEL_NONE}});var it=S.getConfig().dashConfig;it&&P.updateSettings(it),k.trigger("dashPrepared",P),P.attachSource(nt),st=ut})),j=k.super("play"),Y=k.super("destroy"),OvenPlayerConsole.log("DASH PROVIDER LOADED."),P.on(dashjs.MediaPlayer.events.ERROR,(function(dt){var ut=zt.codes[302];ut.error=dt,Nn(ut,k)})),P.on(dashjs.MediaPlayer.events.QUALITY_CHANGE_REQUESTED,(function(dt){dt&&dt.mediaType&&dt.mediaType==="video"&&k.trigger(Dr,{isAuto:yt(),currentQuality:lt.currentQuality,type:"request"})})),P.on(dashjs.MediaPlayer.events.QUALITY_CHANGE_RENDERED,(function(dt){dt&&dt.mediaType&&dt.mediaType==="video"&&(lt.currentQuality=dt.newQuality,k.trigger(Dr,{isAuto:yt(),currentQuality:dt.newQuality,type:"render"}))})),P.on(dashjs.MediaPlayer.events.PLAYBACK_METADATA_LOADED,(function(dt){OvenPlayerConsole.log("DASH : PLAYBACK_METADATA_LOADED  : ",P.getQualityFor("video"),P.getBitrateInfoListFor("video"),P.getBitrateInfoListFor("video")[P.getQualityFor("video")]);var ut=P.getBitrateInfoListFor("video");lt.currentQuality=P.getQualityFor("video");for(var it=0;it<ut.length;it++)f().findWhere(lt.qualityLevels,{bitrate:ut[it].bitrate,height:ut[it].height,width:ut[it].width})||lt.qualityLevels.push({bitrate:ut[it].bitrate,height:ut[it].height,width:ut[it].width,index:ut[it].qualityIndex,label:ut[it].width+"x"+ut[it].height+", "+wo(ut[it].bitrate,!0,"bps")});P.isDynamic()&&(lt.isLive=!0),st&&!lt.isLive&&P.seek(st)})),k.play=function(dt){k.getState()===Rt||k.getState()===me||j(dt)},k.setCurrentQuality=function(dt){return k.getState()!==sn&&k.play(),lt.currentQuality=dt,yt()&&rt(!1),P.setQualityFor("video",dt),lt.currentQuality},k.isAutoQuality=function(){return yt()},k.setAutoQuality=function(dt){rt(dt)},k.destroy=function(){P.destroy?P.destroy():P.reset(),P=null,k.trigger("dashDestroyed"),OvenPlayerConsole.log("DASH : PROVIDER DESTROYED."),Y()}}catch(dt){if(dt&&dt.code&&dt.code===103)throw dt;var ct=zt.codes[105];throw ct.error=dt,ct}return k},fu=function(R,S,I){var k={},P=null,j=null,Y=null,st=null,nt=!1;try{var rt={debug:!1},yt=S.getConfig().hlsConfig;if(yt)for(var lt in yt)rt[lt]=yt[lt];S.getConfig().licenseCustomHeader&&(rt.licenseXhrSetup=function(ut,it,At,ft){ut.setRequestHeader(S.getConfig().licenseCustomHeader.key,S.getConfig().licenseCustomHeader.value)}),(P=new Hls(rt)).attachMedia(R);var ct={name:Te,element:R,mse:P,listener:null,isLoaded:!1,canSeek:!1,isLive:!1,seeking:!1,state:We,buffer:0,dvrWindow:0,framerate:0,currentQuality:-1,qualityLevels:[],currentAudioTrack:-1,audioTracks:[],currentSource:-1,sources:[],adTagUrl:I,subtitleTracks:[],currentSubtitleTrack:-1};k=To(ct,S,(function(ut,it){OvenPlayerConsole.log("HLS : onExtendedLoad : ",ut,"lastPlayPosition : "+it),k.trigger("hlsPrepared",P),P.loadSource(ut.file),P.once(Hls.Events.MANIFEST_LOADED,(function(At,ft){for(var pt=0;pt<P.levels.length;pt++){var mt=P.levels[pt];ct.qualityLevels.push({bitrate:mt.bitrate,height:mt.height,width:mt.width,index:pt,label:mt.width+"x"+mt.height+", "+wo(mt.bitrate,!0,"bps")})}if(ct.currentQuality=P.firstLevel,P.audioTracks&&P.audioTracks.length>0)for(var ht=0;ht<P.audioTracks.length;ht++){var Pt=P.audioTracks[ht];ct.audioTracks.push({index:Pt.id,label:Pt.name}),Pt.default===!0&&(ct.currentAudioTrack=Pt.id)}if(P.subtitleTracks&&P.subtitleTracks.length>0)for(var Xt=0;Xt<P.subtitleTracks.length;Xt++){var pe=P.subtitleTracks[Xt];ct.subtitleTracks.push({index:pe.id,label:pe.name?pe.name:pe.lang?pe.lang:pe.id})}})),P.once(Hls.Events.LEVEL_LOADED,(function(At,ft){nt=!0,st&&(clearTimeout(st),st=null),ft.details.live?ct.isLive=!0:it&&it>=0&&k.seek(it)})),P.on(Hls.Events.LEVEL_SWITCHED,(function(At,ft){ct.currentQuality=ft.level,k.trigger(Dr,{isAuto:P.autoLevelEnabled,currentQuality:ct.currentQuality,type:"render"})})),P.on(Hls.Events.AUDIO_TRACK_SWITCHED,(function(At,ft){ct.currentAudioTrack=ft.id,k.trigger(Ii,{currentAudioTrack:ct.currentAudioTrack})})),P.on(Hls.Events.SUBTITLE_TRACK_SWITCH,(function(At,ft){ct.currentSubtitleTrack=ft.id,k.trigger(Yt,{currentSubtitleTrack:ct.currentSubtitleTrack})})),P.on(Hls.Events.LEVEL_UPDATED,(function(At,ft){ft&&ft.details&&(ct.dvrWindow=ft.details.totalduration)})),P.on(Hls.Events.ERROR,(function(At,ft){if(ft&&ft.networkDetails&&ft.networkDetails.status===202)return st&&(clearTimeout(st),st=null),k.setState(Ae),void(st=setTimeout((function(){P&&(k.stop(),P.stopLoad(),P.loadSource(ut.file))}),1e3));if(ft.fatal){var pt=302;ft&&ft.networkDetails&&ft.networkDetails.status===400?pt=306:ft&&ft.networkDetails&&ft.networkDetails.status===403?pt=307:ft&&ft.networkDetails&&ft.networkDetails.status===406&&(pt=308);var mt=zt.codes[pt];mt.error=ft,Nn(mt,k)}})),k.on(gn,(function(At){nt||At.prevstate!==Ae||At.newstate!==We||(st&&(clearTimeout(st),st=null),P&&P.stopLoad())}))})),k.setCurrentQuality=function(ut){return P.currentLevel=ut,ct.currentQuality=ut,ct.currentQuality},k.isAutoQuality=function(){return P.autoLevelEnabled},k.setAutoQuality=function(ut){P.currentLevel=ut?-1:P.currentLevel},k.setCurrentAudioTrack=function(ut){return P.audioTrack=ut,ct.currentAudioTrack=ut,ct.currentAudioTrack},k.setCurrentSubtitleTrack=function(ut){return P.subtitleTrack=ut,ct.currentSubtitleTrack=ut,ct.currentSubtitleTrack},k.getDuration=function(){return R.duration},j=k.super("stop"),k.stop=function(){st&&(clearTimeout(st),st=null),P&&P.stopLoad(),j()},Y=k.super("destroy"),k.destroy=function(){st&&(clearTimeout(st),st=null),P&&(P.destroy(),k.trigger("hlsDestroyed")),P=null,OvenPlayerConsole.log("HLS : PROVIDER DESTROYED."),Y()},OvenPlayerConsole.log("HLS PROVIDER LOADED.")}catch(ut){var dt=zt.codes[106];throw dt.error=ut,dt}return k},fa=function(R){var S={};Fn(S),OvenPlayerConsole.log("API loaded.");var I=(function(lt){var ct={},dt={playlist:[],currentIndex:0},ut=ei();OvenPlayerConsole.log("PlaylistManager loaded.");var it=function(At){if(At&&(At.file||At.host||At.application||At.stream)){var ft=Object.assign({},{default:!1},At);ft.file=A(""+ft.file),ft.host&&ft.application&&ft.stream&&(ft.file=ft.host+"/"+ft.application+"/stream/"+ft.stream,delete ft.host,delete ft.application,delete ft.stream);var pt=/^[^/]+\/(?:x-)?([^/]+)$/;if(pt.test(ft.type)&&(ft.mimeType=ft.type,ft.type=ft.type.replace(pt,"$1")),Re(ft.file)?ft.type="rtmp":Pn(ft.file)?ft.type="webrtc":tn(ft.file,ft.type)?ft.type="hls":dr(ft.file,ft.type)?ft.type="dash":ft.type||(ft.type=p(ft.file)),ft.lowLatency&&(ft.lowLatency=ft.lowLatency),ft.type){switch(ft.type){case"m3u8":case"vnd.apple.mpegurl":ft.type="hls";break;case"m4a":ft.type="aac";break;case"smil":ft.type="rtmp"}return Object.keys(ft).forEach((function(mt){ft[mt]===""&&delete ft[mt]})),ft}}};return ct.initPlaylist=function(At,ft){OvenPlayerConsole.log("PlaylistManager setPlaylist() ",At);var pt=(f().isArray(At)?At:[At]).map((function(mt){f().isArray(mt.tracks)||delete mt.tracks;var ht=Object.assign({},{sources:[],tracks:[],title:""},mt);ht.sources!==Object(ht.sources)||f().isArray(ht.sources)||(ht.sources=[it(ht.sources)]),f().isArray(ht.sources)&&ht.sources.length!==0||(ht.sources=[it(ht)]),f().isArray(ht.sources)&&ht.sources.length!==0||(mt.levels?ht.sources=mt.levels:ht.sources=[it(mt)]);for(var Pt=0;Pt<ht.sources.length;Pt++){var Xt,pe=ht.sources[Pt];if(pe){var Kt=pe.default;pe.default=!!Kt&&Kt.toString()==="true",ht.sources[Pt].label||(ht.sources[Pt].label=ht.sources[Pt].type+"-"+Pt.toString()),Xt=it(ht.sources[Pt]),ut.findProviderNameBySource(Xt)?ht.sources[Pt]=Xt:ht.sources[Pt]=null}}return ht.sources=ht.sources.filter((function(le){return!!le})),!ht.title&&ht.sources[0]&&ht.sources[0].label&&(ht.title=ht.sources[0].label),ft.isCurrentProtocolOnly()&&(ht.sources=(function(le){if(le){var fe=ht.sources[0].type;return f().filter(le,{type:fe})}})(ht.sources)),f().isArray(ht.tracks)||(ht.tracks=[]),f().isArray(ht.captions)&&(ht.tracks=ht.tracks.concat(ht.captions),delete ht.captions),ht.tracks=ht.tracks.map((function(le){return!(!le||!le.file)&&Object.assign({},{kind:"captions",default:!1},le)})).filter((function(le){return!!le})),ht})).filter((function(mt){return mt.sources&&mt.sources.length>0}))||[];return dt.playlist=pt,pt},ct.getPlaylist=function(){return OvenPlayerConsole.log("PlaylistManager getPlaylist() ",dt.playlist),dt.playlist},ct.getCurrentPlayList=function(){return dt.playlist[dt.currentIndex]?dt.playlist[dt.currentIndex]:[]},ct.getCurrentPlaylistIndex=function(){return dt.currentIndex},ct.setCurrentPlaylist=function(At){return dt.playlist[At]&&(dt.currentIndex=At,lt.trigger(_e,dt.currentIndex)),dt.currentIndex},ct.getCurrentSources=function(){return dt.playlist[dt.currentIndex]?(OvenPlayerConsole.log("PlaylistManager getCurrentSources() ",dt.playlist[dt.currentIndex].sources),dt.playlist[dt.currentIndex].sources):null},ct.getCurrentAdTag=function(){if(dt.playlist[dt.currentIndex])return dt.playlist[dt.currentIndex].adTagUrl||""},ct})(S),k=(function(){var lt=ei(),ct={},dt={};OvenPlayerConsole.log("ProviderController loaded.");var ut=function(At,ft){ct[At]||(OvenPlayerConsole.log("ProviderController _registerProvider() ",At),ct[At]=ft)},it={html5:function(){var At=Wc;return ut(Ne,At),{name:Ne,provider:At}},webrtc:function(){var At=uu;return ut(Ve,At),{name:Ve,provider:At}},dash:function(){var At=cu;return ut(It,At),{name:It,provider:At}},hls:function(){var At=fu;return ut(Te,At),{name:Te,provider:At}}};return dt.loadProviders=function(At){var ft=lt.findProviderNamesByPlaylist(At);return OvenPlayerConsole.log("ProviderController loadProviders() ",ft),ft?Promise.all(ft.filter((function(pt){return!!it[pt]})).map((function(pt){return it[pt]()}))):Promise.reject(zt.codes[101])},dt.findByName=function(At){return OvenPlayerConsole.log("ProviderController findByName() ",At),ct[At]},dt.getProviderBySource=function(At){var ft=lt.findProviderNameBySource(At);return OvenPlayerConsole.log("ProviderController getProviderBySource() ",ft),dt.findByName(ft)},dt.isSameProvider=function(At,ft){return OvenPlayerConsole.log("ProviderController isSameProvider() ",lt.findProviderNameBySource(At),lt.findProviderNameBySource(ft)),lt.findProviderNameBySource(At)===lt.findProviderNameBySource(ft)},dt})(),P=se(),j=(function(lt,ct){var dt={},ut=St(lt),it="";return OvenPlayerConsole.log("MediaManager loaded. browser : ",ct),dt.createMedia=function(At,ft){return dt.empty(),pt=ft.isLoop(),mt=ft.isAutoStart(),(it=document.createElement("video")).setAttribute("preload","auto"),it.setAttribute("disableremoteplayback",""),it.setAttribute("webkit-playsinline","true"),it.setAttribute("playsinline","true"),pt&&it.setAttribute("loop",""),mt&&it.setAttribute("autoplay",""),ut.append(it),it;var pt,mt},dt.createAdContainer=function(){var At=document.createElement("div");return At.setAttribute("class","op-ads"),ut.append(At),At},dt.empty=function(){OvenPlayerConsole.log("MediaManager removeElement()"),ut.removeChild(it),it=null},dt.destroy=function(){ut.removeChild(),ut=null,it!=null&&it!==""&&(it.srcObject=null),it=null},dt})(R,P),Y="",st="",nt="",rt=function(lt){OvenPlayerConsole.log("runNextPlaylist");var ct=lt,dt=!!I.getPlaylist()[ct];st.setSourceIndex(0),st.setVolume(Y.getVolume()),dt?(I.setCurrentPlaylist(ct),yt()):S.trigger(ve,null)},yt=function(lt){return k.loadProviders(I.getCurrentPlayList()).then((function(ct){if(ct.length<1)throw zt.codes[101];Y&&(Y.destroy(),Y=null),nt&&(nt.destroy(),nt=null),nt=(function(it,At){var ft={},pt=[],mt=-1,ht=un(),Pt=!0;OvenPlayerConsole.log("Caption Manager >> ",At);var Xt=function(Ft,Ht){return Ft.data=Ht||[],Ft.name=Ft.label||Ft.name||Ft.language,Ft.id=(function(ae,de){var Ce,Ee=ae.kind||"cc";return Ce=ae.default||ae.defaulttrack?"default":ae.id||Ee+de,Pt&&(pe(pt.length||0),Pt=!1),Ce})(Ft,pt.length),pt.push(Ft),Ft.id},pe=function(Ft){mt=Ft,it.trigger(tr,mt)};if(it.getConfig().playlist&&it.getConfig().playlist.length>0){var Kt=it.getConfig().playlist[At];if(Kt&&Kt.tracks&&Kt.tracks.length>0)for(var le=function(){var Ft=Kt.tracks[fe];Mn(Ft.kind)&&!f().findWhere(Ft,{file:Ft.file})&&ht.load(Ft,Ft.lang,(function(Ht){Ht&&Ht.length>0&&Xt(Ft,Ht)}),(function(Ht){var ae=zt.codes[305];ae.error=Ht,it.trigger(qe,ae)}))},fe=0;fe<Kt.tracks.length;fe++)le()}return it.on(or,(function(Ft){var Ht=Ft.position;if(mt>-1&&pt[mt]){var ae=f().filter(pt[mt].data,(function(de){return Ht>=de.startTime&&(!de.endTime||Ht)<=de.endTime}));ae&&ae.length>0&&it.trigger(Yr,ae[0])}})),ft.flushCaptionList=function(Ft){pt=[],pe(Ft)},ft.getCaptionList=function(){return pt||[]},ft.getCurrentCaption=function(){return mt},ft.setCurrentCaption=function(Ft){if(!(Ft>-2&&Ft<pt.length))return null;pe(Ft)},ft.addCaption=function(Ft){Mn(Ft.kind)&&!f().findWhere(ht,{file:Ft.file})&&ht.load(Ft,(function(Ht){Ht&&Ht.length>0&&Xt(Ft,Ht)}),(function(Ht){var ae=errors[305];ae.error=Ht,it.trigger(qe,ae)}))},ft.removeCaption=function(Ft){return Ft>-1&&Ft<pt.length?(pt.splice(Ft,1),pt):null},ft.destroy=function(){pt=[],ht=null,it.off(or,null,ft)},ft})(S,I.getCurrentPlaylistIndex()),OvenPlayerConsole.log("API : init() captions");var dt=Ai(I.getCurrentSources(),st),ut=ct[dt].name;OvenPlayerConsole.log("API : init() provider",ut),Y=ct[dt].provider(j.createMedia(ut,st),st,I.getCurrentAdTag()),ut==="rtmp"&&Object.assign(S,(function(it){return{externalCallbackCreep:function(At){return At.name&&At.data?it.triggerEventFromExternal(At.name,At.data):null}}})(Y)),Y.on("all",(function(it,At){if(it===qe&&(ut===Ve&&Y.removeStream(),st.getConfig().autoFallback&&S.getCurrentSource()+1<S.getSources().length))return S.pause(),void S.setCurrentSource(S.getCurrentSource()+1);it===an&&rt(I.getCurrentPlaylistIndex()+1),it===Lr&&st.isAutoStart()&&S.play(),S.trigger(it,At)}))})).then((function(){Y.preload(I.getCurrentSources(),lt).then((function(){})).catch((function(ct){if(ct&&ct.code&&zt.codes[ct.code])S.trigger(qe,zt.codes[ct.code]);else{var dt=zt.codes[100];dt.error=ct,S.trigger(qe,dt)}}))})).catch((function(ct){if(ct&&ct.code&&zt.codes[ct.code])S.trigger(qe,zt.codes[ct.code]);else{var dt=zt.codes[100];dt.error=ct,S.trigger(qe,dt)}}))};return S.init=function(lt){lt||(lt={}),lt.mediaContainer=R,lt.browser=P,st=(function(ct,dt){OvenPlayerConsole.log("Configurator loaded.",ct);var ut=(function(it){(function(Kt){Object.keys(Kt).forEach((function(le){le!=="id"&&(Kt[le]=(function(fe){if(fe===void 0)return null;if(typeof fe=="string"&&fe.length<6){var Ft=fe.toLowerCase();if(Ft==="true")return!0;if(Ft==="false")return!1;if(!isNaN(Number(fe))&&!isNaN(parseFloat(fe)))return Number(fe)}return fe})(Kt[le]))}))})(it);var At=Object.assign({},{mediaContainer:"",playbackRates:[2,1.5,1,.5,.25],playbackRate:1,mute:!1,volume:100,loop:!1,controls:!0,autoStart:!1,autoFallback:!0,timecode:!0,sourceIndex:-1,browser:"",hidePlaylistIcon:!1,rtmpBufferTime:1,rtmpBufferTimeMax:3,adClient:"googleima",currentProtocolOnly:!1,systemText:null,lang:"en",loadingRetryCount:0,expandFullScreenUI:!0,fullscreenOption:null,showBigPlayButton:!0,doubleTapToSeek:!1,showZoomSettings:!1,legacyUI:!1,parseStream:{enabled:!1}},it),ft=[];At.systemText&&(ft=f().isArray(At.systemText)?At.systemText:[At.systemText]);for(var pt=0;pt<ft.length;pt++)if(ft[pt].lang){var mt=f().findWhere(ge,{lang:ft[pt].lang});if(mt)ir(mt,ft[pt]);else{(mt=f().findWhere(ge,{lang:"en"})).lang=ft[pt].lang;var ht=ir({},mt,ft[pt]);ge.push(ht)}}At.systemText=f().findWhere(ge,{lang:At.lang});var Pt=At.playbackRates;(Pt=Pt.filter((function(Kt){return f().isNumber(Kt)&&Kt>=.25&&Kt<=4})).map((function(Kt){return Math.round(4*Kt)/4}))).indexOf(1)<0&&Pt.push(1),Pt.sort(),At.playbackRates=Pt,At.rtmpBufferTime=At.rtmpBufferTime>10?10:At.rtmpBufferTime,At.rtmpBufferTimeMax=At.rtmpBufferTimeMax>50?50:At.rtmpBufferTimeMax,At.playbackRates.indexOf(At.playbackRate)<0&&(At.playbackRate=1);var Xt=At.playlist;if(Xt)f().isArray(Xt.playlist)&&(At.feedData=Xt,At.playlist=Xt.playlist);else{var pe=f().pick(At,["title","description","type","image","file","sources","tracks","host","application","stream","adTagUrl"]);At.playlist=[pe]}return delete At.duration,At})(ct);return{getConfig:function(){return ut},getAdClient:function(){return ut.adClient},setConfig:function(it,At){ut[it]=At},getContainer:function(){return ut.mediaContainer},getPlaybackRate:function(){return ut.playbackRate},setPlaybackRate:function(it){return ut.playbackRate=it,it},getZoomFactor:function(){return ut.zoomFactor},setZoomFactor:function(it){return ut.zoomFactor=it,it},getQualityLabel:function(){return ut.qualityLabel},setQualityLabel:function(it){ut.qualityLabel=it},isCurrentProtocolOnly:function(){return ut.currentProtocolOnly},getSourceIndex:function(){return ut.sourceIndex},setSourceIndex:function(it){ut.sourceIndex=it},setTimecodeMode:function(it){ut.timecode!==it&&(ut.timecode=it,dt.trigger(Gn,it))},isTimecodeMode:function(){return ut.timecode},getRtmpBufferTime:function(){return ut.rtmpBufferTime},getRtmpBufferTimeMax:function(){return ut.rtmpBufferTimeMax},setMute:function(it){ut.mute=it},isMute:function(){return ut.mute},getVolume:function(){return ut.volume},setVolume:function(it){ut.volume=it},isLoop:function(){return ut.loop},isAutoStart:function(){return ut.autoStart},isControls:function(){return ut.controls},getPlaybackRates:function(){return ut.playbackRates},getBrowser:function(){return ut.browser},getSystemText:function(){return ut.systemText},getLanguage:function(){return ut.lang},getPlaylist:function(){return ut.playlist},setPlaylist:function(it){return f().isArray(it)?ut.playlist=it:ut.playlist=[it],ut.playlist}}})(lt,S),OvenPlayerConsole.log("API : init()"),OvenPlayerConsole.log("API : init() config : ",st),zt.codes=st.getSystemText().api.error,I.initPlaylist(st.getPlaylist(),st),OvenPlayerConsole.log("API : init() sources : ",I.getCurrentSources()),yt(),setTimeout((function(){S.trigger(dn)}))},S.getProviderName=function(){return Y?Y.getName():null},S.getProvider=function(){return Y},S.getMseInstance=function(){return Y?Y.getMse():null},S.getConfig=function(){return OvenPlayerConsole.log("API : getConfig()",st.getConfig()),st.getConfig()},S.getBrowser=function(){return st.getBrowser()},S.setTimecodeMode=function(lt){OvenPlayerConsole.log("API : setTimecodeMode()",lt),st.setTimecodeMode(lt)},S.isTimecodeMode=function(){return OvenPlayerConsole.log("API : isTimecodeMode()"),st.isTimecodeMode()},S.getFramerate=function(){if(OvenPlayerConsole.log("API : getFramerate()"),Y)return Y.getFramerate()},S.seekFrame=function(lt){return Y?(OvenPlayerConsole.log("API : seekFrame()",lt),Y.seekFrame(lt)):null},S.getDuration=function(){return Y?(OvenPlayerConsole.log("API : getDuration()",Y.getDuration()),Y.getDuration()):null},S.getDvrWindow=function(){return Y?(OvenPlayerConsole.log("API : getDvrWindow()",Y.getDvrWindow()),Y.getDvrWindow()):null},S.getPosition=function(){return Y?(OvenPlayerConsole.log("API : getPosition()",Y.getPosition()),Y.getPosition()):null},S.getVolume=function(){return Y?(OvenPlayerConsole.log("API : getVolume()",Y.getVolume()),Y.getVolume()):null},S.setVolume=function(lt){if(!Y)return null;OvenPlayerConsole.log("API : setVolume() "+lt),Y.setVolume(lt)},S.setMute=function(lt){return Y?(OvenPlayerConsole.log("API : setMute() "+lt),Y.setMute(lt)):null},S.getMute=function(){return Y?(OvenPlayerConsole.log("API : getMute() "+Y.getMute()),Y.getMute()):null},S.load=function(lt){return OvenPlayerConsole.log("API : load() ",lt),lt&&(st.setSourceIndex(0),Y&&Y.getQualityLevels().length>0&&Y.setCurrentQuality(0),"sources"in lt?st.setPlaylist(lt):st.setPlaylist({sources:lt}),I.initPlaylist(st.getPlaylist(),st)),yt()},S.play=function(){if(!Y)return null;OvenPlayerConsole.log("API : play() "),Y.metaLoaded()||st.isAutoStart()?Y.play():S.once(Lr,(function(){Y.play()}))},S.pause=function(){if(!Y)return null;OvenPlayerConsole.log("API : pause() "),Y.pause()},S.seek=function(lt){if(!Y)return null;OvenPlayerConsole.log("API : seek() "+lt),Y.seek(lt)},S.setPlaybackRate=function(lt){return Y?(OvenPlayerConsole.log("API : setPlaybackRate() ",lt),Y.setPlaybackRate(st.setPlaybackRate(lt))):null},S.getPlaybackRate=function(){return Y?(OvenPlayerConsole.log("API : getPlaybackRate() ",Y.getPlaybackRate()),Y.getPlaybackRate()):null},S.setZoomFactor=function(lt){return Y?(OvenPlayerConsole.log("API : setZoomFactor() ",lt),Y.setZoomFactor(st.setZoomFactor(lt))):null},S.getZoomFactor=function(){return Y?(OvenPlayerConsole.log("API : getZoomFactor() ",Y.getZoomFactor()),Y.getZoomFactor()):null},S.getPlaylist=function(){return OvenPlayerConsole.log("API : getPlaylist() ",I.getPlaylist()),I.getPlaylist()},S.getCurrentPlaylist=function(){return OvenPlayerConsole.log("API : getCurrentPlaylist() ",I.getCurrentPlaylistIndex()),I.getCurrentPlaylistIndex()},S.setCurrentPlaylist=function(lt){OvenPlayerConsole.log("API : setCurrentPlaylist() ",lt),rt(lt)},S.getSources=function(){return Y?(OvenPlayerConsole.log("API : getSources() ",Y.getSources()),Y.getSources()):null},S.getCurrentSource=function(){return Y?(OvenPlayerConsole.log("API : getCurrentSource() ",Y.getCurrentSource()),Y.getCurrentSource()):null},S.setCurrentSource=function(lt){if(!Y)return null;OvenPlayerConsole.log("API : setCurrentSource() ",lt);var ct=Y.getPosition();return st.setSourceIndex(lt),yt(ct).then((function(){S.trigger(Tr,{currentSource:lt})})),lt},S.getQualityLevels=function(){return Y?(OvenPlayerConsole.log("API : getQualityLevels() ",Y.getQualityLevels()),Y.getQualityLevels()):null},S.getCurrentQuality=function(){return Y?(OvenPlayerConsole.log("API : getCurrentQuality() ",Y.getCurrentQuality()),Y.getCurrentQuality()):null},S.setCurrentQuality=function(lt){return Y?(OvenPlayerConsole.log("API : setCurrentQuality() ",lt),Y.setCurrentQuality(lt)):null},S.getAudioTracks=function(){return Y?(OvenPlayerConsole.log("API : getAudioTracks() ",Y.getAudioTracks()),Y.getAudioTracks()):null},S.getCurrentAudioTrack=function(){return Y?(OvenPlayerConsole.log("API : getCurrentAudioTrack() ",Y.getCurrentAudioTrack()),Y.getCurrentAudioTrack()):null},S.setCurrentAudioTrack=function(lt){return Y?(OvenPlayerConsole.log("API : setCurrentAudioTrack() ",lt),Y.setCurrentAudioTrack(lt)):null},S.getSubtitleTracks=function(){return Y?(OvenPlayerConsole.log("API : getSubtitleTracks() ",Y.getSubtitleTracks()),Y.getSubtitleTracks()):null},S.getCurrentSubtitleTrack=function(){return Y?(OvenPlayerConsole.log("API : getCurrentSubtitleTrack() ",Y.getCurrentSubtitleTrack()),Y.getCurrentSubtitleTrack()):null},S.setCurrentSubtitleTrack=function(lt){return Y?(OvenPlayerConsole.log("API : setCurrentSubtitleTrack() ",lt),Y.setCurrentSubtitleTrack(lt)):null},S.isAutoQuality=function(){return Y?(OvenPlayerConsole.log("API : isAutoQuality()"),Y.isAutoQuality()):null},S.setAutoQuality=function(lt){return Y?(OvenPlayerConsole.log("API : setAutoQuality() ",lt),Y.setAutoQuality(lt)):null},S.getCaptionList=function(){return nt?(OvenPlayerConsole.log("API : getCaptionList() ",nt.getCaptionList()),nt.getCaptionList()):null},S.getCurrentCaption=function(){return nt?(OvenPlayerConsole.log("API : getCurrentCaption() ",nt.getCurrentCaption()),nt.getCurrentCaption()):null},S.setCurrentCaption=function(lt){if(!nt)return null;OvenPlayerConsole.log("API : setCurrentCaption() ",lt),nt.setCurrentCaption(lt)},S.addCaption=function(lt){return nt?(OvenPlayerConsole.log("API : addCaption() "),nt.addCaption(lt)):null},S.removeCaption=function(lt){return nt?(OvenPlayerConsole.log("API : removeCaption() ",lt),nt.removeCaption(lt)):null},S.getBuffer=function(){if(!Y)return null;OvenPlayerConsole.log("API : getBuffer() ",Y.getBuffer()),Y.getBuffer()},S.getState=function(){return Y?(OvenPlayerConsole.log("API : getState() ",Y.getState()),Y.getState()):null},S.stop=function(){if(!Y)return null;OvenPlayerConsole.log("API : stop() "),Y.stop()},S.remove=function(){OvenPlayerConsole.log("API : remove() "),nt&&(nt.destroy(),nt=null),Y&&(Y.destroy(),Y=null),j&&(j.destroy(),j=null),S.trigger(re),S.off(),k=null,I=null,st=null,OvenPlayerConsole.log("API : remove() - currentProvider, providerController, playlistManager, playerConfig, api event destroed. "),dl.removePlayer(S)},S.getMediaElement=function(){return Y.getMediaElement()},S.getVersion=function(){return o},S},dl=(Gi=(fs={}).playerList=[],fs.create=function(R,S){window.OvenPlayerConsole&&Object.keys(window.OvenPlayerConsole).length!==0||(window.OvenPlayerConsole={},OvenPlayerConsole.log=function(){});var I=vr(R),k=fa(I);return k.init(S),Gi.push(k),k},fs.getPlayerList=function(){return Gi},fs.getPlayerByContainerId=function(R){for(var S=0;S<Gi.length;S++)if(Gi[S].getContainerId()===R)return Gi[S];return null},fs.getPlayerByIndex=function(R){return Gi[R]||null},fs.removePlayer=function(R){for(var S=0;S<Gi.length;S++)Gi[S]===R&&Gi.splice(S,1)},fs.generateWebrtcUrls=function(R){return(f().isArray(R)?R:[R]).map((function(S,I){if(S.host&&Pn(S.host)&&S.application&&S.stream)return{file:S.host+"/"+S.application+"/"+S.stream,type:"webrtc",label:S.label?S.label:"webrtc-"+(I+1)}}))},fs.debug=function(R){return window.OvenPlayerConsole=R?{log:window.console.log}:{log:function(){}},R},fs),ds=function(R,S){var I='<div id="'+S.id+'" class="op-setting-panel '+(S.isRoot?"animated fadeIn":"")+'" style="max-height: '+S.height+'px"><div class="op-setting-title-container"><div class="op-setting-title" tabindex="0">'+(S.isRoot?"":'<span class="op-setting-title-previcon">&lt;</span>')+'<span class="op-setting-title-title">'+S.title+'</span></div></div><div class="op-setting-item-container">';return f().forEach(S.body,(function(k){I+=Xc(k,S.useCheck)})),I+="</div></div>"},Xc=function(R,S){return'<div class="op-setting-item" op-panel-type="'+R.panelType+'" op-data-value="'+R.value+'">'+(S?'<span class="op-setting-item-checked '+(R.isCheck?"op-show":"")+'">&#x2713;</span>':"")+'<span class="op-setting-item-title">'+R.title+"</span>"+(R.hasNext?'<span class="op-setting-item-nexticon">&gt;</span><span class="op-setting-item-value">'+R.description+"</span>":"")+"</div>"},du=function(R,S){return'<div class="op-playlist-card '.concat(S?"active":"",'" data-index="').concat(R.index,'">')+'<div class="op-playlist-card-thumbnail '.concat(R.image?"":"empty",'">').concat(R.image?"<img src=".concat(R.image,">"):'<i class="op-con op-empty-video"></i>'," ").concat(R.duration?'<span class="op-badge">'.concat(m(R.duration),"</span>"):""," </div>")+'<div class="op-playlist-card-title">'.concat(R.title,"</div>")+"</div>"},hl={TextViewTemplate:function(R){return'<div class="textView" style="padding : 5px; background: red; position : absolute; top: 0;">'+"<h3>".concat(R,"</h3>")+'<button type="button" class="btn">button</button></div>'},ViewTemplate:function(R,S){return'<div class="ovenplayer op-wrapper" tabindex="-1" '.concat(S?'id = "'.concat(S,'"'):"",">")+'<div class="op-ratio"></div><div class="op-player op-clear"><div class="op-core-ui-wrapper op-clear"><div class="op-media-element-container op-clear"></div><div class="op-ui op-clear"></div></div></div></div>'},HelpersTemplate:function(R,S){return'<div class="op-helpers-container"></div>'},BigButtonTemplate:function(R,S){return'<div class="op-bigbutton-container ">'+"".concat(S===sn?'<i class="op-con op-pause-big"></i>':"")+"".concat(S===Rn?'<i class="op-bigbutton op-con op-play-big"></i>':"")+"".concat(S===We?'<i class="op-bigbutton op-con op-play-big"></i>':"")+"".concat(S===$e?'<i class="op-bigbutton op-con op-replay-big"></i>':"")+"</div>"},ThumbnailTemplate:function(R,S){return'<div class="op-thumbnail-container"><div class="op-thumbnail-wrapper">'+"".concat(S.title?'<div class="op-thumbnail-header">'.concat(S.title,"</div>"):"")+"</div></div>"},WaterMarkTemplate:function(R,S){return'<div class="op-watermark-container"><div class="op-watermark">'+"".concat(S.waterMark.image?'<img src="'.concat(S.waterMark.image,'">'):"")+"".concat(S.waterMark.text?'<span class="op-watermark-text">'.concat(S.waterMark.text,"</span>"):"")+"</div></div>"},MessageBoxTemplate:function(R,S){return'<div class="op-message-box op-clear '.concat(S.dontClose===!0?"op-message-box-default-cursor":"",'">')+'<div class="op-message-container ">'+'<div class="op-message-text">'.concat(S.message)+"".concat(S.description?'<div class="op-message-description">'.concat(S.description,"</div>"):"")+"</div>"+"".concat(S.iconClass?'<div class="op-message-icon"><i class="op-con '.concat(S.iconClass,'"></i></div>'):"")+"</div></div>"},SpinnerTemplate:function(R){return'<div class="op-spinner-container"><div class="op-spinner"></div></div>'},ContextPanelTemplate:function(R){return'<div class="op-context-panel animated fadeIn"><div class="op-context-item" tabindex="1">'+'<span class="op-context-item-text">'.concat(R.context," ").concat(o,"</span>")+"</div></div>"},CaptionViewerTemplate:function(R){return'<div class="op-caption-viewer">    <div class="op-caption-text-container">        <pre class="op-caption-text"></pre>      </div></div>'},ControlsTemplate:function(R,S){return'<div class="op-controls-container op-clear"><div class="op-bottom-panel op-clear"><div class="op-gradient-bottom op-clear"></div><div class="op-controls op-clear"><div class="op-left-controls op-clear"></div><div class="op-right-controls op-clear">'+'<div class="playlist-holder op-navigators op-clear">'.concat(S?'<button class="op-button op-playlist-button"><i class="op-con op-playlist-icon"></i></button>':"","</div>")+'<div class="setting-holder op-navigators op-clear"></div><div class="fullscreen-holder op-navigators op-clear"></div></div></div><div class="op-progressbar-container op-clear"></div></div></div>'},VolumeButtonTemplate:function(R){return'<div class="op-navigators op-volume-controller"><button class="op-button op-volume-button"><i class="op-con op-volume-max"></i><i class="op-con op-volume-small"></i><i class="op-con op-volume-mute"></i></button><div class="op-volume-slider-container"><div class="op-volume-silder"><div class="op-volume-slider-bg"></div><div class="op-volume-slider-value"></div><div class="op-volume-slider-handle"></div></div></div></div>'},ProgressBarTemplate:function(R){return'<div class="op-progressbar" tabindex="0"><div class="op-progressbar-padding"></div><div class="op-progress-list"><div class="op-load-progress"></div><div class="op-play-progress op-play-background-color"></div><div class="op-hover-progress"></div></div><div class="op-progressbar-knob-container"><div class="op-progressbar-knob op-play-background-color"></div></div><span class="op-progressbar-preview"></span><span class="op-progressbar-time">00:00</span></div>'},PlayButtonTemplate:function(R){return'<div class="op-navigators op-play-controller"><button class="op-button op-play-button" type="button"><i class="op-con op-play"></i><i class="op-con op-pause" style="display: none;"></i><i class="op-con op-replay" style="display: none;"></i></button><button class="op-button op-seek-button op-seek-button-back" type="button"><i class="op-con op-seek-back"></i><span class="op-seek-back-text">10</span></button><button class="op-button op-seek-button op-seek-button-forward" type="button"><i class="op-con op-seek-forward"></i><span class="op-seek-forward-text">10</span></button></div>'},SettingButtonTemplate:function(R){return'<button class="op-button op-setting-button"><i class="op-con op-setting"></i></button>'},FrameButtonsTemplate:function(R){return'<div class="op-frame-buttons"><button class="op-button op-frame-button" op-data-value="-5"><div class="frame-icon"><span class="btn-text">-5f</span></div></button><button class="op-button op-frame-button" op-data-value="-1"><div class="frame-icon"><span class="btn-text">-1f</span></div></button><button class="op-button op-frame-button" op-data-value="+1"><div class="frame-icon reverse"><span class="btn-text">+1f</span></div></button><button class="op-button op-frame-button" op-data-value="+5"><div class="frame-icon reverse"><span class="btn-text">+5f</span></div></button></div>'},TimeDisplayTemplate:function(R,S){return'<div class="op-navigators op-time-display">'+(S.duration===1/0?'<span class="op-live-badge" disabled="disabled">'+(S.type==="webrtc"?S.isP2P?'<span class="op-live-badge-lowlatency">'.concat(R.controls.low_latency_p2p,"</span>"):'<span class="op-live-badge-lowlatency">'.concat(R.controls.low_latency_live,"</span>"):'<span class="op-live-text" title="Skip ahead to live.">'.concat(R.controls.live,"</span>"))+"</span>":'<span class="op-time-current">00:00</span><span class="op-time-separator"> / </span><span class="op-time-duration">00:00</span>')+"</div>"},FullScreenButtonTemplate:function(R){return'<button class="op-button op-fullscreen-button"><i class="op-con op-fullscreen-expand"></i><i class="op-con op-fullscreen-compress"></i></button>'},PanelsTemplate:ds,SpeedPanelTemplate:ds,ZoomPanelTemplate:ds,SourcePanelTemplate:ds,QualityPanelTemplate:ds,AudioTrackPanelTemplate:ds,SubtitleTrackPanelTemplate:ds,CaptionPanelTemplate:ds,TimeDisplayPanelTemplate:ds,PlaylistPanelTemplate:function(R,S){return'<div class="op-playlist" tabindex="0">'+'<div class="op-playlist-header">'.concat(R.playlist,' <i class="op-con op-close-icon btn-close"></i></div>')+'<div class="op-playlist-body"><div class="op-playlist-body-container"><div class="op-playlist-body-center"><div class="op-playlist-body-row"></div></div></div><div class="op-playlist-body-arrows"><i class="op-con op-arrow-left btn-left"></i><i class="op-con op-arrow-right btn-right"></i></div></div></div>'}},nr=function(R,S,I,k,P,j,Y,st){var nt,rt=f().isElement(R)?St(R):R,yt={},lt=null,ct={};ct.data=k;var dt=function(ut){var it=document.createElement("div");return it.innerHTML=ut,nt=St(it.firstChild),it.firstChild};return I&&I.systemText&&(lt=I.systemText.ui),st?rt.replace(dt(hl[S+"Template"](lt,k))):rt.append(dt(hl[S+"Template"](lt,k))),j&&j(nt,ct),Object.keys(P).forEach((function(ut){var it=ut.split(" "),At=it[0].replace(/ /gi,""),ft=it[1].replace(/ /gi,""),pt="";if(pt=ft==="document"||ft==="window"||ft==="body"?St(ft):nt.find(ft)||(nt.hasClass(ft.replace(".",""))?nt:null),!(At&&ft&&pt))return!1;var mt=Object.keys(yt).length++,ht=function(le){return P[ut](le,nt,ct)};yt[mt]={name:At,target:ft,callback:ht};var Pt=null;At.indexOf("touch")>-1&&(Pt={passive:!0});var Xt=pt.get().length;if(Xt>1)for(var pe=pt.get(),Kt=0;Kt<Xt;Kt++)pe[Kt].addEventListener(At,ht,Pt);else pt.get().addEventListener(At,ht,Pt)})),ct.destroy=function(){Object.keys(yt).forEach((function(ut){var it=yt[ut],At="",ft=(At=it.target==="document"||it.target==="window"||it.target==="body"?St(it.target):nt.find(it.target)||(nt.hasClass(it.target.replace(".",""))?nt:null)).get().length;if(ft>1)for(var pt=At.get(),mt=0;mt<ft;mt++)pt[mt].removeEventListener(it.name,it.callback);else At.get().removeEventListener(it.name,it.callback);delete yt[ut]})),nt&&(st?(nt.removeChild(),nt.removeAttribute("class")):nt.remove()),Y&&Y(ct)},ct},da=function(R,S,I,k,P,j,Y,st){var nt="",rt={message:I,description:k,iconClass:j,dontClose:st},yt={"click .op-message-text":function(lt,ct,dt){lt.stopPropagation(),st||(nt&&clearTimeout(nt),Y&&Y(),dt.destroy())},"click .op-con":function(lt,ct,dt){lt.preventDefault(),st||(nt&&clearTimeout(nt),Y&&Y(),dt.destroy())}};return nr(R,"MessageBox",S.getConfig(),rt,yt,(function(lt,ct){P&&(nt=setTimeout((function(){ct.destroy()}),P||5e3))}),(function(){}))},Zc=function(R,S){var I,k,P=!1,j="",Y="",st="",nt=null,rt=S.getConfig().image||S.getConfig().title,yt=S.getConfig().waterMark&&S.getConfig().waterMark.image||S.getConfig().waterMark&&S.getConfig().waterMark.text,lt=!1;return nr(R,"Helpers",S.getConfig(),null,{},(function(ct,dt){var ut=!1,it=-1;function At(pt){S.getConfig().showBigPlayButton&&(S.getState()!==We&&S.getState()!==$e||(Y&&Y.destroy(),j&&j.destroy(),j=(function(mt,ht,Pt){var Xt={"click .op-bigbutton-container":function(pe){pe.preventDefault(),pe.stopPropagation();var Kt=ht.getState(),le=ht.getPlaylist(),fe=ht.getCurrentPlaylist();Kt===We||Kt===Rn?ht.play():Kt===te?ht.setCurrentSource(ht.getCurrentSource()):Kt===$e&&le.length===fe+1&&(ht.seek(0),ht.play())}};return nr(mt,"BigButton",ht.getConfig(),Pt,Xt,(function(pe,Kt,le){}),(function(){}))})(ct,S,pt)))}function ft(){var pt=S.getMediaElement();pt&&(pt.poster=""),S.getConfig().image&&(pt.poster=S.getConfig().image),I&&I.destroy(),I=(function(mt,ht,Pt){return nr(mt,"Thumbnail",ht.getConfig(),Pt,{},(function(Xt,pe){}),(function(){}))})(ct,S,S.getConfig())}st=(function(pt,mt){var ht="";return Object.assign(nr(pt,"Spinner",mt.getConfig(),null,{},(function(Pt,Xt){ht=Pt}),(function(){})),{show:function(Pt){Pt?ht.show():ht.hide()}})})(ct,S),(function(pt,mt,ht){St(mt.getContainerElement()),nr(pt,"CaptionViewer",mt.getConfig(),ht,{},(function(Pt,Xt,pe){var Kt=!1,le=0;mt.on(tr,(function(fe){fe>-1?Kt=!1:(Kt=!0,Pt.find(".op-caption-text").text(""))}),pe),mt.on(Yr,(function(fe){if(!Kt&&fe&&fe.text){var Ft=fe.endTime-fe.startTime;le&&clearTimeout(le),Pt.find(".op-caption-text").html(fe.text),Ft&&(le=setTimeout((function(){Pt.find(".op-caption-text").text("")}),1e3*Ft))}}),pe)}),(function(Pt){pt.find(".op-caption-text").text(""),mt.off(tr,null,Pt),mt.off(Yr,null,Pt)}))})(ct,S),S.on(dn,(function(){rt&&ft(),yt&&(k&&k.destroy(),k=(function(pt,mt,ht){var Pt=null,Xt=null;return nr(pt,"WaterMark",mt.getConfig(),ht,{},(function(pe,Kt){Pt=pe.find(".op-watermark"),Xt=pe.find(".op-watermark-text");var le=mt.getConfig().waterMark,fe=le.position||"top-right",Ft=le.y||"5%",Ht=le.x||"2.8125%";Pt.css(fe.split("-")[0],Ft),Pt.css(fe.split("-")[1],Ht);var ae=le.width||"auto",de=le.height||"auto";Pt.css("width",ae),Pt.css("height",de);var Ce=le.opacity||.7;Pt.css("opacity",Ce),le.text&&le.font&&f().each(le.font,(function(Ee,kt){Xt.css(kt,Ee)}))}),(function(){}))})(ct,S,S.getConfig())),P||(At(Rn),P=!0)}),dt),S.on(rn,(function(pt){pt.message&&(j&&j.destroy(),Y&&Y.destroy(),nt=da(ct,S,pt.message,null,pt.timer,pt.iconClass,pt.onClickCallback,!1),S.once(ai,(function(mt){!mt.mute&&nt&&nt.destroy()}),dt))}),dt),S.on(gn,(function(pt){pt&&pt.newstate&&(pt.newstate===We&&Y&&Y.destroy(),pt.newstate===sn||pt.newstate===Rt?(lt=!1,Y&&Y.destroy(),j&&j.destroy(),I&&I.destroy(),ut||st.show(!1)):pt.newstate===$e?(st.show(!1),At(pt.newstate)):pt.newstate===Ae||pt.newstate==="adLoading"?(lt=!1,Y&&Y.destroy(),j&&j.destroy(),st.show(!0)):ut||st.show(!1))}),dt),S.on(Tr,(function(){rt&&ft()})),S.on(Dr,(function(pt){if(pt.currentQuality<0)return!1;pt.isAuto?(ut=!1,st.show(!1)):pt.type==="request"?(it=pt.currentQuality,ut=!0,st.show(!0)):pt.type==="render"&&it===pt.currentQuality&&(ut=!1,st.show(!1))}),dt),S.on(qe,(function(pt){if(pt.code===510&&(lt=!0),pt.code===101&&S.getPlaylist().length===0&&(lt=!0),!lt){var mt="",ht="";j&&j.destroy(),pt&&pt.code&&pt.code>=100&&pt.code<1e3?(mt=pt.message,pt.code===100&&(ht=pt.error.toString())):mt="Can not play due to unknown reasons.",OvenPlayerConsole.log("error occured : ",pt),(function(Pt,Xt,pe,Kt){j&&j.destroy(),Y&&Y.destroy(),Y=da(ct,S,Pt,Xt,null,Kt,null,!0)})(mt,ht,0,"op-warning code-"+pt.code)}}),dt),S.on(Ue,(function(pt){var mt="Because the network connection is unstable, the following media source will be played.";S.getCurrentSource()+1===S.getQualityLevels().length&&(mt="Network connection is unstable. Check the network connection."),OvenPlayerConsole.log(mt)}),dt),S.on(ve,(function(){rt&&ft()}),dt)}),(function(ct){S.off(dn,null,ct),S.off(gn,null,ct),S.off(rn,null,ct),S.off(qe,null,ct),S.off(Ue,null,ct),S.off(ve,null,ct),S.off(_e,null,ct)}))},xi=[],wi=function(){var R={},S=function(){for(var I=0;I<xi.length;I++)xi[I].data.setFront(!1);xi.length&&xi[xi.length-1].data.setFront(!0)};return R.clear=function(){f().each(xi,(function(I){I.destroy()})),xi=[],S()},R.removeLastItem=function(){xi.pop().destroy(),S()},R.add=function(I){xi.push(I),S()},R.size=function(){return xi.length},R},Ja={speed:"Speed",speedUnit:"x",source:"Source",quality:"Quality",audioTrack:"Audio",caption:"Caption",display:"Display",zoom:"Zoom",subtitleTrack:"Subtitle"},Al=function(R,S,I){var k=St(S.getContainerElement()),P=wi(),j=S.getConfig();function Y(nt,rt){var yt={id:"panel-"+new Date().getTime(),title:"",body:[],useCheck:!0,panelType:rt,height:k.height()-k.find(".op-bottom-panel").height()};if(yt.title=Ja[rt],rt==="speed")for(var lt=nt.getConfig().playbackRates,ct=nt.getPlaybackRate(),dt=0;dt<lt.length;dt++){var ut={title:lt[dt]+Ja.speedUnit,isCheck:ct===lt[dt],value:lt[dt],description:lt[dt],panelType:rt};yt.body.push(ut)}else if(rt==="zoom"){var it={title:"+5%",isCheck:!1,value:.05,description:.05,panelType:rt},At={title:"100%",isCheck:!1,value:0,description:1,panelType:rt},ft={title:"-5%",isCheck:!1,value:-.05,description:-.05,panelType:rt};yt.body.push(it),yt.body.push(At),yt.body.push(ft)}else if(rt==="source")for(var pt=nt.getSources(),mt=0;mt<pt.length;mt++){var ht={title:pt[mt].label,isCheck:nt.getCurrentSource()===mt,value:mt,panelType:rt};yt.body.push(ht)}else if(rt==="quality"){var Pt=nt.getQualityLevels(),Xt=nt.isAutoQuality();yt.body.push({title:j.systemText.ui.quality.auto,isCheck:Xt,value:"AUTO",panelType:rt});for(var pe=0;pe<Pt.length;pe++){var Kt={title:Pt[pe].label,isCheck:!Xt&&nt.getCurrentQuality()===pe,value:pe,panelType:rt};yt.body.push(Kt)}}else if(rt==="audioTrack")for(var le=nt.getAudioTracks(),fe=0;fe<le.length;fe++){var Ft={title:le[fe].label,isCheck:le[fe].index===nt.getCurrentAudioTrack(),value:le[fe].index,panelType:rt};yt.body.push(Ft)}else if(rt==="subtitleTrack"){var Ht=nt.getSubtitleTracks();yt.body.push({title:"Off",isCheck:nt.getCurrentSubtitleTrack()===-1,value:-1,panelType:rt});for(var ae=0;ae<Ht.length;ae++){var de={title:Ht[ae].label,isCheck:Ht[ae].index===nt.getCurrentSubtitleTrack(),value:Ht[ae].index,panelType:rt};yt.body.push(de)}}else if(rt==="caption"){var Ce=nt.getCaptionList();yt.body.push({title:"Off",isCheck:nt.getCurrentCaption()===-1,value:-1,panelType:rt});for(var Ee=0;Ee<Ce.length;Ee++){var kt={title:Ce[Ee].label,isCheck:nt.getCurrentCaption()===Ee,value:Ee,panelType:rt};yt.body.push(kt)}}else if(rt==="display")for(var Ut=["Play time","Framecode"],he=0;he<Ut.length;he++){var be={title:Ut[he],isCheck:nt.isTimecodeMode()?Ut[he]==="Play time":Ut[he]==="Framecode",value:Ut[he],panelType:rt};yt.body.push(be)}return yt}j&&j.systemText&&Object.keys(Ja).forEach((function(nt){Ja[nt]=j.systemText.ui.setting[nt]})),I.setFront=function(nt){nt?k.find("#"+I.id).removeClass("background"):k.find("#"+I.id).addClass("background")};var st={"click .op-setting-item":function(nt,rt,yt){if(nt.preventDefault(),k.find("#"+I.id).hasClass("background"))return!1;var lt=St(nt.currentTarget).attr("op-panel-type"),ct=null;lt==="speed"?ct=(function(dt,ut,it){var At=St(ut.getContainerElement()),ft=wi();it.setFront=function(mt){mt?At.find("#"+it.id).removeClass("background"):At.find("#"+it.id).addClass("background")};var pt={"click .op-setting-item":function(mt,ht,Pt){mt.preventDefault();var Xt=St(mt.currentTarget).attr("op-data-value");ut.setPlaybackRate(parseFloat(Xt)),ft.clear()},"click .op-setting-title":function(mt,ht,Pt){mt.preventDefault(),ft.removeLastItem()}};return nr(dt,"SpeedPanel",ut.getConfig(),it,pt,(function(mt,ht){}),(function(mt){}))})(R,S,Y(S,lt)):lt==="zoom"?ct=(function(dt,ut,it){var At=St(ut.getContainerElement()),ft=At.find(".op-media-element-container"),pt=wi();it.setFront=function(ht){ht?At.find("#"+it.id).removeClass("background"):At.find("#"+it.id).addClass("background")};var mt={"click .op-setting-item":function(ht,Pt,Xt){ht.preventDefault();var pe=St(ht.currentTarget).attr("op-data-value"),Kt=ut.getZoomFactor();(Kt=pe==0?1:parseFloat(Kt)+parseFloat(pe))<=0&&(Kt=0),ft.get().style.setProperty("--mediaZoom",ut.setZoomFactor(parseFloat(Kt).toFixed(2)))},"click .op-setting-title":function(ht,Pt,Xt){ht.preventDefault(),pt.removeLastItem()}};return nr(dt,"ZoomPanel",ut.getConfig(),it,mt,(function(ht,Pt){}),(function(ht){}))})(R,S,Y(S,lt)):lt==="source"?ct=(function(dt,ut,it){var At=St(ut.getContainerElement()),ft=wi();it.setFront=function(mt){mt?At.find("#"+it.id).removeClass("background"):At.find("#"+it.id).addClass("background")};var pt={"click .op-setting-item":function(mt,ht,Pt){mt.preventDefault();var Xt=St(mt.currentTarget).attr("op-data-value");ut.setCurrentSource(parseInt(Xt)),ft.clear()},"click .op-setting-title":function(mt,ht,Pt){mt.preventDefault(),ft.removeLastItem()}};return nr(dt,"SourcePanel",ut.getConfig(),it,pt,(function(mt,ht){}),(function(mt){}))})(R,S,Y(S,lt)):lt==="quality"?ct=(function(dt,ut,it){var At=St(ut.getContainerElement()),ft=wi();it.setFront=function(mt){mt?At.find("#"+it.id).removeClass("background"):At.find("#"+it.id).addClass("background")};var pt={"click .op-setting-item":function(mt,ht,Pt){mt.preventDefault();var Xt=St(mt.currentTarget).attr("op-data-value");Xt==="AUTO"?ut.setAutoQuality(!ut.isAutoQuality()):ut.setCurrentQuality(parseInt(Xt)),ft.clear()},"click .op-setting-title":function(mt,ht,Pt){mt.preventDefault(),ft.removeLastItem()}};return nr(dt,"QualityPanel",ut.getConfig(),it,pt,(function(mt,ht){ut.on(Dr,(function(Pt){var Xt=Pt.currentQuality;Pt.type==="render"&&f().forEach(At.find("#"+ht.data.id).find(".op-setting-item").get(),(function(pe){var Kt=St(pe);Kt.find(".op-setting-item-checked").hasClass("op-show")&&Kt.find(".op-setting-item-checked").removeClass("op-show"),Pt.isAuto||Xt!==parseInt(Kt.attr("op-data-value"))||Kt.find(".op-setting-item-checked").addClass("op-show"),Pt.isAuto&&Kt.attr("op-data-value")==="AUTO"&&Kt.find(".op-setting-item-checked").addClass("op-show")}))}),ht)}),(function(mt){ut.off(Dr,null,mt)}))})(R,S,Y(S,lt)):lt==="audioTrack"?ct=(function(dt,ut,it){var At=St(ut.getContainerElement()),ft=wi();it.setFront=function(mt){mt?At.find("#"+it.id).removeClass("background"):At.find("#"+it.id).addClass("background")};var pt={"click .op-setting-item":function(mt,ht,Pt){mt.preventDefault();var Xt=St(mt.currentTarget).attr("op-data-value");ut.setCurrentAudioTrack(parseInt(Xt)),ft.clear()},"click .op-setting-title":function(mt,ht,Pt){mt.preventDefault(),ft.removeLastItem()}};return nr(dt,"AudioTrackPanel",ut.getConfig(),it,pt,(function(mt,ht){ut.on(Ii,(function(Pt){f().forEach(At.find("#"+ht.data.id).find(".op-setting-item").get(),(function(Xt){var pe=St(Xt);pe.find(".op-setting-item-checked").hasClass("op-show")&&pe.find(".op-setting-item-checked").removeClass("op-show"),Pt.currentAudioTrack===parseInt(pe.attr("op-data-value"))&&pe.find(".op-setting-item-checked").addClass("op-show")}))}),ht)}),(function(mt){ut.off(Ii,null,mt)}))})(R,S,Y(S,lt)):lt==="subtitleTrack"?ct=(function(dt,ut,it){var At=St(ut.getContainerElement()),ft=wi();it.setFront=function(mt){mt?At.find("#"+it.id).removeClass("background"):At.find("#"+it.id).addClass("background")};var pt={"click .op-setting-item":function(mt,ht,Pt){mt.preventDefault();var Xt=St(mt.currentTarget).attr("op-data-value");ut.setCurrentSubtitleTrack(parseInt(Xt)),ft.clear()},"click .op-setting-title":function(mt,ht,Pt){mt.preventDefault(),ft.removeLastItem()}};return nr(dt,"SubtitleTrackPanel",ut.getConfig(),it,pt,(function(mt,ht){ut.on(Yt,(function(Pt){f().forEach(At.find("#"+ht.data.id).find(".op-setting-item").get(),(function(Xt){var pe=St(Xt);pe.find(".op-setting-item-checked").hasClass("op-show")&&pe.find(".op-setting-item-checked").removeClass("op-show"),Pt.currentSubtitleTrack===parseInt(pe.attr("op-data-value"))&&pe.find(".op-setting-item-checked").addClass("op-show")}))}),ht)}),(function(mt){ut.off(Yt,null,mt)}))})(R,S,Y(S,lt)):lt==="caption"?ct=(function(dt,ut,it){var At=St(ut.getContainerElement()),ft=wi();it.setFront=function(mt){mt?At.find("#"+it.id).removeClass("background"):At.find("#"+it.id).addClass("background")};var pt={"click .op-setting-item":function(mt,ht,Pt){mt.preventDefault();var Xt=St(mt.currentTarget).attr("op-data-value");ut.setCurrentCaption(parseFloat(Xt)),ft.clear()},"click .op-setting-title":function(mt,ht,Pt){mt.preventDefault(),ft.removeLastItem()}};return nr(dt,"CaptionPanel",ut.getConfig(),it,pt,(function(mt,ht){}),(function(mt){}))})(R,S,Y(S,lt)):lt==="display"&&(ct=(function(dt,ut,it){var At=St(ut.getContainerElement()),ft=wi();it.setFront=function(mt){mt?At.find("#"+it.id).removeClass("background"):At.find("#"+it.id).addClass("background")};var pt={"click .op-setting-item":function(mt,ht,Pt){mt.preventDefault();var Xt=St(mt.currentTarget).attr("op-data-value");ut.setTimecodeMode(Xt==="Play time"),ft.clear()},"click .op-setting-title":function(mt,ht,Pt){mt.preventDefault(),ft.removeLastItem()}};return nr(dt,"TimeDisplayPanel",ut.getConfig(),it,pt,(function(mt,ht){}),(function(mt){}))})(R,S,Y(S,lt))),P.add(ct)},"click .op-setting-title":function(nt,rt,yt){if(nt.preventDefault(),k.find("#"+I.id).hasClass("background"))return!1;P.removeLastItem()}};return nr(R,"Panels",S.getConfig(),I,st,(function(nt,rt){k.find(".op-setting-panel")&&k.find(".op-setting-panel").css("max-height",k.height()-k.find(".op-bottom-panel").height()+"px"),S.on(Dr,(function(yt){var lt=yt.currentQuality;yt.type==="render"&&k.find("#"+rt.data.id).find(".op-setting-item")&&f().forEach(k.find("#"+rt.data.id).find(".op-setting-item").get()||[],(function(ct){var dt=St(ct);if(dt.attr("op-panel-type")==="quality"){var ut=S.getQualityLevels()[lt];dt.find(".op-setting-item-value").text(ut.width+"x"+ut.height+", "+wo(ut.bitrate,!0,"bps"))}}))}),rt),S.on(Ii,(function(yt){f().forEach(k.find("#"+rt.data.id).find(".op-setting-item").get()||[],(function(lt){var ct=St(lt);ct.attr("op-panel-type")==="audioTrack"&&ct.find(".op-setting-item-value").text(S.getAudioTracks()[yt.currentAudioTrack].label)}))}),rt),S.on(Yt,(function(yt){f().forEach(k.find("#"+rt.data.id).find(".op-setting-item").get()||[],(function(lt){var ct=St(lt);ct.attr("op-panel-type")==="subtitleTrack"&&(yt.currentSubtitleTrack===-1?ct.find(".op-setting-item-value").text("Off"):ct.find(".op-setting-item-value").text(S.getSubtitleTracks()[yt.currentSubtitleTrack].label))}))}),rt),S.on(Tn,(function(yt){f().forEach(k.find("#"+rt.data.id).find(".op-setting-item").get()||[],(function(lt){var ct=St(lt);ct.attr("op-panel-type")==="zoom"&&ct.find(".op-setting-item-value").text(Math.round(100*yt.zoomFactor)+"%")}))}),rt)}),(function(nt){S.off(Dr,null,nt),S.off(Ii,null,nt),S.off(Yt,null,nt),S.off(Tn,null,nt)}))},vi={speed:"Speed",speedUnit:"x",source:"Source",quality:"Quality",audioTrack:"Audio",caption:"Caption",display:"Display",zoom:"Zoom",subtitleTrack:"Subtitle"},Lo=function(R,S){var I,k="",P="",j="",Y="",st="",nt="",rt=!1,yt=!1,lt=!1,ct=S.getConfig().browser,dt=ct.os==="Android",ut=ct.os==="iOS",it=St(S.getContainerElement()),At={};rt=S.getPlaylist().length>1,S.getConfig().hidePlaylistIcon===!0&&(rt=!1),S.getConfig().legacyUI===!0&&(rt=!0);var ft={"mouseleave .op-controls":function(pt,mt,ht){pt.preventDefault(),k.setMouseDown(!1),mt.find(".op-volume-slider-container").removeClass("active")},"click .op-playlist-button":function(pt,mt,ht){pt.preventDefault(),(function(Pt,Xt){var pe=St(Xt.getContainerElement()),Kt="",le=Xt.getPlaylist(),fe=le.length,Ft=6,Ht=0,ae=[];function de(kt){var Ut,he,be=Math.ceil(fe/Ft),Fe=Xt.getCurrentPlaylist();ae=le.slice(kt*Ft,kt*Ft+Ft),Kt.find(".op-playlist-body-row").removeChild(),Kt.find(".op-arrow-left").removeClass("disable"),Kt.find(".op-arrow-right").removeClass("disable");for(var ye=0;ye<ae.length;ye++){var ze=kt*Ft+ye;ae[ye].index=ze,Kt.find(".op-playlist-body-row").get().append((Ut=du(ae[ye],Fe===ze),he=void 0,(he=document.createElement("div")).innerHTML=Ut,he.firstChild))}kt===0&&Kt.find(".op-arrow-left").addClass("disable"),kt+1===be&&Kt.find(".op-arrow-right").addClass("disable")}function Ce(){var kt=Xt.getCurrentPlaylist();return Math.ceil((kt+1)/Ft)-1}pe.width()>576?Ft=6:pe.width()<=576&&(Ft=1);var Ee={"click .btn-close":function(kt,Ut,he){kt.preventDefault(),he.destroy()},"click .op-arrow-left":function(kt,Ut,he){kt.preventDefault(),St(kt.target).hasClass("disable")||de(--Ht)},"click .op-arrow-right":function(kt,Ut,he){kt.preventDefault(),St(kt.target).hasClass("disable")||de(++Ht)}};nr(Pt,"PlaylistPanel",Xt.getConfig(),le,Ee,(function(kt,Ut){Kt=kt,de(Ht=Ce()),Xt.on(Me,(function(he){he==="xsmall"&&Ft===6?(Ft=1,de(Ht=Ce())):he!=="small"&&he!=="medium"&&he!=="large"||Ft!==1||(Ft=6,de(Ht=Ce()))}),Ut),Xt.on(_e,(function(he){de(Ht=Ce())}),Ut),kt.get().addEventListener("click",(function(he){for(var be=he.target;be;){if(St(be).hasClass("op-playlist-card"))return void Xt.setCurrentPlaylist(parseInt(St(be).attr("data-index")));be=be.parentElement}}),!0)}),(function(kt){Xt.off(Me,null,kt),Xt.off(_e,null,kt)}))})(mt,S)}};return nr(R,"Controls",S.getConfig(),rt,ft,(function(pt,mt){function ht(Ft,Ht){Y&&Y.destroy(),Y=(function(ae,de,Ce,Ee){var kt=St(de.getContainerElement());de.getConfig().disableSeekUI&&ae.addClass("op-progressbar-container-disabled");var Ut=0,he=!1,be=!1,Fe=wi(),ye="",ze=0,Ge=null,Ie="",pn="",Oe="",Ye="",An="",wn="",In=0,$n="",on="",cn=de.getBrowser().mobile,yn=de.getMediaElement(),Xe=!1,Be=!1;function Dn(Ke){Ke<0&&(Ke=0),Ke>1&&(Ke=1);var On=Ie.width(),vn=On*Ke;Oe.css("width",vn+"px"),Ye.css("left",vn+"px");var Zn=(On-In)*Ke;An.css("left",Zn+"px"),Ut=vn}function Br(Ke){var On=Ie.width()*Ke;Ye.css("width",(Ke===0?Ke:On-Ut)+"px")}function Xr(Ke){var On=Ie.width(),vn=Ie.offset().left,Zn=Ke.pageX;Ke.touches&&(Zn=Ke.pageX||Ke.touches[0].clientX);var ar=(Zn-vn)/On;return ar<0?0:ar>1?1:ar}function hs(Ke,On){if(Fe.size()>0||Ke<0)return $n.hide(),void on.hide();$n.show(),on.show();var vn,Zn=As(Ke);vn=Zn.second;var ar=$n.width(),yi=Ie.width(),gs=yi*Ke,no=On.pageX-Ie.offset().left;On.touches&&(no=(On.pageX||On.touches[0].clientX)-Ie.offset().left);var Io=function(ms){return no<ms/2?0:yi-no<ms/2?yi-ms:gs-ms/2},ro=Io(ar);if($n.css("left",ro+"px"),de.getSources()[de.getCurrentSource()].gridThumbnail){var Do=de.getConfig().gridThumbnail.thumbnailInterval,Ji=de.getConfig().gridThumbnail.originalThumbnailWidth,Vr=de.getConfig().gridThumbnail.originalThumbnailHeight,ps=de.getConfig().gridThumbnail.columnCount,io=de.getConfig().gridThumbnail.rowCount,Vs=de.getConfig().gridThumbnail.resizeScale;on.css("width",Ji*Vs+"px"),on.css("height",Vr*Vs+"px"),on.css("background-size",Ji*Vs*ps+"px "+Vr*Vs*io+"px");var ko=Math.floor(vn/Do),yu=Math.floor(ko/(ps*io)),Mr=Math.floor(ko%(ps*io)/ps),Bo=ko%(ps*io)%ps,so=-1*Bo*Ji*Vs,ao=-1*Mr*Vr*Vs;OvenPlayerConsole.log("Grid Thumbnail:",ko+": "+yu+"("+Mr+", "+Bo+")");var oo=de.getSources()[de.getCurrentSource()].gridThumbnail[yu];ye!==oo&&(on.css("background-image","url("+oo+")"),ye=oo),on.css("background-position","left "+so+"px top "+ao+"px");var ga=Io(Ji*Vs);on.css("left",ga+"px")}else on.hide()}function zs(Ke){var On=(ze||0)*Ke;if(Xe)if(Be){var vn=Ni(yn),Zn=vn.end-vn.start;On=vn.start+Zn*Ke}else{var ar=de.getDvrWindow();On=ze-ar+ar*Ke}var yi=de.getSources()[de.getCurrentSource()].sectionStart;yi&&yi>0&&(On+=yi),de.seek(On)}function As(Ke){var On=0,vn=0;if(Xe&&!Be)vn=(On=de.getDvrWindow())*(1-Ke),de.isTimecodeMode()?$n.text("- "+m(vn)):$n.text("- "+Math.round(vn*de.getFramerate()));else if(Xe&&Be){var Zn=Ni(yn);vn=(On=Zn.end-Zn.start)*(1-Ke),de.isTimecodeMode()?$n.text("- "+m(vn)):$n.text("- "+Math.round(vn*de.getFramerate()))}else vn=(On=de.getDuration())*Ke,de.isTimecodeMode()?$n.text(m(vn)):$n.text(Math.round(vn*de.getFramerate()));return{duration:On,second:vn}}Ee&&Ee.type===Te&&Ee.duration===1/0&&(Xe=!0,de.getProviderName()===Ne&&(Be=!0));var Aa={"touchstart .op-progressbar":function(Ke){if(Ce)return!1;be=!0;var On=Xr(Ke);if(On<0)return!1;Dn(On),Br(0),zs(On)},"touchmove .op-progressbar":function(Ke){if(be){var On=Xr(Ke);if(On<0)return!1;Dn(On),Br(0),zs(On),Ge=Ke,hs(On,Ke)}},"touchend .op-progressbar":function(Ke){be&&(be=!1),kt.removeClass("op-progressbar-hover"),$n.hide(),on.hide()},"mouseenter .op-progressbar":function(Ke,On,vn){Ke.preventDefault(),cn||(Ce||(he=!0,$n.show()),kt.addClass("op-progressbar-hover"))},"mouseleave .op-progressbar":function(Ke,On,vn){Ke.preventDefault(),be=!1,(he=!1)||(kt.removeClass("op-progressbar-hover"),$n.hide(),on.hide()),Br(0)},"mousedown .op-progressbar":function(Ke,On,vn){if(Ke.preventDefault(),Ce||cn)return!1;be=!0;var Zn=Xr(Ke);if(Zn<0||Zn>1)return!1;Dn(Zn),Br(0),zs(Zn)},"mousemove .op-progressbar":function(Ke,On,vn){if(Ke.preventDefault(),!be&&!Ce&&!cn){var Zn=Xr(Ke);Br(Zn),Ge=Ke,hs(Zn,Ke)}if(be&&!cn){var ar=Xr(Ke);if(ar<0)return!1;Dn(ar),Br(0),zs(ar),Ge=Ke,hs(ar,Ke)}},"mouseup .op-progressbar":function(Ke,On,vn){Ke.preventDefault(),be&&!cn&&(be=!1,kt.removeClass("op-progressbar-hover"))}};return de.getConfig().disableSeekUI&&(Aa={}),nr(ae,"ProgressBar",de.getConfig(),null,Aa,(function(Ke,On){Ie=Ke,pn=Ke.find(".op-load-progress"),Oe=Ke.find(".op-play-progress"),Ye=Ke.find(".op-hover-progress"),An=Ke.find(".op-progressbar-knob-container"),wn=Ke.find(".op-progressbar-knob"),In=wn.width(),$n=Ke.find(".op-progressbar-time"),on=Ke.find(".op-progressbar-preview"),wn.hide(),Ce?de.on(sr,(function(vn){vn&&vn.duration&&typeof vn.position=="number"&&(Dn(vn.position/vn.duration),vn.duration)}),On):(de.on(or,(function(vn){if(vn&&vn.duration&&typeof vn.position=="number"){wn.show(),ze=vn.duration;var Zn=vn.position/vn.duration;if(Xe)if(Be){var ar=Ni(yn);Zn=(vn.position-ar.start)/(ar.end-ar.start)}else he&&Ge&&As(Xr(Ge)),Zn=(de.getDvrWindow()-(vn.duration-vn.position))/de.getDvrWindow();Dn(Zn)}}),On),de.on(Fr,(function(vn){var Zn,ar;vn&&vn.bufferPercent&&(Zn=vn.bufferPercent/100,ar=Ie.width()*Zn,pn.css("width",ar+"px"))}),On))}),(function(Ke){Ce?de.off(sr,null,Ke):(de.off(or,null,Ke),de.off(Fr,null,Ke))}))})(pt.find(".op-progressbar-container"),S,Ft,Ht)}function Pt(){j&&j.destroy(),j=(function(Ft,Ht){var ae=wi(),de={"click .op-setting-button":function(Ce,Ee,kt){Ce.preventDefault();var Ut=Ee.closest(".op-controls-container");if(ae.size()>0)ae.clear();else{var he=(function(be){var Fe={id:"panel-"+new Date().getTime(),title:"Settings",body:[],isRoot:!0,panelType:""},ye=be.getConfig();ye&&ye.systemText&&(Object.keys(vi).forEach((function(As){vi[As]=ye.systemText.ui.setting[As]})),Fe.title=ye.systemText.ui.setting.title);var ze=be.getSources(),Ge=ze&&ze.length>0?ze[be.getCurrentSource()]:null,Ie=be.getQualityLevels(),pn=Ie&&Ie.length>0?Ie[be.getCurrentQuality()]:null,Oe=be.getAudioTracks(),Ye=Oe&&Oe.length>0?Oe[be.getCurrentAudioTrack()]:null,An=be.getCaptionList(),wn=be.getCurrentCaption(),In=be.getFramerate(),$n=ye.showZoomSettings,on=be.getSubtitleTracks(),cn=null;if(on&&on.length&&be.getCurrentSubtitleTrack()>-1&&(cn=on[be.getCurrentSubtitleTrack()]),Ge){var yn={title:vi.speed,value:be.getPlaybackRate()+vi.speedUnit,description:be.getPlaybackRate()+vi.speedUnit,panelType:"speed",hasNext:!0};Fe.body.push(yn)}if(ze&&ze.length>1){var Xe={title:vi.source,value:Ge?Ge.label:"Default",description:Ge?Ge.label:"Default",panelType:"source",hasNext:!0};Fe.body.push(Xe)}if(Ie&&Ie.length>0){var Be={title:vi.quality,value:pn?pn.label:"Default",description:pn?pn.label:"Default",panelType:"quality",hasNext:!0};Fe.body.push(Be)}if(Oe&&Oe.length>0){var Dn={title:vi.audioTrack,value:Ye?Ye.label:"Default",description:Ye?Ye.label:"Default",panelType:"audioTrack",hasNext:!0};Fe.body.push(Dn)}if(on&&on.length>0){var Br={title:vi.subtitleTrack,value:cn?cn.label:"Off",description:cn?cn.label:"Off",panelType:"subtitleTrack",hasNext:!0};Fe.body.push(Br)}if(An&&An.length>0){var Xr={title:vi.caption,value:An[wn]?An[wn].label:"Off",description:An[wn]?An[wn].label:"Off",panelType:"caption",hasNext:!0};Fe.body.push(Xr)}if(In>0){var hs={title:vi.display,value:be.isTimecodeMode()?"Play time":"Framecode",description:be.isTimecodeMode()?"Play time":"Framecode",panelType:"display",hasNext:!0};Fe.body.push(hs)}if($n){var zs={title:vi.zoom,value:Math.round(100*be.getZoomFactor())+"%",description:Math.round(100*be.getZoomFactor())+"%",panelType:"zoom",hasNext:!0};Fe.body.push(zs)}return Fe})(Ht);ae.add(Al(Ut,Ht,he))}}};return nr(Ft,"SettingButton",Ht.getConfig(),null,de,(function(Ce,Ee){}),(function(Ce){}))})(pt.find(".setting-holder"),S)}function Xt(){nt||(nt=(function(Ft,Ht){var ae=St(Ht.getContainerElement()),de="",Ce="",Ee=!1,kt=(Ht.getConfig(),Ht.getBrowser()),Ut=kt.os==="iOS",he=(kt.os,""),be=!1,Fe={onfullscreenchange:"fullscreenchange",onmozfullscreenchange:"mozfullscreenchange",onwebkitfullscreenchange:"webkitfullscreenchange",MSFullscreenChange:"MSFullscreenChange"};function ye(){var Ye=!1,An=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;return An&&ae.get()===An&&(Ye=!0),Ye}function ze(){OvenPlayerConsole.log("FULLSCREEN STATE : ",ye()),ye()?(be&&document.body.classList.add("op-fullscreen-helper"),ae.addClass("op-fullscreen"),Ee=!0,de.hide(),Ce.show()):(be&&document.body.classList.remove("op-fullscreen-helper"),ae.removeClass("op-fullscreen"),Ee=!1,de.show(),Ce.hide())}function Ge(){OvenPlayerConsole.log("afterFullScreenChangedCallback () "),ze(),Ht.trigger(hn,Ee)}function Ie(){Ee?(ae.removeClass("op-fullscreen"),document.body.classList.remove("op-fullscreen-helper"),Ee=!1,de.show(),Ce.hide()):(document.body.classList.add("op-fullscreen-helper"),ae.addClass("op-fullscreen"),Ee=!0,de.hide(),Ce.show()),Ht.trigger(hn,Ee)}function pn(){var Ye;!Ee||Ut&&!ye()?Ut&&Ht.getConfig().iOSFakeFullScreen?(be=!0,Ie()):(function(){var An,wn="",In=ae.get(),$n=ae.find("video")?ae.find("video").get():In,on=null;if(Ut){if($n.length>1)for(var cn=0;cn<$n.length;cn++){var yn=$n[cn].getAttribute("title");yn&&yn==="Advertisement"?on=$n[cn]:An=$n[cn]}else An=$n;on&&Ht.getState()===De||Ht.getState()===Rt||Ht.getState()===me?on.webkitEnterFullScreen&&(wn=on.webkitEnterFullScreen(),Ee=!0):An.webkitEnterFullScreen&&(wn=An.webkitEnterFullScreen(),Ee=!0)}else if(In.requestFullscreen){var Xe=Ht.getConfig().fullscreenOption;wn=In.requestFullscreen(Xe)}else In.webkitRequestFullScreen?wn=In.webkitRequestFullScreen():In.mozRequestFullScreen?wn=In.mozRequestFullScreen():In.msRequestFullscreen&&(wn=In.msRequestFullscreen());wn&&wn.then((function(){Ee=!0,be=!1})).catch((function(Be){be=!0,Ie()}))})():be?Ie():(Ye="",document.exitFullscreen?Ye=document.exitFullscreen():document.webkitExitFullscreen?Ye=document.webkitExitFullscreen():document.webkitExitFullScreen?Ye=document.webkitExitFullScreen():document.mozCancelFullScreen?Ye=document.mozCancelFullScreen():document.msExitFullscreen&&(Ye=document.msExitFullscreen()),Ye&&Ye.then((function(){Ee=!1})).catch((function(An){})))}Ht.toggleFullScreen=pn;var Oe={"click .op-fullscreen-button":function(Ye,An,wn){Ye.preventDefault(),Ht.trigger("fullscreenRequested",null),pn()}};return nr(Ft,"FullScreenButton",Ht.getConfig(),null,Oe,(function(Ye,An){var wn,In;de=Ye.find(".op-fullscreen-expand"),Ce=Ye.find(".op-fullscreen-compress"),ze(),wn=ae.get(),In="",wn.requestFullscreen?In=Fe.onfullscreenchange:wn.webkitRequestFullScreen?In=Fe.onwebkitfullscreenchange:wn.mozRequestFullScreen?In=Fe.onmozfullscreenchange:wn.msRequestFullscreen?In=Fe.MSFullscreenChange:Object.keys(Fe).forEach((function($n){document[$n]&&(In=Fe[$n])})),(he=In)&&document.addEventListener(he,Ge,!1),Ht.on(zn,(function($n){var on,cn=ae.find("video")?ae.find("video").get():ae.get();if($n.isLinear&&Ut&&Ee){if(cn.length>1)for(var yn=0;yn<cn.length;yn++){var Xe=cn[yn].getAttribute("title");Xe&&Xe==="Advertisement"?cn[yn]:on=cn[yn]}else on=cn;on&&on.webkitExitFullscreen&&(on.webkitExitFullscreen(),Ee=!1)}}),An)}),(function(Ye){he&&document.removeEventListener(he,Ge),Ht.off(zn,null,Ye)}))})(pt.find(".fullscreen-holder"),S))}function pe(Ft){Ft.duration>9e15&&(Ft.duration=1/0);var Ht=S.getSources()[S.getCurrentSource()].sectionStart,ae=S.getSources()[S.getCurrentSource()].sectionEnd;ae&&(Ft.duration=ae),Ht&&(Ft.duration=Ft.duration-Ht),(function(de){st&&st.destroy(),st=(function(Ce,Ee,kt){var Ut="",he="",be="",Fe=Ee.getMediaElement(),ye=!1,ze=!1,Ge=0;function Ie(Oe){return m(Oe)}var pn={"click .op-live-text":function(Oe,Ye,An){if(Oe.preventDefault(),ye&&!ze){var wn=Ee.getMseInstance().liveSyncPosition;Ee.seek(wn)}else ye&&ze&&Ee.seek(Ni(Fe).end)}};return nr(Ce,"TimeDisplay",Ee.getConfig(),kt,pn,(function(Oe,Ye){Ge=0;var An=Ee.isTimecodeMode();Ut=Oe.find(".op-time-current"),he=Oe.find(".op-time-duration"),be=Oe.find(".op-live-badge"),Oe.find(".op-live-text"),kt&&kt.type===Te&&kt.duration===1/0&&(ye=!0,Ee.getProviderName()===Ne&&(ze=!0)),kt.duration!==1/0?(An?he.text(Ie(kt.duration)):(Ut.text(0),he.text(Math.round(kt.duration*Ee.getFramerate())+" ("+Ee.getFramerate()+"fps)")),Ee.on(Gn,(function(wn){(An=wn)?(Ut.text(Ie(Ge)),he.text(Ie(kt.duration))):(Ut.text(Math.round(Ge*Ee.getFramerate())),he.text(Math.round(kt.duration*Ee.getFramerate())+" ("+Ee.getFramerate()+"fps)"))}),Ye),Ee.on(or,(function(wn){Ge=wn.position,An?Ut.text(Ie(wn.position)):Ut.text(Math.round(wn.position*Ee.getFramerate()))}),Ye)):ye&&!ze?Ee.on(or,(function(wn){Ee.getConfig().legacyUI||(Ee.getMseInstance().liveSyncPosition-wn.position>Ee.getMseInstance().targetLatency?be.addClass("op-live-badge-delayed"):be.removeClass("op-live-badge-delayed"))}),Ye):ye&&ze&&be.addClass("op-live-badge-none")}),(function(Oe){Ee.off(Gn,null,Oe),Ee.off(or,null,Oe)}))})(pt.find(".op-left-controls"),S,de)})(Ft),Xt(),S.getFramerate&&S.getFramerate(),Ft.duration===1/0?(OvenPlayerConsole.log("[[[[LIVE MODE]]]]"),Ft.type===Te?ht(!1,Ft):Y&&Y.destroy()):ht(!1),yt=!0}function Kt(){Y&&Y.destroy(),Pt(),Xt(),it.removeClass("linear-ad"),ht(!1)}P=(function(Ft,Ht){var ae="",de="",Ce="",Ee="",kt="",Ut="",he="",be={"click .op-play-button":function(Fe,ye,ze){Fe.preventDefault();var Ge=Ht.getState(),Ie=Ht.getPlaylist(),pn=Ht.getCurrentPlaylist();Ge===We?Ht.play():Ge===sn||Ge===Rt?Ht.pause():Ge===Ae||Ge===oe?Ht.stop():Ge===Rn||Ge===me?Ht.play():Ge===te?Ht.setCurrentSource(Ht.getCurrentSource()):Ge===$e&&Ie.length===pn+1&&(Ht.seek(0),Ht.play())},"click .op-seek-button-back":function(Fe,ye,ze){var Ge=Ht.getConfig().seekControlInterval;Ge||(Ge=10);var Ie=Ht.getPosition()-Ge;Ie<0&&(Ie=0),Ht.seek(Ie)},"click .op-seek-button-forward":function(Fe,ye,ze){var Ge=Ht.getConfig().seekControlInterval;Ge||(Ge=10);var Ie=Ht.getPosition()+Ge;Ie>Ht.getDuration()&&(Ie=Ht.getDuration()),Ht.seek(Ie)}};return nr(Ft,"PlayButton",Ht.getConfig(),null,be,(function(Fe,ye){ae=Fe.find(".op-play-button .op-play"),de=Fe.find(".op-play-button .op-pause"),Ce=Fe.find(".op-play-button .op-replay"),Ee=Fe.find(".op-seek-button-back"),kt=Fe.find(".op-seek-button-forward"),Ut=Fe.find(".op-seek-back-text"),he=Fe.find(".op-seek-forward-text"),Ht.on(gn,(function(Ge){var Ie;Ge&&Ge.newstate&&(Ie=Ge.newstate,ae.hide(),de.hide(),Ce.hide(),Ie===sn||Ie===Rt||Ie===Ae||Ie===oe?de.show():Ie===Rn||Ie===me?ae.show():Ie===$e?Ce.show():ae.show())}),ye),Ht.getConfig().showSeekControl||(Ee.hide(),kt.hide());var ze=Ht.getConfig().seekControlInterval;ze?(Ut.text(ze),he.text(ze)):(Ut.text(10),he.text(10))}),(function(Fe){Ht.off(gn,null,Fe)}))})(pt.find(".op-left-controls"),S),k=(function(Ft,Ht){var ae="",de="",Ce="",Ee="",kt="",Ut="",he="",be=!1,Fe=0,ye=Ht.getBrowser().os==="iOS"||Ht.getBrowser().os==="Android";function ze(Oe){Ht.getMute()&&(Oe=0),(function(An){kt.hide(),Ut.hide(),he.hide(),An>=70?kt.show():An<70&&An>0?Ut.show():An==0?he.show():kt.show()})(Oe);var Ye=Fe*Oe/100;Ce.css("left",Ye+"px"),Ee.css("width",Ye+"px")}function Ge(Oe){var Ye=((Oe.pageX||Oe.touches[0].clientX)-de.offset().left)/70*100;return Ye<0&&(Ye=0),Ye>100&&(Ye=100),Ye}var Ie={"click .op-volume-button":function(Oe,Ye,An){Oe.preventDefault(),ye||(Ht.getVolume()===0?(Ht.setMute(!1),Ht.setVolume(100)):Ht.setMute())},"mouseenter .op-volume-button":function(Oe,Ye,An){Oe.preventDefault(),ye||ae.addClass("active")},"mouseleave .op-volume-silder":function(Oe,Ye,An){Oe.preventDefault(),be=!1},"mousedown .op-volume-silder":function(Oe,Ye,An){Oe.preventDefault(),be=!0,Ht.setMute(!1),Ht.setVolume(Ge(Oe))},"mouseup .op-volume-silder":function(Oe,Ye,An){Oe.preventDefault(),be=!1},"mousemove .op-volume-silder":function(Oe,Ye,An){if(Oe.preventDefault(),!be)return!1;Ht.setVolume(Ge(Oe))},"touchstart .op-volume-button":function(Oe){ye&&(Ht.getMute()?Ht.setMute(!1):Ht.setMute(!0))}},pn=nr(Ft,"VolumeButton",Ht.getConfig(),null,Ie,(function(Oe,Ye){ae=Oe.find(".op-volume-slider-container"),Ht.getBrowser().mobile&&ae.hide(),de=Oe.find(".op-volume-silder"),Ce=Oe.find(".op-volume-slider-handle"),Ee=Oe.find(".op-volume-slider-value"),kt=Oe.find(".op-volume-max"),Ut=Oe.find(".op-volume-small"),he=Oe.find(".op-volume-mute"),Fe=64,Ce.css("left",Fe+"px"),ze(Ht.getVolume()),Ht.on(dn,(function(){ze(Ht.getVolume())}),Ye),Ht.on(Ir,(function(An){ze(An.volume)}),Ye),Ht.on(ai,(function(An){An.mute?ze(0):ze(Ht.getVolume())}),Ye)}),(function(Oe){Ht.off(dn,null,Oe),Ht.off(Ir,null,Oe),Ht.off(ai,null,Oe)}));return pn.setMouseDown=function(Oe){be=Oe},pn})(pt.find(".op-left-controls"),S);var le=S.getPlaylist(),fe=S.getCurrentPlaylist();le&&le[fe]&&le[fe].adTagUrl||Pt(),Xt(),S.on(dn,(function(){pt.show()}),mt),S.on(Lr,(function(Ft){I=Ft.duration,At=Ft,Ft.isP2P=lt,pe(Ft)}),mt),S.on(or,(function(Ft){(dt||S&&S.getProviderName&&S.getProviderName()==="rtmp")&&!I&&At&&At.duration!==Ft.duration&&(At=Ft,pe(Ft))}),mt),S.on(Me,(function(Ft){it.find(".op-setting-panel")&&it.find(".op-setting-panel").css("max-height",it.height()-it.find(".op-bottom-panel").height()+"px")}),mt),S.on(hi,(function(Ft){lt=Ft}),mt),S.on(Le,(function(){if(!yt){var Ft="";S.getSources().length>0&&S.getSources()[S.getCurrentSource()]&&S.getSources()[S.getCurrentSource()].type&&(Ft=S.getSources()[S.getCurrentSource()].type),pe({isP2P:lt,duration:S.getDuration(),type:Ft})}pt.show()}),mt),S.on(qe,(function(Ft){pt.show()}),mt),S.on(zn,(function(Ft){Ft.isLinear?(it.addClass("linear-ad"),ht(!0),j&&j.destroy(),ut&&nt&&nt.destroy()):it.removeClass("linear-ad")}),mt),S.on(ke,(function(){Kt()}),mt),S.on(Yn,(function(){Kt()}),mt),S.on(Tr,(function(){Kt()}),mt)}),(function(pt){S.off(Lr,null,pt),S.off(or,null,pt),S.off(ke,null,pt),S.off(zn,null,pt),S.off(hi,null,pt),S.off(Yn,null,pt),S.off(Me,null,pt),S.off(Tr,null,pt),st&&st.destroy(),P&&P.destroy(),Y&&Y.destroy(),nt&&nt.destroy(),k&&k.destroy()}))},hu=e(88769),Au=e.n(hu),Jc=e(85072),tf=e.n(Jc),ef=e(97825),nf=e.n(ef),rf=e(77659),Li=e.n(rf),to=e(55056),gu=e.n(to),pu=e(10540),mu=e.n(pu),vu=e(41113),gl=e.n(vu),Ro=e(69534),Qi={};Qi.styleTagTransform=gl(),Qi.setAttributes=gu(),Qi.insert=Li().bind(null,"head"),Qi.domAPI=nf(),Qi.insertStyleElement=mu(),tf()(Ro.A,Qi),Ro.A&&Ro.A.locals&&Ro.A.locals;var ha,eo=function(R){var S,I="",k="",P="",j="",Y=null,st="",nt=!1,rt=wi(),yt="",lt="",ct=null,dt={};function ut(ht,Pt){if(st&&(clearTimeout(st),st=null),ht){if(rt.size()>0)return!1;S.addClass("op-autohide")}else S.removeClass("op-autohide"),Pt&&(st=setTimeout((function(){if(rt.size()>0)return!1;S.addClass("op-autohide")}),3e3))}function it(){Y.play()}function At(ht,Pt){var Xt,pe=Y.getDuration(),Kt=Y.getPosition();Xt=Pt?Math.max(Kt-ht,0):Math.min(Kt+ht,pe),Y.seek(Xt)}function ft(ht){var Pt,Xt=Y.getVolume();Pt=ht?Math.min(Xt+5,100):Math.max(Xt-5,0),Y.setVolume(Pt)}function pt(){var ht=S.width();ht<576?(yt="xsmall",S.addClass("xsmall"),ht<490&&S.addClass("xxsmall")):ht<768?(yt="small",S.addClass("small")):ht<992?(yt="medium",S.addClass("medium")):(yt="large",S.addClass("large"))}var mt={"click .ovenplayer":function(ht,Pt,Xt){if(Y&&Y.trigger(He,ht),j)return ht.preventDefault(),j.destroy(),j=null,!1;if(!St(ht.target).closest(".op-controls-container")&&!St(ht.target).closest(".op-setting-panel")){if(rt.size()>0)return ht.preventDefault(),rt.clear(),!1;Y.getDuration()===1/0||Y.getBrowser().mobile||it()}},"dblclick .ovenplayer":function(ht,Pt,Xt){if(Y){var pe=(function(Ht){var ae=Ht.target.getBoundingClientRect();return Ht.offsetX>=.6666666666666666*ae.width?"right":Ht.offsetX>=.3333333333333333*ae.width?"middle":"left"})(ht),Kt=Y.getPosition(),le=Y.getConfig().doubleTapToSeek;if(le&&pe=="left"){var fe=Math.max(Kt-10,0);OvenPlayerConsole.log("Seeking to ".concat(fe)),Y.seek(fe)}if(le&&pe==="right"){var Ft=Math.min(Kt+10,Y.getDuration());OvenPlayerConsole.log("Seeking to ".concat(Ft)),Y.seek(Ft)}pe!=="middle"&&le||(OvenPlayerConsole.log("Toggling fullscreen"),Y.getConfig().expandFullScreenUI&&Y.toggleFullScreen&&(St(ht.target).closest(".op-controls-container")||St(ht.target).closest(".op-setting-panel")||Y.toggleFullScreen()))}},"touchstart .ovenplayer":function(ht,Pt,Xt){ut(!1,!0)},"mouseenter .ovenplayer":function(ht,Pt,Xt){ht.preventDefault(),ut(!1,!0)},"mousemove .ovenplayer":function(ht,Pt,Xt){ht.preventDefault(),ut(!1,!0)},"mouseleave .ovenplayer":function(ht,Pt,Xt){ht.preventDefault(),ut(!0)},"keydown .ovenplayer":function(ht,Pt,Xt){var pe=Y.getFramerate();switch(ht.keyCode){case 16:ht.preventDefault(),nt=!0;break;case 32:ht.preventDefault(),it();break;case 37:ht.preventDefault(),Y.getConfig().disableSeekUI||(nt&&pe?Y.seekFrame(-1):At(5,!0));break;case 39:ht.preventDefault(),Y.getConfig().disableSeekUI||(nt&&pe?Y.seekFrame(1):At(5,!1));break;case 38:ht.preventDefault(),ft(!0);break;case 40:ht.preventDefault(),ft(!1)}},"keyup .ovenplayer":function(ht,Pt,Xt){ht.keyCode===16&&(ht.preventDefault(),nt=!1)},"contextmenu .ovenplayer":function(ht,Pt,Xt){if(ht.stopPropagation(),!St(ht.currentTarget).find("object"))return ht.preventDefault(),pe=ht.pageX,Kt=ht.pageY,j&&(j.destroy(),j=null),j=(function(le,fe,Ft){var Ht=St(fe.getContainerElement()),ae={"click .op-context-item":function(de,Ce,Ee){de.preventDefault(),window.open("https://github.com/AirenSoft/OvenPlayer","_blank")}};return nr(le,"ContextPanel",fe.getConfig(),Ft,ae,(function(de,Ce){var Ee=de.width(),kt=de.height(),Ut=Math.min(Ft.pageX-Ht.offset().left,Ht.width()-Ee),he=Math.min(Ft.pageY-Ht.offset().top,Ht.height()-kt);de.css("left",Ut+"px"),de.css("top",he+"px")}),(function(){}))})(S,Y,{pageX:pe,pageY:Kt}),!1;var pe,Kt}};return(dt=nr(R,"View",null,R.id,mt,(function(ht,Pt){S=ht,I=Pt,pt(),lt=yt,ct=new(Au())(S.get(),(function(){S.removeClass("large"),S.removeClass("medium"),S.removeClass("small"),S.removeClass("xsmall"),S.removeClass("xxsmall"),pt(),yt!==lt&&(lt=yt,Y&&Y.trigger(Me,lt))}))}),(function(){ct&&(ct.detach(),ct=null),P&&(P.destroy(),P=null),k&&(k.destroy(),k=null)}),!0)).getMediaElementContainer=function(){return S.find(".op-media-element-container").get()},dt.setApi=function(ht){(Y=ht).getContainerElement=function(){return S.get()},Y.getContainerId=function(){return S.get().id},Y.on(dn,(function(le){k||(k=Lo(S.find(".op-ui"),ht)),Pt||S.addClass("op-no-controls"),ut(!1,!0)})),Y.on(qe,(function(le){if(Y){var fe=Y.getSources()||[];k&&fe.length}})),Y.on(re,(function(le){I.destroy()})),Y.on(Le,(function(le){!k&&Pt&&(k=Lo(S.find(".op-ui"),ht))}));var Pt=Y.getConfig()&&Y.getConfig().controls;P=Zc(S.find(".op-ui"),ht),k=Lo(S.find(".op-ui"),ht);var Xt=Y.getConfig().aspectRatio;if(Xt&&Xt.split(":").length===2){var pe=1*Xt.split(":")[0],Kt=1*Xt.split(":")[1]/pe*100;S.find(".op-ratio").css("padding-bottom",Kt+"%")}Y.showControls=function(le,fe){le?(S.removeClass("op-no-controls"),ut(!1,!fe)):S.addClass("op-no-controls")}},dt},pl=(ha={},Object.assign(ha,dl),ha.create=function(R,S){var I=vr(R),k=eo(I),P=dl.create(k.getMediaElementContainer(),S);return k.setApi(P),OvenPlayerConsole.log("[OvenPlayer] v."+o),P},ha)},53439:function(){(function(a){if("window"in a&&"document"in a){document.querySelectorAll||(document.querySelectorAll=function(f){var A,p=document.createElement("style"),m=[];for(document.documentElement.firstChild.appendChild(p),document._qsa=[],p.styleSheet.cssText=f+"{x-qsa:expression(document._qsa && document._qsa.push(this))}",window.scrollBy(0,0),p.parentNode.removeChild(p);document._qsa.length;)(A=document._qsa.shift()).style.removeAttribute("x-qsa"),m.push(A);return document._qsa=null,m}),document.querySelector||(document.querySelector=function(f){var A=document.querySelectorAll(f);return A.length?A[0]:null}),document.getElementsByClassName||(document.getElementsByClassName=function(f){return f=String(f).replace(/^|\s+/g,"."),document.querySelectorAll(f)}),a.Node=a.Node||function(){throw TypeError("Illegal constructor")},[["ELEMENT_NODE",1],["ATTRIBUTE_NODE",2],["TEXT_NODE",3],["CDATA_SECTION_NODE",4],["ENTITY_REFERENCE_NODE",5],["ENTITY_NODE",6],["PROCESSING_INSTRUCTION_NODE",7],["COMMENT_NODE",8],["DOCUMENT_NODE",9],["DOCUMENT_TYPE_NODE",10],["DOCUMENT_FRAGMENT_NODE",11],["NOTATION_NODE",12]].forEach((function(f){f[0]in a.Node||(a.Node[f[0]]=f[1])})),a.DOMException=a.DOMException||function(){throw TypeError("Illegal constructor")},[["INDEX_SIZE_ERR",1],["DOMSTRING_SIZE_ERR",2],["HIERARCHY_REQUEST_ERR",3],["WRONG_DOCUMENT_ERR",4],["INVALID_CHARACTER_ERR",5],["NO_DATA_ALLOWED_ERR",6],["NO_MODIFICATION_ALLOWED_ERR",7],["NOT_FOUND_ERR",8],["NOT_SUPPORTED_ERR",9],["INUSE_ATTRIBUTE_ERR",10],["INVALID_STATE_ERR",11],["SYNTAX_ERR",12],["INVALID_MODIFICATION_ERR",13],["NAMESPACE_ERR",14],["INVALID_ACCESS_ERR",15]].forEach((function(f){f[0]in a.DOMException||(a.DOMException[f[0]]=f[1])})),(function(){function f(p,m,y){if(typeof m=="function"){p==="DOMContentLoaded"&&(p="load");var E=this,C=function(T){T._timeStamp=Date.now(),T._currentTarget=E,m.call(this,T),T._currentTarget=null};this["_"+p+m]=C,this.attachEvent("on"+p,C)}}function A(p,m,y){if(typeof m=="function"){p==="DOMContentLoaded"&&(p="load");var E=this["_"+p+m];E&&(this.detachEvent("on"+p,E),this["_"+p+m]=null)}}"Element"in a&&!Element.prototype.addEventListener&&Object.defineProperty&&(Event.CAPTURING_PHASE=1,Event.AT_TARGET=2,Event.BUBBLING_PHASE=3,Object.defineProperties(Event.prototype,{CAPTURING_PHASE:{get:function(){return 1}},AT_TARGET:{get:function(){return 2}},BUBBLING_PHASE:{get:function(){return 3}},target:{get:function(){return this.srcElement}},currentTarget:{get:function(){return this._currentTarget}},eventPhase:{get:function(){return this.srcElement===this.currentTarget?Event.AT_TARGET:Event.BUBBLING_PHASE}},bubbles:{get:function(){switch(this.type){case"click":case"dblclick":case"mousedown":case"mouseup":case"mouseover":case"mousemove":case"mouseout":case"mousewheel":case"keydown":case"keypress":case"keyup":case"resize":case"scroll":case"select":case"change":case"submit":case"reset":return!0}return!1}},cancelable:{get:function(){switch(this.type){case"click":case"dblclick":case"mousedown":case"mouseup":case"mouseover":case"mouseout":case"mousewheel":case"keydown":case"keypress":case"keyup":case"submit":return!0}return!1}},timeStamp:{get:function(){return this._timeStamp}},stopPropagation:{value:function(){this.cancelBubble=!0}},preventDefault:{value:function(){this.returnValue=!1}},defaultPrevented:{get:function(){return this.returnValue===!1}}}),[Window,HTMLDocument,Element].forEach((function(p){p.prototype.addEventListener=f,p.prototype.removeEventListener=A})))})(),(function(){function f(A,p){p=p||{bubbles:!1,cancelable:!1,detail:void 0};var m=document.createEvent("CustomEvent");return m.initCustomEvent(A,p.bubbles,p.cancelable,p.detail),m}"CustomEvent"in a&&typeof a.CustomEvent=="function"||(f.prototype=a.Event.prototype,a.CustomEvent=f)})(),window.addEvent=function(f,A,p){f.addEventListener?f.addEventListener(A,p,!1):f.attachEvent&&(f["e"+A+p]=p,f[A+p]=function(){var m=window.event;m.currentTarget=f,m.preventDefault=function(){m.returnValue=!1},m.stopPropagation=function(){m.cancelBubble=!0},m.target=m.srcElement,m.timeStamp=Date.now(),f["e"+A+p].call(this,m)},f.attachEvent("on"+A,f[A+p]))},window.removeEvent=function(f,A,p){f.removeEventListener?f.removeEventListener(A,p,!1):f.detachEvent&&(f.detachEvent("on"+A,f[A+p]),f[A+p]=null,f["e"+A+p]=null)},(function(){function f(p,m){function y(T){return T.length?T.split(/\s+/g):[]}function E(T,x){var L=y(x),D=L.indexOf(T);return D!==-1&&L.splice(D,1),L.join(" ")}if(Object.defineProperties(this,{length:{get:function(){return y(p[m]).length}},item:{value:function(T){var x=y(p[m]);return 0<=T&&T<x.length?x[T]:null}},contains:{value:function(T){if((T=String(T)).length===0)throw SyntaxError();if(/\s/.test(T))throw Error("InvalidCharacterError");return y(p[m]).indexOf(T)!==-1}},add:{value:function(){var T=Array.prototype.slice.call(arguments).map(String);if(T.some((function(B){return B.length===0})))throw SyntaxError();if(T.some((function(B){return/\s/.test(B)})))throw Error("InvalidCharacterError");try{var x=p[m],L=y(x);if((T=T.filter((function(B){return L.indexOf(B)===-1}))).length===0)return;x.length===0||/\s$/.test(x)||(x+=" "),x+=T.join(" "),p[m]=x}finally{var D=y(p[m]).length;this.length!==D&&(this.length=D)}}},remove:{value:function(){var T=Array.prototype.slice.call(arguments).map(String);if(T.some((function(D){return D.length===0})))throw SyntaxError();if(T.some((function(D){return/\s/.test(D)})))throw Error("InvalidCharacterError");try{var x=p[m];T.forEach((function(D){x=E(D,x)})),p[m]=x}finally{var L=y(p[m]).length;this.length!==L&&(this.length=L)}}},toggle:{value:function(T){var x=arguments[1];try{if((T=String(T)).length===0)throw SyntaxError();if(/\s/.test(T))throw Error("InvalidCharacterError");var L=y(p[m]).indexOf(T);if(L!==-1&&(!x||x===void 0))return p[m]=E(T,p[m]),!1;if(L!==-1&&x)return!0;var D=p[m];return D.length===0||/\s$/.test(D)||(D+=" "),D+=T,p[m]=D,!0}finally{var B=y(p[m]).length;this.length!==B&&(this.length=B)}}},toString:{value:function(){return p[m]}}}),"length"in this)for(var C=0;C<100;++C)Object.defineProperty(this,String(C),{get:(function(T){return function(){return this.item(T)}})(C)});else this.length=y(p[m]).length}function A(p,m){"Element"in a&&Element.prototype&&Object.defineProperty&&Object.defineProperty(Element.prototype,p,{get:m})}"classList"in document.createElement("span")?window.getClassList=function(p){return p.classList}:(window.getClassList=function(p){return new f(p,"className")},A("classList",(function(){return new f(this,"className")}))),"relList"in document.createElement("link")?window.getRelList=function(p){return p.relList}:(window.getRelList=function(p){return new f(p,"rel")},A("relList",(function(){return new f(this,"rel")}))),(function(){if("DOMTokenList"in a){var p=document.createElement("span");"classList"in p&&(p.classList.toggle("x",!1),p.classList.contains("x")&&(a.DOMTokenList.prototype.toggle=function(m){var y=arguments[1];if(y===void 0){var E=!this.contains(m);return this[E?"add":"remove"](m),E}return this[(y=!!y)?"add":"remove"](m),y}))}})(),"previousElementSibling"in document.documentElement||A("previousElementSibling",(function(){for(var p=this.previousSibling;p&&p.nodeType!==Node.ELEMENT_NODE;)p=p.previousSibling;return p})),"nextElementSibling"in document.documentElement||A("nextElementSibling",(function(){for(var p=this.nextSibling;p&&p.nodeType!==Node.ELEMENT_NODE;)p=p.nextSibling;return p}))})(),"Element"in a&&!Element.prototype.matches&&(Element.prototype.msMatchesSelector?Element.prototype.matches=Element.prototype.msMatchesSelector:Element.prototype.oMatchesSelector?Element.prototype.matches=Element.prototype.oMatchesSelector:Element.prototype.mozMatchesSelector?Element.prototype.matches=Element.prototype.mozMatchesSelector:Element.prototype.webkitMatchesSelector?Element.prototype.matches=Element.prototype.webkitMatchesSelector:document.querySelectorAll&&(Element.prototype.matches=function(f){for(var A=(this.document||this.ownerDocument).querySelectorAll(f),p=A.length;--p>=0&&A.item(p)!==this;);return p>-1})),window.Element&&!Element.prototype.closest&&(Element.prototype.closest=function(f){var A,p=(this.document||this.ownerDocument).querySelectorAll(f),m=this;do for(A=p.length;--A>=0&&p.item(A)!==m;);while(A<0&&(m=m.parentElement));return m});var c={prepend:function(){var f=[].slice.call(arguments);f=u(f),this.insertBefore(f,this.firstChild)},append:function(){var f=[].slice.call(arguments);f=u(f),this.appendChild(f)}};o(a.Document||a.HTMLDocument,c),o(a.DocumentFragment,c),o(a.Element,c);var e={before:function(){var f=[].slice.call(arguments),A=this.parentNode;if(A){for(var p=this.previousSibling;f.indexOf(p)!==-1;)p=p.previousSibling;var m=u(f);A.insertBefore(m,p?p.nextSibling:A.firstChild)}},after:function(){var f=[].slice.call(arguments),A=this.parentNode;if(A){for(var p=this.nextSibling;f.indexOf(p)!==-1;)p=p.nextSibling;var m=u(f);A.insertBefore(m,p)}},replaceWith:function(){var f=[].slice.call(arguments),A=this.parentNode;if(A){for(var p=this.nextSibling;f.indexOf(p)!==-1;)p=p.nextSibling;var m=u(f);this.parentNode===A?A.replaceChild(m,this):A.insertBefore(m,p)}},remove:function(){this.parentNode&&this.parentNode.removeChild(this)}};o(a.DocumentType,e),o(a.Element,e),o(a.CharacterData,e)}function o(f,A){f&&Object.keys(A).forEach((function(p){if(!(p in f)&&!(p in f.prototype))try{Object.defineProperty(f.prototype,p,Object.getOwnPropertyDescriptor(A,p))}catch{f[p]=A[p]}}))}function u(f){var A=null;return f=f.map((function(p){return p instanceof Node?p:document.createTextNode(p)})),f.length===1?A=f[0]:(A=document.createDocumentFragment(),f.forEach((function(p){A.appendChild(p)}))),A}})(self)},88769:function(a,c){var e,o;o=this,(e=(function(){return o.returnExportsGlobal=(function(){var u=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(m){return window.setTimeout(m,20)};function f(){var m,y;this.q=[],this.add=function(E){this.q.push(E)},this.call=function(){for(m=0,y=this.q.length;m<y;m++)this.q[m].call()}}function A(m,y){if(m.resizedAttached){if(m.resizedAttached)return void m.resizedAttached.add(y)}else m.resizedAttached=new f,m.resizedAttached.add(y);m.resizeSensor=document.createElement("div"),m.resizeSensor.className="resize-sensor";var E="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden; opacity: 0;direction: ltr;",C="position: absolute; left: 0; top: 0; transition: 0s;";m.resizeSensor.style.cssText=E,m.resizeSensor.innerHTML='<div class="resize-sensor-expand" style="'+E+'"><div style="'+C+'"></div></div><div class="resize-sensor-shrink" style="'+E+'"><div style="'+C+' width: 200%; height: 200%"></div></div>',m.appendChild(m.resizeSensor),(function(X,tt){return X.currentStyle?X.currentStyle[tt]:window.getComputedStyle?window.getComputedStyle(X,null).getPropertyValue(tt):X.style[tt]})(m,"position")=="static"&&(m.style.position="relative");var T=m.resizeSensor.childNodes[0],x=T.childNodes[0],L=m.resizeSensor.childNodes[1],D=function(){x.style.width="100000px",x.style.height="100000px",T.scrollLeft=1e5,T.scrollTop=1e5,L.scrollLeft=1e5,L.scrollTop=1e5};D();var B,O,_,M,U=!1,Q=function(){m.resizedAttached&&(U&&(m.resizedAttached.call(),U=!1),u(Q))};u(Q);var $=function(){(_=m.offsetWidth)==B&&(M=m.offsetHeight)==O||(U=!0,B=_,O=M),D()},W=function(X,tt,V){X.attachEvent?X.attachEvent("on"+tt,V):X.addEventListener(tt,V)};W(T,"scroll",$),W(L,"scroll",$)}var p=function(m,y){var E=Object.prototype.toString.call(m),C=this._isCollectionTyped=E==="[object Array]"||E==="[object NodeList]"||E==="[object HTMLCollection]"||typeof jQuery<"u"&&m instanceof window.jQuery||typeof Elements<"u"&&m instanceof window.Elements;if(this._element=m,C)for(var T=0,x=m.length;T<x;T++)A(m[T],y);else A(m,y)};return p.prototype.detach=function(){var m=this._isCollectionTyped,y=this._element;if(m)for(var E=0,C=y.length;E<C;E++)p.detach(y[E]);else p.detach(y)},p.detach=function(m){m.resizeSensor&&(m.hasChildNodes()&&m.removeChild(m.resizeSensor),delete m.resizeSensor,delete m.resizedAttached)},p})()}).apply(c,[]))===void 0||(a.exports=e)},69986:function(a,c,e){var o,u,f;function A(p){return A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},A(p)}f=function(){var p="1.13.1",m=(typeof self>"u"?"undefined":A(self))=="object"&&self.self===self&&self||(e.g===void 0?"undefined":A(e.g))=="object"&&e.g.global===e.g&&e.g||Function("return this")()||{},y=Array.prototype,E=Object.prototype,C=typeof Symbol<"u"?Symbol.prototype:null,T=y.push,x=y.slice,L=E.toString,D=E.hasOwnProperty,B=typeof ArrayBuffer<"u",O=typeof DataView<"u",_=Array.isArray,M=Object.keys,U=Object.create,Q=B&&ArrayBuffer.isView,$=isNaN,W=isFinite,X=!{toString:null}.propertyIsEnumerable("toString"),tt=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],V=Math.pow(2,53)-1;function N(H,Z){return Z=Z==null?H.length-1:+Z,function(){for(var gt=Math.max(arguments.length-Z,0),Et=Array(gt),Dt=0;Dt<gt;Dt++)Et[Dt]=arguments[Dt+Z];switch(Z){case 0:return H.call(this,Et);case 1:return H.call(this,arguments[0],Et);case 2:return H.call(this,arguments[0],arguments[1],Et)}var wt=Array(Z+1);for(Dt=0;Dt<Z;Dt++)wt[Dt]=arguments[Dt];return wt[Z]=Et,H.apply(this,wt)}}function K(H){var Z=A(H);return Z==="function"||Z==="object"&&!!H}function at(H){return H===void 0}function G(H){return H===!0||H===!1||L.call(H)==="[object Boolean]"}function q(H){var Z="[object "+H+"]";return function(gt){return L.call(gt)===Z}}var et=q("String"),ot=q("Number"),bt=q("Date"),Ct=q("RegExp"),Tt=q("Error"),$t=q("Symbol"),Vt=q("ArrayBuffer"),jt=q("Function"),ee=m.document&&m.document.childNodes;(typeof Int8Array>"u"?"undefined":A(Int8Array))!="object"&&typeof ee!="function"&&(jt=function(H){return typeof H=="function"||!1});var ce=jt,se=q("Object"),Se=O&&se(new DataView(new ArrayBuffer(8))),Pe=typeof Map<"u"&&se(new Map),je=q("DataView"),xe=Se?function(H){return H!=null&&ce(H.getInt8)&&Vt(H.buffer)}:je,we=_||q("Array");function en(H,Z){return H!=null&&D.call(H,Z)}var En=q("Arguments");(function(){En(arguments)||(En=function(H){return en(H,"callee")})})();var un=En;function We(H){return ot(H)&&$(H)}function $e(H){return function(){return H}}function Rn(H){return function(Z){var gt=H(Z);return typeof gt=="number"&&gt>=0&&gt<=V}}function sn(H){return function(Z){return Z?.[H]}}var te=sn("byteLength"),Ae=Rn(te),oe=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/,De=B?function(H){return Q?Q(H)&&!xe(H):Ae(H)&&oe.test(L.call(H))}:$e(!1),Rt=sn("length");function me(H,Z){Z=(function(Qt){for(var ie={},mn=Qt.length,Cn=0;Cn<mn;++Cn)ie[Qt[Cn]]=!0;return{contains:function(er){return ie[er]},push:function(er){return ie[er]=!0,Qt.push(er)}}})(Z);var gt=tt.length,Et=H.constructor,Dt=ce(Et)&&Et.prototype||E,wt="constructor";for(en(H,wt)&&!Z.contains(wt)&&Z.push(wt);gt--;)(wt=tt[gt])in H&&H[wt]!==Dt[wt]&&!Z.contains(wt)&&Z.push(wt)}function ke(H){if(!K(H))return[];if(M)return M(H);var Z=[];for(var gt in H)en(H,gt)&&Z.push(gt);return X&&me(H,Z),Z}function Yn(H,Z){var gt=ke(Z),Et=gt.length;if(H==null)return!Et;for(var Dt=Object(H),wt=0;wt<Et;wt++){var Qt=gt[wt];if(Z[Qt]!==Dt[Qt]||!(Qt in Dt))return!1}return!0}function Ne(H){return H instanceof Ne?H:this instanceof Ne?void(this._wrapped=H):new Ne(H)}function Ve(H){return new Uint8Array(H.buffer||H,H.byteOffset||0,te(H))}Ne.VERSION=p,Ne.prototype.value=function(){return this._wrapped},Ne.prototype.valueOf=Ne.prototype.toJSON=Ne.prototype.value,Ne.prototype.toString=function(){return String(this._wrapped)};var It="[object DataView]";function Te(H,Z,gt,Et){if(H===Z)return H!==0||1/H==1/Z;if(H==null||Z==null)return!1;if(H!=H)return Z!=Z;var Dt=A(H);return(Dt==="function"||Dt==="object"||A(Z)=="object")&&(function wt(Qt,ie,mn,Cn){Qt instanceof Ne&&(Qt=Qt._wrapped),ie instanceof Ne&&(ie=ie._wrapped);var er=L.call(Qt);if(er!==L.call(ie))return!1;if(Se&&er=="[object Object]"&&xe(Qt)){if(!xe(ie))return!1;er=It}switch(er){case"[object RegExp]":case"[object String]":return""+Qt==""+ie;case"[object Number]":return+Qt!=+Qt?+ie!=+ie:+Qt==0?1/+Qt==1/ie:+Qt==+ie;case"[object Date]":case"[object Boolean]":return+Qt==+ie;case"[object Symbol]":return C.valueOf.call(Qt)===C.valueOf.call(ie);case"[object ArrayBuffer]":case It:return wt(Ve(Qt),Ve(ie),mn,Cn)}var Cr=er==="[object Array]";if(!Cr&&De(Qt)){if(te(Qt)!==te(ie))return!1;if(Qt.buffer===ie.buffer&&Qt.byteOffset===ie.byteOffset)return!0;Cr=!0}if(!Cr){if(A(Qt)!="object"||A(ie)!="object")return!1;var us=Qt.constructor,cs=ie.constructor;if(us!==cs&&!(ce(us)&&us instanceof us&&ce(cs)&&cs instanceof cs)&&"constructor"in Qt&&"constructor"in ie)return!1}Cn=Cn||[];for(var mi=(mn=mn||[]).length;mi--;)if(mn[mi]===Qt)return Cn[mi]===ie;if(mn.push(Qt),Cn.push(ie),Cr){if((mi=Qt.length)!==ie.length)return!1;for(;mi--;)if(!Te(Qt[mi],ie[mi],mn,Cn))return!1}else{var qa,So=ke(Qt);if(mi=So.length,ke(ie).length!==mi)return!1;for(;mi--;)if(!en(ie,qa=So[mi])||!Te(Qt[qa],ie[qa],mn,Cn))return!1}return mn.pop(),Cn.pop(),!0})(H,Z,gt,Et)}function an(H){if(!K(H))return[];var Z=[];for(var gt in H)Z.push(gt);return X&&me(H,Z),Z}function dn(H){var Z=Rt(H);return function(gt){if(gt==null)return!1;var Et=an(gt);if(Rt(Et))return!1;for(var Dt=0;Dt<Z;Dt++)if(!ce(gt[H[Dt]]))return!1;return H!==qe||!ce(gt[re])}}var re="forEach",_e=["clear","delete"],ve=["get","has","set"],Ue=_e.concat(re,ve),qe=_e.concat(ve),gn=["add"].concat(_e,re,"has"),ln=Pe?dn(Ue):q("Map"),Wt=Pe?dn(qe):q("WeakMap"),Le=Pe?dn(gn):q("Set"),He=q("WeakSet");function Me(H){for(var Z=ke(H),gt=Z.length,Et=Array(gt),Dt=0;Dt<gt;Dt++)Et[Dt]=H[Z[Dt]];return Et}function hn(H){for(var Z={},gt=ke(H),Et=0,Dt=gt.length;Et<Dt;Et++)Z[H[gt[Et]]]=gt[Et];return Z}function rn(H){var Z=[];for(var gt in H)ce(H[gt])&&Z.push(gt);return Z.sort()}function Tn(H,Z){return function(gt){var Et=arguments.length;if(Z&&(gt=Object(gt)),Et<2||gt==null)return gt;for(var Dt=1;Dt<Et;Dt++)for(var wt=arguments[Dt],Qt=H(wt),ie=Qt.length,mn=0;mn<ie;mn++){var Cn=Qt[mn];Z&&gt[Cn]!==void 0||(gt[Cn]=wt[Cn])}return gt}}var zn=Tn(an),sr=Tn(ke),Fr=Tn(an,!0);function or(H){if(!K(H))return{};if(U)return U(H);var Z=function(){};Z.prototype=H;var gt=new Z;return Z.prototype=null,gt}function Ir(H){return K(H)?we(H)?H.slice():zn({},H):H}function ai(H){return we(H)?H:[H]}function Lr(H){return Ne.toPath(H)}function Tr(H,Z){for(var gt=Z.length,Et=0;Et<gt;Et++){if(H==null)return;H=H[Z[Et]]}return gt?H:void 0}function Dr(H,Z,gt){var Et=Tr(H,Lr(Z));return at(Et)?gt:Et}function Yr(H){return H}function tr(H){return H=sr({},H),function(Z){return Yn(Z,H)}}function Gn(H){return H=Lr(H),function(Z){return Tr(Z,H)}}function hi(H,Z,gt){if(Z===void 0)return H;switch(gt??3){case 1:return function(Et){return H.call(Z,Et)};case 3:return function(Et,Dt,wt){return H.call(Z,Et,Dt,wt)};case 4:return function(Et,Dt,wt,Qt){return H.call(Z,Et,Dt,wt,Qt)}}return function(){return H.apply(Z,arguments)}}function Ii(H,Z,gt){return H==null?Yr:ce(H)?hi(H,Z,gt):K(H)&&!we(H)?tr(H):Gn(H)}function Yt(H,Z){return Ii(H,Z,1/0)}function zt(H,Z,gt){return Ne.iteratee!==Yt?Ne.iteratee(H,Z):Ii(H,Z,gt)}function ge(){}function Mn(H,Z){return Z==null&&(Z=H,H=0),H+Math.floor(Math.random()*(Z-H+1))}Ne.toPath=ai,Ne.iteratee=Yt;var qt=Date.now||function(){return new Date().getTime()};function ir(H){var Z=function(wt){return H[wt]},gt="(?:"+ke(H).join("|")+")",Et=RegExp(gt),Dt=RegExp(gt,"g");return function(wt){return wt=wt==null?"":""+wt,Et.test(wt)?wt.replace(Dt,Z):wt}}var Fn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Bn=ir(Fn),St=ir(hn(Fn)),Re=Ne.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},Pn=/(.)^/,tn={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},dr=/\\|'|\r|\n|\u2028|\u2029/g;function vr(H){return"\\"+tn[H]}var ei=/^\s*(\w|\$)+\s*$/,zr=0;function Nn(H,Z,gt,Et,Dt){if(!(Et instanceof Z))return H.apply(gt,Dt);var wt=or(H.prototype),Qt=H.apply(wt,Dt);return K(Qt)?Qt:wt}var Ai=N((function(H,Z){var gt=Ai.placeholder,Et=function(){for(var Dt=0,wt=Z.length,Qt=Array(wt),ie=0;ie<wt;ie++)Qt[ie]=Z[ie]===gt?arguments[Dt++]:Z[ie];for(;Dt<arguments.length;)Qt.push(arguments[Dt++]);return Nn(H,Et,this,this,Qt)};return Et}));Ai.placeholder=Ne;var Ni=N((function(H,Z,gt){if(!ce(H))throw new TypeError("Bind must be called on a function");var Et=N((function(Dt){return Nn(H,Et,Z,this,gt.concat(Dt))}));return Et})),Gr=Rn(Rt);function oi(H,Z,gt,Et){if(Et=Et||[],Z||Z===0){if(Z<=0)return Et.concat(H)}else Z=1/0;for(var Dt=Et.length,wt=0,Qt=Rt(H);wt<Qt;wt++){var ie=H[wt];if(Gr(ie)&&(we(ie)||un(ie)))if(Z>1)oi(ie,Z-1,gt,Et),Dt=Et.length;else for(var mn=0,Cn=ie.length;mn<Cn;)Et[Dt++]=ie[mn++];else gt||(Et[Dt++]=ie)}return Et}var Xi=N((function(H,Z){var gt=(Z=oi(Z,!1,!1)).length;if(gt<1)throw new Error("bindAll must be passed function names");for(;gt--;){var Et=Z[gt];H[Et]=Ni(H[Et],H)}return H})),Ha=N((function(H,Z,gt){return setTimeout((function(){return H.apply(null,gt)}),Z)})),Wr=Ai(Ha,Ne,1);function Ui(H){return function(){return!H.apply(this,arguments)}}function Us(H,Z){var gt;return function(){return--H>0&&(gt=Z.apply(this,arguments)),H<=1&&(Z=null),gt}}var Ya=Ai(Us,2);function br(H,Z,gt){Z=zt(Z,gt);for(var Et,Dt=ke(H),wt=0,Qt=Dt.length;wt<Qt;wt++)if(Z(H[Et=Dt[wt]],Et,H))return Et}function za(H){return function(Z,gt,Et){gt=zt(gt,Et);for(var Dt=Rt(Z),wt=H>0?0:Dt-1;wt>=0&&wt<Dt;wt+=H)if(gt(Z[wt],wt,Z))return wt;return-1}}var kr=za(1),as=za(-1);function Eo(H,Z,gt,Et){for(var Dt=(gt=zt(gt,Et,1))(Z),wt=0,Qt=Rt(H);wt<Qt;){var ie=Math.floor((wt+Qt)/2);gt(H[ie])<Dt?wt=ie+1:Qt=ie}return wt}function Va(H,Z,gt){return function(Et,Dt,wt){var Qt=0,ie=Rt(Et);if(typeof wt=="number")H>0?Qt=wt>=0?wt:Math.max(wt+ie,Qt):ie=wt>=0?Math.min(wt+1,ie):wt+ie+1;else if(gt&&wt&&ie)return Et[wt=gt(Et,Dt)]===Dt?wt:-1;if(Dt!=Dt)return(wt=Z(x.call(Et,Qt,ie),We))>=0?wt+Qt:-1;for(wt=H>0?Qt:ie-1;wt>=0&&wt<ie;wt+=H)if(Et[wt]===Dt)return wt;return-1}}var ia=Va(1,kr,Eo),Fs=Va(-1,as);function ja(H,Z,gt){var Et=(Gr(H)?kr:br)(H,Z,gt);if(Et!==void 0&&Et!==-1)return H[Et]}function Di(H,Z,gt){var Et,Dt;if(Z=hi(Z,gt),Gr(H))for(Et=0,Dt=H.length;Et<Dt;Et++)Z(H[Et],Et,H);else{var wt=ke(H);for(Et=0,Dt=wt.length;Et<Dt;Et++)Z(H[wt[Et]],wt[Et],H)}return H}function li(H,Z,gt){Z=zt(Z,gt);for(var Et=!Gr(H)&&ke(H),Dt=(Et||H).length,wt=Array(Dt),Qt=0;Qt<Dt;Qt++){var ie=Et?Et[Qt]:Qt;wt[Qt]=Z(H[ie],ie,H)}return wt}function Gs(H){var Z=function(gt,Et,Dt,wt){var Qt=!Gr(gt)&&ke(gt),ie=(Qt||gt).length,mn=H>0?0:ie-1;for(wt||(Dt=gt[Qt?Qt[mn]:mn],mn+=H);mn>=0&&mn<ie;mn+=H){var Cn=Qt?Qt[mn]:mn;Dt=Et(Dt,gt[Cn],Cn,gt)}return Dt};return function(gt,Et,Dt,wt){var Qt=arguments.length>=3;return Z(gt,hi(Et,wt,4),Dt,Qt)}}var Ss=Gs(1),gi=Gs(-1);function lr(H,Z,gt){var Et=[];return Z=zt(Z,gt),Di(H,(function(Dt,wt,Qt){Z(Dt,wt,Qt)&&Et.push(Dt)})),Et}function Xn(H,Z,gt){Z=zt(Z,gt);for(var Et=!Gr(H)&&ke(H),Dt=(Et||H).length,wt=0;wt<Dt;wt++){var Qt=Et?Et[wt]:wt;if(!Z(H[Qt],Qt,H))return!1}return!0}function sa(H,Z,gt){Z=zt(Z,gt);for(var Et=!Gr(H)&&ke(H),Dt=(Et||H).length,wt=0;wt<Dt;wt++){var Qt=Et?Et[wt]:wt;if(Z(H[Qt],Qt,H))return!0}return!1}function Ci(H,Z,gt,Et){return Gr(H)||(H=Me(H)),(typeof gt!="number"||Et)&&(gt=0),ia(H,Z,gt)>=0}var xn=N((function(H,Z,gt){var Et,Dt;return ce(Z)?Dt=Z:(Z=Lr(Z),Et=Z.slice(0,-1),Z=Z[Z.length-1]),li(H,(function(wt){var Qt=Dt;if(!Qt){if(Et&&Et.length&&(wt=Tr(wt,Et)),wt==null)return;Qt=wt[Z]}return Qt==null?Qt:Qt.apply(wt,gt)}))}));function pi(H,Z){return li(H,Gn(Z))}function Fi(H,Z,gt){var Et,Dt,wt=-1/0,Qt=-1/0;if(Z==null||typeof Z=="number"&&A(H[0])!="object"&&H!=null)for(var ie=0,mn=(H=Gr(H)?H:Me(H)).length;ie<mn;ie++)(Et=H[ie])!=null&&Et>wt&&(wt=Et);else Z=zt(Z,gt),Di(H,(function(Cn,er,Cr){((Dt=Z(Cn,er,Cr))>Qt||Dt===-1/0&&wt===-1/0)&&(wt=Cn,Qt=Dt)}));return wt}function Ts(H,Z,gt){if(Z==null||gt)return Gr(H)||(H=Me(H)),H[Mn(H.length-1)];var Et=Gr(H)?Ir(H):Me(H),Dt=Rt(Et);Z=Math.max(Math.min(Z,Dt),0);for(var wt=Dt-1,Qt=0;Qt<Z;Qt++){var ie=Mn(Qt,wt),mn=Et[Qt];Et[Qt]=Et[ie],Et[ie]=mn}return Et.slice(0,Z)}function Si(H,Z){return function(gt,Et,Dt){var wt=Z?[[],[]]:{};return Et=zt(Et,Dt),Di(gt,(function(Qt,ie){var mn=Et(Qt,ie,gt);H(wt,Qt,mn)})),wt}}var $a=Si((function(H,Z,gt){en(H,gt)?H[gt].push(Z):H[gt]=[Z]})),Qs=Si((function(H,Z,gt){H[gt]=Z})),bo=Si((function(H,Z,gt){en(H,gt)?H[gt]++:H[gt]=1})),aa=Si((function(H,Z,gt){H[gt?0:1].push(Z)}),!0),oa=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function la(H,Z,gt){return Z in gt}var qr=N((function(H,Z){var gt={},Et=Z[0];if(H==null)return gt;ce(Et)?(Z.length>1&&(Et=hi(Et,Z[1])),Z=an(H)):(Et=la,Z=oi(Z,!1,!1),H=Object(H));for(var Dt=0,wt=Z.length;Dt<wt;Dt++){var Qt=Z[Dt],ie=H[Qt];Et(ie,Qt,H)&&(gt[Qt]=ie)}return gt})),Zi=N((function(H,Z){var gt,Et=Z[0];return ce(Et)?(Et=Ui(Et),Z.length>1&&(gt=Z[1])):(Z=li(oi(Z,!1,!1),String),Et=function(Dt,wt){return!Ci(Z,wt)}),qr(H,Et,gt)}));function Hs(H,Z,gt){return x.call(H,0,Math.max(0,H.length-(Z==null||gt?1:Z)))}function os(H,Z,gt){return H==null||H.length<1?Z==null||gt?void 0:[]:Z==null||gt?H[0]:Hs(H,H.length-Z)}function Ys(H,Z,gt){return x.call(H,Z==null||gt?1:Z)}var ua=N((function(H,Z){return Z=oi(Z,!0,!0),lr(H,(function(gt){return!Ci(Z,gt)}))})),Ka=N((function(H,Z){return ua(H,Z)}));function ls(H,Z,gt,Et){G(Z)||(Et=gt,gt=Z,Z=!1),gt!=null&&(gt=zt(gt,Et));for(var Dt=[],wt=[],Qt=0,ie=Rt(H);Qt<ie;Qt++){var mn=H[Qt],Cn=gt?gt(mn,Qt,H):mn;Z&&!gt?(Qt&&wt===Cn||Dt.push(mn),wt=Cn):gt?Ci(wt,Cn)||(wt.push(Cn),Dt.push(mn)):Ci(Dt,mn)||Dt.push(mn)}return Dt}var Ti=N((function(H){return ls(oi(H,!0,!0))}));function qn(H){for(var Z=H&&Fi(H,Rt).length||0,gt=Array(Z),Et=0;Et<Z;Et++)gt[Et]=pi(H,Et);return gt}var Co=N(qn);function ca(H,Z){return H._chain?Ne(Z).chain():Z}function Wa(H){return Di(rn(H),(function(Z){var gt=Ne[Z]=H[Z];Ne.prototype[Z]=function(){var Et=[this._wrapped];return T.apply(Et,arguments),ca(this,gt.apply(Ne,Et))}})),Ne}Di(["pop","push","reverse","shift","sort","splice","unshift"],(function(H){var Z=y[H];Ne.prototype[H]=function(){var gt=this._wrapped;return gt!=null&&(Z.apply(gt,arguments),H!=="shift"&&H!=="splice"||gt.length!==0||delete gt[0]),ca(this,gt)}})),Di(["concat","join","slice"],(function(H){var Z=y[H];Ne.prototype[H]=function(){var gt=this._wrapped;return gt!=null&&(gt=Z.apply(gt,arguments)),ca(this,gt)}}));var xs=Wa({__proto__:null,VERSION:p,restArguments:N,isObject:K,isNull:function(H){return H===null},isUndefined:at,isBoolean:G,isElement:function(H){return!(!H||H.nodeType!==1)},isString:et,isNumber:ot,isDate:bt,isRegExp:Ct,isError:Tt,isSymbol:$t,isArrayBuffer:Vt,isDataView:xe,isArray:we,isFunction:ce,isArguments:un,isFinite:function(H){return!$t(H)&&W(H)&&!isNaN(parseFloat(H))},isNaN:We,isTypedArray:De,isEmpty:function(H){if(H==null)return!0;var Z=Rt(H);return typeof Z=="number"&&(we(H)||et(H)||un(H))?Z===0:Rt(ke(H))===0},isMatch:Yn,isEqual:function(H,Z){return Te(H,Z)},isMap:ln,isWeakMap:Wt,isSet:Le,isWeakSet:He,keys:ke,allKeys:an,values:Me,pairs:function(H){for(var Z=ke(H),gt=Z.length,Et=Array(gt),Dt=0;Dt<gt;Dt++)Et[Dt]=[Z[Dt],H[Z[Dt]]];return Et},invert:hn,functions:rn,methods:rn,extend:zn,extendOwn:sr,assign:sr,defaults:Fr,create:function(H,Z){var gt=or(H);return Z&&sr(gt,Z),gt},clone:Ir,tap:function(H,Z){return Z(H),H},get:Dr,has:function(H,Z){for(var gt=(Z=Lr(Z)).length,Et=0;Et<gt;Et++){var Dt=Z[Et];if(!en(H,Dt))return!1;H=H[Dt]}return!!gt},mapObject:function(H,Z,gt){Z=zt(Z,gt);for(var Et=ke(H),Dt=Et.length,wt={},Qt=0;Qt<Dt;Qt++){var ie=Et[Qt];wt[ie]=Z(H[ie],ie,H)}return wt},identity:Yr,constant:$e,noop:ge,toPath:ai,property:Gn,propertyOf:function(H){return H==null?ge:function(Z){return Dr(H,Z)}},matcher:tr,matches:tr,times:function(H,Z,gt){var Et=Array(Math.max(0,H));Z=hi(Z,gt,1);for(var Dt=0;Dt<H;Dt++)Et[Dt]=Z(Dt);return Et},random:Mn,now:qt,escape:Bn,unescape:St,templateSettings:Re,template:function(H,Z,gt){!Z&&gt&&(Z=gt),Z=Fr({},Z,Ne.templateSettings);var Et=RegExp([(Z.escape||Pn).source,(Z.interpolate||Pn).source,(Z.evaluate||Pn).source].join("|")+"|$","g"),Dt=0,wt="__p+='";H.replace(Et,(function(Cn,er,Cr,us,cs){return wt+=H.slice(Dt,cs).replace(dr,vr),Dt=cs+Cn.length,er?wt+=`'+
((__t=(`+er+`))==null?'':_.escape(__t))+
'`:Cr?wt+=`'+
((__t=(`+Cr+`))==null?'':__t)+
'`:us&&(wt+=`';
`+us+`
__p+='`),Cn})),wt+=`';
`;var Qt,ie=Z.variable;if(ie){if(!ei.test(ie))throw new Error("variable is not a bare identifier: "+ie)}else wt=`with(obj||{}){
`+wt+`}
`,ie="obj";wt=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+wt+`return __p;
`;try{Qt=new Function(ie,"_",wt)}catch(Cn){throw Cn.source=wt,Cn}var mn=function(Cn){return Qt.call(this,Cn,Ne)};return mn.source="function("+ie+`){
`+wt+"}",mn},result:function(H,Z,gt){var Et=(Z=Lr(Z)).length;if(!Et)return ce(gt)?gt.call(H):gt;for(var Dt=0;Dt<Et;Dt++){var wt=H?.[Z[Dt]];wt===void 0&&(wt=gt,Dt=Et),H=ce(wt)?wt.call(H):wt}return H},uniqueId:function(H){var Z=++zr+"";return H?H+Z:Z},chain:function(H){var Z=Ne(H);return Z._chain=!0,Z},iteratee:Yt,partial:Ai,bind:Ni,bindAll:Xi,memoize:function(H,Z){var gt=function(Et){var Dt=gt.cache,wt=""+(Z?Z.apply(this,arguments):Et);return en(Dt,wt)||(Dt[wt]=H.apply(this,arguments)),Dt[wt]};return gt.cache={},gt},delay:Ha,defer:Wr,throttle:function(H,Z,gt){var Et,Dt,wt,Qt,ie=0;gt||(gt={});var mn=function(){ie=gt.leading===!1?0:qt(),Et=null,Qt=H.apply(Dt,wt),Et||(Dt=wt=null)},Cn=function(){var er=qt();ie||gt.leading!==!1||(ie=er);var Cr=Z-(er-ie);return Dt=this,wt=arguments,Cr<=0||Cr>Z?(Et&&(clearTimeout(Et),Et=null),ie=er,Qt=H.apply(Dt,wt),Et||(Dt=wt=null)):Et||gt.trailing===!1||(Et=setTimeout(mn,Cr)),Qt};return Cn.cancel=function(){clearTimeout(Et),ie=0,Et=Dt=wt=null},Cn},debounce:function(H,Z,gt){var Et,Dt,wt,Qt,ie,mn=function(){var er=qt()-Dt;Z>er?Et=setTimeout(mn,Z-er):(Et=null,gt||(Qt=H.apply(ie,wt)),Et||(wt=ie=null))},Cn=N((function(er){return ie=this,wt=er,Dt=qt(),Et||(Et=setTimeout(mn,Z),gt&&(Qt=H.apply(ie,wt))),Qt}));return Cn.cancel=function(){clearTimeout(Et),Et=wt=ie=null},Cn},wrap:function(H,Z){return Ai(Z,H)},negate:Ui,compose:function(){var H=arguments,Z=H.length-1;return function(){for(var gt=Z,Et=H[Z].apply(this,arguments);gt--;)Et=H[gt].call(this,Et);return Et}},after:function(H,Z){return function(){if(--H<1)return Z.apply(this,arguments)}},before:Us,once:Ya,findKey:br,findIndex:kr,findLastIndex:as,sortedIndex:Eo,indexOf:ia,lastIndexOf:Fs,find:ja,detect:ja,findWhere:function(H,Z){return ja(H,tr(Z))},each:Di,forEach:Di,map:li,collect:li,reduce:Ss,foldl:Ss,inject:Ss,reduceRight:gi,foldr:gi,filter:lr,select:lr,reject:function(H,Z,gt){return lr(H,Ui(zt(Z)),gt)},every:Xn,all:Xn,some:sa,any:sa,contains:Ci,includes:Ci,include:Ci,invoke:xn,pluck:pi,where:function(H,Z){return lr(H,tr(Z))},max:Fi,min:function(H,Z,gt){var Et,Dt,wt=1/0,Qt=1/0;if(Z==null||typeof Z=="number"&&A(H[0])!="object"&&H!=null)for(var ie=0,mn=(H=Gr(H)?H:Me(H)).length;ie<mn;ie++)(Et=H[ie])!=null&&Et<wt&&(wt=Et);else Z=zt(Z,gt),Di(H,(function(Cn,er,Cr){((Dt=Z(Cn,er,Cr))<Qt||Dt===1/0&&wt===1/0)&&(wt=Cn,Qt=Dt)}));return wt},shuffle:function(H){return Ts(H,1/0)},sample:Ts,sortBy:function(H,Z,gt){var Et=0;return Z=zt(Z,gt),pi(li(H,(function(Dt,wt,Qt){return{value:Dt,index:Et++,criteria:Z(Dt,wt,Qt)}})).sort((function(Dt,wt){var Qt=Dt.criteria,ie=wt.criteria;if(Qt!==ie){if(Qt>ie||Qt===void 0)return 1;if(Qt<ie||ie===void 0)return-1}return Dt.index-wt.index})),"value")},groupBy:$a,indexBy:Qs,countBy:bo,partition:aa,toArray:function(H){return H?we(H)?x.call(H):et(H)?H.match(oa):Gr(H)?li(H,Yr):Me(H):[]},size:function(H){return H==null?0:Gr(H)?H.length:ke(H).length},pick:qr,omit:Zi,first:os,head:os,take:os,initial:Hs,last:function(H,Z,gt){return H==null||H.length<1?Z==null||gt?void 0:[]:Z==null||gt?H[H.length-1]:Ys(H,Math.max(0,H.length-Z))},rest:Ys,tail:Ys,drop:Ys,compact:function(H){return lr(H,Boolean)},flatten:function(H,Z){return oi(H,Z,!1)},without:Ka,uniq:ls,unique:ls,union:Ti,intersection:function(H){for(var Z=[],gt=arguments.length,Et=0,Dt=Rt(H);Et<Dt;Et++){var wt=H[Et];if(!Ci(Z,wt)){var Qt;for(Qt=1;Qt<gt&&Ci(arguments[Qt],wt);Qt++);Qt===gt&&Z.push(wt)}}return Z},difference:ua,unzip:qn,transpose:qn,zip:Co,object:function(H,Z){for(var gt={},Et=0,Dt=Rt(H);Et<Dt;Et++)Z?gt[H[Et]]=Z[Et]:gt[H[Et][0]]=H[Et][1];return gt},range:function(H,Z,gt){Z==null&&(Z=H||0,H=0),gt||(gt=Z<H?-1:1);for(var Et=Math.max(Math.ceil((Z-H)/gt),0),Dt=Array(Et),wt=0;wt<Et;wt++,H+=gt)Dt[wt]=H;return Dt},chunk:function(H,Z){if(Z==null||Z<1)return[];for(var gt=[],Et=0,Dt=H.length;Et<Dt;)gt.push(x.call(H,Et,Et+=Z));return gt},mixin:Wa,default:Ne});return xs._=xs,xs},A(c)=="object"?a.exports=f():(u=typeof(o=f)=="function"?o.call(c,e,c,a):o)===void 0||(a.exports=u)},69534:function(a,c,e){var o=e(71354),u=e.n(o),f=e(76314),A=e.n(f),p=e(4417),m=e.n(p),y=new URL(e(85971),e.b),E=new URL(e(58233),e.b),C=new URL(e(36923),e.b),T=A()(u()),x=m()(y),L=m()(E),D=m()(C);T.push([a.id,'@charset "UTF-8";@keyframes op-spinner{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@-webkit-keyframes op-slideOutDown{from{-webkit-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0)}to{visibility:hidden;-webkit-transform:translate3d(0, 100%, 0);transform:translate3d(0, 100%, 0)}}@keyframes op-slideOutDown{from{-webkit-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0)}to{visibility:hidden;-webkit-transform:translate3d(0, 100%, 0);transform:translate3d(0, 100%, 0)}}@-webkit-keyframes op-slideInUp{from{-webkit-transform:translate3d(0, 100%, 0);transform:translate3d(0, 100%, 0);opacity:1}to{-webkit-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0)}}@keyframes op-slideInUp{from{-webkit-transform:translate3d(0, 100%, 0);transform:translate3d(0, 100%, 0);opacity:1}to{-webkit-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0)}}@font-face{font-family:"frameIcon";src:url('+x+") format('truetype');font-weight:normal;font-style:normal}@font-face{font-family:'op-icons';src:url("+L+") format('truetype');font-weight:normal;font-style:normal}@font-face{font-family:'op-seek-icons';src:url("+D+`) format('truetype');font-weight:normal;font-style:normal}:root{--op-accent-color:#50e3c2}.op-fullscreen-helper{overflow:hidden;position:fixed}.op-wrapper.ovenplayer{position:relative;max-height:100%;overflow:hidden;zoom:1 !important;width:100%;display:block;font-family:Helvetica,Arial,sans-serif;background-color:#000;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;color:#fff;font-size:14px;font-weight:100;outline:0;-webkit-touch-callout:none;user-select:none}.op-wrapper.ovenplayer *{box-sizing:inherit}.op-wrapper.ovenplayer object{width:100%;height:100%;position:absolute}.op-wrapper.ovenplayer:before,.op-wrapper.ovenplayer:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}.op-wrapper.ovenplayer *,.op-wrapper.ovenplayer *:before,.op-wrapper.ovenplayer *:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}.op-wrapper.ovenplayer.op-fullscreen{width:100vw !important;height:100vh !important;top:0;right:0;bottom:0;left:0;z-index:9999;margin:0;position:fixed}.op-wrapper.ovenplayer.op-fullscreen .op-watermark-container,.op-wrapper.ovenplayer.op-fullscreen .op-thumbnail-container{width:100vw;max-width:calc(100vh * 16 / 9);height:calc(100vw * 9 / 16);max-height:100vh;top:50%;left:50%;transform:translate(-50%, -50%)}.op-wrapper.ovenplayer.op-autohide{cursor:none}.op-wrapper.ovenplayer.op-autohide .op-bottom-panel{-webkit-animation-name:op-slideOutDown;animation-name:op-slideOutDown;-webkit-animation-duration:.2s;animation-duration:.2s;-webkit-animation-fill-mode:both;animation-fill-mode:both}.op-wrapper.ovenplayer.op-autohide .op-progressbar-container,.op-wrapper.ovenplayer.op-autohide .op-controls .op-button{cursor:none}.op-wrapper.ovenplayer.op-autohide .op-caption-text-container{bottom:25px}.op-wrapper.ovenplayer.op-no-controls .op-controls-container{display:none !important}.op-wrapper.ovenplayer .op-ratio{padding-bottom:56.25%}.op-wrapper.ovenplayer ::-webkit-scrollbar{width:5px;height:8px}.op-wrapper.ovenplayer ::-webkit-scrollbar-button:start:decrement,.op-wrapper.ovenplayer ::-webkit-scrollbar-button:end:increment{display:block;height:3px;background:#2f2f3e}.op-wrapper.ovenplayer ::-webkit-scrollbar-track{background:#2f2f3e;-webkit-border-radius:10px;border-radius:10px}.op-wrapper.ovenplayer ::-webkit-scrollbar-thumb{height:50px;width:50px;background:#606071;-webkit-border-radius:8px;border-radius:8px}.op-wrapper.ovenplayer .op-clear{color:inherit;background-color:transparent;padding:0;margin:0;float:none;font-family:Helvetica,Arial,sans-serif;font-size:1em;line-height:1em;list-style:none;text-transform:none;vertical-align:baseline;border:0;font-variant:inherit;font-stretch:inherit;-webkit-tap-highlight-color:rgba(255,255,255,0)}.op-player{position:absolute;top:0;height:100%;width:100%}.op-player .op-core-ui-wrapper{position:relative;height:100%}.op-player .op-media-element-container{position:absolute;left:0px;top:0px;width:100%;height:100%;transform:scale(var(--mediaZoom))}.op-player .op-media-element-container video{position:absolute;left:0;top:0;width:100%;height:100%}.op-player .op-media-element-container object{width:100%;height:100%}.op-ads{position:absolute;height:100%;width:100%;padding-bottom:34px;top:0}.op-ads>div{position:absolute !important;width:100% !important;height:100% !important}.op-ads>div iframe{pointer-events:auto}.op-ads video.op-ads-vast-video{background-color:#000;position:absolute;width:100%;height:100%;left:0;top:0;z-index:1}.op-ads .op-ads-button{bottom:36px;cursor:default;margin-right:4px;pointer-events:auto;position:absolute;right:0;z-index:1;width:auto !important;height:auto !important;border-radius:4px;background-color:rgba(18,18,28,0.7);min-width:155px;display:none}.op-ads .op-ads-button .op-ads-textview{color:#e6e6e6;font-weight:normal;font-size:11px;padding:6px 12px;text-align:center;display:inline-block;width:100%;vertical-align:middle}.op-ads .op-ads-button .videoAdUiAction{padding:8px 24px;cursor:pointer;direction:ltr;font-weight:normal;font-size:20px;border:1px solid rgba(255,255,255,0.5)}.op-ads .op-ads-button .videoAdUiAction:hover{border-radius:4px;border:1px solid #fff}.op-ads .op-ads-button .videoAdUiAction i{display:inline-block;width:auto}.op-button{display:inline-block;border:none;background:transparent;padding:0;color:inherit;text-align:inherit;overflow:hidden;font-weight:100;text-indent:0 !important}.op-button:focus,.op-button{outline:0}i.op-con{font-family:"op-icons","op-seek-icons";font-style:normal;font-weight:normal;speak:none;font-size:inherit;width:auto;font-size:30px;line-height:30px;display:block;text-decoration:inherit;text-align:center;font-variant:normal;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;cursor:pointer}i.op-con.disable{color:#4f4f4f}i.op-con.op-close-icon::before{content:"\\e900"}i.op-con.op-pause-big::before{content:"\\e911"}i.op-con.op-fullscreen-compress::before{content:"\\e901"}i.op-con.op-fullscreen-expand::before{content:"\\e902"}i.op-con.op-arrow-left::before{content:"\\e903"}i.op-con.op-arrow-right::before{content:"\\e909"}i.op-con.op-empty-video::before{content:"\\e904"}i.op-con.op-play::before{content:"\\e906"}i.op-con.op-replay::before{content:"\\e908"}i.op-con.op-seek-back::before{content:"\\e920"}i.op-con.op-seek-forward::before{content:"\\e921"}i.op-con.op-playlist-icon::before{content:"\\e907"}i.op-con.op-replay-big::before{content:"\\e908"}i.op-con.op-setting::before{content:"\\e90A"}i.op-con.op-pause::before{content:"\\e90C"}i.op-con.op-volume-small{display:none;margin-top:-1px}i.op-con.op-volume-small::before{content:"\\e90D"}i.op-con.op-volume-mute{display:none}i.op-con.op-volume-mute::before{content:"\\e90E"}i.op-con.op-volume-max::before{content:"\\e90F"}i.op-con.op-play-big::before{content:"\\e910"}i.op-con.op-warning::before{content:"\\e912"}.op-badge{display:inline-block;padding:.75em .714em .714em .68em;font-size:1em;line-height:1;text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:.286em;background-color:#12121c}.op-playlist{position:absolute;width:100%;height:100%;left:0;top:0;padding:2.857em;background:#000;z-index:6}.op-playlist .op-badge{position:absolute;top:.857em;right:.857em;opacity:.7}.op-playlist .btn-left{float:left;font-size:2.857em}.op-playlist .btn-right{float:right;font-size:2.857em}.op-playlist .op-playlist-header{font-size:2.857em;font-weight:bold}.op-playlist .op-playlist-header:after{display:block;content:'';clear:both}.op-playlist .op-playlist-header .op-con.op-close-icon{float:right}.op-playlist .op-playlist-body{height:100%;overflow:hidden;position:relative}.op-playlist .op-playlist-body .op-playlist-body-arrows{margin-top:-15px;position:absolute;top:50%;height:30px;-ms-transform:translateY(-50%);transform:translateY(-50%);width:100%;left:0}.op-playlist .op-playlist-body .op-playlist-body-container{width:100%;height:100%;position:relative;margin-right:auto;margin-left:auto;max-width:992px}.op-playlist .op-playlist-body .op-playlist-body-container .op-playlist-body-center{margin:0;position:absolute;top:50%;padding-right:3em;padding-left:3em;-ms-transform:translateY(-50%);transform:translateY(-50%);width:100%}.op-playlist .op-playlist-body .op-playlist-body-row{margin-right:-15px;margin-left:-15px;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}.op-playlist .op-playlist-body .op-playlist-body-row .op-playlist-card{padding-right:15px;padding-left:15px;margin:15px 0;-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%;cursor:pointer}.op-playlist .op-playlist-body .op-playlist-body-row .op-playlist-card.active{color:#50e3c2;color:var(--op-accent-color)}.op-playlist .op-playlist-body .op-playlist-body-row .op-playlist-card.active .op-playlist-card-thumbnail{border-color:#50e3c2;border-color:var(--op-accent-color)}.op-playlist .op-playlist-body .op-playlist-body-row .op-playlist-card .op-playlist-card-thumbnail{position:relative;display:block;width:100%;padding:0;overflow:hidden;border:.214em solid transparent;background-color:#000}.op-playlist .op-playlist-body .op-playlist-body-row .op-playlist-card .op-playlist-card-thumbnail img{position:absolute;top:0;bottom:0;left:0;width:100%;height:100%;border:0}.op-playlist .op-playlist-body .op-playlist-body-row .op-playlist-card .op-playlist-card-thumbnail.empty{background-color:#bababa}.op-playlist .op-playlist-body .op-playlist-body-row .op-playlist-card .op-playlist-card-thumbnail.empty>i{margin:0;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);color:#fff !important;font-size:1.6em !important}.op-playlist .op-playlist-body .op-playlist-body-row .op-playlist-card .op-playlist-card-thumbnail::before{padding-top:56.25%;display:block;content:""}.op-playlist .op-playlist-body .op-playlist-body-row .op-playlist-card .op-playlist-card-title{margin-top:.857em;font-size:1.429em;padding:2px 0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.op-message-box{position:absolute;top:0;left:0;width:100%;height:100%;z-index:4}.op-message-box .op-message-container{position:absolute;top:45%;margin-top:-35px;width:100%;padding:0 12px;text-align:center}.op-message-box .op-message-container .op-message-text{display:inline-block;background-color:rgba(18,18,28,0.3);padding:.8em 1.2em;word-wrap:break-word;max-width:80%;border-radius:4px;cursor:pointer}.op-message-box .op-message-container .op-message-text .op-message-description{font-size:12px;margin-top:12px;color:#999}.op-message-box .op-message-container .op-message-icon{display:inline-block;margin-top:12px;width:100%}.op-message-box .op-message-container .op-message-icon i.op-con{cursor:pointer;font-size:80px;width:80px;height:80px;line-height:80px;display:inline-block;text-shadow:2px 2px 7px rgba(0,0,0,0.8),0 0 1px #000}.op-message-box.op-message-box-default-cursor .op-message-container .op-message-text{cursor:default}.op-message-box.op-message-box-default-cursor .op-message-container .op-message-icon i.op-con{cursor:default}.op-bigbutton-container{cursor:pointer;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);text-align:center;z-index:5}.op-bigbutton-container .op-bigbutton{width:80px;height:80px;display:block;font-size:80px;line-height:80px;text-shadow:2px 2px 7px rgba(0,0,0,0.8),0 0 1px #000}.op-thumbnail-container{position:absolute;width:100%;height:100%;top:0;left:0;z-index:2;pointer-events:none}.op-thumbnail-container .op-thumbnail-wrapper{position:absolute;left:0;top:0;width:100%;height:100%}.op-thumbnail-container .op-thumbnail-wrapper img{width:100%;height:100%}.op-thumbnail-container .op-thumbnail-wrapper .op-thumbnail-header{position:absolute;left:1rem;top:1rem;padding:0 .5rem;font-size:2.857em;font-weight:bold;line-height:1.4;text-shadow:2px 2px 7px rgba(0,0,0,0.8),0 0 1px #000}.op-thumbnail-container .op-thumbnail-wrapper .op-thumbnail-header:after{display:block;content:'';clear:both}.op-watermark-container{position:absolute;width:100%;height:100%;top:0;left:0;z-index:3}.op-watermark-container .op-watermark{position:absolute;display:inline-block}.op-watermark-container .op-watermark img{width:100%;height:auto}.op-watermark-container .op-watermark .op-watermark-text{font-size:14px}.op-setting-panel{position:absolute;bottom:55px;right:12px;overflow-y:auto;max-height:100%;width:260px;user-select:none;background-color:rgba(28,28,28,0.9);text-shadow:0 0 2px rgba(0,0,0,0.5);z-index:8}.op-setting-panel.background{display:none}.op-setting-panel .op-setting-title,.op-setting-panel .op-setting-item{width:100%;height:38px;line-height:38px;cursor:pointer;outline:none;text-align:left}.op-setting-panel .op-setting-title-container .op-setting-title .op-setting-title-title{padding-left:12px;font-weight:bold}.op-setting-panel .op-setting-title-container .op-setting-title .op-setting-title-previcon{padding:0 0 0 12px;margin-right:-6px}.op-setting-panel .op-setting-item-container .op-setting-item:hover{background-color:rgba(255,255,255,0.1)}.op-setting-panel .op-setting-item-container .op-setting-item .op-setting-item-title{padding-left:12px}.op-setting-panel .op-setting-item-container .op-setting-item .op-setting-item-nexticon{float:right;padding-right:12px;margin-left:-6px}.op-setting-panel .op-setting-item-container .op-setting-item span.op-setting-item-value{float:right;padding-right:12px}.op-setting-panel .op-setting-item-container .op-setting-item .op-setting-item-checked{padding-left:12px;visibility:hidden}.op-setting-panel .op-setting-item-container .op-setting-item .op-setting-item-checked.op-show{visibility:visible}.op-controls-container{display:none}.op-controls-container .op-bottom-panel{position:absolute;left:0px;bottom:0px;width:100%;z-index:5;-webkit-animation-name:op-slideInUp;animation-name:op-slideInUp;-webkit-animation-duration:.5s;animation-duration:.5s;-webkit-animation-fill-mode:both;animation-fill-mode:both}.op-controls-container .op-bottom-panel .op-gradient-bottom{position:absolute;width:100%;height:100%;background-color:rgba(18,18,18,0.5);pointer-events:none}.op-controls-container .op-bottom-panel .op-progressbar-container{display:block;position:relative;width:100%;height:4px;bottom:50px}.op-controls-container .op-bottom-panel .op-progressbar-container.op-progressbar-container-disabled{cursor:default}.op-controls-container .op-bottom-panel .op-progressbar-container .op-progressbar-padding{position:absolute;width:100%;height:15px;bottom:-5px;cursor:pointer}.op-controls-container .op-bottom-panel .op-controls{position:relative;width:100%;height:50px;text-align:left;overflow:hidden}.op-controls-container .op-bottom-panel .op-controls:after{content:'';clear:both}.op-controls-container .op-bottom-panel .op-controls .op-setting-button{position:relative;margin-right:12px}.op-controls-container .op-bottom-panel .op-controls .op-playlist-button{position:relative;margin-right:12px}.op-controls-container .op-bottom-panel .op-controls .op-navigators{float:left;height:30px;line-height:30px}.op-controls-container .op-bottom-panel .op-controls .op-left-controls{position:absolute;top:0;left:0;padding:14px 0 10px 0}.op-controls-container .op-bottom-panel .op-controls .op-left-controls:after{content:'';clear:both}.op-controls-container .op-bottom-panel .op-controls .op-right-controls{position:absolute;top:0;right:0;padding:14px 0 10px 0}.op-controls-container .op-bottom-panel .op-controls .op-right-controls:after{content:'';clear:both}.op-controls-container .op-bottom-panel .op-controls .op-frame-buttons{position:relative;display:inline-block;margin-left:14px;overflow:hidden;font-weight:100;height:30px}.op-controls-container .op-bottom-panel .op-controls .op-frame-buttons .op-frame-button{margin-right:6px;position:relative;text-align:center;color:#fff}.op-controls-container .op-bottom-panel .op-controls .op-frame-buttons .op-frame-button .frame-icon{position:relative}.op-controls-container .op-bottom-panel .op-controls .op-frame-buttons .op-frame-button .frame-icon.reverse:after{content:'\\e900'}.op-controls-container .op-bottom-panel .op-controls .op-frame-buttons .op-frame-button .frame-icon:after{font-family:'frameIcon' !important;speak:none;content:'\\e901';font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;position:absolute;font-size:2.4em;left:0;line-height:30px;height:30px}.op-controls-container .op-bottom-panel .op-controls .op-frame-buttons .op-frame-button .frame-icon .btn-text{font-weight:bold;font-size:.8em;line-height:30px;height:30px}.op-progressbar{position:absolute;bottom:0;left:0;width:100%;height:100%;outline:none;margin-top:10px}.op-progressbar .op-play-background-color{background-color:#50e3c2;background-color:var(--op-accent-color)}.op-progressbar .op-progress-list{cursor:pointer;position:relative;height:100%;background:rgba(255,255,255,0.2)}.op-progressbar .op-progress-list .op-load-progress,.op-progressbar .op-progress-list .op-play-progress,.op-progressbar .op-progress-list .op-hover-progress{position:absolute;left:0;bottom:0;width:100%;height:100%}.op-progressbar .op-progress-list .op-play-progress{width:0}.op-progressbar .op-progress-list .op-load-progress{width:0;background-color:rgba(255,255,255,0.5)}.op-progressbar .op-progress-list .op-hover-progress{left:0;width:0;background-color:rgba(255,255,255,0.6)}.op-progressbar .op-progressbar-knob-container{position:absolute;top:-5px;left:0}.op-progressbar .op-progressbar-knob-container .op-progressbar-knob{width:14px;height:14px;border-radius:7px;cursor:pointer}.op-progressbar .op-progressbar-time{display:none;position:absolute;bottom:15px;left:auto;width:auto;background-color:rgba(28,28,28,0.9);border-radius:2px;padding:5px 9px;font-size:.8em;line-height:15px;user-select:none;white-space:nowrap;opacity:.7}.op-progressbar-hover .op-progressbar-time{display:inline-block}.op-on-error .op-progressbar-time{display:none}.op-progressbar-section-start,.op-progressbar-section-end{display:none;position:absolute;width:3px;height:14px;bottom:-5px;background-color:#50e3c2;background-color:var(--op-accent-color)}.op-progressbar-preview{position:absolute;display:none;bottom:50px;border:2px solid #fff;border-radius:2px;background-color:#000;z-index:9}.op-play-controller{margin-left:15px}.op-seek-button{position:relative;top:0px}.op-seek-button.op-seek-button-back{margin-left:12px}.op-seek-button.op-seek-button-forward{margin-left:6px}.op-seek-button i{padding-top:1px;font-size:26px}.op-seek-button span{position:absolute;top:10.5px;left:0;right:0;text-align:center;font-size:10px;line-height:10px;cursor:pointer}.op-volume-controller{display:inline-block;position:relative;margin-left:12px}.op-volume-controller:after{content:'';clear:both}.op-volume-controller .op-volume-button{float:left}@-webkit-keyframes slide{100%{left:0}}@keyframes slide{100%{left:0}}.op-volume-controller .op-volume-slider-container{float:left;opacity:0;position:relative;width:0px;margin-right:0;line-height:30px;height:30px;cursor:pointer;user-select:none;outline:none}.op-volume-controller .op-volume-slider-container.active{width:70px;opacity:1;margin-left:8px;-moz-transition:opacity .4s cubic-bezier(0, 0, .2, 1);-webkit-transition:opacity .4s cubic-bezier(0, 0, .2, 1);transition:opacity .4s cubic-bezier(0, 0, .2, 1)}.op-volume-controller .op-volume-slider-container .op-volume-silder{height:100%;position:relative}.op-volume-controller .op-volume-slider-container .op-volume-silder .op-volume-slider-bg,.op-volume-controller .op-volume-slider-container .op-volume-silder .op-volume-slider-value{position:absolute;display:block;left:0;top:50%;height:4px;margin-top:-2px;border-radius:10px}.op-volume-controller .op-volume-slider-container .op-volume-silder .op-volume-slider-bg{width:100%;background:#fff}.op-volume-controller .op-volume-slider-container .op-volume-silder .op-volume-slider-value{width:100%;background:#50e3c2;background:var(--op-accent-color);border-radius:10px 0 0 10px}.op-volume-controller .op-volume-slider-container .op-volume-silder .op-volume-slider-handle{position:absolute;top:50%;left:30px;width:12px;height:12px;border-radius:10px;margin-top:-6px;background:#fff}.op-time-display{float:left;position:relative;margin-left:14px;height:30px;line-height:30px;white-space:nowrap;vertical-align:top;font-size:14px;user-select:none}.op-time-display .op-live-badge{opacity:1;width:auto;display:inline-block}.op-time-display .op-live-badge:before{background:#ff0000;display:inline-block;position:relative;top:-2px;width:6px;height:6px;margin-right:5px;content:'';border-radius:6px}.op-time-display .op-live-badge.op-live-badge-delayed:before{background:#fff}.op-time-display .op-live-badge.op-live-badge-none:before{display:none}.op-time-display .op-live-badge .op-live-badge-lowlatency{display:inline-block;margin-right:5px}.op-time-display .op-live-badge .op-live-text{cursor:pointer}.op-context-panel{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;display:block;position:absolute;overflow:hidden;width:200px;padding:6px 0;z-index:8;background:rgba(28,28,28,0.9);text-shadow:0 0 2px rgba(0,0,0,0.5);font-weight:lighter;user-select:none}.op-context-panel:before,.op-context-panel:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}.op-context-panel *,.op-context-panel *:before,.op-context-panel *:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}.op-context-panel .op-context-item{width:100%;height:38px;padding-left:12px;line-height:38px;cursor:pointer;outline:none;font-size:.8em;font-weight:lighter;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.op-context-panel .op-context-item:hover{background-color:rgba(255,255,255,0.1)}.op-fullscreen-button{position:relative;margin-right:15px}.op-fullscreen-button .op-fullscreen-compress{display:none}.op-spinner-container{position:absolute;top:50%;width:64px;left:50%;margin-left:-32px;margin-top:-32px;z-index:7;display:none}.op-spinner-container .op-spinner{display:inline-block;position:relative;width:64px;height:64px;border:4px solid transparent;border-top:4px solid #50e3c2;border-top:4px solid var(--op-accent-color);border-radius:50%;animation:spin 1.2s cubic-bezier(.5, 0, .5, 1) infinite}@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}.op-caption-viewer .op-caption-text-container{position:absolute;bottom:60px;width:100%;padding:0 12px;text-align:center;-moz-transition:bottom .25s cubic-bezier(0, 0, .2, 1);-webkit-transition:bottom .25s cubic-bezier(0, 0, .2, 1);transition:bottom .25s cubic-bezier(0, 0, .2, 1)}.op-caption-viewer .op-caption-text-container .op-caption-text{color:#fff;font-size:1em;line-height:1.2em;text-shadow:2px 2px 2px gray;padding:.1em .3em;user-select:none;word-break:break-word;white-space:pre-line;border:none;background:none}.op-caption-button{width:36px}.op-caption-button>i{font-size:18px;-moz-transition:color .25s cubic-bezier(0, 0, .2, 1);-webkit-transition:color .25s cubic-bezier(0, 0, .2, 1);transition:color .25s cubic-bezier(0, 0, .2, 1)}.op-caption-active .op-caption-button>i{color:#F36446}.op-wrapper.ovenplayer.large{font-size:14px}.op-wrapper.ovenplayer.large .op-caption-text{font-size:2em;line-height:2em}.op-wrapper.ovenplayer.medium{font-size:12px}.op-wrapper.ovenplayer.medium .op-caption-text{font-size:1.4em;line-height:1.4em}.op-wrapper.ovenplayer.small{font-size:10px}.op-wrapper.ovenplayer.small .op-caption-text{font-size:1.4em;line-height:1.4em}.op-wrapper.ovenplayer.small .op-playlist{padding:1rem}.op-wrapper.ovenplayer.small .op-playlist .op-playlist-card{margin:5px 0}.op-wrapper.ovenplayer.xsmall{font-size:10px}.op-wrapper.ovenplayer.xsmall .op-bigbutton-container .op-bigbutton{width:60px;height:60px;font-size:60px;line-height:60px}.op-wrapper.ovenplayer.xsmall .op-caption-text{font-size:1.4em;line-height:1.4em}.op-wrapper.ovenplayer.xsmall .op-playlist{padding:1rem}.op-wrapper.ovenplayer.xsmall .op-playlist .op-playlist-header{font-size:2em}.op-wrapper.ovenplayer.xsmall .op-playlist .op-playlist-card{margin:5px 0;-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%;padding:0 6em}.op-wrapper.ovenplayer.xsmall .op-playlist .op-playlist-card .op-playlist-card-title{margin-top:0}.op-wrapper.ovenplayer.xsmall .op-message-box .op-message-container{top:50%;font-weight:bold}.op-wrapper.ovenplayer.xsmall .op-message-box .op-message-container .op-message-icon{margin-top:0}.op-wrapper.ovenplayer.xsmall .op-message-box .op-message-container .op-message-icon .op-con{font-size:40px;width:40px;height:40px;line-height:40px}.op-wrapper.ovenplayer.xsmall .op-ads-button{bottom:22px}.op-wrapper.ovenplayer.xsmall .op-ads-button .videoAdUiAction{padding:4px;font-size:14px}.op-wrapper.ovenplayer.xxsmall .op-left-controls{max-width:240px;overflow:hidden}.op-wrapper.ovenplayer.xxsmall .op-live-badge-lowlatency{max-width:75px}.op-wrapper.ovenplayer.linear-ad .op-bottom-panel{height:34px}.op-wrapper.ovenplayer.linear-ad .op-bottom-panel .op-controls{top:4px}.op-wrapper.ovenplayer.linear-ad .op-bottom-panel .op-controls .op-left-controls{height:30px;padding:0}.op-wrapper.ovenplayer.linear-ad .op-bottom-panel .op-controls .op-right-controls{height:30px;padding:0}.op-wrapper.ovenplayer.linear-ad .op-ads{top:0;bottom:0}.op-wrapper.ovenplayer.linear-ad .op-button i.op-con{width:24px;height:24px;font-size:24px}.op-wrapper.ovenplayer.linear-ad .op-controls-container .op-bottom-panel .op-progressbar-container{bottom:50px}@keyframes fade{from{opacity:.3}55%{opacity:1}75%{opacity:1}to{opacity:.3}}@-webkit-keyframes bounceIn{from,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215, .61, .355, 1);animation-timing-function:cubic-bezier(.215, .61, .355, 1)}0%{opacity:0;-webkit-transform:scale3d(.5, .5, .5);transform:scale3d(.5, .5, .5)}20%{-webkit-transform:scale3d(1.1, 1.1, 1.1);transform:scale3d(1.1, 1.1, 1.1)}40%{-webkit-transform:scale3d(.9, .9, .9);transform:scale3d(.9, .9, .9)}60%{opacity:1;-webkit-transform:scale3d(1.03, 1.03, 1.03);transform:scale3d(1.03, 1.03, 1.03)}80%{-webkit-transform:scale3d(.97, .97, .97);transform:scale3d(.97, .97, .97)}to{opacity:1;-webkit-transform:scale3d(1, 1, 1);transform:scale3d(1, 1, 1)}}@keyframes bounceIn{from,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215, .61, .355, 1);animation-timing-function:cubic-bezier(.215, .61, .355, 1)}0%{opacity:0;-webkit-transform:scale3d(.3, .3, .3);transform:scale3d(.3, .3, .3)}20%{-webkit-transform:scale3d(1.1, 1.1, 1.1);transform:scale3d(1.1, 1.1, 1.1)}40%{-webkit-transform:scale3d(.9, .9, .9);transform:scale3d(.9, .9, .9)}60%{opacity:1;-webkit-transform:scale3d(1.03, 1.03, 1.03);transform:scale3d(1.03, 1.03, 1.03)}80%{-webkit-transform:scale3d(.97, .97, .97);transform:scale3d(.97, .97, .97)}to{opacity:1;-webkit-transform:scale3d(1, 1, 1);transform:scale3d(1, 1, 1)}}.op-player .bounceIn{-webkit-animation-duration:.75s;animation-duration:.75s;-webkit-animation-name:bounceIn;animation-name:bounceIn}@-webkit-keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}.op-player .fadeIn{-webkit-animation-name:fadeIn;animation-name:fadeIn}.op-player .animated{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-fill-mode:both;animation-fill-mode:both}@media (prefers-reduced-motion){.op-player .animated{-webkit-animation:unset !important;animation:unset !important;-webkit-transition:none !important;transition:none !important}}@media only screen and (max-width:399px){.op-seek-button{display:none !important}}`,"",{version:3,sources:["webpack://./src/stylesheet/ovenplayer.less"],names:[],mappings:"AAAA,gBAAS,CAMT,sBACE,GACE,sBAAW,CAGb,KACE,wBAAW,CAAA,CAIf,mCACE,KACE,sCAAA,CACA,8BAAW,CAGb,GACE,iBAAA,CACA,yCAAA,CACA,iCAAW,CAAA,CAIf,2BACE,KACE,sCAAA,CACA,8BAAW,CAGb,GACE,iBAAA,CACA,yCAAA,CACA,iCAAW,CAAA,CAIf,gCACE,KACE,yCAAA,CACA,iCAAA,CACA,SAAA,CAGF,GACE,sCAAA,CACA,8BAAW,CAAA,CAIf,wBACE,KACE,yCAAA,CACA,iCAAA,CACA,SAAA,CAGF,GACE,sCAAA,CACA,8BAAW,CAAA,CAIf,WACE,uBAAA,CACA,8DAAA,CACA,kBAAA,CACA,iBAAA,CAGF,WACE,sBAAA,CACA,8DAAA,CACA,kBAAA,CACA,iBAAA,CAGF,WACE,2BAAA,CACA,8DAAA,CACA,kBAAA,CACA,iBAAA,CAOF,MACE,yBAAA,CAGF,sBACE,eAAA,CAEA,cAAA,CAGF,uBACE,iBAAA,CACA,eAAA,CAEA,eAAA,CACA,iBAAA,CACA,UAAA,CACA,aAAA,CACA,sCAAA,CACA,qBAAA,CACA,0BAAA,CACA,6BAAA,CACA,qBAAA,CACA,UAAA,CACA,cAAA,CACA,eAAA,CACA,SAAA,CAEA,0BAAA,CACA,gBAAA,CAnBF,yBAsBI,kBAAA,CAtBJ,8BA0BI,UAAA,CACA,WAAA,CACA,iBAAA,CAGF,2DAEE,0BAAA,CACA,6BAAA,CACA,qBAAA,CAGF,wFAGE,0BAAA,CACA,6BAAA,CACA,qBAAA,CAGF,qCACE,sBAAA,CACA,uBAAA,CACA,KAAA,CACA,OAAA,CACA,QAAA,CACA,MAAA,CACA,YAAA,CACA,QAAA,CACA,cAAA,CATF,0HAaI,WAAA,CACA,8BAAA,CACA,2BAAA,CACA,gBAAA,CACA,OAAA,CACA,QAAA,CACA,+BAAW,CAKf,mCACE,WAAA,CADF,oDAKI,sCAAA,CACA,8BAAA,CAEA,8BAAA,CACA,sBAAA,CACA,gCAAA,CACA,wBAAA,CAXJ,wHAgBI,WAAA,CAhBJ,8DAoBI,WAAA,CAIJ,6DAGI,uBAAA,CAjGN,iCAsGI,qBAAA,CAIF,2CACE,SAAA,CACA,UAAA,CAGF,kIAEE,aAAA,CACA,UAAA,CACA,kBAAA,CAGF,iDACE,kBAAA,CACA,0BAAA,CACA,kBAAA,CAGF,iDACE,WAAA,CACA,UAAA,CACA,kBAAA,CACA,yBAAA,CACA,iBAAA,CAjIJ,iCAqII,aAAA,CACA,4BAAA,CACA,SAAA,CACA,QAAA,CACA,UAAA,CACA,sCAAA,CACA,aAAA,CACA,eAAA,CACA,eAAA,CACA,mBAAA,CACA,uBAAA,CACA,QAAA,CACA,oBAAA,CACA,oBAAA,CACA,+CAAA,CAIJ,WACE,iBAAA,CACA,KAAA,CACA,WAAA,CACA,UAAA,CAJF,+BASI,iBAAA,CACA,WAAA,CAVJ,uCAoBI,iBAAA,CACA,QAAA,CACA,OAAA,CACA,UAAA,CACA,WAAA,CACA,iCAAiB,CAzBrB,6CA4BM,iBAAA,CACA,MAAA,CACA,KAAA,CACA,UAAA,CACA,WAAA,CAhCN,8CAoCM,UAAA,CACA,WAAA,CAiBN,QACE,iBAAA,CACA,WAAA,CACA,UAAA,CACA,mBAAA,CAEA,KAAA,CAEA,YACE,4BAAA,CACA,qBAAA,CACA,sBAAA,CAHF,mBAMI,mBAAA,CAdN,gCAmBI,qBAAA,CACA,iBAAA,CACA,UAAA,CACA,WAAA,CACA,MAAA,CACA,KAAA,CACA,SAAA,CAzBJ,uBA6BI,WAAA,CACA,cAAA,CACA,gBAAA,CACA,mBAAA,CACA,iBAAA,CACA,OAAA,CACA,SAAA,CACA,qBAAA,CACA,sBAAA,CACA,iBAAA,CACA,mCAAA,CACA,eAAA,CACA,YAAA,CAzCJ,wCA4CM,aAAA,CAEA,kBAAA,CACA,cAAA,CACA,gBAAA,CACA,iBAAA,CACA,oBAAA,CACA,UAAA,CACA,qBAAA,CApDN,wCAwDM,gBAAA,CACA,cAAA,CACA,aAAA,CACA,kBAAA,CACA,cAAA,CACA,sCAAA,CAEA,8CACE,iBAAA,CACA,qBAAA,CAjER,0CAqEQ,oBAAA,CACA,UAAA,CAWR,WACE,oBAAA,CACA,WAAA,CACA,sBAAA,CACA,SAAA,CACA,aAAA,CACA,kBAAA,CACA,eAAA,CACA,eAAA,CACA,wBAAA,CAEA,4BAEE,SAAA,CAIJ,SACE,sCAAA,CACA,iBAAA,CACA,kBAAA,CACA,UAAA,CAEA,iBAAA,CACA,UAAA,CACA,cAAA,CACA,gBAAA,CAEA,aAAA,CACA,uBAAA,CACA,iBAAA,CAGA,mBAAA,CACA,mBAAA,CAGA,kCAAA,CACA,iCAAA,CAEA,cAAA,CAEA,iBACE,aAAA,CAIA,+BACE,eAAS,CAKX,8BACE,eAAS,CAKX,wCACE,eAAS,CAKX,sCACE,eAAS,CAKX,+BACE,eAAS,CAKX,gCACE,eAAS,CAKX,gCACE,eAAS,CAKX,yBACE,eAAS,CAKX,2BACE,eAAS,CAKX,8BACE,eAAS,CAKX,iCACE,eAAS,CAKX,kCACE,eAAS,CAKX,+BACE,eAAS,CAKX,4BACE,eAAS,CAKX,0BACE,eAAS,CAIb,yBACE,YAAA,CACA,eAAA,CAEA,iCACE,eAAS,CAIb,wBACE,YAAA,CAEA,gCACE,eAAS,CAKX,+BACE,eAAS,CAKX,6BACE,eAAS,CAKX,4BACE,eAAS,CAKf,UACE,oBAAA,CACA,iCAAA,CACA,aAAA,CACA,aAAA,CACA,iBAAA,CACA,kBAAA,CACA,uBAAA,CACA,oBAAA,CACA,wBAAA,CAGF,aACE,iBAAA,CACA,UAAA,CACA,WAAA,CACA,MAAA,CACA,KAAA,CACA,eAAA,CACA,eAAA,CACA,SAAA,CARF,uBAWI,iBAAA,CACA,UAAA,CACA,YAAA,CACA,UAAA,CAdJ,uBAkBI,UAAA,CACA,iBAAA,CAnBJ,wBAuBI,WAAA,CACA,iBAAA,CAxBJ,iCA4BI,iBAAA,CACA,gBAAA,CAEA,uCACE,aAAA,CACA,UAAA,CACA,UAAA,CAlCN,uDAsCM,WAAA,CAtCN,+BA2CI,WAAA,CACA,eAAA,CACA,iBAAA,CA7CJ,wDAgDM,gBAAA,CACA,iBAAA,CACA,OAAA,CACA,WAAA,CACA,8BAAA,CACA,0BAAA,CACA,UAAA,CACA,MAAA,CAvDN,2DA2DM,UAAA,CACA,WAAA,CACA,iBAAA,CACA,iBAAA,CACA,gBAAA,CACA,eAAA,CAhEN,oFAmEQ,QAAA,CACA,iBAAA,CACA,OAAA,CACA,iBAAA,CACA,gBAAA,CACA,8BAAA,CACA,0BAAA,CACA,UAAA,CA1ER,qDA+EM,kBAAA,CACA,iBAAA,CACA,mBAAA,CACA,YAAA,CACA,kBAAA,CACA,cAAA,CApFN,uEAwFQ,kBAAA,CACA,iBAAA,CACA,aAAA,CACA,yBAAA,CACA,YAAA,CACA,mBAAA,CACA,WAAA,CACA,uBAAA,CACA,mBAAA,CACA,oBAAA,CACA,cAAA,CAEA,8EACE,aAAA,CACA,4BAAO,CAFT,0GAKI,oBAAA,CACA,mCAAc,CA1G1B,mGA+GU,iBAAA,CACA,aAAA,CACA,UAAA,CACA,SAAA,CACA,eAAA,CACA,+BAAA,CACA,qBAAA,CArHV,uGAwHY,iBAAA,CACA,KAAA,CACA,QAAA,CACA,MAAA,CACA,UAAA,CACA,WAAA,CACA,QAAA,CAGF,yGACE,wBAAA,CAEA,2GACE,QAAA,CACA,iBAAA,CACA,OAAA,CACA,QAAA,CACA,+BAAA,CACA,qBAAA,CACA,0BAAA,CAIJ,2GACE,kBAAA,CACA,aAAA,CACA,UAAS,CAlJrB,+FAuJU,iBAAA,CACA,iBAAA,CACA,aAAA,CACA,kBAAA,CACA,eAAA,CACA,sBAAA,CAcV,gBACE,iBAAA,CACA,KAAA,CACA,MAAA,CACA,UAAA,CACA,WAAA,CACA,SAAA,CANF,sCASI,iBAAA,CACA,OAAA,CACA,gBAAA,CACA,UAAA,CACA,cAAA,CACA,iBAAA,CAdJ,uDAiBM,oBAAA,CACA,mCAAA,CACA,kBAAA,CACA,oBAAA,CACA,aAAA,CACA,iBAAA,CACA,cAAA,CAvBN,+EA0BQ,cAAA,CACA,eAAA,CACA,UAAA,CA5BR,uDAkCM,oBAAA,CACA,eAAA,CACA,UAAA,CApCN,gEAuCQ,cAAA,CACA,cAAA,CACA,UAAA,CACA,WAAA,CACA,gBAAA,CACA,oBAAA,CACA,oDAAA,CAcR,qFACE,cAAA,CAGF,8FACE,cAAA,CAOF,wBACE,cAAA,CACA,iBAAA,CACA,OAAA,CACA,QAAA,CACA,+BAAA,CACA,iBAAA,CACA,SAAA,CAPF,sCAUI,UAAA,CACA,WAAA,CACA,aAAA,CACA,cAAA,CACA,gBAAA,CACA,oDAAA,CAQJ,wBACE,iBAAA,CACA,UAAA,CACA,WAAA,CAEA,KAAA,CACA,MAAA,CAEA,SAAA,CACA,mBAAA,CATF,8CAYI,iBAAA,CACA,MAAA,CACA,KAAA,CACA,UAAA,CACA,WAAA,CAhBJ,kDAmBM,UAAA,CACA,WAAA,CApBN,mEAwBM,iBAAA,CACA,SAAA,CACA,QAAA,CACA,eAAA,CACA,iBAAA,CACA,gBAAA,CACA,eAAA,CACA,oDAAA,CAEA,yEACE,aAAA,CACA,UAAA,CACA,UAAA,CAUR,wBACE,iBAAA,CACA,UAAA,CACA,WAAA,CAEA,KAAA,CACA,MAAA,CAEA,SAAA,CARF,sCAWI,iBAAA,CACA,oBAAA,CAZJ,0CAeM,UAAA,CACA,WAAA,CAhBN,yDAoBM,cAAA,CASN,kBACE,iBAAA,CACA,WAAA,CACA,UAAA,CACA,eAAA,CACA,eAAA,CACA,WAAA,CAEA,gBAAA,CACA,mCAAA,CACA,mCAAA,CACA,SAAA,CAEA,6BAGE,YAAA,CAhBJ,uEAqBI,UAAA,CACA,WAAA,CACA,gBAAA,CACA,cAAA,CACA,YAAA,CACA,eAAA,CA1BJ,wFAgCQ,iBAAA,CACA,gBAAA,CAjCR,2FAsCQ,kBAAA,CACA,iBAAA,CAQF,oEACE,sCAAA,CAhDR,qFAoDQ,iBAAA,CApDR,wFAwDQ,WAAA,CACA,kBAAA,CACA,gBAAA,CA1DR,yFA8DQ,WAAA,CACA,kBAAA,CA/DR,uFAmEQ,iBAAA,CACA,iBAAA,CApER,+FAwEQ,kBAAA,CAYR,uBACE,YAAA,CADF,wCAII,iBAAA,CACA,QAAA,CACA,UAAA,CACA,UAAA,CACA,SAAA,CAaA,mCAAA,CACA,2BAAA,CAEA,8BAAA,CACA,sBAAA,CACA,gCAAA,CACA,wBAAA,CA3BJ,4DAWM,iBAAA,CACA,UAAA,CACA,WAAA,CACA,mCAAA,CACA,mBAAA,CAfN,kEA8BM,aAAA,CACA,iBAAA,CACA,UAAA,CACA,UAAA,CACA,WAAA,CAEA,oGACE,cAAA,CArCR,0FAyCQ,iBAAA,CACA,UAAA,CACA,WAAA,CACA,WAAA,CACA,cAAA,CA7CR,qDAoDM,iBAAA,CACA,UAAA,CACA,WAAA,CACA,eAAA,CACA,eAAA,CAEA,2DACE,UAAA,CACA,UAAA,CA5DR,wEAgEQ,iBAAA,CACA,iBAAA,CAjER,yEAqEQ,iBAAA,CACA,iBAAA,CAtER,oEA0EQ,UAAA,CACA,WAAA,CACA,gBAAA,CA5ER,uEAgFQ,iBAAA,CACA,KAAA,CACA,MAAA,CACA,qBAAA,CAEA,6EACE,UAAA,CACA,UAAA,CAvFV,wEA4FQ,iBAAA,CACA,KAAA,CACA,OAAA,CACA,qBAAA,CAEA,8EACE,UAAA,CACA,UAAA,CAnGV,uEAyGQ,iBAAA,CACA,oBAAA,CACA,gBAAA,CACA,eAAA,CACA,eAAA,CACA,WAAA,CA9GR,wFAiHU,gBAAA,CACA,iBAAA,CACA,iBAAA,CACA,UAAA,CApHV,oGAuHY,iBAAA,CAGE,kHACE,eAAS,CAIb,0GACE,kCAAA,CACA,UAAA,CACA,eAAA,CACA,iBAAA,CACA,kBAAA,CACA,mBAAA,CACA,mBAAA,CAGA,kCAAA,CACA,iCAAA,CACA,iBAAA,CACA,eAAA,CACA,MAAA,CACA,gBAAA,CACA,WAAA,CA/Id,8GAmJc,gBAAA,CACA,cAAA,CACA,gBAAA,CACA,WAAA,CAkBd,gBACE,iBAAA,CACA,QAAA,CACA,MAAA,CACA,UAAA,CACA,WAAA,CACA,YAAA,CACA,eAAA,CAPF,0CAUI,wBAAA,CACA,uCAAkB,CAXtB,kCAeI,cAAA,CACA,iBAAA,CACA,WAAA,CACA,gCAAA,CAlBJ,6JAuBM,iBAAA,CACA,MAAA,CACA,QAAA,CACA,UAAA,CACA,WAAA,CA3BN,oDA+BM,OAAA,CA/BN,oDAmCM,OAAA,CACA,sCAAA,CApCN,qDAwCM,MAAA,CACA,OAAA,CACA,sCAAA,CA1CN,+CAgDI,iBAAA,CACA,QAAA,CACA,MAAA,CAlDJ,oEAqDM,UAAA,CACA,WAAA,CACA,iBAAA,CACA,cAAA,CAxDN,qCA6DI,YAAA,CACA,iBAAA,CACA,WAAA,CACA,SAAA,CACA,UAAA,CACA,mCAAA,CACA,iBAAA,CACA,eAAA,CACA,cAAA,CACA,gBAAA,CACA,gBAAA,CACA,kBAAA,CACA,UAAA,CAMJ,2CACE,oBAAA,CAGF,kCACE,YAAA,CAGF,0DAEE,YAAA,CACA,iBAAA,CACA,SAAA,CACA,WAAA,CACA,WAAA,CACA,wBAAA,CACA,uCAAkB,CAGpB,wBACE,iBAAA,CACA,YAAA,CACA,WAAA,CACA,qBAAA,CACA,iBAAA,CACA,qBAAA,CACA,SAAA,CAGF,oBACE,gBAAA,CAOF,gBAEE,iBAAA,CACA,OAAA,CAEA,oCACE,gBAAA,CAGF,uCACE,eAAA,CAVJ,kBAcI,eAAA,CACA,cAAA,CAfJ,qBAmBI,iBAAA,CACA,UAAA,CACA,MAAA,CACA,OAAA,CACA,iBAAA,CACA,cAAA,CACA,gBAAA,CACA,cAAA,CAQJ,sBACE,oBAAA,CACA,iBAAA,CACA,gBAAA,CAEA,4BACE,UAAA,CACA,UAAA,CAPJ,wCAWI,UAAA,CAGF,yBACE,KACE,MAAA,CAAA,CAIJ,iBACE,KACE,MAAA,CAAA,CAtBN,kDA4BI,UAAA,CACA,SAAA,CACA,iBAAA,CACA,SAAA,CACA,cAAA,CACA,gBAAA,CACA,WAAA,CACA,cAAA,CACA,gBAAA,CACA,YAAA,CAEA,yDACE,UAAA,CACA,SAAA,CACA,eAAA,CACA,qDAAA,CACA,wDAAA,CACA,gDAAwB,CA7C9B,oEAiDM,WAAA,CACA,iBAAA,CAlDN,qLAsDQ,iBAAA,CACA,aAAA,CACA,MAAA,CACA,OAAA,CACA,UAAA,CACA,eAAA,CACA,kBAAA,CA5DR,yFAgEQ,UAAA,CACA,eAAA,CAjER,4FAqEQ,UAAA,CACA,kBAAA,CACA,iCAAA,CACA,2BAAA,CAxER,6FA+EQ,iBAAA,CACA,OAAA,CACA,SAAA,CACA,UAAA,CACA,WAAA,CACA,kBAAA,CACA,eAAA,CACA,eAAA,CAcR,iBACE,UAAA,CACA,iBAAA,CACA,gBAAA,CACA,WAAA,CACA,gBAAA,CACA,kBAAA,CACA,kBAAA,CACA,cAAA,CACA,gBAAA,CATF,gCAiBI,SAAA,CACA,UAAA,CACA,oBAAA,CAEA,uCACE,kBAAA,CACA,oBAAA,CACA,iBAAA,CACA,QAAA,CACA,SAAA,CACA,UAAA,CACA,gBAAA,CACA,UAAA,CACA,iBAAA,CAGF,6DACE,eAAA,CAGF,0DACE,YAAA,CAtCN,0DA0CM,oBAAA,CACA,gBAAA,CA3CN,8CA+CM,cAAA,CAWN,kBACE,0BAAA,CACA,6BAAA,CACA,qBAAA,CACA,aAAA,CACA,iBAAA,CACA,eAAA,CACA,WAAA,CACA,aAAA,CACA,SAAA,CACA,6BAAA,CACA,mCAAA,CACA,mBAAA,CACA,gBAAA,CAEA,iDAEE,0BAAA,CACA,6BAAA,CACA,qBAAA,CAGF,yEAGE,0BAAA,CACA,6BAAA,CACA,qBAAA,CA3BJ,mCA+BI,UAAA,CACA,WAAA,CACA,iBAAA,CACA,gBAAA,CACA,cAAA,CACA,YAAA,CACA,cAAA,CACA,mBAAA,CACA,sBAAA,CACA,kBAAA,CACA,eAAA,CAEA,yCACE,sCAAA,CAeN,sBACE,iBAAA,CACA,iBAAA,CAFF,8CAKI,YAAA,CAQJ,sBACE,iBAAA,CACA,OAAA,CACA,UAAA,CACA,QAAA,CACA,iBAAA,CACA,gBAAA,CACA,SAAA,CACA,YAAA,CARF,kCAYI,oBAAA,CACA,iBAAA,CACA,UAAA,CACA,WAAA,CAEA,4BAAA,CACA,4BAAA,CACA,2CAAA,CACA,iBAAA,CAEA,uDAAqB,CAErB,gBACE,GACE,sBAAW,CAGb,KACE,wBAAW,CAAA,CAYnB,8CAGI,iBAAA,CACA,WAAA,CACA,UAAA,CACA,cAAA,CACA,iBAAA,CACA,qDAAA,CACA,wDAAA,CACA,gDAAwB,CAV5B,+DAaM,UAAA,CACA,aAAA,CACA,iBAAA,CACA,4BAAA,CACA,iBAAA,CACA,gBAAA,CACA,qBAAA,CACA,oBAAA,CACA,WAAA,CACA,eAAA,CAKN,mBACE,UAAA,CAGF,qBACE,cAAA,CACA,oDAAA,CACA,uDAAA,CACA,+CAAuB,CAGzB,wCACE,aAAA,CAOF,6BACE,cAAA,CADF,8CAII,aAAA,CACA,eAAA,CAKJ,8BACE,cAAA,CADF,+CAII,eAAA,CACA,iBAAA,CAIJ,6BACE,cAAA,CADF,8CAII,eAAA,CACA,iBAAA,CALJ,0CASI,YAAA,CATJ,4DAYM,YAAA,CAMN,8BACE,cAAA,CADF,oEAMM,UAAA,CACA,WAAA,CACA,cAAA,CACA,gBAAA,CATN,+CAcI,eAAA,CACA,iBAAA,CAfJ,2CAmBI,YAAA,CAnBJ,+DAsBM,aAAA,CAtBN,6DA0BM,YAAA,CACA,iBAAA,CACA,aAAA,CACA,cAAA,CACA,aAAA,CA9BN,qFAiCQ,YAAA,CAjCR,oEAwCM,OAAA,CACA,gBAAA,CAzCN,qFA4CQ,YAAA,CA5CR,6FA+CU,cAAA,CACA,UAAA,CACA,WAAA,CACA,gBAAA,CAlDV,6CAyDI,WAAA,CAzDJ,8DA4DM,WAAA,CACA,cAAA,CAKN,iDAGI,eAAA,CACA,eAAA,CAJJ,yDAQI,cAAA,CAKJ,kDAGI,WAAA,CAHJ,+DAOM,OAAA,CAPN,iFAUQ,WAAA,CACA,SAAA,CAXR,kFAeQ,WAAA,CACA,SAAA,CAhBR,yCAsBI,KAAA,CACA,QAAA,CAvBJ,qDA4BM,UAAA,CACA,WAAA,CACA,cAAA,CA9BN,mGAyCI,WAAA,CASF,gBACE,KACE,UAAA,CAMF,IACE,SAAA,CAGF,IACE,SAAA,CAGF,GACE,UAAA,CAAA,CAIJ,4BAEE,wBAME,kEAAA,CACA,0DAA2B,CAG7B,GACE,SAAA,CACA,qCAAA,CACA,6BAAW,CAGb,IACE,wCAAA,CACA,gCAAW,CAGb,IACE,qCAAA,CACA,6BAAW,CAGb,IACE,SAAA,CACA,2CAAA,CACA,mCAAW,CAGb,IACE,wCAAA,CACA,gCAAW,CAGb,GACE,SAAA,CACA,kCAAA,CACA,0BAAW,CAAA,CAIf,oBAEE,wBAME,kEAAA,CACA,0DAA2B,CAG7B,GACE,SAAA,CACA,qCAAA,CACA,6BAAW,CAGb,IACE,wCAAA,CACA,gCAAW,CAGb,IACE,qCAAA,CACA,6BAAW,CAGb,IACE,SAAA,CACA,2CAAA,CACA,mCAAW,CAGb,IACE,wCAAA,CACA,gCAAW,CAGb,GACE,SAAA,CACA,kCAAA,CACA,0BAAW,CAAA,CA9GjB,qBAmHI,+BAAA,CACA,uBAAA,CACA,+BAAA,CACA,uBAAA,CAGF,0BACE,KACE,SAAA,CAGF,GACE,SAAA,CAAA,CAIJ,kBACE,KACE,SAAA,CAGF,GACE,SAAA,CAAA,CAzIN,mBA8II,6BAAA,CACA,qBAAA,CA/IJ,qBAmJI,6BAAA,CACA,qBAAA,CACA,gCAAA,CACA,wBAAA,CAGF,gCAAA,qBAEI,kCAAA,CACA,0BAAA,CACA,kCAAA,CACA,0BAAA,CAAA,CAwBN,yCACE,gBACE,uBAAA,CAAA",sourcesContent:[`@charset "UTF-8";

/**
 * @brief   Animation
 * */

@keyframes op-spinner {
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
}

@-webkit-keyframes op-slideOutDown {
  from {
    -webkit-transform: translate3d(0, 0, 0);
    transform: translate3d(0, 0, 0);
  }

  to {
    visibility: hidden;
    -webkit-transform: translate3d(0, 100%, 0);
    transform: translate3d(0, 100%, 0);
  }
}

@keyframes op-slideOutDown {
  from {
    -webkit-transform: translate3d(0, 0, 0);
    transform: translate3d(0, 0, 0);
  }

  to {
    visibility: hidden;
    -webkit-transform: translate3d(0, 100%, 0);
    transform: translate3d(0, 100%, 0);
  }
}

@-webkit-keyframes op-slideInUp {
  from {
    -webkit-transform: translate3d(0, 100%, 0);
    transform: translate3d(0, 100%, 0);
    opacity: 1;
  }

  to {
    -webkit-transform: translate3d(0, 0, 0);
    transform: translate3d(0, 0, 0);
  }
}

@keyframes op-slideInUp {
  from {
    -webkit-transform: translate3d(0, 100%, 0);
    transform: translate3d(0, 100%, 0);
    opacity: 1;
  }

  to {
    -webkit-transform: translate3d(0, 0, 0);
    transform: translate3d(0, 0, 0);
  }
}

@font-face {
  font-family: "frameIcon";
  src: url("../assets/images/ic-player-frame-jump.ttf?rxg7gj") format('truetype');
  font-weight: normal;
  font-style: normal;
}

@font-face {
  font-family: 'op-icons';
  src: url('../assets/fonts/fontello.ttf?13010392') format('truetype');
  font-weight: normal;
  font-style: normal;
}

@font-face {
  font-family: 'op-seek-icons';
  src: url('../assets/fonts/seek-icons.ttf?13010392') format('truetype');
  font-weight: normal;
  font-style: normal;
}

/**
 * @brief   common style
 * */

:root {
  --op-accent-color: #50e3c2;
}

.op-fullscreen-helper {
  overflow: hidden;
  // for preventing scroll on iOS
  position: fixed;
}

.op-wrapper.ovenplayer {
  position: relative;
  max-height: 100%;

  overflow: hidden;
  zoom: 1 !important;
  width: 100%;
  display: block;
  font-family: Helvetica, Arial, sans-serif;
  background-color: #000;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  box-sizing: border-box;
  color: #fff;
  font-size: 14px;
  font-weight: 100;
  outline: 0;

  -webkit-touch-callout: none;
  user-select: none;

  * {
    box-sizing: inherit;
  }

  object {
    width: 100%;
    height: 100%;
    position: absolute;
  }

  &:before,
  &:after {
    -moz-box-sizing: border-box;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
  }

  & *,
  & *:before,
  & *:after {
    -moz-box-sizing: border-box;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
  }

  &.op-fullscreen {
    width: 100vw !important;
    height: 100vh !important;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    z-index: 9999;
    margin: 0;
    position: fixed;

    .op-watermark-container,
    .op-thumbnail-container {
      width: 100vw;
      max-width: calc(100vh * 16 / 9);
      height: calc(100vw * 9 / 16);
      max-height: 100vh;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }

  }

  &.op-autohide {
    cursor: none;

    .op-bottom-panel {

      -webkit-animation-name: op-slideOutDown;
      animation-name: op-slideOutDown;

      -webkit-animation-duration: 0.2s;
      animation-duration: 0.2s;
      -webkit-animation-fill-mode: both;
      animation-fill-mode: both;
    }

    .op-progressbar-container,
    .op-controls .op-button {
      cursor: none;
    }

    .op-caption-text-container {
      bottom: 25px;
    }
  }

  &.op-no-controls {

    .op-controls-container {
      display: none !important;
    }
  }

  .op-ratio {
    padding-bottom: 56.25%;
    /*16:9*/
  }

  & ::-webkit-scrollbar {
    width: 5px;
    height: 8px;
  }

  & ::-webkit-scrollbar-button:start:decrement,
  ::-webkit-scrollbar-button:end:increment {
    display: block;
    height: 3px;
    background: #2f2f3e;
  }

  & ::-webkit-scrollbar-track {
    background: #2f2f3e;
    -webkit-border-radius: 10px;
    border-radius: 10px;
  }

  & ::-webkit-scrollbar-thumb {
    height: 50px;
    width: 50px;
    background: #606071;
    -webkit-border-radius: 8px;
    border-radius: 8px;
  }

  .op-clear {
    color: inherit;
    background-color: transparent;
    padding: 0;
    margin: 0;
    float: none;
    font-family: Helvetica, Arial, sans-serif;
    font-size: 1em;
    line-height: 1em;
    list-style: none;
    text-transform: none;
    vertical-align: baseline;
    border: 0;
    font-variant: inherit;
    font-stretch: inherit;
    -webkit-tap-highlight-color: rgba(255, 255, 255, 0);
  }
}

.op-player {
  position: absolute;
  top: 0;
  height: 100%;
  width: 100%;



  .op-core-ui-wrapper {
    position: relative;
    height: 100%;
  }

  .op-media-element-container {
    /* display: block;
    height: 100%;
    width: auto;
    position : relative;*/


    position: absolute;
    left: 0px;
    top: 0px;
    width: 100%;
    height: 100%;
    transform: scale(var(--mediaZoom));

    video {
      position: absolute;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
    }

    object {
      width: 100%;
      height: 100%;
    }
  }

  .op-ui {

    /*position : absolute;
    bottom : 0px;
    left : 0px;
    width: 100%;
    height: 100%;*/
    .op-controls-container {}

    .op-helpers-container {}
  }
}

.op-ads {
  position: absolute;
  height: 100%;
  width: 100%;
  padding-bottom: 34px;
  //pointer-events: none;
  top: 0;

  &>div {
    position: absolute !important;
    width: 100% !important;
    height: 100% !important;

    iframe {
      pointer-events: auto;
    }
  }

  video.op-ads-vast-video {
    background-color: rgb(0, 0, 0);
    position: absolute;
    width: 100%;
    height: 100%;
    left: 0;
    top: 0;
    z-index: 1;
  }

  .op-ads-button {
    bottom: 36px;
    cursor: default;
    margin-right: 4px;
    pointer-events: auto;
    position: absolute;
    right: 0;
    z-index: 1;
    width: auto !important;
    height: auto !important;
    border-radius: 4px;
    background-color: rgba(18, 18, 28, 0.7);
    min-width: 155px;
    display: none;

    .op-ads-textview {
      color: #e6e6e6;
      //font-family: arial,sans-serif;
      font-weight: normal;
      font-size: 11px;
      padding: 6px 12px;
      text-align: center;
      display: inline-block;
      width: 100%;
      vertical-align: middle;
    }

    .videoAdUiAction {
      padding: 8px 24px;
      cursor: pointer;
      direction: ltr;
      font-weight: normal;
      font-size: 20px;
      border: 1px solid rgba(255, 255, 255, 0.5);

      &:hover {
        border-radius: 4px;
        border: 1px solid rgba(255, 255, 255, 1);
      }

      i {
        display: inline-block;
        width: auto;
      }
    }
  }

}

/**
 * @brief   common components
 * */

.op-button {
  display: inline-block;
  border: none;
  background: transparent;
  padding: 0;
  color: inherit;
  text-align: inherit;
  overflow: hidden;
  font-weight: 100;
  text-indent: 0 !important;

  &:focus,
  & {
    outline: 0;
  }
}

i.op-con {
  font-family: "op-icons", "op-seek-icons";
  font-style: normal;
  font-weight: normal;
  speak: none;

  font-size: inherit;
  width: auto;
  font-size: 30px;
  line-height: 30px;

  display: block;
  text-decoration: inherit;
  text-align: center;

  /* For safety - reset parent styles, that can break glyph codes*/
  font-variant: normal;
  text-transform: none;

  /* Font smoothing. That was taken from TWBS */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;

  cursor: pointer;

  &.disable {
    color: #4f4f4f;
  }

  &.op-close-icon {
    &::before {
      content: "\\e900";
    }
  }

  &.op-pause-big {
    &::before {
      content: "\\e911";
    }
  }

  &.op-fullscreen-compress {
    &::before {
      content: "\\e901";
    }
  }

  &.op-fullscreen-expand {
    &::before {
      content: "\\e902";
    }
  }

  &.op-arrow-left {
    &::before {
      content: "\\e903";
    }
  }

  &.op-arrow-right {
    &::before {
      content: "\\e909";
    }
  }

  &.op-empty-video {
    &::before {
      content: "\\e904";
    }
  }

  &.op-play {
    &::before {
      content: "\\e906";
    }
  }

  &.op-replay {
    &::before {
      content: "\\e908";
    }
  }

  &.op-seek-back {
    &::before {
      content: "\\e920";
    }
  }

  &.op-seek-forward {
    &::before {
      content: "\\e921";
    }
  }

  &.op-playlist-icon {
    &::before {
      content: "\\e907";
    }
  }

  &.op-replay-big {
    &::before {
      content: "\\e908";
    }
  }

  &.op-setting {
    &::before {
      content: "\\e90A";
    }
  }

  &.op-pause {
    &::before {
      content: "\\e90C";
    }
  }

  &.op-volume-small {
    display: none;
    margin-top: -1px;

    &::before {
      content: "\\e90D";
    }
  }

  &.op-volume-mute {
    display: none;

    &::before {
      content: "\\e90E";
    }
  }

  &.op-volume-max {
    &::before {
      content: "\\e90F";
    }
  }

  &.op-play-big {
    &::before {
      content: "\\e910";
    }
  }

  &.op-warning {
    &::before {
      content: "\\e912";
    }
  }
}

.op-badge {
  display: inline-block;
  padding: .75em .714em .714em .680em;
  font-size: 1em;
  line-height: 1;
  text-align: center;
  white-space: nowrap;
  vertical-align: baseline;
  border-radius: 0.286em;
  background-color: #12121c;
}

.op-playlist {
  position: absolute;
  width: 100%;
  height: 100%;
  left: 0;
  top: 0;
  padding: 2.857em;
  background: #000;
  z-index: 6;

  .op-badge {
    position: absolute;
    top: 0.857em;
    right: 0.857em;
    opacity: 0.7;
  }

  .btn-left {
    float: left;
    font-size: 2.857em;
  }

  .btn-right {
    float: right;
    font-size: 2.857em;
  }

  .op-playlist-header {
    font-size: 2.857em;
    font-weight: bold;

    &:after {
      display: block;
      content: '';
      clear: both;
    }

    .op-con.op-close-icon {
      float: right;
    }
  }

  .op-playlist-body {
    height: 100%;
    overflow: hidden;
    position: relative;

    .op-playlist-body-arrows {
      margin-top: -15px;
      position: absolute;
      top: 50%;
      height: 30px;
      -ms-transform: translateY(-50%);
      transform: translateY(-50%);
      width: 100%;
      left: 0;
    }

    .op-playlist-body-container {
      width: 100%;
      height: 100%;
      position: relative;
      margin-right: auto;
      margin-left: auto;
      max-width: 992px;

      .op-playlist-body-center {
        margin: 0;
        position: absolute;
        top: 50%;
        padding-right: 3em;
        padding-left: 3em;
        -ms-transform: translateY(-50%);
        transform: translateY(-50%);
        width: 100%;
      }
    }

    .op-playlist-body-row {
      margin-right: -15px;
      margin-left: -15px;
      display: -ms-flexbox;
      display: flex;
      -ms-flex-wrap: wrap;
      flex-wrap: wrap;


      .op-playlist-card {
        padding-right: 15px;
        padding-left: 15px;
        margin: 15px 0;
        -ms-flex-preferred-size: 0;
        flex-basis: 0;
        -ms-flex-positive: 1;
        flex-grow: 1;
        -ms-flex: 0 0 33.333333%;
        flex: 0 0 33.333333%;
        max-width: 33.333333%;
        cursor: pointer;

        &.active {
          color: #50e3c2;
          color: var(--op-accent-color);

          .op-playlist-card-thumbnail {
            border-color: #50e3c2;
            border-color: var(--op-accent-color);
          }
        }

        .op-playlist-card-thumbnail {
          position: relative;
          display: block;
          width: 100%;
          padding: 0;
          overflow: hidden;
          border: 0.214em solid transparent;
          background-color: #000;

          img {
            position: absolute;
            top: 0;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 0;
          }

          &.empty {
            background-color: #bababa;

            &>i {
              margin: 0;
              position: absolute;
              top: 50%;
              left: 50%;
              transform: translate(-50%, -50%);
              color: #fff !important;
              font-size: 1.6em !important;
            }
          }

          &::before {
            padding-top: 56.25%;
            display: block;
            content: "";
          }
        }

        .op-playlist-card-title {
          margin-top: 0.857em;
          font-size: 1.429em;
          padding: 2px 0;
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
        }

      }
    }

  }
}


/**
 * @brief   Message Box
 * */

.op-message-box {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 4;

  .op-message-container {
    position: absolute;
    top: 45%;
    margin-top: -35px;
    width: 100%;
    padding: 0 12px;
    text-align: center;

    .op-message-text {
      display: inline-block;
      background-color: rgba(18, 18, 28, .3);
      padding: 0.8em 1.2em;
      word-wrap: break-word;
      max-width: 80%;
      border-radius: 4px;
      cursor: pointer;

      .op-message-description {
        font-size: 12px;
        margin-top: 12px;
        color: #999;
      }
    }


    .op-message-icon {
      display: inline-block;
      margin-top: 12px;
      width: 100%;

      i.op-con {
        cursor: pointer;
        font-size: 80px;
        width: 80px;
        height: 80px;
        line-height: 80px;
        display: inline-block;
        text-shadow: 2px 2px 7px rgb(0 0 0 / 80%), 0px 0px 1px rgb(0 0 0);
      }
    }

    /*.op-message-button{
      display: inline-block;
      padding : 1em;
      margin-left : 0.4em;
      background-color: rgba(28,28,28,.4);
      cursor : pointer;
    }*/
  }
}

.op-message-box.op-message-box-default-cursor .op-message-container .op-message-text {
  cursor: default;
}

.op-message-box.op-message-box-default-cursor .op-message-container .op-message-icon i.op-con {
  cursor: default;
}

/**
 * @brief   Big button
 * */

.op-bigbutton-container {
  cursor: pointer;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
  z-index: 5;

  .op-bigbutton {
    width: 80px;
    height: 80px;
    display: block;
    font-size: 80px;
    line-height: 80px;
    text-shadow: 2px 2px 7px rgb(0 0 0 / 80%), 0px 0px 1px rgb(0 0 0);
  }
}

/**
 * @brief   Thumbnail
 * */

.op-thumbnail-container {
  position: absolute;
  width: 100%;
  height: 100%;
  //padding-bottom: 56.25%;
  top: 0;
  left: 0;
  //transform: translate(-50%, -50%);
  z-index: 2;
  pointer-events: none;

  .op-thumbnail-wrapper {
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;

    img {
      width: 100%;
      height: 100%;
    }

    .op-thumbnail-header {
      position: absolute;
      left: 1rem;
      top: 1rem;
      padding: 0 0.5rem;
      font-size: 2.857em;
      font-weight: bold;
      line-height: 1.4;
      text-shadow: 2px 2px 7px rgb(0 0 0 / 80%), 0px 0px 1px rgb(0 0 0);

      &:after {
        display: block;
        content: '';
        clear: both;
      }
    }
  }
}

/**
 * @brief   WaterMark
 * */

.op-watermark-container {
  position: absolute;
  width: 100%;
  height: 100%;
  //padding-bottom: 56.25%;
  top: 0;
  left: 0;
  //transform: translate(-50%, -50%);
  z-index: 3;

  .op-watermark {
    position: absolute;
    display: inline-block;

    img {
      width: 100%;
      height: auto;
    }

    .op-watermark-text {
      font-size: 14px;
    }
  }
}

/**
 * @brief   Setting panel
 * */

.op-setting-panel {
  position: absolute;
  bottom: 55px;
  right: 12px;
  overflow-y: auto;
  max-height: 100%;
  width: 260px;
  //font-size: 0.8em;
  user-select: none;
  background-color: rgba(28, 28, 28, .9);
  text-shadow: 0 0 2px rgba(0, 0, 0, .5);
  z-index: 8;

  &.background {
    //opacity: 0;
    //background-color: rgba(28,28,28,.0);
    display: none;
  }

  .op-setting-title,
  .op-setting-item {
    width: 100%;
    height: 38px;
    line-height: 38px;
    cursor: pointer;
    outline: none;
    text-align: left;
  }

  .op-setting-title-container {
    .op-setting-title {
      .op-setting-title-title {
        padding-left: 12px;
        font-weight: bold;
        //font-size: 0.9rem;
      }

      .op-setting-title-previcon {
        padding: 0 0 0 12px;
        margin-right: -6px;
      }

    }
  }

  .op-setting-item-container {
    .op-setting-item {
      &:hover {
        background-color: rgba(255, 255, 255, .1);
      }

      .op-setting-item-title {
        padding-left: 12px;
      }

      .op-setting-item-nexticon {
        float: right;
        padding-right: 12px;
        margin-left: -6px;
      }

      span.op-setting-item-value {
        float: right;
        padding-right: 12px;
      }

      .op-setting-item-checked {
        padding-left: 12px;
        visibility: hidden;
      }

      .op-setting-item-checked.op-show {
        visibility: visible;
      }
    }
  }
}



/**
 * @brief   Controls (container)
 * */

.op-controls-container {
  display: none;

  .op-bottom-panel {
    position: absolute;
    left: 0px;
    bottom: 0px;
    width: 100%;
    z-index: 5;

    .op-gradient-bottom {
      position: absolute;
      width: 100%;
      height: 100%;
      background-color: rgba(18, 18, 18, 0.5);
      pointer-events: none;
      /*-moz-transition: opacity .25s cubic-bezier(0.0,0.0,0.2,1);
      -webkit-transition: opacity .25s cubic-bezier(0.0,0.0,0.2,1);
      transition: opacity .25s cubic-bezier(0.0,0.0,0.2,1);*/
    }

    -webkit-animation-name: op-slideInUp;
    animation-name: op-slideInUp;

    -webkit-animation-duration: 0.5s;
    animation-duration: 0.5s;
    -webkit-animation-fill-mode: both;
    animation-fill-mode: both;

    .op-progressbar-container {
      display: block;
      position: relative;
      width: 100%;
      height: 4px;
      bottom: 50px;

      &.op-progressbar-container-disabled {
        cursor: default;
      }

      .op-progressbar-padding {
        position: absolute;
        width: 100%;
        height: 15px;
        bottom: -5px;
        cursor: pointer;
      }
    }


    /*contols container*/
    .op-controls {
      position: relative;
      width: 100%;
      height: 50px;
      text-align: left;
      overflow: hidden;

      &:after {
        content: '';
        clear: both;
      }

      .op-setting-button {
        position: relative;
        margin-right: 12px;
      }

      .op-playlist-button {
        position: relative;
        margin-right: 12px;
      }

      .op-navigators {
        float: left;
        height: 30px;
        line-height: 30px;
      }

      .op-left-controls {
        position: absolute;
        top: 0;
        left: 0;
        padding: 14px 0 10px 0;

        &:after {
          content: '';
          clear: both;
        }
      }

      .op-right-controls {
        position: absolute;
        top: 0;
        right: 0;
        padding: 14px 0 10px 0;

        &:after {
          content: '';
          clear: both;
        }
      }

      /*maybe not use*/
      .op-frame-buttons {
        position: relative;
        display: inline-block;
        margin-left: 14px;
        overflow: hidden;
        font-weight: 100;
        height: 30px;

        .op-frame-button {
          margin-right: 6px;
          position: relative;
          text-align: center;
          color: #fff;

          .frame-icon {
            position: relative;

            &.reverse {
              &:after {
                content: '\\e900';
              }
            }

            &:after {
              font-family: 'frameIcon' !important;
              speak: none;
              content: '\\e901';
              font-style: normal;
              font-weight: normal;
              font-variant: normal;
              text-transform: none;

              /* Better Font Rendering =========== */
              -webkit-font-smoothing: antialiased;
              -moz-osx-font-smoothing: grayscale;
              position: absolute;
              font-size: 2.4em;
              left: 0;
              line-height: 30px;
              height: 30px;
            }

            .btn-text {
              font-weight: bold;
              font-size: 0.8em;
              line-height: 30px;
              height: 30px;
            }

          }

        }

      }
    }
  }

}


/**
 * @brief   Progressbar
 * */

.op-progressbar {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 100%;
  outline: none;
  margin-top: 10px;

  .op-play-background-color {
    background-color: #50e3c2; // for ie 11
    background-color: var(--op-accent-color);
  }

  .op-progress-list {
    cursor: pointer;
    position: relative;
    height: 100%;
    background: rgba(255, 255, 255, 0.2);

    .op-load-progress,
    .op-play-progress,
    .op-hover-progress {
      position: absolute;
      left: 0;
      bottom: 0;
      width: 100%;
      height: 100%;
    }

    .op-play-progress {
      width: 0;
    }

    .op-load-progress {
      width: 0;
      background-color: rgba(255, 255, 255, .5);
    }

    .op-hover-progress {
      left: 0;
      width: 0;
      background-color: rgba(255, 255, 255, .6);
    }

  }

  .op-progressbar-knob-container {
    position: absolute;
    top: -5px;
    left: 0;

    .op-progressbar-knob {
      width: 14px;
      height: 14px;
      border-radius: 7px;
      cursor: pointer;
    }
  }

  .op-progressbar-time {
    display: none;
    position: absolute;
    bottom: 15px;
    left: auto;
    width: auto;
    background-color: rgba(28, 28, 28, 0.9);
    border-radius: 2px;
    padding: 5px 9px;
    font-size: 0.8em;
    line-height: 15px;
    user-select: none;
    white-space: nowrap;
    opacity: 0.7;
  }


}

.op-progressbar-hover .op-progressbar-time {
  display: inline-block;
}

.op-on-error .op-progressbar-time {
  display: none;
}

.op-progressbar-section-start,
.op-progressbar-section-end {
  display: none;
  position: absolute;
  width: 3px;
  height: 14px;
  bottom: -5px;
  background-color: #50e3c2;
  background-color: var(--op-accent-color);
}

.op-progressbar-preview {
  position: absolute;
  display: none;
  bottom: 50px;
  border: 2px solid #fff;
  border-radius: 2px;
  background-color: #000;
  z-index: 9;
}

.op-play-controller {
  margin-left: 15px;
}

/**
 * @brief   Seek button
 * */

.op-seek-button {
  //display: none;
  position: relative;
  top: 0px;

  &.op-seek-button-back {
    margin-left: 12px;
  }

  &.op-seek-button-forward {
    margin-left: 6px;
  }

  i {
    padding-top: 1px;
    font-size: 26px;
  }

  span {
    position: absolute;
    top: 10.5px;
    left: 0;
    right: 0;
    text-align: center;
    font-size: 10px;
    line-height: 10px;
    cursor: pointer;
  }
}


/**
 * @brief   Volume button
 * */
.op-volume-controller {
  display: inline-block;
  position: relative;
  margin-left: 12px;

  &:after {
    content: '';
    clear: both;
  }

  .op-volume-button {
    float: left;
  }

  @-webkit-keyframes slide {
    100% {
      left: 0;
    }
  }

  @keyframes slide {
    100% {
      left: 0;
    }
  }

  .op-volume-slider-container {
    /*display: inline-block;*/
    float: left;
    opacity: 0;
    position: relative;
    width: 0px;
    margin-right: 0;
    line-height: 30px;
    height: 30px;
    cursor: pointer;
    user-select: none;
    outline: none;

    &.active {
      width: 70px;
      opacity: 1;
      margin-left: 8px;
      -moz-transition: opacity .4s cubic-bezier(0.0, 0.0, 0.2, 1);
      -webkit-transition: opacity .4s cubic-bezier(0.0, 0.0, 0.2, 1);
      transition: opacity .4s cubic-bezier(0.0, 0.0, 0.2, 1);
    }

    .op-volume-silder {
      height: 100%;
      position: relative;

      .op-volume-slider-bg,
      .op-volume-slider-value {
        position: absolute;
        display: block;
        left: 0;
        top: 50%;
        height: 4px;
        margin-top: -2px;
        border-radius: 10px;
      }

      .op-volume-slider-bg {
        width: 100%;
        background: #fff;
      }

      .op-volume-slider-value {
        width: 100%;
        background: #50e3c2;
        background: var(--op-accent-color);
        border-radius: 10px 0 0 10px;
        //-moz-transition: width .2s cubic-bezier(0.0,0.0,0.2,1);
        //-webkit-transition: width .2s cubic-bezier(0.0,0.0,0.2,1);
        //transition: width .2s cubic-bezier(0.0,0.0,0.2,1);
      }

      .op-volume-slider-handle {
        position: absolute;
        top: 50%;
        left: 30px;
        width: 12px;
        height: 12px;
        border-radius: 10px;
        margin-top: -6px;
        background: #fff;
        //-moz-transition: left .2s cubic-bezier(0.0,0.0,0.2,1);
        //-webkit-transition: left .2s cubic-bezier(0.0,0.0,0.2,1);
        //transition: left .2s cubic-bezier(0.0,0.0,0.2,1);
      }
    }
  }
}


/**
 * @brief   Time Display
 * */

.op-time-display {
  float: left;
  position: relative;
  margin-left: 14px;
  height: 30px;
  line-height: 30px;
  white-space: nowrap;
  vertical-align: top;
  font-size: 14px;
  user-select: none;
  /*흠 이부분 어떻게 처리하지*/

  .op-time-current,
  .op-time-separator,
  .op-time-duration {}

  .op-live-badge {
    opacity: 1;
    width: auto;
    display: inline-block;

    &:before {
      background: #ff0000;
      display: inline-block;
      position: relative;
      top: -2px;
      width: 6px;
      height: 6px;
      margin-right: 5px;
      content: '';
      border-radius: 6px;
    }

    &.op-live-badge-delayed:before {
      background: #fff;
    }

    &.op-live-badge-none:before {
      display: none;
    }

    .op-live-badge-lowlatency {
      display: inline-block;
      margin-right: 5px;
    }

    .op-live-text {
      cursor: pointer;
    }
  }

}


/**
 * @brief   Context Panel
 * */

.op-context-panel {
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  box-sizing: border-box;
  display: block;
  position: absolute;
  overflow: hidden;
  width: 200px;
  padding: 6px 0;
  z-index: 8;
  background: rgba(28, 28, 28, 0.9);
  text-shadow: 0 0 2px rgba(0, 0, 0, .5);
  font-weight: lighter;
  user-select: none;

  &:before,
  &:after {
    -moz-box-sizing: border-box;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
  }

  & *,
  & *:before,
  & *:after {
    -moz-box-sizing: border-box;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
  }

  .op-context-item {
    width: 100%;
    height: 38px;
    padding-left: 12px;
    line-height: 38px;
    cursor: pointer;
    outline: none;
    font-size: 0.8em;
    font-weight: lighter;
    text-overflow: ellipsis;
    white-space: nowrap;
    overflow: hidden;

    &:hover {
      background-color: rgba(255, 255, 255, .1);
    }
  }

}






/**
 * @brief   FullScreen button
 * */

.op-fullscreen-button {
  position: relative;
  margin-right: 15px;

  .op-fullscreen-compress {
    display: none;
  }
}

/**
 * @brief   spinner
 * */

.op-spinner-container {
  position: absolute;
  top: 50%;
  width: 64px;
  left: 50%;
  margin-left: -32px;
  margin-top: -32px;
  z-index: 7;
  display: none;


  .op-spinner {
    display: inline-block;
    position: relative;
    width: 64px;
    height: 64px;

    border: 4px solid transparent;
    border-top: 4px solid #50e3c2;
    border-top: 4px solid var(--op-accent-color);
    border-radius: 50%;

    animation: spin 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;

    @keyframes spin {
      0% {
        transform: rotate(0deg);
      }

      100% {
        transform: rotate(360deg);
      }
    }
  }

}


/**
 * @brief   caption.
 * */

.op-caption-viewer {

  .op-caption-text-container {
    position: absolute;
    bottom: 60px;
    width: 100%;
    padding: 0 12px;
    text-align: center;
    -moz-transition: bottom .25s cubic-bezier(0.0, 0.0, 0.2, 1);
    -webkit-transition: bottom .25s cubic-bezier(0.0, 0.0, 0.2, 1);
    transition: bottom .25s cubic-bezier(0.0, 0.0, 0.2, 1);

    .op-caption-text {
      color: #fff;
      font-size: 1em;
      line-height: 1.2em;
      text-shadow: 2px 2px 2px gray;
      padding: .1em .3em;
      user-select: none;
      word-break: break-word;
      white-space: pre-line;
      border: none;
      background: none;
    }
  }
}

.op-caption-button {
  width: 36px;
}

.op-caption-button>i {
  font-size: 18px;
  -moz-transition: color .25s cubic-bezier(0.0, 0.0, 0.2, 1);
  -webkit-transition: color .25s cubic-bezier(0.0, 0.0, 0.2, 1);
  transition: color .25s cubic-bezier(0.0, 0.0, 0.2, 1);
}

.op-caption-active .op-caption-button>i {
  color: #F36446;
}



/*Responsive  */

.op-wrapper.ovenplayer.large {
  font-size: 14px;

  .op-caption-text {
    font-size: 2em;
    line-height: 2em;
  }

}

.op-wrapper.ovenplayer.medium {
  font-size: 12px;

  .op-caption-text {
    font-size: 1.4em;
    line-height: 1.4em;
  }
}

.op-wrapper.ovenplayer.small {
  font-size: 10px;

  .op-caption-text {
    font-size: 1.4em;
    line-height: 1.4em;
  }

  .op-playlist {
    padding: 1rem;

    .op-playlist-card {
      margin: 5px 0;
    }
  }

}

.op-wrapper.ovenplayer.xsmall {
  font-size: 10px;

  .op-bigbutton-container {

    .op-bigbutton {
      width: 60px;
      height: 60px;
      font-size: 60px;
      line-height: 60px;
    }
  }

  .op-caption-text {
    font-size: 1.4em;
    line-height: 1.4em;
  }

  .op-playlist {
    padding: 1rem;

    .op-playlist-header {
      font-size: 2em;
    }

    .op-playlist-card {
      margin: 5px 0;
      -ms-flex: 0 0 100%;
      flex: 0 0 100%;
      max-width: 100%;
      padding: 0 6em;

      .op-playlist-card-title {
        margin-top: 0;
      }
    }
  }

  .op-message-box {
    .op-message-container {
      top: 50%;
      font-weight: bold;

      .op-message-icon {
        margin-top: 0;

        .op-con {
          font-size: 40px;
          width: 40px;
          height: 40px;
          line-height: 40px;
        }
      }
    }
  }

  .op-ads-button {
    bottom: 22px;

    .videoAdUiAction {
      padding: 4px;
      font-size: 14px;
    }
  }
}

.op-wrapper.ovenplayer.xxsmall {

  .op-left-controls {
    max-width: 240px; // for small layout
    overflow: hidden; // for small layout
  }

  .op-live-badge-lowlatency {
    max-width: 75px;
  }
}

/*AD MODE*/
.op-wrapper.ovenplayer.linear-ad {

  .op-bottom-panel {
    height: 34px;

    .op-controls {

      top: 4px;

      .op-left-controls {
        height: 30px;
        padding: 0;
      }

      .op-right-controls {
        height: 30px;
        padding: 0;
      }
    }
  }

  .op-ads {
    top: 0;
    bottom: 0;
  }

  .op-button {
    i.op-con {
      width: 24px;
      height: 24px;
      font-size: 24px;
    }
  }

  .op-right-controls {
    .op-button {
      //margin-top: -2px;
    }
  }

  .op-controls-container .op-bottom-panel .op-progressbar-container {
    bottom: 50px;
  }
}

/**
 * @brief   Animation
 * */

.op-player {
  @keyframes fade {
    from {
      opacity: 0.3;
    }

    /*5% { opacity: 0.3; }*/
    /*40% { opacity: 1; }*/
    /*50% { opacity: 1; }*/
    55% {
      opacity: 1;
    }

    75% {
      opacity: 1;
    }

    to {
      opacity: 0.3;
    }
  }

  @-webkit-keyframes bounceIn {

    from,
    20%,
    40%,
    60%,
    80%,
    to {
      -webkit-animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
      animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
    }

    0% {
      opacity: 0;
      -webkit-transform: scale3d(0.5, 0.5, 0.5);
      transform: scale3d(0.5, 0.5, 0.5);
    }

    20% {
      -webkit-transform: scale3d(1.1, 1.1, 1.1);
      transform: scale3d(1.1, 1.1, 1.1);
    }

    40% {
      -webkit-transform: scale3d(0.9, 0.9, 0.9);
      transform: scale3d(0.9, 0.9, 0.9);
    }

    60% {
      opacity: 1;
      -webkit-transform: scale3d(1.03, 1.03, 1.03);
      transform: scale3d(1.03, 1.03, 1.03);
    }

    80% {
      -webkit-transform: scale3d(0.97, 0.97, 0.97);
      transform: scale3d(0.97, 0.97, 0.97);
    }

    to {
      opacity: 1;
      -webkit-transform: scale3d(1, 1, 1);
      transform: scale3d(1, 1, 1);
    }
  }

  @keyframes bounceIn {

    from,
    20%,
    40%,
    60%,
    80%,
    to {
      -webkit-animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
      animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
    }

    0% {
      opacity: 0;
      -webkit-transform: scale3d(0.3, 0.3, 0.3);
      transform: scale3d(0.3, 0.3, 0.3);
    }

    20% {
      -webkit-transform: scale3d(1.1, 1.1, 1.1);
      transform: scale3d(1.1, 1.1, 1.1);
    }

    40% {
      -webkit-transform: scale3d(0.9, 0.9, 0.9);
      transform: scale3d(0.9, 0.9, 0.9);
    }

    60% {
      opacity: 1;
      -webkit-transform: scale3d(1.03, 1.03, 1.03);
      transform: scale3d(1.03, 1.03, 1.03);
    }

    80% {
      -webkit-transform: scale3d(0.97, 0.97, 0.97);
      transform: scale3d(0.97, 0.97, 0.97);
    }

    to {
      opacity: 1;
      -webkit-transform: scale3d(1, 1, 1);
      transform: scale3d(1, 1, 1);
    }
  }

  .bounceIn {
    -webkit-animation-duration: 0.75s;
    animation-duration: 0.75s;
    -webkit-animation-name: bounceIn;
    animation-name: bounceIn;
  }

  @-webkit-keyframes fadeIn {
    from {
      opacity: 0;
    }

    to {
      opacity: 1;
    }
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
    }

    to {
      opacity: 1;
    }
  }

  .fadeIn {
    -webkit-animation-name: fadeIn;
    animation-name: fadeIn;
  }

  .animated {
    -webkit-animation-duration: 1s;
    animation-duration: 1s;
    -webkit-animation-fill-mode: both;
    animation-fill-mode: both;
  }

  @media (prefers-reduced-motion) {
    .animated {
      -webkit-animation: unset !important;
      animation: unset !important;
      -webkit-transition: none !important;
      transition: none !important;
    }
  }


  /* Pulse Shrink */
  /*.op-button {
    //display: inline-block;
    //vertical-align: middle;
    transform: translateZ(0);
    box-shadow: 0 0 1px rgba(0, 0, 0, 0);
    backface-visibility: hidden;
    -moz-osx-font-smoothing: grayscale;
    transition-duration: 0.3s;
    transition-property: transform;
  }
  .op-button:hover,
  .op-button:focus,
  .op-button:active {
    transform: scale(1.1);
  }*/
}


@media only screen and (max-width: 399px) {
  .op-seek-button {
    display: none !important;
  }
}`],sourceRoot:""}]),c.A=T},76314:function(a){a.exports=function(c){var e=[];return e.toString=function(){return this.map((function(o){var u="",f=o[5]!==void 0;return o[4]&&(u+="@supports (".concat(o[4],") {")),o[2]&&(u+="@media ".concat(o[2]," {")),f&&(u+="@layer".concat(o[5].length>0?" ".concat(o[5]):""," {")),u+=c(o),f&&(u+="}"),o[2]&&(u+="}"),o[4]&&(u+="}"),u})).join("")},e.i=function(o,u,f,A,p){typeof o=="string"&&(o=[[null,o,void 0]]);var m={};if(f)for(var y=0;y<this.length;y++){var E=this[y][0];E!=null&&(m[E]=!0)}for(var C=0;C<o.length;C++){var T=[].concat(o[C]);f&&m[T[0]]||(p!==void 0&&(T[5]===void 0||(T[1]="@layer".concat(T[5].length>0?" ".concat(T[5]):""," {").concat(T[1],"}")),T[5]=p),u&&(T[2]&&(T[1]="@media ".concat(T[2]," {").concat(T[1],"}")),T[2]=u),A&&(T[4]?(T[1]="@supports (".concat(T[4],") {").concat(T[1],"}"),T[4]=A):T[4]="".concat(A)),e.push(T))}},e}},4417:function(a){a.exports=function(c,e){return e||(e={}),c&&(c=String(c.__esModule?c.default:c),/^['"].*['"]$/.test(c)&&(c=c.slice(1,-1)),e.hash&&(c+=e.hash),/["'() \t\n]|(%20)/.test(c)||e.needQuotes?'"'.concat(c.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):c)}},71354:function(a){a.exports=function(c){var e=c[1],o=c[3];if(!o)return e;if(typeof btoa=="function"){var u=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),f="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(u),A="/*# ".concat(f," */");return[e].concat([A]).join(`
`)}return[e].join(`
`)}},85072:function(a){var c=[];function e(f){for(var A=-1,p=0;p<c.length;p++)if(c[p].identifier===f){A=p;break}return A}function o(f,A){for(var p={},m=[],y=0;y<f.length;y++){var E=f[y],C=A.base?E[0]+A.base:E[0],T=p[C]||0,x="".concat(C," ").concat(T);p[C]=T+1;var L=e(x),D={css:E[1],media:E[2],sourceMap:E[3],supports:E[4],layer:E[5]};if(L!==-1)c[L].references++,c[L].updater(D);else{var B=u(D,A);A.byIndex=y,c.splice(y,0,{identifier:x,updater:B,references:1})}m.push(x)}return m}function u(f,A){var p=A.domAPI(A);return p.update(f),function(m){if(m){if(m.css===f.css&&m.media===f.media&&m.sourceMap===f.sourceMap&&m.supports===f.supports&&m.layer===f.layer)return;p.update(f=m)}else p.remove()}}a.exports=function(f,A){var p=o(f=f||[],A=A||{});return function(m){m=m||[];for(var y=0;y<p.length;y++){var E=e(p[y]);c[E].references--}for(var C=o(m,A),T=0;T<p.length;T++){var x=e(p[T]);c[x].references===0&&(c[x].updater(),c.splice(x,1))}p=C}}},77659:function(a){var c={};a.exports=function(e,o){var u=(function(f){if(c[f]===void 0){var A=document.querySelector(f);if(window.HTMLIFrameElement&&A instanceof window.HTMLIFrameElement)try{A=A.contentDocument.head}catch{A=null}c[f]=A}return c[f]})(e);if(!u)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");u.appendChild(o)}},10540:function(a){a.exports=function(c){var e=document.createElement("style");return c.setAttributes(e,c.attributes),c.insert(e,c.options),e}},55056:function(a,c,e){a.exports=function(o){var u=e.nc;u&&o.setAttribute("nonce",u)}},97825:function(a){a.exports=function(c){if(typeof document>"u")return{update:function(){},remove:function(){}};var e=c.insertStyleElement(c);return{update:function(o){(function(u,f,A){var p="";A.supports&&(p+="@supports (".concat(A.supports,") {")),A.media&&(p+="@media ".concat(A.media," {"));var m=A.layer!==void 0;m&&(p+="@layer".concat(A.layer.length>0?" ".concat(A.layer):""," {")),p+=A.css,m&&(p+="}"),A.media&&(p+="}"),A.supports&&(p+="}");var y=A.sourceMap;y&&typeof btoa<"u"&&(p+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(y))))," */")),f.styleTagTransform(p,u,f.options)})(e,c,o)},remove:function(){(function(o){if(o.parentNode===null)return!1;o.parentNode.removeChild(o)})(e)}}}},41113:function(a){a.exports=function(c,e){if(e.styleSheet)e.styleSheet.cssText=c;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(c))}}},78624:function(a,c,e){var o=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||e.g!==void 0&&e.g||{},u="URLSearchParams"in o,f="Symbol"in o&&"iterator"in Symbol,A="FileReader"in o&&"Blob"in o&&(function(){try{return new Blob,!0}catch{return!1}})(),p="FormData"in o,m="ArrayBuffer"in o;if(m)var y=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],E=ArrayBuffer.isView||function(N){return N&&y.indexOf(Object.prototype.toString.call(N))>-1};function C(N){if(typeof N!="string"&&(N=String(N)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(N)||N==="")throw new TypeError('Invalid character in header field name: "'+N+'"');return N.toLowerCase()}function T(N){return typeof N!="string"&&(N=String(N)),N}function x(N){var K={next:function(){var at=N.shift();return{done:at===void 0,value:at}}};return f&&(K[Symbol.iterator]=function(){return K}),K}function L(N){this.map={},N instanceof L?N.forEach((function(K,at){this.append(at,K)}),this):Array.isArray(N)?N.forEach((function(K){if(K.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+K.length);this.append(K[0],K[1])}),this):N&&Object.getOwnPropertyNames(N).forEach((function(K){this.append(K,N[K])}),this)}function D(N){if(!N._noBody)return N.bodyUsed?Promise.reject(new TypeError("Already read")):void(N.bodyUsed=!0)}function B(N){return new Promise((function(K,at){N.onload=function(){K(N.result)},N.onerror=function(){at(N.error)}}))}function O(N){var K=new FileReader,at=B(K);return K.readAsArrayBuffer(N),at}function _(N){if(N.slice)return N.slice(0);var K=new Uint8Array(N.byteLength);return K.set(new Uint8Array(N)),K.buffer}function M(){return this.bodyUsed=!1,this._initBody=function(N){var K;this.bodyUsed=this.bodyUsed,this._bodyInit=N,N?typeof N=="string"?this._bodyText=N:A&&Blob.prototype.isPrototypeOf(N)?this._bodyBlob=N:p&&FormData.prototype.isPrototypeOf(N)?this._bodyFormData=N:u&&URLSearchParams.prototype.isPrototypeOf(N)?this._bodyText=N.toString():m&&A&&(K=N)&&DataView.prototype.isPrototypeOf(K)?(this._bodyArrayBuffer=_(N.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):m&&(ArrayBuffer.prototype.isPrototypeOf(N)||E(N))?this._bodyArrayBuffer=_(N):this._bodyText=N=Object.prototype.toString.call(N):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof N=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):u&&URLSearchParams.prototype.isPrototypeOf(N)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},A&&(this.blob=function(){var N=D(this);if(N)return N;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer)return D(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer));if(A)return this.blob().then(O);throw new Error("could not read as ArrayBuffer")},this.text=function(){var N,K,at,G,q,et=D(this);if(et)return et;if(this._bodyBlob)return N=this._bodyBlob,at=B(K=new FileReader),q=(G=/charset=([A-Za-z0-9_-]+)/.exec(N.type))?G[1]:"utf-8",K.readAsText(N,q),at;if(this._bodyArrayBuffer)return Promise.resolve((function(ot){for(var bt=new Uint8Array(ot),Ct=new Array(bt.length),Tt=0;Tt<bt.length;Tt++)Ct[Tt]=String.fromCharCode(bt[Tt]);return Ct.join("")})(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},p&&(this.formData=function(){return this.text().then($)}),this.json=function(){return this.text().then(JSON.parse)},this}L.prototype.append=function(N,K){N=C(N),K=T(K);var at=this.map[N];this.map[N]=at?at+", "+K:K},L.prototype.delete=function(N){delete this.map[C(N)]},L.prototype.get=function(N){return N=C(N),this.has(N)?this.map[N]:null},L.prototype.has=function(N){return this.map.hasOwnProperty(C(N))},L.prototype.set=function(N,K){this.map[C(N)]=T(K)},L.prototype.forEach=function(N,K){for(var at in this.map)this.map.hasOwnProperty(at)&&N.call(K,this.map[at],at,this)},L.prototype.keys=function(){var N=[];return this.forEach((function(K,at){N.push(at)})),x(N)},L.prototype.values=function(){var N=[];return this.forEach((function(K){N.push(K)})),x(N)},L.prototype.entries=function(){var N=[];return this.forEach((function(K,at){N.push([at,K])})),x(N)},f&&(L.prototype[Symbol.iterator]=L.prototype.entries);var U=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function Q(N,K){if(!(this instanceof Q))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var at,G,q=(K=K||{}).body;if(N instanceof Q){if(N.bodyUsed)throw new TypeError("Already read");this.url=N.url,this.credentials=N.credentials,K.headers||(this.headers=new L(N.headers)),this.method=N.method,this.mode=N.mode,this.signal=N.signal,q||N._bodyInit==null||(q=N._bodyInit,N.bodyUsed=!0)}else this.url=String(N);if(this.credentials=K.credentials||this.credentials||"same-origin",!K.headers&&this.headers||(this.headers=new L(K.headers)),this.method=(G=(at=K.method||this.method||"GET").toUpperCase(),U.indexOf(G)>-1?G:at),this.mode=K.mode||this.mode||null,this.signal=K.signal||this.signal||(function(){if("AbortController"in o)return new AbortController().signal})(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&q)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(q),!(this.method!=="GET"&&this.method!=="HEAD"||K.cache!=="no-store"&&K.cache!=="no-cache")){var et=/([?&])_=[^&]*/;et.test(this.url)?this.url=this.url.replace(et,"$1_="+new Date().getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+new Date().getTime()}}function $(N){var K=new FormData;return N.trim().split("&").forEach((function(at){if(at){var G=at.split("="),q=G.shift().replace(/\+/g," "),et=G.join("=").replace(/\+/g," ");K.append(decodeURIComponent(q),decodeURIComponent(et))}})),K}function W(N,K){if(!(this instanceof W))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(K||(K={}),this.type="default",this.status=K.status===void 0?200:K.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=K.statusText===void 0?"":""+K.statusText,this.headers=new L(K.headers),this.url=K.url||"",this._initBody(N)}Q.prototype.clone=function(){return new Q(this,{body:this._bodyInit})},M.call(Q.prototype),M.call(W.prototype),W.prototype.clone=function(){return new W(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new L(this.headers),url:this.url})},W.error=function(){var N=new W(null,{status:200,statusText:""});return N.ok=!1,N.status=0,N.type="error",N};var X=[301,302,303,307,308];W.redirect=function(N,K){if(X.indexOf(K)===-1)throw new RangeError("Invalid status code");return new W(null,{status:K,headers:{location:N}})};var tt=o.DOMException;try{new tt}catch{(tt=function(K,at){this.message=K,this.name=at;var G=Error(K);this.stack=G.stack}).prototype=Object.create(Error.prototype),tt.prototype.constructor=tt}function V(N,K){return new Promise((function(at,G){var q=new Q(N,K);if(q.signal&&q.signal.aborted)return G(new tt("Aborted","AbortError"));var et=new XMLHttpRequest;function ot(){et.abort()}if(et.onload=function(){var Ct,Tt,$t={statusText:et.statusText,headers:(Ct=et.getAllResponseHeaders()||"",Tt=new L,Ct.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(jt){return jt.indexOf(`
`)===0?jt.substr(1,jt.length):jt})).forEach((function(jt){var ee=jt.split(":"),ce=ee.shift().trim();if(ce){var se=ee.join(":").trim();try{Tt.append(ce,se)}catch(Se){console.warn("Response "+Se.message)}}})),Tt)};q.url.indexOf("file://")===0&&(et.status<200||et.status>599)?$t.status=200:$t.status=et.status,$t.url="responseURL"in et?et.responseURL:$t.headers.get("X-Request-URL");var Vt="response"in et?et.response:et.responseText;setTimeout((function(){at(new W(Vt,$t))}),0)},et.onerror=function(){setTimeout((function(){G(new TypeError("Network request failed"))}),0)},et.ontimeout=function(){setTimeout((function(){G(new TypeError("Network request timed out"))}),0)},et.onabort=function(){setTimeout((function(){G(new tt("Aborted","AbortError"))}),0)},et.open(q.method,(function(Ct){try{return Ct===""&&o.location.href?o.location.href:Ct}catch{return Ct}})(q.url),!0),q.credentials==="include"?et.withCredentials=!0:q.credentials==="omit"&&(et.withCredentials=!1),"responseType"in et&&(A?et.responseType="blob":m&&(et.responseType="arraybuffer")),K&&typeof K.headers=="object"&&!(K.headers instanceof L||o.Headers&&K.headers instanceof o.Headers)){var bt=[];Object.getOwnPropertyNames(K.headers).forEach((function(Ct){bt.push(C(Ct)),et.setRequestHeader(Ct,T(K.headers[Ct]))})),q.headers.forEach((function(Ct,Tt){bt.indexOf(Tt)===-1&&et.setRequestHeader(Tt,Ct)}))}else q.headers.forEach((function(Ct,Tt){et.setRequestHeader(Tt,Ct)}));q.signal&&(q.signal.addEventListener("abort",ot),et.onreadystatechange=function(){et.readyState===4&&q.signal.removeEventListener("abort",ot)}),et.send(q._bodyInit===void 0?null:q._bodyInit)}))}V.polyfill=!0,o.fetch||(o.fetch=V,o.Headers=L,o.Request=Q,o.Response=W)},58233:function(a){a.exports="data:font/ttf;base64,AAEAAAAPAIAAAwBwR1NVQiCLJXoAAAD8AAAAVE9TLzI/IEqpAAABUAAAAFZjbWFwvM20gQAAAagAAAJgY3Z0IAbV/wQAABq4AAAAIGZwZ22KkZBZAAAa2AAAC3BnYXNwAAAAEAAAGrAAAAAIZ2x5Zin85QoAAAQIAAARVmhlYWQXb/zlAAAVYAAAADZoaGVhCWwFkQAAFZgAAAAkaG10eEiN/+MAABW8AAAASGxvY2ElHSFKAAAWBAAAACZtYXhwATsMoQAAFiwAAAAgbmFtZcydHyEAABZMAAACzXBvc3QO9vxxAAAZHAAAAZJwcmVw5UErvAAAJkgAAACGAAEAAAAKADAAPgACREZMVAAObGF0bgAaAAQAAAAAAAAAAQAAAAQAAAAAAAAAAQAAAAFsaWdhAAgAAAABAAAAAQAEAAQAAAABAAgAAQAGAAAAAQAAAAEECAGQAAUAAAJ6ArwAAACMAnoCvAAAAeAAMQECAAACAAUDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFBmRWQAQOkA6RIDUv9qAFoDUgCWAAAAAQAAAAAAAAAAAAUAAAADAAAALAAAAAQAAAGEAAEAAAAAAH4AAwABAAAALAADAAoAAAGEAAQAUgAAAAgACAACAADpBOkK6RL//wAA6QDpBukM//8AAAAAAAAAAQAIABAAGAAAAAEAAgADAAQABQAGAAcACAAJAAoACwAMAA0ADgAPABAAEQAAAQYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAA3AAAAAAAAAARAADpAAAA6QAAAAABAADpAQAA6QEAAAACAADpAgAA6QIAAAADAADpAwAA6QMAAAAEAADpBAAA6QQAAAAFAADpBgAA6QYAAAAGAADpBwAA6QcAAAAHAADpCAAA6QgAAAAIAADpCQAA6QkAAAAJAADpCgAA6QoAAAAKAADpDAAA6QwAAAALAADpDQAA6Q0AAAAMAADpDgAA6Q4AAAANAADpDwAA6Q8AAAAOAADpEAAA6RAAAAAPAADpEQAA6REAAAAQAADpEgAA6RIAAAARAAEAAP/SA4AC6AAjABtAGCAZDwUEAEQCAQIAAGYAAAAjACMeHQMFFCsBHgEUBwkBFhUWDwEOAScJAQYjBi8BLgE3CQEmNz4BFwkBPgEDXA4TC/61AU4KAQQCCCMP/rT+sg0IBQgEEAgOAUz+shQJBywMAUwBTgkHAucCFBsM/rT+sg0IBQgEEAgOAUz+sQoBBAIIIw8BTAFOGhEOAgv+tQFOBgIAAgAAAAADQwK2AB4AOwBCQD80AQQDAUcLAQFEAAMEA28GAQQAAgAEAmAFAQABAQBUBQEAAAFWAAEAAUofHwEAHzsfOzEwJyQTEgAeARsHBRQrATIXFgcGFQ4BJic1BwYnLgE/ASMmJyYvASY+ATsBNiUWFxYGByIHBicmNScmNzY3NjIWHQE3NhceAQ8BAbIbBwMCAgEhIAGyFxANBAqxegoFBAMCBwIRDkNZAX8cBAQbDhUuUyA0AgQBAg4JGxSzFxANBAuxAT01H1UsFRERDRV4shIICCgLsAEDAgQDChkTAYQGEQ4dAQIDBAcbMk0gNgwJEg94shIIBikMsAAAAAIAAAAAA08CrgAcADsAPUA6KQEDBAQBAAMCRwADBAAEAwBtBQECAAQDAgReAAABAQBSAAAAAVgAAQABTB4dNDMmJR07HjhEGwYFFisTHgEdATc2Fx4BDwEzFhcWBgciBwYnJjUmPwE+AQEyFxYHDgEHBi4BPQEHDgEnIy4CPwEjJicmNjM3Ns4MD7MXEA4EDLB6IQYFHhEWLlMfMwIBAQETAmYjBgUOAgMFCRsUswgJBQMNEAEKsXsdBgUZEkNZARsCEwx3shIIBigNsQQRDh4BAgMEBhstWUMQEwGOVERWCAYFCQESDnizBgMCARQZCrEEEA8fAQEAAQAA/9UCzALoABUAD0AMCAEARQAAAGYcAQUVKwEeAR8BFgYHCQEWBw4BJwEmNDcBPgECngsIBAEJAgn+tAFOFQkILQz+mwoKAWcIBwLnAgUFAQocCv60/rIbEQ0CCwFlCx0KAWcHAwABAAD/agYjA1IAEwAjQCAHBgUEBAEAAUcCAQAADEgAAQENAUkBAA0KABMBEgMFFCsBMhYVESURJREUBiMhIiY1ETQ2MwR3HSoBZf6bKh370B0qKh0DUiod/vLG/TbG/vIdKiodA1odKgAAAAACAAAAAAMgAq0ADAAPABdAFA8ODQMARAEBAABmAAAADAAMAgUUKwEyFwEWFAcBBiYnETYTLQEBLwcIAdMODv4tESEBAkABdP6MAqsF/tQKIwv+1AoRFQJYIv3D7+8AAAAFAAD/yQOHAtIAEwAxAEAAUQBUAFxAWVRTUiwcBQMCAUcLAQcABgUHBmAKAQUABAAFBGAIAQAJAQIDAAJgAAMBAQNUAAMDAVgAAQMBTEFBMjIVFAEAQVFBTUtIMkAyOzk2JB4UMRUvCwcAEwERDAUUKwEeARcWBw4BBwQlLgEnJjc+ATckBSIGFQcGFRQXHgEzFxYzFjc+ATU3NjU0Jy4BJyYFJRYXFgYHIS4BNjcyJDMyNx4BHwEWDgEjIS4BNjcyNzYDFwcDIyY6AQMDATom/tH+0SY5AgEBAjkmAS/+1A0UAQIDARMMUK9XkXQNEgECAwESDYX+9AGTHQYFGRL9qBETDRdDAQxDcBYLCAMCBwISDv4uEhENFjRo0cenpwIFAjknuromOQIEBAI5Jrq6JjsBA0YTDShuN1xJDBMBAwEFARINKW03W0kNEgECAaYEEA8fAQEhIAEEYAIEBQIKGRMBISABAQP+jXV0AAAAAAEAAAAAAxwCfgA4ADVAMjgAAgIEAUcAAAQAbwAEAgRvAAEDAXAAAgMDAlIAAgIDWAADAgNMNTQvLSopHRslBQUVKxM3Njc+ARcyHgEXFgcGBwYHBiYnJicmNhYXHgEXFjc+AScmJy4BBwYPATMeAQYrAS4BPQE0Mx4BF9VbBAInZzZAdVINDhkYNDdFQYc1NhkGER0JG3dFSTo4MwwNMyp4Oj0sWW4MDgoRrAsOGgoNAQHVVgQBJSkBPWg/RkdFMzURECItLkARGAcWPkwCAicmhkVIMSkdDg8rVAEZGAENC60ZAQ0LAAABAAD/1ALWAugAFwAdQBoSAQABAUcCAQEAAW8AAABmAAAAFwAXOwMFFSsBHgEXARYUBwEGBwYrASIuATcJASYnJjYBUQgGBgFnCgr+mwgGBAYCDhQCCwFM/rIHAQMYAucBAwX+mQodC/6bCAIBFB0MAUwBTgkIEBsAAAAABAAA/8oDigLzAA8AGwCNAQAAgUB+/gEDBKIBAAvaAQUHyAEGBQRHAAkECW8AAwQLBAMLbQACCgcKAgdtAAUHBgcFBm0ABgZuDggCBAALAAQLYAwBAA0BAQoAAWAACgIHClQACgoHWAAHCgdMHBwREAEA9/aurY+OHI0cjXx6cG9tbDc2NDMXFRAbERsADwEPDwUUKwEWFx4BBwYHBi4BJyY3PgEXDgIXFjMyPgEnJicWFx4BFxY/ATY3Njc2NzYXFhcWFxYXHgE3Nh4BFxYHBgcGBwYfARYXFhcWFxYHBgcGBwYHDgEXFg4BBwYnJicmJyYGBw4BBwYnJicmJyYnJiIHBi4BJyY3Njc2NzYmJy4BJyY3Njc2NzY3NjQnJjY3NjciBwYPAQYHBg8BBicmJyYnJgcGBwYfARYGBwYHDgEWMxcWFxYXFgcGBwYeAT8BNjc2FxYXFhceATY1NzY3Njc2FxYXFj4BLwEmJyY3Njc2NzY3PgEnJicuAScmJyYvASY3Njc2NzYnJicmDwEGLgEnLgEB9yoiIBgQEjEjTTwJChMRPyYXIgYOECMYHwMOD+wMDggeBwwJBgkLDxIXGR4gDwsGCAYEBxQRG0k4BQIHBAwJAwQDExYUGxAVAgMWChQMGBQHCwENFQUtIhEVDBcTBw0MAQI0IyUeDgoFCAYEBxYTG0k4BQMIBAsJAwMLFCI0BgYUChMMGBYHDQ8WChwd9QsJBgQDAhEMEhARFQwWEwkOCw0BAQUFFQYYGSgRDRMXDRANEwkMAgMWCw8jEA4SERgTGA4RBAIhHwcJCxARFRYaGg4gCg8HBwQGAQIZDyMYCQ4FDQYKBhsHEA8LCgcFBgQMCgMFBAUQCxAOGkQyAgEUAeMBIB9ZJysVDxQ5JikoJChDASk2ERUoNxIV8wEHAxQDBQQTFhMbEBQDBBUKFAwZFAcMAQ4VBS0iEBQLFREHDAgHCQsQEhcaHiAPCgYIBgQGFBEbSTgFAwgECwkDAwsUIjQGBhQKEwwYFgcNDxUFLSIRFQ0WEwgMDQECMyMlHg4KBQgGBAcWEx5OGxwWDAgOCxQVDg0KBQYEDAoDBQQFEAsQDhpEGBsDAiEgBwkLEBEVFhoaDiAJDwYGAwQFBhMWJxENExcNEA0TCQwCAxYLDyMQCQwMERAaFAsRCwUKFg8HAwIBAgUQCxAOERUMFhMJDgsNAQEFBRUIMyQNEgAAAAIAAAAAArwCrQAKABYAHkAbDgMCAEQDAQIDAABmCwsAAAsWCxYACgAKBAUUKwEeARcRDgEmJxE2BR4BFxEUBiYnET4BAVANEQEBISABAgFvDREBIiABARECqwETDf2oERMNFwJYIgEBEw39qBETDRcCWA8TAAAAAAMAAAAAAuMCrAAVAB8AMwBDQEAOAQIEDQEAAwJHHwEBRR4BAEQFAQQBAgEEAm0AAQACAwECYAADAAADVAADAwBWAAADAEogICAzIDMhJRcZBgUYKwEeARURBgcGLwEjLgEnET4BNzM3PgEHBisBFTMyHwERFx4CBwYHBiYnJjc+ASYvASY3NgH2DRIBFA8Sv3wNEQEBEw55xAMHrQoLZGQLCpK6HysLDQ8jDSUEBhMWDRIXAwIFBgKrARMN/agiAwINnwITDQEKDhMBogMC4gjICHkByk4DQF8uMiIMChASFRlEQhgPEQoOAAAAAwAAAAADjgKsABUAIgA+ADtAOA4BAgE7NS8oBAMCDQEAAwNHIgEBRSEBAEQAAQACAwECXgADAAADVAADAwBWAAADAEohJxcZBAUYKwEeARURFA4BLwIuAScRPgE3Mzc+AQcOAQcrARUzMhYfAREFHgEUDwEXFgcOAS8BBwYuAT8BJyY+AR8BNz4BAfgNEBMZCr98DREBARMOecEICLAGBgUEZGQJBQWUAZMNEAlMThEHBygMTE8OIQwOTU8KDSAOTU4IBwKrAhIN/agNEgMInwECEg0BCg4TAaAFAuIFAgHIAgR7AcpgAhMaCkxPFw8NBQtNTwoMIQ9MTw0hDA1NTwYCAAAEAAAAAAOLAqwAFQAzAEAAVgBkQGFAMAIBAw4BBAcNAQYFPyYCAgAERwgBAwEDbwkBBwEEAQcEbQAGBQAFBgBtAAIAAnAAAQAEBQEEXgAFBgAFVAAFBQBWAAAFAEpBQRYWQVZBVklIPDo5NxYzFjMjIhcZCgUWKwEeARURFA4BLwIuAScRPgE3Mzc+AQUWFxYXFhceAQcGDwEGJyYnNDc+AScmLwEmNzQ3NgUOAQcrARUzMhYfAREXHgIHBgcGIiY2Nz4BJi8BJjU0NzYB+A0QEhkLv3wNEQEBEw55wgUJARQSCwYKBQQ0HBkaPhARDA8BGDIhFBQ2AwIBBwj+TQYGBQRkZAkFBZS7HyoLDg8iCRsUAQ8VDRIXAwIHCAKrAhIN/agNEgMInwECEg0BCg4TAaAEA0ECCgYPCgVFsFRYPwIBBAQMDxo4mEpNNgkLCQwICKEFAgHIAgR7AcpOBEFeLjIhCREdERlDQhgJCwkMBwkAAAAE//T/agP3A1IAAAAYADMANgA0QDE2NQIDAgFHBQECAgBYBAEAAAxIAAMDAVgAAQENAUkaGQIBJyUZMxozDgwBGAIYBgUUKwExFhcWFxYXFgYHDgEHIicuAicmNjc+ARcGBwYHBgcGHgEXHgEzNjc+Ajc2JyYnJicmEwURAfdxamdHSRYXTllFt2FkWk+BUwwQT1VFuFttZWNERhUPGEk6QrFdYFZMfE8KDSEgRUZdWpT+cANSATY2W11wevdWQkgBJSF3m1V151JDSRQBNDNYWmtOoZA3QEQBJCB0l1JlZWNPUCko/iD6AfQAAAT/9P9qA/cDUgAXADAANAA4AFBATQsHCgMFAgQCBQRtBgEEAwIEA2sJAQICAFgIAQAADEgAAwMBWAABAQ0BSTU1MTEZGAEANTg1ODc2MTQxNDMyJSMYMBkwDQsAFwEXDAUUKwEWFxYXFhcWBgcOAQciJy4CJyY2Nz4BFwYHBgcGBwYWFx4BFzI3PgI3NicmJy4BAxEjESERIxEB93FqZ0dJFhdOWUW3YWRaT4FTDBBPVUW4W2xlY0RHFRdLVkKwXWBWTHxQCw4fHkNFuLxGASxGA1IBNjZbXXB691ZCSAElIXebVXXnUkNJFAE0M1ZaanbuU0BFASQfc5VRZGVkT1FW/vL+XAGk/lwBpAAE//v/qAPsAxQAFQAvAD8ASgBUQFE7NAIFBAFHCAEEAgUCBAVtCQEFAwIFA2sGAQAHAQIEAAJgAAMBAQNUAAMDAVkAAQMBTUFAMDAXFgEAQEpBSjA/MD8lHxYvFy8NCgAVARUKBRQrAR4BFxYTFxYGBwYHIS4BJyY/ARI3NhcOAQcGAwcGHgEXFiU2Mz4CJyYnJi8BLgEDMhcWFxUUBicmPQE0Nz4BEx4BBgcGJy4BNzYB9hgqDWjLYxAMGBok/NYgNAcIEXq8YB0zEh8KXLOGDAkkGrQBabRaGCYMDU1lPXssCiAQBgYWAiYRFAIEEQ8SEwUMDRUTDAoLAxQBGRSr/qaoHUMXGQEBLiEjH88BP54uGQESD5f+z+QVMiQBBAMBASIxF4qqZstIEBL++QMIGtUSFQYHGtUIBA0N/qEBIywMDQgHMBQWAAAAAAEAAAABAABrmkE9Xw889QALA+gAAAAA2RzcogAAAADZHNyi//T/agYjA1IAAAAIAAIAAAAAAAAAAQAAA1L/agAABiP/9P/xBiMAAQAAAAAAAAAAAAAAAAAAABID6AAAA+gAAAPoAAAD6AAAA+gAAAYjAAAD6AAAA+gAAAPoAAAD6AAAA+gAAAPoAAAD6AAAA+gAAAPoAAAD6P/0A+j/9APo//sAAAAAAFIA0gFOAYIBuAHoAqADFANSBRwFWAXOBlAHCgeACAYIqwAAAAEAAAASAQEABQAAAAAAAgAeAC4AcwAAAJILcAAAAAAAAAASAN4AAQAAAAAAAAA1AAAAAQAAAAAAAQAIADUAAQAAAAAAAgAHAD0AAQAAAAAAAwAIAEQAAQAAAAAABAAIAEwAAQAAAAAABQALAFQAAQAAAAAABgAIAF8AAQAAAAAACgArAGcAAQAAAAAACwATAJIAAwABBAkAAABqAKUAAwABBAkAAQAQAQ8AAwABBAkAAgAOAR8AAwABBAkAAwAQAS0AAwABBAkABAAQAT0AAwABBAkABQAWAU0AAwABBAkABgAQAWMAAwABBAkACgBWAXMAAwABBAkACwAmAclDb3B5cmlnaHQgKEMpIDIwMTkgYnkgb3JpZ2luYWwgYXV0aG9ycyBAIGZvbnRlbGxvLmNvbWZvbnRlbGxvUmVndWxhcmZvbnRlbGxvZm9udGVsbG9WZXJzaW9uIDEuMGZvbnRlbGxvR2VuZXJhdGVkIGJ5IHN2ZzJ0dGYgZnJvbSBGb250ZWxsbyBwcm9qZWN0Lmh0dHA6Ly9mb250ZWxsby5jb20AQwBvAHAAeQByAGkAZwBoAHQAIAAoAEMAKQAgADIAMAAxADkAIABiAHkAIABvAHIAaQBnAGkAbgBhAGwAIABhAHUAdABoAG8AcgBzACAAQAAgAGYAbwBuAHQAZQBsAGwAbwAuAGMAbwBtAGYAbwBuAHQAZQBsAGwAbwBSAGUAZwB1AGwAYQByAGYAbwBuAHQAZQBsAGwAbwBmAG8AbgB0AGUAbABsAG8AVgBlAHIAcwBpAG8AbgAgADEALgAwAGYAbwBuAHQAZQBsAGwAbwBHAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAHMAdgBnADIAdAB0AGYAIABmAHIAbwBtACAARgBvAG4AdABlAGwAbABvACAAcAByAG8AagBlAGMAdAAuAGgAdAB0AHAAOgAvAC8AZgBvAG4AdABlAGwAbABvAC4AYwBvAG0AAAAAAgAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASAQIBAwEEAQUBBgEHAQgBCQEKAQsBDAENAQ4BDwEQAREBEgETAA9pYy1wbGF5ZXItY2xvc2UdaWMtcGxheWVyLWZ1bGxzY3JlZW4tY29tcHJlc3MbaWMtcGxheWVyLWZ1bGxzY3JlZW4tZXhwYW5kDmljLXBsYXllci1sZWZ0E2ljLXBsYXllci1ub24tdGh1bWIOaWMtcGxheWVyLXBsYXkSaWMtcGxheWVyLXBsYXlsaXN0EmljLXBsYXllci1yZS1sYXJnZQ9pYy1wbGF5ZXItcmlnaHQRaWMtcGxheWVyLXNldHRpbmcOaWMtcGxheWVyLXN0b3ASaWMtcGxheWVyLXZvbHVtZS0yFWljLXBsYXllci12b2x1bWUtbXV0ZRBpYy1wbGF5ZXItdm9sdW1lFGljLXBsYXllci1wbGF5LWxhcmdlFGljLXBsYXllci1zdG9wLWxhcmdlEWljLXBsYXllci13YXJuaW5nAAAAAAABAAH//wAPAAAAAAAAAAAAAAAAAAAAAAAYABgAGAAYA1L/agNS/2qwACwgsABVWEVZICBLuAAOUUuwBlNaWLA0G7AoWWBmIIpVWLACJWG5CAAIAGNjI2IbISGwAFmwAEMjRLIAAQBDYEItsAEssCBgZi2wAiwgZCCwwFCwBCZasigBCkNFY0VSW1ghIyEbilggsFBQWCGwQFkbILA4UFghsDhZWSCxAQpDRWNFYWSwKFBYIbEBCkNFY0UgsDBQWCGwMFkbILDAUFggZiCKimEgsApQWGAbILAgUFghsApgGyCwNlBYIbA2YBtgWVlZG7ABK1lZI7AAUFhlWVktsAMsIEUgsAQlYWQgsAVDUFiwBSNCsAYjQhshIVmwAWAtsAQsIyEjISBksQViQiCwBiNCsQEKQ0VjsQEKQ7ABYEVjsAMqISCwBkMgiiCKsAErsTAFJbAEJlFYYFAbYVJZWCNZISCwQFNYsAErGyGwQFkjsABQWGVZLbAFLLAHQyuyAAIAQ2BCLbAGLLAHI0IjILAAI0JhsAJiZrABY7ABYLAFKi2wBywgIEUgsAtDY7gEAGIgsABQWLBAYFlmsAFjYESwAWAtsAgssgcLAENFQiohsgABAENgQi2wCSywAEMjRLIAAQBDYEItsAosICBFILABKyOwAEOwBCVgIEWKI2EgZCCwIFBYIbAAG7AwUFiwIBuwQFlZI7AAUFhlWbADJSNhRESwAWAtsAssICBFILABKyOwAEOwBCVgIEWKI2EgZLAkUFiwABuwQFkjsABQWGVZsAMlI2FERLABYC2wDCwgsAAjQrILCgNFWCEbIyFZKiEtsA0ssQICRbBkYUQtsA4ssAFgICCwDENKsABQWCCwDCNCWbANQ0qwAFJYILANI0JZLbAPLCCwEGJmsAFjILgEAGOKI2GwDkNgIIpgILAOI0IjLbAQLEtUWLEEZERZJLANZSN4LbARLEtRWEtTWLEEZERZGyFZJLATZSN4LbASLLEAD0NVWLEPD0OwAWFCsA8rWbAAQ7ACJUKxDAIlQrENAiVCsAEWIyCwAyVQWLEBAENgsAQlQoqKIIojYbAOKiEjsAFhIIojYbAOKiEbsQEAQ2CwAiVCsAIlYbAOKiFZsAxDR7ANQ0dgsAJiILAAUFiwQGBZZrABYyCwC0NjuAQAYiCwAFBYsEBgWWawAWNgsQAAEyNEsAFDsAA+sgEBAUNgQi2wEywAsQACRVRYsA8jQiBFsAsjQrAKI7ABYEIgYLABYbUQEAEADgBCQopgsRIGK7ByKxsiWS2wFCyxABMrLbAVLLEBEystsBYssQITKy2wFyyxAxMrLbAYLLEEEystsBkssQUTKy2wGiyxBhMrLbAbLLEHEystsBwssQgTKy2wHSyxCRMrLbAeLACwDSuxAAJFVFiwDyNCIEWwCyNCsAojsAFgQiBgsAFhtRAQAQAOAEJCimCxEgYrsHIrGyJZLbAfLLEAHistsCAssQEeKy2wISyxAh4rLbAiLLEDHistsCMssQQeKy2wJCyxBR4rLbAlLLEGHistsCYssQceKy2wJyyxCB4rLbAoLLEJHistsCksIDywAWAtsCosIGCwEGAgQyOwAWBDsAIlYbABYLApKiEtsCsssCorsCoqLbAsLCAgRyAgsAtDY7gEAGIgsABQWLBAYFlmsAFjYCNhOCMgilVYIEcgILALQ2O4BABiILAAUFiwQGBZZrABY2AjYTgbIVktsC0sALEAAkVUWLABFrAsKrABFTAbIlktsC4sALANK7EAAkVUWLABFrAsKrABFTAbIlktsC8sIDWwAWAtsDAsALABRWO4BABiILAAUFiwQGBZZrABY7ABK7ALQ2O4BABiILAAUFiwQGBZZrABY7ABK7AAFrQAAAAAAEQ+IzixLwEVKi2wMSwgPCBHILALQ2O4BABiILAAUFiwQGBZZrABY2CwAENhOC2wMiwuFzwtsDMsIDwgRyCwC0NjuAQAYiCwAFBYsEBgWWawAWNgsABDYbABQ2M4LbA0LLECABYlIC4gR7AAI0KwAiVJiopHI0cjYSBYYhshWbABI0KyMwEBFRQqLbA1LLAAFrAEJbAEJUcjRyNhsAlDK2WKLiMgIDyKOC2wNiywABawBCWwBCUgLkcjRyNhILAEI0KwCUMrILBgUFggsEBRWLMCIAMgG7MCJgMaWUJCIyCwCEMgiiNHI0cjYSNGYLAEQ7ACYiCwAFBYsEBgWWawAWNgILABKyCKimEgsAJDYGQjsANDYWRQWLACQ2EbsANDYFmwAyWwAmIgsABQWLBAYFlmsAFjYSMgILAEJiNGYTgbI7AIQ0awAiWwCENHI0cjYWAgsARDsAJiILAAUFiwQGBZZrABY2AjILABKyOwBENgsAErsAUlYbAFJbACYiCwAFBYsEBgWWawAWOwBCZhILAEJWBkI7ADJWBkUFghGyMhWSMgILAEJiNGYThZLbA3LLAAFiAgILAFJiAuRyNHI2EjPDgtsDgssAAWILAII0IgICBGI0ewASsjYTgtsDkssAAWsAMlsAIlRyNHI2GwAFRYLiA8IyEbsAIlsAIlRyNHI2EgsAUlsAQlRyNHI2GwBiWwBSVJsAIlYbkIAAgAY2MjIFhiGyFZY7gEAGIgsABQWLBAYFlmsAFjYCMuIyAgPIo4IyFZLbA6LLAAFiCwCEMgLkcjRyNhIGCwIGBmsAJiILAAUFiwQGBZZrABYyMgIDyKOC2wOywjIC5GsAIlRlJYIDxZLrErARQrLbA8LCMgLkawAiVGUFggPFkusSsBFCstsD0sIyAuRrACJUZSWCA8WSMgLkawAiVGUFggPFkusSsBFCstsD4ssDUrIyAuRrACJUZSWCA8WS6xKwEUKy2wPyywNiuKICA8sAQjQoo4IyAuRrACJUZSWCA8WS6xKwEUK7AEQy6wKystsEAssAAWsAQlsAQmIC5HI0cjYbAJQysjIDwgLiM4sSsBFCstsEEssQgEJUKwABawBCWwBCUgLkcjRyNhILAEI0KwCUMrILBgUFggsEBRWLMCIAMgG7MCJgMaWUJCIyBHsARDsAJiILAAUFiwQGBZZrABY2AgsAErIIqKYSCwAkNgZCOwA0NhZFBYsAJDYRuwA0NgWbADJbACYiCwAFBYsEBgWWawAWNhsAIlRmE4IyA8IzgbISAgRiNHsAErI2E4IVmxKwEUKy2wQiywNSsusSsBFCstsEMssDYrISMgIDywBCNCIzixKwEUK7AEQy6wKystsEQssAAVIEewACNCsgABARUUEy6wMSotsEUssAAVIEewACNCsgABARUUEy6wMSotsEYssQABFBOwMiotsEcssDQqLbBILLAAFkUjIC4gRoojYTixKwEUKy2wSSywCCNCsEgrLbBKLLIAAEErLbBLLLIAAUErLbBMLLIBAEErLbBNLLIBAUErLbBOLLIAAEIrLbBPLLIAAUIrLbBQLLIBAEIrLbBRLLIBAUIrLbBSLLIAAD4rLbBTLLIAAT4rLbBULLIBAD4rLbBVLLIBAT4rLbBWLLIAAEArLbBXLLIAAUArLbBYLLIBAEArLbBZLLIBAUArLbBaLLIAAEMrLbBbLLIAAUMrLbBcLLIBAEMrLbBdLLIBAUMrLbBeLLIAAD8rLbBfLLIAAT8rLbBgLLIBAD8rLbBhLLIBAT8rLbBiLLA3Ky6xKwEUKy2wYyywNyuwOystsGQssDcrsDwrLbBlLLAAFrA3K7A9Ky2wZiywOCsusSsBFCstsGcssDgrsDsrLbBoLLA4K7A8Ky2waSywOCuwPSstsGossDkrLrErARQrLbBrLLA5K7A7Ky2wbCywOSuwPCstsG0ssDkrsD0rLbBuLLA6Ky6xKwEUKy2wbyywOiuwOystsHAssDorsDwrLbBxLLA6K7A9Ky2wciyzCQQCA0VYIRsjIVlCK7AIZbADJFB4sAEVMC0AS7gAyFJYsQEBjlmwAbkIAAgAY3CxAAVCsgABACqxAAVCswoCAQgqsQAFQrMOAAEIKrEABkK6AsAAAQAJKrEAB0K6AEAAAQAJKrEDAESxJAGIUViwQIhYsQNkRLEmAYhRWLoIgAABBECIY1RYsQMARFlZWVmzDAIBDCq4Af+FsASNsQIARAAA"},36923:function(a){a.exports="data:font/ttf;base64,AAEAAAAPAIAAAwBwR1NVQiCLJXoAAAD8AAAAVE9TLzI/QEsYAAABUAAAAFZjbWFwjePtyQAAAagAAAF+Y3Z0IAAAAAAAAAh4AAAADmZwZ21iLvl6AAAIiAAADgxnYXNwAAAAEAAACHAAAAAIZ2x5ZuLwowoAAAMoAAABiGhlYWQaqKjBAAAEsAAAADZoaGVhBzwDVgAABOgAAAAkaG10eAu4AAAAAAUMAAAADGxvY2EAYADEAAAFGAAAAAhtYXhwAPIOYwAABSAAAAAgbmFtZV/m2rgAAAVAAAAC5XBvc3S0mWDXAAAIKAAAAEhwcmVwfrY7tgAAFpQAAACcAAEAAAAKADAAPgACREZMVAAObGF0bgAaAAQAAAAAAAAAAQAAAAQAAAAAAAAAAQAAAAFsaWdhAAgAAAABAAAAAQAEAAQAAAABAAgAAQAGAAAAAQAAAAED6AGQAAUAAAJ6ArwAAACMAnoCvAAAAeAAMQECAAACAAUDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFBmRWQAwOkg6SEDUv9qAFoDUgCWAAAAAQAAAAAAAAAAAAUAAAADAAAALAAAAAQAAAFWAAEAAAAAAFAAAwABAAAALAADAAoAAAFWAAQAJAAAAAQABAABAADpIf//AADpIP//AAAAAQAEAAAAAQACAAABBgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAoAAAAAAAAAAIAAOkgAADpIAAAAAEAAOkhAADpIQAAAAIAAAABAAD/7wNjAy0AKQA/QDwCAQAEAwECAAJMAQEESgACAAEAAgGABQEEAAACBABpAAEDAwFZAAEBA2EAAwEDUQAAACkAKRcXGRQGBhorATUHFzUeARcWFRQHBgcGIicmJyY1NCYiBhUUFxYXFjI3Njc2NTQnJicmAguWlkx/JSUpKENGpEZDKCkTHBQyMVNWxlZTMTIvLU5QAsxhiolvBVNCQ05SRkMoKSkoQ0ZSDhMUDWNWUzEyMjFTVmNfU1EyMwABAAD/7wNjAy0AKgBDQEAVAQIDFAEAAgJMFgEDSgUBAAIBAgABgAADAAIAAwJpAAEEBAFZAAEBBGEABAEEUQEAIyIYFxMSCQgAKgEqBgYWKwEiBhUUBwYHBiInJicmNTQ3PgE3FTcnFQYHBgcGFRQXFhcWMjc2NzY1NCYDQQ0UKShDRqRGQygpJiR/TJaWXlBOLS8yMVNWxlZTMTIUAX8TDlJGQygpKShDRlJOQ0JTBW+JimEGMzJRU19jVlMxMjIxU1ZjDhMAAAEAAAABAADSnNS7Xw889QAPA+gAAAAA286yYAAAAADbzrJgAAD/7wPoAy0AAAAIAAIAAAAAAAAAAQAAA1L/agAAA+gAAAAAA+gAAQAAAAAAAAAAAAAAAAAAAAMD6AAAA+gAAAPoAAAAAAAAAGAAxAABAAAAAwArAAEAAAAAAAIADAAqAI0AAABUDgwAAAAAAAAAEgDeAAEAAAAAAAAANQAAAAEAAAAAAAEACgA1AAEAAAAAAAIABwA/AAEAAAAAAAMACgBGAAEAAAAAAAQACgBQAAEAAAAAAAUACwBaAAEAAAAAAAYACgBlAAEAAAAAAAoAKwBvAAEAAAAAAAsAEwCaAAMAAQQJAAAAagCtAAMAAQQJAAEAFAEXAAMAAQQJAAIADgErAAMAAQQJAAMAFAE5AAMAAQQJAAQAFAFNAAMAAQQJAAUAFgFhAAMAAQQJAAYAFAF3AAMAAQQJAAoAVgGLAAMAAQQJAAsAJgHhQ29weXJpZ2h0IChDKSAyMDIwIGJ5IG9yaWdpbmFsIGF1dGhvcnMgQCBmb250ZWxsby5jb21zZWVrLWljb25zUmVndWxhcnNlZWstaWNvbnNzZWVrLWljb25zVmVyc2lvbiAxLjBzZWVrLWljb25zR2VuZXJhdGVkIGJ5IHN2ZzJ0dGYgZnJvbSBGb250ZWxsbyBwcm9qZWN0Lmh0dHA6Ly9mb250ZWxsby5jb20AQwBvAHAAeQByAGkAZwBoAHQAIAAoAEMAKQAgADIAMAAyADAAIABiAHkAIABvAHIAaQBnAGkAbgBhAGwAIABhAHUAdABoAG8AcgBzACAAQAAgAGYAbwBuAHQAZQBsAGwAbwAuAGMAbwBtAHMAZQBlAGsALQBpAGMAbwBuAHMAUgBlAGcAdQBsAGEAcgBzAGUAZQBrAC0AaQBjAG8AbgBzAHMAZQBlAGsALQBpAGMAbwBuAHMAVgBlAHIAcwBpAG8AbgAgADEALgAwAHMAZQBlAGsALQBpAGMAbwBuAHMARwBlAG4AZQByAGEAdABlAGQAIABiAHkAIABzAHYAZwAyAHQAdABmACAAZgByAG8AbQAgAEYAbwBuAHQAZQBsAGwAbwAgAHAAcgBvAGoAZQBjAHQALgBoAHQAdABwADoALwAvAGYAbwBuAHQAZQBsAGwAbwAuAGMAbwBtAAAAAAIAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwECAQMBBAAMb3Atc2Vlay1iYWNrD29wLXNlZWstZm9yd2FyZAAAAAEAAf//AA8AAAAAAAAAAAAAAAAAAAAAsAAsILAAVVhFWSAgS7gADlFLsAZTWliwNBuwKFlgZiCKVViwAiVhuQgACABjYyNiGyEhsABZsABDI0SyAAEAQ2BCLbABLLAgYGYtsAIsIyEjIS2wAywgZLMDFBUAQkOwE0MgYGBCsQIUQ0KxJQNDsAJDVHggsAwjsAJDQ2FksARQeLICAgJDYEKwIWUcIbACQ0OyDhUBQhwgsAJDI0KyEwETQ2BCI7AAUFhlWbIWAQJDYEItsAQssAMrsBVDWCMhIyGwFkNDI7AAUFhlWRsgZCCwwFCwBCZasigBDUNFY0WwBkVYIbADJVlSW1ghIyEbilggsFBQWCGwQFkbILA4UFghsDhZWSCxAQ1DRWNFYWSwKFBYIbEBDUNFY0UgsDBQWCGwMFkbILDAUFggZiCKimEgsApQWGAbILAgUFghsApgGyCwNlBYIbA2YBtgWVlZG7ACJbAMQ2OwAFJYsABLsApQWCGwDEMbS7AeUFghsB5LYbgQAGOwDENjuAUAYllZZGFZsAErWVkjsABQWGVZWSBksBZDI0JZLbAFLCBFILAEJWFkILAHQ1BYsAcjQrAII0IbISFZsAFgLbAGLCMhIyGwAysgZLEHYkIgsAgjQrAGRVgbsQENQ0VjsQENQ7AAYEVjsAUqISCwCEMgiiCKsAErsTAFJbAEJlFYYFAbYVJZWCNZIVkgsEBTWLABKxshsEBZI7AAUFhlWS2wByywCUMrsgACAENgQi2wCCywCSNCIyCwACNCYbACYmawAWOwAWCwByotsAksICBFILAOQ2O4BABiILAAUFiwQGBZZrABY2BEsAFgLbAKLLIJDgBDRUIqIbIAAQBDYEItsAsssABDI0SyAAEAQ2BCLbAMLCAgRSCwASsjsABDsAQlYCBFiiNhIGQgsCBQWCGwABuwMFBYsCAbsEBZWSOwAFBYZVmwAyUjYUREsAFgLbANLCAgRSCwASsjsABDsAQlYCBFiiNhIGSwJFBYsAAbsEBZI7AAUFhlWbADJSNhRESwAWAtsA4sILAAI0KzDQwAA0VQWCEbIyFZKiEtsA8ssQICRbBkYUQtsBAssAFgICCwD0NKsABQWCCwDyNCWbAQQ0qwAFJYILAQI0JZLbARLCCwEGJmsAFjILgEAGOKI2GwEUNgIIpgILARI0IjLbASLEtUWLEEZERZJLANZSN4LbATLEtRWEtTWLEEZERZGyFZJLATZSN4LbAULLEAEkNVWLESEkOwAWFCsBErWbAAQ7ACJUKxDwIlQrEQAiVCsAEWIyCwAyVQWLEBAENgsAQlQoqKIIojYbAQKiEjsAFhIIojYbAQKiEbsQEAQ2CwAiVCsAIlYbAQKiFZsA9DR7AQQ0dgsAJiILAAUFiwQGBZZrABYyCwDkNjuAQAYiCwAFBYsEBgWWawAWNgsQAAEyNEsAFDsAA+sgEBAUNgQi2wFSwAsQACRVRYsBIjQiBFsA4jQrANI7AAYEIgYLcYGAEAEQATAEJCQopgILAUI0KwAWGxFAgrsIsrGyJZLbAWLLEAFSstsBcssQEVKy2wGCyxAhUrLbAZLLEDFSstsBossQQVKy2wGyyxBRUrLbAcLLEGFSstsB0ssQcVKy2wHiyxCBUrLbAfLLEJFSstsCssIyCwEGJmsAFjsAZgS1RYIyAusAFdGyEhWS2wLCwjILAQYmawAWOwFmBLVFgjIC6wAXEbISFZLbAtLCMgsBBiZrABY7AmYEtUWCMgLrABchshIVktsCAsALAPK7EAAkVUWLASI0IgRbAOI0KwDSOwAGBCIGCwAWG1GBgBABEAQkKKYLEUCCuwiysbIlktsCEssQAgKy2wIiyxASArLbAjLLECICstsCQssQMgKy2wJSyxBCArLbAmLLEFICstsCcssQYgKy2wKCyxByArLbApLLEIICstsCossQkgKy2wLiwgPLABYC2wLywgYLAYYCBDI7ABYEOwAiVhsAFgsC4qIS2wMCywLyuwLyotsDEsICBHICCwDkNjuAQAYiCwAFBYsEBgWWawAWNgI2E4IyCKVVggRyAgsA5DY7gEAGIgsABQWLBAYFlmsAFjYCNhOBshWS2wMiwAsQACRVRYsQ4GRUKwARawMSqxBQEVRVgwWRsiWS2wMywAsA8rsQACRVRYsQ4GRUKwARawMSqxBQEVRVgwWRsiWS2wNCwgNbABYC2wNSwAsQ4GRUKwAUVjuAQAYiCwAFBYsEBgWWawAWOwASuwDkNjuAQAYiCwAFBYsEBgWWawAWOwASuwABa0AAAAAABEPiM4sTQBFSohLbA2LCA8IEcgsA5DY7gEAGIgsABQWLBAYFlmsAFjYLAAQ2E4LbA3LC4XPC2wOCwgPCBHILAOQ2O4BABiILAAUFiwQGBZZrABY2CwAENhsAFDYzgtsDkssQIAFiUgLiBHsAAjQrACJUmKikcjRyNhIFhiGyFZsAEjQrI4AQEVFCotsDossAAWsBcjQrAEJbAEJUcjRyNhsQwAQrALQytlii4jICA8ijgtsDsssAAWsBcjQrAEJbAEJSAuRyNHI2EgsAYjQrEMAEKwC0MrILBgUFggsEBRWLMEIAUgG7MEJgUaWUJCIyCwCkMgiiNHI0cjYSNGYLAGQ7ACYiCwAFBYsEBgWWawAWNgILABKyCKimEgsARDYGQjsAVDYWRQWLAEQ2EbsAVDYFmwAyWwAmIgsABQWLBAYFlmsAFjYSMgILAEJiNGYTgbI7AKQ0awAiWwCkNHI0cjYWAgsAZDsAJiILAAUFiwQGBZZrABY2AjILABKyOwBkNgsAErsAUlYbAFJbACYiCwAFBYsEBgWWawAWOwBCZhILAEJWBkI7ADJWBkUFghGyMhWSMgILAEJiNGYThZLbA8LLAAFrAXI0IgICCwBSYgLkcjRyNhIzw4LbA9LLAAFrAXI0IgsAojQiAgIEYjR7ABKyNhOC2wPiywABawFyNCsAMlsAIlRyNHI2GwAFRYLiA8IyEbsAIlsAIlRyNHI2EgsAUlsAQlRyNHI2GwBiWwBSVJsAIlYbkIAAgAY2MjIFhiGyFZY7gEAGIgsABQWLBAYFlmsAFjYCMuIyAgPIo4IyFZLbA/LLAAFrAXI0IgsApDIC5HI0cjYSBgsCBgZrACYiCwAFBYsEBgWWawAWMjICA8ijgtsEAsIyAuRrACJUawF0NYUBtSWVggPFkusTABFCstsEEsIyAuRrACJUawF0NYUhtQWVggPFkusTABFCstsEIsIyAuRrACJUawF0NYUBtSWVggPFkjIC5GsAIlRrAXQ1hSG1BZWCA8WS6xMAEUKy2wQyywOisjIC5GsAIlRrAXQ1hQG1JZWCA8WS6xMAEUKy2wRCywOyuKICA8sAYjQoo4IyAuRrACJUawF0NYUBtSWVggPFkusTABFCuwBkMusDArLbBFLLAAFrAEJbAEJiAgIEYjR2GwDCNCLkcjRyNhsAtDKyMgPCAuIzixMAEUKy2wRiyxCgQlQrAAFrAEJbAEJSAuRyNHI2EgsAYjQrEMAEKwC0MrILBgUFggsEBRWLMEIAUgG7MEJgUaWUJCIyBHsAZDsAJiILAAUFiwQGBZZrABY2AgsAErIIqKYSCwBENgZCOwBUNhZFBYsARDYRuwBUNgWbADJbACYiCwAFBYsEBgWWawAWNhsAIlRmE4IyA8IzgbISAgRiNHsAErI2E4IVmxMAEUKy2wRyyxADorLrEwARQrLbBILLEAOyshIyAgPLAGI0IjOLEwARQrsAZDLrAwKy2wSSywABUgR7AAI0KyAAEBFRQTLrA2Ki2wSiywABUgR7AAI0KyAAEBFRQTLrA2Ki2wSyyxAAEUE7A3Ki2wTCywOSotsE0ssAAWRSMgLiBGiiNhOLEwARQrLbBOLLAKI0KwTSstsE8ssgAARistsFAssgABRistsFEssgEARistsFIssgEBRistsFMssgAARystsFQssgABRystsFUssgEARystsFYssgEBRystsFcsswAAAEMrLbBYLLMAAQBDKy2wWSyzAQAAQystsFosswEBAEMrLbBbLLMAAAFDKy2wXCyzAAEBQystsF0sswEAAUMrLbBeLLMBAQFDKy2wXyyyAABFKy2wYCyyAAFFKy2wYSyyAQBFKy2wYiyyAQFFKy2wYyyyAABIKy2wZCyyAAFIKy2wZSyyAQBIKy2wZiyyAQFIKy2wZyyzAAAARCstsGgsswABAEQrLbBpLLMBAABEKy2waiyzAQEARCstsGssswAAAUQrLbBsLLMAAQFEKy2wbSyzAQABRCstsG4sswEBAUQrLbBvLLEAPCsusTABFCstsHAssQA8K7BAKy2wcSyxADwrsEErLbByLLAAFrEAPCuwQistsHMssQE8K7BAKy2wdCyxATwrsEErLbB1LLAAFrEBPCuwQistsHYssQA9Ky6xMAEUKy2wdyyxAD0rsEArLbB4LLEAPSuwQSstsHkssQA9K7BCKy2weiyxAT0rsEArLbB7LLEBPSuwQSstsHwssQE9K7BCKy2wfSyxAD4rLrEwARQrLbB+LLEAPiuwQCstsH8ssQA+K7BBKy2wgCyxAD4rsEIrLbCBLLEBPiuwQCstsIIssQE+K7BBKy2wgyyxAT4rsEIrLbCELLEAPysusTABFCstsIUssQA/K7BAKy2whiyxAD8rsEErLbCHLLEAPyuwQistsIgssQE/K7BAKy2wiSyxAT8rsEErLbCKLLEBPyuwQistsIsssgsAA0VQWLAGG7IEAgNFWCMhGyFZWUIrsAhlsAMkUHixBQEVRVgwWS0AS7gAyFJYsQEBjlmwAbkIAAgAY3CxAAdCsQAAKrEAB0KxAAoqsQAHQrEACiqxAAdCuQAAAAsqsQAHQrkAAAALKrkAAwAARLEkAYhRWLBAiFi5AAMAZESxKAGIUVi4CACIWLkAAwAARFkbsScBiFFYugiAAAEEQIhjVFi5AAMAAERZWVlZWbEADiq4Af+FsASNsQIARLMFZAYAREQ="},85971:function(a){a.exports="data:font/ttf;base64,AAEAAAALAIAAAwAwT1MvMg8SBjMAAAC8AAAAYGNtYXAXVtKQAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5Ztiu3OUAAAF4AAAEAGhlYWQOP/c1AAAFeAAAADZoaGVhCT8FzwAABbAAAAAkaG10eDAABnQAAAXUAAAAOGxvY2EGgAWAAAAGDAAAAB5tYXhwABMARAAABiwAAAAgbmFtZZlKCfsAAAZMAAABhnBvc3QAAwAAAAAH1AAAACAAAwQAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpCQPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qn//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAIkASQN3A5oAKAAAASIGFRQOAiMiLgI1ND4CNxU3JxUOAxUUHgIzMj4CNTQmIwNVDhQwU3BAQHBTMCxNZzuamkmAYDY7ZYlOTollOxQOAeIUDkBwUzAwU3BAPGxSNARyjY1jBT5lhEtOiWU7O2WJTg4UAAEAiQBJA3cDmgAoAAABNQcXNR4DFRQOAiMiLgI1NCYjIgYVFB4CMzI+AjU0LgInAhiamjtnTSwwU3BAQHBTMBQODhQ7ZYlOTollOzZggEkDN2ONjXIENFJsPEBwUzAwU3BADhQUDk6JZTs7ZYlOS4RlPgUABACDAOQFfQKbAAYACgATACAAABMRMxUhETMhESMRAQMzEzMTMwMjARUjFTMVIxUzFSERIb3p/t06AXg6ASWaPn4BfjycQQJb9eTk9/7PAS8Cm/57MQG2/koBtv5KAbb+hAF8/koBtjGLMpgxAbcAAAQATQBJA7MDNwAFAAsAEQAXAAAlITUzNTMFITUzFTMBIzUjNSEFIzUhFSMDs/7N70T9zf7NRO8CM0TvATP83kQBM+9JRKru7qoBvKpE7u5EAAAAAAIAkQBIA4EDNwAFACwAAAEFIxEzBRM3NjQnJiIPAScmIgcGFB8BBwYUFx4BMzI2PwEXHgEzMjY3NjQvAQJR/vy8vAEE400ICAgVB01NBxUHCAhMTAgIAwoEBQoDTU0ECQUECgQICE0DN+/+7+8Bd00IFQcHB01NBwcIFQdNTQcVBwQEBARMTAQEBAQHFQdNAAEA9wBJAxoDNwACAAATCQH3AiP93QM3/on+iQAEAE0ASQOzAzcABQALABEAFwAAJSM1IRUjBSM1IzUhASE1MxUzBSE1MzUzAsREATPv/rxE7wEzAjP+zUTv/c3+ze9ESe5EqqpEARLuqkREqgAAAAACAO8ASQMRAzcABAAIAAATMxEjESEzESPviIgBmoiIAzf9EgLu/RIAAgFEAI0CvALzAAIABQAAATcXFQcnAUS8vLy8AibNzczNzQAAAwCKAEkDjwM3AAUAJQBBAAABBSMRMwU3IiYnJjY3PgE1NCYnLgE3PgEXHgMVFA4CBw4BIyciJicmNjc+ATU0JicuATc+ARceARUUBgcOASMCS/77vLwBBY4IDQMECApATEtACQgEBBMKJz8sGRktQCcCBQIwBw0DBQgKGR4fGQoIBAUTCSgwLycCBQMDN+7+7u5xCAcKFAQbc0ZFdBsEEwoKCAQRNURPKipQQzYQAQF/CAgJFAULLhwcLwsFEwkKCAQSSCwrSBEBAQAAAQAAAAAAAHFIcIdfDzz1AAsEAAAAAADU0tlPAAAAANTS2U8AAAAABX0DmgAAAAgAAgAAAAAAAAABAAADwP/AAAAGAAAAAAAFfQABAAAAAAAAAAAAAAAAAAAADgQAAAAAAAAAAAAAAAIAAAAEAACJBAAAiQYAAIMEAABNBAAAkQQAAPcEAABNBAAA7wQAAUQEAACKAAAAAAAKABQAHgBYAJIAygD0ATwBSgF0AYgBmgIAAAAAAQAAAA4AQgAEAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGljb21vb24AaQBjAG8AbQBvAG8AblZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGljb21vb24AaQBjAG8AbQBvAG8Abmljb21vb24AaQBjAG8AbQBvAG8AblJlZ3VsYXIAUgBlAGcAdQBsAGEAcmljb21vb24AaQBjAG8AbQBvAG8AbkZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA="},79306:function(a,c,e){var o=e(94901),u=e(16823),f=TypeError;a.exports=function(A){if(o(A))return A;throw new f(u(A)+" is not a function")}},35548:function(a,c,e){var o=e(33517),u=e(16823),f=TypeError;a.exports=function(A){if(o(A))return A;throw new f(u(A)+" is not a constructor")}},73506:function(a,c,e){var o=e(13925),u=String,f=TypeError;a.exports=function(A){if(o(A))return A;throw new f("Can't set "+u(A)+" as a prototype")}},97080:function(a,c,e){var o=e(94402).has;a.exports=function(u){return o(u),u}},6469:function(a,c,e){var o=e(78227),u=e(2360),f=e(24913).f,A=o("unscopables"),p=Array.prototype;p[A]===void 0&&f(p,A,{configurable:!0,value:u(null)}),a.exports=function(m){p[A][m]=!0}},57829:function(a,c,e){var o=e(68183).charAt;a.exports=function(u,f,A){return f+(A?o(u,f).length:1)}},90679:function(a,c,e){var o=e(1625),u=TypeError;a.exports=function(f,A){if(o(A,f))return f;throw new u("Incorrect invocation")}},28551:function(a,c,e){var o=e(20034),u=String,f=TypeError;a.exports=function(A){if(o(A))return A;throw new f(u(A)+" is not an object")}},77811:function(a){a.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},67394:function(a,c,e){var o=e(44576),u=e(46706),f=e(22195),A=o.ArrayBuffer,p=o.TypeError;a.exports=A&&u(A.prototype,"byteLength","get")||function(m){if(f(m)!=="ArrayBuffer")throw new p("ArrayBuffer expected");return m.byteLength}},3238:function(a,c,e){var o=e(44576),u=e(77811),f=e(67394),A=o.DataView;a.exports=function(p){if(!u||f(p)!==0)return!1;try{return new A(p),!1}catch{return!0}}},15652:function(a,c,e){var o=e(79039);a.exports=o((function(){if(typeof ArrayBuffer=="function"){var u=new ArrayBuffer(8);Object.isExtensible(u)&&Object.defineProperty(u,"a",{value:8})}}))},55169:function(a,c,e){var o=e(3238),u=TypeError;a.exports=function(f){if(o(f))throw new u("ArrayBuffer is detached");return f}},95636:function(a,c,e){var o=e(44576),u=e(79504),f=e(46706),A=e(57696),p=e(55169),m=e(67394),y=e(94483),E=e(1548),C=o.structuredClone,T=o.ArrayBuffer,x=o.DataView,L=Math.min,D=T.prototype,B=x.prototype,O=u(D.slice),_=f(D,"resizable","get"),M=f(D,"maxByteLength","get"),U=u(B.getInt8),Q=u(B.setInt8);a.exports=(E||y)&&function($,W,X){var tt,V=m($),N=W===void 0?V:A(W),K=!_||!_($);if(p($),E&&($=C($,{transfer:[$]}),V===N&&(X||K)))return $;if(V>=N&&(!X||K))tt=O($,0,N);else{var at=X&&!K&&M?{maxByteLength:M($)}:void 0;tt=new T(N,at);for(var G=new x($),q=new x(tt),et=L(N,V),ot=0;ot<et;ot++)Q(q,ot,U(G,ot))}return E||y($),tt}},94644:function(a,c,e){var o,u,f,A=e(77811),p=e(43724),m=e(44576),y=e(94901),E=e(20034),C=e(39297),T=e(36955),x=e(16823),L=e(66699),D=e(36840),B=e(62106),O=e(1625),_=e(42787),M=e(52967),U=e(78227),Q=e(33392),$=e(91181),W=$.enforce,X=$.get,tt=m.Int8Array,V=tt&&tt.prototype,N=m.Uint8ClampedArray,K=N&&N.prototype,at=tt&&_(tt),G=V&&_(V),q=Object.prototype,et=m.TypeError,ot=U("toStringTag"),bt=Q("TYPED_ARRAY_TAG"),Ct="TypedArrayConstructor",Tt=A&&!!M&&T(m.opera)!=="Opera",$t=!1,Vt={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},jt={BigInt64Array:8,BigUint64Array:8},ee=function(se){var Se=_(se);if(E(Se)){var Pe=X(Se);return Pe&&C(Pe,Ct)?Pe[Ct]:ee(Se)}},ce=function(se){if(!E(se))return!1;var Se=T(se);return C(Vt,Se)||C(jt,Se)};for(o in Vt)(f=(u=m[o])&&u.prototype)?W(f)[Ct]=u:Tt=!1;for(o in jt)(f=(u=m[o])&&u.prototype)&&(W(f)[Ct]=u);if((!Tt||!y(at)||at===Function.prototype)&&(at=function(){throw new et("Incorrect invocation")},Tt))for(o in Vt)m[o]&&M(m[o],at);if((!Tt||!G||G===q)&&(G=at.prototype,Tt))for(o in Vt)m[o]&&M(m[o].prototype,G);if(Tt&&_(K)!==G&&M(K,G),p&&!C(G,ot))for(o in $t=!0,B(G,ot,{configurable:!0,get:function(){return E(this)?this[bt]:void 0}}),Vt)m[o]&&L(m[o],bt,o);a.exports={NATIVE_ARRAY_BUFFER_VIEWS:Tt,TYPED_ARRAY_TAG:$t&&bt,aTypedArray:function(se){if(ce(se))return se;throw new et("Target is not a typed array")},aTypedArrayConstructor:function(se){if(y(se)&&(!M||O(at,se)))return se;throw new et(x(se)+" is not a typed array constructor")},exportTypedArrayMethod:function(se,Se,Pe,je){if(p){if(Pe)for(var xe in Vt){var we=m[xe];if(we&&C(we.prototype,se))try{delete we.prototype[se]}catch{try{we.prototype[se]=Se}catch{}}}G[se]&&!Pe||D(G,se,Pe?Se:Tt&&V[se]||Se,je)}},exportTypedArrayStaticMethod:function(se,Se,Pe){var je,xe;if(p){if(M){if(Pe){for(je in Vt)if((xe=m[je])&&C(xe,se))try{delete xe[se]}catch{}}if(at[se]&&!Pe)return;try{return D(at,se,Pe?Se:Tt&&at[se]||Se)}catch{}}for(je in Vt)!(xe=m[je])||xe[se]&&!Pe||D(xe,se,Se)}},getTypedArrayConstructor:ee,isView:function(se){if(!E(se))return!1;var Se=T(se);return Se==="DataView"||C(Vt,Se)||C(jt,Se)},isTypedArray:ce,TypedArray:at,TypedArrayPrototype:G}},66346:function(a,c,e){var o=e(44576),u=e(79504),f=e(43724),A=e(77811),p=e(10350),m=e(66699),y=e(62106),E=e(56279),C=e(79039),T=e(90679),x=e(91291),L=e(18014),D=e(57696),B=e(15617),O=e(88490),_=e(42787),M=e(52967),U=e(84373),Q=e(67680),$=e(23167),W=e(77740),X=e(10687),tt=e(91181),V=p.PROPER,N=p.CONFIGURABLE,K="ArrayBuffer",at="DataView",G="prototype",q="Wrong index",et=tt.getterFor(K),ot=tt.getterFor(at),bt=tt.set,Ct=o[K],Tt=Ct,$t=Tt&&Tt[G],Vt=o[at],jt=Vt&&Vt[G],ee=Object.prototype,ce=o.Array,se=o.RangeError,Se=u(U),Pe=u([].reverse),je=O.pack,xe=O.unpack,we=function(Rt){return[255&Rt]},en=function(Rt){return[255&Rt,Rt>>8&255]},En=function(Rt){return[255&Rt,Rt>>8&255,Rt>>16&255,Rt>>24&255]},un=function(Rt){return Rt[3]<<24|Rt[2]<<16|Rt[1]<<8|Rt[0]},We=function(Rt){return je(B(Rt),23,4)},$e=function(Rt){return je(Rt,52,8)},Rn=function(Rt,me,ke){y(Rt[G],me,{configurable:!0,get:function(){return ke(this)[me]}})},sn=function(Rt,me,ke,Yn){var Ne=ot(Rt),Ve=D(ke),It=!!Yn;if(Ve+me>Ne.byteLength)throw new se(q);var Te=Ne.bytes,an=Ve+Ne.byteOffset,dn=Q(Te,an,an+me);return It?dn:Pe(dn)},te=function(Rt,me,ke,Yn,Ne,Ve){var It=ot(Rt),Te=D(ke),an=Yn(+Ne),dn=!!Ve;if(Te+me>It.byteLength)throw new se(q);for(var re=It.bytes,_e=Te+It.byteOffset,ve=0;ve<me;ve++)re[_e+ve]=an[dn?ve:me-ve-1]};if(A){var Ae=V&&Ct.name!==K;C((function(){Ct(1)}))&&C((function(){new Ct(-1)}))&&!C((function(){return new Ct,new Ct(1.5),new Ct(NaN),Ct.length!==1||Ae&&!N}))?Ae&&N&&m(Ct,"name",K):((Tt=function(Rt){return T(this,$t),$(new Ct(D(Rt)),this,Tt)})[G]=$t,$t.constructor=Tt,W(Tt,Ct)),M&&_(jt)!==ee&&M(jt,ee);var oe=new Vt(new Tt(2)),De=u(jt.setInt8);oe.setInt8(0,2147483648),oe.setInt8(1,2147483649),!oe.getInt8(0)&&oe.getInt8(1)||E(jt,{setInt8:function(Rt,me){De(this,Rt,me<<24>>24)},setUint8:function(Rt,me){De(this,Rt,me<<24>>24)}},{unsafe:!0})}else $t=(Tt=function(Rt){T(this,$t);var me=D(Rt);bt(this,{type:K,bytes:Se(ce(me),0),byteLength:me}),f||(this.byteLength=me,this.detached=!1)})[G],jt=(Vt=function(Rt,me,ke){T(this,jt),T(Rt,$t);var Yn=et(Rt),Ne=Yn.byteLength,Ve=x(me);if(Ve<0||Ve>Ne)throw new se("Wrong offset");if(Ve+(ke=ke===void 0?Ne-Ve:L(ke))>Ne)throw new se("Wrong length");bt(this,{type:at,buffer:Rt,byteLength:ke,byteOffset:Ve,bytes:Yn.bytes}),f||(this.buffer=Rt,this.byteLength=ke,this.byteOffset=Ve)})[G],f&&(Rn(Tt,"byteLength",et),Rn(Vt,"buffer",ot),Rn(Vt,"byteLength",ot),Rn(Vt,"byteOffset",ot)),E(jt,{getInt8:function(Rt){return sn(this,1,Rt)[0]<<24>>24},getUint8:function(Rt){return sn(this,1,Rt)[0]},getInt16:function(Rt){var me=sn(this,2,Rt,arguments.length>1&&arguments[1]);return(me[1]<<8|me[0])<<16>>16},getUint16:function(Rt){var me=sn(this,2,Rt,arguments.length>1&&arguments[1]);return me[1]<<8|me[0]},getInt32:function(Rt){return un(sn(this,4,Rt,arguments.length>1&&arguments[1]))},getUint32:function(Rt){return un(sn(this,4,Rt,arguments.length>1&&arguments[1]))>>>0},getFloat32:function(Rt){return xe(sn(this,4,Rt,arguments.length>1&&arguments[1]),23)},getFloat64:function(Rt){return xe(sn(this,8,Rt,arguments.length>1&&arguments[1]),52)},setInt8:function(Rt,me){te(this,1,Rt,we,me)},setUint8:function(Rt,me){te(this,1,Rt,we,me)},setInt16:function(Rt,me){te(this,2,Rt,en,me,arguments.length>2&&arguments[2])},setUint16:function(Rt,me){te(this,2,Rt,en,me,arguments.length>2&&arguments[2])},setInt32:function(Rt,me){te(this,4,Rt,En,me,arguments.length>2&&arguments[2])},setUint32:function(Rt,me){te(this,4,Rt,En,me,arguments.length>2&&arguments[2])},setFloat32:function(Rt,me){te(this,4,Rt,We,me,arguments.length>2&&arguments[2])},setFloat64:function(Rt,me){te(this,8,Rt,$e,me,arguments.length>2&&arguments[2])}});X(Tt,K),X(Vt,at),a.exports={ArrayBuffer:Tt,DataView:Vt}},57029:function(a,c,e){var o=e(48981),u=e(35610),f=e(26198),A=e(84606),p=Math.min;a.exports=[].copyWithin||function(m,y){var E=o(this),C=f(E),T=u(m,C),x=u(y,C),L=arguments.length>2?arguments[2]:void 0,D=p((L===void 0?C:u(L,C))-x,C-T),B=1;for(x<T&&T<x+D&&(B=-1,x+=D-1,T+=D-1);D-- >0;)x in E?E[T]=E[x]:A(E,T),T+=B,x+=B;return E}},84373:function(a,c,e){var o=e(48981),u=e(35610),f=e(26198);a.exports=function(A){for(var p=o(this),m=f(p),y=arguments.length,E=u(y>1?arguments[1]:void 0,m),C=y>2?arguments[2]:void 0,T=C===void 0?m:u(C,m);T>E;)p[E++]=A;return p}},90235:function(a,c,e){var o=e(59213).forEach,u=e(34598)("forEach");a.exports=u?[].forEach:function(f){return o(this,f,arguments.length>1?arguments[1]:void 0)}},35370:function(a,c,e){var o=e(26198);a.exports=function(u,f,A){for(var p=0,m=arguments.length>2?A:o(f),y=new u(m);m>p;)y[p]=f[p++];return y}},97916:function(a,c,e){var o=e(76080),u=e(69565),f=e(48981),A=e(96319),p=e(44209),m=e(33517),y=e(26198),E=e(97040),C=e(70081),T=e(50851),x=Array;a.exports=function(L){var D=f(L),B=m(this),O=arguments.length,_=O>1?arguments[1]:void 0,M=_!==void 0;M&&(_=o(_,O>2?arguments[2]:void 0));var U,Q,$,W,X,tt,V=T(D),N=0;if(!V||this===x&&p(V))for(U=y(D),Q=B?new this(U):x(U);U>N;N++)tt=M?_(D[N],N):D[N],E(Q,N,tt);else for(Q=B?new this:[],X=(W=C(D,V)).next;!($=u(X,W)).done;N++)tt=M?A(W,_,[$.value,N],!0):$.value,E(Q,N,tt);return Q.length=N,Q}},19617:function(a,c,e){var o=e(25397),u=e(35610),f=e(26198),A=function(p){return function(m,y,E){var C=o(m),T=f(C);if(T===0)return!p&&-1;var x,L=u(E,T);if(p&&y!=y){for(;T>L;)if((x=C[L++])!=x)return!0}else for(;T>L;L++)if((p||L in C)&&C[L]===y)return p||L||0;return!p&&-1}};a.exports={includes:A(!0),indexOf:A(!1)}},43839:function(a,c,e){var o=e(76080),u=e(47055),f=e(48981),A=e(26198),p=function(m){var y=m===1;return function(E,C,T){for(var x,L=f(E),D=u(L),B=A(D),O=o(C,T);B-- >0;)if(O(x=D[B],B,L))switch(m){case 0:return x;case 1:return B}return y?-1:void 0}};a.exports={findLast:p(0),findLastIndex:p(1)}},59213:function(a,c,e){var o=e(76080),u=e(79504),f=e(47055),A=e(48981),p=e(26198),m=e(1469),y=u([].push),E=function(C){var T=C===1,x=C===2,L=C===3,D=C===4,B=C===6,O=C===7,_=C===5||B;return function(M,U,Q,$){for(var W,X,tt=A(M),V=f(tt),N=p(V),K=o(U,Q),at=0,G=$||m,q=T?G(M,N):x||O?G(M,0):void 0;N>at;at++)if((_||at in V)&&(X=K(W=V[at],at,tt),C))if(T)q[at]=X;else if(X)switch(C){case 3:return!0;case 5:return W;case 6:return at;case 2:y(q,W)}else switch(C){case 4:return!1;case 7:y(q,W)}return B?-1:L||D?D:q}};a.exports={forEach:E(0),map:E(1),filter:E(2),some:E(3),every:E(4),find:E(5),findIndex:E(6),filterReject:E(7)}},8379:function(a,c,e){var o=e(18745),u=e(25397),f=e(91291),A=e(26198),p=e(34598),m=Math.min,y=[].lastIndexOf,E=!!y&&1/[1].lastIndexOf(1,-0)<0,C=p("lastIndexOf"),T=E||!C;a.exports=T?function(x){if(E)return o(y,this,arguments)||0;var L=u(this),D=A(L);if(D===0)return-1;var B=D-1;for(arguments.length>1&&(B=m(B,f(arguments[1]))),B<0&&(B=D+B);B>=0;B--)if(B in L&&L[B]===x)return B||0;return-1}:y},70597:function(a,c,e){var o=e(79039),u=e(78227),f=e(39519),A=u("species");a.exports=function(p){return f>=51||!o((function(){var m=[];return(m.constructor={})[A]=function(){return{foo:1}},m[p](Boolean).foo!==1}))}},34598:function(a,c,e){var o=e(79039);a.exports=function(u,f){var A=[][u];return!!A&&o((function(){A.call(null,f||function(){return 1},1)}))}},80926:function(a,c,e){var o=e(79306),u=e(48981),f=e(47055),A=e(26198),p=TypeError,m="Reduce of empty array with no initial value",y=function(E){return function(C,T,x,L){var D=u(C),B=f(D),O=A(D);if(o(T),O===0&&x<2)throw new p(m);var _=E?O-1:0,M=E?-1:1;if(x<2)for(;;){if(_ in B){L=B[_],_+=M;break}if(_+=M,E?_<0:O<=_)throw new p(m)}for(;E?_>=0:O>_;_+=M)_ in B&&(L=T(L,B[_],_,D));return L}};a.exports={left:y(!1),right:y(!0)}},34527:function(a,c,e){var o=e(43724),u=e(34376),f=TypeError,A=Object.getOwnPropertyDescriptor,p=o&&!(function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(m){return m instanceof TypeError}})();a.exports=p?function(m,y){if(u(m)&&!A(m,"length").writable)throw new f("Cannot set read only .length");return m.length=y}:function(m,y){return m.length=y}},67680:function(a,c,e){var o=e(79504);a.exports=o([].slice)},74488:function(a,c,e){var o=e(67680),u=Math.floor,f=function(A,p){var m=A.length;if(m<8)for(var y,E,C=1;C<m;){for(E=C,y=A[C];E&&p(A[E-1],y)>0;)A[E]=A[--E];E!==C++&&(A[E]=y)}else for(var T=u(m/2),x=f(o(A,0,T),p),L=f(o(A,T),p),D=x.length,B=L.length,O=0,_=0;O<D||_<B;)A[O+_]=O<D&&_<B?p(x[O],L[_])<=0?x[O++]:L[_++]:O<D?x[O++]:L[_++];return A};a.exports=f},87433:function(a,c,e){var o=e(34376),u=e(33517),f=e(20034),A=e(78227)("species"),p=Array;a.exports=function(m){var y;return o(m)&&(y=m.constructor,(u(y)&&(y===p||o(y.prototype))||f(y)&&(y=y[A])===null)&&(y=void 0)),y===void 0?p:y}},1469:function(a,c,e){var o=e(87433);a.exports=function(u,f){return new(o(u))(f===0?0:f)}},37628:function(a,c,e){var o=e(26198);a.exports=function(u,f){for(var A=o(u),p=new f(A),m=0;m<A;m++)p[m]=u[A-m-1];return p}},39928:function(a,c,e){var o=e(26198),u=e(91291),f=RangeError;a.exports=function(A,p,m,y){var E=o(A),C=u(m),T=C<0?E+C:C;if(T>=E||T<0)throw new f("Incorrect index");for(var x=new p(E),L=0;L<E;L++)x[L]=L===T?y:A[L];return x}},92804:function(a){var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=c+"+/",o=c+"-_",u=function(f){for(var A={},p=0;p<64;p++)A[f.charAt(p)]=p;return A};a.exports={i2c:e,c2i:u(e),i2cUrl:o,c2iUrl:u(o)}},96319:function(a,c,e){var o=e(28551),u=e(9539);a.exports=function(f,A,p,m){try{return m?A(o(p)[0],p[1]):A(p)}catch(y){u(f,"throw",y)}}},84428:function(a,c,e){var o=e(78227)("iterator"),u=!1;try{var f=0,A={next:function(){return{done:!!f++}},return:function(){u=!0}};A[o]=function(){return this},Array.from(A,(function(){throw 2}))}catch{}a.exports=function(p,m){try{if(!m&&!u)return!1}catch{return!1}var y=!1;try{var E={};E[o]=function(){return{next:function(){return{done:y=!0}}}},p(E)}catch{}return y}},22195:function(a,c,e){var o=e(79504),u=o({}.toString),f=o("".slice);a.exports=function(A){return f(u(A),8,-1)}},36955:function(a,c,e){var o=e(92140),u=e(94901),f=e(22195),A=e(78227)("toStringTag"),p=Object,m=f((function(){return arguments})())==="Arguments";a.exports=o?f:function(y){var E,C,T;return y===void 0?"Undefined":y===null?"Null":typeof(C=(function(x,L){try{return x[L]}catch{}})(E=p(y),A))=="string"?C:m?f(E):(T=f(E))==="Object"&&u(E.callee)?"Arguments":T}},86938:function(a,c,e){var o=e(2360),u=e(62106),f=e(56279),A=e(76080),p=e(90679),m=e(64117),y=e(72652),E=e(51088),C=e(62529),T=e(87633),x=e(43724),L=e(3451).fastKey,D=e(91181),B=D.set,O=D.getterFor;a.exports={getConstructor:function(_,M,U,Q){var $=_((function(N,K){p(N,W),B(N,{type:M,index:o(null),first:null,last:null,size:0}),x||(N.size=0),m(K)||y(K,N[Q],{that:N,AS_ENTRIES:U})})),W=$.prototype,X=O(M),tt=function(N,K,at){var G,q,et=X(N),ot=V(N,K);return ot?ot.value=at:(et.last=ot={index:q=L(K,!0),key:K,value:at,previous:G=et.last,next:null,removed:!1},et.first||(et.first=ot),G&&(G.next=ot),x?et.size++:N.size++,q!=="F"&&(et.index[q]=ot)),N},V=function(N,K){var at,G=X(N),q=L(K);if(q!=="F")return G.index[q];for(at=G.first;at;at=at.next)if(at.key===K)return at};return f(W,{clear:function(){for(var N=X(this),K=N.first;K;)K.removed=!0,K.previous&&(K.previous=K.previous.next=null),K=K.next;N.first=N.last=null,N.index=o(null),x?N.size=0:this.size=0},delete:function(N){var K=this,at=X(K),G=V(K,N);if(G){var q=G.next,et=G.previous;delete at.index[G.index],G.removed=!0,et&&(et.next=q),q&&(q.previous=et),at.first===G&&(at.first=q),at.last===G&&(at.last=et),x?at.size--:K.size--}return!!G},forEach:function(N){for(var K,at=X(this),G=A(N,arguments.length>1?arguments[1]:void 0);K=K?K.next:at.first;)for(G(K.value,K.key,this);K&&K.removed;)K=K.previous},has:function(N){return!!V(this,N)}}),f(W,U?{get:function(N){var K=V(this,N);return K&&K.value},set:function(N,K){return tt(this,N===0?0:N,K)}}:{add:function(N){return tt(this,N=N===0?0:N,N)}}),x&&u(W,"size",{configurable:!0,get:function(){return X(this).size}}),$},setStrong:function(_,M,U){var Q=M+" Iterator",$=O(M),W=O(Q);E(_,M,(function(X,tt){B(this,{type:Q,target:X,state:$(X),kind:tt,last:null})}),(function(){for(var X=W(this),tt=X.kind,V=X.last;V&&V.removed;)V=V.previous;return X.target&&(X.last=V=V?V.next:X.state.first)?C(tt==="keys"?V.key:tt==="values"?V.value:[V.key,V.value],!1):(X.target=null,C(void 0,!0))}),U?"entries":"values",!U,!0),T(M)}}},91625:function(a,c,e){var o=e(79504),u=e(56279),f=e(3451).getWeakData,A=e(90679),p=e(28551),m=e(64117),y=e(20034),E=e(72652),C=e(59213),T=e(39297),x=e(91181),L=x.set,D=x.getterFor,B=C.find,O=C.findIndex,_=o([].splice),M=0,U=function(W){return W.frozen||(W.frozen=new Q)},Q=function(){this.entries=[]},$=function(W,X){return B(W.entries,(function(tt){return tt[0]===X}))};Q.prototype={get:function(W){var X=$(this,W);if(X)return X[1]},has:function(W){return!!$(this,W)},set:function(W,X){var tt=$(this,W);tt?tt[1]=X:this.entries.push([W,X])},delete:function(W){var X=O(this.entries,(function(tt){return tt[0]===W}));return~X&&_(this.entries,X,1),!!~X}},a.exports={getConstructor:function(W,X,tt,V){var N=W((function(q,et){A(q,K),L(q,{type:X,id:M++,frozen:null}),m(et)||E(et,q[V],{that:q,AS_ENTRIES:tt})})),K=N.prototype,at=D(X),G=function(q,et,ot){var bt=at(q),Ct=f(p(et),!0);return Ct===!0?U(bt).set(et,ot):Ct[bt.id]=ot,q};return u(K,{delete:function(q){var et=at(this);if(!y(q))return!1;var ot=f(q);return ot===!0?U(et).delete(q):ot&&T(ot,et.id)&&delete ot[et.id]},has:function(q){var et=at(this);if(!y(q))return!1;var ot=f(q);return ot===!0?U(et).has(q):ot&&T(ot,et.id)}}),u(K,tt?{get:function(q){var et=at(this);if(y(q)){var ot=f(q);if(ot===!0)return U(et).get(q);if(ot)return ot[et.id]}},set:function(q,et){return G(this,q,et)}}:{add:function(q){return G(this,q,!0)}}),N}}},16468:function(a,c,e){var o=e(46518),u=e(44576),f=e(79504),A=e(92796),p=e(36840),m=e(3451),y=e(72652),E=e(90679),C=e(94901),T=e(64117),x=e(20034),L=e(79039),D=e(84428),B=e(10687),O=e(23167);a.exports=function(_,M,U){var Q=_.indexOf("Map")!==-1,$=_.indexOf("Weak")!==-1,W=Q?"set":"add",X=u[_],tt=X&&X.prototype,V=X,N={},K=function(bt){var Ct=f(tt[bt]);p(tt,bt,bt==="add"?function(Tt){return Ct(this,Tt===0?0:Tt),this}:bt==="delete"?function(Tt){return!($&&!x(Tt))&&Ct(this,Tt===0?0:Tt)}:bt==="get"?function(Tt){return $&&!x(Tt)?void 0:Ct(this,Tt===0?0:Tt)}:bt==="has"?function(Tt){return!($&&!x(Tt))&&Ct(this,Tt===0?0:Tt)}:function(Tt,$t){return Ct(this,Tt===0?0:Tt,$t),this})};if(A(_,!C(X)||!($||tt.forEach&&!L((function(){new X().entries().next()})))))V=U.getConstructor(M,_,Q,W),m.enable();else if(A(_,!0)){var at=new V,G=at[W]($?{}:-0,1)!==at,q=L((function(){at.has(1)})),et=D((function(bt){new X(bt)})),ot=!$&&L((function(){for(var bt=new X,Ct=5;Ct--;)bt[W](Ct,Ct);return!bt.has(-0)}));et||((V=M((function(bt,Ct){E(bt,tt);var Tt=O(new X,bt,V);return T(Ct)||y(Ct,Tt[W],{that:Tt,AS_ENTRIES:Q}),Tt}))).prototype=tt,tt.constructor=V),(q||ot)&&(K("delete"),K("has"),Q&&K("get")),(ot||G)&&K(W),$&&tt.clear&&delete tt.clear}return N[_]=V,o({global:!0,constructor:!0,forced:V!==X},N),B(V,_),$||U.setStrong(V,_,Q),V}},77740:function(a,c,e){var o=e(39297),u=e(35031),f=e(77347),A=e(24913);a.exports=function(p,m,y){for(var E=u(m),C=A.f,T=f.f,x=0;x<E.length;x++){var L=E[x];o(p,L)||y&&o(y,L)||C(p,L,T(m,L))}}},41436:function(a,c,e){var o=e(78227)("match");a.exports=function(u){var f=/./;try{"/./"[u](f)}catch{try{return f[o]=!1,"/./"[u](f)}catch{}}return!1}},12211:function(a,c,e){var o=e(79039);a.exports=!o((function(){function u(){}return u.prototype.constructor=null,Object.getPrototypeOf(new u)!==u.prototype}))},77240:function(a,c,e){var o=e(79504),u=e(67750),f=e(655),A=/"/g,p=o("".replace);a.exports=function(m,y,E,C){var T=f(u(m)),x="<"+y;return E!==""&&(x+=" "+E+'="'+p(f(C),A,"&quot;")+'"'),x+">"+T+"</"+y+">"}},62529:function(a){a.exports=function(c,e){return{value:c,done:e}}},66699:function(a,c,e){var o=e(43724),u=e(24913),f=e(6980);a.exports=o?function(A,p,m){return u.f(A,p,f(1,m))}:function(A,p,m){return A[p]=m,A}},6980:function(a){a.exports=function(c,e){return{enumerable:!(1&c),configurable:!(2&c),writable:!(4&c),value:e}}},97040:function(a,c,e){var o=e(43724),u=e(24913),f=e(6980);a.exports=function(A,p,m){o?u.f(A,p,f(0,m)):A[p]=m}},70380:function(a,c,e){var o=e(79504),u=e(79039),f=e(60533).start,A=RangeError,p=isFinite,m=Math.abs,y=Date.prototype,E=y.toISOString,C=o(y.getTime),T=o(y.getUTCDate),x=o(y.getUTCFullYear),L=o(y.getUTCHours),D=o(y.getUTCMilliseconds),B=o(y.getUTCMinutes),O=o(y.getUTCMonth),_=o(y.getUTCSeconds);a.exports=u((function(){return E.call(new Date(-50000000000001))!=="0385-07-25T07:06:39.999Z"}))||!u((function(){E.call(new Date(NaN))}))?function(){if(!p(C(this)))throw new A("Invalid time value");var M=this,U=x(M),Q=D(M),$=U<0?"-":U>9999?"+":"";return $+f(m(U),$?6:4,0)+"-"+f(O(M)+1,2,0)+"-"+f(T(M),2,0)+"T"+f(L(M),2,0)+":"+f(B(M),2,0)+":"+f(_(M),2,0)+"."+f(Q,3,0)+"Z"}:E},53640:function(a,c,e){var o=e(28551),u=e(84270),f=TypeError;a.exports=function(A){if(o(this),A==="string"||A==="default")A="string";else if(A!=="number")throw new f("Incorrect hint");return u(this,A)}},62106:function(a,c,e){var o=e(50283),u=e(24913);a.exports=function(f,A,p){return p.get&&o(p.get,A,{getter:!0}),p.set&&o(p.set,A,{setter:!0}),u.f(f,A,p)}},36840:function(a,c,e){var o=e(94901),u=e(24913),f=e(50283),A=e(39433);a.exports=function(p,m,y,E){E||(E={});var C=E.enumerable,T=E.name!==void 0?E.name:m;if(o(y)&&f(y,T,E),E.global)C?p[m]=y:A(m,y);else{try{E.unsafe?p[m]&&(C=!0):delete p[m]}catch{}C?p[m]=y:u.f(p,m,{value:y,enumerable:!1,configurable:!E.nonConfigurable,writable:!E.nonWritable})}return p}},56279:function(a,c,e){var o=e(36840);a.exports=function(u,f,A){for(var p in f)o(u,p,f[p],A);return u}},39433:function(a,c,e){var o=e(44576),u=Object.defineProperty;a.exports=function(f,A){try{u(o,f,{value:A,configurable:!0,writable:!0})}catch{o[f]=A}return A}},84606:function(a,c,e){var o=e(16823),u=TypeError;a.exports=function(f,A){if(!delete f[A])throw new u("Cannot delete property "+o(A)+" of "+o(f))}},43724:function(a,c,e){var o=e(79039);a.exports=!o((function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}))},94483:function(a,c,e){var o,u,f,A,p=e(44576),m=e(89429),y=e(1548),E=p.structuredClone,C=p.ArrayBuffer,T=p.MessageChannel,x=!1;if(y)x=function(L){E(L,{transfer:[L]})};else if(C)try{T||(o=m("worker_threads"))&&(T=o.MessageChannel),T&&(u=new T,f=new C(2),A=function(L){u.port1.postMessage(null,[L])},f.byteLength===2&&(A(f),f.byteLength===0&&(x=A)))}catch{}a.exports=x},4055:function(a,c,e){var o=e(44576),u=e(20034),f=o.document,A=u(f)&&u(f.createElement);a.exports=function(p){return A?f.createElement(p):{}}},96837:function(a){var c=TypeError;a.exports=function(e){if(e>9007199254740991)throw c("Maximum allowed index exceeded");return e}},55002:function(a){a.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},67400:function(a){a.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},79296:function(a,c,e){var o=e(4055)("span").classList,u=o&&o.constructor&&o.constructor.prototype;a.exports=u===Object.prototype?void 0:u},88727:function(a){a.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},13709:function(a,c,e){var o=e(82839).match(/firefox\/(\d+)/i);a.exports=!!o&&+o[1]},13763:function(a,c,e){var o=e(82839);a.exports=/MSIE|Trident/.test(o)},44265:function(a,c,e){var o=e(82839);a.exports=/ipad|iphone|ipod/i.test(o)&&typeof Pebble<"u"},89544:function(a,c,e){var o=e(82839);a.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(o)},38574:function(a,c,e){var o=e(84215);a.exports=o==="NODE"},7860:function(a,c,e){var o=e(82839);a.exports=/web0s(?!.*chrome)/i.test(o)},82839:function(a,c,e){var o=e(44576).navigator,u=o&&o.userAgent;a.exports=u?String(u):""},39519:function(a,c,e){var o,u,f=e(44576),A=e(82839),p=f.process,m=f.Deno,y=p&&p.versions||m&&m.version,E=y&&y.v8;E&&(u=(o=E.split("."))[0]>0&&o[0]<4?1:+(o[0]+o[1])),!u&&A&&(!(o=A.match(/Edge\/(\d+)/))||o[1]>=74)&&(o=A.match(/Chrome\/(\d+)/))&&(u=+o[1]),a.exports=u},3607:function(a,c,e){var o=e(82839).match(/AppleWebKit\/(\d+)\./);a.exports=!!o&&+o[1]},84215:function(a,c,e){var o=e(44576),u=e(82839),f=e(22195),A=function(p){return u.slice(0,p.length)===p};a.exports=A("Bun/")?"BUN":A("Cloudflare-Workers")?"CLOUDFLARE":A("Deno/")?"DENO":A("Node.js/")?"NODE":o.Bun&&typeof Bun.version=="string"?"BUN":o.Deno&&typeof Deno.version=="object"?"DENO":f(o.process)==="process"?"NODE":o.window&&o.document?"BROWSER":"REST"},16193:function(a,c,e){var o=e(79504),u=Error,f=o("".replace),A=String(new u("zxcasd").stack),p=/\n\s*at [^:]*:[^\n]*/,m=p.test(A);a.exports=function(y,E){if(m&&typeof y=="string"&&!u.prepareStackTrace)for(;E--;)y=f(y,p,"");return y}},80747:function(a,c,e){var o=e(66699),u=e(16193),f=e(24659),A=Error.captureStackTrace;a.exports=function(p,m,y,E){f&&(A?A(p,m):o(p,"stack",u(y,E)))}},24659:function(a,c,e){var o=e(79039),u=e(6980);a.exports=!o((function(){var f=new Error("a");return!("stack"in f)||(Object.defineProperty(f,"stack",u(1,7)),f.stack!==7)}))},77536:function(a,c,e){var o=e(43724),u=e(79039),f=e(28551),A=e(32603),p=Error.prototype.toString,m=u((function(){if(o){var y=Object.create(Object.defineProperty({},"name",{get:function(){return this===y}}));if(p.call(y)!=="true")return!0}return p.call({message:1,name:2})!=="2: 1"||p.call({})!=="Error"}));a.exports=m?function(){var y=f(this),E=A(y.name,"Error"),C=A(y.message);return E?C?E+": "+C:E:C}:p},46518:function(a,c,e){var o=e(44576),u=e(77347).f,f=e(66699),A=e(36840),p=e(39433),m=e(77740),y=e(92796);a.exports=function(E,C){var T,x,L,D,B,O=E.target,_=E.global,M=E.stat;if(T=_?o:M?o[O]||p(O,{}):o[O]&&o[O].prototype)for(x in C){if(D=C[x],L=E.dontCallGetSet?(B=u(T,x))&&B.value:T[x],!y(_?x:O+(M?".":"#")+x,E.forced)&&L!==void 0){if(typeof D==typeof L)continue;m(D,L)}(E.sham||L&&L.sham)&&f(D,"sham",!0),A(T,x,D,E)}}},79039:function(a){a.exports=function(c){try{return!!c()}catch{return!0}}},89228:function(a,c,e){e(27495);var o=e(69565),u=e(36840),f=e(57323),A=e(79039),p=e(78227),m=e(66699),y=p("species"),E=RegExp.prototype;a.exports=function(C,T,x,L){var D=p(C),B=!A((function(){var U={};return U[D]=function(){return 7},""[C](U)!==7})),O=B&&!A((function(){var U=!1,Q=/a/;return C==="split"&&((Q={}).constructor={},Q.constructor[y]=function(){return Q},Q.flags="",Q[D]=/./[D]),Q.exec=function(){return U=!0,null},Q[D](""),!U}));if(!B||!O||x){var _=/./[D],M=T(D,""[C],(function(U,Q,$,W,X){var tt=Q.exec;return tt===f||tt===E.exec?B&&!X?{done:!0,value:o(_,Q,$,W)}:{done:!0,value:o(U,$,Q,W)}:{done:!1}}));u(String.prototype,C,M[0]),u(E,D,M[1])}L&&m(E[D],"sham",!0)}},70259:function(a,c,e){var o=e(34376),u=e(26198),f=e(96837),A=e(76080),p=function(m,y,E,C,T,x,L,D){for(var B,O,_=T,M=0,U=!!L&&A(L,D);M<C;)M in E&&(B=U?U(E[M],M,y):E[M],x>0&&o(B)?(O=u(B),_=p(m,y,B,O,_,x-1)-1):(f(_+1),m[_]=B),_++),M++;return _};a.exports=p},92744:function(a,c,e){var o=e(79039);a.exports=!o((function(){return Object.isExtensible(Object.preventExtensions({}))}))},18745:function(a,c,e){var o=e(40616),u=Function.prototype,f=u.apply,A=u.call;a.exports=typeof Reflect=="object"&&Reflect.apply||(o?A.bind(f):function(){return A.apply(f,arguments)})},76080:function(a,c,e){var o=e(27476),u=e(79306),f=e(40616),A=o(o.bind);a.exports=function(p,m){return u(p),m===void 0?p:f?A(p,m):function(){return p.apply(m,arguments)}}},40616:function(a,c,e){var o=e(79039);a.exports=!o((function(){var u=(function(){}).bind();return typeof u!="function"||u.hasOwnProperty("prototype")}))},30566:function(a,c,e){var o=e(79504),u=e(79306),f=e(20034),A=e(39297),p=e(67680),m=e(40616),y=Function,E=o([].concat),C=o([].join),T={};a.exports=m?y.bind:function(x){var L=u(this),D=L.prototype,B=p(arguments,1),O=function(){var _=E(B,p(arguments));return this instanceof O?(function(M,U,Q){if(!A(T,U)){for(var $=[],W=0;W<U;W++)$[W]="a["+W+"]";T[U]=y("C,a","return new C("+C($,",")+")")}return T[U](M,Q)})(L,_.length,_):L.apply(x,_)};return f(D)&&(O.prototype=D),O}},69565:function(a,c,e){var o=e(40616),u=Function.prototype.call;a.exports=o?u.bind(u):function(){return u.apply(u,arguments)}},10350:function(a,c,e){var o=e(43724),u=e(39297),f=Function.prototype,A=o&&Object.getOwnPropertyDescriptor,p=u(f,"name"),m=p&&(function(){}).name==="something",y=p&&(!o||o&&A(f,"name").configurable);a.exports={EXISTS:p,PROPER:m,CONFIGURABLE:y}},46706:function(a,c,e){var o=e(79504),u=e(79306);a.exports=function(f,A,p){try{return o(u(Object.getOwnPropertyDescriptor(f,A)[p]))}catch{}}},27476:function(a,c,e){var o=e(22195),u=e(79504);a.exports=function(f){if(o(f)==="Function")return u(f)}},79504:function(a,c,e){var o=e(40616),u=Function.prototype,f=u.call,A=o&&u.bind.bind(f,f);a.exports=o?A:function(p){return function(){return f.apply(p,arguments)}}},89429:function(a,c,e){var o=e(44576),u=e(38574);a.exports=function(f){if(u){try{return o.process.getBuiltinModule(f)}catch{}try{return Function('return require("'+f+'")')()}catch{}}}},44124:function(a,c,e){var o=e(44576);a.exports=function(u,f){var A=o[u],p=A&&A.prototype;return p&&p[f]}},97751:function(a,c,e){var o=e(44576),u=e(94901);a.exports=function(f,A){return arguments.length<2?(p=o[f],u(p)?p:void 0):o[f]&&o[f][A];var p}},1767:function(a){a.exports=function(c){return{iterator:c,next:c.next,done:!1}}},48646:function(a,c,e){var o=e(69565),u=e(28551),f=e(1767),A=e(50851);a.exports=function(p,m){m&&typeof p=="string"||u(p);var y=A(p);return f(u(y!==void 0?o(y,p):p))}},50851:function(a,c,e){var o=e(36955),u=e(55966),f=e(64117),A=e(26269),p=e(78227)("iterator");a.exports=function(m){if(!f(m))return u(m,p)||u(m,"@@iterator")||A[o(m)]}},70081:function(a,c,e){var o=e(69565),u=e(79306),f=e(28551),A=e(16823),p=e(50851),m=TypeError;a.exports=function(y,E){var C=arguments.length<2?p(y):E;if(u(C))return f(o(C,y));throw new m(A(y)+" is not iterable")}},66933:function(a,c,e){var o=e(79504),u=e(34376),f=e(94901),A=e(22195),p=e(655),m=o([].push);a.exports=function(y){if(f(y))return y;if(u(y)){for(var E=y.length,C=[],T=0;T<E;T++){var x=y[T];typeof x=="string"?m(C,x):typeof x!="number"&&A(x)!=="Number"&&A(x)!=="String"||m(C,p(x))}var L=C.length,D=!0;return function(B,O){if(D)return D=!1,O;if(u(this))return O;for(var _=0;_<L;_++)if(C[_]===B)return O}}}},55966:function(a,c,e){var o=e(79306),u=e(64117);a.exports=function(f,A){var p=f[A];return u(p)?void 0:o(p)}},83789:function(a,c,e){var o=e(79306),u=e(28551),f=e(69565),A=e(91291),p=e(1767),m="Invalid size",y=RangeError,E=TypeError,C=Math.max,T=function(x,L){this.set=x,this.size=C(L,0),this.has=o(x.has),this.keys=o(x.keys)};T.prototype={getIterator:function(){return p(u(f(this.keys,this.set)))},includes:function(x){return f(this.has,this.set,x)}},a.exports=function(x){u(x);var L=+x.size;if(L!=L)throw new E(m);var D=A(L);if(D<0)throw new y(m);return new T(x,D)}},2478:function(a,c,e){var o=e(79504),u=e(48981),f=Math.floor,A=o("".charAt),p=o("".replace),m=o("".slice),y=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,E=/\$([$&'`]|\d{1,2})/g;a.exports=function(C,T,x,L,D,B){var O=x+C.length,_=L.length,M=E;return D!==void 0&&(D=u(D),M=y),p(B,M,(function(U,Q){var $;switch(A(Q,0)){case"$":return"$";case"&":return C;case"`":return m(T,0,x);case"'":return m(T,O);case"<":$=D[m(Q,1,-1)];break;default:var W=+Q;if(W===0)return U;if(W>_){var X=f(W/10);return X===0?U:X<=_?L[X-1]===void 0?A(Q,1):L[X-1]+A(Q,1):U}$=L[W-1]}return $===void 0?"":$}))}},44576:function(a,c,e){var o=function(u){return u&&u.Math===Math&&u};a.exports=o(typeof globalThis=="object"&&globalThis)||o(typeof window=="object"&&window)||o(typeof self=="object"&&self)||o(typeof e.g=="object"&&e.g)||o(typeof this=="object"&&this)||(function(){return this})()||Function("return this")()},39297:function(a,c,e){var o=e(79504),u=e(48981),f=o({}.hasOwnProperty);a.exports=Object.hasOwn||function(A,p){return f(u(A),p)}},30421:function(a){a.exports={}},90757:function(a){a.exports=function(c,e){try{arguments.length===1?console.error(c):console.error(c,e)}catch{}}},20397:function(a,c,e){var o=e(97751);a.exports=o("document","documentElement")},35917:function(a,c,e){var o=e(43724),u=e(79039),f=e(4055);a.exports=!o&&!u((function(){return Object.defineProperty(f("div"),"a",{get:function(){return 7}}).a!==7}))},88490:function(a){var c=Array,e=Math.abs,o=Math.pow,u=Math.floor,f=Math.log,A=Math.LN2;a.exports={pack:function(p,m,y){var E,C,T,x=c(y),L=8*y-m-1,D=(1<<L)-1,B=D>>1,O=m===23?o(2,-24)-o(2,-77):0,_=p<0||p===0&&1/p<0?1:0,M=0;for((p=e(p))!=p||p===1/0?(C=p!=p?1:0,E=D):(E=u(f(p)/A),p*(T=o(2,-E))<1&&(E--,T*=2),(p+=E+B>=1?O/T:O*o(2,1-B))*T>=2&&(E++,T/=2),E+B>=D?(C=0,E=D):E+B>=1?(C=(p*T-1)*o(2,m),E+=B):(C=p*o(2,B-1)*o(2,m),E=0));m>=8;)x[M++]=255&C,C/=256,m-=8;for(E=E<<m|C,L+=m;L>0;)x[M++]=255&E,E/=256,L-=8;return x[M-1]|=128*_,x},unpack:function(p,m){var y,E=p.length,C=8*E-m-1,T=(1<<C)-1,x=T>>1,L=C-7,D=E-1,B=p[D--],O=127&B;for(B>>=7;L>0;)O=256*O+p[D--],L-=8;for(y=O&(1<<-L)-1,O>>=-L,L+=m;L>0;)y=256*y+p[D--],L-=8;if(O===0)O=1-x;else{if(O===T)return y?NaN:B?-1/0:1/0;y+=o(2,m),O-=x}return(B?-1:1)*y*o(2,O-m)}}},47055:function(a,c,e){var o=e(79504),u=e(79039),f=e(22195),A=Object,p=o("".split);a.exports=u((function(){return!A("z").propertyIsEnumerable(0)}))?function(m){return f(m)==="String"?p(m,""):A(m)}:A},23167:function(a,c,e){var o=e(94901),u=e(20034),f=e(52967);a.exports=function(A,p,m){var y,E;return f&&o(y=p.constructor)&&y!==m&&u(E=y.prototype)&&E!==m.prototype&&f(A,E),A}},33706:function(a,c,e){var o=e(79504),u=e(94901),f=e(77629),A=o(Function.toString);u(f.inspectSource)||(f.inspectSource=function(p){return A(p)}),a.exports=f.inspectSource},77584:function(a,c,e){var o=e(20034),u=e(66699);a.exports=function(f,A){o(A)&&"cause"in A&&u(f,"cause",A.cause)}},3451:function(a,c,e){var o=e(46518),u=e(79504),f=e(30421),A=e(20034),p=e(39297),m=e(24913).f,y=e(38480),E=e(10298),C=e(34124),T=e(33392),x=e(92744),L=!1,D=T("meta"),B=0,O=function(M){m(M,D,{value:{objectID:"O"+B++,weakData:{}}})},_=a.exports={enable:function(){_.enable=function(){},L=!0;var M=y.f,U=u([].splice),Q={};Q[D]=1,M(Q).length&&(y.f=function($){for(var W=M($),X=0,tt=W.length;X<tt;X++)if(W[X]===D){U(W,X,1);break}return W},o({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:E.f}))},fastKey:function(M,U){if(!A(M))return typeof M=="symbol"?M:(typeof M=="string"?"S":"P")+M;if(!p(M,D)){if(!C(M))return"F";if(!U)return"E";O(M)}return M[D].objectID},getWeakData:function(M,U){if(!p(M,D)){if(!C(M))return!0;if(!U)return!1;O(M)}return M[D].weakData},onFreeze:function(M){return x&&L&&C(M)&&!p(M,D)&&O(M),M}};f[D]=!0},91181:function(a,c,e){var o,u,f,A=e(58622),p=e(44576),m=e(20034),y=e(66699),E=e(39297),C=e(77629),T=e(66119),x=e(30421),L="Object already initialized",D=p.TypeError,B=p.WeakMap;if(A||C.state){var O=C.state||(C.state=new B);O.get=O.get,O.has=O.has,O.set=O.set,o=function(M,U){if(O.has(M))throw new D(L);return U.facade=M,O.set(M,U),U},u=function(M){return O.get(M)||{}},f=function(M){return O.has(M)}}else{var _=T("state");x[_]=!0,o=function(M,U){if(E(M,_))throw new D(L);return U.facade=M,y(M,_,U),U},u=function(M){return E(M,_)?M[_]:{}},f=function(M){return E(M,_)}}a.exports={set:o,get:u,has:f,enforce:function(M){return f(M)?u(M):o(M,{})},getterFor:function(M){return function(U){var Q;if(!m(U)||(Q=u(U)).type!==M)throw new D("Incompatible receiver, "+M+" required");return Q}}}},44209:function(a,c,e){var o=e(78227),u=e(26269),f=o("iterator"),A=Array.prototype;a.exports=function(p){return p!==void 0&&(u.Array===p||A[f]===p)}},34376:function(a,c,e){var o=e(22195);a.exports=Array.isArray||function(u){return o(u)==="Array"}},18727:function(a,c,e){var o=e(36955);a.exports=function(u){var f=o(u);return f==="BigInt64Array"||f==="BigUint64Array"}},94901:function(a){var c=typeof document=="object"&&document.all;a.exports=c===void 0&&c!==void 0?function(e){return typeof e=="function"||e===c}:function(e){return typeof e=="function"}},33517:function(a,c,e){var o=e(79504),u=e(79039),f=e(94901),A=e(36955),p=e(97751),m=e(33706),y=function(){},E=p("Reflect","construct"),C=/^\s*(?:class|function)\b/,T=o(C.exec),x=!C.test(y),L=function(B){if(!f(B))return!1;try{return E(y,[],B),!0}catch{return!1}},D=function(B){if(!f(B))return!1;switch(A(B)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return x||!!T(C,m(B))}catch{return!0}};D.sham=!0,a.exports=!E||u((function(){var B;return L(L.call)||!L(Object)||!L((function(){B=!0}))||B}))?D:L},16575:function(a,c,e){var o=e(39297);a.exports=function(u){return u!==void 0&&(o(u,"value")||o(u,"writable"))}},92796:function(a,c,e){var o=e(79039),u=e(94901),f=/#|\.prototype\./,A=function(C,T){var x=m[p(C)];return x===E||x!==y&&(u(T)?o(T):!!T)},p=A.normalize=function(C){return String(C).replace(f,".").toLowerCase()},m=A.data={},y=A.NATIVE="N",E=A.POLYFILL="P";a.exports=A},2087:function(a,c,e){var o=e(20034),u=Math.floor;a.exports=Number.isInteger||function(f){return!o(f)&&isFinite(f)&&u(f)===f}},64117:function(a){a.exports=function(c){return c==null}},20034:function(a,c,e){var o=e(94901);a.exports=function(u){return typeof u=="object"?u!==null:o(u)}},13925:function(a,c,e){var o=e(20034);a.exports=function(u){return o(u)||u===null}},96395:function(a){a.exports=!1},60788:function(a,c,e){var o=e(20034),u=e(22195),f=e(78227)("match");a.exports=function(A){var p;return o(A)&&((p=A[f])!==void 0?!!p:u(A)==="RegExp")}},10757:function(a,c,e){var o=e(97751),u=e(94901),f=e(1625),A=e(7040),p=Object;a.exports=A?function(m){return typeof m=="symbol"}:function(m){var y=o("Symbol");return u(y)&&f(y.prototype,p(m))}},40507:function(a,c,e){var o=e(69565);a.exports=function(u,f,A){for(var p,m,y=A?u:u.iterator,E=u.next;!(p=o(E,y)).done;)if((m=f(p.value))!==void 0)return m}},72652:function(a,c,e){var o=e(76080),u=e(69565),f=e(28551),A=e(16823),p=e(44209),m=e(26198),y=e(1625),E=e(70081),C=e(50851),T=e(9539),x=TypeError,L=function(B,O){this.stopped=B,this.result=O},D=L.prototype;a.exports=function(B,O,_){var M,U,Q,$,W,X,tt,V=_&&_.that,N=!(!_||!_.AS_ENTRIES),K=!(!_||!_.IS_RECORD),at=!(!_||!_.IS_ITERATOR),G=!(!_||!_.INTERRUPTED),q=o(O,V),et=function(bt){return M&&T(M,"normal",bt),new L(!0,bt)},ot=function(bt){return N?(f(bt),G?q(bt[0],bt[1],et):q(bt[0],bt[1])):G?q(bt,et):q(bt)};if(K)M=B.iterator;else if(at)M=B;else{if(!(U=C(B)))throw new x(A(B)+" is not iterable");if(p(U)){for(Q=0,$=m(B);$>Q;Q++)if((W=ot(B[Q]))&&y(D,W))return W;return new L(!1)}M=E(B,U)}for(X=K?B.next:M.next;!(tt=u(X,M)).done;){try{W=ot(tt.value)}catch(bt){T(M,"throw",bt)}if(typeof W=="object"&&W&&y(D,W))return W}return new L(!1)}},9539:function(a,c,e){var o=e(69565),u=e(28551),f=e(55966);a.exports=function(A,p,m){var y,E;u(A);try{if(!(y=f(A,"return"))){if(p==="throw")throw m;return m}y=o(y,A)}catch(C){E=!0,y=C}if(p==="throw")throw m;if(E)throw y;return u(y),m}},33994:function(a,c,e){var o=e(57657).IteratorPrototype,u=e(2360),f=e(6980),A=e(10687),p=e(26269),m=function(){return this};a.exports=function(y,E,C,T){var x=E+" Iterator";return y.prototype=u(o,{next:f(+!T,C)}),A(y,x,!1,!0),p[x]=m,y}},19462:function(a,c,e){var o=e(69565),u=e(2360),f=e(66699),A=e(56279),p=e(78227),m=e(91181),y=e(55966),E=e(57657).IteratorPrototype,C=e(62529),T=e(9539),x=p("toStringTag"),L="IteratorHelper",D="WrapForValidIterator",B=m.set,O=function(U){var Q=m.getterFor(U?D:L);return A(u(E),{next:function(){var $=Q(this);if(U)return $.nextHandler();if($.done)return C(void 0,!0);try{var W=$.nextHandler();return $.returnHandlerResult?W:C(W,$.done)}catch(X){throw $.done=!0,X}},return:function(){var $=Q(this),W=$.iterator;if($.done=!0,U){var X=y(W,"return");return X?o(X,W):C(void 0,!0)}if($.inner)try{T($.inner.iterator,"normal")}catch(tt){return T(W,"throw",tt)}return W&&T(W,"normal"),C(void 0,!0)}})},_=O(!0),M=O(!1);f(M,x,"Iterator Helper"),a.exports=function(U,Q,$){var W=function(X,tt){tt?(tt.iterator=X.iterator,tt.next=X.next):tt=X,tt.type=Q?D:L,tt.returnHandlerResult=!!$,tt.nextHandler=U,tt.counter=0,tt.done=!1,B(this,tt)};return W.prototype=Q?_:M,W}},51088:function(a,c,e){var o=e(46518),u=e(69565),f=e(96395),A=e(10350),p=e(94901),m=e(33994),y=e(42787),E=e(52967),C=e(10687),T=e(66699),x=e(36840),L=e(78227),D=e(26269),B=e(57657),O=A.PROPER,_=A.CONFIGURABLE,M=B.IteratorPrototype,U=B.BUGGY_SAFARI_ITERATORS,Q=L("iterator"),$="keys",W="values",X="entries",tt=function(){return this};a.exports=function(V,N,K,at,G,q,et){m(K,N,at);var ot,bt,Ct,Tt=function(Se){if(Se===G&&ce)return ce;if(!U&&Se&&Se in jt)return jt[Se];switch(Se){case $:case W:case X:return function(){return new K(this,Se)}}return function(){return new K(this)}},$t=N+" Iterator",Vt=!1,jt=V.prototype,ee=jt[Q]||jt["@@iterator"]||G&&jt[G],ce=!U&&ee||Tt(G),se=N==="Array"&&jt.entries||ee;if(se&&(ot=y(se.call(new V)))!==Object.prototype&&ot.next&&(f||y(ot)===M||(E?E(ot,M):p(ot[Q])||x(ot,Q,tt)),C(ot,$t,!0,!0),f&&(D[$t]=tt)),O&&G===W&&ee&&ee.name!==W&&(!f&&_?T(jt,"name",W):(Vt=!0,ce=function(){return u(ee,this)})),G)if(bt={values:Tt(W),keys:q?ce:Tt($),entries:Tt(X)},et)for(Ct in bt)(U||Vt||!(Ct in jt))&&x(jt,Ct,bt[Ct]);else o({target:N,proto:!0,forced:U||Vt},bt);return f&&!et||jt[Q]===ce||x(jt,Q,ce,{name:G}),D[N]=ce,bt}},20713:function(a,c,e){var o=e(69565),u=e(79306),f=e(28551),A=e(1767),p=e(19462),m=e(96319),y=p((function(){var E=this.iterator,C=f(o(this.next,E));if(!(this.done=!!C.done))return m(E,this.mapper,[C.value,this.counter++],!0)}));a.exports=function(E){return f(this),u(E),new y(A(this),{mapper:E})}},57657:function(a,c,e){var o,u,f,A=e(79039),p=e(94901),m=e(20034),y=e(2360),E=e(42787),C=e(36840),T=e(78227),x=e(96395),L=T("iterator"),D=!1;[].keys&&("next"in(f=[].keys())?(u=E(E(f)))!==Object.prototype&&(o=u):D=!0),!m(o)||A((function(){var B={};return o[L].call(B)!==B}))?o={}:x&&(o=y(o)),p(o[L])||C(o,L,(function(){return this})),a.exports={IteratorPrototype:o,BUGGY_SAFARI_ITERATORS:D}},26269:function(a){a.exports={}},26198:function(a,c,e){var o=e(18014);a.exports=function(u){return o(u.length)}},50283:function(a,c,e){var o=e(79504),u=e(79039),f=e(94901),A=e(39297),p=e(43724),m=e(10350).CONFIGURABLE,y=e(33706),E=e(91181),C=E.enforce,T=E.get,x=String,L=Object.defineProperty,D=o("".slice),B=o("".replace),O=o([].join),_=p&&!u((function(){return L((function(){}),"length",{value:8}).length!==8})),M=String(String).split("String"),U=a.exports=function(Q,$,W){D(x($),0,7)==="Symbol("&&($="["+B(x($),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),W&&W.getter&&($="get "+$),W&&W.setter&&($="set "+$),(!A(Q,"name")||m&&Q.name!==$)&&(p?L(Q,"name",{value:$,configurable:!0}):Q.name=$),_&&W&&A(W,"arity")&&Q.length!==W.arity&&L(Q,"length",{value:W.arity});try{W&&A(W,"constructor")&&W.constructor?p&&L(Q,"prototype",{writable:!1}):Q.prototype&&(Q.prototype=void 0)}catch{}var X=C(Q);return A(X,"source")||(X.source=O(M,typeof $=="string"?$:"")),Q};Function.prototype.toString=U((function(){return f(this)&&T(this).source||y(this)}),"toString")},72248:function(a,c,e){var o=e(79504),u=Map.prototype;a.exports={Map,set:o(u.set),get:o(u.get),has:o(u.has),remove:o(u.delete),proto:u}},53250:function(a){var c=Math.expm1,e=Math.exp;a.exports=!c||c(10)>22025.465794806718||c(10)<22025.465794806718||c(-2e-17)!==-2e-17?function(o){var u=+o;return u===0?u:u>-1e-6&&u<1e-6?u+u*u/2:e(u)-1}:c},33164:function(a,c,e){var o=e(77782),u=e(53602),f=Math.abs;a.exports=function(A,p,m,y){var E=+A,C=f(E),T=o(E);if(C<y)return T*u(C/y/p)*y*p;var x=(1+p/2220446049250313e-31)*C,L=x-(x-C);return L>m||L!=L?T*(1/0):T*L}},15617:function(a,c,e){var o=e(33164);a.exports=Math.fround||function(u){return o(u,11920928955078125e-23,34028234663852886e22,11754943508222875e-54)}},49340:function(a){var c=Math.log,e=Math.LOG10E;a.exports=Math.log10||function(o){return c(o)*e}},7740:function(a){var c=Math.log;a.exports=Math.log1p||function(e){var o=+e;return o>-1e-8&&o<1e-8?o-o*o/2:c(1+o)}},67787:function(a){var c=Math.log,e=Math.LN2;a.exports=Math.log2||function(o){return c(o)/e}},53602:function(a){var c=4503599627370496;a.exports=function(e){return e+c-c}},77782:function(a){a.exports=Math.sign||function(c){var e=+c;return e===0||e!=e?e:e<0?-1:1}},80741:function(a){var c=Math.ceil,e=Math.floor;a.exports=Math.trunc||function(o){var u=+o;return(u>0?e:c)(u)}},91955:function(a,c,e){var o,u,f,A,p,m=e(44576),y=e(93389),E=e(76080),C=e(59225).set,T=e(18265),x=e(89544),L=e(44265),D=e(7860),B=e(38574),O=m.MutationObserver||m.WebKitMutationObserver,_=m.document,M=m.process,U=m.Promise,Q=y("queueMicrotask");if(!Q){var $=new T,W=function(){var X,tt;for(B&&(X=M.domain)&&X.exit();tt=$.get();)try{tt()}catch(V){throw $.head&&o(),V}X&&X.enter()};x||B||D||!O||!_?!L&&U&&U.resolve?((A=U.resolve(void 0)).constructor=U,p=E(A.then,A),o=function(){p(W)}):B?o=function(){M.nextTick(W)}:(C=E(C,m),o=function(){C(W)}):(u=!0,f=_.createTextNode(""),new O(W).observe(f,{characterData:!0}),o=function(){f.data=u=!u}),Q=function(X){$.head||o(),$.add(X)}}a.exports=Q},36043:function(a,c,e){var o=e(79306),u=TypeError,f=function(A){var p,m;this.promise=new A((function(y,E){if(p!==void 0||m!==void 0)throw new u("Bad Promise constructor");p=y,m=E})),this.resolve=o(p),this.reject=o(m)};a.exports.f=function(A){return new f(A)}},32603:function(a,c,e){var o=e(655);a.exports=function(u,f){return u===void 0?arguments.length<2?"":f:o(u)}},24149:function(a){var c=RangeError;a.exports=function(e){if(e==e)return e;throw new c("NaN is not allowed")}},60511:function(a,c,e){var o=e(60788),u=TypeError;a.exports=function(f){if(o(f))throw new u("The method doesn't accept regular expressions");return f}},50360:function(a,c,e){var o=e(44576).isFinite;a.exports=Number.isFinite||function(u){return typeof u=="number"&&o(u)}},33904:function(a,c,e){var o=e(44576),u=e(79039),f=e(79504),A=e(655),p=e(43802).trim,m=e(47452),y=f("".charAt),E=o.parseFloat,C=o.Symbol,T=C&&C.iterator,x=1/E(m+"-0")!=-1/0||T&&!u((function(){E(Object(T))}));a.exports=x?function(L){var D=p(A(L)),B=E(D);return B===0&&y(D,0)==="-"?-0:B}:E},52703:function(a,c,e){var o=e(44576),u=e(79039),f=e(79504),A=e(655),p=e(43802).trim,m=e(47452),y=o.parseInt,E=o.Symbol,C=E&&E.iterator,T=/^[+-]?0x/i,x=f(T.exec),L=y(m+"08")!==8||y(m+"0x16")!==22||C&&!u((function(){y(Object(C))}));a.exports=L?function(D,B){var O=p(A(D));return y(O,B>>>0||(x(T,O)?16:10))}:y},44213:function(a,c,e){var o=e(43724),u=e(79504),f=e(69565),A=e(79039),p=e(71072),m=e(33717),y=e(48773),E=e(48981),C=e(47055),T=Object.assign,x=Object.defineProperty,L=u([].concat);a.exports=!T||A((function(){if(o&&T({b:1},T(x({},"a",{enumerable:!0,get:function(){x(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var D={},B={},O=Symbol("assign detection"),_="abcdefghijklmnopqrst";return D[O]=7,_.split("").forEach((function(M){B[M]=M})),T({},D)[O]!==7||p(T({},B)).join("")!==_}))?function(D,B){for(var O=E(D),_=arguments.length,M=1,U=m.f,Q=y.f;_>M;)for(var $,W=C(arguments[M++]),X=U?L(p(W),U(W)):p(W),tt=X.length,V=0;tt>V;)$=X[V++],o&&!f(Q,W,$)||(O[$]=W[$]);return O}:T},2360:function(a,c,e){var o,u=e(28551),f=e(96801),A=e(88727),p=e(30421),m=e(20397),y=e(4055),E=e(66119),C="prototype",T="script",x=E("IE_PROTO"),L=function(){},D=function(_){return"<"+T+">"+_+"</"+T+">"},B=function(_){_.write(D("")),_.close();var M=_.parentWindow.Object;return _=null,M},O=function(){try{o=new ActiveXObject("htmlfile")}catch{}var _,M,U;O=typeof document<"u"?document.domain&&o?B(o):(M=y("iframe"),U="java"+T+":",M.style.display="none",m.appendChild(M),M.src=String(U),(_=M.contentWindow.document).open(),_.write(D("document.F=Object")),_.close(),_.F):B(o);for(var Q=A.length;Q--;)delete O[C][A[Q]];return O()};p[x]=!0,a.exports=Object.create||function(_,M){var U;return _!==null?(L[C]=u(_),U=new L,L[C]=null,U[x]=_):U=O(),M===void 0?U:f.f(U,M)}},96801:function(a,c,e){var o=e(43724),u=e(48686),f=e(24913),A=e(28551),p=e(25397),m=e(71072);c.f=o&&!u?Object.defineProperties:function(y,E){A(y);for(var C,T=p(E),x=m(E),L=x.length,D=0;L>D;)f.f(y,C=x[D++],T[C]);return y}},24913:function(a,c,e){var o=e(43724),u=e(35917),f=e(48686),A=e(28551),p=e(56969),m=TypeError,y=Object.defineProperty,E=Object.getOwnPropertyDescriptor,C="enumerable",T="configurable",x="writable";c.f=o?f?function(L,D,B){if(A(L),D=p(D),A(B),typeof L=="function"&&D==="prototype"&&"value"in B&&x in B&&!B[x]){var O=E(L,D);O&&O[x]&&(L[D]=B.value,B={configurable:T in B?B[T]:O[T],enumerable:C in B?B[C]:O[C],writable:!1})}return y(L,D,B)}:y:function(L,D,B){if(A(L),D=p(D),A(B),u)try{return y(L,D,B)}catch{}if("get"in B||"set"in B)throw new m("Accessors not supported");return"value"in B&&(L[D]=B.value),L}},77347:function(a,c,e){var o=e(43724),u=e(69565),f=e(48773),A=e(6980),p=e(25397),m=e(56969),y=e(39297),E=e(35917),C=Object.getOwnPropertyDescriptor;c.f=o?C:function(T,x){if(T=p(T),x=m(x),E)try{return C(T,x)}catch{}if(y(T,x))return A(!u(f.f,T,x),T[x])}},10298:function(a,c,e){var o=e(22195),u=e(25397),f=e(38480).f,A=e(67680),p=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];a.exports.f=function(m){return p&&o(m)==="Window"?(function(y){try{return f(y)}catch{return A(p)}})(m):f(u(m))}},38480:function(a,c,e){var o=e(61828),u=e(88727).concat("length","prototype");c.f=Object.getOwnPropertyNames||function(f){return o(f,u)}},33717:function(a,c){c.f=Object.getOwnPropertySymbols},42787:function(a,c,e){var o=e(39297),u=e(94901),f=e(48981),A=e(66119),p=e(12211),m=A("IE_PROTO"),y=Object,E=y.prototype;a.exports=p?y.getPrototypeOf:function(C){var T=f(C);if(o(T,m))return T[m];var x=T.constructor;return u(x)&&T instanceof x?x.prototype:T instanceof y?E:null}},34124:function(a,c,e){var o=e(79039),u=e(20034),f=e(22195),A=e(15652),p=Object.isExtensible,m=o((function(){}));a.exports=m||A?function(y){return!!u(y)&&(!A||f(y)!=="ArrayBuffer")&&(!p||p(y))}:p},1625:function(a,c,e){var o=e(79504);a.exports=o({}.isPrototypeOf)},61828:function(a,c,e){var o=e(79504),u=e(39297),f=e(25397),A=e(19617).indexOf,p=e(30421),m=o([].push);a.exports=function(y,E){var C,T=f(y),x=0,L=[];for(C in T)!u(p,C)&&u(T,C)&&m(L,C);for(;E.length>x;)u(T,C=E[x++])&&(~A(L,C)||m(L,C));return L}},71072:function(a,c,e){var o=e(61828),u=e(88727);a.exports=Object.keys||function(f){return o(f,u)}},48773:function(a,c){var e={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,u=o&&!e.call({1:2},1);c.f=u?function(f){var A=o(this,f);return!!A&&A.enumerable}:e},42551:function(a,c,e){var o=e(96395),u=e(44576),f=e(79039),A=e(3607);a.exports=o||!f((function(){if(!(A&&A<535)){var p=Math.random();__defineSetter__.call(null,p,(function(){})),delete u[p]}}))},52967:function(a,c,e){var o=e(46706),u=e(20034),f=e(67750),A=e(73506);a.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var p,m=!1,y={};try{(p=o(Object.prototype,"__proto__","set"))(y,[]),m=y instanceof Array}catch{}return function(E,C){return f(E),A(C),u(E)&&(m?p(E,C):E.__proto__=C),E}})():void 0)},32357:function(a,c,e){var o=e(43724),u=e(79039),f=e(79504),A=e(42787),p=e(71072),m=e(25397),y=f(e(48773).f),E=f([].push),C=o&&u((function(){var x=Object.create(null);return x[2]=2,!y(x,2)})),T=function(x){return function(L){for(var D,B=m(L),O=p(B),_=C&&A(B)===null,M=O.length,U=0,Q=[];M>U;)D=O[U++],o&&!(_?D in B:y(B,D))||E(Q,x?[D,B[D]]:B[D]);return Q}};a.exports={entries:T(!0),values:T(!1)}},53179:function(a,c,e){var o=e(92140),u=e(36955);a.exports=o?{}.toString:function(){return"[object "+u(this)+"]"}},84270:function(a,c,e){var o=e(69565),u=e(94901),f=e(20034),A=TypeError;a.exports=function(p,m){var y,E;if(m==="string"&&u(y=p.toString)&&!f(E=o(y,p))||u(y=p.valueOf)&&!f(E=o(y,p))||m!=="string"&&u(y=p.toString)&&!f(E=o(y,p)))return E;throw new A("Can't convert object to primitive value")}},35031:function(a,c,e){var o=e(97751),u=e(79504),f=e(38480),A=e(33717),p=e(28551),m=u([].concat);a.exports=o("Reflect","ownKeys")||function(y){var E=f.f(p(y)),C=A.f;return C?m(E,C(y)):E}},19167:function(a,c,e){var o=e(44576);a.exports=o},1103:function(a){a.exports=function(c){try{return{error:!1,value:c()}}catch(e){return{error:!0,value:e}}}},10916:function(a,c,e){var o=e(44576),u=e(80550),f=e(94901),A=e(92796),p=e(33706),m=e(78227),y=e(84215),E=e(96395),C=e(39519),T=u&&u.prototype,x=m("species"),L=!1,D=f(o.PromiseRejectionEvent),B=A("Promise",(function(){var O=p(u),_=O!==String(u);if(!_&&C===66||E&&(!T.catch||!T.finally))return!0;if(!C||C<51||!/native code/.test(O)){var M=new u((function(Q){Q(1)})),U=function(Q){Q((function(){}),(function(){}))};if((M.constructor={})[x]=U,!(L=M.then((function(){}))instanceof U))return!0}return!(_||y!=="BROWSER"&&y!=="DENO"||D)}));a.exports={CONSTRUCTOR:B,REJECTION_EVENT:D,SUBCLASSING:L}},80550:function(a,c,e){var o=e(44576);a.exports=o.Promise},93438:function(a,c,e){var o=e(28551),u=e(20034),f=e(36043);a.exports=function(A,p){if(o(A),u(p)&&p.constructor===A)return p;var m=f.f(A);return(0,m.resolve)(p),m.promise}},90537:function(a,c,e){var o=e(80550),u=e(84428),f=e(10916).CONSTRUCTOR;a.exports=f||!u((function(A){o.all(A).then(void 0,(function(){}))}))},11056:function(a,c,e){var o=e(24913).f;a.exports=function(u,f,A){A in u||o(u,A,{configurable:!0,get:function(){return f[A]},set:function(p){f[A]=p}})}},18265:function(a){var c=function(){this.head=null,this.tail=null};c.prototype={add:function(e){var o={item:e,next:null},u=this.tail;u?u.next=o:this.head=o,this.tail=o},get:function(){var e=this.head;if(e)return(this.head=e.next)===null&&(this.tail=null),e.item}},a.exports=c},56682:function(a,c,e){var o=e(69565),u=e(28551),f=e(94901),A=e(22195),p=e(57323),m=TypeError;a.exports=function(y,E){var C=y.exec;if(f(C)){var T=o(C,y,E);return T!==null&&u(T),T}if(A(y)==="RegExp")return o(p,y,E);throw new m("RegExp#exec called on incompatible receiver")}},57323:function(a,c,e){var o,u,f=e(69565),A=e(79504),p=e(655),m=e(67979),y=e(58429),E=e(25745),C=e(2360),T=e(91181).get,x=e(83635),L=e(18814),D=E("native-string-replace",String.prototype.replace),B=RegExp.prototype.exec,O=B,_=A("".charAt),M=A("".indexOf),U=A("".replace),Q=A("".slice),$=(u=/b*/g,f(B,o=/a/,"a"),f(B,u,"a"),o.lastIndex!==0||u.lastIndex!==0),W=y.BROKEN_CARET,X=/()??/.exec("")[1]!==void 0;($||X||W||x||L)&&(O=function(tt){var V,N,K,at,G,q,et,ot=this,bt=T(ot),Ct=p(tt),Tt=bt.raw;if(Tt)return Tt.lastIndex=ot.lastIndex,V=f(O,Tt,Ct),ot.lastIndex=Tt.lastIndex,V;var $t=bt.groups,Vt=W&&ot.sticky,jt=f(m,ot),ee=ot.source,ce=0,se=Ct;if(Vt&&(jt=U(jt,"y",""),M(jt,"g")===-1&&(jt+="g"),se=Q(Ct,ot.lastIndex),ot.lastIndex>0&&(!ot.multiline||ot.multiline&&_(Ct,ot.lastIndex-1)!==`
`)&&(ee="(?: "+ee+")",se=" "+se,ce++),N=new RegExp("^(?:"+ee+")",jt)),X&&(N=new RegExp("^"+ee+"$(?!\\s)",jt)),$&&(K=ot.lastIndex),at=f(B,Vt?N:ot,se),Vt?at?(at.input=Q(at.input,ce),at[0]=Q(at[0],ce),at.index=ot.lastIndex,ot.lastIndex+=at[0].length):ot.lastIndex=0:$&&at&&(ot.lastIndex=ot.global?at.index+at[0].length:K),X&&at&&at.length>1&&f(D,at[0],N,(function(){for(G=1;G<arguments.length-2;G++)arguments[G]===void 0&&(at[G]=void 0)})),at&&$t)for(at.groups=q=C(null),G=0;G<$t.length;G++)q[(et=$t[G])[0]]=at[et[1]];return at}),a.exports=O},67979:function(a,c,e){var o=e(28551);a.exports=function(){var u=o(this),f="";return u.hasIndices&&(f+="d"),u.global&&(f+="g"),u.ignoreCase&&(f+="i"),u.multiline&&(f+="m"),u.dotAll&&(f+="s"),u.unicode&&(f+="u"),u.unicodeSets&&(f+="v"),u.sticky&&(f+="y"),f}},61034:function(a,c,e){var o=e(69565),u=e(39297),f=e(1625),A=e(67979),p=RegExp.prototype;a.exports=function(m){var y=m.flags;return y!==void 0||"flags"in p||u(m,"flags")||!f(p,m)?y:o(A,m)}},58429:function(a,c,e){var o=e(79039),u=e(44576).RegExp,f=o((function(){var m=u("a","y");return m.lastIndex=2,m.exec("abcd")!==null})),A=f||o((function(){return!u("a","y").sticky})),p=f||o((function(){var m=u("^r","gy");return m.lastIndex=2,m.exec("str")!==null}));a.exports={BROKEN_CARET:p,MISSED_STICKY:A,UNSUPPORTED_Y:f}},83635:function(a,c,e){var o=e(79039),u=e(44576).RegExp;a.exports=o((function(){var f=u(".","s");return!(f.dotAll&&f.test(`
`)&&f.flags==="s")}))},18814:function(a,c,e){var o=e(79039),u=e(44576).RegExp;a.exports=o((function(){var f=u("(?<a>b)","g");return f.exec("b").groups.a!=="b"||"b".replace(f,"$<a>c")!=="bc"}))},67750:function(a,c,e){var o=e(64117),u=TypeError;a.exports=function(f){if(o(f))throw new u("Can't call method on "+f);return f}},93389:function(a,c,e){var o=e(44576),u=e(43724),f=Object.getOwnPropertyDescriptor;a.exports=function(A){if(!u)return o[A];var p=f(o,A);return p&&p.value}},3470:function(a){a.exports=Object.is||function(c,e){return c===e?c!==0||1/c==1/e:c!=c&&e!=e}},79472:function(a,c,e){var o,u=e(44576),f=e(18745),A=e(94901),p=e(84215),m=e(82839),y=e(67680),E=e(22812),C=u.Function,T=/MSIE .\./.test(m)||p==="BUN"&&((o=u.Bun.version.split(".")).length<3||o[0]==="0"&&(o[1]<3||o[1]==="3"&&o[2]==="0"));a.exports=function(x,L){var D=L?2:1;return T?function(B,O){var _=E(arguments.length,1)>D,M=A(B)?B:C(B),U=_?y(arguments,D):[],Q=_?function(){f(M,this,U)}:M;return L?x(Q,O):x(Q)}:x}},89286:function(a,c,e){var o=e(94402),u=e(38469),f=o.Set,A=o.add;a.exports=function(p){var m=new f;return u(p,(function(y){A(m,y)})),m}},83440:function(a,c,e){var o=e(97080),u=e(94402),f=e(89286),A=e(25170),p=e(83789),m=e(38469),y=e(40507),E=u.has,C=u.remove;a.exports=function(T){var x=o(this),L=p(T),D=f(x);return A(x)<=L.size?m(x,(function(B){L.includes(B)&&C(D,B)})):y(L.getIterator(),(function(B){E(x,B)&&C(D,B)})),D}},94402:function(a,c,e){var o=e(79504),u=Set.prototype;a.exports={Set,add:o(u.add),has:o(u.has),remove:o(u.delete),proto:u}},68750:function(a,c,e){var o=e(97080),u=e(94402),f=e(25170),A=e(83789),p=e(38469),m=e(40507),y=u.Set,E=u.add,C=u.has;a.exports=function(T){var x=o(this),L=A(T),D=new y;return f(x)>L.size?m(L.getIterator(),(function(B){C(x,B)&&E(D,B)})):p(x,(function(B){L.includes(B)&&E(D,B)})),D}},64449:function(a,c,e){var o=e(97080),u=e(94402).has,f=e(25170),A=e(83789),p=e(38469),m=e(40507),y=e(9539);a.exports=function(E){var C=o(this),T=A(E);if(f(C)<=T.size)return p(C,(function(L){if(T.includes(L))return!1}),!0)!==!1;var x=T.getIterator();return m(x,(function(L){if(u(C,L))return y(x,"normal",!1)}))!==!1}},53838:function(a,c,e){var o=e(97080),u=e(25170),f=e(38469),A=e(83789);a.exports=function(p){var m=o(this),y=A(p);return!(u(m)>y.size)&&f(m,(function(E){if(!y.includes(E))return!1}),!0)!==!1}},28527:function(a,c,e){var o=e(97080),u=e(94402).has,f=e(25170),A=e(83789),p=e(40507),m=e(9539);a.exports=function(y){var E=o(this),C=A(y);if(f(E)<C.size)return!1;var T=C.getIterator();return p(T,(function(x){if(!u(E,x))return m(T,"normal",!1)}))!==!1}},38469:function(a,c,e){var o=e(79504),u=e(40507),f=e(94402),A=f.Set,p=f.proto,m=o(p.forEach),y=o(p.keys),E=y(new A).next;a.exports=function(C,T,x){return x?u({iterator:y(C),next:E},T):m(C,T)}},84916:function(a,c,e){var o=e(97751),u=function(A){return{size:A,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}},f=function(A){return{size:A,has:function(){return!0},keys:function(){throw new Error("e")}}};a.exports=function(A,p){var m=o("Set");try{new m()[A](u(0));try{return new m()[A](u(-1)),!1}catch{if(!p)return!0;try{return new m()[A](f(-1/0)),!1}catch{var y=new m;return y.add(1),y.add(2),p(y[A](f(1/0)))}}}catch{return!1}}},25170:function(a,c,e){var o=e(46706),u=e(94402);a.exports=o(u.proto,"size","get")||function(f){return f.size}},87633:function(a,c,e){var o=e(97751),u=e(62106),f=e(78227),A=e(43724),p=f("species");a.exports=function(m){var y=o(m);A&&y&&!y[p]&&u(y,p,{configurable:!0,get:function(){return this}})}},83650:function(a,c,e){var o=e(97080),u=e(94402),f=e(89286),A=e(83789),p=e(40507),m=u.add,y=u.has,E=u.remove;a.exports=function(C){var T=o(this),x=A(C).getIterator(),L=f(T);return p(x,(function(D){y(T,D)?E(L,D):m(L,D)})),L}},10687:function(a,c,e){var o=e(24913).f,u=e(39297),f=e(78227)("toStringTag");a.exports=function(A,p,m){A&&!m&&(A=A.prototype),A&&!u(A,f)&&o(A,f,{configurable:!0,value:p})}},44204:function(a,c,e){var o=e(97080),u=e(94402).add,f=e(89286),A=e(83789),p=e(40507);a.exports=function(m){var y=o(this),E=A(m).getIterator(),C=f(y);return p(E,(function(T){u(C,T)})),C}},66119:function(a,c,e){var o=e(25745),u=e(33392),f=o("keys");a.exports=function(A){return f[A]||(f[A]=u(A))}},77629:function(a,c,e){var o=e(96395),u=e(44576),f=e(39433),A="__core-js_shared__",p=a.exports=u[A]||f(A,{});(p.versions||(p.versions=[])).push({version:"3.40.0",mode:o?"pure":"global",copyright:"© 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.40.0/LICENSE",source:"https://github.com/zloirock/core-js"})},25745:function(a,c,e){var o=e(77629);a.exports=function(u,f){return o[u]||(o[u]=f||{})}},2293:function(a,c,e){var o=e(28551),u=e(35548),f=e(64117),A=e(78227)("species");a.exports=function(p,m){var y,E=o(p).constructor;return E===void 0||f(y=o(E)[A])?m:u(y)}},23061:function(a,c,e){var o=e(79039);a.exports=function(u){return o((function(){var f=""[u]('"');return f!==f.toLowerCase()||f.split('"').length>3}))}},68183:function(a,c,e){var o=e(79504),u=e(91291),f=e(655),A=e(67750),p=o("".charAt),m=o("".charCodeAt),y=o("".slice),E=function(C){return function(T,x){var L,D,B=f(A(T)),O=u(x),_=B.length;return O<0||O>=_?C?"":void 0:(L=m(B,O))<55296||L>56319||O+1===_||(D=m(B,O+1))<56320||D>57343?C?p(B,O):L:C?y(B,O,O+2):D-56320+(L-55296<<10)+65536}};a.exports={codeAt:E(!1),charAt:E(!0)}},83063:function(a,c,e){var o=e(82839);a.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(o)},60533:function(a,c,e){var o=e(79504),u=e(18014),f=e(655),A=e(72333),p=e(67750),m=o(A),y=o("".slice),E=Math.ceil,C=function(T){return function(x,L,D){var B,O,_=f(p(x)),M=u(L),U=_.length,Q=D===void 0?" ":f(D);return M<=U||Q===""?_:((O=m(Q,E((B=M-U)/Q.length))).length>B&&(O=y(O,0,B)),T?_+O:O+_)}};a.exports={start:C(!1),end:C(!0)}},3717:function(a,c,e){var o=e(79504),u=2147483647,f=/[^\0-\u007E]/,A=/[.\u3002\uFF0E\uFF61]/g,p="Overflow: input needs wider integers to process",m=RangeError,y=o(A.exec),E=Math.floor,C=String.fromCharCode,T=o("".charCodeAt),x=o([].join),L=o([].push),D=o("".replace),B=o("".split),O=o("".toLowerCase),_=function(Q){return Q+22+75*(Q<26)},M=function(Q,$,W){var X=0;for(Q=W?E(Q/700):Q>>1,Q+=E(Q/$);Q>455;)Q=E(Q/35),X+=36;return E(X+36*Q/(Q+38))},U=function(Q){var $=[];Q=(function(Vt){for(var jt=[],ee=0,ce=Vt.length;ee<ce;){var se=T(Vt,ee++);if(se>=55296&&se<=56319&&ee<ce){var Se=T(Vt,ee++);(64512&Se)==56320?L(jt,((1023&se)<<10)+(1023&Se)+65536):(L(jt,se),ee--)}else L(jt,se)}return jt})(Q);var W,X,tt=Q.length,V=128,N=0,K=72;for(W=0;W<Q.length;W++)(X=Q[W])<128&&L($,C(X));var at=$.length,G=at;for(at&&L($,"-");G<tt;){var q=u;for(W=0;W<Q.length;W++)(X=Q[W])>=V&&X<q&&(q=X);var et=G+1;if(q-V>E((u-N)/et))throw new m(p);for(N+=(q-V)*et,V=q,W=0;W<Q.length;W++){if((X=Q[W])<V&&++N>u)throw new m(p);if(X===V){for(var ot=N,bt=36;;){var Ct=bt<=K?1:bt>=K+26?26:bt-K;if(ot<Ct)break;var Tt=ot-Ct,$t=36-Ct;L($,C(_(Ct+Tt%$t))),ot=E(Tt/$t),bt+=36}L($,C(_(ot))),K=M(N,et,G===at),N=0,G++}}N++,V++}return x($,"")};a.exports=function(Q){var $,W,X=[],tt=B(D(O(Q),A,"."),".");for($=0;$<tt.length;$++)W=tt[$],L(X,y(f,W)?"xn--"+U(W):W);return x(X,".")}},72333:function(a,c,e){var o=e(91291),u=e(655),f=e(67750),A=RangeError;a.exports=function(p){var m=u(f(this)),y="",E=o(p);if(E<0||E===1/0)throw new A("Wrong number of repetitions");for(;E>0;(E>>>=1)&&(m+=m))1&E&&(y+=m);return y}},18866:function(a,c,e){var o=e(43802).end,u=e(60706);a.exports=u("trimEnd")?function(){return o(this)}:"".trimEnd},60706:function(a,c,e){var o=e(10350).PROPER,u=e(79039),f=e(47452);a.exports=function(A){return u((function(){return!!f[A]()||"​᠎"[A]()!=="​᠎"||o&&f[A].name!==A}))}},53487:function(a,c,e){var o=e(43802).start,u=e(60706);a.exports=u("trimStart")?function(){return o(this)}:"".trimStart},43802:function(a,c,e){var o=e(79504),u=e(67750),f=e(655),A=e(47452),p=o("".replace),m=RegExp("^["+A+"]+"),y=RegExp("(^|[^"+A+"])["+A+"]+$"),E=function(C){return function(T){var x=f(u(T));return 1&C&&(x=p(x,m,"")),2&C&&(x=p(x,y,"$1")),x}};a.exports={start:E(1),end:E(2),trim:E(3)}},1548:function(a,c,e){var o=e(44576),u=e(79039),f=e(39519),A=e(84215),p=o.structuredClone;a.exports=!!p&&!u((function(){if(A==="DENO"&&f>92||A==="NODE"&&f>94||A==="BROWSER"&&f>97)return!1;var m=new ArrayBuffer(8),y=p(m,{transfer:[m]});return m.byteLength!==0||y.byteLength!==8}))},4495:function(a,c,e){var o=e(39519),u=e(79039),f=e(44576).String;a.exports=!!Object.getOwnPropertySymbols&&!u((function(){var A=Symbol("symbol detection");return!f(A)||!(Object(A)instanceof Symbol)||!Symbol.sham&&o&&o<41}))},58242:function(a,c,e){var o=e(69565),u=e(97751),f=e(78227),A=e(36840);a.exports=function(){var p=u("Symbol"),m=p&&p.prototype,y=m&&m.valueOf,E=f("toPrimitive");m&&!m[E]&&A(m,E,(function(C){return o(y,this)}),{arity:1})}},91296:function(a,c,e){var o=e(4495);a.exports=o&&!!Symbol.for&&!!Symbol.keyFor},59225:function(a,c,e){var o,u,f,A,p=e(44576),m=e(18745),y=e(76080),E=e(94901),C=e(39297),T=e(79039),x=e(20397),L=e(67680),D=e(4055),B=e(22812),O=e(89544),_=e(38574),M=p.setImmediate,U=p.clearImmediate,Q=p.process,$=p.Dispatch,W=p.Function,X=p.MessageChannel,tt=p.String,V=0,N={},K="onreadystatechange";T((function(){o=p.location}));var at=function(ot){if(C(N,ot)){var bt=N[ot];delete N[ot],bt()}},G=function(ot){return function(){at(ot)}},q=function(ot){at(ot.data)},et=function(ot){p.postMessage(tt(ot),o.protocol+"//"+o.host)};M&&U||(M=function(ot){B(arguments.length,1);var bt=E(ot)?ot:W(ot),Ct=L(arguments,1);return N[++V]=function(){m(bt,void 0,Ct)},u(V),V},U=function(ot){delete N[ot]},_?u=function(ot){Q.nextTick(G(ot))}:$&&$.now?u=function(ot){$.now(G(ot))}:X&&!O?(A=(f=new X).port2,f.port1.onmessage=q,u=y(A.postMessage,A)):p.addEventListener&&E(p.postMessage)&&!p.importScripts&&o&&o.protocol!=="file:"&&!T(et)?(u=et,p.addEventListener("message",q,!1)):u=K in D("script")?function(ot){x.appendChild(D("script"))[K]=function(){x.removeChild(this),at(ot)}}:function(ot){setTimeout(G(ot),0)}),a.exports={set:M,clear:U}},31240:function(a,c,e){var o=e(79504);a.exports=o(1 .valueOf)},35610:function(a,c,e){var o=e(91291),u=Math.max,f=Math.min;a.exports=function(A,p){var m=o(A);return m<0?u(m+p,0):f(m,p)}},75854:function(a,c,e){var o=e(72777),u=TypeError;a.exports=function(f){var A=o(f,"number");if(typeof A=="number")throw new u("Can't convert number to bigint");return BigInt(A)}},57696:function(a,c,e){var o=e(91291),u=e(18014),f=RangeError;a.exports=function(A){if(A===void 0)return 0;var p=o(A),m=u(p);if(p!==m)throw new f("Wrong length or index");return m}},25397:function(a,c,e){var o=e(47055),u=e(67750);a.exports=function(f){return o(u(f))}},91291:function(a,c,e){var o=e(80741);a.exports=function(u){var f=+u;return f!=f||f===0?0:o(f)}},18014:function(a,c,e){var o=e(91291),u=Math.min;a.exports=function(f){var A=o(f);return A>0?u(A,9007199254740991):0}},48981:function(a,c,e){var o=e(67750),u=Object;a.exports=function(f){return u(o(f))}},58229:function(a,c,e){var o=e(99590),u=RangeError;a.exports=function(f,A){var p=o(f);if(p%A)throw new u("Wrong offset");return p}},99590:function(a,c,e){var o=e(91291),u=RangeError;a.exports=function(f){var A=o(f);if(A<0)throw new u("The argument can't be less than 0");return A}},72777:function(a,c,e){var o=e(69565),u=e(20034),f=e(10757),A=e(55966),p=e(84270),m=e(78227),y=TypeError,E=m("toPrimitive");a.exports=function(C,T){if(!u(C)||f(C))return C;var x,L=A(C,E);if(L){if(T===void 0&&(T="default"),x=o(L,C,T),!u(x)||f(x))return x;throw new y("Can't convert object to primitive value")}return T===void 0&&(T="number"),p(C,T)}},56969:function(a,c,e){var o=e(72777),u=e(10757);a.exports=function(f){var A=o(f,"string");return u(A)?A:A+""}},92140:function(a,c,e){var o={};o[e(78227)("toStringTag")]="z",a.exports=String(o)==="[object z]"},655:function(a,c,e){var o=e(36955),u=String;a.exports=function(f){if(o(f)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return u(f)}},58319:function(a){var c=Math.round;a.exports=function(e){var o=c(e);return o<0?0:o>255?255:255&o}},16823:function(a){var c=String;a.exports=function(e){try{return c(e)}catch{return"Object"}}},15823:function(a,c,e){var o=e(46518),u=e(44576),f=e(69565),A=e(43724),p=e(72805),m=e(94644),y=e(66346),E=e(90679),C=e(6980),T=e(66699),x=e(2087),L=e(18014),D=e(57696),B=e(58229),O=e(58319),_=e(56969),M=e(39297),U=e(36955),Q=e(20034),$=e(10757),W=e(2360),X=e(1625),tt=e(52967),V=e(38480).f,N=e(43251),K=e(59213).forEach,at=e(87633),G=e(62106),q=e(24913),et=e(77347),ot=e(35370),bt=e(91181),Ct=e(23167),Tt=bt.get,$t=bt.set,Vt=bt.enforce,jt=q.f,ee=et.f,ce=u.RangeError,se=y.ArrayBuffer,Se=se.prototype,Pe=y.DataView,je=m.NATIVE_ARRAY_BUFFER_VIEWS,xe=m.TYPED_ARRAY_TAG,we=m.TypedArray,en=m.TypedArrayPrototype,En=m.isTypedArray,un="BYTES_PER_ELEMENT",We="Wrong length",$e=function(oe,De){G(oe,De,{configurable:!0,get:function(){return Tt(this)[De]}})},Rn=function(oe){var De;return X(Se,oe)||(De=U(oe))==="ArrayBuffer"||De==="SharedArrayBuffer"},sn=function(oe,De){return En(oe)&&!$(De)&&De in oe&&x(+De)&&De>=0},te=function(oe,De){return De=_(De),sn(oe,De)?C(2,oe[De]):ee(oe,De)},Ae=function(oe,De,Rt){return De=_(De),!(sn(oe,De)&&Q(Rt)&&M(Rt,"value"))||M(Rt,"get")||M(Rt,"set")||Rt.configurable||M(Rt,"writable")&&!Rt.writable||M(Rt,"enumerable")&&!Rt.enumerable?jt(oe,De,Rt):(oe[De]=Rt.value,oe)};A?(je||(et.f=te,q.f=Ae,$e(en,"buffer"),$e(en,"byteOffset"),$e(en,"byteLength"),$e(en,"length")),o({target:"Object",stat:!0,forced:!je},{getOwnPropertyDescriptor:te,defineProperty:Ae}),a.exports=function(oe,De,Rt){var me=oe.match(/\d+/)[0]/8,ke=oe+(Rt?"Clamped":"")+"Array",Yn="get"+oe,Ne="set"+oe,Ve=u[ke],It=Ve,Te=It&&It.prototype,an={},dn=function(_e,ve){jt(_e,ve,{get:function(){return(function(Ue,qe){var gn=Tt(Ue);return gn.view[Yn](qe*me+gn.byteOffset,!0)})(this,ve)},set:function(Ue){return(function(qe,gn,ln){var Wt=Tt(qe);Wt.view[Ne](gn*me+Wt.byteOffset,Rt?O(ln):ln,!0)})(this,ve,Ue)},enumerable:!0})};je?p&&(It=De((function(_e,ve,Ue,qe){return E(_e,Te),Ct(Q(ve)?Rn(ve)?qe!==void 0?new Ve(ve,B(Ue,me),qe):Ue!==void 0?new Ve(ve,B(Ue,me)):new Ve(ve):En(ve)?ot(It,ve):f(N,It,ve):new Ve(D(ve)),_e,It)})),tt&&tt(It,we),K(V(Ve),(function(_e){_e in It||T(It,_e,Ve[_e])})),It.prototype=Te):(It=De((function(_e,ve,Ue,qe){E(_e,Te);var gn,ln,Wt,Le=0,He=0;if(Q(ve)){if(!Rn(ve))return En(ve)?ot(It,ve):f(N,It,ve);gn=ve,He=B(Ue,me);var Me=ve.byteLength;if(qe===void 0){if(Me%me)throw new ce(We);if((ln=Me-He)<0)throw new ce(We)}else if((ln=L(qe)*me)+He>Me)throw new ce(We);Wt=ln/me}else Wt=D(ve),gn=new se(ln=Wt*me);for($t(_e,{buffer:gn,byteOffset:He,byteLength:ln,length:Wt,view:new Pe(gn)});Le<Wt;)dn(_e,Le++)})),tt&&tt(It,we),Te=It.prototype=W(en)),Te.constructor!==It&&T(Te,"constructor",It),Vt(Te).TypedArrayConstructor=It,xe&&T(Te,xe,ke);var re=It!==Ve;an[ke]=It,o({global:!0,constructor:!0,forced:re,sham:!je},an),un in It||T(It,un,me),un in Te||T(Te,un,me),at(ke)}):a.exports=function(){}},72805:function(a,c,e){var o=e(44576),u=e(79039),f=e(84428),A=e(94644).NATIVE_ARRAY_BUFFER_VIEWS,p=o.ArrayBuffer,m=o.Int8Array;a.exports=!A||!u((function(){m(1)}))||!u((function(){new m(-1)}))||!f((function(y){new m,new m(null),new m(1.5),new m(y)}),!0)||u((function(){return new m(new p(2),1,void 0).length!==1}))},29948:function(a,c,e){var o=e(35370),u=e(94644).getTypedArrayConstructor;a.exports=function(f,A){return o(u(f),A)}},43251:function(a,c,e){var o=e(76080),u=e(69565),f=e(35548),A=e(48981),p=e(26198),m=e(70081),y=e(50851),E=e(44209),C=e(18727),T=e(94644).aTypedArrayConstructor,x=e(75854);a.exports=function(L){var D,B,O,_,M,U,Q,$,W=f(this),X=A(L),tt=arguments.length,V=tt>1?arguments[1]:void 0,N=V!==void 0,K=y(X);if(K&&!E(K))for($=(Q=m(X,K)).next,X=[];!(U=u($,Q)).done;)X.push(U.value);for(N&&tt>2&&(V=o(V,arguments[2])),B=p(X),O=new(T(W))(B),_=C(O),D=0;B>D;D++)M=N?V(X[D],D):X[D],O[D]=_?x(M):+M;return O}},33392:function(a,c,e){var o=e(79504),u=0,f=Math.random(),A=o(1 .toString);a.exports=function(p){return"Symbol("+(p===void 0?"":p)+")_"+A(++u+f,36)}},67416:function(a,c,e){var o=e(79039),u=e(78227),f=e(43724),A=e(96395),p=u("iterator");a.exports=!o((function(){var m=new URL("b?a=1&b=2&c=3","https://a"),y=m.searchParams,E=new URLSearchParams("a=1&a=2&b=3"),C="";return m.pathname="c%20d",y.forEach((function(T,x){y.delete("b"),C+=x+T})),E.delete("a",2),E.delete("b",void 0),A&&(!m.toJSON||!E.has("a",1)||E.has("a",2)||!E.has("a",void 0)||E.has("b"))||!y.size&&(A||!f)||!y.sort||m.href!=="https://a/c%20d?a=1&c=3"||y.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!y[p]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("https://тест").host!=="xn--e1aybc"||new URL("https://a#б").hash!=="#%D0%B1"||C!=="a1c3"||new URL("https://x",void 0).host!=="x"}))},7040:function(a,c,e){var o=e(4495);a.exports=o&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},48686:function(a,c,e){var o=e(43724),u=e(79039);a.exports=o&&u((function(){return Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype!==42}))},22812:function(a){var c=TypeError;a.exports=function(e,o){if(e<o)throw new c("Not enough arguments");return e}},58622:function(a,c,e){var o=e(44576),u=e(94901),f=o.WeakMap;a.exports=u(f)&&/native code/.test(String(f))},70511:function(a,c,e){var o=e(19167),u=e(39297),f=e(1951),A=e(24913).f;a.exports=function(p){var m=o.Symbol||(o.Symbol={});u(m,p)||A(m,p,{value:f.f(p)})}},1951:function(a,c,e){var o=e(78227);c.f=o},78227:function(a,c,e){var o=e(44576),u=e(25745),f=e(39297),A=e(33392),p=e(4495),m=e(7040),y=o.Symbol,E=u("wks"),C=m?y.for||y:y&&y.withoutSetter||A;a.exports=function(T){return f(E,T)||(E[T]=p&&f(y,T)?y[T]:C("Symbol."+T)),E[T]}},47452:function(a){a.exports=`	
\v\f\r                　\u2028\u2029\uFEFF`},14601:function(a,c,e){var o=e(97751),u=e(39297),f=e(66699),A=e(1625),p=e(52967),m=e(77740),y=e(11056),E=e(23167),C=e(32603),T=e(77584),x=e(80747),L=e(43724),D=e(96395);a.exports=function(B,O,_,M){var U="stackTraceLimit",Q=M?2:1,$=B.split("."),W=$[$.length-1],X=o.apply(null,$);if(X){var tt=X.prototype;if(!D&&u(tt,"cause")&&delete tt.cause,!_)return X;var V=o("Error"),N=O((function(K,at){var G=C(M?at:K,void 0),q=M?new X(K):new X;return G!==void 0&&f(q,"message",G),x(q,N,q.stack,2),this&&A(tt,this)&&E(q,this,N),arguments.length>Q&&T(q,arguments[Q]),q}));if(N.prototype=tt,W!=="Error"?p?p(N,V):m(N,V,{name:!0}):L&&U in X&&(y(N,X,U),y(N,X,"prepareStackTrace")),m(N,X),!D)try{tt.name!==W&&f(tt,"name",W),tt.constructor=N}catch{}return N}}},4294:function(a,c,e){var o=e(46518),u=e(97751),f=e(18745),A=e(79039),p=e(14601),m="AggregateError",y=u(m),E=!A((function(){return y([1]).errors[0]!==1}))&&A((function(){return y([1],m,{cause:7}).cause!==7}));o({global:!0,constructor:!0,arity:2,forced:E},{AggregateError:p(m,(function(C){return function(T,x){return f(C,this,arguments)}}),E,!0)})},17145:function(a,c,e){var o=e(46518),u=e(1625),f=e(42787),A=e(52967),p=e(77740),m=e(2360),y=e(66699),E=e(6980),C=e(77584),T=e(80747),x=e(72652),L=e(32603),D=e(78227)("toStringTag"),B=Error,O=[].push,_=function(U,Q){var $,W=u(M,this);A?$=A(new B,W?f(this):M):($=W?this:m(M),y($,D,"Error")),Q!==void 0&&y($,"message",L(Q)),T($,_,$.stack,1),arguments.length>2&&C($,arguments[2]);var X=[];return x(U,O,{that:X}),y($,"errors",X),$};A?A(_,B):p(_,B,{name:!0});var M=_.prototype=m(B.prototype,{constructor:E(1,_),message:E(1,""),name:E(1,"AggregateError")});o({global:!0,constructor:!0,arity:2},{AggregateError:_})},30067:function(a,c,e){e(17145)},54743:function(a,c,e){var o=e(46518),u=e(44576),f=e(66346),A=e(87633),p="ArrayBuffer",m=f[p];o({global:!0,constructor:!0,forced:u[p]!==m},{ArrayBuffer:m}),A(p)},16573:function(a,c,e){var o=e(43724),u=e(62106),f=e(3238),A=ArrayBuffer.prototype;o&&!("detached"in A)&&u(A,"detached",{configurable:!0,get:function(){return f(this)}})},46761:function(a,c,e){var o=e(46518),u=e(94644);o({target:"ArrayBuffer",stat:!0,forced:!u.NATIVE_ARRAY_BUFFER_VIEWS},{isView:u.isView})},11745:function(a,c,e){var o=e(46518),u=e(27476),f=e(79039),A=e(66346),p=e(28551),m=e(35610),y=e(18014),E=A.ArrayBuffer,C=A.DataView,T=C.prototype,x=u(E.prototype.slice),L=u(T.getUint8),D=u(T.setUint8);o({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:f((function(){return!new E(2).slice(1,void 0).byteLength}))},{slice:function(B,O){if(x&&O===void 0)return x(p(this),B);for(var _=p(this).byteLength,M=m(B,_),U=m(O===void 0?_:O,_),Q=new E(y(U-M)),$=new C(this),W=new C(Q),X=0;M<U;)D(W,X++,L($,M++));return Q}})},77936:function(a,c,e){var o=e(46518),u=e(95636);u&&o({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return u(this,arguments.length?arguments[0]:void 0,!1)}})},78100:function(a,c,e){var o=e(46518),u=e(95636);u&&o({target:"ArrayBuffer",proto:!0},{transfer:function(){return u(this,arguments.length?arguments[0]:void 0,!0)}})},18107:function(a,c,e){var o=e(46518),u=e(48981),f=e(26198),A=e(91291),p=e(6469);o({target:"Array",proto:!0},{at:function(m){var y=u(this),E=f(y),C=A(m),T=C>=0?C:E+C;return T<0||T>=E?void 0:y[T]}}),p("at")},28706:function(a,c,e){var o=e(46518),u=e(79039),f=e(34376),A=e(20034),p=e(48981),m=e(26198),y=e(96837),E=e(97040),C=e(1469),T=e(70597),x=e(78227),L=e(39519),D=x("isConcatSpreadable"),B=L>=51||!u((function(){var _=[];return _[D]=!1,_.concat()[0]!==_})),O=function(_){if(!A(_))return!1;var M=_[D];return M!==void 0?!!M:f(_)};o({target:"Array",proto:!0,arity:1,forced:!B||!T("concat")},{concat:function(_){var M,U,Q,$,W,X=p(this),tt=C(X,0),V=0;for(M=-1,Q=arguments.length;M<Q;M++)if(O(W=M===-1?X:arguments[M]))for($=m(W),y(V+$),U=0;U<$;U++,V++)U in W&&E(tt,V,W[U]);else y(V+1),E(tt,V++,W);return tt.length=V,tt}})},26835:function(a,c,e){var o=e(46518),u=e(57029),f=e(6469);o({target:"Array",proto:!0},{copyWithin:u}),f("copyWithin")},88431:function(a,c,e){var o=e(46518),u=e(59213).every;o({target:"Array",proto:!0,forced:!e(34598)("every")},{every:function(f){return u(this,f,arguments.length>1?arguments[1]:void 0)}})},33771:function(a,c,e){var o=e(46518),u=e(84373),f=e(6469);o({target:"Array",proto:!0},{fill:u}),f("fill")},2008:function(a,c,e){var o=e(46518),u=e(59213).filter;o({target:"Array",proto:!0,forced:!e(70597)("filter")},{filter:function(f){return u(this,f,arguments.length>1?arguments[1]:void 0)}})},48980:function(a,c,e){var o=e(46518),u=e(59213).findIndex,f=e(6469),A="findIndex",p=!0;A in[]&&Array(1)[A]((function(){p=!1})),o({target:"Array",proto:!0,forced:p},{findIndex:function(m){return u(this,m,arguments.length>1?arguments[1]:void 0)}}),f(A)},13451:function(a,c,e){var o=e(46518),u=e(43839).findLastIndex,f=e(6469);o({target:"Array",proto:!0},{findLastIndex:function(A){return u(this,A,arguments.length>1?arguments[1]:void 0)}}),f("findLastIndex")},10838:function(a,c,e){var o=e(46518),u=e(43839).findLast,f=e(6469);o({target:"Array",proto:!0},{findLast:function(A){return u(this,A,arguments.length>1?arguments[1]:void 0)}}),f("findLast")},50113:function(a,c,e){var o=e(46518),u=e(59213).find,f=e(6469),A="find",p=!0;A in[]&&Array(1)[A]((function(){p=!1})),o({target:"Array",proto:!0,forced:p},{find:function(m){return u(this,m,arguments.length>1?arguments[1]:void 0)}}),f(A)},78350:function(a,c,e){var o=e(46518),u=e(70259),f=e(79306),A=e(48981),p=e(26198),m=e(1469);o({target:"Array",proto:!0},{flatMap:function(y){var E,C=A(this),T=p(C);return f(y),(E=m(C,0)).length=u(E,C,C,T,0,1,y,arguments.length>1?arguments[1]:void 0),E}})},46449:function(a,c,e){var o=e(46518),u=e(70259),f=e(48981),A=e(26198),p=e(91291),m=e(1469);o({target:"Array",proto:!0},{flat:function(){var y=arguments.length?arguments[0]:void 0,E=f(this),C=A(E),T=m(E,0);return T.length=u(T,E,E,C,0,y===void 0?1:p(y)),T}})},51629:function(a,c,e){var o=e(46518),u=e(90235);o({target:"Array",proto:!0,forced:[].forEach!==u},{forEach:u})},23418:function(a,c,e){var o=e(46518),u=e(97916);o({target:"Array",stat:!0,forced:!e(84428)((function(f){Array.from(f)}))},{from:u})},74423:function(a,c,e){var o=e(46518),u=e(19617).includes,f=e(79039),A=e(6469);o({target:"Array",proto:!0,forced:f((function(){return!Array(1).includes()}))},{includes:function(p){return u(this,p,arguments.length>1?arguments[1]:void 0)}}),A("includes")},25276:function(a,c,e){var o=e(46518),u=e(27476),f=e(19617).indexOf,A=e(34598),p=u([].indexOf),m=!!p&&1/p([1],1,-0)<0;o({target:"Array",proto:!0,forced:m||!A("indexOf")},{indexOf:function(y){var E=arguments.length>1?arguments[1]:void 0;return m?p(this,y,E)||0:f(this,y,E)}})},64346:function(a,c,e){e(46518)({target:"Array",stat:!0},{isArray:e(34376)})},23792:function(a,c,e){var o=e(25397),u=e(6469),f=e(26269),A=e(91181),p=e(24913).f,m=e(51088),y=e(62529),E=e(96395),C=e(43724),T="Array Iterator",x=A.set,L=A.getterFor(T);a.exports=m(Array,"Array",(function(B,O){x(this,{type:T,target:o(B),index:0,kind:O})}),(function(){var B=L(this),O=B.target,_=B.index++;if(!O||_>=O.length)return B.target=null,y(void 0,!0);switch(B.kind){case"keys":return y(_,!1);case"values":return y(O[_],!1)}return y([_,O[_]],!1)}),"values");var D=f.Arguments=f.Array;if(u("keys"),u("values"),u("entries"),!E&&C&&D.name!=="values")try{p(D,"name",{value:"values"})}catch{}},48598:function(a,c,e){var o=e(46518),u=e(79504),f=e(47055),A=e(25397),p=e(34598),m=u([].join);o({target:"Array",proto:!0,forced:f!==Object||!p("join",",")},{join:function(y){return m(A(this),y===void 0?",":y)}})},8921:function(a,c,e){var o=e(46518),u=e(8379);o({target:"Array",proto:!0,forced:u!==[].lastIndexOf},{lastIndexOf:u})},62062:function(a,c,e){var o=e(46518),u=e(59213).map;o({target:"Array",proto:!0,forced:!e(70597)("map")},{map:function(f){return u(this,f,arguments.length>1?arguments[1]:void 0)}})},31051:function(a,c,e){var o=e(46518),u=e(79039),f=e(33517),A=e(97040),p=Array;o({target:"Array",stat:!0,forced:u((function(){function m(){}return!(p.of.call(m)instanceof m)}))},{of:function(){for(var m=0,y=arguments.length,E=new(f(this)?this:p)(y);y>m;)A(E,m,arguments[m++]);return E.length=y,E}})},44114:function(a,c,e){var o=e(46518),u=e(48981),f=e(26198),A=e(34527),p=e(96837);o({target:"Array",proto:!0,arity:1,forced:e(79039)((function(){return[].push.call({length:4294967296},1)!==4294967297}))||!(function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(m){return m instanceof TypeError}})()},{push:function(m){var y=u(this),E=f(y),C=arguments.length;p(E+C);for(var T=0;T<C;T++)y[E]=arguments[T],E++;return A(y,E),E}})},18863:function(a,c,e){var o=e(46518),u=e(80926).right,f=e(34598),A=e(39519);o({target:"Array",proto:!0,forced:!e(38574)&&A>79&&A<83||!f("reduceRight")},{reduceRight:function(p){return u(this,p,arguments.length,arguments.length>1?arguments[1]:void 0)}})},72712:function(a,c,e){var o=e(46518),u=e(80926).left,f=e(34598),A=e(39519);o({target:"Array",proto:!0,forced:!e(38574)&&A>79&&A<83||!f("reduce")},{reduce:function(p){var m=arguments.length;return u(this,p,m,m>1?arguments[1]:void 0)}})},94490:function(a,c,e){var o=e(46518),u=e(79504),f=e(34376),A=u([].reverse),p=[1,2];o({target:"Array",proto:!0,forced:String(p)===String(p.reverse())},{reverse:function(){return f(this)&&(this.length=this.length),A(this)}})},34782:function(a,c,e){var o=e(46518),u=e(34376),f=e(33517),A=e(20034),p=e(35610),m=e(26198),y=e(25397),E=e(97040),C=e(78227),T=e(70597),x=e(67680),L=T("slice"),D=C("species"),B=Array,O=Math.max;o({target:"Array",proto:!0,forced:!L},{slice:function(_,M){var U,Q,$,W=y(this),X=m(W),tt=p(_,X),V=p(M===void 0?X:M,X);if(u(W)&&(U=W.constructor,(f(U)&&(U===B||u(U.prototype))||A(U)&&(U=U[D])===null)&&(U=void 0),U===B||U===void 0))return x(W,tt,V);for(Q=new(U===void 0?B:U)(O(V-tt,0)),$=0;tt<V;tt++,$++)tt in W&&E(Q,$,W[tt]);return Q.length=$,Q}})},15086:function(a,c,e){var o=e(46518),u=e(59213).some;o({target:"Array",proto:!0,forced:!e(34598)("some")},{some:function(f){return u(this,f,arguments.length>1?arguments[1]:void 0)}})},26910:function(a,c,e){var o=e(46518),u=e(79504),f=e(79306),A=e(48981),p=e(26198),m=e(84606),y=e(655),E=e(79039),C=e(74488),T=e(34598),x=e(13709),L=e(13763),D=e(39519),B=e(3607),O=[],_=u(O.sort),M=u(O.push),U=E((function(){O.sort(void 0)})),Q=E((function(){O.sort(null)})),$=T("sort"),W=!E((function(){if(D)return D<70;if(!(x&&x>3)){if(L)return!0;if(B)return B<603;var X,tt,V,N,K="";for(X=65;X<76;X++){switch(tt=String.fromCharCode(X),X){case 66:case 69:case 70:case 72:V=3;break;case 68:case 71:V=4;break;default:V=2}for(N=0;N<47;N++)O.push({k:tt+N,v:V})}for(O.sort((function(at,G){return G.v-at.v})),N=0;N<O.length;N++)tt=O[N].k.charAt(0),K.charAt(K.length-1)!==tt&&(K+=tt);return K!=="DGBEFHACIJK"}}));o({target:"Array",proto:!0,forced:U||!Q||!$||!W},{sort:function(X){X!==void 0&&f(X);var tt=A(this);if(W)return X===void 0?_(tt):_(tt,X);var V,N,K=[],at=p(tt);for(N=0;N<at;N++)N in tt&&M(K,tt[N]);for(C(K,(function(G){return function(q,et){return et===void 0?-1:q===void 0?1:G!==void 0?+G(q,et)||0:y(q)>y(et)?1:-1}})(X)),V=p(K),N=0;N<V;)tt[N]=K[N++];for(;N<at;)m(tt,N++);return tt}})},87478:function(a,c,e){e(87633)("Array")},54554:function(a,c,e){var o=e(46518),u=e(48981),f=e(35610),A=e(91291),p=e(26198),m=e(34527),y=e(96837),E=e(1469),C=e(97040),T=e(84606),x=e(70597)("splice"),L=Math.max,D=Math.min;o({target:"Array",proto:!0,forced:!x},{splice:function(B,O){var _,M,U,Q,$,W,X=u(this),tt=p(X),V=f(B,tt),N=arguments.length;for(N===0?_=M=0:N===1?(_=0,M=tt-V):(_=N-2,M=D(L(A(O),0),tt-V)),y(tt+_-M),U=E(X,M),Q=0;Q<M;Q++)($=V+Q)in X&&C(U,Q,X[$]);if(U.length=M,_<M){for(Q=V;Q<tt-M;Q++)W=Q+_,($=Q+M)in X?X[W]=X[$]:T(X,W);for(Q=tt;Q>tt-M+_;Q--)T(X,Q-1)}else if(_>M)for(Q=tt-M;Q>V;Q--)W=Q+_-1,($=Q+M-1)in X?X[W]=X[$]:T(X,W);for(Q=0;Q<_;Q++)X[Q+V]=arguments[Q+2];return m(X,tt-M+_),U}})},9678:function(a,c,e){var o=e(46518),u=e(37628),f=e(25397),A=e(6469),p=Array;o({target:"Array",proto:!0},{toReversed:function(){return u(f(this),p)}}),A("toReversed")},57145:function(a,c,e){var o=e(46518),u=e(79504),f=e(79306),A=e(25397),p=e(35370),m=e(44124),y=e(6469),E=Array,C=u(m("Array","sort"));o({target:"Array",proto:!0},{toSorted:function(T){T!==void 0&&f(T);var x=A(this),L=p(E,x);return C(L,T)}}),y("toSorted")},71658:function(a,c,e){var o=e(46518),u=e(6469),f=e(96837),A=e(26198),p=e(35610),m=e(25397),y=e(91291),E=Array,C=Math.max,T=Math.min;o({target:"Array",proto:!0},{toSpliced:function(x,L){var D,B,O,_,M=m(this),U=A(M),Q=p(x,U),$=arguments.length,W=0;for($===0?D=B=0:$===1?(D=0,B=U-Q):(D=$-2,B=T(C(y(L),0),U-Q)),O=f(U+D-B),_=E(O);W<Q;W++)_[W]=M[W];for(;W<Q+D;W++)_[W]=arguments[W-Q+2];for(;W<O;W++)_[W]=M[W+B-D];return _}}),u("toSpliced")},30237:function(a,c,e){e(6469)("flatMap")},93514:function(a,c,e){e(6469)("flat")},13609:function(a,c,e){var o=e(46518),u=e(48981),f=e(26198),A=e(34527),p=e(84606),m=e(96837);o({target:"Array",proto:!0,arity:1,forced:[].unshift(0)!==1||!(function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(y){return y instanceof TypeError}})()},{unshift:function(y){var E=u(this),C=f(E),T=arguments.length;if(T){m(C+T);for(var x=C;x--;){var L=x+T;x in E?E[L]=E[x]:p(E,L)}for(var D=0;D<T;D++)E[D]=arguments[D]}return A(E,C+T)}})},11558:function(a,c,e){var o=e(46518),u=e(39928),f=e(25397),A=Array;o({target:"Array",proto:!0},{with:function(p,m){return u(f(this),A,p,m)}})},24359:function(a,c,e){var o=e(46518),u=e(66346);o({global:!0,constructor:!0,forced:!e(77811)},{DataView:u.DataView})},38309:function(a,c,e){e(24359)},61699:function(a,c,e){var o=e(46518),u=e(79504),f=e(79039)((function(){return new Date(16e11).getYear()!==120})),A=u(Date.prototype.getFullYear);o({target:"Date",proto:!0,forced:f},{getYear:function(){return A(this)-1900}})},59089:function(a,c,e){var o=e(46518),u=e(79504),f=Date,A=u(f.prototype.getTime);o({target:"Date",stat:!0},{now:function(){return A(new f)}})},91191:function(a,c,e){var o=e(46518),u=e(79504),f=e(91291),A=Date.prototype,p=u(A.getTime),m=u(A.setFullYear);o({target:"Date",proto:!0},{setYear:function(y){p(this);var E=f(y);return m(this,E>=0&&E<=99?E+1900:E)}})},93515:function(a,c,e){e(46518)({target:"Date",proto:!0},{toGMTString:Date.prototype.toUTCString})},1688:function(a,c,e){var o=e(46518),u=e(70380);o({target:"Date",proto:!0,forced:Date.prototype.toISOString!==u},{toISOString:u})},60739:function(a,c,e){var o=e(46518),u=e(79039),f=e(48981),A=e(72777);o({target:"Date",proto:!0,arity:1,forced:u((function(){return new Date(NaN).toJSON()!==null||Date.prototype.toJSON.call({toISOString:function(){return 1}})!==1}))},{toJSON:function(p){var m=f(this),y=A(m,"number");return typeof y!="number"||isFinite(y)?m.toISOString():null}})},89572:function(a,c,e){var o=e(39297),u=e(36840),f=e(53640),A=e(78227)("toPrimitive"),p=Date.prototype;o(p,A)||u(p,A,f)},23288:function(a,c,e){var o=e(79504),u=e(36840),f=Date.prototype,A="Invalid Date",p="toString",m=o(f[p]),y=o(f.getTime);String(new Date(NaN))!==A&&u(f,p,(function(){var E=y(this);return E==E?m(this):A}))},16280:function(a,c,e){var o=e(46518),u=e(44576),f=e(18745),A=e(14601),p="WebAssembly",m=u[p],y=new Error("e",{cause:7}).cause!==7,E=function(T,x){var L={};L[T]=A(T,x,y),o({global:!0,constructor:!0,arity:1,forced:y},L)},C=function(T,x){if(m&&m[T]){var L={};L[T]=A(p+"."+T,x,y),o({target:p,stat:!0,constructor:!0,arity:1,forced:y},L)}};E("Error",(function(T){return function(x){return f(T,this,arguments)}})),E("EvalError",(function(T){return function(x){return f(T,this,arguments)}})),E("RangeError",(function(T){return function(x){return f(T,this,arguments)}})),E("ReferenceError",(function(T){return function(x){return f(T,this,arguments)}})),E("SyntaxError",(function(T){return function(x){return f(T,this,arguments)}})),E("TypeError",(function(T){return function(x){return f(T,this,arguments)}})),E("URIError",(function(T){return function(x){return f(T,this,arguments)}})),C("CompileError",(function(T){return function(x){return f(T,this,arguments)}})),C("LinkError",(function(T){return function(x){return f(T,this,arguments)}})),C("RuntimeError",(function(T){return function(x){return f(T,this,arguments)}}))},76918:function(a,c,e){var o=e(36840),u=e(77536),f=Error.prototype;f.toString!==u&&o(f,"toString",u)},36456:function(a,c,e){var o=e(46518),u=e(79504),f=e(655),A=u("".charAt),p=u("".charCodeAt),m=u(/./.exec),y=u(1 .toString),E=u("".toUpperCase),C=/[\w*+\-./@]/,T=function(x,L){for(var D=y(x,16);D.length<L;)D="0"+D;return D};o({global:!0},{escape:function(x){for(var L,D,B=f(x),O="",_=B.length,M=0;M<_;)L=A(B,M++),m(C,L)?O+=L:O+=(D=p(L,0))<256?"%"+T(D,2):"%u"+E(T(D,4));return O}})},94170:function(a,c,e){var o=e(46518),u=e(30566);o({target:"Function",proto:!0,forced:Function.bind!==u},{bind:u})},48957:function(a,c,e){var o=e(94901),u=e(20034),f=e(24913),A=e(1625),p=e(78227),m=e(50283),y=p("hasInstance"),E=Function.prototype;y in E||f.f(E,y,{value:m((function(C){if(!o(this)||!u(C))return!1;var T=this.prototype;return u(T)?A(T,C):C instanceof this}),y)})},62010:function(a,c,e){var o=e(43724),u=e(10350).EXISTS,f=e(79504),A=e(62106),p=Function.prototype,m=f(p.toString),y=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,E=f(y.exec);o&&!u&&A(p,"name",{configurable:!0,get:function(){try{return E(y,m(this))[1]}catch{return""}}})},55081:function(a,c,e){var o=e(46518),u=e(44576);o({global:!0,forced:u.globalThis!==u},{globalThis:u})},18111:function(a,c,e){var o=e(46518),u=e(44576),f=e(90679),A=e(28551),p=e(94901),m=e(42787),y=e(62106),E=e(97040),C=e(79039),T=e(39297),x=e(78227),L=e(57657).IteratorPrototype,D=e(43724),B=e(96395),O="constructor",_="Iterator",M=x("toStringTag"),U=TypeError,Q=u[_],$=B||!p(Q)||Q.prototype!==L||!C((function(){Q({})})),W=function(){if(f(this,L),m(this)===L)throw new U("Abstract class Iterator not directly constructable")},X=function(tt,V){D?y(L,tt,{configurable:!0,get:function(){return V},set:function(N){if(A(this),this===L)throw new U("You can't redefine this property");T(this,tt)?this[tt]=N:E(this,tt,N)}}):L[tt]=V};T(L,M)||X(M,_),!$&&T(L,O)&&L[O]!==Object||X(O,W),W.prototype=L,o({global:!0,constructor:!0,forced:$},{Iterator:W})},29314:function(a,c,e){var o=e(46518),u=e(69565),f=e(28551),A=e(1767),p=e(24149),m=e(99590),y=e(19462),E=e(96395),C=y((function(){for(var T,x=this.iterator,L=this.next;this.remaining;)if(this.remaining--,T=f(u(L,x)),this.done=!!T.done)return;if(T=f(u(L,x)),!(this.done=!!T.done))return T.value}));o({target:"Iterator",proto:!0,real:!0,forced:E},{drop:function(T){f(this);var x=m(p(+T));return new C(A(this),{remaining:x})}})},81148:function(a,c,e){var o=e(46518),u=e(72652),f=e(79306),A=e(28551),p=e(1767);o({target:"Iterator",proto:!0,real:!0},{every:function(m){A(this),f(m);var y=p(this),E=0;return!u(y,(function(C,T){if(!m(C,E++))return T()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},22489:function(a,c,e){var o=e(46518),u=e(69565),f=e(79306),A=e(28551),p=e(1767),m=e(19462),y=e(96319),E=e(96395),C=m((function(){for(var T,x,L=this.iterator,D=this.predicate,B=this.next;;){if(T=A(u(B,L)),this.done=!!T.done)return;if(x=T.value,y(L,D,[x,this.counter++],!0))return x}}));o({target:"Iterator",proto:!0,real:!0,forced:E},{filter:function(T){return A(this),f(T),new C(p(this),{predicate:T})}})},20116:function(a,c,e){var o=e(46518),u=e(72652),f=e(79306),A=e(28551),p=e(1767);o({target:"Iterator",proto:!0,real:!0},{find:function(m){A(this),f(m);var y=p(this),E=0;return u(y,(function(C,T){if(m(C,E++))return T(C)}),{IS_RECORD:!0,INTERRUPTED:!0}).result}})},30531:function(a,c,e){var o=e(46518),u=e(69565),f=e(79306),A=e(28551),p=e(1767),m=e(48646),y=e(19462),E=e(9539),C=e(96395),T=y((function(){for(var x,L,D=this.iterator,B=this.mapper;;){if(L=this.inner)try{if(!(x=A(u(L.next,L.iterator))).done)return x.value;this.inner=null}catch(O){E(D,"throw",O)}if(x=A(u(this.next,D)),this.done=!!x.done)return;try{this.inner=m(B(x.value,this.counter++),!1)}catch(O){E(D,"throw",O)}}}));o({target:"Iterator",proto:!0,real:!0,forced:C},{flatMap:function(x){return A(this),f(x),new T(p(this),{mapper:x,inner:null})}})},7588:function(a,c,e){var o=e(46518),u=e(72652),f=e(79306),A=e(28551),p=e(1767);o({target:"Iterator",proto:!0,real:!0},{forEach:function(m){A(this),f(m);var y=p(this),E=0;u(y,(function(C){m(C,E++)}),{IS_RECORD:!0})}})},49603:function(a,c,e){var o=e(46518),u=e(69565),f=e(48981),A=e(1625),p=e(57657).IteratorPrototype,m=e(19462),y=e(48646),E=e(96395),C=m((function(){return u(this.next,this.iterator)}),!0);o({target:"Iterator",stat:!0,forced:E},{from:function(T){var x=y(typeof T=="string"?f(T):T,!0);return A(p,x.iterator)?x.iterator:new C(x)}})},61701:function(a,c,e){var o=e(46518),u=e(20713);o({target:"Iterator",proto:!0,real:!0,forced:e(96395)},{map:u})},18237:function(a,c,e){var o=e(46518),u=e(72652),f=e(79306),A=e(28551),p=e(1767),m=TypeError;o({target:"Iterator",proto:!0,real:!0},{reduce:function(y){A(this),f(y);var E=p(this),C=arguments.length<2,T=C?void 0:arguments[1],x=0;if(u(E,(function(L){C?(C=!1,T=L):T=y(T,L,x),x++}),{IS_RECORD:!0}),C)throw new m("Reduce of empty iterator with no initial value");return T}})},13579:function(a,c,e){var o=e(46518),u=e(72652),f=e(79306),A=e(28551),p=e(1767);o({target:"Iterator",proto:!0,real:!0},{some:function(m){A(this),f(m);var y=p(this),E=0;return u(y,(function(C,T){if(m(C,E++))return T()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},54972:function(a,c,e){var o=e(46518),u=e(69565),f=e(28551),A=e(1767),p=e(24149),m=e(99590),y=e(19462),E=e(9539),C=e(96395),T=y((function(){var x=this.iterator;if(!this.remaining--)return this.done=!0,E(x,"normal",void 0);var L=f(u(this.next,x));return(this.done=!!L.done)?void 0:L.value}));o({target:"Iterator",proto:!0,real:!0,forced:C},{take:function(x){f(this);var L=m(p(+x));return new T(A(this),{remaining:L})}})},61806:function(a,c,e){var o=e(46518),u=e(28551),f=e(72652),A=e(1767),p=[].push;o({target:"Iterator",proto:!0,real:!0},{toArray:function(){var m=[];return f(A(u(this)),p,{that:m,IS_RECORD:!0}),m}})},33110:function(a,c,e){var o=e(46518),u=e(97751),f=e(18745),A=e(69565),p=e(79504),m=e(79039),y=e(94901),E=e(10757),C=e(67680),T=e(66933),x=e(4495),L=String,D=u("JSON","stringify"),B=p(/./.exec),O=p("".charAt),_=p("".charCodeAt),M=p("".replace),U=p(1 .toString),Q=/[\uD800-\uDFFF]/g,$=/^[\uD800-\uDBFF]$/,W=/^[\uDC00-\uDFFF]$/,X=!x||m((function(){var K=u("Symbol")("stringify detection");return D([K])!=="[null]"||D({a:K})!=="{}"||D(Object(K))!=="{}"})),tt=m((function(){return D("\uDF06\uD834")!=='"\\udf06\\ud834"'||D("\uDEAD")!=='"\\udead"'})),V=function(K,at){var G=C(arguments),q=T(at);if(y(q)||K!==void 0&&!E(K))return G[1]=function(et,ot){if(y(q)&&(ot=A(q,this,L(et),ot)),!E(ot))return ot},f(D,null,G)},N=function(K,at,G){var q=O(G,at-1),et=O(G,at+1);return B($,K)&&!B(W,et)||B(W,K)&&!B($,q)?"\\u"+U(_(K,0),16):K};D&&o({target:"JSON",stat:!0,arity:3,forced:X||tt},{stringify:function(K,at,G){var q=C(arguments),et=f(X?V:D,null,q);return tt&&typeof et=="string"?M(et,Q,N):et}})},4731:function(a,c,e){var o=e(44576);e(10687)(o.JSON,"JSON",!0)},48523:function(a,c,e){e(16468)("Map",(function(o){return function(){return o(this,arguments.length?arguments[0]:void 0)}}),e(86938))},47072:function(a,c,e){var o=e(46518),u=e(79504),f=e(79306),A=e(67750),p=e(72652),m=e(72248),y=e(96395),E=e(79039),C=m.Map,T=m.has,x=m.get,L=m.set,D=u([].push),B=y||E((function(){return C.groupBy("ab",(function(O){return O})).get("a").length!==1}));o({target:"Map",stat:!0,forced:y||B},{groupBy:function(O,_){A(O),f(_);var M=new C,U=0;return p(O,(function(Q){var $=_(Q,U++);T(M,$)?D(x(M,$),Q):L(M,$,[Q])})),M}})},36033:function(a,c,e){e(48523)},93153:function(a,c,e){var o=e(46518),u=e(7740),f=Math.acosh,A=Math.log,p=Math.sqrt,m=Math.LN2;o({target:"Math",stat:!0,forced:!f||Math.floor(f(Number.MAX_VALUE))!==710||f(1/0)!==1/0},{acosh:function(y){var E=+y;return E<1?NaN:E>9490626562425156e-8?A(E)+m:u(E-1+p(E-1)*p(E+1))}})},82326:function(a,c,e){var o=e(46518),u=Math.asinh,f=Math.log,A=Math.sqrt;o({target:"Math",stat:!0,forced:!(u&&1/u(0)>0)},{asinh:function p(m){var y=+m;return isFinite(y)&&y!==0?y<0?-p(-y):f(y+A(y*y+1)):y}})},36389:function(a,c,e){var o=e(46518),u=Math.atanh,f=Math.log;o({target:"Math",stat:!0,forced:!(u&&1/u(-0)<0)},{atanh:function(A){var p=+A;return p===0?p:f((1+p)/(1-p))/2}})},64444:function(a,c,e){var o=e(46518),u=e(77782),f=Math.abs,A=Math.pow;o({target:"Math",stat:!0},{cbrt:function(p){var m=+p;return u(m)*A(f(m),.3333333333333333)}})},8085:function(a,c,e){var o=e(46518),u=Math.floor,f=Math.log,A=Math.LOG2E;o({target:"Math",stat:!0},{clz32:function(p){var m=p>>>0;return m?31-u(f(m+.5)*A):32}})},77762:function(a,c,e){var o=e(46518),u=e(53250),f=Math.cosh,A=Math.abs,p=Math.E;o({target:"Math",stat:!0,forced:!f||f(710)===1/0},{cosh:function(m){var y=u(A(m)-1)+1;return(y+1/(y*p*p))*(p/2)}})},65070:function(a,c,e){var o=e(46518),u=e(53250);o({target:"Math",stat:!0,forced:u!==Math.expm1},{expm1:u})},60605:function(a,c,e){e(46518)({target:"Math",stat:!0},{fround:e(15617)})},39469:function(a,c,e){var o=e(46518),u=Math.hypot,f=Math.abs,A=Math.sqrt;o({target:"Math",stat:!0,arity:2,forced:!!u&&u(1/0,NaN)!==1/0},{hypot:function(p,m){for(var y,E,C=0,T=0,x=arguments.length,L=0;T<x;)L<(y=f(arguments[T++]))?(C=C*(E=L/y)*E+1,L=y):C+=y>0?(E=y/L)*E:y;return L===1/0?1/0:L*A(C)}})},72152:function(a,c,e){var o=e(46518),u=e(79039),f=Math.imul;o({target:"Math",stat:!0,forced:u((function(){return f(4294967295,5)!==-5||f.length!==2}))},{imul:function(A,p){var m=65535,y=+A,E=+p,C=m&y,T=m&E;return 0|C*T+((m&y>>>16)*T+C*(m&E>>>16)<<16>>>0)}})},75376:function(a,c,e){e(46518)({target:"Math",stat:!0},{log10:e(49340)})},56624:function(a,c,e){e(46518)({target:"Math",stat:!0},{log1p:e(7740)})},11367:function(a,c,e){e(46518)({target:"Math",stat:!0},{log2:e(67787)})},5914:function(a,c,e){e(46518)({target:"Math",stat:!0},{sign:e(77782)})},78553:function(a,c,e){var o=e(46518),u=e(79039),f=e(53250),A=Math.abs,p=Math.exp,m=Math.E;o({target:"Math",stat:!0,forced:u((function(){return Math.sinh(-2e-17)!==-2e-17}))},{sinh:function(y){var E=+y;return A(E)<1?(f(E)-f(-E))/2:(p(E-1)-p(-E-1))*(m/2)}})},98690:function(a,c,e){var o=e(46518),u=e(53250),f=Math.exp;o({target:"Math",stat:!0},{tanh:function(A){var p=+A,m=u(p),y=u(-p);return m===1/0?1:y===1/0?-1:(m-y)/(f(p)+f(-p))}})},60479:function(a,c,e){e(10687)(Math,"Math",!0)},70761:function(a,c,e){e(46518)({target:"Math",stat:!0},{trunc:e(80741)})},2892:function(a,c,e){var o=e(46518),u=e(96395),f=e(43724),A=e(44576),p=e(19167),m=e(79504),y=e(92796),E=e(39297),C=e(23167),T=e(1625),x=e(10757),L=e(72777),D=e(79039),B=e(38480).f,O=e(77347).f,_=e(24913).f,M=e(31240),U=e(43802).trim,Q="Number",$=A[Q],W=p[Q],X=$.prototype,tt=A.TypeError,V=m("".slice),N=m("".charCodeAt),K=y(Q,!$(" 0o1")||!$("0b1")||$("+0x1")),at=function(q){var et,ot=arguments.length<1?0:$((function(bt){var Ct=L(bt,"number");return typeof Ct=="bigint"?Ct:(function(Tt){var $t,Vt,jt,ee,ce,se,Se,Pe,je=L(Tt,"number");if(x(je))throw new tt("Cannot convert a Symbol value to a number");if(typeof je=="string"&&je.length>2){if(je=U(je),($t=N(je,0))===43||$t===45){if((Vt=N(je,2))===88||Vt===120)return NaN}else if($t===48){switch(N(je,1)){case 66:case 98:jt=2,ee=49;break;case 79:case 111:jt=8,ee=55;break;default:return+je}for(se=(ce=V(je,2)).length,Se=0;Se<se;Se++)if((Pe=N(ce,Se))<48||Pe>ee)return NaN;return parseInt(ce,jt)}}return+je})(Ct)})(q));return T(X,et=this)&&D((function(){M(et)}))?C(Object(ot),this,at):ot};at.prototype=X,K&&!u&&(X.constructor=at),o({global:!0,constructor:!0,wrap:!0,forced:K},{Number:at});var G=function(q,et){for(var ot,bt=f?B(et):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),Ct=0;bt.length>Ct;Ct++)E(et,ot=bt[Ct])&&!E(q,ot)&&_(q,ot,O(et,ot))};u&&W&&G(p[Q],W),(K||u)&&G(p[Q],$)},45374:function(a,c,e){e(46518)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{EPSILON:Math.pow(2,-52)})},25428:function(a,c,e){e(46518)({target:"Number",stat:!0},{isFinite:e(50360)})},32637:function(a,c,e){e(46518)({target:"Number",stat:!0},{isInteger:e(2087)})},40150:function(a,c,e){e(46518)({target:"Number",stat:!0},{isNaN:function(o){return o!=o}})},59149:function(a,c,e){var o=e(46518),u=e(2087),f=Math.abs;o({target:"Number",stat:!0},{isSafeInteger:function(A){return u(A)&&f(A)<=9007199254740991}})},64601:function(a,c,e){e(46518)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MAX_SAFE_INTEGER:9007199254740991})},44435:function(a,c,e){e(46518)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MIN_SAFE_INTEGER:-9007199254740991})},87220:function(a,c,e){var o=e(46518),u=e(33904);o({target:"Number",stat:!0,forced:Number.parseFloat!==u},{parseFloat:u})},25843:function(a,c,e){var o=e(46518),u=e(52703);o({target:"Number",stat:!0,forced:Number.parseInt!==u},{parseInt:u})},62337:function(a,c,e){var o=e(46518),u=e(79504),f=e(91291),A=e(31240),p=e(72333),m=e(49340),y=e(79039),E=RangeError,C=String,T=isFinite,x=Math.abs,L=Math.floor,D=Math.pow,B=Math.round,O=u(1 .toExponential),_=u(p),M=u("".slice),U=O(-69e-12,4)==="-6.9000e-11"&&O(1.255,2)==="1.25e+0"&&O(12345,3)==="1.235e+4"&&O(25,0)==="3e+1";o({target:"Number",proto:!0,forced:!U||!(y((function(){O(1,1/0)}))&&y((function(){O(1,-1/0)})))||!!y((function(){O(1/0,1/0),O(NaN,1/0)}))},{toExponential:function(Q){var $=A(this);if(Q===void 0)return O($);var W=f(Q);if(!T($))return String($);if(W<0||W>20)throw new E("Incorrect fraction digits");if(U)return O($,W);var X,tt,V,N,K="";if($<0&&(K="-",$=-$),$===0)tt=0,X=_("0",W+1);else{var at=m($);tt=L(at);var G=D(10,tt-W),q=B($/G);2*$>=(2*q+1)*G&&(q+=1),q>=D(10,W+1)&&(q/=10,tt+=1),X=C(q)}return W!==0&&(X=M(X,0,1)+"."+M(X,1)),tt===0?(V="+",N="0"):(V=tt>0?"+":"-",N=C(x(tt))),K+(X+"e")+V+N}})},9868:function(a,c,e){var o=e(46518),u=e(79504),f=e(91291),A=e(31240),p=e(72333),m=e(79039),y=RangeError,E=String,C=Math.floor,T=u(p),x=u("".slice),L=u(1 .toFixed),D=function(M,U,Q){return U===0?Q:U%2==1?D(M,U-1,Q*M):D(M*M,U/2,Q)},B=function(M,U,Q){for(var $=-1,W=Q;++$<6;)W+=U*M[$],M[$]=W%1e7,W=C(W/1e7)},O=function(M,U){for(var Q=6,$=0;--Q>=0;)$+=M[Q],M[Q]=C($/U),$=$%U*1e7},_=function(M){for(var U=6,Q="";--U>=0;)if(Q!==""||U===0||M[U]!==0){var $=E(M[U]);Q=Q===""?$:Q+T("0",7-$.length)+$}return Q};o({target:"Number",proto:!0,forced:m((function(){return L(8e-5,3)!=="0.000"||L(.9,0)!=="1"||L(1.255,2)!=="1.25"||L(0xde0b6b3a7640080,0)!=="1000000000000000128"}))||!m((function(){L({})}))},{toFixed:function(M){var U,Q,$,W,X=A(this),tt=f(M),V=[0,0,0,0,0,0],N="",K="0";if(tt<0||tt>20)throw new y("Incorrect fraction digits");if(X!=X)return"NaN";if(X<=-1e21||X>=1e21)return E(X);if(X<0&&(N="-",X=-X),X>1e-21)if(Q=(U=(function(at){for(var G=0,q=at;q>=4096;)G+=12,q/=4096;for(;q>=2;)G+=1,q/=2;return G})(X*D(2,69,1))-69)<0?X*D(2,-U,1):X/D(2,U,1),Q*=4503599627370496,(U=52-U)>0){for(B(V,0,Q),$=tt;$>=7;)B(V,1e7,0),$-=7;for(B(V,D(10,$,1),0),$=U-1;$>=23;)O(V,8388608),$-=23;O(V,1<<$),B(V,1,1),O(V,2),K=_(V)}else B(V,0,Q),B(V,1<<-U,0),K=_(V)+T("0",tt);return tt>0?N+((W=K.length)<=tt?"0."+T("0",tt-W)+K:x(K,0,W-tt)+"."+x(K,W-tt)):N+K}})},80630:function(a,c,e){var o=e(46518),u=e(79504),f=e(79039),A=e(31240),p=u(1 .toPrecision);o({target:"Number",proto:!0,forced:f((function(){return p(1,void 0)!=="1"}))||!f((function(){p({})}))},{toPrecision:function(m){return m===void 0?p(A(this)):p(A(this),m)}})},69085:function(a,c,e){var o=e(46518),u=e(44213);o({target:"Object",stat:!0,arity:2,forced:Object.assign!==u},{assign:u})},59904:function(a,c,e){e(46518)({target:"Object",stat:!0,sham:!e(43724)},{create:e(2360)})},17427:function(a,c,e){var o=e(46518),u=e(43724),f=e(42551),A=e(79306),p=e(48981),m=e(24913);u&&o({target:"Object",proto:!0,forced:f},{__defineGetter__:function(y,E){m.f(p(this),y,{get:A(E),enumerable:!0,configurable:!0})}})},67945:function(a,c,e){var o=e(46518),u=e(43724),f=e(96801).f;o({target:"Object",stat:!0,forced:Object.defineProperties!==f,sham:!u},{defineProperties:f})},84185:function(a,c,e){var o=e(46518),u=e(43724),f=e(24913).f;o({target:"Object",stat:!0,forced:Object.defineProperty!==f,sham:!u},{defineProperty:f})},87607:function(a,c,e){var o=e(46518),u=e(43724),f=e(42551),A=e(79306),p=e(48981),m=e(24913);u&&o({target:"Object",proto:!0,forced:f},{__defineSetter__:function(y,E){m.f(p(this),y,{set:A(E),enumerable:!0,configurable:!0})}})},5506:function(a,c,e){var o=e(46518),u=e(32357).entries;o({target:"Object",stat:!0},{entries:function(f){return u(f)}})},52811:function(a,c,e){var o=e(46518),u=e(92744),f=e(79039),A=e(20034),p=e(3451).onFreeze,m=Object.freeze;o({target:"Object",stat:!0,forced:f((function(){m(1)})),sham:!u},{freeze:function(y){return m&&A(y)?m(p(y)):y}})},53921:function(a,c,e){var o=e(46518),u=e(72652),f=e(97040);o({target:"Object",stat:!0},{fromEntries:function(A){var p={};return u(A,(function(m,y){f(p,m,y)}),{AS_ENTRIES:!0}),p}})},83851:function(a,c,e){var o=e(46518),u=e(79039),f=e(25397),A=e(77347).f,p=e(43724);o({target:"Object",stat:!0,forced:!p||u((function(){A(1)})),sham:!p},{getOwnPropertyDescriptor:function(m,y){return A(f(m),y)}})},81278:function(a,c,e){var o=e(46518),u=e(43724),f=e(35031),A=e(25397),p=e(77347),m=e(97040);o({target:"Object",stat:!0,sham:!u},{getOwnPropertyDescriptors:function(y){for(var E,C,T=A(y),x=p.f,L=f(T),D={},B=0;L.length>B;)(C=x(T,E=L[B++]))!==void 0&&m(D,E,C);return D}})},1480:function(a,c,e){var o=e(46518),u=e(79039),f=e(10298).f;o({target:"Object",stat:!0,forced:u((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:f})},49773:function(a,c,e){var o=e(46518),u=e(4495),f=e(79039),A=e(33717),p=e(48981);o({target:"Object",stat:!0,forced:!u||f((function(){A.f(1)}))},{getOwnPropertySymbols:function(m){var y=A.f;return y?y(p(m)):[]}})},40875:function(a,c,e){var o=e(46518),u=e(79039),f=e(48981),A=e(42787),p=e(12211);o({target:"Object",stat:!0,forced:u((function(){A(1)})),sham:!p},{getPrototypeOf:function(m){return A(f(m))}})},77691:function(a,c,e){var o=e(46518),u=e(97751),f=e(79504),A=e(79306),p=e(67750),m=e(56969),y=e(72652),E=e(79039),C=Object.groupBy,T=u("Object","create"),x=f([].push);o({target:"Object",stat:!0,forced:!C||E((function(){return C("ab",(function(L){return L})).a.length!==1}))},{groupBy:function(L,D){p(L),A(D);var B=T(null),O=0;return y(L,(function(_){var M=m(D(_,O++));M in B?x(B[M],_):B[M]=[_]})),B}})},78347:function(a,c,e){e(46518)({target:"Object",stat:!0},{hasOwn:e(39297)})},94052:function(a,c,e){var o=e(46518),u=e(34124);o({target:"Object",stat:!0,forced:Object.isExtensible!==u},{isExtensible:u})},94003:function(a,c,e){var o=e(46518),u=e(79039),f=e(20034),A=e(22195),p=e(15652),m=Object.isFrozen;o({target:"Object",stat:!0,forced:p||u((function(){}))},{isFrozen:function(y){return!f(y)||!(!p||A(y)!=="ArrayBuffer")||!!m&&m(y)}})},221:function(a,c,e){var o=e(46518),u=e(79039),f=e(20034),A=e(22195),p=e(15652),m=Object.isSealed;o({target:"Object",stat:!0,forced:p||u((function(){}))},{isSealed:function(y){return!f(y)||!(!p||A(y)!=="ArrayBuffer")||!!m&&m(y)}})},29908:function(a,c,e){e(46518)({target:"Object",stat:!0},{is:e(3470)})},79432:function(a,c,e){var o=e(46518),u=e(48981),f=e(71072);o({target:"Object",stat:!0,forced:e(79039)((function(){f(1)}))},{keys:function(A){return f(u(A))}})},9220:function(a,c,e){var o=e(46518),u=e(43724),f=e(42551),A=e(48981),p=e(56969),m=e(42787),y=e(77347).f;u&&o({target:"Object",proto:!0,forced:f},{__lookupGetter__:function(E){var C,T=A(this),x=p(E);do if(C=y(T,x))return C.get;while(T=m(T))}})},7904:function(a,c,e){var o=e(46518),u=e(43724),f=e(42551),A=e(48981),p=e(56969),m=e(42787),y=e(77347).f;u&&o({target:"Object",proto:!0,forced:f},{__lookupSetter__:function(E){var C,T=A(this),x=p(E);do if(C=y(T,x))return C.set;while(T=m(T))}})},93967:function(a,c,e){var o=e(46518),u=e(20034),f=e(3451).onFreeze,A=e(92744),p=e(79039),m=Object.preventExtensions;o({target:"Object",stat:!0,forced:p((function(){m(1)})),sham:!A},{preventExtensions:function(y){return m&&u(y)?m(f(y)):y}})},63548:function(a,c,e){var o=e(43724),u=e(62106),f=e(20034),A=e(13925),p=e(48981),m=e(67750),y=Object.getPrototypeOf,E=Object.setPrototypeOf,C=Object.prototype,T="__proto__";if(o&&y&&E&&!(T in C))try{u(C,T,{configurable:!0,get:function(){return y(p(this))},set:function(x){var L=m(this);A(x)&&f(L)&&E(L,x)}})}catch{}},93941:function(a,c,e){var o=e(46518),u=e(20034),f=e(3451).onFreeze,A=e(92744),p=e(79039),m=Object.seal;o({target:"Object",stat:!0,forced:p((function(){m(1)})),sham:!A},{seal:function(y){return m&&u(y)?m(f(y)):y}})},10287:function(a,c,e){e(46518)({target:"Object",stat:!0},{setPrototypeOf:e(52967)})},26099:function(a,c,e){var o=e(92140),u=e(36840),f=e(53179);o||u(Object.prototype,"toString",f,{unsafe:!0})},16034:function(a,c,e){var o=e(46518),u=e(32357).values;o({target:"Object",stat:!0},{values:function(f){return u(f)}})},78459:function(a,c,e){var o=e(46518),u=e(33904);o({global:!0,forced:parseFloat!==u},{parseFloat:u})},58940:function(a,c,e){var o=e(46518),u=e(52703);o({global:!0,forced:parseInt!==u},{parseInt:u})},96167:function(a,c,e){var o=e(46518),u=e(69565),f=e(79306),A=e(36043),p=e(1103),m=e(72652);o({target:"Promise",stat:!0,forced:e(90537)},{allSettled:function(y){var E=this,C=A.f(E),T=C.resolve,x=C.reject,L=p((function(){var D=f(E.resolve),B=[],O=0,_=1;m(y,(function(M){var U=O++,Q=!1;_++,u(D,E,M).then((function($){Q||(Q=!0,B[U]={status:"fulfilled",value:$},--_||T(B))}),(function($){Q||(Q=!0,B[U]={status:"rejected",reason:$},--_||T(B))}))})),--_||T(B)}));return L.error&&x(L.value),C.promise}})},16499:function(a,c,e){var o=e(46518),u=e(69565),f=e(79306),A=e(36043),p=e(1103),m=e(72652);o({target:"Promise",stat:!0,forced:e(90537)},{all:function(y){var E=this,C=A.f(E),T=C.resolve,x=C.reject,L=p((function(){var D=f(E.resolve),B=[],O=0,_=1;m(y,(function(M){var U=O++,Q=!1;_++,u(D,E,M).then((function($){Q||(Q=!0,B[U]=$,--_||T(B))}),x)})),--_||T(B)}));return L.error&&x(L.value),C.promise}})},93518:function(a,c,e){var o=e(46518),u=e(69565),f=e(79306),A=e(97751),p=e(36043),m=e(1103),y=e(72652),E=e(90537),C="No one promise resolved";o({target:"Promise",stat:!0,forced:E},{any:function(T){var x=this,L=A("AggregateError"),D=p.f(x),B=D.resolve,O=D.reject,_=m((function(){var M=f(x.resolve),U=[],Q=0,$=1,W=!1;y(T,(function(X){var tt=Q++,V=!1;$++,u(M,x,X).then((function(N){V||W||(W=!0,B(N))}),(function(N){V||W||(V=!0,U[tt]=N,--$||O(new L(U,C)))}))})),--$||O(new L(U,C))}));return _.error&&O(_.value),D.promise}})},82003:function(a,c,e){var o=e(46518),u=e(96395),f=e(10916).CONSTRUCTOR,A=e(80550),p=e(97751),m=e(94901),y=e(36840),E=A&&A.prototype;if(o({target:"Promise",proto:!0,forced:f,real:!0},{catch:function(T){return this.then(void 0,T)}}),!u&&m(A)){var C=p("Promise").prototype.catch;E.catch!==C&&y(E,"catch",C,{unsafe:!0})}},10436:function(a,c,e){var o,u,f,A=e(46518),p=e(96395),m=e(38574),y=e(44576),E=e(69565),C=e(36840),T=e(52967),x=e(10687),L=e(87633),D=e(79306),B=e(94901),O=e(20034),_=e(90679),M=e(2293),U=e(59225).set,Q=e(91955),$=e(90757),W=e(1103),X=e(18265),tt=e(91181),V=e(80550),N=e(10916),K=e(36043),at="Promise",G=N.CONSTRUCTOR,q=N.REJECTION_EVENT,et=N.SUBCLASSING,ot=tt.getterFor(at),bt=tt.set,Ct=V&&V.prototype,Tt=V,$t=Ct,Vt=y.TypeError,jt=y.document,ee=y.process,ce=K.f,se=ce,Se=!!(jt&&jt.createEvent&&y.dispatchEvent),Pe="unhandledrejection",je=function(te){var Ae;return!(!O(te)||!B(Ae=te.then))&&Ae},xe=function(te,Ae){var oe,De,Rt,me=Ae.value,ke=Ae.state===1,Yn=ke?te.ok:te.fail,Ne=te.resolve,Ve=te.reject,It=te.domain;try{Yn?(ke||(Ae.rejection===2&&We(Ae),Ae.rejection=1),Yn===!0?oe=me:(It&&It.enter(),oe=Yn(me),It&&(It.exit(),Rt=!0)),oe===te.promise?Ve(new Vt("Promise-chain cycle")):(De=je(oe))?E(De,oe,Ne,Ve):Ne(oe)):Ve(me)}catch(Te){It&&!Rt&&It.exit(),Ve(Te)}},we=function(te,Ae){te.notified||(te.notified=!0,Q((function(){for(var oe,De=te.reactions;oe=De.get();)xe(oe,te);te.notified=!1,Ae&&!te.rejection&&En(te)})))},en=function(te,Ae,oe){var De,Rt;Se?((De=jt.createEvent("Event")).promise=Ae,De.reason=oe,De.initEvent(te,!1,!0),y.dispatchEvent(De)):De={promise:Ae,reason:oe},!q&&(Rt=y["on"+te])?Rt(De):te===Pe&&$("Unhandled promise rejection",oe)},En=function(te){E(U,y,(function(){var Ae,oe=te.facade,De=te.value;if(un(te)&&(Ae=W((function(){m?ee.emit("unhandledRejection",De,oe):en(Pe,oe,De)})),te.rejection=m||un(te)?2:1,Ae.error))throw Ae.value}))},un=function(te){return te.rejection!==1&&!te.parent},We=function(te){E(U,y,(function(){var Ae=te.facade;m?ee.emit("rejectionHandled",Ae):en("rejectionhandled",Ae,te.value)}))},$e=function(te,Ae,oe){return function(De){te(Ae,De,oe)}},Rn=function(te,Ae,oe){te.done||(te.done=!0,oe&&(te=oe),te.value=Ae,te.state=2,we(te,!0))},sn=function(te,Ae,oe){if(!te.done){te.done=!0,oe&&(te=oe);try{if(te.facade===Ae)throw new Vt("Promise can't be resolved itself");var De=je(Ae);De?Q((function(){var Rt={done:!1};try{E(De,Ae,$e(sn,Rt,te),$e(Rn,Rt,te))}catch(me){Rn(Rt,me,te)}})):(te.value=Ae,te.state=1,we(te,!1))}catch(Rt){Rn({done:!1},Rt,te)}}};if(G&&($t=(Tt=function(te){_(this,$t),D(te),E(o,this);var Ae=ot(this);try{te($e(sn,Ae),$e(Rn,Ae))}catch(oe){Rn(Ae,oe)}}).prototype,(o=function(te){bt(this,{type:at,done:!1,notified:!1,parent:!1,reactions:new X,rejection:!1,state:0,value:null})}).prototype=C($t,"then",(function(te,Ae){var oe=ot(this),De=ce(M(this,Tt));return oe.parent=!0,De.ok=!B(te)||te,De.fail=B(Ae)&&Ae,De.domain=m?ee.domain:void 0,oe.state===0?oe.reactions.add(De):Q((function(){xe(De,oe)})),De.promise})),u=function(){var te=new o,Ae=ot(te);this.promise=te,this.resolve=$e(sn,Ae),this.reject=$e(Rn,Ae)},K.f=ce=function(te){return te===Tt||te===void 0?new u(te):se(te)},!p&&B(V)&&Ct!==Object.prototype)){f=Ct.then,et||C(Ct,"then",(function(te,Ae){var oe=this;return new Tt((function(De,Rt){E(f,oe,De,Rt)})).then(te,Ae)}),{unsafe:!0});try{delete Ct.constructor}catch{}T&&T(Ct,$t)}A({global:!0,constructor:!0,wrap:!0,forced:G},{Promise:Tt}),x(Tt,at,!1,!0),L(at)},9391:function(a,c,e){var o=e(46518),u=e(96395),f=e(80550),A=e(79039),p=e(97751),m=e(94901),y=e(2293),E=e(93438),C=e(36840),T=f&&f.prototype;if(o({target:"Promise",proto:!0,real:!0,forced:!!f&&A((function(){T.finally.call({then:function(){}},(function(){}))}))},{finally:function(L){var D=y(this,p("Promise")),B=m(L);return this.then(B?function(O){return E(D,L()).then((function(){return O}))}:L,B?function(O){return E(D,L()).then((function(){throw O}))}:L)}}),!u&&m(f)){var x=p("Promise").prototype.finally;T.finally!==x&&C(T,"finally",x,{unsafe:!0})}},3362:function(a,c,e){e(10436),e(16499),e(82003),e(7743),e(51481),e(40280)},7743:function(a,c,e){var o=e(46518),u=e(69565),f=e(79306),A=e(36043),p=e(1103),m=e(72652);o({target:"Promise",stat:!0,forced:e(90537)},{race:function(y){var E=this,C=A.f(E),T=C.reject,x=p((function(){var L=f(E.resolve);m(y,(function(D){u(L,E,D).then(C.resolve,T)}))}));return x.error&&T(x.value),C.promise}})},51481:function(a,c,e){var o=e(46518),u=e(36043);o({target:"Promise",stat:!0,forced:e(10916).CONSTRUCTOR},{reject:function(f){var A=u.f(this);return(0,A.reject)(f),A.promise}})},40280:function(a,c,e){var o=e(46518),u=e(97751),f=e(96395),A=e(80550),p=e(10916).CONSTRUCTOR,m=e(93438),y=u("Promise"),E=f&&!p;o({target:"Promise",stat:!0,forced:f||p},{resolve:function(C){return m(E&&this===y?A:this,C)}})},31689:function(a,c,e){var o=e(46518),u=e(44576),f=e(18745),A=e(67680),p=e(36043),m=e(79306),y=e(1103),E=u.Promise,C=!1;o({target:"Promise",stat:!0,forced:!E||!E.try||y((function(){E.try((function(T){C=T===8}),8)})).error||!C},{try:function(T){var x=arguments.length>1?A(arguments,1):[],L=p.f(this),D=y((function(){return f(m(T),void 0,x)}));return(D.error?L.reject:L.resolve)(D.value),L.promise}})},14628:function(a,c,e){var o=e(46518),u=e(36043);o({target:"Promise",stat:!0},{withResolvers:function(){var f=u.f(this);return{promise:f.promise,resolve:f.resolve,reject:f.reject}}})},39796:function(a,c,e){var o=e(46518),u=e(18745),f=e(79306),A=e(28551);o({target:"Reflect",stat:!0,forced:!e(79039)((function(){Reflect.apply((function(){}))}))},{apply:function(p,m,y){return u(f(p),m,A(y))}})},60825:function(a,c,e){var o=e(46518),u=e(97751),f=e(18745),A=e(30566),p=e(35548),m=e(28551),y=e(20034),E=e(2360),C=e(79039),T=u("Reflect","construct"),x=Object.prototype,L=[].push,D=C((function(){function _(){}return!(T((function(){}),[],_)instanceof _)})),B=!C((function(){T((function(){}))})),O=D||B;o({target:"Reflect",stat:!0,forced:O,sham:O},{construct:function(_,M){p(_),m(M);var U=arguments.length<3?_:p(arguments[2]);if(B&&!D)return T(_,M,U);if(_===U){switch(M.length){case 0:return new _;case 1:return new _(M[0]);case 2:return new _(M[0],M[1]);case 3:return new _(M[0],M[1],M[2]);case 4:return new _(M[0],M[1],M[2],M[3])}var Q=[null];return f(L,Q,M),new(f(A,_,Q))}var $=U.prototype,W=E(y($)?$:x),X=f(_,W,M);return y(X)?X:W}})},87411:function(a,c,e){var o=e(46518),u=e(43724),f=e(28551),A=e(56969),p=e(24913);o({target:"Reflect",stat:!0,forced:e(79039)((function(){Reflect.defineProperty(p.f({},1,{value:1}),1,{value:2})})),sham:!u},{defineProperty:function(m,y,E){f(m);var C=A(y);f(E);try{return p.f(m,C,E),!0}catch{return!1}}})},21211:function(a,c,e){var o=e(46518),u=e(28551),f=e(77347).f;o({target:"Reflect",stat:!0},{deleteProperty:function(A,p){var m=f(u(A),p);return!(m&&!m.configurable)&&delete A[p]}})},9065:function(a,c,e){var o=e(46518),u=e(43724),f=e(28551),A=e(77347);o({target:"Reflect",stat:!0,sham:!u},{getOwnPropertyDescriptor:function(p,m){return A.f(f(p),m)}})},86565:function(a,c,e){var o=e(46518),u=e(28551),f=e(42787);o({target:"Reflect",stat:!0,sham:!e(12211)},{getPrototypeOf:function(A){return f(u(A))}})},40888:function(a,c,e){var o=e(46518),u=e(69565),f=e(20034),A=e(28551),p=e(16575),m=e(77347),y=e(42787);o({target:"Reflect",stat:!0},{get:function E(C,T){var x,L,D=arguments.length<3?C:arguments[2];return A(C)===D?C[T]:(x=m.f(C,T))?p(x)?x.value:x.get===void 0?void 0:u(x.get,D):f(L=y(C))?E(L,T,D):void 0}})},32812:function(a,c,e){e(46518)({target:"Reflect",stat:!0},{has:function(o,u){return u in o}})},84634:function(a,c,e){var o=e(46518),u=e(28551),f=e(34124);o({target:"Reflect",stat:!0},{isExtensible:function(A){return u(A),f(A)}})},71137:function(a,c,e){e(46518)({target:"Reflect",stat:!0},{ownKeys:e(35031)})},30985:function(a,c,e){var o=e(46518),u=e(97751),f=e(28551);o({target:"Reflect",stat:!0,sham:!e(92744)},{preventExtensions:function(A){f(A);try{var p=u("Object","preventExtensions");return p&&p(A),!0}catch{return!1}}})},34873:function(a,c,e){var o=e(46518),u=e(28551),f=e(73506),A=e(52967);A&&o({target:"Reflect",stat:!0},{setPrototypeOf:function(p,m){u(p),f(m);try{return A(p,m),!0}catch{return!1}}})},34268:function(a,c,e){var o=e(46518),u=e(69565),f=e(28551),A=e(20034),p=e(16575),m=e(79039),y=e(24913),E=e(77347),C=e(42787),T=e(6980);o({target:"Reflect",stat:!0,forced:m((function(){var x=function(){},L=y.f(new x,"a",{configurable:!0});return Reflect.set(x.prototype,"a",1,L)!==!1}))},{set:function x(L,D,B){var O,_,M,U=arguments.length<4?L:arguments[3],Q=E.f(f(L),D);if(!Q){if(A(_=C(L)))return x(_,D,B,U);Q=T(0)}if(p(Q)){if(Q.writable===!1||!A(U))return!1;if(O=E.f(U,D)){if(O.get||O.set||O.writable===!1)return!1;O.value=B,y.f(U,D,O)}else y.f(U,D,T(0,B))}else{if((M=Q.set)===void 0)return!1;u(M,U,B)}return!0}})},15472:function(a,c,e){var o=e(46518),u=e(44576),f=e(10687);o({global:!0},{Reflect:{}}),f(u.Reflect,"Reflect",!0)},84864:function(a,c,e){var o=e(43724),u=e(44576),f=e(79504),A=e(92796),p=e(23167),m=e(66699),y=e(2360),E=e(38480).f,C=e(1625),T=e(60788),x=e(655),L=e(61034),D=e(58429),B=e(11056),O=e(36840),_=e(79039),M=e(39297),U=e(91181).enforce,Q=e(87633),$=e(78227),W=e(83635),X=e(18814),tt=$("match"),V=u.RegExp,N=V.prototype,K=u.SyntaxError,at=f(N.exec),G=f("".charAt),q=f("".replace),et=f("".indexOf),ot=f("".slice),bt=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,Ct=/a/g,Tt=/a/g,$t=new V(Ct)!==Ct,Vt=D.MISSED_STICKY,jt=D.UNSUPPORTED_Y;if(A("RegExp",o&&(!$t||Vt||W||X||_((function(){return Tt[tt]=!1,V(Ct)!==Ct||V(Tt)===Tt||String(V(Ct,"i"))!=="/a/i"}))))){for(var ee=function(Se,Pe){var je,xe,we,en,En,un,We=C(N,this),$e=T(Se),Rn=Pe===void 0,sn=[],te=Se;if(!We&&$e&&Rn&&Se.constructor===ee)return Se;if(($e||C(N,Se))&&(Se=Se.source,Rn&&(Pe=L(te))),Se=Se===void 0?"":x(Se),Pe=Pe===void 0?"":x(Pe),te=Se,W&&"dotAll"in Ct&&(xe=!!Pe&&et(Pe,"s")>-1)&&(Pe=q(Pe,/s/g,"")),je=Pe,Vt&&"sticky"in Ct&&(we=!!Pe&&et(Pe,"y")>-1)&&jt&&(Pe=q(Pe,/y/g,"")),X&&(en=(function(Ae){for(var oe,De=Ae.length,Rt=0,me="",ke=[],Yn=y(null),Ne=!1,Ve=!1,It=0,Te="";Rt<=De;Rt++){if((oe=G(Ae,Rt))==="\\")oe+=G(Ae,++Rt);else if(oe==="]")Ne=!1;else if(!Ne)switch(!0){case oe==="[":Ne=!0;break;case oe==="(":if(me+=oe,ot(Ae,Rt+1,Rt+3)==="?:")continue;at(bt,ot(Ae,Rt+1))&&(Rt+=2,Ve=!0),It++;continue;case(oe===">"&&Ve):if(Te===""||M(Yn,Te))throw new K("Invalid capture group name");Yn[Te]=!0,ke[ke.length]=[Te,It],Ve=!1,Te="";continue}Ve?Te+=oe:me+=oe}return[me,ke]})(Se),Se=en[0],sn=en[1]),En=p(V(Se,Pe),We?this:N,ee),(xe||we||sn.length)&&(un=U(En),xe&&(un.dotAll=!0,un.raw=ee((function(Ae){for(var oe,De=Ae.length,Rt=0,me="",ke=!1;Rt<=De;Rt++)(oe=G(Ae,Rt))!=="\\"?ke||oe!=="."?(oe==="["?ke=!0:oe==="]"&&(ke=!1),me+=oe):me+="[\\s\\S]":me+=oe+G(Ae,++Rt);return me})(Se),je)),we&&(un.sticky=!0),sn.length&&(un.groups=sn)),Se!==te)try{m(En,"source",te===""?"(?:)":te)}catch{}return En},ce=E(V),se=0;ce.length>se;)B(ee,V,ce[se++]);N.constructor=ee,ee.prototype=N,O(u,"RegExp",ee,{constructor:!0})}Q("RegExp")},57465:function(a,c,e){var o=e(43724),u=e(83635),f=e(22195),A=e(62106),p=e(91181).get,m=RegExp.prototype,y=TypeError;o&&u&&A(m,"dotAll",{configurable:!0,get:function(){if(this!==m){if(f(this)==="RegExp")return!!p(this).dotAll;throw new y("Incompatible receiver, RegExp required")}}})},27495:function(a,c,e){var o=e(46518),u=e(57323);o({target:"RegExp",proto:!0,forced:/./.exec!==u},{exec:u})},69479:function(a,c,e){var o=e(44576),u=e(43724),f=e(62106),A=e(67979),p=e(79039),m=o.RegExp,y=m.prototype;u&&p((function(){var E=!0;try{m(".","d")}catch{E=!1}var C={},T="",x=E?"dgimsy":"gimsy",L=function(O,_){Object.defineProperty(C,O,{get:function(){return T+=_,!0}})},D={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var B in E&&(D.hasIndices="d"),D)L(B,D[B]);return Object.getOwnPropertyDescriptor(y,"flags").get.call(C)!==x||T!==x}))&&f(y,"flags",{configurable:!0,get:A})},87745:function(a,c,e){var o=e(43724),u=e(58429).MISSED_STICKY,f=e(22195),A=e(62106),p=e(91181).get,m=RegExp.prototype,y=TypeError;o&&u&&A(m,"sticky",{configurable:!0,get:function(){if(this!==m){if(f(this)==="RegExp")return!!p(this).sticky;throw new y("Incompatible receiver, RegExp required")}}})},90906:function(a,c,e){e(27495);var o,u,f=e(46518),A=e(69565),p=e(94901),m=e(28551),y=e(655),E=(o=!1,(u=/[ac]/).exec=function(){return o=!0,/./.exec.apply(this,arguments)},u.test("abc")===!0&&o),C=/./.test;f({target:"RegExp",proto:!0,forced:!E},{test:function(T){var x=m(this),L=y(T),D=x.exec;if(!p(D))return A(C,x,L);var B=A(D,x,L);return B!==null&&(m(B),!0)}})},38781:function(a,c,e){var o=e(10350).PROPER,u=e(36840),f=e(28551),A=e(655),p=e(79039),m=e(61034),y="toString",E=RegExp.prototype,C=E[y],T=p((function(){return C.call({source:"a",flags:"b"})!=="/a/b"})),x=o&&C.name!==y;(T||x)&&u(E,y,(function(){var L=f(this);return"/"+A(L.source)+"/"+A(m(L))}),{unsafe:!0})},92405:function(a,c,e){e(16468)("Set",(function(o){return function(){return o(this,arguments.length?arguments[0]:void 0)}}),e(86938))},17642:function(a,c,e){var o=e(46518),u=e(83440);o({target:"Set",proto:!0,real:!0,forced:!e(84916)("difference",(function(f){return f.size===0}))},{difference:u})},58004:function(a,c,e){var o=e(46518),u=e(79039),f=e(68750);o({target:"Set",proto:!0,real:!0,forced:!e(84916)("intersection",(function(A){return A.size===2&&A.has(1)&&A.has(2)}))||u((function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"}))},{intersection:f})},33853:function(a,c,e){var o=e(46518),u=e(64449);o({target:"Set",proto:!0,real:!0,forced:!e(84916)("isDisjointFrom",(function(f){return!f}))},{isDisjointFrom:u})},45876:function(a,c,e){var o=e(46518),u=e(53838);o({target:"Set",proto:!0,real:!0,forced:!e(84916)("isSubsetOf",(function(f){return f}))},{isSubsetOf:u})},32475:function(a,c,e){var o=e(46518),u=e(28527);o({target:"Set",proto:!0,real:!0,forced:!e(84916)("isSupersetOf",(function(f){return!f}))},{isSupersetOf:u})},31415:function(a,c,e){e(92405)},15024:function(a,c,e){var o=e(46518),u=e(83650);o({target:"Set",proto:!0,real:!0,forced:!e(84916)("symmetricDifference")},{symmetricDifference:u})},31698:function(a,c,e){var o=e(46518),u=e(44204);o({target:"Set",proto:!0,real:!0,forced:!e(84916)("union")},{union:u})},89907:function(a,c,e){var o=e(46518),u=e(77240);o({target:"String",proto:!0,forced:e(23061)("anchor")},{anchor:function(f){return u(this,"a","name",f)}})},67357:function(a,c,e){var o=e(46518),u=e(79504),f=e(67750),A=e(91291),p=e(655),m=e(79039),y=u("".charAt);o({target:"String",proto:!0,forced:m((function(){return"𠮷".at(-2)!=="\uD842"}))},{at:function(E){var C=p(f(this)),T=C.length,x=A(E),L=x>=0?x:T+x;return L<0||L>=T?void 0:y(C,L)}})},11898:function(a,c,e){var o=e(46518),u=e(77240);o({target:"String",proto:!0,forced:e(23061)("big")},{big:function(){return u(this,"big","","")}})},35490:function(a,c,e){var o=e(46518),u=e(77240);o({target:"String",proto:!0,forced:e(23061)("blink")},{blink:function(){return u(this,"blink","","")}})},5745:function(a,c,e){var o=e(46518),u=e(77240);o({target:"String",proto:!0,forced:e(23061)("bold")},{bold:function(){return u(this,"b","","")}})},23860:function(a,c,e){var o=e(46518),u=e(68183).codeAt;o({target:"String",proto:!0},{codePointAt:function(f){return u(this,f)}})},99449:function(a,c,e){var o,u=e(46518),f=e(27476),A=e(77347).f,p=e(18014),m=e(655),y=e(60511),E=e(67750),C=e(41436),T=e(96395),x=f("".slice),L=Math.min,D=C("endsWith");u({target:"String",proto:!0,forced:!(!T&&!D&&(o=A(String.prototype,"endsWith"),o&&!o.writable)||D)},{endsWith:function(B){var O=m(E(this));y(B);var _=arguments.length>1?arguments[1]:void 0,M=O.length,U=_===void 0?M:L(p(_),M),Q=m(B);return x(O,U-Q.length,U)===Q}})},94298:function(a,c,e){var o=e(46518),u=e(77240);o({target:"String",proto:!0,forced:e(23061)("fixed")},{fixed:function(){return u(this,"tt","","")}})},60268:function(a,c,e){var o=e(46518),u=e(77240);o({target:"String",proto:!0,forced:e(23061)("fontcolor")},{fontcolor:function(f){return u(this,"font","color",f)}})},69546:function(a,c,e){var o=e(46518),u=e(77240);o({target:"String",proto:!0,forced:e(23061)("fontsize")},{fontsize:function(f){return u(this,"font","size",f)}})},27337:function(a,c,e){var o=e(46518),u=e(79504),f=e(35610),A=RangeError,p=String.fromCharCode,m=String.fromCodePoint,y=u([].join);o({target:"String",stat:!0,arity:1,forced:!!m&&m.length!==1},{fromCodePoint:function(E){for(var C,T=[],x=arguments.length,L=0;x>L;){if(C=+arguments[L++],f(C,1114111)!==C)throw new A(C+" is not a valid code point");T[L]=C<65536?p(C):p(55296+((C-=65536)>>10),C%1024+56320)}return y(T,"")}})},21699:function(a,c,e){var o=e(46518),u=e(79504),f=e(60511),A=e(67750),p=e(655),m=e(41436),y=u("".indexOf);o({target:"String",proto:!0,forced:!m("includes")},{includes:function(E){return!!~y(p(A(this)),p(f(E)),arguments.length>1?arguments[1]:void 0)}})},42043:function(a,c,e){var o=e(46518),u=e(79504),f=e(67750),A=e(655),p=u("".charCodeAt);o({target:"String",proto:!0},{isWellFormed:function(){for(var m=A(f(this)),y=m.length,E=0;E<y;E++){var C=p(m,E);if((63488&C)==55296&&(C>=56320||++E>=y||(64512&p(m,E))!=56320))return!1}return!0}})},20781:function(a,c,e){var o=e(46518),u=e(77240);o({target:"String",proto:!0,forced:e(23061)("italics")},{italics:function(){return u(this,"i","","")}})},47764:function(a,c,e){var o=e(68183).charAt,u=e(655),f=e(91181),A=e(51088),p=e(62529),m="String Iterator",y=f.set,E=f.getterFor(m);A(String,"String",(function(C){y(this,{type:m,string:u(C),index:0})}),(function(){var C,T=E(this),x=T.string,L=T.index;return L>=x.length?p(void 0,!0):(C=o(x,L),T.index+=C.length,p(C,!1))}))},50778:function(a,c,e){var o=e(46518),u=e(77240);o({target:"String",proto:!0,forced:e(23061)("link")},{link:function(f){return u(this,"a","href",f)}})},28543:function(a,c,e){var o=e(46518),u=e(69565),f=e(27476),A=e(33994),p=e(62529),m=e(67750),y=e(18014),E=e(655),C=e(28551),T=e(64117),x=e(22195),L=e(60788),D=e(61034),B=e(55966),O=e(36840),_=e(79039),M=e(78227),U=e(2293),Q=e(57829),$=e(56682),W=e(91181),X=e(96395),tt=M("matchAll"),V="RegExp String",N=V+" Iterator",K=W.set,at=W.getterFor(N),G=RegExp.prototype,q=TypeError,et=f("".indexOf),ot=f("".matchAll),bt=!!ot&&!_((function(){ot("a",/./)})),Ct=A((function($t,Vt,jt,ee){K(this,{type:N,regexp:$t,string:Vt,global:jt,unicode:ee,done:!1})}),V,(function(){var $t=at(this);if($t.done)return p(void 0,!0);var Vt=$t.regexp,jt=$t.string,ee=$(Vt,jt);return ee===null?($t.done=!0,p(void 0,!0)):$t.global?(E(ee[0])===""&&(Vt.lastIndex=Q(jt,y(Vt.lastIndex),$t.unicode)),p(ee,!1)):($t.done=!0,p(ee,!1))})),Tt=function($t){var Vt,jt,ee,ce=C(this),se=E($t),Se=U(ce,RegExp),Pe=E(D(ce));return Vt=new Se(Se===RegExp?ce.source:ce,Pe),jt=!!~et(Pe,"g"),ee=!!~et(Pe,"u"),Vt.lastIndex=y(ce.lastIndex),new Ct(Vt,se,jt,ee)};o({target:"String",proto:!0,forced:bt},{matchAll:function($t){var Vt,jt,ee,ce,se=m(this);if(T($t)){if(bt)return ot(se,$t)}else{if(L($t)&&(Vt=E(m(D($t))),!~et(Vt,"g")))throw new q("`.matchAll` does not allow non-global regexes");if(bt)return ot(se,$t);if((ee=B($t,tt))===void 0&&X&&x($t)==="RegExp"&&(ee=Tt),ee)return u(ee,$t,se)}return jt=E(se),ce=new RegExp($t,"g"),X?u(Tt,ce,jt):ce[tt](jt)}}),X||tt in G||O(G,tt,Tt)},71761:function(a,c,e){var o=e(69565),u=e(89228),f=e(28551),A=e(64117),p=e(18014),m=e(655),y=e(67750),E=e(55966),C=e(57829),T=e(56682);u("match",(function(x,L,D){return[function(B){var O=y(this),_=A(B)?void 0:E(B,x);return _?o(_,B,O):new RegExp(B)[x](m(O))},function(B){var O=f(this),_=m(B),M=D(L,O,_);if(M.done)return M.value;if(!O.global)return T(O,_);var U=O.unicode;O.lastIndex=0;for(var Q,$=[],W=0;(Q=T(O,_))!==null;){var X=m(Q[0]);$[W]=X,X===""&&(O.lastIndex=C(_,p(O.lastIndex),U)),W++}return W===0?null:$}]}))},35701:function(a,c,e){var o=e(46518),u=e(60533).end;o({target:"String",proto:!0,forced:e(83063)},{padEnd:function(f){return u(this,f,arguments.length>1?arguments[1]:void 0)}})},68156:function(a,c,e){var o=e(46518),u=e(60533).start;o({target:"String",proto:!0,forced:e(83063)},{padStart:function(f){return u(this,f,arguments.length>1?arguments[1]:void 0)}})},85906:function(a,c,e){var o=e(46518),u=e(79504),f=e(25397),A=e(48981),p=e(655),m=e(26198),y=u([].push),E=u([].join);o({target:"String",stat:!0},{raw:function(C){var T=f(A(C).raw),x=m(T);if(!x)return"";for(var L=arguments.length,D=[],B=0;;){if(y(D,p(T[B++])),B===x)return E(D,"");B<L&&y(D,p(arguments[B]))}}})},42781:function(a,c,e){e(46518)({target:"String",proto:!0},{repeat:e(72333)})},79978:function(a,c,e){var o=e(46518),u=e(69565),f=e(79504),A=e(67750),p=e(94901),m=e(64117),y=e(60788),E=e(655),C=e(55966),T=e(61034),x=e(2478),L=e(78227),D=e(96395),B=L("replace"),O=TypeError,_=f("".indexOf),M=f("".replace),U=f("".slice),Q=Math.max;o({target:"String",proto:!0},{replaceAll:function($,W){var X,tt,V,N,K,at,G,q,et,ot,bt=A(this),Ct=0,Tt="";if(!m($)){if((X=y($))&&(tt=E(A(T($))),!~_(tt,"g")))throw new O("`.replaceAll` does not allow non-global regexes");if(V=C($,B))return u(V,$,bt,W);if(D&&X)return M(E(bt),$,W)}for(N=E(bt),K=E($),(at=p(W))||(W=E(W)),G=K.length,q=Q(1,G),et=_(N,K);et!==-1;)ot=at?E(W(K,et,N)):x(K,N,et,[],void 0,W),Tt+=U(N,Ct,et)+ot,Ct=et+G,et=et+q>N.length?-1:_(N,K,et+q);return Ct<N.length&&(Tt+=U(N,Ct)),Tt}})},25440:function(a,c,e){var o=e(18745),u=e(69565),f=e(79504),A=e(89228),p=e(79039),m=e(28551),y=e(94901),E=e(64117),C=e(91291),T=e(18014),x=e(655),L=e(67750),D=e(57829),B=e(55966),O=e(2478),_=e(56682),M=e(78227)("replace"),U=Math.max,Q=Math.min,$=f([].concat),W=f([].push),X=f("".indexOf),tt=f("".slice),V="a".replace(/./,"$0")==="$0",N=!!/./[M]&&/./[M]("a","$0")==="";A("replace",(function(K,at,G){var q=N?"$":"$0";return[function(et,ot){var bt=L(this),Ct=E(et)?void 0:B(et,M);return Ct?u(Ct,et,bt,ot):u(at,x(bt),et,ot)},function(et,ot){var bt=m(this),Ct=x(et);if(typeof ot=="string"&&X(ot,q)===-1&&X(ot,"$<")===-1){var Tt=G(at,bt,Ct,ot);if(Tt.done)return Tt.value}var $t=y(ot);$t||(ot=x(ot));var Vt,jt=bt.global;jt&&(Vt=bt.unicode,bt.lastIndex=0);for(var ee,ce=[];(ee=_(bt,Ct))!==null&&(W(ce,ee),jt);)x(ee[0])===""&&(bt.lastIndex=D(Ct,T(bt.lastIndex),Vt));for(var se,Se="",Pe=0,je=0;je<ce.length;je++){for(var xe,we=x((ee=ce[je])[0]),en=U(Q(C(ee.index),Ct.length),0),En=[],un=1;un<ee.length;un++)W(En,(se=ee[un])===void 0?se:String(se));var We=ee.groups;if($t){var $e=$([we],En,en,Ct);We!==void 0&&W($e,We),xe=x(o(ot,void 0,$e))}else xe=O(we,Ct,en,En,We,ot);en>=Pe&&(Se+=tt(Ct,Pe,en)+xe,Pe=en+we.length)}return Se+tt(Ct,Pe)}]}),!!p((function(){var K=/./;return K.exec=function(){var at=[];return at.groups={a:"7"},at},"".replace(K,"$<a>")!=="7"}))||!V||N)},5746:function(a,c,e){var o=e(69565),u=e(89228),f=e(28551),A=e(64117),p=e(67750),m=e(3470),y=e(655),E=e(55966),C=e(56682);u("search",(function(T,x,L){return[function(D){var B=p(this),O=A(D)?void 0:E(D,T);return O?o(O,D,B):new RegExp(D)[T](y(B))},function(D){var B=f(this),O=y(D),_=L(x,B,O);if(_.done)return _.value;var M=B.lastIndex;m(M,0)||(B.lastIndex=0);var U=C(B,O);return m(B.lastIndex,M)||(B.lastIndex=M),U===null?-1:U.index}]}))},89195:function(a,c,e){var o=e(46518),u=e(77240);o({target:"String",proto:!0,forced:e(23061)("small")},{small:function(){return u(this,"small","","")}})},90744:function(a,c,e){var o=e(69565),u=e(79504),f=e(89228),A=e(28551),p=e(64117),m=e(67750),y=e(2293),E=e(57829),C=e(18014),T=e(655),x=e(55966),L=e(56682),D=e(58429),B=e(79039),O=D.UNSUPPORTED_Y,_=Math.min,M=u([].push),U=u("".slice),Q=!B((function(){var W=/(?:)/,X=W.exec;W.exec=function(){return X.apply(this,arguments)};var tt="ab".split(W);return tt.length!==2||tt[0]!=="a"||tt[1]!=="b"})),$="abbc".split(/(b)*/)[1]==="c"||"test".split(/(?:)/,-1).length!==4||"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||".".split(/()()/).length>1||"".split(/.?/).length;f("split",(function(W,X,tt){var V="0".split(void 0,0).length?function(N,K){return N===void 0&&K===0?[]:o(X,this,N,K)}:X;return[function(N,K){var at=m(this),G=p(N)?void 0:x(N,W);return G?o(G,N,at,K):o(V,T(at),N,K)},function(N,K){var at=A(this),G=T(N);if(!$){var q=tt(V,at,G,K,V!==X);if(q.done)return q.value}var et=y(at,RegExp),ot=at.unicode,bt=(at.ignoreCase?"i":"")+(at.multiline?"m":"")+(at.unicode?"u":"")+(O?"g":"y"),Ct=new et(O?"^(?:"+at.source+")":at,bt),Tt=K===void 0?4294967295:K>>>0;if(Tt===0)return[];if(G.length===0)return L(Ct,G)===null?[G]:[];for(var $t=0,Vt=0,jt=[];Vt<G.length;){Ct.lastIndex=O?0:Vt;var ee,ce=L(Ct,O?U(G,Vt):G);if(ce===null||(ee=_(C(Ct.lastIndex+(O?Vt:0)),G.length))===$t)Vt=E(G,Vt,ot);else{if(M(jt,U(G,$t,Vt)),jt.length===Tt)return jt;for(var se=1;se<=ce.length-1;se++)if(M(jt,ce[se]),jt.length===Tt)return jt;Vt=$t=ee}}return M(jt,U(G,$t)),jt}]}),$||!Q,O)},11392:function(a,c,e){var o,u=e(46518),f=e(27476),A=e(77347).f,p=e(18014),m=e(655),y=e(60511),E=e(67750),C=e(41436),T=e(96395),x=f("".slice),L=Math.min,D=C("startsWith");u({target:"String",proto:!0,forced:!(!T&&!D&&(o=A(String.prototype,"startsWith"),o&&!o.writable)||D)},{startsWith:function(B){var O=m(E(this));y(B);var _=p(L(arguments.length>1?arguments[1]:void 0,O.length)),M=m(B);return x(O,_,_+M.length)===M}})},46276:function(a,c,e){var o=e(46518),u=e(77240);o({target:"String",proto:!0,forced:e(23061)("strike")},{strike:function(){return u(this,"strike","","")}})},48718:function(a,c,e){var o=e(46518),u=e(77240);o({target:"String",proto:!0,forced:e(23061)("sub")},{sub:function(){return u(this,"sub","","")}})},50375:function(a,c,e){var o=e(46518),u=e(79504),f=e(67750),A=e(91291),p=e(655),m=u("".slice),y=Math.max,E=Math.min;o({target:"String",proto:!0,forced:!"".substr||"ab".substr(-1)!=="b"},{substr:function(C,T){var x,L,D=p(f(this)),B=D.length,O=A(C);return O===1/0&&(O=0),O<0&&(O=y(B+O,0)),(x=T===void 0?B:A(T))<=0||x===1/0||O>=(L=E(O+x,B))?"":m(D,O,L)}})},16308:function(a,c,e){var o=e(46518),u=e(77240);o({target:"String",proto:!0,forced:e(23061)("sup")},{sup:function(){return u(this,"sup","","")}})},67438:function(a,c,e){var o=e(46518),u=e(69565),f=e(79504),A=e(67750),p=e(655),m=e(79039),y=Array,E=f("".charAt),C=f("".charCodeAt),T=f([].join),x="".toWellFormed,L=x&&m((function(){return u(x,1)!=="1"}));o({target:"String",proto:!0,forced:L},{toWellFormed:function(){var D=p(A(this));if(L)return u(x,D);for(var B=D.length,O=y(B),_=0;_<B;_++){var M=C(D,_);(63488&M)!=55296?O[_]=E(D,_):M>=56320||_+1>=B||(64512&C(D,_+1))!=56320?O[_]="�":(O[_]=E(D,_),O[++_]=E(D,_))}return T(O,"")}})},39202:function(a,c,e){e(33313);var o=e(46518),u=e(18866);o({target:"String",proto:!0,name:"trimEnd",forced:"".trimEnd!==u},{trimEnd:u})},58934:function(a,c,e){var o=e(46518),u=e(53487);o({target:"String",proto:!0,name:"trimStart",forced:"".trimLeft!==u},{trimLeft:u})},33313:function(a,c,e){var o=e(46518),u=e(18866);o({target:"String",proto:!0,name:"trimEnd",forced:"".trimRight!==u},{trimRight:u})},43359:function(a,c,e){e(58934);var o=e(46518),u=e(53487);o({target:"String",proto:!0,name:"trimStart",forced:"".trimStart!==u},{trimStart:u})},42762:function(a,c,e){var o=e(46518),u=e(43802).trim;o({target:"String",proto:!0,forced:e(60706)("trim")},{trim:function(){return u(this)}})},66412:function(a,c,e){e(70511)("asyncIterator")},6761:function(a,c,e){var o=e(46518),u=e(44576),f=e(69565),A=e(79504),p=e(96395),m=e(43724),y=e(4495),E=e(79039),C=e(39297),T=e(1625),x=e(28551),L=e(25397),D=e(56969),B=e(655),O=e(6980),_=e(2360),M=e(71072),U=e(38480),Q=e(10298),$=e(33717),W=e(77347),X=e(24913),tt=e(96801),V=e(48773),N=e(36840),K=e(62106),at=e(25745),G=e(66119),q=e(30421),et=e(33392),ot=e(78227),bt=e(1951),Ct=e(70511),Tt=e(58242),$t=e(10687),Vt=e(91181),jt=e(59213).forEach,ee=G("hidden"),ce="Symbol",se="prototype",Se=Vt.set,Pe=Vt.getterFor(ce),je=Object[se],xe=u.Symbol,we=xe&&xe[se],en=u.RangeError,En=u.TypeError,un=u.QObject,We=W.f,$e=X.f,Rn=Q.f,sn=V.f,te=A([].push),Ae=at("symbols"),oe=at("op-symbols"),De=at("wks"),Rt=!un||!un[se]||!un[se].findChild,me=function(re,_e,ve){var Ue=We(je,_e);Ue&&delete je[_e],$e(re,_e,ve),Ue&&re!==je&&$e(je,_e,Ue)},ke=m&&E((function(){return _($e({},"a",{get:function(){return $e(this,"a",{value:7}).a}})).a!==7}))?me:$e,Yn=function(re,_e){var ve=Ae[re]=_(we);return Se(ve,{type:ce,tag:re,description:_e}),m||(ve.description=_e),ve},Ne=function(re,_e,ve){re===je&&Ne(oe,_e,ve),x(re);var Ue=D(_e);return x(ve),C(Ae,Ue)?(ve.enumerable?(C(re,ee)&&re[ee][Ue]&&(re[ee][Ue]=!1),ve=_(ve,{enumerable:O(0,!1)})):(C(re,ee)||$e(re,ee,O(1,_(null))),re[ee][Ue]=!0),ke(re,Ue,ve)):$e(re,Ue,ve)},Ve=function(re,_e){x(re);var ve=L(_e),Ue=M(ve).concat(dn(ve));return jt(Ue,(function(qe){m&&!f(It,ve,qe)||Ne(re,qe,ve[qe])})),re},It=function(re){var _e=D(re),ve=f(sn,this,_e);return!(this===je&&C(Ae,_e)&&!C(oe,_e))&&(!(ve||!C(this,_e)||!C(Ae,_e)||C(this,ee)&&this[ee][_e])||ve)},Te=function(re,_e){var ve=L(re),Ue=D(_e);if(ve!==je||!C(Ae,Ue)||C(oe,Ue)){var qe=We(ve,Ue);return!qe||!C(Ae,Ue)||C(ve,ee)&&ve[ee][Ue]||(qe.enumerable=!0),qe}},an=function(re){var _e=Rn(L(re)),ve=[];return jt(_e,(function(Ue){C(Ae,Ue)||C(q,Ue)||te(ve,Ue)})),ve},dn=function(re){var _e=re===je,ve=Rn(_e?oe:L(re)),Ue=[];return jt(ve,(function(qe){!C(Ae,qe)||_e&&!C(je,qe)||te(Ue,Ae[qe])})),Ue};y||(xe=function(){if(T(we,this))throw new En("Symbol is not a constructor");var re=arguments.length&&arguments[0]!==void 0?B(arguments[0]):void 0,_e=et(re),ve=function(Ue){var qe=this===void 0?u:this;qe===je&&f(ve,oe,Ue),C(qe,ee)&&C(qe[ee],_e)&&(qe[ee][_e]=!1);var gn=O(1,Ue);try{ke(qe,_e,gn)}catch(ln){if(!(ln instanceof en))throw ln;me(qe,_e,gn)}};return m&&Rt&&ke(je,_e,{configurable:!0,set:ve}),Yn(_e,re)},N(we=xe[se],"toString",(function(){return Pe(this).tag})),N(xe,"withoutSetter",(function(re){return Yn(et(re),re)})),V.f=It,X.f=Ne,tt.f=Ve,W.f=Te,U.f=Q.f=an,$.f=dn,bt.f=function(re){return Yn(ot(re),re)},m&&(K(we,"description",{configurable:!0,get:function(){return Pe(this).description}}),p||N(je,"propertyIsEnumerable",It,{unsafe:!0}))),o({global:!0,constructor:!0,wrap:!0,forced:!y,sham:!y},{Symbol:xe}),jt(M(De),(function(re){Ct(re)})),o({target:ce,stat:!0,forced:!y},{useSetter:function(){Rt=!0},useSimple:function(){Rt=!1}}),o({target:"Object",stat:!0,forced:!y,sham:!m},{create:function(re,_e){return _e===void 0?_(re):Ve(_(re),_e)},defineProperty:Ne,defineProperties:Ve,getOwnPropertyDescriptor:Te}),o({target:"Object",stat:!0,forced:!y},{getOwnPropertyNames:an}),Tt(),$t(xe,ce),q[ee]=!0},89463:function(a,c,e){var o=e(46518),u=e(43724),f=e(44576),A=e(79504),p=e(39297),m=e(94901),y=e(1625),E=e(655),C=e(62106),T=e(77740),x=f.Symbol,L=x&&x.prototype;if(u&&m(x)&&(!("description"in L)||x().description!==void 0)){var D={},B=function(){var W=arguments.length<1||arguments[0]===void 0?void 0:E(arguments[0]),X=y(L,this)?new x(W):W===void 0?x():x(W);return W===""&&(D[X]=!0),X};T(B,x),B.prototype=L,L.constructor=B;var O=String(x("description detection"))==="Symbol(description detection)",_=A(L.valueOf),M=A(L.toString),U=/^Symbol\((.*)\)[^)]+$/,Q=A("".replace),$=A("".slice);C(L,"description",{configurable:!0,get:function(){var W=_(this);if(p(D,W))return"";var X=M(W),tt=O?$(X,7,-1):Q(X,U,"$1");return tt===""?void 0:tt}}),o({global:!0,constructor:!0,forced:!0},{Symbol:B})}},81510:function(a,c,e){var o=e(46518),u=e(97751),f=e(39297),A=e(655),p=e(25745),m=e(91296),y=p("string-to-symbol-registry"),E=p("symbol-to-string-registry");o({target:"Symbol",stat:!0,forced:!m},{for:function(C){var T=A(C);if(f(y,T))return y[T];var x=u("Symbol")(T);return y[T]=x,E[x]=T,x}})},60193:function(a,c,e){e(70511)("hasInstance")},92168:function(a,c,e){e(70511)("isConcatSpreadable")},2259:function(a,c,e){e(70511)("iterator")},52675:function(a,c,e){e(6761),e(81510),e(97812),e(33110),e(49773)},97812:function(a,c,e){var o=e(46518),u=e(39297),f=e(10757),A=e(16823),p=e(25745),m=e(91296),y=p("symbol-to-string-registry");o({target:"Symbol",stat:!0,forced:!m},{keyFor:function(E){if(!f(E))throw new TypeError(A(E)+" is not a symbol");if(u(y,E))return y[E]}})},83142:function(a,c,e){e(70511)("matchAll")},86964:function(a,c,e){e(70511)("match")},83237:function(a,c,e){e(70511)("replace")},61833:function(a,c,e){e(70511)("search")},67947:function(a,c,e){e(70511)("species")},31073:function(a,c,e){e(70511)("split")},45700:function(a,c,e){var o=e(70511),u=e(58242);o("toPrimitive"),u()},78125:function(a,c,e){var o=e(97751),u=e(70511),f=e(10687);u("toStringTag"),f(o("Symbol"),"Symbol")},20326:function(a,c,e){e(70511)("unscopables")},48140:function(a,c,e){var o=e(94644),u=e(26198),f=e(91291),A=o.aTypedArray;(0,o.exportTypedArrayMethod)("at",(function(p){var m=A(this),y=u(m),E=f(p),C=E>=0?E:y+E;return C<0||C>=y?void 0:m[C]}))},81630:function(a,c,e){var o=e(79504),u=e(94644),f=o(e(57029)),A=u.aTypedArray;(0,u.exportTypedArrayMethod)("copyWithin",(function(p,m){return f(A(this),p,m,arguments.length>2?arguments[2]:void 0)}))},72170:function(a,c,e){var o=e(94644),u=e(59213).every,f=o.aTypedArray;(0,o.exportTypedArrayMethod)("every",(function(A){return u(f(this),A,arguments.length>1?arguments[1]:void 0)}))},75044:function(a,c,e){var o=e(94644),u=e(84373),f=e(75854),A=e(36955),p=e(69565),m=e(79504),y=e(79039),E=o.aTypedArray,C=o.exportTypedArrayMethod,T=m("".slice);C("fill",(function(x){var L=arguments.length;E(this);var D=T(A(this),0,3)==="Big"?f(x):+x;return p(u,this,D,L>1?arguments[1]:void 0,L>2?arguments[2]:void 0)}),y((function(){var x=0;return new Int8Array(2).fill({valueOf:function(){return x++}}),x!==1})))},69539:function(a,c,e){var o=e(94644),u=e(59213).filter,f=e(29948),A=o.aTypedArray;(0,o.exportTypedArrayMethod)("filter",(function(p){var m=u(A(this),p,arguments.length>1?arguments[1]:void 0);return f(this,m)}))},89955:function(a,c,e){var o=e(94644),u=e(59213).findIndex,f=o.aTypedArray;(0,o.exportTypedArrayMethod)("findIndex",(function(A){return u(f(this),A,arguments.length>1?arguments[1]:void 0)}))},91134:function(a,c,e){var o=e(94644),u=e(43839).findLastIndex,f=o.aTypedArray;(0,o.exportTypedArrayMethod)("findLastIndex",(function(A){return u(f(this),A,arguments.length>1?arguments[1]:void 0)}))},21903:function(a,c,e){var o=e(94644),u=e(43839).findLast,f=o.aTypedArray;(0,o.exportTypedArrayMethod)("findLast",(function(A){return u(f(this),A,arguments.length>1?arguments[1]:void 0)}))},31694:function(a,c,e){var o=e(94644),u=e(59213).find,f=o.aTypedArray;(0,o.exportTypedArrayMethod)("find",(function(A){return u(f(this),A,arguments.length>1?arguments[1]:void 0)}))},34594:function(a,c,e){e(15823)("Float32",(function(o){return function(u,f,A){return o(this,u,f,A)}}))},29833:function(a,c,e){e(15823)("Float64",(function(o){return function(u,f,A){return o(this,u,f,A)}}))},33206:function(a,c,e){var o=e(94644),u=e(59213).forEach,f=o.aTypedArray;(0,o.exportTypedArrayMethod)("forEach",(function(A){u(f(this),A,arguments.length>1?arguments[1]:void 0)}))},48345:function(a,c,e){var o=e(72805);(0,e(94644).exportTypedArrayStaticMethod)("from",e(43251),o)},44496:function(a,c,e){var o=e(94644),u=e(19617).includes,f=o.aTypedArray;(0,o.exportTypedArrayMethod)("includes",(function(A){return u(f(this),A,arguments.length>1?arguments[1]:void 0)}))},66651:function(a,c,e){var o=e(94644),u=e(19617).indexOf,f=o.aTypedArray;(0,o.exportTypedArrayMethod)("indexOf",(function(A){return u(f(this),A,arguments.length>1?arguments[1]:void 0)}))},72107:function(a,c,e){e(15823)("Int16",(function(o){return function(u,f,A){return o(this,u,f,A)}}))},95477:function(a,c,e){e(15823)("Int32",(function(o){return function(u,f,A){return o(this,u,f,A)}}))},46594:function(a,c,e){e(15823)("Int8",(function(o){return function(u,f,A){return o(this,u,f,A)}}))},12887:function(a,c,e){var o=e(44576),u=e(79039),f=e(79504),A=e(94644),p=e(23792),m=e(78227)("iterator"),y=o.Uint8Array,E=f(p.values),C=f(p.keys),T=f(p.entries),x=A.aTypedArray,L=A.exportTypedArrayMethod,D=y&&y.prototype,B=!u((function(){D[m].call([1])})),O=!!D&&D.values&&D[m]===D.values&&D.values.name==="values",_=function(){return E(x(this))};L("entries",(function(){return T(x(this))}),B),L("keys",(function(){return C(x(this))}),B),L("values",_,B||!O,{name:"values"}),L(m,_,B||!O,{name:"values"})},19369:function(a,c,e){var o=e(94644),u=e(79504),f=o.aTypedArray,A=o.exportTypedArrayMethod,p=u([].join);A("join",(function(m){return p(f(this),m)}))},66812:function(a,c,e){var o=e(94644),u=e(18745),f=e(8379),A=o.aTypedArray;(0,o.exportTypedArrayMethod)("lastIndexOf",(function(p){var m=arguments.length;return u(f,A(this),m>1?[p,arguments[1]]:[p])}))},8995:function(a,c,e){var o=e(94644),u=e(59213).map,f=o.aTypedArray,A=o.getTypedArrayConstructor;(0,o.exportTypedArrayMethod)("map",(function(p){return u(f(this),p,arguments.length>1?arguments[1]:void 0,(function(m,y){return new(A(m))(y)}))}))},52568:function(a,c,e){var o=e(94644),u=e(72805),f=o.aTypedArrayConstructor;(0,o.exportTypedArrayStaticMethod)("of",(function(){for(var A=0,p=arguments.length,m=new(f(this))(p);p>A;)m[A]=arguments[A++];return m}),u)},36072:function(a,c,e){var o=e(94644),u=e(80926).right,f=o.aTypedArray;(0,o.exportTypedArrayMethod)("reduceRight",(function(A){var p=arguments.length;return u(f(this),A,p,p>1?arguments[1]:void 0)}))},31575:function(a,c,e){var o=e(94644),u=e(80926).left,f=o.aTypedArray;(0,o.exportTypedArrayMethod)("reduce",(function(A){var p=arguments.length;return u(f(this),A,p,p>1?arguments[1]:void 0)}))},88747:function(a,c,e){var o=e(94644),u=o.aTypedArray,f=o.exportTypedArrayMethod,A=Math.floor;f("reverse",(function(){for(var p,m=this,y=u(m).length,E=A(y/2),C=0;C<E;)p=m[C],m[C++]=m[--y],m[y]=p;return m}))},28845:function(a,c,e){var o=e(44576),u=e(69565),f=e(94644),A=e(26198),p=e(58229),m=e(48981),y=e(79039),E=o.RangeError,C=o.Int8Array,T=C&&C.prototype,x=T&&T.set,L=f.aTypedArray,D=f.exportTypedArrayMethod,B=!y((function(){var _=new Uint8ClampedArray(2);return u(x,_,{length:1,0:3},1),_[1]!==3})),O=B&&f.NATIVE_ARRAY_BUFFER_VIEWS&&y((function(){var _=new C(2);return _.set(1),_.set("2",1),_[0]!==0||_[1]!==2}));D("set",(function(_){L(this);var M=p(arguments.length>1?arguments[1]:void 0,1),U=m(_);if(B)return u(x,this,U,M);var Q=this.length,$=A(U),W=0;if($+M>Q)throw new E("Wrong length");for(;W<$;)this[M+W]=U[W++]}),!B||O)},29423:function(a,c,e){var o=e(94644),u=e(79039),f=e(67680),A=o.aTypedArray,p=o.getTypedArrayConstructor;(0,o.exportTypedArrayMethod)("slice",(function(m,y){for(var E=f(A(this),m,y),C=p(this),T=0,x=E.length,L=new C(x);x>T;)L[T]=E[T++];return L}),u((function(){new Int8Array(1).slice()})))},57301:function(a,c,e){var o=e(94644),u=e(59213).some,f=o.aTypedArray;(0,o.exportTypedArrayMethod)("some",(function(A){return u(f(this),A,arguments.length>1?arguments[1]:void 0)}))},373:function(a,c,e){var o=e(44576),u=e(27476),f=e(79039),A=e(79306),p=e(74488),m=e(94644),y=e(13709),E=e(13763),C=e(39519),T=e(3607),x=m.aTypedArray,L=m.exportTypedArrayMethod,D=o.Uint16Array,B=D&&u(D.prototype.sort),O=!(!B||f((function(){B(new D(2),null)}))&&f((function(){B(new D(2),{})}))),_=!!B&&!f((function(){if(C)return C<74;if(y)return y<67;if(E)return!0;if(T)return T<602;var M,U,Q=new D(516),$=Array(516);for(M=0;M<516;M++)U=M%4,Q[M]=515-M,$[M]=M-2*U+3;for(B(Q,(function(W,X){return(W/4|0)-(X/4|0)})),M=0;M<516;M++)if(Q[M]!==$[M])return!0}));L("sort",(function(M){return M!==void 0&&A(M),_?B(this,M):p(x(this),(function(U){return function(Q,$){return U!==void 0?+U(Q,$)||0:$!=$?-1:Q!=Q?1:Q===0&&$===0?1/Q>0&&1/$<0?1:-1:Q>$}})(M))}),!_||O)},86614:function(a,c,e){var o=e(94644),u=e(18014),f=e(35610),A=o.aTypedArray,p=o.getTypedArrayConstructor;(0,o.exportTypedArrayMethod)("subarray",(function(m,y){var E=A(this),C=E.length,T=f(m,C);return new(p(E))(E.buffer,E.byteOffset+T*E.BYTES_PER_ELEMENT,u((y===void 0?C:f(y,C))-T))}))},41405:function(a,c,e){var o=e(44576),u=e(18745),f=e(94644),A=e(79039),p=e(67680),m=o.Int8Array,y=f.aTypedArray,E=f.exportTypedArrayMethod,C=[].toLocaleString,T=!!m&&A((function(){C.call(new m(1))}));E("toLocaleString",(function(){return u(C,T?p(y(this)):y(this),p(arguments))}),A((function(){return[1,2].toLocaleString()!==new m([1,2]).toLocaleString()}))||!A((function(){m.prototype.toLocaleString.call([1,2])})))},37467:function(a,c,e){var o=e(37628),u=e(94644),f=u.aTypedArray,A=u.exportTypedArrayMethod,p=u.getTypedArrayConstructor;A("toReversed",(function(){return o(f(this),p(this))}))},44732:function(a,c,e){var o=e(94644),u=e(79504),f=e(79306),A=e(35370),p=o.aTypedArray,m=o.getTypedArrayConstructor,y=o.exportTypedArrayMethod,E=u(o.TypedArrayPrototype.sort);y("toSorted",(function(C){C!==void 0&&f(C);var T=p(this),x=A(m(T),T);return E(x,C)}))},33684:function(a,c,e){var o=e(94644).exportTypedArrayMethod,u=e(79039),f=e(44576),A=e(79504),p=f.Uint8Array,m=p&&p.prototype||{},y=[].toString,E=A([].join);u((function(){y.call({})}))&&(y=function(){return E(this)});var C=m.toString!==y;o("toString",y,C)},3690:function(a,c,e){e(15823)("Uint16",(function(o){return function(u,f,A){return o(this,u,f,A)}}))},61740:function(a,c,e){e(15823)("Uint32",(function(o){return function(u,f,A){return o(this,u,f,A)}}))},21489:function(a,c,e){e(15823)("Uint8",(function(o){return function(u,f,A){return o(this,u,f,A)}}))},22134:function(a,c,e){e(15823)("Uint8",(function(o){return function(u,f,A){return o(this,u,f,A)}}),!0)},79577:function(a,c,e){var o=e(39928),u=e(94644),f=e(18727),A=e(91291),p=e(75854),m=u.aTypedArray,y=u.getTypedArrayConstructor,E=u.exportTypedArrayMethod,C=!!(function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(T){return T===8}})();E("with",function(T,x){var L=m(this),D=A(T),B=f(L)?p(x):+x;return o(L,y(L),D,B)},!C)},88267:function(a,c,e){var o=e(46518),u=e(79504),f=e(655),A=String.fromCharCode,p=u("".charAt),m=u(/./.exec),y=u("".slice),E=/^[\da-f]{2}$/i,C=/^[\da-f]{4}$/i;o({global:!0},{unescape:function(T){for(var x,L,D=f(T),B="",O=D.length,_=0;_<O;){if((x=p(D,_++))==="%"){if(p(D,_)==="u"){if(L=y(D,_+1,_+5),m(C,L)){B+=A(parseInt(L,16)),_+=5;continue}}else if(L=y(D,_,_+2),m(E,L)){B+=A(parseInt(L,16)),_+=2;continue}}B+=x}return B}})},65746:function(a,c,e){var o,u=e(92744),f=e(44576),A=e(79504),p=e(56279),m=e(3451),y=e(16468),E=e(91625),C=e(20034),T=e(91181).enforce,x=e(79039),L=e(58622),D=Object,B=Array.isArray,O=D.isExtensible,_=D.isFrozen,M=D.isSealed,U=D.freeze,Q=D.seal,$=!f.ActiveXObject&&"ActiveXObject"in f,W=function(G){return function(){return G(this,arguments.length?arguments[0]:void 0)}},X=y("WeakMap",W,E),tt=X.prototype,V=A(tt.set);if(L)if($){o=E.getConstructor(W,"WeakMap",!0),m.enable();var N=A(tt.delete),K=A(tt.has),at=A(tt.get);p(tt,{delete:function(G){if(C(G)&&!O(G)){var q=T(this);return q.frozen||(q.frozen=new o),N(this,G)||q.frozen.delete(G)}return N(this,G)},has:function(G){if(C(G)&&!O(G)){var q=T(this);return q.frozen||(q.frozen=new o),K(this,G)||q.frozen.has(G)}return K(this,G)},get:function(G){if(C(G)&&!O(G)){var q=T(this);return q.frozen||(q.frozen=new o),K(this,G)?at(this,G):q.frozen.get(G)}return at(this,G)},set:function(G,q){if(C(G)&&!O(G)){var et=T(this);et.frozen||(et.frozen=new o),K(this,G)?V(this,G,q):et.frozen.set(G,q)}else V(this,G,q);return this}})}else u&&x((function(){var G=U([]);return V(new X,G,1),!_(G)}))&&p(tt,{set:function(G,q){var et;return B(G)&&(_(G)?et=U:M(G)&&(et=Q)),V(this,G,q),et&&et(G),this}})},73772:function(a,c,e){e(65746)},5240:function(a,c,e){e(16468)("WeakSet",(function(o){return function(){return o(this,arguments.length?arguments[0]:void 0)}}),e(91625))},30958:function(a,c,e){e(5240)},2945:function(a,c,e){var o=e(46518),u=e(44576),f=e(97751),A=e(79504),p=e(69565),m=e(79039),y=e(655),E=e(22812),C=e(92804).c2i,T=/[^\d+/a-z]/i,x=/[\t\n\f\r ]+/g,L=/[=]{1,2}$/,D=f("atob"),B=String.fromCharCode,O=A("".charAt),_=A("".replace),M=A(T.exec),U=!!D&&!m((function(){return D("aGk=")!=="hi"})),Q=U&&m((function(){return D(" ")!==""})),$=U&&!m((function(){D("a")})),W=U&&!m((function(){D()})),X=U&&D.length!==1;o({global:!0,bind:!0,enumerable:!0,forced:!U||Q||$||W||X},{atob:function(tt){if(E(arguments.length,1),U&&!Q&&!$)return p(D,u,tt);var V,N,K,at=_(y(tt),x,""),G="",q=0,et=0;if(at.length%4==0&&(at=_(at,L,"")),(V=at.length)%4==1||M(T,at))throw new(f("DOMException"))("The string is not correctly encoded","InvalidCharacterError");for(;q<V;)N=O(at,q++),K=et%4?64*K+C[N]:C[N],et++%4&&(G+=B(255&K>>(-2*et&6)));return G}})},42207:function(a,c,e){var o=e(46518),u=e(44576),f=e(97751),A=e(79504),p=e(69565),m=e(79039),y=e(655),E=e(22812),C=e(92804).i2c,T=f("btoa"),x=A("".charAt),L=A("".charCodeAt),D=!!T&&!m((function(){return T("hi")!=="aGk="})),B=D&&!m((function(){T()})),O=D&&m((function(){return T(null)!=="bnVsbA=="})),_=D&&T.length!==1;o({global:!0,bind:!0,enumerable:!0,forced:!D||B||O||_},{btoa:function(M){if(E(arguments.length,1),D)return p(T,u,y(M));for(var U,Q,$=y(M),W="",X=0,tt=C;x($,X)||(tt="=",X%1);){if((Q=L($,X+=.75))>255)throw new(f("DOMException"))("The string contains characters outside of the Latin1 range","InvalidCharacterError");W+=x(tt,63&(U=U<<8|Q)>>8-X%1*8)}return W}})},86368:function(a,c,e){var o=e(46518),u=e(44576),f=e(59225).clear;o({global:!0,bind:!0,enumerable:!0,forced:u.clearImmediate!==f},{clearImmediate:f})},23500:function(a,c,e){var o=e(44576),u=e(67400),f=e(79296),A=e(90235),p=e(66699),m=function(E){if(E&&E.forEach!==A)try{p(E,"forEach",A)}catch{E.forEach=A}};for(var y in u)u[y]&&m(o[y]&&o[y].prototype);m(f)},62953:function(a,c,e){var o=e(44576),u=e(67400),f=e(79296),A=e(23792),p=e(66699),m=e(10687),y=e(78227)("iterator"),E=A.values,C=function(x,L){if(x){if(x[y]!==E)try{p(x,y,E)}catch{x[y]=E}if(m(x,L,!0),u[L]){for(var D in A)if(x[D]!==A[D])try{p(x,D,A[D])}catch{x[D]=A[D]}}}};for(var T in u)C(o[T]&&o[T].prototype,T);C(f,"DOMTokenList")},55815:function(a,c,e){var o=e(46518),u=e(97751),f=e(89429),A=e(79039),p=e(2360),m=e(6980),y=e(24913).f,E=e(36840),C=e(62106),T=e(39297),x=e(90679),L=e(28551),D=e(77536),B=e(32603),O=e(55002),_=e(16193),M=e(91181),U=e(43724),Q=e(96395),$="DOMException",W="DATA_CLONE_ERR",X=u("Error"),tt=u($)||(function(){try{new(u("MessageChannel")||f("worker_threads").MessageChannel)().port1.postMessage(new WeakMap)}catch(we){if(we.name===W&&we.code===25)return we.constructor}})(),V=tt&&tt.prototype,N=X.prototype,K=M.set,at=M.getterFor($),G="stack"in new X($),q=function(we){return T(O,we)&&O[we].m?O[we].c:0},et=function(){x(this,ot);var we=arguments.length,en=B(we<1?void 0:arguments[0]),En=B(we<2?void 0:arguments[1],"Error"),un=q(En);if(K(this,{type:$,name:En,message:en,code:un}),U||(this.name=En,this.message=en,this.code=un),G){var We=new X(en);We.name=$,y(this,"stack",m(1,_(We.stack,1)))}},ot=et.prototype=p(N),bt=function(we){return{enumerable:!0,configurable:!0,get:we}},Ct=function(we){return bt((function(){return at(this)[we]}))};U&&(C(ot,"code",Ct("code")),C(ot,"message",Ct("message")),C(ot,"name",Ct("name"))),y(ot,"constructor",m(1,et));var Tt=A((function(){return!(new tt instanceof X)})),$t=Tt||A((function(){return N.toString!==D||String(new tt(1,2))!=="2: 1"})),Vt=Tt||A((function(){return new tt(1,"DataCloneError").code!==25})),jt=Tt||tt[W]!==25||V[W]!==25,ee=Q?$t||Vt||jt:Tt;o({global:!0,constructor:!0,forced:ee},{DOMException:ee?et:tt});var ce=u($),se=ce.prototype;for(var Se in $t&&(Q||tt===ce)&&E(se,"toString",D),Vt&&U&&tt===ce&&C(se,"code",bt((function(){return q(L(this).name)}))),O)if(T(O,Se)){var Pe=O[Se],je=Pe.s,xe=m(6,Pe.c);T(ce,je)||y(ce,je,xe),T(se,je)||y(se,je,xe)}},64979:function(a,c,e){var o=e(46518),u=e(44576),f=e(97751),A=e(6980),p=e(24913).f,m=e(39297),y=e(90679),E=e(23167),C=e(32603),T=e(55002),x=e(16193),L=e(43724),D=e(96395),B="DOMException",O=f("Error"),_=f(B),M=function(){y(this,U);var q=arguments.length,et=C(q<1?void 0:arguments[0]),ot=C(q<2?void 0:arguments[1],"Error"),bt=new _(et,ot),Ct=new O(et);return Ct.name=B,p(bt,"stack",A(1,x(Ct.stack,1))),E(bt,this,M),bt},U=M.prototype=_.prototype,Q="stack"in new O(B),$="stack"in new _(1,2),W=_&&L&&Object.getOwnPropertyDescriptor(u,B),X=!(!W||W.writable&&W.configurable),tt=Q&&!X&&!$;o({global:!0,constructor:!0,forced:D||tt},{DOMException:tt?M:_});var V=f(B),N=V.prototype;if(N.constructor!==V){for(var K in D||p(N,"constructor",A(1,V)),T)if(m(T,K)){var at=T[K],G=at.s;m(V,G)||p(V,G,A(6,at.c))}}},79739:function(a,c,e){var o=e(97751),u="DOMException";e(10687)(o(u),u)},59848:function(a,c,e){e(86368),e(29309)},122:function(a,c,e){var o=e(46518),u=e(44576),f=e(91955),A=e(79306),p=e(22812),m=e(79039),y=e(43724);o({global:!0,enumerable:!0,dontCallGetSet:!0,forced:m((function(){return y&&Object.getOwnPropertyDescriptor(u,"queueMicrotask").value.length!==1}))},{queueMicrotask:function(E){p(arguments.length,1),f(A(E))}})},13611:function(a,c,e){var o=e(46518),u=e(44576),f=e(62106),A=e(43724),p=TypeError,m=Object.defineProperty,y=u.self!==u;try{if(A){var E=Object.getOwnPropertyDescriptor(u,"self");!y&&E&&E.get&&E.enumerable||f(u,"self",{get:function(){return u},set:function(C){if(this!==u)throw new p("Illegal invocation");m(u,"self",{value:C,writable:!0,configurable:!0,enumerable:!0})},configurable:!0,enumerable:!0})}else o({global:!0,simple:!0,forced:y},{self:u})}catch{}},29309:function(a,c,e){var o=e(46518),u=e(44576),f=e(59225).set,A=e(79472),p=u.setImmediate?A(f,!1):f;o({global:!0,bind:!0,enumerable:!0,forced:u.setImmediate!==p},{setImmediate:p})},15575:function(a,c,e){var o=e(46518),u=e(44576),f=e(79472)(u.setInterval,!0);o({global:!0,bind:!0,forced:u.setInterval!==f},{setInterval:f})},24599:function(a,c,e){var o=e(46518),u=e(44576),f=e(79472)(u.setTimeout,!0);o({global:!0,bind:!0,forced:u.setTimeout!==f},{setTimeout:f})},71678:function(a,c,e){var o,u=e(96395),f=e(46518),A=e(44576),p=e(97751),m=e(79504),y=e(79039),E=e(33392),C=e(94901),T=e(33517),x=e(64117),L=e(20034),D=e(10757),B=e(72652),O=e(28551),_=e(36955),M=e(39297),U=e(97040),Q=e(66699),$=e(26198),W=e(22812),X=e(61034),tt=e(72248),V=e(94402),N=e(38469),K=e(94483),at=e(24659),G=e(1548),q=A.Object,et=A.Array,ot=A.Date,bt=A.Error,Ct=A.TypeError,Tt=A.PerformanceMark,$t=p("DOMException"),Vt=tt.Map,jt=tt.has,ee=tt.get,ce=tt.set,se=V.Set,Se=V.add,Pe=V.has,je=p("Object","keys"),xe=m([].push),we=m((!0).valueOf),en=m(1 .valueOf),En=m("".valueOf),un=m(ot.prototype.getTime),We=E("structuredClone"),$e="DataCloneError",Rn="Transferring",sn=function(It){return!y((function(){var Te=new A.Set([7]),an=It(Te),dn=It(q(7));return an===Te||!an.has(7)||!L(dn)||+dn!=7}))&&It},te=function(It,Te){return!y((function(){var an=new Te,dn=It({a:an,b:an});return!(dn&&dn.a===dn.b&&dn.a instanceof Te&&dn.a.stack===an.stack)}))},Ae=A.structuredClone,oe=u||!te(Ae,bt)||!te(Ae,$t)||(o=Ae,!!y((function(){var It=o(new A.AggregateError([1],We,{cause:3}));return It.name!=="AggregateError"||It.errors[0]!==1||It.message!==We||It.cause!==3}))),De=!Ae&&sn((function(It){return new Tt(We,{detail:It}).detail})),Rt=sn(Ae)||De,me=function(It){throw new $t("Uncloneable type: "+It,$e)},ke=function(It,Te){throw new $t((Te||"Cloning")+" of "+It+" cannot be properly polyfilled in this engine",$e)},Yn=function(It,Te){return Rt||ke(Te),Rt(It)},Ne=function(It,Te,an){if(jt(Te,It))return ee(Te,It);var dn,re,_e,ve,Ue,qe;if((an||_(It))==="SharedArrayBuffer")dn=Rt?Rt(It):It;else{var gn=A.DataView;gn||C(It.slice)||ke("ArrayBuffer");try{if(C(It.slice)&&!It.resizable)dn=It.slice(0);else for(re=It.byteLength,_e=("maxByteLength"in It)?{maxByteLength:It.maxByteLength}:void 0,dn=new ArrayBuffer(re,_e),ve=new gn(It),Ue=new gn(dn),qe=0;qe<re;qe++)Ue.setUint8(qe,ve.getUint8(qe))}catch{throw new $t("ArrayBuffer is detached",$e)}}return ce(Te,It,dn),dn},Ve=function(It,Te){if(D(It)&&me("Symbol"),!L(It))return It;if(Te){if(jt(Te,It))return ee(Te,It)}else Te=new Vt;var an,dn,re,_e,ve,Ue,qe,gn,ln=_(It);switch(ln){case"Array":re=et($(It));break;case"Object":re={};break;case"Map":re=new Vt;break;case"Set":re=new se;break;case"RegExp":re=new RegExp(It.source,X(It));break;case"Error":switch(dn=It.name){case"AggregateError":re=new(p(dn))([]);break;case"EvalError":case"RangeError":case"ReferenceError":case"SuppressedError":case"SyntaxError":case"TypeError":case"URIError":re=new(p(dn));break;case"CompileError":case"LinkError":case"RuntimeError":re=new(p("WebAssembly",dn));break;default:re=new bt}break;case"DOMException":re=new $t(It.message,It.name);break;case"ArrayBuffer":case"SharedArrayBuffer":re=Ne(It,Te,ln);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float16Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":Ue=ln==="DataView"?It.byteLength:It.length,re=(function(Wt,Le,He,Me,hn){var rn=A[Le];return L(rn)||ke(Le),new rn(Ne(Wt.buffer,hn),He,Me)})(It,ln,It.byteOffset,Ue,Te);break;case"DOMQuad":try{re=new DOMQuad(Ve(It.p1,Te),Ve(It.p2,Te),Ve(It.p3,Te),Ve(It.p4,Te))}catch{re=Yn(It,ln)}break;case"File":if(Rt)try{re=Rt(It),_(re)!==ln&&(re=void 0)}catch{}if(!re)try{re=new File([It],It.name,It)}catch{}re||ke(ln);break;case"FileList":if(_e=(function(){var Wt;try{Wt=new A.DataTransfer}catch{try{Wt=new A.ClipboardEvent("").clipboardData}catch{}}return Wt&&Wt.items&&Wt.files?Wt:null})()){for(ve=0,Ue=$(It);ve<Ue;ve++)_e.items.add(Ve(It[ve],Te));re=_e.files}else re=Yn(It,ln);break;case"ImageData":try{re=new ImageData(Ve(It.data,Te),It.width,It.height,{colorSpace:It.colorSpace})}catch{re=Yn(It,ln)}break;default:if(Rt)re=Rt(It);else switch(ln){case"BigInt":re=q(It.valueOf());break;case"Boolean":re=q(we(It));break;case"Number":re=q(en(It));break;case"String":re=q(En(It));break;case"Date":re=new ot(un(It));break;case"Blob":try{re=It.slice(0,It.size,It.type)}catch{ke(ln)}break;case"DOMPoint":case"DOMPointReadOnly":an=A[ln];try{re=an.fromPoint?an.fromPoint(It):new an(It.x,It.y,It.z,It.w)}catch{ke(ln)}break;case"DOMRect":case"DOMRectReadOnly":an=A[ln];try{re=an.fromRect?an.fromRect(It):new an(It.x,It.y,It.width,It.height)}catch{ke(ln)}break;case"DOMMatrix":case"DOMMatrixReadOnly":an=A[ln];try{re=an.fromMatrix?an.fromMatrix(It):new an(It)}catch{ke(ln)}break;case"AudioData":case"VideoFrame":C(It.clone)||ke(ln);try{re=It.clone()}catch{me(ln)}break;case"CropTarget":case"CryptoKey":case"FileSystemDirectoryHandle":case"FileSystemFileHandle":case"FileSystemHandle":case"GPUCompilationInfo":case"GPUCompilationMessage":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":ke(ln);default:me(ln)}}switch(ce(Te,It,re),ln){case"Array":case"Object":for(qe=je(It),ve=0,Ue=$(qe);ve<Ue;ve++)gn=qe[ve],U(re,gn,Ve(It[gn],Te));break;case"Map":It.forEach((function(Wt,Le){ce(re,Ve(Le,Te),Ve(Wt,Te))}));break;case"Set":It.forEach((function(Wt){Se(re,Ve(Wt,Te))}));break;case"Error":Q(re,"message",Ve(It.message,Te)),M(It,"cause")&&Q(re,"cause",Ve(It.cause,Te)),dn==="AggregateError"?re.errors=Ve(It.errors,Te):dn==="SuppressedError"&&(re.error=Ve(It.error,Te),re.suppressed=Ve(It.suppressed,Te));case"DOMException":at&&Q(re,"stack",Ve(It.stack,Te))}return re};f({global:!0,enumerable:!0,sham:!G,forced:oe},{structuredClone:function(It){var Te,an,dn=W(arguments.length,1)>1&&!x(arguments[1])?O(arguments[1]):void 0,re=dn?dn.transfer:void 0;re!==void 0&&(an=(function(ve,Ue){if(!L(ve))throw new Ct("Transfer option cannot be converted to a sequence");var qe=[];B(ve,(function(Tn){xe(qe,O(Tn))}));for(var gn,ln,Wt,Le,He,Me=0,hn=$(qe),rn=new se;Me<hn;){if(gn=qe[Me++],(ln=_(gn))==="ArrayBuffer"?Pe(rn,gn):jt(Ue,gn))throw new $t("Duplicate transferable",$e);if(ln!=="ArrayBuffer"){if(G)Le=Ae(gn,{transfer:[gn]});else switch(ln){case"ImageBitmap":Wt=A.OffscreenCanvas,T(Wt)||ke(ln,Rn);try{(He=new Wt(gn.width,gn.height)).getContext("bitmaprenderer").transferFromImageBitmap(gn),Le=He.transferToImageBitmap()}catch{}break;case"AudioData":case"VideoFrame":C(gn.clone)&&C(gn.close)||ke(ln,Rn);try{Le=gn.clone(),gn.close()}catch{}break;case"MediaSourceHandle":case"MessagePort":case"MIDIAccess":case"OffscreenCanvas":case"ReadableStream":case"RTCDataChannel":case"TransformStream":case"WebTransportReceiveStream":case"WebTransportSendStream":case"WritableStream":ke(ln,Rn)}if(Le===void 0)throw new $t("This object cannot be transferred: "+ln,$e);ce(Ue,gn,Le)}else Se(rn,gn)}return rn})(re,Te=new Vt));var _e=Ve(It,Te);return an&&(function(ve){N(ve,(function(Ue){G?Rt(Ue,{transfer:[Ue]}):C(Ue.transfer)?Ue.transfer():K?K(Ue):ke("ArrayBuffer",Rn)}))})(an),_e}})},76031:function(a,c,e){e(15575),e(24599)},98406:function(a,c,e){e(23792),e(27337);var o=e(46518),u=e(44576),f=e(93389),A=e(97751),p=e(69565),m=e(79504),y=e(43724),E=e(67416),C=e(36840),T=e(62106),x=e(56279),L=e(10687),D=e(33994),B=e(91181),O=e(90679),_=e(94901),M=e(39297),U=e(76080),Q=e(36955),$=e(28551),W=e(20034),X=e(655),tt=e(2360),V=e(6980),N=e(70081),K=e(50851),at=e(62529),G=e(22812),q=e(78227),et=e(74488),ot=q("iterator"),bt="URLSearchParams",Ct=bt+"Iterator",Tt=B.set,$t=B.getterFor(bt),Vt=B.getterFor(Ct),jt=f("fetch"),ee=f("Request"),ce=f("Headers"),se=ee&&ee.prototype,Se=ce&&ce.prototype,Pe=u.TypeError,je=u.encodeURIComponent,xe=String.fromCharCode,we=A("String","fromCodePoint"),en=parseInt,En=m("".charAt),un=m([].join),We=m([].push),$e=m("".replace),Rn=m([].shift),sn=m([].splice),te=m("".split),Ae=m("".slice),oe=m(/./.exec),De=/\+/g,Rt=/^[0-9a-f]+$/i,me=function(Wt,Le){var He=Ae(Wt,Le,Le+2);return oe(Rt,He)?en(He,16):NaN},ke=function(Wt){for(var Le=0,He=128;He>0&&Wt&He;He>>=1)Le++;return Le},Yn=function(Wt){var Le=null;switch(Wt.length){case 1:Le=Wt[0];break;case 2:Le=(31&Wt[0])<<6|63&Wt[1];break;case 3:Le=(15&Wt[0])<<12|(63&Wt[1])<<6|63&Wt[2];break;case 4:Le=(7&Wt[0])<<18|(63&Wt[1])<<12|(63&Wt[2])<<6|63&Wt[3]}return Le>1114111?null:Le},Ne=function(Wt){for(var Le=(Wt=$e(Wt,De," ")).length,He="",Me=0;Me<Le;){var hn=En(Wt,Me);if(hn==="%"){if(En(Wt,Me+1)==="%"||Me+3>Le){He+="%",Me++;continue}var rn=me(Wt,Me+1);if(rn!=rn){He+=hn,Me++;continue}Me+=2;var Tn=ke(rn);if(Tn===0)hn=xe(rn);else{if(Tn===1||Tn>4){He+="�",Me++;continue}for(var zn=[rn],sr=1;sr<Tn&&!(3+ ++Me>Le||En(Wt,Me)!=="%");){var Fr=me(Wt,Me+1);if(Fr!=Fr){Me+=3;break}if(Fr>191||Fr<128)break;We(zn,Fr),Me+=2,sr++}if(zn.length!==Tn){He+="�";continue}var or=Yn(zn);or===null?He+="�":hn=we(or)}}He+=hn,Me++}return He},Ve=/[!'()~]|%20/g,It={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},Te=function(Wt){return It[Wt]},an=function(Wt){return $e(je(Wt),Ve,Te)},dn=D((function(Wt,Le){Tt(this,{type:Ct,target:$t(Wt).entries,index:0,kind:Le})}),bt,(function(){var Wt=Vt(this),Le=Wt.target,He=Wt.index++;if(!Le||He>=Le.length)return Wt.target=null,at(void 0,!0);var Me=Le[He];switch(Wt.kind){case"keys":return at(Me.key,!1);case"values":return at(Me.value,!1)}return at([Me.key,Me.value],!1)}),!0),re=function(Wt){this.entries=[],this.url=null,Wt!==void 0&&(W(Wt)?this.parseObject(Wt):this.parseQuery(typeof Wt=="string"?En(Wt,0)==="?"?Ae(Wt,1):Wt:X(Wt)))};re.prototype={type:bt,bindURL:function(Wt){this.url=Wt,this.update()},parseObject:function(Wt){var Le,He,Me,hn,rn,Tn,zn,sr=this.entries,Fr=K(Wt);if(Fr)for(He=(Le=N(Wt,Fr)).next;!(Me=p(He,Le)).done;){if(rn=(hn=N($(Me.value))).next,(Tn=p(rn,hn)).done||(zn=p(rn,hn)).done||!p(rn,hn).done)throw new Pe("Expected sequence with length 2");We(sr,{key:X(Tn.value),value:X(zn.value)})}else for(var or in Wt)M(Wt,or)&&We(sr,{key:or,value:X(Wt[or])})},parseQuery:function(Wt){if(Wt)for(var Le,He,Me=this.entries,hn=te(Wt,"&"),rn=0;rn<hn.length;)(Le=hn[rn++]).length&&(He=te(Le,"="),We(Me,{key:Ne(Rn(He)),value:Ne(un(He,"="))}))},serialize:function(){for(var Wt,Le=this.entries,He=[],Me=0;Me<Le.length;)Wt=Le[Me++],We(He,an(Wt.key)+"="+an(Wt.value));return un(He,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var _e=function(){O(this,ve);var Wt=Tt(this,new re(arguments.length>0?arguments[0]:void 0));y||(this.size=Wt.entries.length)},ve=_e.prototype;if(x(ve,{append:function(Wt,Le){var He=$t(this);G(arguments.length,2),We(He.entries,{key:X(Wt),value:X(Le)}),y||this.length++,He.updateURL()},delete:function(Wt){for(var Le=$t(this),He=G(arguments.length,1),Me=Le.entries,hn=X(Wt),rn=He<2?void 0:arguments[1],Tn=rn===void 0?rn:X(rn),zn=0;zn<Me.length;){var sr=Me[zn];if(sr.key!==hn||Tn!==void 0&&sr.value!==Tn)zn++;else if(sn(Me,zn,1),Tn!==void 0)break}y||(this.size=Me.length),Le.updateURL()},get:function(Wt){var Le=$t(this).entries;G(arguments.length,1);for(var He=X(Wt),Me=0;Me<Le.length;Me++)if(Le[Me].key===He)return Le[Me].value;return null},getAll:function(Wt){var Le=$t(this).entries;G(arguments.length,1);for(var He=X(Wt),Me=[],hn=0;hn<Le.length;hn++)Le[hn].key===He&&We(Me,Le[hn].value);return Me},has:function(Wt){for(var Le=$t(this).entries,He=G(arguments.length,1),Me=X(Wt),hn=He<2?void 0:arguments[1],rn=hn===void 0?hn:X(hn),Tn=0;Tn<Le.length;){var zn=Le[Tn++];if(zn.key===Me&&(rn===void 0||zn.value===rn))return!0}return!1},set:function(Wt,Le){var He=$t(this);G(arguments.length,1);for(var Me,hn=He.entries,rn=!1,Tn=X(Wt),zn=X(Le),sr=0;sr<hn.length;sr++)(Me=hn[sr]).key===Tn&&(rn?sn(hn,sr--,1):(rn=!0,Me.value=zn));rn||We(hn,{key:Tn,value:zn}),y||(this.size=hn.length),He.updateURL()},sort:function(){var Wt=$t(this);et(Wt.entries,(function(Le,He){return Le.key>He.key?1:-1})),Wt.updateURL()},forEach:function(Wt){for(var Le,He=$t(this).entries,Me=U(Wt,arguments.length>1?arguments[1]:void 0),hn=0;hn<He.length;)Me((Le=He[hn++]).value,Le.key,this)},keys:function(){return new dn(this,"keys")},values:function(){return new dn(this,"values")},entries:function(){return new dn(this,"entries")}},{enumerable:!0}),C(ve,ot,ve.entries,{name:"entries"}),C(ve,"toString",(function(){return $t(this).serialize()}),{enumerable:!0}),y&&T(ve,"size",{get:function(){return $t(this).entries.length},configurable:!0,enumerable:!0}),L(_e,bt),o({global:!0,constructor:!0,forced:!E},{URLSearchParams:_e}),!E&&_(ce)){var Ue=m(Se.has),qe=m(Se.set),gn=function(Wt){if(W(Wt)){var Le,He=Wt.body;if(Q(He)===bt)return Le=Wt.headers?new ce(Wt.headers):new ce,Ue(Le,"content-type")||qe(Le,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),tt(Wt,{body:V(0,X(He)),headers:V(0,Le)})}return Wt};if(_(jt)&&o({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(Wt){return jt(Wt,arguments.length>1?gn(arguments[1]):{})}}),_(ee)){var ln=function(Wt){return O(this,se),new ee(Wt,arguments.length>1?gn(arguments[1]):{})};se.constructor=ln,ln.prototype=se,o({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:ln})}}a.exports={URLSearchParams:_e,getState:$t}},14603:function(a,c,e){var o=e(36840),u=e(79504),f=e(655),A=e(22812),p=URLSearchParams,m=p.prototype,y=u(m.append),E=u(m.delete),C=u(m.forEach),T=u([].push),x=new p("a=1&a=2&b=3");x.delete("a",1),x.delete("b",void 0),x+""!="a=2"&&o(m,"delete",(function(L){var D=arguments.length,B=D<2?void 0:arguments[1];if(D&&B===void 0)return E(this,L);var O=[];C(this,(function(tt,V){T(O,{key:V,value:tt})})),A(D,1);for(var _,M=f(L),U=f(B),Q=0,$=0,W=!1,X=O.length;Q<X;)_=O[Q++],W||_.key===M?(W=!0,E(this,_.key)):$++;for(;$<X;)(_=O[$++]).key===M&&_.value===U||y(this,_.key,_.value)}),{enumerable:!0,unsafe:!0})},47566:function(a,c,e){var o=e(36840),u=e(79504),f=e(655),A=e(22812),p=URLSearchParams,m=p.prototype,y=u(m.getAll),E=u(m.has),C=new p("a=1");!C.has("a",2)&&C.has("a",void 0)||o(m,"has",(function(T){var x=arguments.length,L=x<2?void 0:arguments[1];if(x&&L===void 0)return E(this,T);var D=y(this,T);A(x,1);for(var B=f(L),O=0;O<D.length;)if(D[O++]===B)return!0;return!1}),{enumerable:!0,unsafe:!0})},48408:function(a,c,e){e(98406)},98721:function(a,c,e){var o=e(43724),u=e(79504),f=e(62106),A=URLSearchParams.prototype,p=u(A.forEach);o&&!("size"in A)&&f(A,"size",{get:function(){var m=0;return p(this,(function(){m++})),m},configurable:!0,enumerable:!0})},2222:function(a,c,e){var o=e(46518),u=e(97751),f=e(79039),A=e(22812),p=e(655),m=e(67416),y=u("URL"),E=m&&f((function(){y.canParse()})),C=f((function(){return y.canParse.length!==1}));o({target:"URL",stat:!0,forced:!E||C},{canParse:function(T){var x=A(arguments.length,1),L=p(T),D=x<2||arguments[1]===void 0?void 0:p(arguments[1]);try{return!!new y(L,D)}catch{return!1}}})},45806:function(a,c,e){e(47764);var o,u=e(46518),f=e(43724),A=e(67416),p=e(44576),m=e(76080),y=e(79504),E=e(36840),C=e(62106),T=e(90679),x=e(39297),L=e(44213),D=e(97916),B=e(67680),O=e(68183).codeAt,_=e(3717),M=e(655),U=e(10687),Q=e(22812),$=e(98406),W=e(91181),X=W.set,tt=W.getterFor("URL"),V=$.URLSearchParams,N=$.getState,K=p.URL,at=p.TypeError,G=p.parseInt,q=Math.floor,et=Math.pow,ot=y("".charAt),bt=y(/./.exec),Ct=y([].join),Tt=y(1 .toString),$t=y([].pop),Vt=y([].push),jt=y("".replace),ee=y([].shift),ce=y("".split),se=y("".slice),Se=y("".toLowerCase),Pe=y([].unshift),je="Invalid scheme",xe="Invalid host",we="Invalid port",en=/[a-z]/i,En=/[\d+-.a-z]/i,un=/\d/,We=/^0x/i,$e=/^[0-7]+$/,Rn=/^\d+$/,sn=/^[\da-f]+$/i,te=/[\0\t\n\r #%/:<>?@[\\\]^|]/,Ae=/[\0\t\n\r #/:<>?@[\\\]^|]/,oe=/^[\u0000-\u0020]+/,De=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,Rt=/[\t\n\r]/g,me=function(Yt){var zt,ge,Mn,qt;if(typeof Yt=="number"){for(zt=[],ge=0;ge<4;ge++)Pe(zt,Yt%256),Yt=q(Yt/256);return Ct(zt,".")}if(typeof Yt=="object"){for(zt="",Mn=(function(ir){for(var Fn=null,Bn=1,St=null,Re=0,Pn=0;Pn<8;Pn++)ir[Pn]!==0?(Re>Bn&&(Fn=St,Bn=Re),St=null,Re=0):(St===null&&(St=Pn),++Re);return Re>Bn?St:Fn})(Yt),ge=0;ge<8;ge++)qt&&Yt[ge]===0||(qt&&(qt=!1),Mn===ge?(zt+=ge?":":"::",qt=!0):(zt+=Tt(Yt[ge],16),ge<7&&(zt+=":")));return"["+zt+"]"}return Yt},ke={},Yn=L({},ke,{" ":1,'"':1,"<":1,">":1,"`":1}),Ne=L({},Yn,{"#":1,"?":1,"{":1,"}":1}),Ve=L({},Ne,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),It=function(Yt,zt){var ge=O(Yt,0);return ge>32&&ge<127&&!x(zt,Yt)?Yt:encodeURIComponent(Yt)},Te={ftp:21,file:null,http:80,https:443,ws:80,wss:443},an=function(Yt,zt){var ge;return Yt.length===2&&bt(en,ot(Yt,0))&&((ge=ot(Yt,1))===":"||!zt&&ge==="|")},dn=function(Yt){var zt;return Yt.length>1&&an(se(Yt,0,2))&&(Yt.length===2||(zt=ot(Yt,2))==="/"||zt==="\\"||zt==="?"||zt==="#")},re=function(Yt){return Yt==="."||Se(Yt)==="%2e"},_e={},ve={},Ue={},qe={},gn={},ln={},Wt={},Le={},He={},Me={},hn={},rn={},Tn={},zn={},sr={},Fr={},or={},Ir={},ai={},Lr={},Tr={},Dr=function(Yt,zt,ge){var Mn,qt,ir,Fn=M(Yt);if(zt){if(qt=this.parse(Fn))throw new at(qt);this.searchParams=null}else{if(ge!==void 0&&(Mn=new Dr(ge,!0)),qt=this.parse(Fn,null,Mn))throw new at(qt);(ir=N(new V)).bindURL(this),this.searchParams=ir}};Dr.prototype={type:"URL",parse:function(Yt,zt,ge){var Mn,qt,ir,Fn,Bn,St=this,Re=zt||_e,Pn=0,tn="",dr=!1,vr=!1,ei=!1;for(Yt=M(Yt),zt||(St.scheme="",St.username="",St.password="",St.host=null,St.port=null,St.path=[],St.query=null,St.fragment=null,St.cannotBeABaseURL=!1,Yt=jt(Yt,oe,""),Yt=jt(Yt,De,"$1")),Yt=jt(Yt,Rt,""),Mn=D(Yt);Pn<=Mn.length;){switch(qt=Mn[Pn],Re){case _e:if(!qt||!bt(en,qt)){if(zt)return je;Re=Ue;continue}tn+=Se(qt),Re=ve;break;case ve:if(qt&&(bt(En,qt)||qt==="+"||qt==="-"||qt==="."))tn+=Se(qt);else{if(qt!==":"){if(zt)return je;tn="",Re=Ue,Pn=0;continue}if(zt&&(St.isSpecial()!==x(Te,tn)||tn==="file"&&(St.includesCredentials()||St.port!==null)||St.scheme==="file"&&!St.host))return;if(St.scheme=tn,zt)return void(St.isSpecial()&&Te[St.scheme]===St.port&&(St.port=null));tn="",St.scheme==="file"?Re=zn:St.isSpecial()&&ge&&ge.scheme===St.scheme?Re=qe:St.isSpecial()?Re=Le:Mn[Pn+1]==="/"?(Re=gn,Pn++):(St.cannotBeABaseURL=!0,Vt(St.path,""),Re=ai)}break;case Ue:if(!ge||ge.cannotBeABaseURL&&qt!=="#")return je;if(ge.cannotBeABaseURL&&qt==="#"){St.scheme=ge.scheme,St.path=B(ge.path),St.query=ge.query,St.fragment="",St.cannotBeABaseURL=!0,Re=Tr;break}Re=ge.scheme==="file"?zn:ln;continue;case qe:if(qt!=="/"||Mn[Pn+1]!=="/"){Re=ln;continue}Re=He,Pn++;break;case gn:if(qt==="/"){Re=Me;break}Re=Ir;continue;case ln:if(St.scheme=ge.scheme,qt===o)St.username=ge.username,St.password=ge.password,St.host=ge.host,St.port=ge.port,St.path=B(ge.path),St.query=ge.query;else if(qt==="/"||qt==="\\"&&St.isSpecial())Re=Wt;else if(qt==="?")St.username=ge.username,St.password=ge.password,St.host=ge.host,St.port=ge.port,St.path=B(ge.path),St.query="",Re=Lr;else{if(qt!=="#"){St.username=ge.username,St.password=ge.password,St.host=ge.host,St.port=ge.port,St.path=B(ge.path),St.path.length--,Re=Ir;continue}St.username=ge.username,St.password=ge.password,St.host=ge.host,St.port=ge.port,St.path=B(ge.path),St.query=ge.query,St.fragment="",Re=Tr}break;case Wt:if(!St.isSpecial()||qt!=="/"&&qt!=="\\"){if(qt!=="/"){St.username=ge.username,St.password=ge.password,St.host=ge.host,St.port=ge.port,Re=Ir;continue}Re=Me}else Re=He;break;case Le:if(Re=He,qt!=="/"||ot(tn,Pn+1)!=="/")continue;Pn++;break;case He:if(qt!=="/"&&qt!=="\\"){Re=Me;continue}break;case Me:if(qt==="@"){dr&&(tn="%40"+tn),dr=!0,ir=D(tn);for(var zr=0;zr<ir.length;zr++){var Nn=ir[zr];if(Nn!==":"||ei){var Ai=It(Nn,Ve);ei?St.password+=Ai:St.username+=Ai}else ei=!0}tn=""}else if(qt===o||qt==="/"||qt==="?"||qt==="#"||qt==="\\"&&St.isSpecial()){if(dr&&tn==="")return"Invalid authority";Pn-=D(tn).length+1,tn="",Re=hn}else tn+=qt;break;case hn:case rn:if(zt&&St.scheme==="file"){Re=Fr;continue}if(qt!==":"||vr){if(qt===o||qt==="/"||qt==="?"||qt==="#"||qt==="\\"&&St.isSpecial()){if(St.isSpecial()&&tn==="")return xe;if(zt&&tn===""&&(St.includesCredentials()||St.port!==null))return;if(Fn=St.parseHost(tn))return Fn;if(tn="",Re=or,zt)return;continue}qt==="["?vr=!0:qt==="]"&&(vr=!1),tn+=qt}else{if(tn==="")return xe;if(Fn=St.parseHost(tn))return Fn;if(tn="",Re=Tn,zt===rn)return}break;case Tn:if(!bt(un,qt)){if(qt===o||qt==="/"||qt==="?"||qt==="#"||qt==="\\"&&St.isSpecial()||zt){if(tn!==""){var Ni=G(tn,10);if(Ni>65535)return we;St.port=St.isSpecial()&&Ni===Te[St.scheme]?null:Ni,tn=""}if(zt)return;Re=or;continue}return we}tn+=qt;break;case zn:if(St.scheme="file",qt==="/"||qt==="\\")Re=sr;else{if(!ge||ge.scheme!=="file"){Re=Ir;continue}switch(qt){case o:St.host=ge.host,St.path=B(ge.path),St.query=ge.query;break;case"?":St.host=ge.host,St.path=B(ge.path),St.query="",Re=Lr;break;case"#":St.host=ge.host,St.path=B(ge.path),St.query=ge.query,St.fragment="",Re=Tr;break;default:dn(Ct(B(Mn,Pn),""))||(St.host=ge.host,St.path=B(ge.path),St.shortenPath()),Re=Ir;continue}}break;case sr:if(qt==="/"||qt==="\\"){Re=Fr;break}ge&&ge.scheme==="file"&&!dn(Ct(B(Mn,Pn),""))&&(an(ge.path[0],!0)?Vt(St.path,ge.path[0]):St.host=ge.host),Re=Ir;continue;case Fr:if(qt===o||qt==="/"||qt==="\\"||qt==="?"||qt==="#"){if(!zt&&an(tn))Re=Ir;else if(tn===""){if(St.host="",zt)return;Re=or}else{if(Fn=St.parseHost(tn))return Fn;if(St.host==="localhost"&&(St.host=""),zt)return;tn="",Re=or}continue}tn+=qt;break;case or:if(St.isSpecial()){if(Re=Ir,qt!=="/"&&qt!=="\\")continue}else if(zt||qt!=="?")if(zt||qt!=="#"){if(qt!==o&&(Re=Ir,qt!=="/"))continue}else St.fragment="",Re=Tr;else St.query="",Re=Lr;break;case Ir:if(qt===o||qt==="/"||qt==="\\"&&St.isSpecial()||!zt&&(qt==="?"||qt==="#")){if((Bn=Se(Bn=tn))===".."||Bn==="%2e."||Bn===".%2e"||Bn==="%2e%2e"?(St.shortenPath(),qt==="/"||qt==="\\"&&St.isSpecial()||Vt(St.path,"")):re(tn)?qt==="/"||qt==="\\"&&St.isSpecial()||Vt(St.path,""):(St.scheme==="file"&&!St.path.length&&an(tn)&&(St.host&&(St.host=""),tn=ot(tn,0)+":"),Vt(St.path,tn)),tn="",St.scheme==="file"&&(qt===o||qt==="?"||qt==="#"))for(;St.path.length>1&&St.path[0]==="";)ee(St.path);qt==="?"?(St.query="",Re=Lr):qt==="#"&&(St.fragment="",Re=Tr)}else tn+=It(qt,Ne);break;case ai:qt==="?"?(St.query="",Re=Lr):qt==="#"?(St.fragment="",Re=Tr):qt!==o&&(St.path[0]+=It(qt,ke));break;case Lr:zt||qt!=="#"?qt!==o&&(qt==="'"&&St.isSpecial()?St.query+="%27":St.query+=qt==="#"?"%23":It(qt,ke)):(St.fragment="",Re=Tr);break;case Tr:qt!==o&&(St.fragment+=It(qt,Yn))}Pn++}},parseHost:function(Yt){var zt,ge,Mn;if(ot(Yt,0)==="["){if(ot(Yt,Yt.length-1)!=="]"||(zt=(function(qt){var ir,Fn,Bn,St,Re,Pn,tn,dr=[0,0,0,0,0,0,0,0],vr=0,ei=null,zr=0,Nn=function(){return ot(qt,zr)};if(Nn()===":"){if(ot(qt,1)!==":")return;zr+=2,ei=++vr}for(;Nn();){if(vr===8)return;if(Nn()!==":"){for(ir=Fn=0;Fn<4&&bt(sn,Nn());)ir=16*ir+G(Nn(),16),zr++,Fn++;if(Nn()==="."){if(Fn===0||(zr-=Fn,vr>6))return;for(Bn=0;Nn();){if(St=null,Bn>0){if(!(Nn()==="."&&Bn<4))return;zr++}if(!bt(un,Nn()))return;for(;bt(un,Nn());){if(Re=G(Nn(),10),St===null)St=Re;else{if(St===0)return;St=10*St+Re}if(St>255)return;zr++}dr[vr]=256*dr[vr]+St,++Bn!=2&&Bn!==4||vr++}if(Bn!==4)return;break}if(Nn()===":"){if(zr++,!Nn())return}else if(Nn())return;dr[vr++]=ir}else{if(ei!==null)return;zr++,ei=++vr}}if(ei!==null)for(Pn=vr-ei,vr=7;vr!==0&&Pn>0;)tn=dr[vr],dr[vr--]=dr[ei+Pn-1],dr[ei+--Pn]=tn;else if(vr!==8)return;return dr})(se(Yt,1,-1)),!zt))return xe;this.host=zt}else if(this.isSpecial()){if(Yt=_(Yt),bt(te,Yt)||(zt=(function(qt){var ir,Fn,Bn,St,Re,Pn,tn,dr=ce(qt,".");if(dr.length&&dr[dr.length-1]===""&&dr.length--,(ir=dr.length)>4)return qt;for(Fn=[],Bn=0;Bn<ir;Bn++){if((St=dr[Bn])==="")return qt;if(Re=10,St.length>1&&ot(St,0)==="0"&&(Re=bt(We,St)?16:8,St=se(St,Re===8?1:2)),St==="")Pn=0;else{if(!bt(Re===10?Rn:Re===8?$e:sn,St))return qt;Pn=G(St,Re)}Vt(Fn,Pn)}for(Bn=0;Bn<ir;Bn++)if(Pn=Fn[Bn],Bn===ir-1){if(Pn>=et(256,5-ir))return null}else if(Pn>255)return null;for(tn=$t(Fn),Bn=0;Bn<Fn.length;Bn++)tn+=Fn[Bn]*et(256,3-Bn);return tn})(Yt),zt===null))return xe;this.host=zt}else{if(bt(Ae,Yt))return xe;for(zt="",ge=D(Yt),Mn=0;Mn<ge.length;Mn++)zt+=It(ge[Mn],ke);this.host=zt}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||this.scheme==="file"},includesCredentials:function(){return this.username!==""||this.password!==""},isSpecial:function(){return x(Te,this.scheme)},shortenPath:function(){var Yt=this.path,zt=Yt.length;!zt||this.scheme==="file"&&zt===1&&an(Yt[0],!0)||Yt.length--},serialize:function(){var Yt=this,zt=Yt.scheme,ge=Yt.username,Mn=Yt.password,qt=Yt.host,ir=Yt.port,Fn=Yt.path,Bn=Yt.query,St=Yt.fragment,Re=zt+":";return qt!==null?(Re+="//",Yt.includesCredentials()&&(Re+=ge+(Mn?":"+Mn:"")+"@"),Re+=me(qt),ir!==null&&(Re+=":"+ir)):zt==="file"&&(Re+="//"),Re+=Yt.cannotBeABaseURL?Fn[0]:Fn.length?"/"+Ct(Fn,"/"):"",Bn!==null&&(Re+="?"+Bn),St!==null&&(Re+="#"+St),Re},setHref:function(Yt){var zt=this.parse(Yt);if(zt)throw new at(zt);this.searchParams.update()},getOrigin:function(){var Yt=this.scheme,zt=this.port;if(Yt==="blob")try{return new Yr(Yt.path[0]).origin}catch{return"null"}return Yt!=="file"&&this.isSpecial()?Yt+"://"+me(this.host)+(zt!==null?":"+zt:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(Yt){this.parse(M(Yt)+":",_e)},getUsername:function(){return this.username},setUsername:function(Yt){var zt=D(M(Yt));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var ge=0;ge<zt.length;ge++)this.username+=It(zt[ge],Ve)}},getPassword:function(){return this.password},setPassword:function(Yt){var zt=D(M(Yt));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var ge=0;ge<zt.length;ge++)this.password+=It(zt[ge],Ve)}},getHost:function(){var Yt=this.host,zt=this.port;return Yt===null?"":zt===null?me(Yt):me(Yt)+":"+zt},setHost:function(Yt){this.cannotBeABaseURL||this.parse(Yt,hn)},getHostname:function(){var Yt=this.host;return Yt===null?"":me(Yt)},setHostname:function(Yt){this.cannotBeABaseURL||this.parse(Yt,rn)},getPort:function(){var Yt=this.port;return Yt===null?"":M(Yt)},setPort:function(Yt){this.cannotHaveUsernamePasswordPort()||((Yt=M(Yt))===""?this.port=null:this.parse(Yt,Tn))},getPathname:function(){var Yt=this.path;return this.cannotBeABaseURL?Yt[0]:Yt.length?"/"+Ct(Yt,"/"):""},setPathname:function(Yt){this.cannotBeABaseURL||(this.path=[],this.parse(Yt,or))},getSearch:function(){var Yt=this.query;return Yt?"?"+Yt:""},setSearch:function(Yt){(Yt=M(Yt))===""?this.query=null:(ot(Yt,0)==="?"&&(Yt=se(Yt,1)),this.query="",this.parse(Yt,Lr)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var Yt=this.fragment;return Yt?"#"+Yt:""},setHash:function(Yt){(Yt=M(Yt))!==""?(ot(Yt,0)==="#"&&(Yt=se(Yt,1)),this.fragment="",this.parse(Yt,Tr)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Yr=function(Yt){var zt=T(this,tr),ge=Q(arguments.length,1)>1?arguments[1]:void 0,Mn=X(zt,new Dr(Yt,!1,ge));f||(zt.href=Mn.serialize(),zt.origin=Mn.getOrigin(),zt.protocol=Mn.getProtocol(),zt.username=Mn.getUsername(),zt.password=Mn.getPassword(),zt.host=Mn.getHost(),zt.hostname=Mn.getHostname(),zt.port=Mn.getPort(),zt.pathname=Mn.getPathname(),zt.search=Mn.getSearch(),zt.searchParams=Mn.getSearchParams(),zt.hash=Mn.getHash())},tr=Yr.prototype,Gn=function(Yt,zt){return{get:function(){return tt(this)[Yt]()},set:zt&&function(ge){return tt(this)[zt](ge)},configurable:!0,enumerable:!0}};if(f&&(C(tr,"href",Gn("serialize","setHref")),C(tr,"origin",Gn("getOrigin")),C(tr,"protocol",Gn("getProtocol","setProtocol")),C(tr,"username",Gn("getUsername","setUsername")),C(tr,"password",Gn("getPassword","setPassword")),C(tr,"host",Gn("getHost","setHost")),C(tr,"hostname",Gn("getHostname","setHostname")),C(tr,"port",Gn("getPort","setPort")),C(tr,"pathname",Gn("getPathname","setPathname")),C(tr,"search",Gn("getSearch","setSearch")),C(tr,"searchParams",Gn("getSearchParams")),C(tr,"hash",Gn("getHash","setHash"))),E(tr,"toJSON",(function(){return tt(this).serialize()}),{enumerable:!0}),E(tr,"toString",(function(){return tt(this).serialize()}),{enumerable:!0}),K){var hi=K.createObjectURL,Ii=K.revokeObjectURL;hi&&E(Yr,"createObjectURL",m(hi,K)),Ii&&E(Yr,"revokeObjectURL",m(Ii,K))}U(Yr,"URL"),u({global:!0,constructor:!0,forced:!A,sham:!f},{URL:Yr})},3296:function(a,c,e){e(45806)},45781:function(a,c,e){var o=e(46518),u=e(97751),f=e(22812),A=e(655),p=e(67416),m=u("URL");o({target:"URL",stat:!0,forced:!p},{parse:function(y){var E=f(arguments.length,1),C=A(y),T=E<2||arguments[1]===void 0?void 0:A(arguments[1]);try{return new m(C,T)}catch{return null}}})},27208:function(a,c,e){var o=e(46518),u=e(69565);o({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return u(URL.prototype.toString,this)}})},84315:function(a,c,e){e(52675),e(89463),e(66412),e(60193),e(92168),e(2259),e(86964),e(83142),e(83237),e(61833),e(67947),e(31073),e(45700),e(78125),e(20326),e(16280),e(76918),e(30067),e(4294),e(18107),e(28706),e(26835),e(88431),e(33771),e(2008),e(50113),e(48980),e(10838),e(13451),e(46449),e(78350),e(51629),e(23418),e(74423),e(25276),e(64346),e(23792),e(48598),e(8921),e(62062),e(31051),e(44114),e(72712),e(18863),e(94490),e(34782),e(15086),e(26910),e(87478),e(54554),e(9678),e(57145),e(71658),e(93514),e(30237),e(13609),e(11558),e(54743),e(46761),e(11745),e(38309),e(16573),e(78100),e(77936),e(61699),e(59089),e(91191),e(93515),e(1688),e(60739),e(89572),e(23288),e(36456),e(94170),e(48957),e(62010),e(55081),e(18111),e(29314),e(81148),e(22489),e(20116),e(30531),e(7588),e(49603),e(61701),e(18237),e(13579),e(54972),e(61806),e(33110),e(4731),e(36033),e(47072),e(93153),e(82326),e(36389),e(64444),e(8085),e(77762),e(65070),e(60605),e(39469),e(72152),e(75376),e(56624),e(11367),e(5914),e(78553),e(98690),e(60479),e(70761),e(2892),e(45374),e(25428),e(32637),e(40150),e(59149),e(64601),e(44435),e(87220),e(25843),e(62337),e(9868),e(80630),e(69085),e(59904),e(17427),e(67945),e(84185),e(87607),e(5506),e(52811),e(53921),e(83851),e(81278),e(1480),e(40875),e(77691),e(78347),e(29908),e(94052),e(94003),e(221),e(79432),e(9220),e(7904),e(93967),e(63548),e(93941),e(10287),e(26099),e(16034),e(78459),e(58940),e(3362),e(96167),e(93518),e(9391),e(31689),e(14628),e(39796),e(60825),e(87411),e(21211),e(40888),e(9065),e(86565),e(32812),e(84634),e(71137),e(30985),e(34268),e(34873),e(15472),e(84864),e(57465),e(27495),e(69479),e(87745),e(90906),e(38781),e(31415),e(17642),e(58004),e(33853),e(45876),e(32475),e(15024),e(31698),e(67357),e(23860),e(99449),e(27337),e(21699),e(42043),e(47764),e(71761),e(28543),e(35701),e(68156),e(85906),e(42781),e(25440),e(79978),e(5746),e(90744),e(11392),e(50375),e(67438),e(42762),e(39202),e(43359),e(89907),e(11898),e(35490),e(5745),e(94298),e(60268),e(69546),e(20781),e(50778),e(89195),e(46276),e(48718),e(16308),e(34594),e(29833),e(46594),e(72107),e(95477),e(21489),e(22134),e(3690),e(61740),e(48140),e(81630),e(72170),e(75044),e(69539),e(31694),e(89955),e(21903),e(91134),e(33206),e(48345),e(44496),e(66651),e(12887),e(19369),e(66812),e(8995),e(52568),e(31575),e(36072),e(88747),e(28845),e(29423),e(57301),e(373),e(86614),e(41405),e(37467),e(44732),e(33684),e(79577),e(88267),e(73772),e(30958),e(2945),e(42207),e(23500),e(62953),e(55815),e(64979),e(79739),e(59848),e(122),e(13611),e(71678),e(76031),e(3296),e(2222),e(45781),e(27208),e(48408),e(14603),e(47566),e(98721),e(19167)}},i={};function l(a){var c=i[a];if(c!==void 0)return c.exports;var e=i[a]={id:a,exports:{}};return n[a].call(e.exports,e,e.exports,l),e.exports}l.m=n,l.n=function(a){var c=a&&a.__esModule?function(){return a.default}:function(){return a};return l.d(c,{a:c}),c},l.d=function(a,c){for(var e in c)l.o(c,e)&&!l.o(a,e)&&Object.defineProperty(a,e,{enumerable:!0,get:c[e]})},l.g=(function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}})(),l.o=function(a,c){return Object.prototype.hasOwnProperty.call(a,c)},l.b=document.baseURI||self.location.href,l.nc=void 0,l(84315),l(78624);var d=l(63166);return d.default})()}))})(Md)),Md.exports}var x1=T1();const w1=Zy(x1),Qe=Number.isFinite||function(g){return typeof g=="number"&&isFinite(g)},L1=Number.isSafeInteger||function(g){return typeof g=="number"&&Math.abs(g)<=R1},R1=Number.MAX_SAFE_INTEGER||9007199254740991;let nn=(function(g){return g.NETWORK_ERROR="networkError",g.MEDIA_ERROR="mediaError",g.KEY_SYSTEM_ERROR="keySystemError",g.MUX_ERROR="muxError",g.OTHER_ERROR="otherError",g})({}),Ot=(function(g){return g.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",g.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",g.KEY_SYSTEM_NO_SESSION="keySystemNoSession",g.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",g.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",g.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",g.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",g.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",g.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",g.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",g.KEY_SYSTEM_DESTROY_MEDIA_KEYS_ERROR="keySystemDestroyMediaKeysError",g.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR="keySystemDestroyCloseSessionError",g.KEY_SYSTEM_DESTROY_REMOVE_SESSION_ERROR="keySystemDestroyRemoveSessionError",g.MANIFEST_LOAD_ERROR="manifestLoadError",g.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",g.MANIFEST_PARSING_ERROR="manifestParsingError",g.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",g.LEVEL_EMPTY_ERROR="levelEmptyError",g.LEVEL_LOAD_ERROR="levelLoadError",g.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",g.LEVEL_PARSING_ERROR="levelParsingError",g.LEVEL_SWITCH_ERROR="levelSwitchError",g.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",g.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",g.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",g.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",g.FRAG_LOAD_ERROR="fragLoadError",g.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",g.FRAG_DECRYPT_ERROR="fragDecryptError",g.FRAG_PARSING_ERROR="fragParsingError",g.FRAG_GAP="fragGap",g.REMUX_ALLOC_ERROR="remuxAllocError",g.KEY_LOAD_ERROR="keyLoadError",g.KEY_LOAD_TIMEOUT="keyLoadTimeOut",g.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",g.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",g.BUFFER_APPEND_ERROR="bufferAppendError",g.BUFFER_APPENDING_ERROR="bufferAppendingError",g.BUFFER_STALLED_ERROR="bufferStalledError",g.BUFFER_FULL_ERROR="bufferFullError",g.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",g.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",g.ASSET_LIST_LOAD_ERROR="assetListLoadError",g.ASSET_LIST_LOAD_TIMEOUT="assetListLoadTimeout",g.ASSET_LIST_PARSING_ERROR="assetListParsingError",g.INTERSTITIAL_ASSET_ITEM_ERROR="interstitialAssetItemError",g.INTERNAL_EXCEPTION="internalException",g.INTERNAL_ABORTED="aborted",g.ATTACH_MEDIA_ERROR="attachMediaError",g.UNKNOWN="unknown",g})({}),F=(function(g){return g.MEDIA_ATTACHING="hlsMediaAttaching",g.MEDIA_ATTACHED="hlsMediaAttached",g.MEDIA_DETACHING="hlsMediaDetaching",g.MEDIA_DETACHED="hlsMediaDetached",g.MEDIA_ENDED="hlsMediaEnded",g.STALL_RESOLVED="hlsStallResolved",g.BUFFER_RESET="hlsBufferReset",g.BUFFER_CODECS="hlsBufferCodecs",g.BUFFER_CREATED="hlsBufferCreated",g.BUFFER_APPENDING="hlsBufferAppending",g.BUFFER_APPENDED="hlsBufferAppended",g.BUFFER_EOS="hlsBufferEos",g.BUFFERED_TO_END="hlsBufferedToEnd",g.BUFFER_FLUSHING="hlsBufferFlushing",g.BUFFER_FLUSHED="hlsBufferFlushed",g.MANIFEST_LOADING="hlsManifestLoading",g.MANIFEST_LOADED="hlsManifestLoaded",g.MANIFEST_PARSED="hlsManifestParsed",g.LEVEL_SWITCHING="hlsLevelSwitching",g.LEVEL_SWITCHED="hlsLevelSwitched",g.LEVEL_LOADING="hlsLevelLoading",g.LEVEL_LOADED="hlsLevelLoaded",g.LEVEL_UPDATED="hlsLevelUpdated",g.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",g.LEVELS_UPDATED="hlsLevelsUpdated",g.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",g.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",g.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",g.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",g.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",g.AUDIO_TRACK_UPDATED="hlsAudioTrackUpdated",g.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",g.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",g.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",g.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",g.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",g.SUBTITLE_TRACK_UPDATED="hlsSubtitleTrackUpdated",g.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",g.CUES_PARSED="hlsCuesParsed",g.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",g.INIT_PTS_FOUND="hlsInitPtsFound",g.FRAG_LOADING="hlsFragLoading",g.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",g.FRAG_LOADED="hlsFragLoaded",g.FRAG_DECRYPTED="hlsFragDecrypted",g.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",g.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",g.FRAG_PARSING_METADATA="hlsFragParsingMetadata",g.FRAG_PARSED="hlsFragParsed",g.FRAG_BUFFERED="hlsFragBuffered",g.FRAG_CHANGED="hlsFragChanged",g.FPS_DROP="hlsFpsDrop",g.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",g.MAX_AUTO_LEVEL_UPDATED="hlsMaxAutoLevelUpdated",g.ERROR="hlsError",g.DESTROYING="hlsDestroying",g.KEY_LOADING="hlsKeyLoading",g.KEY_LOADED="hlsKeyLoaded",g.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",g.BACK_BUFFER_REACHED="hlsBackBufferReached",g.STEERING_MANIFEST_LOADED="hlsSteeringManifestLoaded",g.ASSET_LIST_LOADING="hlsAssetListLoading",g.ASSET_LIST_LOADED="hlsAssetListLoaded",g.INTERSTITIALS_UPDATED="hlsInterstitialsUpdated",g.INTERSTITIALS_BUFFERED_TO_BOUNDARY="hlsInterstitialsBufferedToBoundary",g.INTERSTITIAL_ASSET_PLAYER_CREATED="hlsInterstitialAssetPlayerCreated",g.INTERSTITIAL_STARTED="hlsInterstitialStarted",g.INTERSTITIAL_ASSET_STARTED="hlsInterstitialAssetStarted",g.INTERSTITIAL_ASSET_ENDED="hlsInterstitialAssetEnded",g.INTERSTITIAL_ASSET_ERROR="hlsInterstitialAssetError",g.INTERSTITIAL_ENDED="hlsInterstitialEnded",g.INTERSTITIALS_PRIMARY_RESUMED="hlsInterstitialsPrimaryResumed",g.PLAYOUT_LIMIT_REACHED="hlsPlayoutLimitReached",g.EVENT_CUE_ENTER="hlsEventCueEnter",g})({});var jn={MANIFEST:"manifest",LEVEL:"level",AUDIO_TRACK:"audioTrack",SUBTITLE_TRACK:"subtitleTrack"},Ze={MAIN:"main",AUDIO:"audio",SUBTITLE:"subtitle"};class Zo{constructor(t,n=0,i=0){this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=t,this.alpha_=t?Math.exp(Math.log(.5)/t):0,this.estimate_=n,this.totalWeight_=i}sample(t,n){const i=Math.pow(this.alpha_,t);this.estimate_=n*(1-i)+i*this.estimate_,this.totalWeight_+=t}getTotalWeight(){return this.totalWeight_}getEstimate(){if(this.alpha_){const t=1-Math.pow(this.alpha_,this.totalWeight_);if(t)return this.estimate_/t}return this.estimate_}}class I1{constructor(t,n,i,l=100){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=i,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new Zo(t),this.fast_=new Zo(n),this.defaultTTFB_=l,this.ttfb_=new Zo(t)}update(t,n){const{slow_:i,fast_:l,ttfb_:d}=this;i.halfLife!==t&&(this.slow_=new Zo(t,i.getEstimate(),i.getTotalWeight())),l.halfLife!==n&&(this.fast_=new Zo(n,l.getEstimate(),l.getTotalWeight())),d.halfLife!==t&&(this.ttfb_=new Zo(t,d.getEstimate(),d.getTotalWeight()))}sample(t,n){t=Math.max(t,this.minDelayMs_);const i=8*n,l=t/1e3,d=i/l;this.fast_.sample(l,d),this.slow_.sample(l,d)}sampleTTFB(t){const n=t/1e3,i=Math.sqrt(2)*Math.exp(-Math.pow(n,2)/2);this.ttfb_.sample(i,Math.max(t,5))}canEstimate(){return this.fast_.getTotalWeight()>=this.minWeight_}getEstimate(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}getEstimateTTFB(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}get defaultEstimate(){return this.defaultEstimate_}destroy(){}}function D1(g,t,n){return(t=B1(t))in g?Object.defineProperty(g,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):g[t]=n,g}function mr(){return mr=Object.assign?Object.assign.bind():function(g){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(g[i]=n[i])}return g},mr.apply(null,arguments)}function Zp(g,t){var n=Object.keys(g);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(g);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(g,l).enumerable})),n.push.apply(n,i)}return n}function pr(g){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Zp(Object(n),!0).forEach(function(i){D1(g,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(n)):Zp(Object(n)).forEach(function(i){Object.defineProperty(g,i,Object.getOwnPropertyDescriptor(n,i))})}return g}function k1(g,t){if(typeof g!="object"||!g)return g;var n=g[Symbol.toPrimitive];if(n!==void 0){var i=n.call(g,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(g)}function B1(g){var t=k1(g,"string");return typeof t=="symbol"?t:t+""}class ss{constructor(t,n){this.trace=void 0,this.debug=void 0,this.log=void 0,this.warn=void 0,this.info=void 0,this.error=void 0;const i=`[${t}]:`;this.trace=Ua,this.debug=n.debug.bind(null,i),this.log=n.log.bind(null,i),this.warn=n.warn.bind(null,i),this.info=n.info.bind(null,i),this.error=n.error.bind(null,i)}}const Ua=function(){},O1={trace:Ua,debug:Ua,log:Ua,warn:Ua,info:Ua,error:Ua};function oh(){return mr({},O1)}function _1(g,t){const n=self.console[g];return n?n.bind(self.console,`${t?"["+t+"] ":""}[${g}] >`):Ua}function Jp(g,t,n){return t[g]?t[g].bind(t):_1(g,n)}const lh=oh();function M1(g,t,n){const i=oh();if(typeof console=="object"&&g===!0||typeof g=="object"){const l=["debug","log","info","warn","error"];l.forEach(d=>{i[d]=Jp(d,g,n)});try{i.log(`Debug logs enabled for "${t}" in hls.js version 1.6.11`)}catch{return oh()}l.forEach(d=>{lh[d]=Jp(d,g)})}else mr(lh,i);return i}const fr=lh;function Ga(g=!0){return typeof self>"u"?void 0:(g||!self.MediaSource)&&self.ManagedMediaSource||self.MediaSource||self.WebKitMediaSource}function P1(g){return typeof self<"u"&&g===self.ManagedMediaSource}function Am(g,t){const n=Object.keys(g),i=Object.keys(t),l=n.length,d=i.length;return!l||!d||l===d&&!n.some(a=>i.indexOf(a)===-1)}function qi(g,t=!1){if(typeof TextDecoder<"u"){const o=new TextDecoder("utf-8").decode(g);if(t){const u=o.indexOf("\0");return u!==-1?o.substring(0,u):o}return o.replace(/\0/g,"")}const n=g.length;let i,l,d,a="",c=0;for(;c<n;){if(i=g[c++],i===0&&t)return a;if(i===0||i===3)continue;switch(i>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:a+=String.fromCharCode(i);break;case 12:case 13:l=g[c++],a+=String.fromCharCode((i&31)<<6|l&63);break;case 14:l=g[c++],d=g[c++],a+=String.fromCharCode((i&15)<<12|(l&63)<<6|(d&63)<<0);break}}return a}function Ki(g){let t="";for(let n=0;n<g.length;n++){let i=g[n].toString(16);i.length<2&&(i="0"+i),t+=i}return t}function gm(g){return Uint8Array.from(g.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer}function N1(g){return g&&g.__esModule&&Object.prototype.hasOwnProperty.call(g,"default")?g.default:g}var Pd={exports:{}},t0;function U1(){return t0||(t0=1,(function(g,t){(function(n){var i=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,l=/^(?=([^\/?#]*))\1([^]*)$/,d=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,c={buildAbsoluteURL:function(e,o,u){if(u=u||{},e=e.trim(),o=o.trim(),!o){if(!u.alwaysNormalize)return e;var f=c.parseURL(e);if(!f)throw new Error("Error trying to parse base URL.");return f.path=c.normalizePath(f.path),c.buildURLFromParts(f)}var A=c.parseURL(o);if(!A)throw new Error("Error trying to parse relative URL.");if(A.scheme)return u.alwaysNormalize?(A.path=c.normalizePath(A.path),c.buildURLFromParts(A)):o;var p=c.parseURL(e);if(!p)throw new Error("Error trying to parse base URL.");if(!p.netLoc&&p.path&&p.path[0]!=="/"){var m=l.exec(p.path);p.netLoc=m[1],p.path=m[2]}p.netLoc&&!p.path&&(p.path="/");var y={scheme:p.scheme,netLoc:A.netLoc,path:null,params:A.params,query:A.query,fragment:A.fragment};if(!A.netLoc&&(y.netLoc=p.netLoc,A.path[0]!=="/"))if(!A.path)y.path=p.path,A.params||(y.params=p.params,A.query||(y.query=p.query));else{var E=p.path,C=E.substring(0,E.lastIndexOf("/")+1)+A.path;y.path=c.normalizePath(C)}return y.path===null&&(y.path=u.alwaysNormalize?c.normalizePath(A.path):A.path),c.buildURLFromParts(y)},parseURL:function(e){var o=i.exec(e);return o?{scheme:o[1]||"",netLoc:o[2]||"",path:o[3]||"",params:o[4]||"",query:o[5]||"",fragment:o[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(d,"");e.length!==(e=e.replace(a,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}};g.exports=c})()})(Pd)),Pd.exports}var Rh=U1();class Ih{constructor(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}}var Er={AUDIO:"audio",VIDEO:"video",AUDIOVIDEO:"audiovideo"};class pm{constructor(t){this._byteRange=null,this._url=null,this._stats=null,this._streams=null,this.base=void 0,this.relurl=void 0,typeof t=="string"&&(t={url:t}),this.base=t,G1(this,"stats")}setByteRange(t,n){const i=t.split("@",2);let l;i.length===1?l=n?.byteRangeEndOffset||0:l=parseInt(i[1]),this._byteRange=[l,parseInt(i[0])+l]}get baseurl(){return this.base.url}get byteRange(){return this._byteRange===null?[]:this._byteRange}get byteRangeStartOffset(){return this.byteRange[0]}get byteRangeEndOffset(){return this.byteRange[1]}get elementaryStreams(){return this._streams===null&&(this._streams={[Er.AUDIO]:null,[Er.VIDEO]:null,[Er.AUDIOVIDEO]:null}),this._streams}set elementaryStreams(t){this._streams=t}get hasStats(){return this._stats!==null}get hasStreams(){return this._streams!==null}get stats(){return this._stats===null&&(this._stats=new Ih),this._stats}set stats(t){this._stats=t}get url(){return!this._url&&this.baseurl&&this.relurl&&(this._url=Rh.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""}set url(t){this._url=t}clearElementaryStreamInfo(){const{elementaryStreams:t}=this;t[Er.AUDIO]=null,t[Er.VIDEO]=null,t[Er.AUDIOVIDEO]=null}}function Kr(g){return g.sn!=="initSegment"}class Nd extends pm{constructor(t,n){super(n),this._decryptdata=null,this._programDateTime=null,this._ref=null,this._bitrate=void 0,this.rawProgramDateTime=null,this.tagList=[],this.duration=0,this.sn=0,this.levelkeys=void 0,this.type=void 0,this.loader=null,this.keyLoader=null,this.level=-1,this.cc=0,this.startPTS=void 0,this.endPTS=void 0,this.startDTS=void 0,this.endDTS=void 0,this.start=0,this.playlistOffset=0,this.deltaPTS=void 0,this.maxStartPTS=void 0,this.minEndPTS=void 0,this.data=void 0,this.bitrateTest=!1,this.title=null,this.initSegment=null,this.endList=void 0,this.gap=void 0,this.urlId=0,this.type=t}get byteLength(){if(this.hasStats){const t=this.stats.total;if(t)return t}if(this.byteRange.length){const t=this.byteRange[0],n=this.byteRange[1];if(Qe(t)&&Qe(n))return n-t}return null}get bitrate(){return this.byteLength?this.byteLength*8/this.duration:this._bitrate?this._bitrate:null}set bitrate(t){this._bitrate=t}get decryptdata(){const{levelkeys:t}=this;if(!t&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){const n=this.levelkeys.identity;if(n)this._decryptdata=n.getDecryptData(this.sn);else{const i=Object.keys(this.levelkeys);if(i.length===1){const l=this._decryptdata=this.levelkeys[i[0]]||null;if(l)return l.getDecryptData(this.sn)}}}return this._decryptdata}get end(){return this.start+this.duration}get endProgramDateTime(){if(this.programDateTime===null)return null;const t=Qe(this.duration)?this.duration:0;return this.programDateTime+t*1e3}get encrypted(){var t;if((t=this._decryptdata)!=null&&t.encrypted)return!0;if(this.levelkeys){var n;const i=Object.keys(this.levelkeys),l=i.length;if(l>1||l===1&&(n=this.levelkeys[i[0]])!=null&&n.encrypted)return!0}return!1}get programDateTime(){return this._programDateTime===null&&this.rawProgramDateTime&&(this.programDateTime=Date.parse(this.rawProgramDateTime)),this._programDateTime}set programDateTime(t){if(!Qe(t)){this._programDateTime=this.rawProgramDateTime=null;return}this._programDateTime=t}get ref(){return Kr(this)?(this._ref||(this._ref={base:this.base,start:this.start,duration:this.duration,sn:this.sn,programDateTime:this.programDateTime}),this._ref):null}addStart(t){this.setStart(this.start+t)}setStart(t){this.start=t,this._ref&&(this._ref.start=t)}setDuration(t){this.duration=t,this._ref&&(this._ref.duration=t)}setKeyFormat(t){if(this.levelkeys){const n=this.levelkeys[t];n&&!this._decryptdata&&(this._decryptdata=n.getDecryptData(this.sn))}}abortRequests(){var t,n;(t=this.loader)==null||t.abort(),(n=this.keyLoader)==null||n.abort()}setElementaryStreamInfo(t,n,i,l,d,a=!1){const{elementaryStreams:c}=this,e=c[t];if(!e){c[t]={startPTS:n,endPTS:i,startDTS:l,endDTS:d,partial:a};return}e.startPTS=Math.min(e.startPTS,n),e.endPTS=Math.max(e.endPTS,i),e.startDTS=Math.min(e.startDTS,l),e.endDTS=Math.max(e.endDTS,d)}}class F1 extends pm{constructor(t,n,i,l,d){super(i),this.fragOffset=0,this.duration=0,this.gap=!1,this.independent=!1,this.relurl=void 0,this.fragment=void 0,this.index=void 0,this.duration=t.decimalFloatingPoint("DURATION"),this.gap=t.bool("GAP"),this.independent=t.bool("INDEPENDENT"),this.relurl=t.enumeratedString("URI"),this.fragment=n,this.index=l;const a=t.enumeratedString("BYTERANGE");a&&this.setByteRange(a,d),d&&(this.fragOffset=d.fragOffset+d.duration)}get start(){return this.fragment.start+this.fragOffset}get end(){return this.start+this.duration}get loaded(){const{elementaryStreams:t}=this;return!!(t.audio||t.video||t.audiovideo)}}function mm(g,t){const n=Object.getPrototypeOf(g);if(n){const i=Object.getOwnPropertyDescriptor(n,t);return i||mm(n,t)}}function G1(g,t){const n=mm(g,t);n&&(n.enumerable=!0,Object.defineProperty(g,t,n))}const e0=Math.pow(2,32)-1,Q1=[].push,vm={video:1,audio:2,id3:3,text:4};function Jr(g){return String.fromCharCode.apply(null,g)}function ym(g,t){const n=g[t]<<8|g[t+1];return n<0?65536+n:n}function kn(g,t){const n=Em(g,t);return n<0?4294967296+n:n}function n0(g,t){let n=kn(g,t);return n*=Math.pow(2,32),n+=kn(g,t+4),n}function Em(g,t){return g[t]<<24|g[t+1]<<16|g[t+2]<<8|g[t+3]}function H1(g){const t=g.byteLength;for(let n=0;n<t;){const i=kn(g,n);if(i>8&&g[n+4]===109&&g[n+5]===111&&g[n+6]===111&&g[n+7]===102)return!0;n=i>1?n+i:t}return!1}function Hn(g,t){const n=[];if(!t.length)return n;const i=g.byteLength;for(let l=0;l<i;){const d=kn(g,l),a=Jr(g.subarray(l+4,l+8)),c=d>1?l+d:i;if(a===t[0])if(t.length===1)n.push(g.subarray(l+8,c));else{const e=Hn(g.subarray(l+8,c),t.slice(1));e.length&&Q1.apply(n,e)}l=c}return n}function Y1(g){const t=[],n=g[0];let i=8;const l=kn(g,i);i+=4;let d=0,a=0;n===0?(d=kn(g,i),a=kn(g,i+4),i+=8):(d=n0(g,i),a=n0(g,i+8),i+=16),i+=2;let c=g.length+a;const e=ym(g,i);i+=2;for(let o=0;o<e;o++){let u=i;const f=kn(g,u);u+=4;const A=f&2147483647;if((f&2147483648)>>>31===1)return fr.warn("SIDX has hierarchical references (not supported)"),null;const m=kn(g,u);u+=4,t.push({referenceSize:A,subsegmentDuration:m,info:{duration:m/l,start:c,end:c+A-1}}),c+=A,u+=4,i=u}return{earliestPresentationTime:d,timescale:l,version:n,referencesCount:e,references:t}}function bm(g){const t=[],n=Hn(g,["moov","trak"]);for(let l=0;l<n.length;l++){const d=n[l],a=Hn(d,["tkhd"])[0];if(a){let c=a[0];const e=kn(a,c===0?12:20),o=Hn(d,["mdia","mdhd"])[0];if(o){c=o[0];const u=kn(o,c===0?12:20),f=Hn(d,["mdia","hdlr"])[0];if(f){const A=Jr(f.subarray(8,12)),p={soun:Er.AUDIO,vide:Er.VIDEO}[A],m=Hn(d,["mdia","minf","stbl","stsd"])[0],y=z1(m);p?(t[e]={timescale:u,type:p,stsd:y},t[p]=pr({timescale:u,id:e},y)):t[e]={timescale:u,type:A,stsd:y}}}}}return Hn(g,["moov","mvex","trex"]).forEach(l=>{const d=kn(l,4),a=t[d];a&&(a.default={duration:kn(l,12),flags:kn(l,20)})}),t}function z1(g){const t=g.subarray(8),n=t.subarray(86),i=Jr(t.subarray(4,8));let l=i,d;const a=i==="enca"||i==="encv";if(a){const o=Hn(t,[i])[0].subarray(i==="enca"?28:78);Hn(o,["sinf"]).forEach(f=>{const A=Hn(f,["schm"])[0];if(A){const p=Jr(A.subarray(4,8));if(p==="cbcs"||p==="cenc"){const m=Hn(f,["frma"])[0];m&&(l=Jr(m))}}})}const c=l;switch(l){case"avc1":case"avc2":case"avc3":case"avc4":{const e=Hn(n,["avcC"])[0];e&&e.length>3&&(l+="."+dc(e[1])+dc(e[2])+dc(e[3]),d=fc(c==="avc1"?"dva1":"dvav",n));break}case"mp4a":{const e=Hn(t,[i])[0],o=Hn(e.subarray(28),["esds"])[0];if(o&&o.length>7){let u=4;if(o[u++]!==3)break;u=Ud(o,u),u+=2;const f=o[u++];if(f&128&&(u+=2),f&64&&(u+=o[u++]),o[u++]!==4)break;u=Ud(o,u);const A=o[u++];if(A===64)l+="."+dc(A);else break;if(u+=12,o[u++]!==5)break;u=Ud(o,u);const p=o[u++];let m=(p&248)>>3;m===31&&(m+=1+((p&7)<<3)+((o[u]&224)>>5)),l+="."+m}break}case"hvc1":case"hev1":{const e=Hn(n,["hvcC"])[0];if(e&&e.length>12){const o=e[1],u=["","A","B","C"][o>>6],f=o&31,A=kn(e,2),p=(o&32)>>5?"H":"L",m=e[12],y=e.subarray(6,12);l+="."+u+f,l+="."+V1(A).toString(16).toUpperCase(),l+="."+p+m;let E="";for(let C=y.length;C--;){const T=y[C];(T||E)&&(E="."+T.toString(16).toUpperCase()+E)}l+=E}d=fc(c=="hev1"?"dvhe":"dvh1",n);break}case"dvh1":case"dvhe":case"dvav":case"dva1":case"dav1":{l=fc(l,n)||l;break}case"vp09":{const e=Hn(n,["vpcC"])[0];if(e&&e.length>6){const o=e[4],u=e[5],f=e[6]>>4&15;l+="."+Bs(o)+"."+Bs(u)+"."+Bs(f)}break}case"av01":{const e=Hn(n,["av1C"])[0];if(e&&e.length>2){const o=e[1]>>>5,u=e[1]&31,f=e[2]>>>7?"H":"M",A=(e[2]&64)>>6,p=(e[2]&32)>>5,m=o===2&&A?p?12:10:A?10:8,y=(e[2]&16)>>4,E=(e[2]&8)>>3,C=(e[2]&4)>>2,T=e[2]&3;l+="."+o+"."+Bs(u)+f+"."+Bs(m)+"."+y+"."+E+C+T+"."+Bs(1)+"."+Bs(1)+"."+Bs(1)+"."+0,d=fc("dav1",n)}break}}return{codec:l,encrypted:a,supplemental:d}}function fc(g,t){const n=Hn(t,["dvvC"]),i=n.length?n[0]:Hn(t,["dvcC"])[0];if(i){const l=i[2]>>1&127,d=i[2]<<5&32|i[3]>>3&31;return g+"."+Bs(l)+"."+Bs(d)}}function V1(g){let t=0;for(let n=0;n<32;n++)t|=(g>>n&1)<<31-n;return t>>>0}function Ud(g,t){const n=t+5;for(;g[t++]&128&&t<n;);return t}function dc(g){return("0"+g.toString(16).toUpperCase()).slice(-2)}function Bs(g){return(g<10?"0":"")+g}function j1(g,t){if(!g||!t)return;const n=t.keyId;n&&t.isCommonEncryption&&Hn(g,["moov","trak"]).forEach(l=>{const a=Hn(l,["mdia","minf","stbl","stsd"])[0].subarray(8);let c=Hn(a,["enca"]);const e=c.length>0;e||(c=Hn(a,["encv"])),c.forEach(o=>{const u=e?o.subarray(28):o.subarray(78);Hn(u,["sinf"]).forEach(A=>{const p=Cm(A);if(p){const m=p.subarray(8,24);m.some(y=>y!==0)||(fr.log(`[eme] Patching keyId in 'enc${e?"a":"v"}>sinf>>tenc' box: ${Ki(m)} -> ${Ki(n)}`),p.set(n,8))}})})})}function Cm(g){const t=Hn(g,["schm"])[0];if(t){const n=Jr(t.subarray(4,8));if(n==="cbcs"||n==="cenc")return Hn(g,["schi","tenc"])[0]}return null}function $1(g,t,n){const i={},l=Hn(g,["moof","traf"]);for(let d=0;d<l.length;d++){const a=l[d],c=Hn(a,["tfhd"])[0],e=kn(c,4),o=t[e];if(!o)continue;i[e]||(i[e]={start:NaN,duration:0,sampleCount:0,timescale:o.timescale,type:o.type});const u=i[e],f=Hn(a,["tfdt"])[0];if(f){const x=f[0];let L=kn(f,4);x===1&&(L===e0?n.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"):(L*=e0+1,L+=kn(f,8))),Qe(L)&&(!Qe(u.start)||L<u.start)&&(u.start=L)}const A=o.default,p=kn(c,0)|A?.flags;let m=A?.duration||0;p&8&&(p&2?m=kn(c,12):m=kn(c,8));const y=Hn(a,["trun"]);let E=u.start||0,C=0,T=m;for(let x=0;x<y.length;x++){const L=y[x],D=kn(L,4),B=u.sampleCount;u.sampleCount+=D;const O=L[3]&1,_=L[3]&4,M=L[2]&1,U=L[2]&2,Q=L[2]&4,$=L[2]&8;let W=8,X=D;for(O&&(W+=4),_&&D&&(!(L[W+1]&1)&&u.keyFrameIndex===void 0&&(u.keyFrameIndex=B),W+=4,M?(T=kn(L,W),W+=4):T=m,U&&(W+=4),$&&(W+=4),E+=T,C+=T,X--);X--;)M?(T=kn(L,W),W+=4):T=m,U&&(W+=4),Q&&(L[W+1]&1||u.keyFrameIndex===void 0&&(u.keyFrameIndex=u.sampleCount-(X+1),u.keyFrameStart=E),W+=4),$&&(W+=4),E+=T,C+=T;!C&&m&&(C+=m*D)}u.duration+=C}if(!Object.keys(i).some(d=>i[d].duration)){let d=1/0,a=0;const c=Hn(g,["sidx"]);for(let e=0;e<c.length;e++){const o=Y1(c[e]);if(o!=null&&o.references){d=Math.min(d,o.earliestPresentationTime/o.timescale);const u=o.references.reduce((f,A)=>f+A.info.duration||0,0);a=Math.max(a,u+o.earliestPresentationTime/o.timescale)}}a&&Qe(a)&&Object.keys(i).forEach(e=>{i[e].duration||(i[e].duration=a*i[e].timescale-i[e].start)})}return i}function K1(g){const t={valid:null,remainder:null},n=Hn(g,["moof"]);if(n.length<2)return t.remainder=g,t;const i=n[n.length-1];return t.valid=g.slice(0,i.byteOffset-8),t.remainder=g.slice(i.byteOffset-8),t}function is(g,t){const n=new Uint8Array(g.length+t.length);return n.set(g),n.set(t,g.length),n}function r0(g,t){const n=[],i=t.samples,l=t.timescale,d=t.id;let a=!1;return Hn(i,["moof"]).map(e=>{const o=e.byteOffset-8;Hn(e,["traf"]).map(f=>{const A=Hn(f,["tfdt"]).map(p=>{const m=p[0];let y=kn(p,4);return m===1&&(y*=Math.pow(2,32),y+=kn(p,8)),y/l})[0];return A!==void 0&&(g=A),Hn(f,["tfhd"]).map(p=>{const m=kn(p,4),y=kn(p,0)&16777215,E=(y&1)!==0,C=(y&2)!==0,T=(y&8)!==0;let x=0;const L=(y&16)!==0;let D=0;const B=(y&32)!==0;let O=8;m===d&&(E&&(O+=8),C&&(O+=4),T&&(x=kn(p,O),O+=4),L&&(D=kn(p,O),O+=4),B&&(O+=4),t.type==="video"&&(a=zc(t.codec)),Hn(f,["trun"]).map(_=>{const M=_[0],U=kn(_,0)&16777215,Q=(U&1)!==0;let $=0;const W=(U&4)!==0,X=(U&256)!==0;let tt=0;const V=(U&512)!==0;let N=0;const K=(U&1024)!==0,at=(U&2048)!==0;let G=0;const q=kn(_,4);let et=8;Q&&($=kn(_,et),et+=4),W&&(et+=4);let ot=$+o;for(let bt=0;bt<q;bt++){if(X?(tt=kn(_,et),et+=4):tt=x,V?(N=kn(_,et),et+=4):N=D,K&&(et+=4),at&&(M===0?G=kn(_,et):G=Em(_,et),et+=4),t.type===Er.VIDEO){let Ct=0;for(;Ct<N;){const Tt=kn(i,ot);if(ot+=4,W1(a,i[ot])){const $t=i.subarray(ot,ot+Tt);Dh($t,a?2:1,g+G/l,n)}ot+=Tt,Ct+=Tt+4}}g+=tt/l}}))})})}),n}function zc(g){if(!g)return!1;const t=g.substring(0,4);return t==="hvc1"||t==="hev1"||t==="dvh1"||t==="dvhe"}function W1(g,t){if(g){const n=t>>1&63;return n===39||n===40}else return(t&31)===6}function Dh(g,t,n,i){const l=Sm(g);let d=0;d+=t;let a=0,c=0,e=0;for(;d<l.length;){a=0;do{if(d>=l.length)break;e=l[d++],a+=e}while(e===255);c=0;do{if(d>=l.length)break;e=l[d++],c+=e}while(e===255);const o=l.length-d;let u=d;if(c<o)d+=c;else if(c>o){fr.error(`Malformed SEI payload. ${c} is too small, only ${o} bytes left to parse.`);break}if(a===4){if(l[u++]===181){const A=ym(l,u);if(u+=2,A===49){const p=kn(l,u);if(u+=4,p===1195456820){const m=l[u++];if(m===3){const y=l[u++],E=31&y,C=64&y,T=C?2+E*3:0,x=new Uint8Array(T);if(C){x[0]=y;for(let L=1;L<T;L++)x[L]=l[u++]}i.push({type:m,payloadType:a,pts:n,bytes:x})}}}}}else if(a===5&&c>16){const f=[];for(let m=0;m<16;m++){const y=l[u++].toString(16);f.push(y.length==1?"0"+y:y),(m===3||m===5||m===7||m===9)&&f.push("-")}const A=c-16,p=new Uint8Array(A);for(let m=0;m<A;m++)p[m]=l[u++];i.push({payloadType:a,pts:n,uuid:f.join(""),userData:qi(p),userDataBytes:p})}}}function Sm(g){const t=g.byteLength,n=[];let i=1;for(;i<t-2;)g[i]===0&&g[i+1]===0&&g[i+2]===3?(n.push(i+2),i+=2):i++;if(n.length===0)return g;const l=t-n.length,d=new Uint8Array(l);let a=0;for(i=0;i<l;a++,i++)a===n[0]&&(a++,n.shift()),d[i]=g[a];return d}function q1(g){const t=g[0];let n="",i="",l=0,d=0,a=0,c=0,e=0,o=0;if(t===0){for(;Jr(g.subarray(o,o+1))!=="\0";)n+=Jr(g.subarray(o,o+1)),o+=1;for(n+=Jr(g.subarray(o,o+1)),o+=1;Jr(g.subarray(o,o+1))!=="\0";)i+=Jr(g.subarray(o,o+1)),o+=1;i+=Jr(g.subarray(o,o+1)),o+=1,l=kn(g,12),d=kn(g,16),c=kn(g,20),e=kn(g,24),o=28}else if(t===1){o+=4,l=kn(g,o),o+=4;const f=kn(g,o);o+=4;const A=kn(g,o);for(o+=4,a=2**32*f+A,L1(a)||(a=Number.MAX_SAFE_INTEGER,fr.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),c=kn(g,o),o+=4,e=kn(g,o),o+=4;Jr(g.subarray(o,o+1))!=="\0";)n+=Jr(g.subarray(o,o+1)),o+=1;for(n+=Jr(g.subarray(o,o+1)),o+=1;Jr(g.subarray(o,o+1))!=="\0";)i+=Jr(g.subarray(o,o+1)),o+=1;i+=Jr(g.subarray(o,o+1)),o+=1}const u=g.subarray(o,g.byteLength);return{schemeIdUri:n,value:i,timeScale:l,presentationTime:a,presentationTimeDelta:d,eventDuration:c,id:e,payload:u}}function X1(g,...t){const n=t.length;let i=8,l=n;for(;l--;)i+=t[l].byteLength;const d=new Uint8Array(i);for(d[0]=i>>24&255,d[1]=i>>16&255,d[2]=i>>8&255,d[3]=i&255,d.set(g,4),l=0,i=8;l<n;l++)d.set(t[l],i),i+=t[l].byteLength;return d}function Z1(g,t,n){if(g.byteLength!==16)throw new RangeError("Invalid system id");let i,l;i=0,l=new Uint8Array;let d;i>0?(d=new Uint8Array(4),t.length>0&&new DataView(d.buffer).setUint32(0,t.length,!1)):d=new Uint8Array;const a=new Uint8Array(4);return n.byteLength>0&&new DataView(a.buffer).setUint32(0,n.byteLength,!1),X1([112,115,115,104],new Uint8Array([i,0,0,0]),g,d,l,a,n)}const Tm=()=>/\(Windows.+Firefox\//i.test(navigator.userAgent),ul={audio:{a3ds:1,"ac-3":.95,"ac-4":1,alac:.9,alaw:1,dra1:1,"dts+":1,"dts-":1,dtsc:1,dtse:1,dtsh:1,"ec-3":.9,enca:1,fLaC:.9,flac:.9,FLAC:.9,g719:1,g726:1,m4ae:1,mha1:1,mha2:1,mhm1:1,mhm2:1,mlpa:1,mp4a:1,"raw ":1,Opus:1,opus:1,samr:1,sawb:1,sawp:1,sevc:1,sqcp:1,ssmv:1,twos:1,ulaw:1},video:{avc1:1,avc2:1,avc3:1,avc4:1,avcp:1,av01:.8,dav1:.8,drac:1,dva1:1,dvav:1,dvh1:.7,dvhe:.7,encv:1,hev1:.75,hvc1:.75,mjp2:1,mp4v:1,mvc1:1,mvc2:1,mvc3:1,mvc4:1,resv:1,rv60:1,s263:1,svc1:1,svc2:1,"vc-1":1,vp08:1,vp09:.9},text:{stpp:1,wvtt:1}};function kh(g,t){const n=ul[t];return!!n&&!!n[g.slice(0,4)]}function uh(g,t,n=!0){return!g.split(",").some(i=>!Bh(i,t,n))}function Bh(g,t,n=!0){var i;const l=Ga(n);return(i=l?.isTypeSupported(eu(g,t)))!=null?i:!1}function eu(g,t){return`${t}/mp4;codecs=${g}`}function i0(g){if(g){const t=g.substring(0,4);return ul.video[t]}return 2}function _c(g){const t=Tm();return g.split(",").reduce((n,i)=>{const d=t&&zc(i)?9:ul.video[i];return d?(d*2+n)/(n?3:2):(ul.audio[i]+n)/(n?2:1)},0)}const Fd={};function J1(g,t=!0){if(Fd[g])return Fd[g];const n={flac:["flac","fLaC","FLAC"],opus:["opus","Opus"],"mp4a.40.34":["mp3"]}[g];for(let l=0;l<n.length;l++){var i;if(Bh(n[l],"audio",t))return Fd[g]=n[l],n[l];if(n[l]==="mp3"&&(i=Ga(t))!=null&&i.isTypeSupported("audio/mpeg"))return""}return g}const tE=/flac|opus|mp4a\.40\.34/i;function Mc(g,t=!0){return g.replace(tE,n=>J1(n.toLowerCase(),t))}function eE(g,t){const n=[];if(g){const i=g.split(",");for(let l=0;l<i.length;l++)kh(i[l],"video")||n.push(i[l])}return t&&n.push(t),n.join(",")}function wc(g,t){if(g&&(g.length>4||["ac-3","ec-3","alac","fLaC","Opus"].indexOf(g)!==-1)&&(s0(g,"audio")||s0(g,"video")))return g;if(t){const n=t.split(",");if(n.length>1){if(g){for(let i=n.length;i--;)if(n[i].substring(0,4)===g.substring(0,4))return n[i]}return n[0]}}return t||g}function s0(g,t){return kh(g,t)&&Bh(g,t)}function nE(g){const t=g.split(",");for(let n=0;n<t.length;n++){const i=t[n].split(".");i.length>2&&i[0]==="avc1"&&(t[n]=`avc1.${parseInt(i[1]).toString(16)}${("000"+parseInt(i[2]).toString(16)).slice(-4)}`)}return t.join(",")}function rE(g){if(g.startsWith("av01.")){const t=g.split("."),n=["0","111","01","01","01","0"];for(let i=t.length;i>4&&i<10;i++)t[i]=n[i-4];return t.join(".")}return g}function a0(g){const t=Ga(g)||{isTypeSupported:()=>!1};return{mpeg:t.isTypeSupported("audio/mpeg"),mp3:t.isTypeSupported('audio/mp4; codecs="mp3"'),ac3:t.isTypeSupported('audio/mp4; codecs="ac-3"')}}function ch(g){return g.replace(/^.+codecs=["']?([^"']+).*$/,"$1")}const iE={supported:!0,powerEfficient:!0,smooth:!0},sE={supported:!1,smooth:!1,powerEfficient:!1},xm={supported:!0,configurations:[],decodingInfoResults:[iE]};function wm(g,t){return{supported:!1,configurations:t,decodingInfoResults:[sE],error:g}}function aE(g,t,n,i,l,d){const a=g.videoCodec,c=g.audioCodec?g.audioGroups:null,e=d?.audioCodec,o=d?.channels,u=o?parseInt(o):e?1/0:2;let f=null;if(c!=null&&c.length)try{c.length===1&&c[0]?f=t.groups[c[0]].channels:f=c.reduce((A,p)=>{if(p){const m=t.groups[p];if(!m)throw new Error(`Audio track group ${p} not found`);Object.keys(m.channels).forEach(y=>{A[y]=(A[y]||0)+m.channels[y]})}return A},{2:0})}catch{return!0}return a!==void 0&&(a.split(",").some(A=>zc(A))||g.width>1920&&g.height>1088||g.height>1920&&g.width>1088||g.frameRate>Math.max(i,30)||g.videoRange!=="SDR"&&g.videoRange!==n||g.bitrate>Math.max(l,8e6))||!!f&&Qe(u)&&Object.keys(f).some(A=>parseInt(A)>u)}function Lm(g,t,n,i={}){const l=g.videoCodec;if(!l&&!g.audioCodec||!n)return Promise.resolve(xm);const d=[],a=oE(g),c=a.length,e=lE(g,t,c>0),o=e.length;for(let u=c||1*o||1;u--;){const f={type:"media-source"};if(c&&(f.video=a[u%c]),o){f.audio=e[u%o];const A=f.audio.bitrate;f.video&&A&&(f.video.bitrate-=A)}d.push(f)}if(l){const u=navigator.userAgent;if(l.split(",").some(f=>zc(f))&&Tm())return Promise.resolve(wm(new Error(`Overriding Windows Firefox HEVC MediaCapabilities result based on user-agent string: (${u})`),d))}return Promise.all(d.map(u=>{const f=cE(u);return i[f]||(i[f]=n.decodingInfo(u))})).then(u=>({supported:!u.some(f=>!f.supported),configurations:d,decodingInfoResults:u})).catch(u=>({supported:!1,configurations:d,decodingInfoResults:[],error:u}))}function oE(g){var t;const n=(t=g.videoCodec)==null?void 0:t.split(","),i=Rm(g),l=g.width||640,d=g.height||480,a=g.frameRate||30,c=g.videoRange.toLowerCase();return n?n.map(e=>{const o={contentType:eu(rE(e),"video"),width:l,height:d,bitrate:i,framerate:a};return c!=="sdr"&&(o.transferFunction=c),o}):[]}function lE(g,t,n){var i;const l=(i=g.audioCodec)==null?void 0:i.split(","),d=Rm(g);return l&&g.audioGroups?g.audioGroups.reduce((a,c)=>{var e;const o=c?(e=t.groups[c])==null?void 0:e.tracks:null;return o?o.reduce((u,f)=>{if(f.groupId===c){const A=parseFloat(f.channels||"");l.forEach(p=>{const m={contentType:eu(p,"audio"),bitrate:n?uE(p,d):d};A&&(m.channels=""+A),u.push(m)})}return u},a):a},[]):[]}function uE(g,t){if(t<=1)return 1;let n=128e3;return g==="ec-3"?n=768e3:g==="ac-3"&&(n=64e4),Math.min(t/2,n)}function Rm(g){return Math.ceil(Math.max(g.bitrate*.9,g.averageBitrate)/1e3)*1e3||1}function cE(g){let t="";const{audio:n,video:i}=g;if(i){const l=ch(i.contentType);t+=`${l}_r${i.height}x${i.width}f${Math.ceil(i.framerate)}${i.transferFunction||"sd"}_${Math.ceil(i.bitrate/1e5)}`}if(n){const l=ch(n.contentType);t+=`${i?"_":""}${l}_c${n.channels}`}return t}const fh=["NONE","TYPE-0","TYPE-1",null];function fE(g){return fh.indexOf(g)>-1}const Pc=["SDR","PQ","HLG"];function dE(g){return!!g&&Pc.indexOf(g)>-1}var Lc={No:"",Yes:"YES",v2:"v2"};function o0(g){const{canSkipUntil:t,canSkipDateRanges:n,age:i}=g,l=i<t/2;return t&&l?n?Lc.v2:Lc.Yes:Lc.No}class l0{constructor(t,n,i){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=t,this.part=n,this.skip=i}addDirectives(t){const n=new self.URL(t);return this.msn!==void 0&&n.searchParams.set("_HLS_msn",this.msn.toString()),this.part!==void 0&&n.searchParams.set("_HLS_part",this.part.toString()),this.skip&&n.searchParams.set("_HLS_skip",this.skip),n.href}}class nu{constructor(t){if(this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.url=void 0,this.frameRate=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.supplemental=void 0,this.videoCodec=void 0,this.width=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.supportedPromise=void 0,this.supportedResult=void 0,this._avgBitrate=0,this._audioGroups=void 0,this._subtitleGroups=void 0,this._urlId=0,this.url=[t.url],this._attrs=[t.attrs],this.bitrate=t.bitrate,t.details&&(this.details=t.details),this.id=t.id||0,this.name=t.name,this.width=t.width||0,this.height=t.height||0,this.frameRate=t.attrs.optionalFloat("FRAME-RATE",0),this._avgBitrate=t.attrs.decimalInteger("AVERAGE-BANDWIDTH"),this.audioCodec=t.audioCodec,this.videoCodec=t.videoCodec,this.codecSet=[t.videoCodec,t.audioCodec].filter(i=>!!i).map(i=>i.substring(0,4)).join(","),"supplemental"in t){var n;this.supplemental=t.supplemental;const i=(n=t.supplemental)==null?void 0:n.videoCodec;i&&i!==t.videoCodec&&(this.codecSet+=`,${i.substring(0,4)}`)}this.addGroupId("audio",t.attrs.AUDIO),this.addGroupId("text",t.attrs.SUBTITLES)}get maxBitrate(){return Math.max(this.realBitrate,this.bitrate)}get averageBitrate(){return this._avgBitrate||this.realBitrate||this.bitrate}get attrs(){return this._attrs[0]}get codecs(){return this.attrs.CODECS||""}get pathwayId(){return this.attrs["PATHWAY-ID"]||"."}get videoRange(){return this.attrs["VIDEO-RANGE"]||"SDR"}get score(){return this.attrs.optionalFloat("SCORE",0)}get uri(){return this.url[0]||""}hasAudioGroup(t){return u0(this._audioGroups,t)}hasSubtitleGroup(t){return u0(this._subtitleGroups,t)}get audioGroups(){return this._audioGroups}get subtitleGroups(){return this._subtitleGroups}addGroupId(t,n){if(n){if(t==="audio"){let i=this._audioGroups;i||(i=this._audioGroups=[]),i.indexOf(n)===-1&&i.push(n)}else if(t==="text"){let i=this._subtitleGroups;i||(i=this._subtitleGroups=[]),i.indexOf(n)===-1&&i.push(n)}}}get urlId(){return 0}set urlId(t){}get audioGroupIds(){return this.audioGroups?[this.audioGroupId]:void 0}get textGroupIds(){return this.subtitleGroups?[this.textGroupId]:void 0}get audioGroupId(){var t;return(t=this.audioGroups)==null?void 0:t[0]}get textGroupId(){var t;return(t=this.subtitleGroups)==null?void 0:t[0]}addFallback(){}}function u0(g,t){return!t||!g?!1:g.indexOf(t)!==-1}function hE(){if(typeof matchMedia=="function"){const g=matchMedia("(dynamic-range: high)"),t=matchMedia("bad query");if(g.media!==t.media)return g.matches===!0}return!1}function AE(g,t){let n=!1,i=[];if(g&&(n=g!=="SDR",i=[g]),t){i=t.allowedVideoRanges||Pc.slice(0);const l=i.join("")!=="SDR"&&!t.videoCodec;n=t.preferHDR!==void 0?t.preferHDR:l&&hE(),n||(i=["SDR"])}return{preferHDR:n,allowedVideoRanges:i}}const gE=g=>{const t=new WeakSet;return(n,i)=>{if(g&&(i=g(n,i)),typeof i=="object"&&i!==null){if(t.has(i))return;t.add(i)}return i}},wr=(g,t)=>JSON.stringify(g,gE(t));function pE(g,t,n,i,l){const d=Object.keys(g),a=i?.channels,c=i?.audioCodec,e=l?.videoCodec,o=a&&parseInt(a)===2;let u=!1,f=!1,A=1/0,p=1/0,m=1/0,y=1/0,E=0,C=[];const{preferHDR:T,allowedVideoRanges:x}=AE(t,l);for(let _=d.length;_--;){const M=g[d[_]];u||(u=M.channels[2]>0),A=Math.min(A,M.minHeight),p=Math.min(p,M.minFramerate),m=Math.min(m,M.minBitrate),x.filter(Q=>M.videoRanges[Q]>0).length>0&&(f=!0)}A=Qe(A)?A:0,p=Qe(p)?p:0;const L=Math.max(1080,A),D=Math.max(30,p);m=Qe(m)?m:n,n=Math.max(m,n),f||(t=void 0);const B=d.length>1;return{codecSet:d.reduce((_,M)=>{const U=g[M];if(M===_)return _;if(C=f?x.filter(Q=>U.videoRanges[Q]>0):[],B){if(U.minBitrate>n)return Ds(M,`min bitrate of ${U.minBitrate} > current estimate of ${n}`),_;if(!U.hasDefaultAudio)return Ds(M,"no renditions with default or auto-select sound found"),_;if(c&&M.indexOf(c.substring(0,4))%5!==0)return Ds(M,`audio codec preference "${c}" not found`),_;if(a&&!o){if(!U.channels[a])return Ds(M,`no renditions with ${a} channel sound found (channels options: ${Object.keys(U.channels)})`),_}else if((!c||o)&&u&&U.channels[2]===0)return Ds(M,"no renditions with stereo sound found"),_;if(U.minHeight>L)return Ds(M,`min resolution of ${U.minHeight} > maximum of ${L}`),_;if(U.minFramerate>D)return Ds(M,`min framerate of ${U.minFramerate} > maximum of ${D}`),_;if(!C.some(Q=>U.videoRanges[Q]>0))return Ds(M,`no variants with VIDEO-RANGE of ${wr(C)} found`),_;if(e&&M.indexOf(e.substring(0,4))%5!==0)return Ds(M,`video codec preference "${e}" not found`),_;if(U.maxScore<E)return Ds(M,`max score of ${U.maxScore} < selected max of ${E}`),_}return _&&(_c(M)>=_c(_)||U.fragmentError>g[_].fragmentError)?_:(y=U.minIndex,E=U.maxScore,M)},void 0),videoRanges:C,preferHDR:T,minFramerate:p,minBitrate:m,minIndex:y}}function Ds(g,t){fr.log(`[abr] start candidates with "${g}" ignored because ${t}`)}function Im(g){return g.reduce((t,n)=>{let i=t.groups[n.groupId];i||(i=t.groups[n.groupId]={tracks:[],channels:{2:0},hasDefault:!1,hasAutoSelect:!1}),i.tracks.push(n);const l=n.channels||"2";return i.channels[l]=(i.channels[l]||0)+1,i.hasDefault=i.hasDefault||n.default,i.hasAutoSelect=i.hasAutoSelect||n.autoselect,i.hasDefault&&(t.hasDefaultAudio=!0),i.hasAutoSelect&&(t.hasAutoSelectAudio=!0),t},{hasDefaultAudio:!1,hasAutoSelectAudio:!1,groups:{}})}function mE(g,t,n,i){return g.slice(n,i+1).reduce((l,d,a)=>{if(!d.codecSet)return l;const c=d.audioGroups;let e=l[d.codecSet];e||(l[d.codecSet]=e={minBitrate:1/0,minHeight:1/0,minFramerate:1/0,minIndex:a,maxScore:0,videoRanges:{SDR:0},channels:{2:0},hasDefaultAudio:!c,fragmentError:0}),e.minBitrate=Math.min(e.minBitrate,d.bitrate);const o=Math.min(d.height,d.width);return e.minHeight=Math.min(e.minHeight,o),e.minFramerate=Math.min(e.minFramerate,d.frameRate),e.minIndex=Math.min(e.minIndex,a),e.maxScore=Math.max(e.maxScore,d.score),e.fragmentError+=d.fragmentError,e.videoRanges[d.videoRange]=(e.videoRanges[d.videoRange]||0)+1,c&&c.forEach(u=>{if(!u)return;const f=t.groups[u];f&&(e.hasDefaultAudio=e.hasDefaultAudio||t.hasDefaultAudio?f.hasDefault:f.hasAutoSelect||!t.hasDefaultAudio&&!t.hasAutoSelectAudio,Object.keys(f.channels).forEach(A=>{e.channels[A]=(e.channels[A]||0)+f.channels[A]}))}),l},{})}function c0(g){if(!g)return g;const{lang:t,assocLang:n,characteristics:i,channels:l,audioCodec:d}=g;return{lang:t,assocLang:n,characteristics:i,channels:l,audioCodec:d}}function _s(g,t,n){if("attrs"in g){const i=t.indexOf(g);if(i!==-1)return i}for(let i=0;i<t.length;i++){const l=t[i];if(vo(g,l,n))return i}return-1}function vo(g,t,n){const{groupId:i,name:l,lang:d,assocLang:a,default:c}=g,e=g.forced;return(i===void 0||t.groupId===i)&&(l===void 0||t.name===l)&&(d===void 0||vE(d,t.lang))&&(d===void 0||t.assocLang===a)&&(c===void 0||t.default===c)&&(e===void 0||t.forced===e)&&(!("characteristics"in g)||yE(g.characteristics||"",t.characteristics))&&(n===void 0||n(g,t))}function vE(g,t="--"){return g.length===t.length?g===t:g.startsWith(t)||t.startsWith(g)}function yE(g,t=""){const n=g.split(","),i=t.split(",");return n.length===i.length&&!n.some(l=>i.indexOf(l)===-1)}function mo(g,t){const{audioCodec:n,channels:i}=g;return(n===void 0||(t.audioCodec||"").substring(0,4)===n.substring(0,4))&&(i===void 0||i===(t.channels||"2"))}function EE(g,t,n,i,l){const d=t[i],c=t.reduce((A,p,m)=>{const y=p.uri;return(A[y]||(A[y]=[])).push(m),A},{})[d.uri];c.length>1&&(i=Math.max.apply(Math,c));const e=d.videoRange,o=d.frameRate,u=d.codecSet.substring(0,4),f=f0(t,i,A=>{if(A.videoRange!==e||A.frameRate!==o||A.codecSet.substring(0,4)!==u)return!1;const p=A.audioGroups,m=n.filter(y=>!p||p.indexOf(y.groupId)!==-1);return _s(g,m,l)>-1});return f>-1?f:f0(t,i,A=>{const p=A.audioGroups,m=n.filter(y=>!p||p.indexOf(y.groupId)!==-1);return _s(g,m,l)>-1})}function f0(g,t,n){for(let i=t;i>-1;i--)if(n(g[i]))return i;for(let i=t+1;i<g.length;i++)if(n(g[i]))return i;return-1}function Nc(g,t){var n;return!!g&&g!==((n=t.loadLevelObj)==null?void 0:n.uri)}class bE extends ss{constructor(t){super("abr",t.logger),this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=-1,this.firstSelection=-1,this._nextAutoLevel=-1,this.nextAutoLevelKey="",this.audioTracksByGroup=null,this.codecTiers=null,this.timer=-1,this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.rebufferNotice=-1,this.supportedCache={},this.bwEstimator=void 0,this._abandonRulesCheck=n=>{var i;const{fragCurrent:l,partCurrent:d,hls:a}=this,{autoLevelEnabled:c,media:e}=a;if(!l||!e)return;const o=performance.now(),u=d?d.stats:l.stats,f=d?d.duration:l.duration,A=o-u.loading.start,p=a.minAutoLevel,m=l.level,y=this._nextAutoLevel;if(u.aborted||u.loaded&&u.loaded===u.total||m<=p){this.clearTimer(),this._nextAutoLevel=-1;return}if(!c)return;const E=y>-1&&y!==m,C=!!n||E;if(!C&&(e.paused||!e.playbackRate||!e.readyState))return;const T=a.mainForwardBufferInfo;if(!C&&T===null)return;const x=this.bwEstimator.getEstimateTTFB(),L=Math.abs(e.playbackRate);if(A<=Math.max(x,1e3*(f/(L*2))))return;const D=T?T.len/L:0,B=u.loading.first?u.loading.first-u.loading.start:-1,O=u.loaded&&B>-1,_=this.getBwEstimate(),M=a.levels,U=M[m],Q=Math.max(u.loaded,Math.round(f*(l.bitrate||U.averageBitrate)/8));let $=O?A-B:A;$<1&&O&&($=Math.min(A,u.loaded*8/_));const W=O?u.loaded*1e3/$:0,X=x/1e3,tt=W?(Q-u.loaded)/W:Q*8/_+X;if(tt<=D)return;const V=W?W*8:_,N=((i=n?.details||this.hls.latestLevelDetails)==null?void 0:i.live)===!0,K=this.hls.config.abrBandWidthUpFactor;let at=Number.POSITIVE_INFINITY,G;for(G=m-1;G>p;G--){const bt=M[G].maxBitrate,Ct=!M[G].details||N;if(at=this.getTimeToLoadFrag(X,V,f*bt,Ct),at<Math.min(D,f+X))break}if(at>=tt||at>f*10)return;O?this.bwEstimator.sample(A-Math.min(x,B),u.loaded):this.bwEstimator.sampleTTFB(A);const q=M[G].maxBitrate;this.getBwEstimate()*K>q&&this.resetEstimator(q);const et=this.findBestLevel(q,p,G,0,D,1,1);et>-1&&(G=et),this.warn(`Fragment ${l.sn}${d?" part "+d.index:""} of level ${m} is loading too slowly;
      Fragment duration: ${l.duration.toFixed(3)}
      Time to underbuffer: ${D.toFixed(3)} s
      Estimated load time for current fragment: ${tt.toFixed(3)} s
      Estimated load time for down switch fragment: ${at.toFixed(3)} s
      TTFB estimate: ${B|0} ms
      Current BW estimate: ${Qe(_)?_|0:"Unknown"} bps
      New BW estimate: ${this.getBwEstimate()|0} bps
      Switching to level ${G} @ ${q|0} bps`),a.nextLoadLevel=a.nextAutoLevel=G,this.clearTimer();const ot=()=>{if(this.clearTimer(),this.fragCurrent===l&&this.hls.loadLevel===G&&G>0){const bt=this.getStarvationDelay();if(this.warn(`Aborting inflight request ${G>0?"and switching down":""}
      Fragment duration: ${l.duration.toFixed(3)} s
      Time to underbuffer: ${bt.toFixed(3)} s`),l.abortRequests(),this.fragCurrent=this.partCurrent=null,G>p){let Ct=this.findBestLevel(this.hls.levels[p].bitrate,p,G,0,bt,1,1);Ct===-1&&(Ct=p),this.hls.nextLoadLevel=this.hls.nextAutoLevel=Ct,this.resetEstimator(this.hls.levels[Ct].bitrate)}}};E||tt>at*2?ot():this.timer=self.setInterval(ot,at*1e3),a.trigger(F.FRAG_LOAD_EMERGENCY_ABORTED,{frag:l,part:d,stats:u})},this.hls=t,this.bwEstimator=this.initEstimator(),this.registerListeners()}resetEstimator(t){t&&(this.log(`setting initial bwe to ${t}`),this.hls.config.abrEwmaDefaultEstimate=t),this.firstSelection=-1,this.bwEstimator=this.initEstimator()}initEstimator(){const t=this.hls.config;return new I1(t.abrEwmaSlowVoD,t.abrEwmaFastVoD,t.abrEwmaDefaultEstimate)}registerListeners(){const{hls:t}=this;t.on(F.MANIFEST_LOADING,this.onManifestLoading,this),t.on(F.FRAG_LOADING,this.onFragLoading,this),t.on(F.FRAG_LOADED,this.onFragLoaded,this),t.on(F.FRAG_BUFFERED,this.onFragBuffered,this),t.on(F.LEVEL_SWITCHING,this.onLevelSwitching,this),t.on(F.LEVEL_LOADED,this.onLevelLoaded,this),t.on(F.LEVELS_UPDATED,this.onLevelsUpdated,this),t.on(F.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),t.on(F.ERROR,this.onError,this)}unregisterListeners(){const{hls:t}=this;t&&(t.off(F.MANIFEST_LOADING,this.onManifestLoading,this),t.off(F.FRAG_LOADING,this.onFragLoading,this),t.off(F.FRAG_LOADED,this.onFragLoaded,this),t.off(F.FRAG_BUFFERED,this.onFragBuffered,this),t.off(F.LEVEL_SWITCHING,this.onLevelSwitching,this),t.off(F.LEVEL_LOADED,this.onLevelLoaded,this),t.off(F.LEVELS_UPDATED,this.onLevelsUpdated,this),t.off(F.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),t.off(F.ERROR,this.onError,this))}destroy(){this.unregisterListeners(),this.clearTimer(),this.hls=this._abandonRulesCheck=this.supportedCache=null,this.fragCurrent=this.partCurrent=null}onManifestLoading(t,n){this.lastLoadedFragLevel=-1,this.firstSelection=-1,this.lastLevelLoadSec=0,this.supportedCache={},this.fragCurrent=this.partCurrent=null,this.onLevelsUpdated(),this.clearTimer()}onLevelsUpdated(){this.lastLoadedFragLevel>-1&&this.fragCurrent&&(this.lastLoadedFragLevel=this.fragCurrent.level),this._nextAutoLevel=-1,this.onMaxAutoLevelUpdated(),this.codecTiers=null,this.audioTracksByGroup=null}onMaxAutoLevelUpdated(){this.firstSelection=-1,this.nextAutoLevelKey=""}onFragLoading(t,n){const i=n.frag;if(!this.ignoreFragment(i)){if(!i.bitrateTest){var l;this.fragCurrent=i,this.partCurrent=(l=n.part)!=null?l:null}this.clearTimer(),this.timer=self.setInterval(this._abandonRulesCheck,100)}}onLevelSwitching(t,n){this.clearTimer()}onError(t,n){if(!n.fatal)switch(n.details){case Ot.BUFFER_ADD_CODEC_ERROR:case Ot.BUFFER_APPEND_ERROR:this.lastLoadedFragLevel=-1,this.firstSelection=-1;break;case Ot.FRAG_LOAD_TIMEOUT:{const i=n.frag,{fragCurrent:l,partCurrent:d}=this;if(i&&l&&i.sn===l.sn&&i.level===l.level){const a=performance.now(),c=d?d.stats:i.stats,e=a-c.loading.start,o=c.loading.first?c.loading.first-c.loading.start:-1;if(c.loaded&&o>-1){const f=this.bwEstimator.getEstimateTTFB();this.bwEstimator.sample(e-Math.min(f,o),c.loaded)}else this.bwEstimator.sampleTTFB(e)}break}}}getTimeToLoadFrag(t,n,i,l){const d=t+i/n,a=l?t+this.lastLevelLoadSec:0;return d+a}onLevelLoaded(t,n){const i=this.hls.config,{loading:l}=n.stats,d=l.end-l.first;Qe(d)&&(this.lastLevelLoadSec=d/1e3),n.details.live?this.bwEstimator.update(i.abrEwmaSlowLive,i.abrEwmaFastLive):this.bwEstimator.update(i.abrEwmaSlowVoD,i.abrEwmaFastVoD),this.timer>-1&&this._abandonRulesCheck(n.levelInfo)}onFragLoaded(t,{frag:n,part:i}){const l=i?i.stats:n.stats;if(n.type===Ze.MAIN&&this.bwEstimator.sampleTTFB(l.loading.first-l.loading.start),!this.ignoreFragment(n)){if(this.clearTimer(),n.level===this._nextAutoLevel&&(this._nextAutoLevel=-1),this.firstSelection=-1,this.hls.config.abrMaxWithRealBitrate){const d=i?i.duration:n.duration,a=this.hls.levels[n.level],c=(a.loaded?a.loaded.bytes:0)+l.loaded,e=(a.loaded?a.loaded.duration:0)+d;a.loaded={bytes:c,duration:e},a.realBitrate=Math.round(8*c/e)}if(n.bitrateTest){const d={stats:l,frag:n,part:i,id:n.type};this.onFragBuffered(F.FRAG_BUFFERED,d),n.bitrateTest=!1}else this.lastLoadedFragLevel=n.level}}onFragBuffered(t,n){const{frag:i,part:l}=n,d=l!=null&&l.stats.loaded?l.stats:i.stats;if(d.aborted||this.ignoreFragment(i))return;const a=d.parsing.end-d.loading.start-Math.min(d.loading.first-d.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(a,d.loaded),d.bwEstimate=this.getBwEstimate(),i.bitrateTest?this.bitrateTestDelay=a/1e3:this.bitrateTestDelay=0}ignoreFragment(t){return t.type!==Ze.MAIN||t.sn==="initSegment"}clearTimer(){this.timer>-1&&(self.clearInterval(this.timer),this.timer=-1)}get firstAutoLevel(){const{maxAutoLevel:t,minAutoLevel:n}=this.hls,i=this.getBwEstimate(),l=this.hls.config.maxStarvationDelay,d=this.findBestLevel(i,n,t,0,l,1,1);if(d>-1)return d;const a=this.hls.firstLevel,c=Math.min(Math.max(a,n),t);return this.warn(`Could not find best starting auto level. Defaulting to first in playlist ${a} clamped to ${c}`),c}get forcedAutoLevel(){return this.nextAutoLevelKey?-1:this._nextAutoLevel}get nextAutoLevel(){const t=this.forcedAutoLevel,i=this.bwEstimator.canEstimate(),l=this.lastLoadedFragLevel>-1;if(t!==-1&&(!i||!l||this.nextAutoLevelKey===this.getAutoLevelKey()))return t;const d=i&&l?this.getNextABRAutoLevel():this.firstAutoLevel;if(t!==-1){const a=this.hls.levels;if(a.length>Math.max(t,d)&&a[t].loadError<=a[d].loadError)return t}return this._nextAutoLevel=d,this.nextAutoLevelKey=this.getAutoLevelKey(),d}getAutoLevelKey(){return`${this.getBwEstimate()}_${this.getStarvationDelay().toFixed(2)}`}getNextABRAutoLevel(){const{fragCurrent:t,partCurrent:n,hls:i}=this;if(i.levels.length<=1)return i.loadLevel;const{maxAutoLevel:l,config:d,minAutoLevel:a}=i,c=n?n.duration:t?t.duration:0,e=this.getBwEstimate(),o=this.getStarvationDelay();let u=d.abrBandWidthFactor,f=d.abrBandWidthUpFactor;if(o){const E=this.findBestLevel(e,a,l,o,0,u,f);if(E>=0)return this.rebufferNotice=-1,E}let A=c?Math.min(c,d.maxStarvationDelay):d.maxStarvationDelay;if(!o){const E=this.bitrateTestDelay;E&&(A=(c?Math.min(c,d.maxLoadingDelay):d.maxLoadingDelay)-E,this.info(`bitrate test took ${Math.round(1e3*E)}ms, set first fragment max fetchDuration to ${Math.round(1e3*A)} ms`),u=f=1)}const p=this.findBestLevel(e,a,l,o,A,u,f);if(this.rebufferNotice!==p&&(this.rebufferNotice=p,this.info(`${o?"rebuffering expected":"buffer is empty"}, optimal quality level ${p}`)),p>-1)return p;const m=i.levels[a],y=i.loadLevelObj;return y&&m?.bitrate<y.bitrate?a:i.loadLevel}getStarvationDelay(){const t=this.hls,n=t.media;if(!n)return 1/0;const i=n&&n.playbackRate!==0?Math.abs(n.playbackRate):1,l=t.mainForwardBufferInfo;return(l?l.len:0)/i}getBwEstimate(){return this.bwEstimator.canEstimate()?this.bwEstimator.getEstimate():this.hls.config.abrEwmaDefaultEstimate}findBestLevel(t,n,i,l,d,a,c){var e;const o=l+d,u=this.lastLoadedFragLevel,f=u===-1?this.hls.firstLevel:u,{fragCurrent:A,partCurrent:p}=this,{levels:m,allAudioTracks:y,loadLevel:E,config:C}=this.hls;if(m.length===1)return 0;const T=m[f],x=!!((e=this.hls.latestLevelDetails)!=null&&e.live),L=E===-1||u===-1;let D,B="SDR",O=T?.frameRate||0;const{audioPreference:_,videoPreference:M}=C,U=this.audioTracksByGroup||(this.audioTracksByGroup=Im(y));let Q=-1;if(L){if(this.firstSelection!==-1)return this.firstSelection;const V=this.codecTiers||(this.codecTiers=mE(m,U,n,i)),N=pE(V,B,t,_,M),{codecSet:K,videoRanges:at,minFramerate:G,minBitrate:q,minIndex:et,preferHDR:ot}=N;Q=et,D=K,B=ot?at[at.length-1]:at[0],O=G,t=Math.max(t,q),this.log(`picked start tier ${wr(N)}`)}else D=T?.codecSet,B=T?.videoRange;const $=p?p.duration:A?A.duration:0,W=this.bwEstimator.getEstimateTTFB()/1e3,X=[];for(let V=i;V>=n;V--){var tt;const N=m[V],K=V>f;if(!N)continue;if(C.useMediaCapabilities&&!N.supportedResult&&!N.supportedPromise){const Ct=navigator.mediaCapabilities;typeof Ct?.decodingInfo=="function"&&aE(N,U,B,O,t,_)?(N.supportedPromise=Lm(N,U,Ct,this.supportedCache),N.supportedPromise.then(Tt=>{if(!this.hls)return;N.supportedResult=Tt;const $t=this.hls.levels,Vt=$t.indexOf(N);Tt.error?this.warn(`MediaCapabilities decodingInfo error: "${Tt.error}" for level ${Vt} ${wr(Tt)}`):Tt.supported?Tt.decodingInfoResults.some(jt=>jt.smooth===!1||jt.powerEfficient===!1)&&this.log(`MediaCapabilities decodingInfo for level ${Vt} not smooth or powerEfficient: ${wr(Tt)}`):(this.warn(`Unsupported MediaCapabilities decodingInfo result for level ${Vt} ${wr(Tt)}`),Vt>-1&&$t.length>1&&(this.log(`Removing unsupported level ${Vt}`),this.hls.removeLevel(Vt),this.hls.loadLevel===-1&&(this.hls.nextLoadLevel=0)))}).catch(Tt=>{this.warn(`Error handling MediaCapabilities decodingInfo: ${Tt}`)})):N.supportedResult=xm}if((D&&N.codecSet!==D||B&&N.videoRange!==B||K&&O>N.frameRate||!K&&O>0&&O<N.frameRate||(tt=N.supportedResult)!=null&&(tt=tt.decodingInfoResults)!=null&&tt.some(Ct=>Ct.smooth===!1))&&(!L||V!==Q)){X.push(V);continue}const at=N.details,G=(p?at?.partTarget:at?.averagetargetduration)||$;let q;K?q=c*t:q=a*t;const et=$&&l>=$*2&&d===0?N.averageBitrate:N.maxBitrate,ot=this.getTimeToLoadFrag(W,q,et*G,at===void 0);if(q>=et&&(V===u||N.loadError===0&&N.fragmentError===0)&&(ot<=W||!Qe(ot)||x&&!this.bitrateTestDelay||ot<o)){const Ct=this.forcedAutoLevel;return V!==E&&(Ct===-1||Ct!==E)&&(X.length&&this.trace(`Skipped level(s) ${X.join(",")} of ${i} max with CODECS and VIDEO-RANGE:"${m[X[0]].codecs}" ${m[X[0]].videoRange}; not compatible with "${D}" ${B}`),this.info(`switch candidate:${f}->${V} adjustedbw(${Math.round(q)})-bitrate=${Math.round(q-et)} ttfb:${W.toFixed(1)} avgDuration:${G.toFixed(1)} maxFetchDuration:${o.toFixed(1)} fetchDuration:${ot.toFixed(1)} firstSelection:${L} codecSet:${N.codecSet} videoRange:${N.videoRange} hls.loadLevel:${E}`)),L&&(this.firstSelection=V),V}}return-1}set nextAutoLevel(t){const n=this.deriveNextAutoLevel(t);this._nextAutoLevel!==n&&(this.nextAutoLevelKey="",this._nextAutoLevel=n)}deriveNextAutoLevel(t){const{maxAutoLevel:n,minAutoLevel:i}=this.hls;return Math.min(Math.max(t,i),n)}}const Dm={search:function(g,t){let n=0,i=g.length-1,l=null,d=null;for(;n<=i;){l=(n+i)/2|0,d=g[l];const a=t(d);if(a>0)n=l+1;else if(a<0)i=l-1;else return d}return null}};function CE(g,t,n){if(t===null||!Array.isArray(g)||!g.length||!Qe(t))return null;const i=g[0].programDateTime;if(t<(i||0))return null;const l=g[g.length-1].endProgramDateTime;if(t>=(l||0))return null;for(let d=0;d<g.length;++d){const a=g[d];if(TE(t,n,a))return a}return null}function yo(g,t,n=0,i=0,l=.005){let d=null;if(g){d=t[1+g.sn-t[0].sn]||null;const c=g.endDTS-n;c>0&&c<15e-7&&(n+=15e-7),d&&g.level!==d.level&&d.end<=g.end&&(d=t[2+g.sn-t[0].sn]||null)}else n===0&&t[0].start===0&&(d=t[0]);if(d&&((!g||g.level===d.level)&&d0(n,i,d)===0||SE(d,g,Math.min(l,i))))return d;const a=Dm.search(t,d0.bind(null,n,i));return a&&(a!==g||!d)?a:d}function SE(g,t,n){if(t&&t.start===0&&t.level<g.level&&(t.endPTS||0)>0){const i=t.tagList.reduce((l,d)=>(d[0]==="INF"&&(l+=parseFloat(d[1])),l),n);return g.start<=i}return!1}function d0(g=0,t=0,n){if(n.start<=g&&n.start+n.duration>g)return 0;const i=Math.min(t,n.duration+(n.deltaPTS?n.deltaPTS:0));return n.start+n.duration-i<=g?1:n.start-i>g&&n.start?-1:0}function TE(g,t,n){const i=Math.min(t,n.duration+(n.deltaPTS?n.deltaPTS:0))*1e3;return(n.endProgramDateTime||0)-i>g}function km(g,t,n){if(g&&g.startCC<=t&&g.endCC>=t){let i=g.fragments;const{fragmentHint:l}=g;l&&(i=i.concat(l));let d;return Dm.search(i,a=>a.cc<t?1:a.cc>t?-1:(d=a,a.end<=n?1:a.start>n?-1:0)),d||null}return null}function Uc(g){switch(g.details){case Ot.FRAG_LOAD_TIMEOUT:case Ot.KEY_LOAD_TIMEOUT:case Ot.LEVEL_LOAD_TIMEOUT:case Ot.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function h0(g,t){const n=Uc(t);return g.default[`${n?"timeout":"error"}Retry`]}function Oh(g,t){const n=g.backoff==="linear"?1:Math.pow(2,t);return Math.min(n*g.retryDelayMs,g.maxRetryDelayMs)}function A0(g){return pr(pr({},g),{errorRetry:null,timeoutRetry:null})}function Fc(g,t,n,i){if(!g)return!1;const l=i?.code,d=t<g.maxNumRetry&&(xE(l)||!!n);return g.shouldRetry?g.shouldRetry(g,t,n,i,d):d}function xE(g){return dh(g)||!!g&&(g<400||g>499)}function dh(g){return g===0&&navigator.onLine===!1}var di={DoNothing:0,SendAlternateToPenaltyBox:2,RemoveAlternatePermanently:3,RetryRequest:5},$i={None:0,MoveAllAlternatesMatchingHost:1,MoveAllAlternatesMatchingHDCP:2,MoveAllAlternatesMatchingKey:4};class wE extends ss{constructor(t){super("error-controller",t.logger),this.hls=void 0,this.playlistError=0,this.hls=t,this.registerListeners()}registerListeners(){const t=this.hls;t.on(F.ERROR,this.onError,this),t.on(F.MANIFEST_LOADING,this.onManifestLoading,this),t.on(F.LEVEL_UPDATED,this.onLevelUpdated,this)}unregisterListeners(){const t=this.hls;t&&(t.off(F.ERROR,this.onError,this),t.off(F.ERROR,this.onErrorOut,this),t.off(F.MANIFEST_LOADING,this.onManifestLoading,this),t.off(F.LEVEL_UPDATED,this.onLevelUpdated,this))}destroy(){this.unregisterListeners(),this.hls=null}startLoad(t){}stopLoad(){this.playlistError=0}getVariantLevelIndex(t){return t?.type===Ze.MAIN?t.level:this.getVariantIndex()}getVariantIndex(){var t;const n=this.hls,i=n.currentLevel;return(t=n.loadLevelObj)!=null&&t.details||i===-1?n.loadLevel:i}variantHasKey(t,n){if(t){var i;if((i=t.details)!=null&&i.hasKey(n))return!0;const l=t.audioGroups;if(l)return this.hls.allAudioTracks.filter(a=>l.indexOf(a.groupId)>=0).some(a=>{var c;return(c=a.details)==null?void 0:c.hasKey(n)})}return!1}onManifestLoading(){this.playlistError=0}onLevelUpdated(){this.playlistError=0}onError(t,n){var i;if(n.fatal)return;const l=this.hls,d=n.context;switch(n.details){case Ot.FRAG_LOAD_ERROR:case Ot.FRAG_LOAD_TIMEOUT:case Ot.KEY_LOAD_ERROR:case Ot.KEY_LOAD_TIMEOUT:n.errorAction=this.getFragRetryOrSwitchAction(n);return;case Ot.FRAG_PARSING_ERROR:if((i=n.frag)!=null&&i.gap){n.errorAction=sl();return}case Ot.FRAG_GAP:case Ot.FRAG_DECRYPT_ERROR:{n.errorAction=this.getFragRetryOrSwitchAction(n),n.errorAction.action=di.SendAlternateToPenaltyBox;return}case Ot.LEVEL_EMPTY_ERROR:case Ot.LEVEL_PARSING_ERROR:{var a;const e=n.parent===Ze.MAIN?n.level:l.loadLevel;n.details===Ot.LEVEL_EMPTY_ERROR&&((a=n.context)!=null&&(a=a.levelDetails)!=null&&a.live)?n.errorAction=this.getPlaylistRetryOrSwitchAction(n,e):(n.levelRetry=!1,n.errorAction=this.getLevelSwitchAction(n,e))}return;case Ot.LEVEL_LOAD_ERROR:case Ot.LEVEL_LOAD_TIMEOUT:typeof d?.level=="number"&&(n.errorAction=this.getPlaylistRetryOrSwitchAction(n,d.level));return;case Ot.AUDIO_TRACK_LOAD_ERROR:case Ot.AUDIO_TRACK_LOAD_TIMEOUT:case Ot.SUBTITLE_LOAD_ERROR:case Ot.SUBTITLE_TRACK_LOAD_TIMEOUT:if(d){const e=l.loadLevelObj;if(e&&(d.type===jn.AUDIO_TRACK&&e.hasAudioGroup(d.groupId)||d.type===jn.SUBTITLE_TRACK&&e.hasSubtitleGroup(d.groupId))){n.errorAction=this.getPlaylistRetryOrSwitchAction(n,l.loadLevel),n.errorAction.action=di.SendAlternateToPenaltyBox,n.errorAction.flags=$i.MoveAllAlternatesMatchingHost;return}}return;case Ot.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:n.errorAction={action:di.SendAlternateToPenaltyBox,flags:$i.MoveAllAlternatesMatchingHDCP};return;case Ot.KEY_SYSTEM_SESSION_UPDATE_FAILED:case Ot.KEY_SYSTEM_STATUS_INTERNAL_ERROR:case Ot.KEY_SYSTEM_NO_SESSION:n.errorAction={action:di.SendAlternateToPenaltyBox,flags:$i.MoveAllAlternatesMatchingKey};return;case Ot.BUFFER_ADD_CODEC_ERROR:case Ot.REMUX_ALLOC_ERROR:case Ot.BUFFER_APPEND_ERROR:if(!n.errorAction){var c;n.errorAction=this.getLevelSwitchAction(n,(c=n.level)!=null?c:l.loadLevel)}return;case Ot.INTERNAL_EXCEPTION:case Ot.BUFFER_APPENDING_ERROR:case Ot.BUFFER_FULL_ERROR:case Ot.LEVEL_SWITCH_ERROR:case Ot.BUFFER_STALLED_ERROR:case Ot.BUFFER_SEEK_OVER_HOLE:case Ot.BUFFER_NUDGE_ON_STALL:n.errorAction=sl();return}n.type===nn.KEY_SYSTEM_ERROR&&(n.levelRetry=!1,n.errorAction=sl())}getPlaylistRetryOrSwitchAction(t,n){const i=this.hls,l=h0(i.config.playlistLoadPolicy,t),d=this.playlistError++;if(Fc(l,d,Uc(t),t.response))return{action:di.RetryRequest,flags:$i.None,retryConfig:l,retryCount:d};const c=this.getLevelSwitchAction(t,n);return l&&(c.retryConfig=l,c.retryCount=d),c}getFragRetryOrSwitchAction(t){const n=this.hls,i=this.getVariantLevelIndex(t.frag),l=n.levels[i],{fragLoadPolicy:d,keyLoadPolicy:a}=n.config,c=h0(t.details.startsWith("key")?a:d,t),e=n.levels.reduce((u,f)=>u+f.fragmentError,0);if(l&&(t.details!==Ot.FRAG_GAP&&l.fragmentError++,Fc(c,e,Uc(t),t.response)))return{action:di.RetryRequest,flags:$i.None,retryConfig:c,retryCount:e};const o=this.getLevelSwitchAction(t,i);return c&&(o.retryConfig=c,o.retryCount=e),o}getLevelSwitchAction(t,n){const i=this.hls;n==null&&(n=i.loadLevel);const l=this.hls.levels[n];if(l){var d,a;const o=t.details;l.loadError++,o===Ot.BUFFER_APPEND_ERROR&&l.fragmentError++;let u=-1;const{levels:f,loadLevel:A,minAutoLevel:p,maxAutoLevel:m}=i;!i.autoLevelEnabled&&!i.config.preserveManualLevelOnError&&(i.loadLevel=-1);const y=(d=t.frag)==null?void 0:d.type,C=(y===Ze.AUDIO&&o===Ot.FRAG_PARSING_ERROR||t.sourceBufferName==="audio"&&(o===Ot.BUFFER_ADD_CODEC_ERROR||o===Ot.BUFFER_APPEND_ERROR))&&f.some(({audioCodec:B})=>l.audioCodec!==B),x=t.sourceBufferName==="video"&&(o===Ot.BUFFER_ADD_CODEC_ERROR||o===Ot.BUFFER_APPEND_ERROR)&&f.some(({codecSet:B,audioCodec:O})=>l.codecSet!==B&&l.audioCodec===O),{type:L,groupId:D}=(a=t.context)!=null?a:{};for(let B=f.length;B--;){const O=(B+A)%f.length;if(O!==A&&O>=p&&O<=m&&f[O].loadError===0){var c,e;const _=f[O];if(o===Ot.FRAG_GAP&&y===Ze.MAIN&&t.frag){const M=f[O].details;if(M){const U=yo(t.frag,M.fragments,t.frag.start);if(U!=null&&U.gap)continue}}else{if(L===jn.AUDIO_TRACK&&_.hasAudioGroup(D)||L===jn.SUBTITLE_TRACK&&_.hasSubtitleGroup(D))continue;if(y===Ze.AUDIO&&(c=l.audioGroups)!=null&&c.some(M=>_.hasAudioGroup(M))||y===Ze.SUBTITLE&&(e=l.subtitleGroups)!=null&&e.some(M=>_.hasSubtitleGroup(M))||C&&l.audioCodec===_.audioCodec||x&&l.codecSet===_.codecSet||!C&&l.codecSet!==_.codecSet)continue}u=O;break}}if(u>-1&&i.loadLevel!==u)return t.levelRetry=!0,this.playlistError=0,{action:di.SendAlternateToPenaltyBox,flags:$i.None,nextAutoLevel:u}}return{action:di.SendAlternateToPenaltyBox,flags:$i.MoveAllAlternatesMatchingHost}}onErrorOut(t,n){var i;switch((i=n.errorAction)==null?void 0:i.action){case di.DoNothing:break;case di.SendAlternateToPenaltyBox:this.sendAlternateToPenaltyBox(n),!n.errorAction.resolved&&n.details!==Ot.FRAG_GAP?n.fatal=!0:/MediaSource readyState: ended/.test(n.error.message)&&(this.warn(`MediaSource ended after "${n.sourceBufferName}" sourceBuffer append error. Attempting to recover from media error.`),this.hls.recoverMediaError());break}if(n.fatal){this.hls.stopLoad();return}}sendAlternateToPenaltyBox(t){const n=this.hls,i=t.errorAction;if(!i)return;const{flags:l}=i,d=i.nextAutoLevel;switch(l){case $i.None:this.switchLevel(t,d);break;case $i.MoveAllAlternatesMatchingHDCP:{const e=this.getVariantLevelIndex(t.frag),o=n.levels[e],u=o?.attrs["HDCP-LEVEL"];if(i.hdcpLevel=u,u){n.maxHdcpLevel=fh[fh.indexOf(u)-1],i.resolved=!0,this.warn(`Restricting playback to HDCP-LEVEL of "${n.maxHdcpLevel}" or lower`);break}}case $i.MoveAllAlternatesMatchingKey:{const e=t.decryptdata;if(e){const o=this.hls.levels;for(let u=o.length;u--;)if(this.variantHasKey(o[u],e)){var a,c;this.log(`Banned key found in level ${u} (${o[u].bitrate}bps) or audio group "${(a=o[u].audioGroups)==null?void 0:a.join(",")}" (${(c=t.frag)==null?void 0:c.type} fragment) ${Ki(e.keyId||[])}`),o[u].fragmentError++,o[u].loadError++,this.log(`Removing level ${u} with key error (${t.error})`),this.hls.removeLevel(u)}o.length&&(i.resolved=!0)}break}}i.resolved||this.switchLevel(t,d)}switchLevel(t,n){if(n!==void 0&&t.errorAction&&(this.warn(`switching to level ${n} after ${t.details}`),this.hls.nextAutoLevel=n,t.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel,t.details===Ot.BUFFER_ADD_CODEC_ERROR&&t.mimeType&&t.sourceBufferName!=="audiovideo")){const i=ch(t.mimeType),l=this.hls.levels;for(let d=l.length;d--;)l[d][`${t.sourceBufferName}Codec`]===i&&(this.log(`Removing level ${d} for ${t.details} ("${i}" not supported)`),this.hls.removeLevel(d))}}}function sl(g){const t={action:di.DoNothing,flags:$i.None};return g&&(t.resolved=!0),t}var ti={NOT_LOADED:"NOT_LOADED",APPENDING:"APPENDING",PARTIAL:"PARTIAL",OK:"OK"};class LE{constructor(t){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=t,this._registerListeners()}_registerListeners(){const{hls:t}=this;t&&(t.on(F.MANIFEST_LOADING,this.onManifestLoading,this),t.on(F.BUFFER_APPENDED,this.onBufferAppended,this),t.on(F.FRAG_BUFFERED,this.onFragBuffered,this),t.on(F.FRAG_LOADED,this.onFragLoaded,this))}_unregisterListeners(){const{hls:t}=this;t&&(t.off(F.MANIFEST_LOADING,this.onManifestLoading,this),t.off(F.BUFFER_APPENDED,this.onBufferAppended,this),t.off(F.FRAG_BUFFERED,this.onFragBuffered,this),t.off(F.FRAG_LOADED,this.onFragLoaded,this))}destroy(){this._unregisterListeners(),this.hls=this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}getAppendedFrag(t,n){const i=this.activePartLists[n];if(i)for(let l=i.length;l--;){const d=i[l];if(!d)break;if(d.start<=t&&t<=d.end&&d.loaded)return d}return this.getBufferedFrag(t,n)}getBufferedFrag(t,n){return this.getFragAtPos(t,n,!0)}getFragAtPos(t,n,i){const{fragments:l}=this,d=Object.keys(l);for(let a=d.length;a--;){const c=l[d[a]];if(c?.body.type===n&&(!i||c.buffered)){const e=c.body;if(e.start<=t&&t<=e.end)return e}}return null}detectEvictedFragments(t,n,i,l,d){this.timeRanges&&(this.timeRanges[t]=n);const a=l?.fragment.sn||-1;Object.keys(this.fragments).forEach(c=>{const e=this.fragments[c];if(!e||a>=e.body.sn)return;if(!e.buffered&&(!e.loaded||d)){e.body.type===i&&this.removeFragment(e.body);return}const o=e.range[t];if(o){if(o.time.length===0){this.removeFragment(e.body);return}o.time.some(u=>{const f=!this.isTimeBuffered(u.startPTS,u.endPTS,n);return f&&this.removeFragment(e.body),f})}})}detectPartialFragments(t){const n=this.timeRanges;if(!n||t.frag.sn==="initSegment")return;const i=t.frag,l=Jo(i),d=this.fragments[l];if(!d||d.buffered&&i.gap)return;const a=!i.relurl;Object.keys(n).forEach(c=>{const e=i.elementaryStreams[c];if(!e)return;const o=n[c],u=a||e.partial===!0;d.range[c]=this.getBufferedTimes(i,t.part,u,o)}),d.loaded=null,Object.keys(d.range).length?(d.buffered=!0,(d.body.endList=i.endList||d.body.endList)&&(this.endListFragments[d.body.type]=d),hc(d)||this.removeParts(i.sn-1,i.type)):this.removeFragment(d.body)}removeParts(t,n){const i=this.activePartLists[n];i&&(this.activePartLists[n]=g0(i,l=>l.fragment.sn>=t))}fragBuffered(t,n){const i=Jo(t);let l=this.fragments[i];!l&&n&&(l=this.fragments[i]={body:t,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},t.gap&&(this.hasGaps=!0)),l&&(l.loaded=null,l.buffered=!0)}getBufferedTimes(t,n,i,l){const d={time:[],partial:i},a=t.start,c=t.end,e=t.minEndPTS||c,o=t.maxStartPTS||a;for(let u=0;u<l.length;u++){const f=l.start(u)-this.bufferPadding,A=l.end(u)+this.bufferPadding;if(o>=f&&e<=A){d.time.push({startPTS:Math.max(a,l.start(u)),endPTS:Math.min(c,l.end(u))});break}else if(a<A&&c>f){const p=Math.max(a,l.start(u)),m=Math.min(c,l.end(u));m>p&&(d.partial=!0,d.time.push({startPTS:p,endPTS:m}))}else if(c<=f)break}return d}getPartialFragment(t){let n=null,i,l,d,a=0;const{bufferPadding:c,fragments:e}=this;return Object.keys(e).forEach(o=>{const u=e[o];u&&hc(u)&&(l=u.body.start-c,d=u.body.end+c,t>=l&&t<=d&&(i=Math.min(t-l,d-t),a<=i&&(n=u.body,a=i)))}),n}isEndListAppended(t){const n=this.endListFragments[t];return n!==void 0&&(n.buffered||hc(n))}getState(t){const n=Jo(t),i=this.fragments[n];return i?i.buffered?hc(i)?ti.PARTIAL:ti.OK:ti.APPENDING:ti.NOT_LOADED}isTimeBuffered(t,n,i){let l,d;for(let a=0;a<i.length;a++){if(l=i.start(a)-this.bufferPadding,d=i.end(a)+this.bufferPadding,t>=l&&n<=d)return!0;if(n<=l)return!1}return!1}onManifestLoading(){this.removeAllFragments()}onFragLoaded(t,n){if(n.frag.sn==="initSegment"||n.frag.bitrateTest)return;const i=n.frag,l=n.part?null:n,d=Jo(i);this.fragments[d]={body:i,appendedPTS:null,loaded:l,buffered:!1,range:Object.create(null)}}onBufferAppended(t,n){const{frag:i,part:l,timeRanges:d,type:a}=n;if(i.sn==="initSegment")return;const c=i.type;if(l){let o=this.activePartLists[c];o||(this.activePartLists[c]=o=[]),o.push(l)}this.timeRanges=d;const e=d[a];this.detectEvictedFragments(a,e,c,l)}onFragBuffered(t,n){this.detectPartialFragments(n)}hasFragment(t){const n=Jo(t);return!!this.fragments[n]}hasFragments(t){const{fragments:n}=this,i=Object.keys(n);if(!t)return i.length>0;for(let l=i.length;l--;){const d=n[i[l]];if(d?.body.type===t)return!0}return!1}hasParts(t){var n;return!!((n=this.activePartLists[t])!=null&&n.length)}removeFragmentsInRange(t,n,i,l,d){l&&!this.hasGaps||Object.keys(this.fragments).forEach(a=>{const c=this.fragments[a];if(!c)return;const e=c.body;e.type!==i||l&&!e.gap||e.start<n&&e.end>t&&(c.buffered||d)&&this.removeFragment(e)})}removeFragment(t){const n=Jo(t);t.clearElementaryStreamInfo();const i=this.activePartLists[t.type];if(i){const l=t.sn;this.activePartLists[t.type]=g0(i,d=>d.fragment.sn!==l)}delete this.fragments[n],t.endList&&delete this.endListFragments[t.type]}removeAllFragments(){var t;this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1;const n=(t=this.hls)==null||(t=t.latestLevelDetails)==null?void 0:t.partList;n&&n.forEach(i=>i.clearElementaryStreamInfo())}}function hc(g){var t,n,i;return g.buffered&&!!(g.body.gap||(t=g.range.video)!=null&&t.partial||(n=g.range.audio)!=null&&n.partial||(i=g.range.audiovideo)!=null&&i.partial)}function Jo(g){return`${g.type}_${g.level}_${g.sn}`}function g0(g,t){return g.filter(n=>{const i=t(n);return i||n.clearElementaryStreamInfo(),i})}var Qa={cbc:0,ctr:1};class RE{constructor(t,n,i){this.subtle=void 0,this.aesIV=void 0,this.aesMode=void 0,this.subtle=t,this.aesIV=n,this.aesMode=i}decrypt(t,n){switch(this.aesMode){case Qa.cbc:return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},n,t);case Qa.ctr:return this.subtle.decrypt({name:"AES-CTR",counter:this.aesIV,length:64},n,t);default:throw new Error(`[AESCrypto] invalid aes mode ${this.aesMode}`)}}}function IE(g){const t=g.byteLength,n=t&&new DataView(g.buffer).getUint8(t-1);return n?g.slice(0,t-n):g}class DE{constructor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}uint8ArrayToUint32Array_(t){const n=new DataView(t),i=new Uint32Array(4);for(let l=0;l<4;l++)i[l]=n.getUint32(l*4);return i}initTable(){const t=this.sBox,n=this.invSBox,i=this.subMix,l=i[0],d=i[1],a=i[2],c=i[3],e=this.invSubMix,o=e[0],u=e[1],f=e[2],A=e[3],p=new Uint32Array(256);let m=0,y=0,E=0;for(E=0;E<256;E++)E<128?p[E]=E<<1:p[E]=E<<1^283;for(E=0;E<256;E++){let C=y^y<<1^y<<2^y<<3^y<<4;C=C>>>8^C&255^99,t[m]=C,n[C]=m;const T=p[m],x=p[T],L=p[x];let D=p[C]*257^C*16843008;l[m]=D<<24|D>>>8,d[m]=D<<16|D>>>16,a[m]=D<<8|D>>>24,c[m]=D,D=L*16843009^x*65537^T*257^m*16843008,o[C]=D<<24|D>>>8,u[C]=D<<16|D>>>16,f[C]=D<<8|D>>>24,A[C]=D,m?(m=T^p[p[p[L^T]]],y^=p[p[y]]):m=y=1}}expandKey(t){const n=this.uint8ArrayToUint32Array_(t);let i=!0,l=0;for(;l<n.length&&i;)i=n[l]===this.key[l],l++;if(i)return;this.key=n;const d=this.keySize=n.length;if(d!==4&&d!==6&&d!==8)throw new Error("Invalid aes key size="+d);const a=this.ksRows=(d+6+1)*4;let c,e;const o=this.keySchedule=new Uint32Array(a),u=this.invKeySchedule=new Uint32Array(a),f=this.sBox,A=this.rcon,p=this.invSubMix,m=p[0],y=p[1],E=p[2],C=p[3];let T,x;for(c=0;c<a;c++){if(c<d){T=o[c]=n[c];continue}x=T,c%d===0?(x=x<<8|x>>>24,x=f[x>>>24]<<24|f[x>>>16&255]<<16|f[x>>>8&255]<<8|f[x&255],x^=A[c/d|0]<<24):d>6&&c%d===4&&(x=f[x>>>24]<<24|f[x>>>16&255]<<16|f[x>>>8&255]<<8|f[x&255]),o[c]=T=(o[c-d]^x)>>>0}for(e=0;e<a;e++)c=a-e,e&3?x=o[c]:x=o[c-4],e<4||c<=4?u[e]=x:u[e]=m[f[x>>>24]]^y[f[x>>>16&255]]^E[f[x>>>8&255]]^C[f[x&255]],u[e]=u[e]>>>0}networkToHostOrderSwap(t){return t<<24|(t&65280)<<8|(t&16711680)>>8|t>>>24}decrypt(t,n,i){const l=this.keySize+6,d=this.invKeySchedule,a=this.invSBox,c=this.invSubMix,e=c[0],o=c[1],u=c[2],f=c[3],A=this.uint8ArrayToUint32Array_(i);let p=A[0],m=A[1],y=A[2],E=A[3];const C=new Int32Array(t),T=new Int32Array(C.length);let x,L,D,B,O,_,M,U,Q,$,W,X,tt,V;const N=this.networkToHostOrderSwap;for(;n<C.length;){for(Q=N(C[n]),$=N(C[n+1]),W=N(C[n+2]),X=N(C[n+3]),O=Q^d[0],_=X^d[1],M=W^d[2],U=$^d[3],tt=4,V=1;V<l;V++)x=e[O>>>24]^o[_>>16&255]^u[M>>8&255]^f[U&255]^d[tt],L=e[_>>>24]^o[M>>16&255]^u[U>>8&255]^f[O&255]^d[tt+1],D=e[M>>>24]^o[U>>16&255]^u[O>>8&255]^f[_&255]^d[tt+2],B=e[U>>>24]^o[O>>16&255]^u[_>>8&255]^f[M&255]^d[tt+3],O=x,_=L,M=D,U=B,tt=tt+4;x=a[O>>>24]<<24^a[_>>16&255]<<16^a[M>>8&255]<<8^a[U&255]^d[tt],L=a[_>>>24]<<24^a[M>>16&255]<<16^a[U>>8&255]<<8^a[O&255]^d[tt+1],D=a[M>>>24]<<24^a[U>>16&255]<<16^a[O>>8&255]<<8^a[_&255]^d[tt+2],B=a[U>>>24]<<24^a[O>>16&255]<<16^a[_>>8&255]<<8^a[M&255]^d[tt+3],T[n]=N(x^p),T[n+1]=N(B^m),T[n+2]=N(D^y),T[n+3]=N(L^E),p=Q,m=$,y=W,E=X,n=n+4}return T.buffer}}class kE{constructor(t,n,i){this.subtle=void 0,this.key=void 0,this.aesMode=void 0,this.subtle=t,this.key=n,this.aesMode=i}expandKey(){const t=BE(this.aesMode);return this.subtle.importKey("raw",this.key,{name:t},!1,["encrypt","decrypt"])}}function BE(g){switch(g){case Qa.cbc:return"AES-CBC";case Qa.ctr:return"AES-CTR";default:throw new Error(`[FastAESKey] invalid aes mode ${g}`)}}const OE=16;class _h{constructor(t,{removePKCS7Padding:n=!0}={}){if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.enableSoftwareAES=void 0,this.enableSoftwareAES=t.enableSoftwareAES,this.removePKCS7Padding=n,n)try{const i=self.crypto;i&&(this.subtle=i.subtle||i.webkitSubtle)}catch{}this.useSoftware=!this.subtle}destroy(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}isSync(){return this.useSoftware}flush(){const{currentResult:t,remainderData:n}=this;if(!t||n)return this.reset(),null;const i=new Uint8Array(t);return this.reset(),this.removePKCS7Padding?IE(i):i}reset(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}decrypt(t,n,i,l){return this.useSoftware?new Promise((d,a)=>{const c=ArrayBuffer.isView(t)?t:new Uint8Array(t);this.softwareDecrypt(c,n,i,l);const e=this.flush();e?d(e.buffer):a(new Error("[softwareDecrypt] Failed to decrypt data"))}):this.webCryptoDecrypt(new Uint8Array(t),n,i,l)}softwareDecrypt(t,n,i,l){const{currentIV:d,currentResult:a,remainderData:c}=this;if(l!==Qa.cbc||n.byteLength!==16)return fr.warn("SoftwareDecrypt: can only handle AES-128-CBC"),null;this.logOnce("JS AES decrypt"),c&&(t=is(c,t),this.remainderData=null);const e=this.getValidChunk(t);if(!e.length)return null;d&&(i=d);let o=this.softwareDecrypter;o||(o=this.softwareDecrypter=new DE),o.expandKey(n);const u=a;return this.currentResult=o.decrypt(e.buffer,0,i),this.currentIV=e.slice(-16).buffer,u||null}webCryptoDecrypt(t,n,i,l){if(this.key!==n||!this.fastAesKey){if(!this.subtle)return Promise.resolve(this.onWebCryptoError(t,n,i,l));this.key=n,this.fastAesKey=new kE(this.subtle,n,l)}return this.fastAesKey.expandKey().then(d=>this.subtle?(this.logOnce("WebCrypto AES decrypt"),new RE(this.subtle,new Uint8Array(i),l).decrypt(t.buffer,d)):Promise.reject(new Error("web crypto not initialized"))).catch(d=>(fr.warn(`[decrypter]: WebCrypto Error, disable WebCrypto API, ${d.name}: ${d.message}`),this.onWebCryptoError(t,n,i,l)))}onWebCryptoError(t,n,i,l){const d=this.enableSoftwareAES;if(d){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(t,n,i,l);const a=this.flush();if(a)return a.buffer}throw new Error("WebCrypto"+(d?" and softwareDecrypt":"")+": failed to decrypt data")}getValidChunk(t){let n=t;const i=t.length-t.length%OE;return i!==t.length&&(n=t.slice(0,i),this.remainderData=t.slice(i)),n}logOnce(t){this.logEnabled&&(fr.log(`[decrypter]: ${t}`),this.logEnabled=!1)}}const p0=Math.pow(2,17);class _E{constructor(t){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=t}destroy(){this.loader&&(this.loader.destroy(),this.loader=null)}abort(){this.loader&&this.loader.abort()}load(t,n){const i=t.url;if(!i)return Promise.reject(new na({type:nn.NETWORK_ERROR,details:Ot.FRAG_LOAD_ERROR,fatal:!1,frag:t,error:new Error(`Fragment does not have a ${i?"part list":"url"}`),networkDetails:null}));this.abort();const l=this.config,d=l.fLoader,a=l.loader;return new Promise((c,e)=>{if(this.loader&&this.loader.destroy(),t.gap)if(t.tagList.some(m=>m[0]==="GAP")){e(v0(t));return}else t.gap=!1;const o=this.loader=d?new d(l):new a(l),u=m0(t);t.loader=o;const f=A0(l.fragLoadPolicy.default),A={loadPolicy:f,timeout:f.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:t.sn==="initSegment"?1/0:p0};t.stats=o.stats;const p={onSuccess:(m,y,E,C)=>{this.resetLoader(t,o);let T=m.data;E.resetIV&&t.decryptdata&&(t.decryptdata.iv=new Uint8Array(T.slice(0,16)),T=T.slice(16)),c({frag:t,part:null,payload:T,networkDetails:C})},onError:(m,y,E,C)=>{this.resetLoader(t,o),e(new na({type:nn.NETWORK_ERROR,details:Ot.FRAG_LOAD_ERROR,fatal:!1,frag:t,response:pr({url:i,data:void 0},m),error:new Error(`HTTP Error ${m.code} ${m.text}`),networkDetails:E,stats:C}))},onAbort:(m,y,E)=>{this.resetLoader(t,o),e(new na({type:nn.NETWORK_ERROR,details:Ot.INTERNAL_ABORTED,fatal:!1,frag:t,error:new Error("Aborted"),networkDetails:E,stats:m}))},onTimeout:(m,y,E)=>{this.resetLoader(t,o),e(new na({type:nn.NETWORK_ERROR,details:Ot.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t,error:new Error(`Timeout after ${A.timeout}ms`),networkDetails:E,stats:m}))}};n&&(p.onProgress=(m,y,E,C)=>n({frag:t,part:null,payload:E,networkDetails:C})),o.load(u,A,p)})}loadPart(t,n,i){this.abort();const l=this.config,d=l.fLoader,a=l.loader;return new Promise((c,e)=>{if(this.loader&&this.loader.destroy(),t.gap||n.gap){e(v0(t,n));return}const o=this.loader=d?new d(l):new a(l),u=m0(t,n);t.loader=o;const f=A0(l.fragLoadPolicy.default),A={loadPolicy:f,timeout:f.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:p0};n.stats=o.stats,o.load(u,A,{onSuccess:(p,m,y,E)=>{this.resetLoader(t,o),this.updateStatsFromPart(t,n);const C={frag:t,part:n,payload:p.data,networkDetails:E};i(C),c(C)},onError:(p,m,y,E)=>{this.resetLoader(t,o),e(new na({type:nn.NETWORK_ERROR,details:Ot.FRAG_LOAD_ERROR,fatal:!1,frag:t,part:n,response:pr({url:u.url,data:void 0},p),error:new Error(`HTTP Error ${p.code} ${p.text}`),networkDetails:y,stats:E}))},onAbort:(p,m,y)=>{t.stats.aborted=n.stats.aborted,this.resetLoader(t,o),e(new na({type:nn.NETWORK_ERROR,details:Ot.INTERNAL_ABORTED,fatal:!1,frag:t,part:n,error:new Error("Aborted"),networkDetails:y,stats:p}))},onTimeout:(p,m,y)=>{this.resetLoader(t,o),e(new na({type:nn.NETWORK_ERROR,details:Ot.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t,part:n,error:new Error(`Timeout after ${A.timeout}ms`),networkDetails:y,stats:p}))}})})}updateStatsFromPart(t,n){const i=t.stats,l=n.stats,d=l.total;if(i.loaded+=l.loaded,d){const e=Math.round(t.duration/n.duration),o=Math.min(Math.round(i.loaded/d),e),f=(e-o)*Math.round(i.loaded/o);i.total=i.loaded+f}else i.total=Math.max(i.loaded,i.total);const a=i.loading,c=l.loading;a.start?a.first+=c.first-c.start:(a.start=c.start,a.first=c.first),a.end=c.end}resetLoader(t,n){t.loader=null,this.loader===n&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),n.destroy()}}function m0(g,t=null){const n=t||g,i={frag:g,part:t,responseType:"arraybuffer",url:n.url,headers:{},rangeStart:0,rangeEnd:0},l=n.byteRangeStartOffset,d=n.byteRangeEndOffset;if(Qe(l)&&Qe(d)){var a;let c=l,e=d;if(g.sn==="initSegment"&&ME((a=g.decryptdata)==null?void 0:a.method)){const o=d-l;o%16&&(e=d+(16-o%16)),l!==0&&(i.resetIV=!0,c=l-16)}i.rangeStart=c,i.rangeEnd=e}return i}function v0(g,t){const n=new Error(`GAP ${g.gap?"tag":"attribute"} found`),i={type:nn.MEDIA_ERROR,details:Ot.FRAG_GAP,fatal:!1,frag:g,error:n,networkDetails:null};return t&&(i.part=t),(t||g).stats.aborted=!0,new na(i)}function ME(g){return g==="AES-128"||g==="AES-256"}class na extends Error{constructor(t){super(t.error.message),this.data=void 0,this.data=t}}class Bm extends ss{constructor(t,n){super(t,n),this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}destroy(){this.onHandlerDestroying(),this.onHandlerDestroyed()}onHandlerDestroying(){this.clearNextTick(),this.clearInterval()}onHandlerDestroyed(){}hasInterval(){return!!this._tickInterval}hasNextTick(){return!!this._tickTimer}setInterval(t){return this._tickInterval?!1:(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,t),!0)}clearInterval(){return this._tickInterval?(self.clearInterval(this._tickInterval),this._tickInterval=null,!0):!1}clearNextTick(){return this._tickTimer?(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0):!1}tick(){this._tickCallCount++,this._tickCallCount===1&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}tickImmediate(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}doTick(){}}class Mh{constructor(t,n,i,l=0,d=-1,a=!1){this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing=Ac(),this.buffering={audio:Ac(),video:Ac(),audiovideo:Ac()},this.level=t,this.sn=n,this.id=i,this.size=l,this.part=d,this.partial=a}}function Ac(){return{start:0,executeStart:0,executeEnd:0,end:0}}const y0={length:0,start:()=>0,end:()=>0};class _n{static isBuffered(t,n){if(t){const i=_n.getBuffered(t);for(let l=i.length;l--;)if(n>=i.start(l)&&n<=i.end(l))return!0}return!1}static bufferedRanges(t){if(t){const n=_n.getBuffered(t);return _n.timeRangesToArray(n)}return[]}static timeRangesToArray(t){const n=[];for(let i=0;i<t.length;i++)n.push({start:t.start(i),end:t.end(i)});return n}static bufferInfo(t,n,i){if(t){const l=_n.bufferedRanges(t);if(l.length)return _n.bufferedInfo(l,n,i)}return{len:0,start:n,end:n,bufferedIndex:-1}}static bufferedInfo(t,n,i){n=Math.max(0,n),t.length>1&&t.sort((u,f)=>u.start-f.start||f.end-u.end);let l=-1,d=[];if(i)for(let u=0;u<t.length;u++){n>=t[u].start&&n<=t[u].end&&(l=u);const f=d.length;if(f){const A=d[f-1].end;t[u].start-A<i?t[u].end>A&&(d[f-1].end=t[u].end):d.push(t[u])}else d.push(t[u])}else d=t;let a=0,c,e=n,o=n;for(let u=0;u<d.length;u++){const f=d[u].start,A=d[u].end;if(l===-1&&n>=f&&n<=A&&(l=u),n+i>=f&&n<A)e=f,o=A,a=o-n;else if(n+i<f){c=f;break}}return{len:a,start:e||0,end:o||0,nextStart:c,buffered:t,bufferedIndex:l}}static getBuffered(t){try{return t.buffered||y0}catch(n){return fr.log("failed to get media.buffered",n),y0}}}const Om=/\{\$([a-zA-Z0-9-_]+)\}/g;function E0(g){return Om.test(g)}function hh(g,t){if(g.variableList!==null||g.hasVariableRefs){const n=g.variableList;return t.replace(Om,i=>{const l=i.substring(2,i.length-1),d=n?.[l];return d===void 0?(g.playlistParsingError||(g.playlistParsingError=new Error(`Missing preceding EXT-X-DEFINE tag for Variable Reference: "${l}"`)),i):d})}return t}function b0(g,t,n){let i=g.variableList;i||(g.variableList=i={});let l,d;if("QUERYPARAM"in t){l=t.QUERYPARAM;try{const a=new self.URL(n).searchParams;if(a.has(l))d=a.get(l);else throw new Error(`"${l}" does not match any query parameter in URI: "${n}"`)}catch(a){g.playlistParsingError||(g.playlistParsingError=new Error(`EXT-X-DEFINE QUERYPARAM: ${a.message}`))}}else l=t.NAME,d=t.VALUE;l in i?g.playlistParsingError||(g.playlistParsingError=new Error(`EXT-X-DEFINE duplicate Variable Name declarations: "${l}"`)):i[l]=d||""}function PE(g,t,n){const i=t.IMPORT;if(n&&i in n){let l=g.variableList;l||(g.variableList=l={}),l[i]=n[i]}else g.playlistParsingError||(g.playlistParsingError=new Error(`EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "${i}"`))}const NE=/^(\d+)x(\d+)$/,C0=/(.+?)=(".*?"|.*?)(?:,|$)/g;class _r{constructor(t,n){typeof t=="string"&&(t=_r.parseAttrList(t,n)),mr(this,t)}get clientAttrs(){return Object.keys(this).filter(t=>t.substring(0,2)==="X-")}decimalInteger(t){const n=parseInt(this[t],10);return n>Number.MAX_SAFE_INTEGER?1/0:n}hexadecimalInteger(t){if(this[t]){let n=(this[t]||"0x").slice(2);n=(n.length&1?"0":"")+n;const i=new Uint8Array(n.length/2);for(let l=0;l<n.length/2;l++)i[l]=parseInt(n.slice(l*2,l*2+2),16);return i}return null}hexadecimalIntegerAsNumber(t){const n=parseInt(this[t],16);return n>Number.MAX_SAFE_INTEGER?1/0:n}decimalFloatingPoint(t){return parseFloat(this[t])}optionalFloat(t,n){const i=this[t];return i?parseFloat(i):n}enumeratedString(t){return this[t]}enumeratedStringList(t,n){const i=this[t];return(i?i.split(/[ ,]+/):[]).reduce((l,d)=>(l[d.toLowerCase()]=!0,l),n)}bool(t){return this[t]==="YES"}decimalResolution(t){const n=NE.exec(this[t]);if(n!==null)return{width:parseInt(n[1],10),height:parseInt(n[2],10)}}static parseAttrList(t,n){let i;const l={};for(C0.lastIndex=0;(i=C0.exec(t))!==null;){const a=i[1].trim();let c=i[2];const e=c.indexOf('"')===0&&c.lastIndexOf('"')===c.length-1;let o=!1;if(e)c=c.slice(1,-1);else switch(a){case"IV":case"SCTE35-CMD":case"SCTE35-IN":case"SCTE35-OUT":o=!0}if(n&&(e||o))c=hh(n,c);else if(!o&&!e)switch(a){case"CLOSED-CAPTIONS":if(c==="NONE")break;case"ALLOWED-CPC":case"CLASS":case"ASSOC-LANGUAGE":case"AUDIO":case"BYTERANGE":case"CHANNELS":case"CHARACTERISTICS":case"CODECS":case"DATA-ID":case"END-DATE":case"GROUP-ID":case"ID":case"IMPORT":case"INSTREAM-ID":case"KEYFORMAT":case"KEYFORMATVERSIONS":case"LANGUAGE":case"NAME":case"PATHWAY-ID":case"QUERYPARAM":case"RECENTLY-REMOVED-DATERANGES":case"SERVER-URI":case"STABLE-RENDITION-ID":case"STABLE-VARIANT-ID":case"START-DATE":case"SUBTITLES":case"SUPPLEMENTAL-CODECS":case"URI":case"VALUE":case"VIDEO":case"X-ASSET-LIST":case"X-ASSET-URI":fr.warn(`${t}: attribute ${a} is missing quotes`)}l[a]=c}return l}}const UE="com.apple.hls.interstitial";function FE(g){return g!=="ID"&&g!=="CLASS"&&g!=="CUE"&&g!=="START-DATE"&&g!=="DURATION"&&g!=="END-DATE"&&g!=="END-ON-NEXT"}function GE(g){return g==="SCTE35-OUT"||g==="SCTE35-IN"||g==="SCTE35-CMD"}class _m{constructor(t,n,i=0){var l;if(this.attr=void 0,this.tagAnchor=void 0,this.tagOrder=void 0,this._startDate=void 0,this._endDate=void 0,this._dateAtEnd=void 0,this._cue=void 0,this._badValueForSameId=void 0,this.tagAnchor=n?.tagAnchor||null,this.tagOrder=(l=n?.tagOrder)!=null?l:i,n){const d=n.attr;for(const a in d)if(Object.prototype.hasOwnProperty.call(t,a)&&t[a]!==d[a]){fr.warn(`DATERANGE tag attribute: "${a}" does not match for tags with ID: "${t.ID}"`),this._badValueForSameId=a;break}t=mr(new _r({}),d,t)}if(this.attr=t,n?(this._startDate=n._startDate,this._cue=n._cue,this._endDate=n._endDate,this._dateAtEnd=n._dateAtEnd):this._startDate=new Date(t["START-DATE"]),"END-DATE"in this.attr){const d=n?.endDate||new Date(this.attr["END-DATE"]);Qe(d.getTime())&&(this._endDate=d)}}get id(){return this.attr.ID}get class(){return this.attr.CLASS}get cue(){const t=this._cue;return t===void 0?this._cue=this.attr.enumeratedStringList(this.attr.CUE?"CUE":"X-CUE",{pre:!1,post:!1,once:!1}):t}get startTime(){const{tagAnchor:t}=this;return t===null||t.programDateTime===null?(fr.warn(`Expected tagAnchor Fragment with PDT set for DateRange "${this.id}": ${t}`),NaN):t.start+(this.startDate.getTime()-t.programDateTime)/1e3}get startDate(){return this._startDate}get endDate(){const t=this._endDate||this._dateAtEnd;if(t)return t;const n=this.duration;return n!==null?this._dateAtEnd=new Date(this._startDate.getTime()+n*1e3):null}get duration(){if("DURATION"in this.attr){const t=this.attr.decimalFloatingPoint("DURATION");if(Qe(t))return t}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}get plannedDuration(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}get endOnNext(){return this.attr.bool("END-ON-NEXT")}get isInterstitial(){return this.class===UE}get isValid(){return!!this.id&&!this._badValueForSameId&&Qe(this.startDate.getTime())&&(this.duration===null||this.duration>=0)&&(!this.endOnNext||!!this.class)&&(!this.attr.CUE||!this.cue.pre&&!this.cue.post||this.cue.pre!==this.cue.post)&&(!this.isInterstitial||"X-ASSET-URI"in this.attr||"X-ASSET-LIST"in this.attr)}}const QE=10;class HE{constructor(t){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.dateRangeTagCount=0,this.live=!0,this.requestScheduled=-1,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.appliedTimelineOffset=void 0,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=t}reloaded(t){if(!t){this.advanced=!0,this.updated=!0;return}const n=this.lastPartSn-t.lastPartSn,i=this.lastPartIndex-t.lastPartIndex;this.updated=this.endSN!==t.endSN||!!i||!!n||!this.live,this.advanced=this.endSN>t.endSN||n>0||n===0&&i>0,this.updated||this.advanced?this.misses=Math.floor(t.misses*.6):this.misses=t.misses+1}hasKey(t){return this.encryptedFragments.some(n=>{let i=n.decryptdata;return i||(n.setKeyFormat(t.keyFormat),i=n.decryptdata),!!i&&t.matches(i)})}get hasProgramDateTime(){return this.fragments.length?Qe(this.fragments[this.fragments.length-1].programDateTime):!1}get levelTargetDuration(){return this.averagetargetduration||this.targetduration||QE}get drift(){const t=this.driftEndTime-this.driftStartTime;return t>0?(this.driftEnd-this.driftStart)*1e3/t:1}get edge(){return this.partEnd||this.fragmentEnd}get partEnd(){var t;return(t=this.partList)!=null&&t.length?this.partList[this.partList.length-1].end:this.fragmentEnd}get fragmentEnd(){return this.fragments.length?this.fragments[this.fragments.length-1].end:0}get fragmentStart(){return this.fragments.length?this.fragments[0].start:0}get age(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}get lastPartIndex(){var t;return(t=this.partList)!=null&&t.length?this.partList[this.partList.length-1].index:-1}get maxPartIndex(){const t=this.partList;if(t){const n=this.lastPartIndex;if(n!==-1){for(let i=t.length;i--;)if(t[i].index>n)return t[i].index;return n}}return 0}get lastPartSn(){var t;return(t=this.partList)!=null&&t.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}get expired(){if(this.live&&this.age&&this.misses<3){const t=this.partEnd-this.fragmentStart;return this.age>Math.max(t,this.totalduration)+this.levelTargetDuration}return!1}}function Mm(g,t){return g.length===t.length?!g.some((n,i)=>n!==t[i]):!1}function S0(g,t){return!g&&!t?!0:!g||!t?!1:Mm(g,t)}function al(g){return g==="AES-128"||g==="AES-256"||g==="AES-256-CTR"}function Ph(g){switch(g){case"AES-128":case"AES-256":return Qa.cbc;case"AES-256-CTR":return Qa.ctr;default:throw new Error(`invalid full segment method ${g}`)}}function Nh(g){return Uint8Array.from(atob(g),t=>t.charCodeAt(0))}function Ah(g){return Uint8Array.from(unescape(encodeURIComponent(g)),t=>t.charCodeAt(0))}function YE(g){const t=Ah(g).subarray(0,16),n=new Uint8Array(16);return n.set(t,16-t.length),n}function zE(g){const t=function(i,l,d){const a=i[l];i[l]=i[d],i[d]=a};t(g,0,3),t(g,1,2),t(g,4,5),t(g,6,7)}function VE(g){const t=g.split(":");let n=null;if(t[0]==="data"&&t.length===2){const i=t[1].split(";"),l=i[i.length-1].split(",");if(l.length===2){const d=l[0]==="base64",a=l[1];d?(i.splice(-1,1),n=Nh(a)):n=YE(a)}}return n}const Gc=typeof self<"u"?self:void 0;var Ur={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},Mi={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.streamingkeydelivery",PLAYREADY:"com.microsoft.playready",WIDEVINE:"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"};function Rc(g){switch(g){case Mi.FAIRPLAY:return Ur.FAIRPLAY;case Mi.PLAYREADY:return Ur.PLAYREADY;case Mi.WIDEVINE:return Ur.WIDEVINE;case Mi.CLEARKEY:return Ur.CLEARKEY}}function Gd(g){switch(g){case Ur.FAIRPLAY:return Mi.FAIRPLAY;case Ur.PLAYREADY:return Mi.PLAYREADY;case Ur.WIDEVINE:return Mi.WIDEVINE;case Ur.CLEARKEY:return Mi.CLEARKEY}}function Xl(g){const{drmSystems:t,widevineLicenseUrl:n}=g,i=t?[Ur.FAIRPLAY,Ur.WIDEVINE,Ur.PLAYREADY,Ur.CLEARKEY].filter(l=>!!t[l]):[];return!i[Ur.WIDEVINE]&&n&&i.push(Ur.WIDEVINE),i}const Pm=(function(g){return Gc!=null&&(g=Gc.navigator)!=null&&g.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null})();function jE(g,t,n,i){let l;switch(g){case Ur.FAIRPLAY:l=["cenc","sinf"];break;case Ur.WIDEVINE:case Ur.PLAYREADY:l=["cenc"];break;case Ur.CLEARKEY:l=["cenc","keyids"];break;default:throw new Error(`Unknown key-system: ${g}`)}return $E(l,t,n,i)}function $E(g,t,n,i){return[{initDataTypes:g,persistentState:i.persistentState||"optional",distinctiveIdentifier:i.distinctiveIdentifier||"optional",sessionTypes:i.sessionTypes||[i.sessionType||"temporary"],audioCapabilities:t.map(d=>({contentType:`audio/mp4; codecs=${d}`,robustness:i.audioRobustness||"",encryptionScheme:i.audioEncryptionScheme||null})),videoCapabilities:n.map(d=>({contentType:`video/mp4; codecs=${d}`,robustness:i.videoRobustness||"",encryptionScheme:i.videoEncryptionScheme||null}))}]}function KE(g){var t;return!!g&&(g.sessionType==="persistent-license"||!!((t=g.sessionTypes)!=null&&t.some(n=>n==="persistent-license")))}function WE(g){const t=new Uint16Array(g.buffer,g.byteOffset,g.byteLength/2),n=String.fromCharCode.apply(null,Array.from(t)),i=n.substring(n.indexOf("<"),n.length),a=new DOMParser().parseFromString(i,"text/xml").getElementsByTagName("KID")[0];if(a){const c=a.childNodes[0]?a.childNodes[0].nodeValue:a.getAttribute("VALUE");if(c){const e=Nh(c).subarray(0,16);return zE(e),e}}return null}let gc={};class Vc{static clearKeyUriToKeyIdMap(){gc={}}constructor(t,n,i,l=[1],d=null,a){this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=t,this.uri=n,this.keyFormat=i,this.keyFormatVersions=l,this.iv=d,this.encrypted=t?t!=="NONE":!1,this.isCommonEncryption=this.encrypted&&!al(t),a!=null&&a.startsWith("0x")&&(this.keyId=new Uint8Array(gm(a)))}matches(t){return t.uri===this.uri&&t.method===this.method&&t.encrypted===this.encrypted&&t.keyFormat===this.keyFormat&&Mm(t.keyFormatVersions,this.keyFormatVersions)&&S0(t.iv,this.iv)&&S0(t.keyId,this.keyId)}isSupported(){if(this.method){if(al(this.method)||this.method==="NONE")return!0;if(this.keyFormat==="identity")return this.method==="SAMPLE-AES";switch(this.keyFormat){case Mi.FAIRPLAY:case Mi.WIDEVINE:case Mi.PLAYREADY:case Mi.CLEARKEY:return["SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)!==-1}}return!1}getDecryptData(t){if(!this.encrypted||!this.uri)return null;if(al(this.method)&&this.uri&&!this.iv){typeof t!="number"&&(fr.warn(`missing IV for initialization segment with method="${this.method}" - compliance issue`),t=0);const i=qE(t);return new Vc(this.method,this.uri,"identity",this.keyFormatVersions,i)}if(this.pssh&&this.keyId)return this;const n=VE(this.uri);if(n)switch(this.keyFormat){case Mi.WIDEVINE:if(this.pssh=n,!this.keyId&&n.length>=22){const i=n.length-22;this.keyId=n.subarray(i,i+16)}break;case Mi.PLAYREADY:{const i=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=Z1(i,null,n),this.keyId=WE(n);break}default:{let i=n.subarray(0,16);if(i.length!==16){const l=new Uint8Array(16);l.set(i,16-i.length),i=l}this.keyId=i;break}}if(!this.keyId||this.keyId.byteLength!==16){let i=gc[this.uri];if(!i){const l=Object.keys(gc).length%Number.MAX_SAFE_INTEGER;i=new Uint8Array(16),new DataView(i.buffer,12,4).setUint32(0,l),gc[this.uri]=i}this.keyId=i}return this}}function qE(g){const t=new Uint8Array(16);for(let n=12;n<16;n++)t[n]=g>>8*(15-n)&255;return t}const T0=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,x0=/#EXT-X-MEDIA:(.*)/g,XE=/^#EXT(?:INF|-X-TARGETDURATION):/m,Qd=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[^\r\n]*)/.source,/#.*/.source].join("|"),"g"),ZE=new RegExp([/#EXT-X-(PROGRAM-DATE-TIME|BYTERANGE|DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP|INDEPENDENT-SEGMENTS)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|"));class Ms{static findGroup(t,n){for(let i=0;i<t.length;i++){const l=t[i];if(l.id===n)return l}}static resolve(t,n){return Rh.buildAbsoluteURL(n,t,{alwaysNormalize:!0})}static isMediaPlaylist(t){return XE.test(t)}static parseMasterPlaylist(t,n){const i=E0(t),l={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:i},d=[];T0.lastIndex=0;let a;for(;(a=T0.exec(t))!=null;)if(a[1]){var c;const o=new _r(a[1],l),u=hh(l,a[2]),f={attrs:o,bitrate:o.decimalInteger("BANDWIDTH")||o.decimalInteger("AVERAGE-BANDWIDTH"),name:o.NAME,url:Ms.resolve(u,n)},A=o.decimalResolution("RESOLUTION");A&&(f.width=A.width,f.height=A.height),R0(o.CODECS,f);const p=o["SUPPLEMENTAL-CODECS"];p&&(f.supplemental={},R0(p,f.supplemental)),(c=f.unknownCodecs)!=null&&c.length||d.push(f),l.levels.push(f)}else if(a[3]){const o=a[3],u=a[4];switch(o){case"SESSION-DATA":{const f=new _r(u,l),A=f["DATA-ID"];A&&(l.sessionData===null&&(l.sessionData={}),l.sessionData[A]=f);break}case"SESSION-KEY":{const f=w0(u,n,l);f.encrypted&&f.isSupported()?(l.sessionKeys===null&&(l.sessionKeys=[]),l.sessionKeys.push(f)):fr.warn(`[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "${u}"`);break}case"DEFINE":{{const f=new _r(u,l);b0(l,f,n)}break}case"CONTENT-STEERING":{const f=new _r(u,l);l.contentSteering={uri:Ms.resolve(f["SERVER-URI"],n),pathwayId:f["PATHWAY-ID"]||"."};break}case"START":{l.startTimeOffset=L0(u);break}}}const e=d.length>0&&d.length<l.levels.length;return l.levels=e?d:l.levels,l.levels.length===0&&(l.playlistParsingError=new Error("no levels found in manifest")),l}static parseMasterPlaylistMedia(t,n,i){let l;const d={},a=i.levels,c={AUDIO:a.map(o=>({id:o.attrs.AUDIO,audioCodec:o.audioCodec})),SUBTITLES:a.map(o=>({id:o.attrs.SUBTITLES,textCodec:o.textCodec})),"CLOSED-CAPTIONS":[]};let e=0;for(x0.lastIndex=0;(l=x0.exec(t))!==null;){const o=new _r(l[1],i),u=o.TYPE;if(u){const f=c[u],A=d[u]||[];d[u]=A;const p=o.LANGUAGE,m=o["ASSOC-LANGUAGE"],y=o.CHANNELS,E=o.CHARACTERISTICS,C=o["INSTREAM-ID"],T={attrs:o,bitrate:0,id:e++,groupId:o["GROUP-ID"]||"",name:o.NAME||p||"",type:u,default:o.bool("DEFAULT"),autoselect:o.bool("AUTOSELECT"),forced:o.bool("FORCED"),lang:p,url:o.URI?Ms.resolve(o.URI,n):""};if(m&&(T.assocLang=m),y&&(T.channels=y),E&&(T.characteristics=E),C&&(T.instreamId=C),f!=null&&f.length){const x=Ms.findGroup(f,T.groupId)||f[0];I0(T,x,"audioCodec"),I0(T,x,"textCodec")}A.push(T)}}return d}static parseLevelPlaylist(t,n,i,l,d,a){var c;const e={url:n},o=new HE(n),u=o.fragments,f=[];let A=null,p=0,m=0,y=0,E=0,C=0,T=null,x=new Nd(l,e),L,D,B,O=-1,_=!1,M=null,U;if(Qd.lastIndex=0,o.m3u8=t,o.hasVariableRefs=E0(t),((c=Qd.exec(t))==null?void 0:c[0])!=="#EXTM3U")return o.playlistParsingError=new Error("Missing format identifier #EXTM3U"),o;for(;(L=Qd.exec(t))!==null;){_&&(_=!1,x=new Nd(l,e),x.playlistOffset=y,x.setStart(y),x.sn=p,x.cc=E,C&&(x.bitrate=C),x.level=i,A&&(x.initSegment=A,A.rawProgramDateTime&&(x.rawProgramDateTime=A.rawProgramDateTime,A.rawProgramDateTime=null),M&&(x.setByteRange(M),M=null)));const X=L[1];if(X){x.duration=parseFloat(X);const tt=(" "+L[2]).slice(1);x.title=tt||null,x.tagList.push(tt?["INF",X,tt]:["INF",X])}else if(L[3]){if(Qe(x.duration)){x.playlistOffset=y,x.setStart(y),B&&k0(x,B,o),x.sn=p,x.level=i,x.cc=E,u.push(x);const tt=(" "+L[3]).slice(1);x.relurl=hh(o,tt),gh(x,T,f),T=x,y+=x.duration,p++,m=0,_=!0}}else{if(L=L[0].match(ZE),!L){fr.warn("No matches on slow regex match for level playlist!");continue}for(D=1;D<L.length&&L[D]===void 0;D++);const tt=(" "+L[D]).slice(1),V=(" "+L[D+1]).slice(1),N=L[D+2]?(" "+L[D+2]).slice(1):null;switch(tt){case"BYTERANGE":T?x.setByteRange(V,T):x.setByteRange(V);break;case"PROGRAM-DATE-TIME":x.rawProgramDateTime=V,x.tagList.push(["PROGRAM-DATE-TIME",V]),O===-1&&(O=u.length);break;case"PLAYLIST-TYPE":o.type&&ta(o,tt,L),o.type=V.toUpperCase();break;case"MEDIA-SEQUENCE":o.startSN!==0?ta(o,tt,L):u.length>0&&B0(o,tt,L),p=o.startSN=parseInt(V);break;case"SKIP":{o.skippedSegments&&ta(o,tt,L);const K=new _r(V,o),at=K.decimalInteger("SKIPPED-SEGMENTS");if(Qe(at)){o.skippedSegments+=at;for(let q=at;q--;)u.push(null);p+=at}const G=K.enumeratedString("RECENTLY-REMOVED-DATERANGES");G&&(o.recentlyRemovedDateranges=(o.recentlyRemovedDateranges||[]).concat(G.split("	")));break}case"TARGETDURATION":o.targetduration!==0&&ta(o,tt,L),o.targetduration=Math.max(parseInt(V),1);break;case"VERSION":o.version!==null&&ta(o,tt,L),o.version=parseInt(V);break;case"INDEPENDENT-SEGMENTS":break;case"ENDLIST":o.live||ta(o,tt,L),o.live=!1;break;case"#":(V||N)&&x.tagList.push(N?[V,N]:[V]);break;case"DISCONTINUITY":E++,x.tagList.push(["DIS"]);break;case"GAP":x.gap=!0,x.tagList.push([tt]);break;case"BITRATE":x.tagList.push([tt,V]),C=parseInt(V)*1e3,Qe(C)?x.bitrate=C:C=0;break;case"DATERANGE":{const K=new _r(V,o),at=new _m(K,o.dateRanges[K.ID],o.dateRangeTagCount);o.dateRangeTagCount++,at.isValid||o.skippedSegments?o.dateRanges[at.id]=at:fr.warn(`Ignoring invalid DATERANGE tag: "${V}"`),x.tagList.push(["EXT-X-DATERANGE",V]);break}case"DEFINE":{{const K=new _r(V,o);"IMPORT"in K?PE(o,K,a):b0(o,K,n)}break}case"DISCONTINUITY-SEQUENCE":o.startCC!==0?ta(o,tt,L):u.length>0&&B0(o,tt,L),o.startCC=E=parseInt(V);break;case"KEY":{const K=w0(V,n,o);if(K.isSupported()){if(K.method==="NONE"){B=void 0;break}B||(B={});const at=B[K.keyFormat];at!=null&&at.matches(K)||(at&&(B=mr({},B)),B[K.keyFormat]=K)}else fr.warn(`[Keys] Ignoring invalid EXT-X-KEY tag: "${V}"`);break}case"START":o.startTimeOffset=L0(V);break;case"MAP":{const K=new _r(V,o);if(x.duration){const at=new Nd(l,e);D0(at,K,i,B),A=at,x.initSegment=A,A.rawProgramDateTime&&!x.rawProgramDateTime&&(x.rawProgramDateTime=A.rawProgramDateTime)}else{const at=x.byteRangeEndOffset;if(at){const G=x.byteRangeStartOffset;M=`${at-G}@${G}`}else M=null;D0(x,K,i,B),A=x,_=!0}A.cc=E;break}case"SERVER-CONTROL":{U&&ta(o,tt,L),U=new _r(V),o.canBlockReload=U.bool("CAN-BLOCK-RELOAD"),o.canSkipUntil=U.optionalFloat("CAN-SKIP-UNTIL",0),o.canSkipDateRanges=o.canSkipUntil>0&&U.bool("CAN-SKIP-DATERANGES"),o.partHoldBack=U.optionalFloat("PART-HOLD-BACK",0),o.holdBack=U.optionalFloat("HOLD-BACK",0);break}case"PART-INF":{o.partTarget&&ta(o,tt,L);const K=new _r(V);o.partTarget=K.decimalFloatingPoint("PART-TARGET");break}case"PART":{let K=o.partList;K||(K=o.partList=[]);const at=m>0?K[K.length-1]:void 0,G=m++,q=new _r(V,o),et=new F1(q,x,e,G,at);K.push(et),x.duration+=et.duration;break}case"PRELOAD-HINT":{const K=new _r(V,o);o.preloadHint=K;break}case"RENDITION-REPORT":{const K=new _r(V,o);o.renditionReports=o.renditionReports||[],o.renditionReports.push(K);break}default:fr.warn(`line parsed but not handled: ${L}`);break}}}T&&!T.relurl?(u.pop(),y-=T.duration,o.partList&&(o.fragmentHint=T)):o.partList&&(gh(x,T,f),x.cc=E,o.fragmentHint=x,B&&k0(x,B,o)),o.targetduration||(o.playlistParsingError=new Error("#EXT-X-TARGETDURATION is required"));const Q=u.length,$=u[0],W=u[Q-1];if(y+=o.skippedSegments*o.targetduration,y>0&&Q&&W){o.averagetargetduration=y/Q;const X=W.sn;o.endSN=X!=="initSegment"?X:0,o.live||(W.endList=!0),O>0&&(tb(u,O),$&&f.unshift($))}return o.fragmentHint&&(y+=o.fragmentHint.duration),o.totalduration=y,f.length&&o.dateRangeTagCount&&$&&Nm(f,o),o.endCC=E,o}}function Nm(g,t){let n=g.length;if(!n)if(t.hasProgramDateTime){const c=t.fragments[t.fragments.length-1];g.push(c),n++}else return;const i=g[n-1],l=t.live?1/0:t.totalduration,d=Object.keys(t.dateRanges);for(let c=d.length;c--;){const e=t.dateRanges[d[c]],o=e.startDate.getTime();e.tagAnchor=i.ref;for(let u=n;u--;){var a;if(((a=g[u])==null?void 0:a.sn)<t.startSN)break;const f=JE(t,o,g,u,l);if(f!==-1){e.tagAnchor=t.fragments[f].ref;break}}}}function JE(g,t,n,i,l){const d=n[i];if(d){const c=d.programDateTime;if(t>=c||i===0){var a;const e=(((a=n[i+1])==null?void 0:a.start)||l)-d.start;if(t<=c+e*1e3){const o=n[i].sn-g.startSN;if(o<0)return-1;const u=g.fragments;if(u.length>n.length){const A=(n[i+1]||u[u.length-1]).sn-g.startSN;for(let p=A;p>o;p--){const m=u[p].programDateTime;if(t>=m&&t<m+u[p].duration*1e3)return p}}return o}}}return-1}function w0(g,t,n){var i,l;const d=new _r(g,n),a=(i=d.METHOD)!=null?i:"",c=d.URI,e=d.hexadecimalInteger("IV"),o=d.KEYFORMATVERSIONS,u=(l=d.KEYFORMAT)!=null?l:"identity";c&&d.IV&&!e&&fr.error(`Invalid IV: ${d.IV}`);const f=c?Ms.resolve(c,t):"",A=(o||"1").split("/").map(Number).filter(Number.isFinite);return new Vc(a,f,u,A,e,d.KEYID)}function L0(g){const n=new _r(g).decimalFloatingPoint("TIME-OFFSET");return Qe(n)?n:null}function R0(g,t){let n=(g||"").split(/[ ,]+/).filter(i=>i);["video","audio","text"].forEach(i=>{const l=n.filter(d=>kh(d,i));l.length&&(t[`${i}Codec`]=l.map(d=>d.split("/")[0]).join(","),n=n.filter(d=>l.indexOf(d)===-1))}),t.unknownCodecs=n}function I0(g,t,n){const i=t[n];i&&(g[n]=i)}function tb(g,t){let n=g[t];for(let i=t;i--;){const l=g[i];if(!l)return;l.programDateTime=n.programDateTime-l.duration*1e3,n=l}}function gh(g,t,n){g.rawProgramDateTime?n.push(g):t!=null&&t.programDateTime&&(g.programDateTime=t.endProgramDateTime)}function D0(g,t,n,i){g.relurl=t.URI,t.BYTERANGE&&g.setByteRange(t.BYTERANGE),g.level=n,g.sn="initSegment",i&&(g.levelkeys=i),g.initSegment=null}function k0(g,t,n){g.levelkeys=t;const{encryptedFragments:i}=n;(!i.length||i[i.length-1].levelkeys!==t)&&Object.keys(t).some(l=>t[l].isCommonEncryption)&&i.push(g)}function ta(g,t,n){g.playlistParsingError=new Error(`#EXT-X-${t} must not appear more than once (${n[0]})`)}function B0(g,t,n){g.playlistParsingError=new Error(`#EXT-X-${t} must appear before the first Media Segment (${n[0]})`)}function Hd(g,t){const n=t.startPTS;if(Qe(n)){let i=0,l;t.sn>g.sn?(i=n-g.start,l=g):(i=g.start-n,l=t),l.duration!==i&&l.setDuration(i)}else t.sn>g.sn?g.cc===t.cc&&g.minEndPTS?t.setStart(g.start+(g.minEndPTS-g.start)):t.setStart(g.start+g.duration):t.setStart(Math.max(g.start-t.duration,0))}function Um(g,t,n,i,l,d,a){i-n<=0&&(a.warn("Fragment should have a positive duration",t),i=n+t.duration,d=l+t.duration);let e=n,o=i;const u=t.startPTS,f=t.endPTS;if(Qe(u)){const C=Math.abs(u-n);g&&C>g.totalduration?a.warn(`media timestamps and playlist times differ by ${C}s for level ${t.level} ${g.url}`):Qe(t.deltaPTS)?t.deltaPTS=Math.max(C,t.deltaPTS):t.deltaPTS=C,e=Math.max(n,u),n=Math.min(n,u),l=t.startDTS!==void 0?Math.min(l,t.startDTS):l,o=Math.min(i,f),i=Math.max(i,f),d=t.endDTS!==void 0?Math.max(d,t.endDTS):d}const A=n-t.start;t.start!==0&&t.setStart(n),t.setDuration(i-t.start),t.startPTS=n,t.maxStartPTS=e,t.startDTS=l,t.endPTS=i,t.minEndPTS=o,t.endDTS=d;const p=t.sn;if(!g||p<g.startSN||p>g.endSN)return 0;let m;const y=p-g.startSN,E=g.fragments;for(E[y]=t,m=y;m>0;m--)Hd(E[m],E[m-1]);for(m=y;m<E.length-1;m++)Hd(E[m],E[m+1]);return g.fragmentHint&&Hd(E[E.length-1],g.fragmentHint),g.PTSKnown=g.alignedSliding=!0,A}function eb(g,t,n){if(g===t)return;let i=null;const l=g.fragments;for(let u=l.length-1;u>=0;u--){const f=l[u].initSegment;if(f){i=f;break}}g.fragmentHint&&delete g.fragmentHint.endPTS;let d;ib(g,t,(u,f,A,p)=>{if((!t.startCC||t.skippedSegments)&&f.cc!==u.cc){const m=u.cc-f.cc;for(let y=A;y<p.length;y++)p[y].cc+=m;t.endCC=p[p.length-1].cc}Qe(u.startPTS)&&Qe(u.endPTS)&&(f.setStart(f.startPTS=u.startPTS),f.startDTS=u.startDTS,f.maxStartPTS=u.maxStartPTS,f.endPTS=u.endPTS,f.endDTS=u.endDTS,f.minEndPTS=u.minEndPTS,f.setDuration(u.endPTS-u.startPTS),f.duration&&(d=f),t.PTSKnown=t.alignedSliding=!0),u.hasStreams&&(f.elementaryStreams=u.elementaryStreams),f.loader=u.loader,u.hasStats&&(f.stats=u.stats),u.initSegment&&(f.initSegment=u.initSegment,i=u.initSegment)});const a=t.fragments,c=t.fragmentHint?a.concat(t.fragmentHint):a;if(i&&c.forEach(u=>{var f;u&&(!u.initSegment||u.initSegment.relurl===((f=i)==null?void 0:f.relurl))&&(u.initSegment=i)}),t.skippedSegments){if(t.deltaUpdateFailed=a.some(u=>!u),t.deltaUpdateFailed){n.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(let u=t.skippedSegments;u--;)a.shift();t.startSN=a[0].sn}else{t.canSkipDateRanges&&(t.dateRanges=nb(g.dateRanges,t,n));const u=g.fragments.filter(f=>f.rawProgramDateTime);if(g.hasProgramDateTime&&!t.hasProgramDateTime)for(let f=1;f<c.length;f++)c[f].programDateTime===null&&gh(c[f],c[f-1],u);Nm(u,t)}t.endCC=a[a.length-1].cc}if(!t.startCC){var e;const u=Qm(g,t.startSN-1);t.startCC=(e=u?.cc)!=null?e:a[0].cc}rb(g.partList,t.partList,(u,f)=>{f.elementaryStreams=u.elementaryStreams,f.stats=u.stats}),d?Um(t,d,d.startPTS,d.endPTS,d.startDTS,d.endDTS,n):Fm(g,t),a.length&&(t.totalduration=t.edge-a[0].start),t.driftStartTime=g.driftStartTime,t.driftStart=g.driftStart;const o=t.advancedDateTime;if(t.advanced&&o){const u=t.edge;t.driftStart||(t.driftStartTime=o,t.driftStart=u),t.driftEndTime=o,t.driftEnd=u}else t.driftEndTime=g.driftEndTime,t.driftEnd=g.driftEnd,t.advancedDateTime=g.advancedDateTime;t.requestScheduled===-1&&(t.requestScheduled=g.requestScheduled)}function nb(g,t,n){const{dateRanges:i,recentlyRemovedDateranges:l}=t,d=mr({},g);l&&l.forEach(e=>{delete d[e]});const c=Object.keys(d).length;return c?(Object.keys(i).forEach(e=>{const o=d[e],u=new _m(i[e].attr,o);u.isValid?(d[e]=u,o||(u.tagOrder+=c)):n.warn(`Ignoring invalid Playlist Delta Update DATERANGE tag: "${wr(i[e].attr)}"`)}),d):i}function rb(g,t,n){if(g&&t){let i=0;for(let l=0,d=g.length;l<=d;l++){const a=g[l],c=t[l+i];a&&c&&a.index===c.index&&a.fragment.sn===c.fragment.sn?n(a,c):i--}}}function ib(g,t,n){const i=t.skippedSegments,l=Math.max(g.startSN,t.startSN)-t.startSN,d=(g.fragmentHint?1:0)+(i?t.endSN:Math.min(g.endSN,t.endSN))-t.startSN,a=t.startSN-g.startSN,c=t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments,e=g.fragmentHint?g.fragments.concat(g.fragmentHint):g.fragments;for(let o=l;o<=d;o++){const u=e[a+o];let f=c[o];if(i&&!f&&u&&(f=t.fragments[o]=u),u&&f){n(u,f,o,c);const A=u.relurl,p=f.relurl;if(A&&sb(A,p)){t.playlistParsingError=O0(`media sequence mismatch ${f.sn}:`,g,t,u,f);return}else if(u.cc!==f.cc){t.playlistParsingError=O0(`discontinuity sequence mismatch (${u.cc}!=${f.cc})`,g,t,u,f);return}}}}function O0(g,t,n,i,l){return new Error(`${g} ${l.url}
Playlist starting @${t.startSN}
${t.m3u8}

Playlist starting @${n.startSN}
${n.m3u8}`)}function Fm(g,t,n=!0){const i=t.startSN+t.skippedSegments-g.startSN,l=g.fragments,d=i>=0;let a=0;if(d&&i<l.length)a=l[i].start;else if(d&&t.startSN===g.endSN+1)a=g.fragmentEnd;else if(d&&n)a=g.fragmentStart+i*t.levelTargetDuration;else if(!t.skippedSegments&&t.fragmentStart===0)a=g.fragmentStart;else return;ph(t,a)}function ph(g,t){if(t){const n=g.fragments;for(let i=g.skippedSegments;i<n.length;i++)n[i].addStart(t);g.fragmentHint&&g.fragmentHint.addStart(t)}}function Gm(g,t=1/0){let n=1e3*g.targetduration;if(g.updated){const i=g.fragments;if(i.length&&n*4>t){const d=i[i.length-1].duration*1e3;d<n&&(n=d)}}else n/=2;return Math.round(n)}function Qm(g,t,n){if(!g)return null;let i=g.fragments[t-g.startSN];return i||(i=g.fragmentHint,i&&i.sn===t)?i:t<g.startSN&&n&&n.sn===t?n:null}function _0(g,t,n){return g?Hm(g.partList,t,n):null}function Hm(g,t,n){if(g)for(let i=g.length;i--;){const l=g[i];if(l.index===n&&l.fragment.sn===t)return l}return null}function Ym(g){g.forEach((t,n)=>{var i;(i=t.details)==null||i.fragments.forEach(l=>{l.level=n,l.initSegment&&(l.initSegment.level=n)})})}function sb(g,t){return g!==t&&t?M0(g)!==M0(t):!1}function M0(g){return g.replace(/\?[^?]*$/,"")}function Zl(g,t){for(let i=0,l=g.length;i<l;i++){var n;if(((n=g[i])==null?void 0:n.cc)===t)return g[i]}return null}function ab(g,t){return!!(g&&t.startCC<g.endCC&&t.endCC>g.startCC)}function P0(g,t){const n=g.start+t;g.startPTS=n,g.setStart(n),g.endPTS=n+g.duration}function zm(g,t){const n=t.fragments;for(let i=0,l=n.length;i<l;i++)P0(n[i],g);t.fragmentHint&&P0(t.fragmentHint,g),t.alignedSliding=!0}function ob(g,t){g&&(Vm(t,g),t.alignedSliding||Qc(t,g),!t.alignedSliding&&!t.skippedSegments&&Fm(g,t,!1))}function Vm(g,t){if(!ab(t,g))return;const n=Math.min(t.endCC,g.endCC),i=Zl(t.fragments,n),l=Zl(g.fragments,n);if(!i||!l)return;fr.log(`Aligning playlist at start of dicontinuity sequence ${n}`);const d=i.start-l.start;zm(d,g)}function Qc(g,t){if(!g.hasProgramDateTime||!t.hasProgramDateTime)return;const n=g.fragments,i=t.fragments;if(!n.length||!i.length)return;let l,d;const a=Math.min(t.endCC,g.endCC);t.startCC<a&&g.startCC<a&&(l=Zl(i,a),d=Zl(n,a)),(!l||!d)&&(l=i[Math.floor(i.length/2)],d=Zl(n,l.cc)||n[Math.floor(n.length/2)]);const c=l.programDateTime,e=d.programDateTime;if(!c||!e)return;const o=(e-c)/1e3-(d.start-l.start);zm(o,g)}function Ri(g,t,n){Pi(g,t,n),g.addEventListener(t,n)}function Pi(g,t,n){g.removeEventListener(t,n)}const lb={toString:function(g){let t="";const n=g.length;for(let i=0;i<n;i++)t+=`[${g.start(i).toFixed(3)}-${g.end(i).toFixed(3)}]`;return t}},Jt={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"};class Uh extends Bm{constructor(t,n,i,l,d){super(l,t.logger),this.hls=void 0,this.fragPrevious=null,this.fragCurrent=null,this.fragmentTracker=void 0,this.transmuxer=null,this._state=Jt.STOPPED,this.playlistType=void 0,this.media=null,this.mediaBuffer=null,this.config=void 0,this.bitrateTest=!1,this.lastCurrentTime=0,this.nextLoadPosition=0,this.startPosition=0,this.startTimeOffset=null,this.retryDate=0,this.levels=null,this.fragmentLoader=void 0,this.keyLoader=void 0,this.levelLastLoaded=null,this.startFragRequested=!1,this.decrypter=void 0,this.initPTS=[],this.buffering=!0,this.loadingParts=!1,this.loopSn=void 0,this.onMediaSeeking=()=>{const{config:a,fragCurrent:c,media:e,mediaBuffer:o,state:u}=this,f=e?e.currentTime:0,A=_n.bufferInfo(o||e,f,a.maxBufferHole),p=!A.len;if(this.log(`Media seeking to ${Qe(f)?f.toFixed(3):f}, state: ${u}, ${p?"out of":"in"} buffer`),this.state===Jt.ENDED)this.resetLoadingState();else if(c){const m=a.maxFragLookUpTolerance,y=c.start-m,E=c.start+c.duration+m;if(p||E<A.start||y>A.end){const C=f>E;(f<y||C)&&(C&&c.loader&&(this.log(`Cancelling fragment load for seek (sn: ${c.sn})`),c.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}if(e){this.fragmentTracker.removeFragmentsInRange(f,1/0,this.playlistType,!0);const m=this.lastCurrentTime;if(f>m&&(this.lastCurrentTime=f),!this.loadingParts){const y=Math.max(A.end,f),E=this.shouldLoadParts(this.getLevelDetails(),y);E&&(this.log(`LL-Part loading ON after seeking to ${f.toFixed(2)} with buffer @${y.toFixed(2)}`),this.loadingParts=E)}}this.hls.hasEnoughToStart||(this.log(`Setting ${p?"startPosition":"nextLoadPosition"} to ${f} for seek without enough to start`),this.nextLoadPosition=f,p&&(this.startPosition=f)),p&&this.state===Jt.IDLE&&this.tickImmediate()},this.onMediaEnded=()=>{this.log("setting startPosition to 0 because media ended"),this.startPosition=this.lastCurrentTime=0},this.playlistType=d,this.hls=t,this.fragmentLoader=new _E(t.config),this.keyLoader=i,this.fragmentTracker=n,this.config=t.config,this.decrypter=new _h(t.config)}registerListeners(){const{hls:t}=this;t.on(F.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(F.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(F.MANIFEST_LOADING,this.onManifestLoading,this),t.on(F.MANIFEST_LOADED,this.onManifestLoaded,this),t.on(F.ERROR,this.onError,this)}unregisterListeners(){const{hls:t}=this;t.off(F.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(F.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(F.MANIFEST_LOADING,this.onManifestLoading,this),t.off(F.MANIFEST_LOADED,this.onManifestLoaded,this),t.off(F.ERROR,this.onError,this)}doTick(){this.onTickEnd()}onTickEnd(){}startLoad(t){}stopLoad(){if(this.state===Jt.STOPPED)return;this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);const t=this.fragCurrent;t!=null&&t.loader&&(t.abortRequests(),this.fragmentTracker.removeFragment(t)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=Jt.STOPPED}get startPositionValue(){const{nextLoadPosition:t,startPosition:n}=this;return n===-1&&t?t:n}get bufferingEnabled(){return this.buffering}pauseBuffering(){this.buffering=!1}resumeBuffering(){this.buffering=!0}get inFlightFrag(){return{frag:this.fragCurrent,state:this.state}}_streamEnded(t,n){if(n.live||!this.media)return!1;const i=t.end||0,l=this.config.timelineOffset||0;if(i<=l)return!1;const d=t.buffered;this.config.maxBufferHole&&d&&d.length>1&&(t=_n.bufferedInfo(d,t.start,0));const a=t.nextStart;if(a&&a>l&&a<n.edge||this.media.currentTime<t.start)return!1;const e=n.partList;if(e!=null&&e.length){const u=e[e.length-1];return _n.isBuffered(this.media,u.start+u.duration/2)}const o=n.fragments[n.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(o)}getLevelDetails(){if(this.levels&&this.levelLastLoaded!==null)return this.levelLastLoaded.details}get timelineOffset(){const t=this.config.timelineOffset;if(t){var n;return((n=this.getLevelDetails())==null?void 0:n.appliedTimelineOffset)||t}return 0}onMediaAttached(t,n){const i=this.media=this.mediaBuffer=n.media;Ri(i,"seeking",this.onMediaSeeking),Ri(i,"ended",this.onMediaEnded);const l=this.config;this.levels&&l.autoStartLoad&&this.state===Jt.STOPPED&&this.startLoad(l.startPosition)}onMediaDetaching(t,n){const i=!!n.transferMedia,l=this.media;if(l!==null){if(l.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),Pi(l,"seeking",this.onMediaSeeking),Pi(l,"ended",this.onMediaEnded),this.keyLoader&&!i&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loopSn=void 0,i){this.resetLoadingState(),this.resetTransmuxer();return}this.loadingParts=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}}onManifestLoading(){this.initPTS=[],this.levels=this.levelLastLoaded=this.fragCurrent=null,this.lastCurrentTime=this.startPosition=0,this.startFragRequested=!1}onError(t,n){}onManifestLoaded(t,n){this.startTimeOffset=n.startTimeOffset}onHandlerDestroying(){this.stopLoad(),this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null),super.onHandlerDestroying(),this.hls=this.onMediaSeeking=this.onMediaEnded=null}onHandlerDestroyed(){this.state=Jt.STOPPED,this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,super.onHandlerDestroyed()}loadFragment(t,n,i){this.startFragRequested=!0,this._loadFragForPlayback(t,n,i)}_loadFragForPlayback(t,n,i){const l=d=>{const a=d.frag;if(this.fragContextChanged(a)){this.warn(`${a.type} sn: ${a.sn}${d.part?" part: "+d.part.index:""} of ${this.fragInfo(a,!1,d.part)}) was dropped during download.`),this.fragmentTracker.removeFragment(a);return}a.stats.chunkCount++,this._handleFragmentLoadProgress(d)};this._doFragLoad(t,n,i,l).then(d=>{if(!d)return;const a=this.state,c=d.frag;if(this.fragContextChanged(c)){(a===Jt.FRAG_LOADING||!this.fragCurrent&&a===Jt.PARSING)&&(this.fragmentTracker.removeFragment(c),this.state=Jt.IDLE);return}"payload"in d&&(this.log(`Loaded ${c.type} sn: ${c.sn} of ${this.playlistLabel()} ${c.level}`),this.hls.trigger(F.FRAG_LOADED,d)),this._handleFragmentLoadComplete(d)}).catch(d=>{this.state===Jt.STOPPED||this.state===Jt.ERROR||(this.warn(`Frag error: ${d?.message||d}`),this.resetFragmentLoading(t))})}clearTrackerIfNeeded(t){var n;const{fragmentTracker:i}=this;if(i.getState(t)===ti.APPENDING){const d=t.type,a=this.getFwdBufferInfo(this.mediaBuffer,d),c=Math.max(t.duration,a?a.len:this.config.maxBufferLength),e=this.backtrackFragment;((e?t.sn-e.sn:0)===1||this.reduceMaxBufferLength(c,t.duration))&&i.removeFragment(t)}else((n=this.mediaBuffer)==null?void 0:n.buffered.length)===0?i.removeAllFragments():i.hasParts(t.type)&&(i.detectPartialFragments({frag:t,part:null,stats:t.stats,id:t.type}),i.getState(t)===ti.PARTIAL&&i.removeFragment(t))}checkLiveUpdate(t){if(t.updated&&!t.live){const n=t.fragments[t.fragments.length-1];this.fragmentTracker.detectPartialFragments({frag:n,part:null,stats:n.stats,id:n.type})}t.fragments[0]||(t.deltaUpdateFailed=!0)}waitForLive(t){const n=t.details;return n?.live&&n.type!=="EVENT"&&(this.levelLastLoaded!==t||n.expired)}flushMainBuffer(t,n,i=null){if(!(t-n))return;const l={startOffset:t,endOffset:n,type:i};this.hls.trigger(F.BUFFER_FLUSHING,l)}_loadInitSegment(t,n){this._doFragLoad(t,n).then(i=>{const l=i?.frag;if(!l||this.fragContextChanged(l)||!this.levels)throw new Error("init load aborted");return i}).then(i=>{const{hls:l}=this,{frag:d,payload:a}=i,c=d.decryptdata;if(a&&a.byteLength>0&&c!=null&&c.key&&c.iv&&al(c.method)){const e=self.performance.now();return this.decrypter.decrypt(new Uint8Array(a),c.key.buffer,c.iv.buffer,Ph(c.method)).catch(o=>{throw l.trigger(F.ERROR,{type:nn.MEDIA_ERROR,details:Ot.FRAG_DECRYPT_ERROR,fatal:!1,error:o,reason:o.message,frag:d}),o}).then(o=>{const u=self.performance.now();return l.trigger(F.FRAG_DECRYPTED,{frag:d,payload:o,stats:{tstart:e,tdecrypt:u}}),i.payload=o,this.completeInitSegmentLoad(i)})}return this.completeInitSegmentLoad(i)}).catch(i=>{this.state===Jt.STOPPED||this.state===Jt.ERROR||(this.warn(i),this.resetFragmentLoading(t))})}completeInitSegmentLoad(t){const{levels:n}=this;if(!n)throw new Error("init load aborted, missing levels");const i=t.frag.stats;this.state!==Jt.STOPPED&&(this.state=Jt.IDLE),t.frag.data=new Uint8Array(t.payload),i.parsing.start=i.buffering.start=self.performance.now(),i.parsing.end=i.buffering.end=self.performance.now(),this.tick()}unhandledEncryptionError(t,n){var i,l;const d=t.tracks;if(d&&!n.encrypted&&((i=d.audio)!=null&&i.encrypted||(l=d.video)!=null&&l.encrypted)&&(!this.config.emeEnabled||!this.keyLoader.emeController)){const a=this.media,c=new Error(`Encrypted track with no key in ${this.fragInfo(n)} (media ${a?"attached mediaKeys: "+a.mediaKeys:"detached"})`);return this.warn(c.message),!a||a.mediaKeys?!1:(this.hls.trigger(F.ERROR,{type:nn.KEY_SYSTEM_ERROR,details:Ot.KEY_SYSTEM_NO_KEYS,fatal:!1,error:c,frag:n}),this.resetTransmuxer(),!0)}return!1}fragContextChanged(t){const{fragCurrent:n}=this;return!t||!n||t.sn!==n.sn||t.level!==n.level}fragBufferedComplete(t,n){const i=this.mediaBuffer?this.mediaBuffer:this.media;if(this.log(`Buffered ${t.type} sn: ${t.sn}${n?" part: "+n.index:""} of ${this.fragInfo(t,!1,n)} > buffer:${i?lb.toString(_n.getBuffered(i)):"(detached)"})`),Kr(t)){var l;if(t.type!==Ze.SUBTITLE){const a=t.elementaryStreams;if(!Object.keys(a).some(c=>!!a[c])){this.state=Jt.IDLE;return}}const d=(l=this.levels)==null?void 0:l[t.level];d!=null&&d.fragmentError&&(this.log(`Resetting level fragment error count of ${d.fragmentError} on frag buffered`),d.fragmentError=0)}this.state=Jt.IDLE}_handleFragmentLoadComplete(t){const{transmuxer:n}=this;if(!n)return;const{frag:i,part:l,partsLoaded:d}=t,a=!d||d.length===0||d.some(e=>!e),c=new Mh(i.level,i.sn,i.stats.chunkCount+1,0,l?l.index:-1,!a);n.flush(c)}_handleFragmentLoadProgress(t){}_doFragLoad(t,n,i=null,l){var d;this.fragCurrent=t;const a=n.details;if(!this.levels||!a)throw new Error(`frag load aborted, missing level${a?"":" detail"}s`);let c=null;if(t.encrypted&&!((d=t.decryptdata)!=null&&d.key)){if(this.log(`Loading key for ${t.sn} of [${a.startSN}-${a.endSN}], ${this.playlistLabel()} ${t.level}`),this.state=Jt.KEY_LOADING,this.fragCurrent=t,c=this.keyLoader.load(t).then(A=>{if(!this.fragContextChanged(A.frag))return this.hls.trigger(F.KEY_LOADED,A),this.state===Jt.KEY_LOADING&&(this.state=Jt.IDLE),A}),this.hls.trigger(F.KEY_LOADING,{frag:t}),this.fragCurrent===null)return this.log("context changed in KEY_LOADING"),Promise.resolve(null)}else t.encrypted||(c=this.keyLoader.loadClear(t,a.encryptedFragments,this.startFragRequested),c&&this.log("[eme] blocking frag load until media-keys acquired"));const e=this.fragPrevious;if(Kr(t)&&(!e||t.sn!==e.sn)){const A=this.shouldLoadParts(n.details,t.end);A!==this.loadingParts&&(this.log(`LL-Part loading ${A?"ON":"OFF"} loading sn ${e?.sn}->${t.sn}`),this.loadingParts=A)}if(i=Math.max(t.start,i||0),this.loadingParts&&Kr(t)){const A=a.partList;if(A&&l){i>a.fragmentEnd&&a.fragmentHint&&(t=a.fragmentHint);const p=this.getNextPart(A,t,i);if(p>-1){const m=A[p];t=this.fragCurrent=m.fragment,this.log(`Loading ${t.type} sn: ${t.sn} part: ${m.index} (${p}/${A.length-1}) of ${this.fragInfo(t,!1,m)}) cc: ${t.cc} [${a.startSN}-${a.endSN}], target: ${parseFloat(i.toFixed(3))}`),this.nextLoadPosition=m.start+m.duration,this.state=Jt.FRAG_LOADING;let y;return c?y=c.then(E=>!E||this.fragContextChanged(E.frag)?null:this.doFragPartsLoad(t,m,n,l)).catch(E=>this.handleFragLoadError(E)):y=this.doFragPartsLoad(t,m,n,l).catch(E=>this.handleFragLoadError(E)),this.hls.trigger(F.FRAG_LOADING,{frag:t,part:m,targetBufferTime:i}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):y}else if(!t.url||this.loadedEndOfParts(A,i))return Promise.resolve(null)}}if(Kr(t)&&this.loadingParts){var o;this.log(`LL-Part loading OFF after next part miss @${i.toFixed(2)} Check buffer at sn: ${t.sn} loaded parts: ${(o=a.partList)==null?void 0:o.filter(A=>A.loaded).map(A=>`[${A.start}-${A.end}]`)}`),this.loadingParts=!1}else if(!t.url)return Promise.resolve(null);this.log(`Loading ${t.type} sn: ${t.sn} of ${this.fragInfo(t,!1)}) cc: ${t.cc} ${"["+a.startSN+"-"+a.endSN+"]"}, target: ${parseFloat(i.toFixed(3))}`),Qe(t.sn)&&!this.bitrateTest&&(this.nextLoadPosition=t.start+t.duration),this.state=Jt.FRAG_LOADING;const u=this.config.progressive;let f;return u&&c?f=c.then(A=>!A||this.fragContextChanged(A.frag)?null:this.fragmentLoader.load(t,l)).catch(A=>this.handleFragLoadError(A)):f=Promise.all([this.fragmentLoader.load(t,u?l:void 0),c]).then(([A])=>(!u&&l&&l(A),A)).catch(A=>this.handleFragLoadError(A)),this.hls.trigger(F.FRAG_LOADING,{frag:t,targetBufferTime:i}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):f}doFragPartsLoad(t,n,i,l){return new Promise((d,a)=>{var c;const e=[],o=(c=i.details)==null?void 0:c.partList,u=f=>{this.fragmentLoader.loadPart(t,f,l).then(A=>{e[f.index]=A;const p=A.part;this.hls.trigger(F.FRAG_LOADED,A);const m=_0(i.details,t.sn,f.index+1)||Hm(o,t.sn,f.index+1);if(m)u(m);else return d({frag:t,part:p,partsLoaded:e})}).catch(a)};u(n)})}handleFragLoadError(t){if("data"in t){const n=t.data;n.frag&&n.details===Ot.INTERNAL_ABORTED?this.handleFragLoadAborted(n.frag,n.part):n.frag&&n.type===nn.KEY_SYSTEM_ERROR?(n.frag.abortRequests(),this.resetFragmentLoading(n.frag)):this.hls.trigger(F.ERROR,n)}else this.hls.trigger(F.ERROR,{type:nn.OTHER_ERROR,details:Ot.INTERNAL_EXCEPTION,err:t,error:t,fatal:!0});return null}_handleTransmuxerFlush(t){const n=this.getCurrentContext(t);if(!n||this.state!==Jt.PARSING){!this.fragCurrent&&this.state!==Jt.STOPPED&&this.state!==Jt.ERROR&&(this.state=Jt.IDLE);return}const{frag:i,part:l,level:d}=n,a=self.performance.now();i.stats.parsing.end=a,l&&(l.stats.parsing.end=a);const c=this.getLevelDetails(),o=c&&i.sn>c.endSN||this.shouldLoadParts(c,i.end);o!==this.loadingParts&&(this.log(`LL-Part loading ${o?"ON":"OFF"} after parsing segment ending @${i.end.toFixed(2)}`),this.loadingParts=o),this.updateLevelTiming(i,l,d,t.partial)}shouldLoadParts(t,n){if(this.config.lowLatencyMode){if(!t)return this.loadingParts;if(t.partList){var i;const d=t.partList[0];if(d.fragment.type===Ze.SUBTITLE)return!1;const a=d.end+(((i=t.fragmentHint)==null?void 0:i.duration)||0);if(n>=a){var l;if((this.hls.hasEnoughToStart?((l=this.media)==null?void 0:l.currentTime)||this.lastCurrentTime:this.getLoadPosition())>d.start-d.fragment.duration)return!0}}}return!1}getCurrentContext(t){const{levels:n,fragCurrent:i}=this,{level:l,sn:d,part:a}=t;if(!(n!=null&&n[l]))return this.warn(`Levels object was unset while buffering fragment ${d} of ${this.playlistLabel()} ${l}. The current chunk will not be buffered.`),null;const c=n[l],e=c.details,o=a>-1?_0(e,d,a):null,u=o?o.fragment:Qm(e,d,i);return u?(i&&i!==u&&(u.stats=i.stats),{frag:u,part:o,level:c}):null}bufferFragmentData(t,n,i,l,d){if(this.state!==Jt.PARSING)return;const{data1:a,data2:c}=t;let e=a;if(c&&(e=is(a,c)),!e.length)return;const o=this.initPTS[n.cc],u=o?-o.baseTime/o.timescale:void 0,f={type:t.type,frag:n,part:i,chunkMeta:l,offset:u,parent:n.type,data:e};if(this.hls.trigger(F.BUFFER_APPENDING,f),t.dropped&&t.independent&&!i){if(d)return;this.flushBufferGap(n)}}flushBufferGap(t){const n=this.media;if(!n)return;if(!_n.isBuffered(n,n.currentTime)){this.flushMainBuffer(0,t.start);return}const i=n.currentTime,l=_n.bufferInfo(n,i,0),d=t.duration,a=Math.min(this.config.maxFragLookUpTolerance*2,d*.25),c=Math.max(Math.min(t.start-a,l.end-a),i+a);t.start-c>a&&this.flushMainBuffer(c,t.start)}getFwdBufferInfo(t,n){var i;const l=this.getLoadPosition();if(!Qe(l))return null;const a=this.lastCurrentTime>l||(i=this.media)!=null&&i.paused?0:this.config.maxBufferHole;return this.getFwdBufferInfoAtPos(t,l,n,a)}getFwdBufferInfoAtPos(t,n,i,l){const d=_n.bufferInfo(t,n,l);if(d.len===0&&d.nextStart!==void 0){const a=this.fragmentTracker.getBufferedFrag(n,i);if(a&&(d.nextStart<=a.end||a.gap)){const c=Math.max(Math.min(d.nextStart,a.end)-n,l);return _n.bufferInfo(t,n,c)}}return d}getMaxBufferLength(t){const{config:n}=this;let i;return t?i=Math.max(8*n.maxBufferSize/t,n.maxBufferLength):i=n.maxBufferLength,Math.min(i,n.maxMaxBufferLength)}reduceMaxBufferLength(t,n){const i=this.config,l=Math.max(Math.min(t-n,i.maxBufferLength),n),d=Math.max(t-n*3,i.maxMaxBufferLength/2,l);return d>=l?(i.maxMaxBufferLength=d,this.warn(`Reduce max buffer length to ${d}s`),!0):!1}getAppendedFrag(t,n=Ze.MAIN){const i=this.fragmentTracker?this.fragmentTracker.getAppendedFrag(t,n):null;return i&&"fragment"in i?i.fragment:i}getNextFragment(t,n){const i=n.fragments,l=i.length;if(!l)return null;const{config:d}=this,a=i[0].start,c=d.lowLatencyMode&&!!n.partList;let e=null;if(n.live){const f=d.initialLiveManifestSize;if(l<f)return this.warn(`Not enough fragments to start playback (have: ${l}, need: ${f})`),null;if(!n.PTSKnown&&!this.startFragRequested&&this.startPosition===-1||t<a){var o;c&&!this.loadingParts&&(this.log("LL-Part loading ON for initial live fragment"),this.loadingParts=!0),e=this.getInitialLiveFragment(n);const A=this.hls.startPosition,p=this.hls.liveSyncPosition,m=e?(A!==-1&&A>=a?A:p)||e.start:t;this.log(`Setting startPosition to ${m} to match start frag at live edge. mainStart: ${A} liveSyncPosition: ${p} frag.start: ${(o=e)==null?void 0:o.start}`),this.startPosition=this.nextLoadPosition=m}}else t<=a&&(e=i[0]);if(!e){const f=this.loadingParts?n.partEnd:n.fragmentEnd;e=this.getFragmentAtPosition(t,f,n)}let u=this.filterReplacedPrimary(e,n);if(!u&&e){const f=e.sn-n.startSN;u=this.filterReplacedPrimary(i[f+1]||null,n)}return this.mapToInitFragWhenRequired(u)}isLoopLoading(t,n){const i=this.fragmentTracker.getState(t);return(i===ti.OK||i===ti.PARTIAL&&!!t.gap)&&this.nextLoadPosition>n}getNextFragmentLoopLoading(t,n,i,l,d){let a=null;if(t.gap&&(a=this.getNextFragment(this.nextLoadPosition,n),a&&!a.gap&&i.nextStart)){const c=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,i.nextStart,l,0);if(c!==null&&i.len+c.len>=d){const e=a.sn;return this.loopSn!==e&&(this.log(`buffer full after gaps in "${l}" playlist starting at sn: ${e}`),this.loopSn=e),null}}return this.loopSn=void 0,a}get primaryPrefetch(){if(N0(this.config)){var t;if((t=this.hls.interstitialsManager)==null||(t=t.playingItem)==null?void 0:t.event)return!0}return!1}filterReplacedPrimary(t,n){if(!t)return t;if(N0(this.config)&&t.type!==Ze.SUBTITLE){const i=this.hls.interstitialsManager,l=i?.bufferingItem;if(l){const a=l.event;if(a){if(a.appendInPlace||Math.abs(t.start-l.start)>1||l.start===0)return null}else if(t.end<=l.start&&n?.live===!1||t.start>l.end&&l.nextEvent&&(l.nextEvent.appendInPlace||t.start-l.end>1))return null}const d=i?.playerQueue;if(d)for(let a=d.length;a--;){const c=d[a].interstitial;if(c.appendInPlace&&t.start>=c.startTime&&t.end<=c.resumeTime)return null}}return t}mapToInitFragWhenRequired(t){return t!=null&&t.initSegment&&!t.initSegment.data&&!this.bitrateTest?t.initSegment:t}getNextPart(t,n,i){let l=-1,d=!1,a=!0;for(let c=0,e=t.length;c<e;c++){const o=t[c];if(a=a&&!o.independent,l>-1&&i<o.start)break;const u=o.loaded;u?l=-1:(d||(o.independent||a)&&o.fragment===n)&&(o.fragment!==n&&this.warn(`Need buffer at ${i} but next unloaded part starts at ${o.start}`),l=c),d=u}return l}loadedEndOfParts(t,n){let i;for(let l=t.length;l--;){if(i=t[l],!i.loaded)return!1;if(n>i.start)return!0}return!1}getInitialLiveFragment(t){const n=t.fragments,i=this.fragPrevious;let l=null;if(i){if(t.hasProgramDateTime&&(this.log(`Live playlist, switching playlist, load frag with same PDT: ${i.programDateTime}`),l=CE(n,i.endProgramDateTime,this.config.maxFragLookUpTolerance)),!l){const d=i.sn+1;if(d>=t.startSN&&d<=t.endSN){const a=n[d-t.startSN];i.cc===a.cc&&(l=a,this.log(`Live playlist, switching playlist, load frag with next SN: ${l.sn}`))}l||(l=km(t,i.cc,i.end),l&&this.log(`Live playlist, switching playlist, load frag with same CC: ${l.sn}`))}}else{const d=this.hls.liveSyncPosition;d!==null&&(l=this.getFragmentAtPosition(d,this.bitrateTest?t.fragmentEnd:t.edge,t))}return l}getFragmentAtPosition(t,n,i){const{config:l}=this;let{fragPrevious:d}=this,{fragments:a,endSN:c}=i;const{fragmentHint:e}=i,{maxFragLookUpTolerance:o}=l,u=i.partList,f=!!(this.loadingParts&&u!=null&&u.length&&e);f&&!this.bitrateTest&&u[u.length-1].fragment.sn===e.sn&&(a=a.concat(e),c=e.sn);let A;if(t<n){var p;const y=t<this.lastCurrentTime||t>n-o||(p=this.media)!=null&&p.paused||!this.startFragRequested?0:o;A=yo(d,a,t,y)}else A=a[a.length-1];if(A){const m=A.sn-i.startSN,y=this.fragmentTracker.getState(A);if((y===ti.OK||y===ti.PARTIAL&&A.gap)&&(d=A),d&&A.sn===d.sn&&(!f||u[0].fragment.sn>A.sn||!i.live)&&A.level===d.level){const C=a[m+1];A.sn<c&&this.fragmentTracker.getState(C)!==ti.OK?A=C:A=null}}return A}alignPlaylists(t,n,i){const l=t.fragments.length;if(!l)return this.warn("No fragments in live playlist"),0;const d=t.fragmentStart,a=!n,c=t.alignedSliding&&Qe(d);if(a||!c&&!d){ob(i,t);const e=t.fragmentStart;return this.log(`Live playlist sliding: ${e.toFixed(2)} start-sn: ${n?n.startSN:"na"}->${t.startSN} fragments: ${l}`),e}return d}waitForCdnTuneIn(t){return t.live&&t.canBlockReload&&t.partTarget&&t.tuneInGoal>Math.max(t.partHoldBack,t.partTarget*3)}setStartPosition(t,n){let i=this.startPosition;i<n&&(i=-1);const l=this.timelineOffset;if(i===-1){const d=this.startTimeOffset!==null,a=d?this.startTimeOffset:t.startTimeOffset;a!==null&&Qe(a)?(i=n+a,a<0&&(i+=t.edge),i=Math.min(Math.max(n,i),n+t.totalduration),this.log(`Setting startPosition to ${i} for start time offset ${a} found in ${d?"multivariant":"media"} playlist`),this.startPosition=i):t.live?(i=this.hls.liveSyncPosition||n,this.log(`Setting startPosition to -1 to start at live edge ${i}`),this.startPosition=-1):(this.log("setting startPosition to 0 by default"),this.startPosition=i=0),this.lastCurrentTime=i+l}this.nextLoadPosition=i+l}getLoadPosition(){var t;const{media:n}=this;let i=0;return(t=this.hls)!=null&&t.hasEnoughToStart&&n?i=n.currentTime:this.nextLoadPosition>=0&&(i=this.nextLoadPosition),i}handleFragLoadAborted(t,n){this.transmuxer&&t.type===this.playlistType&&Kr(t)&&t.stats.aborted&&(this.log(`Fragment ${t.sn}${n?" part "+n.index:""} of ${this.playlistLabel()} ${t.level} was aborted`),this.resetFragmentLoading(t))}resetFragmentLoading(t){(!this.fragCurrent||!this.fragContextChanged(t)&&this.state!==Jt.FRAG_LOADING_WAITING_RETRY)&&(this.state=Jt.IDLE)}onFragmentOrKeyLoadError(t,n){var i;if(n.chunkMeta&&!n.frag){const C=this.getCurrentContext(n.chunkMeta);C&&(n.frag=C.frag)}const l=n.frag;if(!l||l.type!==t||!this.levels)return;if(this.fragContextChanged(l)){var d;this.warn(`Frag load error must match current frag to retry ${l.url} > ${(d=this.fragCurrent)==null?void 0:d.url}`);return}const a=n.details===Ot.FRAG_GAP;a&&this.fragmentTracker.fragBuffered(l,!0);const c=n.errorAction;if(!c){this.state=Jt.ERROR;return}const{action:e,flags:o,retryCount:u=0,retryConfig:f}=c,A=!!f,p=A&&e===di.RetryRequest,m=A&&!c.resolved&&o===$i.MoveAllAlternatesMatchingHost,y=(i=this.hls.latestLevelDetails)==null?void 0:i.live;if(!p&&m&&Kr(l)&&!l.endList&&y)this.resetFragmentErrors(t),this.treatAsGap(l),c.resolved=!0;else if((p||m)&&u<f.maxNumRetry){var E;const C=dh((E=n.response)==null?void 0:E.code),T=Oh(f,u);if(this.resetStartWhenNotLoaded(),this.retryDate=self.performance.now()+T,this.state=Jt.FRAG_LOADING_WAITING_RETRY,c.resolved=!0,C){this.log("Waiting for connection (offline)"),this.retryDate=1/0,n.reason="offline";return}this.warn(`Fragment ${l.sn} of ${t} ${l.level} errored with ${n.details}, retrying loading ${u+1}/${f.maxNumRetry} in ${T}ms`)}else if(f)if(this.resetFragmentErrors(t),u<f.maxNumRetry)!a&&e!==di.RemoveAlternatePermanently&&(c.resolved=!0);else{this.warn(`${n.details} reached or exceeded max retry (${u})`);return}else e===di.SendAlternateToPenaltyBox?this.state=Jt.WAITING_LEVEL:this.state=Jt.ERROR;this.tickImmediate()}checkRetryDate(){const t=self.performance.now(),n=this.retryDate,i=n===1/0;(!n||t>=n||i&&!dh(0))&&(i&&this.log("Connection restored (online)"),this.resetStartWhenNotLoaded(),this.state=Jt.IDLE)}reduceLengthAndFlushBuffer(t){if(this.state===Jt.PARSING||this.state===Jt.PARSED){const n=t.frag,i=t.parent,l=this.getFwdBufferInfo(this.mediaBuffer,i),d=l&&l.len>.5;d&&this.reduceMaxBufferLength(l.len,n?.duration||10);const a=!d;return a&&this.warn(`Buffer full error while media.currentTime (${this.getLoadPosition()}) is not buffered, flush ${i} buffer`),n&&(this.fragmentTracker.removeFragment(n),this.nextLoadPosition=n.start),this.resetLoadingState(),a}return!1}resetFragmentErrors(t){t===Ze.AUDIO&&(this.fragCurrent=null),this.hls.hasEnoughToStart||(this.startFragRequested=!1),this.state!==Jt.STOPPED&&(this.state=Jt.IDLE)}afterBufferFlushed(t,n,i){if(!t)return;const l=_n.getBuffered(t);this.fragmentTracker.detectEvictedFragments(n,l,i),this.state===Jt.ENDED&&this.resetLoadingState()}resetLoadingState(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state!==Jt.STOPPED&&(this.state=Jt.IDLE)}resetStartWhenNotLoaded(){if(!this.hls.hasEnoughToStart){this.startFragRequested=!1;const t=this.levelLastLoaded,n=t?t.details:null;n!=null&&n.live?(this.log("resetting startPosition for live start"),this.startPosition=-1,this.setStartPosition(n,n.fragmentStart),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}resetWhenMissingContext(t){this.log(`Loading context changed while buffering sn ${t.sn} of ${this.playlistLabel()} ${t.level===-1?"<removed>":t.level}. This chunk will not be buffered.`),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(),this.resetLoadingState()}removeUnbufferedFrags(t=0){this.fragmentTracker.removeFragmentsInRange(t,1/0,this.playlistType,!1,!0)}updateLevelTiming(t,n,i,l){const d=i.details;if(!d){this.warn("level.details undefined");return}if(!Object.keys(t.elementaryStreams).reduce((e,o)=>{const u=t.elementaryStreams[o];if(u){const f=u.endPTS-u.startPTS;if(f<=0)return this.warn(`Could not parse fragment ${t.sn} ${o} duration reliably (${f})`),e||!1;const A=l?0:Um(d,t,u.startPTS,u.endPTS,u.startDTS,u.endDTS,this);return this.hls.trigger(F.LEVEL_PTS_UPDATED,{details:d,level:i,drift:A,type:o,frag:t,start:u.startPTS,end:u.endPTS}),!0}return e},!1)){var c;if(i.fragmentError===0&&this.treatAsGap(t,i),((c=this.transmuxer)==null?void 0:c.error)===null){const e=new Error(`Found no media in fragment ${t.sn} of ${this.playlistLabel()} ${t.level} resetting transmuxer to fallback to playlist timing`);if(this.warn(e.message),this.hls.trigger(F.ERROR,{type:nn.MEDIA_ERROR,details:Ot.FRAG_PARSING_ERROR,fatal:!1,error:e,frag:t,reason:`Found no media in msn ${t.sn} of ${this.playlistLabel()} "${i.url}"`}),!this.hls)return;this.resetTransmuxer()}}this.state=Jt.PARSED,this.log(`Parsed ${t.type} sn: ${t.sn}${n?" part: "+n.index:""} of ${this.fragInfo(t,!1,n)})`),this.hls.trigger(F.FRAG_PARSED,{frag:t,part:n})}playlistLabel(){return this.playlistType===Ze.MAIN?"level":"track"}fragInfo(t,n=!0,i){var l,d;return`${this.playlistLabel()} ${t.level} (${i?"part":"frag"}:[${((l=n&&!i?t.startPTS:(i||t).start)!=null?l:NaN).toFixed(3)}-${((d=n&&!i?t.endPTS:(i||t).end)!=null?d:NaN).toFixed(3)}]${i&&t.type==="main"?"INDEPENDENT="+(i.independent?"YES":"NO"):""}`}treatAsGap(t,n){n&&n.fragmentError++,t.gap=!0,this.fragmentTracker.removeFragment(t),this.fragmentTracker.fragBuffered(t,!0)}resetTransmuxer(){var t;(t=this.transmuxer)==null||t.reset()}recoverWorkerError(t){t.event==="demuxerWorker"&&(this.fragmentTracker.removeAllFragments(),this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null),this.resetStartWhenNotLoaded(),this.resetLoadingState())}set state(t){const n=this._state;n!==t&&(this._state=t,this.log(`${n}->${t}`))}get state(){return this._state}}function N0(g){return!!g.interstitialsController&&g.enableInterstitialPlayback!==!1}class jm{constructor(){this.chunks=[],this.dataLength=0}push(t){this.chunks.push(t),this.dataLength+=t.length}flush(){const{chunks:t,dataLength:n}=this;let i;if(t.length)t.length===1?i=t[0]:i=ub(t,n);else return new Uint8Array(0);return this.reset(),i}reset(){this.chunks.length=0,this.dataLength=0}}function ub(g,t){const n=new Uint8Array(t);let i=0;for(let l=0;l<g.length;l++){const d=g[l];n.set(d,i),i+=d.length}return n}var Yd={exports:{}},U0;function cb(){return U0||(U0=1,(function(g){var t=Object.prototype.hasOwnProperty,n="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(n=!1));function l(e,o,u){this.fn=e,this.context=o,this.once=u||!1}function d(e,o,u,f,A){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new l(u,f||e,A),m=n?n+o:o;return e._events[m]?e._events[m].fn?e._events[m]=[e._events[m],p]:e._events[m].push(p):(e._events[m]=p,e._eventsCount++),e}function a(e,o){--e._eventsCount===0?e._events=new i:delete e._events[o]}function c(){this._events=new i,this._eventsCount=0}c.prototype.eventNames=function(){var o=[],u,f;if(this._eventsCount===0)return o;for(f in u=this._events)t.call(u,f)&&o.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(u)):o},c.prototype.listeners=function(o){var u=n?n+o:o,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var A=0,p=f.length,m=new Array(p);A<p;A++)m[A]=f[A].fn;return m},c.prototype.listenerCount=function(o){var u=n?n+o:o,f=this._events[u];return f?f.fn?1:f.length:0},c.prototype.emit=function(o,u,f,A,p,m){var y=n?n+o:o;if(!this._events[y])return!1;var E=this._events[y],C=arguments.length,T,x;if(E.fn){switch(E.once&&this.removeListener(o,E.fn,void 0,!0),C){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,u),!0;case 3:return E.fn.call(E.context,u,f),!0;case 4:return E.fn.call(E.context,u,f,A),!0;case 5:return E.fn.call(E.context,u,f,A,p),!0;case 6:return E.fn.call(E.context,u,f,A,p,m),!0}for(x=1,T=new Array(C-1);x<C;x++)T[x-1]=arguments[x];E.fn.apply(E.context,T)}else{var L=E.length,D;for(x=0;x<L;x++)switch(E[x].once&&this.removeListener(o,E[x].fn,void 0,!0),C){case 1:E[x].fn.call(E[x].context);break;case 2:E[x].fn.call(E[x].context,u);break;case 3:E[x].fn.call(E[x].context,u,f);break;case 4:E[x].fn.call(E[x].context,u,f,A);break;default:if(!T)for(D=1,T=new Array(C-1);D<C;D++)T[D-1]=arguments[D];E[x].fn.apply(E[x].context,T)}}return!0},c.prototype.on=function(o,u,f){return d(this,o,u,f,!1)},c.prototype.once=function(o,u,f){return d(this,o,u,f,!0)},c.prototype.removeListener=function(o,u,f,A){var p=n?n+o:o;if(!this._events[p])return this;if(!u)return a(this,p),this;var m=this._events[p];if(m.fn)m.fn===u&&(!A||m.once)&&(!f||m.context===f)&&a(this,p);else{for(var y=0,E=[],C=m.length;y<C;y++)(m[y].fn!==u||A&&!m[y].once||f&&m[y].context!==f)&&E.push(m[y]);E.length?this._events[p]=E.length===1?E[0]:E:a(this,p)}return this},c.prototype.removeAllListeners=function(o){var u;return o?(u=n?n+o:o,this._events[u]&&a(this,u)):(this._events=new i,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,g.exports=c})(Yd)),Yd.exports}var fb=cb(),Fh=N1(fb);const ru="1.6.11",cl={};function db(){return typeof __HLS_WORKER_BUNDLE__=="function"}function hb(){const g=cl[ru];if(g)return g.clientCount++,g;const t=new self.Blob([`var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(${__HLS_WORKER_BUNDLE__.toString()})(true);`],{type:"text/javascript"}),n=self.URL.createObjectURL(t),l={worker:new self.Worker(n),objectURL:n,clientCount:1};return cl[ru]=l,l}function Ab(g){const t=cl[g];if(t)return t.clientCount++,t;const n=new self.URL(g,self.location.href).href,l={worker:new self.Worker(n),scriptURL:n,clientCount:1};return cl[g]=l,l}function gb(g){const t=cl[g||ru];if(t&&t.clientCount--===1){const{worker:i,objectURL:l}=t;delete cl[g||ru],l&&self.URL.revokeObjectURL(l),i.terminate()}}function $m(g,t){return t+10<=g.length&&g[t]===51&&g[t+1]===68&&g[t+2]===73&&g[t+3]<255&&g[t+4]<255&&g[t+6]<128&&g[t+7]<128&&g[t+8]<128&&g[t+9]<128}function Gh(g,t){return t+10<=g.length&&g[t]===73&&g[t+1]===68&&g[t+2]===51&&g[t+3]<255&&g[t+4]<255&&g[t+6]<128&&g[t+7]<128&&g[t+8]<128&&g[t+9]<128}function jc(g,t){let n=0;return n=(g[t]&127)<<21,n|=(g[t+1]&127)<<14,n|=(g[t+2]&127)<<7,n|=g[t+3]&127,n}function iu(g,t){const n=t;let i=0;for(;Gh(g,t);){i+=10;const l=jc(g,t+6);i+=l,$m(g,t+10)&&(i+=10),t+=i}if(i>0)return g.subarray(n,n+i)}function pb(g,t,n,i){const l=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],d=t[n+2],a=d>>2&15;if(a>12){const p=new Error(`invalid ADTS sampling index:${a}`);g.emit(F.ERROR,F.ERROR,{type:nn.MEDIA_ERROR,details:Ot.FRAG_PARSING_ERROR,fatal:!0,error:p,reason:p.message});return}const c=(d>>6&3)+1,e=t[n+3]>>6&3|(d&1)<<2,o="mp4a.40."+c,u=l[a];let f=a;(c===5||c===29)&&(f-=3);const A=[c<<3|(f&14)>>1,(f&1)<<7|e<<3];return fr.log(`manifest codec:${i}, parsed codec:${o}, channels:${e}, rate:${u} (ADTS object type:${c} sampling index:${a})`),{config:A,samplerate:u,channelCount:e,codec:o,parsedCodec:o,manifestCodec:i}}function Km(g,t){return g[t]===255&&(g[t+1]&246)===240}function Wm(g,t){return g[t+1]&1?7:9}function Qh(g,t){return(g[t+3]&3)<<11|g[t+4]<<3|(g[t+5]&224)>>>5}function mb(g,t){return t+5<g.length}function Hc(g,t){return t+1<g.length&&Km(g,t)}function vb(g,t){return mb(g,t)&&Km(g,t)&&Qh(g,t)<=g.length-t}function yb(g,t){if(Hc(g,t)){const n=Wm(g,t);if(t+n>=g.length)return!1;const i=Qh(g,t);if(i<=n)return!1;const l=t+i;return l===g.length||Hc(g,l)}return!1}function qm(g,t,n,i,l){if(!g.samplerate){const d=pb(t,n,i,l);if(!d)return;mr(g,d)}}function Xm(g){return 1024*9e4/g}function Eb(g,t){const n=Wm(g,t);if(t+n<=g.length){const i=Qh(g,t)-n;if(i>0)return{headerLength:n,frameLength:i}}}function Zm(g,t,n,i,l){const d=Xm(g.samplerate),a=i+l*d,c=Eb(t,n);let e;if(c){const{frameLength:f,headerLength:A}=c,p=A+f,m=Math.max(0,n+p-t.length);m?(e=new Uint8Array(p-A),e.set(t.subarray(n+A,t.length),0)):e=t.subarray(n+A,n+p);const y={unit:e,pts:a};return m||g.samples.push(y),{sample:y,length:p,missing:m}}const o=t.length-n;return e=new Uint8Array(o),e.set(t.subarray(n,t.length),0),{sample:{unit:e,pts:a},length:o,missing:-1}}function bb(g,t){return Gh(g,t)&&jc(g,t+6)+10<=g.length-t}function Cb(g){return g instanceof ArrayBuffer?g:g.byteOffset==0&&g.byteLength==g.buffer.byteLength?g.buffer:new Uint8Array(g).buffer}function zd(g,t=0,n=1/0){return Sb(g,t,n,Uint8Array)}function Sb(g,t,n,i){const l=Tb(g);let d=1;"BYTES_PER_ELEMENT"in i&&(d=i.BYTES_PER_ELEMENT);const a=xb(g)?g.byteOffset:0,c=(a+g.byteLength)/d,e=(a+t)/d,o=Math.floor(Math.max(0,Math.min(e,c))),u=Math.floor(Math.min(o+Math.max(n,0),c));return new i(l,o,u-o)}function Tb(g){return g instanceof ArrayBuffer?g:g.buffer}function xb(g){return g&&g.buffer instanceof ArrayBuffer&&g.byteLength!==void 0&&g.byteOffset!==void 0}function wb(g){const t={key:g.type,description:"",data:"",mimeType:null,pictureType:null},n=3;if(g.size<2)return;if(g.data[0]!==n){console.log("Ignore frame with unrecognized character encoding");return}const i=g.data.subarray(1).indexOf(0);if(i===-1)return;const l=qi(zd(g.data,1,i)),d=g.data[2+i],a=g.data.subarray(3+i).indexOf(0);if(a===-1)return;const c=qi(zd(g.data,3+i,a));let e;return l==="-->"?e=qi(zd(g.data,4+i+a)):e=Cb(g.data.subarray(4+i+a)),t.mimeType=l,t.pictureType=d,t.description=c,t.data=e,t}function Lb(g){if(g.size<2)return;const t=qi(g.data,!0),n=new Uint8Array(g.data.subarray(t.length+1));return{key:g.type,info:t,data:n.buffer}}function Rb(g){if(g.size<2)return;if(g.type==="TXXX"){let n=1;const i=qi(g.data.subarray(n),!0);n+=i.length+1;const l=qi(g.data.subarray(n));return{key:g.type,info:i,data:l}}const t=qi(g.data.subarray(1));return{key:g.type,info:"",data:t}}function Ib(g){if(g.type==="WXXX"){if(g.size<2)return;let n=1;const i=qi(g.data.subarray(n),!0);n+=i.length+1;const l=qi(g.data.subarray(n));return{key:g.type,info:i,data:l}}const t=qi(g.data);return{key:g.type,info:"",data:t}}function Db(g){return g.type==="PRIV"?Lb(g):g.type[0]==="W"?Ib(g):g.type==="APIC"?wb(g):Rb(g)}function kb(g){const t=String.fromCharCode(g[0],g[1],g[2],g[3]),n=jc(g,4),i=10;return{type:t,size:n,data:g.subarray(i,i+n)}}const pc=10,Bb=10;function Jm(g){let t=0;const n=[];for(;Gh(g,t);){const i=jc(g,t+6);g[t+5]>>6&1&&(t+=pc),t+=pc;const l=t+i;for(;t+Bb<l;){const d=kb(g.subarray(t)),a=Db(d);a&&n.push(a),t+=d.size+pc}$m(g,t)&&(t+=pc)}return n}function tv(g){return g&&g.key==="PRIV"&&g.info==="com.apple.streaming.transportStreamTimestamp"}function Ob(g){if(g.data.byteLength===8){const t=new Uint8Array(g.data),n=t[3]&1;let i=(t[4]<<23)+(t[5]<<15)+(t[6]<<7)+t[7];return i/=45,n&&(i+=4772185884e-2),Math.round(i)}}function Hh(g){const t=Jm(g);for(let n=0;n<t.length;n++){const i=t[n];if(tv(i))return Ob(i)}}let Wi=(function(g){return g.audioId3="org.id3",g.dateRange="com.apple.quicktime.HLS",g.emsg="https://aomedia.org/emsg/ID3",g.misbklv="urn:misb:KLV:bin:1910.1",g})({});function Os(g="",t=9e4){return{type:g,id:-1,pid:-1,inputTimeScale:t,sequenceNumber:-1,samples:[],dropped:0}}class Yh{constructor(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}resetInitSegment(t,n,i,l){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}resetTimeStamp(t){this.initPTS=t,this.resetContiguity()}resetContiguity(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}canParse(t,n){return!1}appendFrame(t,n,i){}demux(t,n){this.cachedData&&(t=is(this.cachedData,t),this.cachedData=null);let i=iu(t,0),l=i?i.length:0,d;const a=this._audioTrack,c=this._id3Track,e=i?Hh(i):void 0,o=t.length;for((this.basePTS===null||this.frameIndex===0&&Qe(e))&&(this.basePTS=_b(e,n,this.initPTS),this.lastPTS=this.basePTS),this.lastPTS===null&&(this.lastPTS=this.basePTS),i&&i.length>0&&c.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:i,type:Wi.audioId3,duration:Number.POSITIVE_INFINITY});l<o;){if(this.canParse(t,l)){const u=this.appendFrame(a,t,l);u?(this.frameIndex++,this.lastPTS=u.sample.pts,l+=u.length,d=l):l=o}else bb(t,l)?(i=iu(t,l),c.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:i,type:Wi.audioId3,duration:Number.POSITIVE_INFINITY}),l+=i.length,d=l):l++;if(l===o&&d!==o){const u=t.slice(d);this.cachedData?this.cachedData=is(this.cachedData,u):this.cachedData=u}}return{audioTrack:a,videoTrack:Os(),id3Track:c,textTrack:Os()}}demuxSampleAes(t,n,i){return Promise.reject(new Error(`[${this}] This demuxer does not support Sample-AES decryption`))}flush(t){const n=this.cachedData;return n&&(this.cachedData=null,this.demux(n,0)),{audioTrack:this._audioTrack,videoTrack:Os(),id3Track:this._id3Track,textTrack:Os()}}destroy(){this.cachedData=null,this._audioTrack=this._id3Track=void 0}}const _b=(g,t,n)=>{if(Qe(g))return g*90;const i=n?n.baseTime*9e4/n.timescale:0;return t*9e4+i};let mc=null;const Mb=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],Pb=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],Nb=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],Ub=[0,1,1,4];function ev(g,t,n,i,l){if(n+24>t.length)return;const d=nv(t,n);if(d&&n+d.frameLength<=t.length){const a=d.samplesPerFrame*9e4/d.sampleRate,c=i+l*a,e={unit:t.subarray(n,n+d.frameLength),pts:c,dts:c};return g.config=[],g.channelCount=d.channelCount,g.samplerate=d.sampleRate,g.samples.push(e),{sample:e,length:d.frameLength,missing:0}}}function nv(g,t){const n=g[t+1]>>3&3,i=g[t+1]>>1&3,l=g[t+2]>>4&15,d=g[t+2]>>2&3;if(n!==1&&l!==0&&l!==15&&d!==3){const a=g[t+2]>>1&1,c=g[t+3]>>6,e=n===3?3-i:i===3?3:4,o=Mb[e*14+l-1]*1e3,f=Pb[(n===3?0:n===2?1:2)*3+d],A=c===3?1:2,p=Nb[n][i],m=Ub[i],y=p*8*m,E=Math.floor(p*o/f+a)*m;if(mc===null){const x=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);mc=x?parseInt(x[1]):0}return!!mc&&mc<=87&&i===2&&o>=224e3&&c===0&&(g[t+3]=g[t+3]|128),{sampleRate:f,channelCount:A,frameLength:E,samplesPerFrame:y}}}function zh(g,t){return g[t]===255&&(g[t+1]&224)===224&&(g[t+1]&6)!==0}function rv(g,t){return t+1<g.length&&zh(g,t)}function Fb(g,t){return zh(g,t)&&4<=g.length-t}function iv(g,t){if(t+1<g.length&&zh(g,t)){const i=nv(g,t);let l=4;i!=null&&i.frameLength&&(l=i.frameLength);const d=t+l;return d===g.length||rv(g,d)}return!1}class Gb extends Yh{constructor(t,n){super(),this.observer=void 0,this.config=void 0,this.observer=t,this.config=n}resetInitSegment(t,n,i,l){super.resetInitSegment(t,n,i,l),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:n,duration:l,inputTimeScale:9e4,dropped:0}}static probe(t,n){if(!t)return!1;const i=iu(t,0);let l=i?.length||0;if(iv(t,l))return!1;for(let d=t.length;l<d;l++)if(yb(t,l))return n.log("ADTS sync word found !"),!0;return!1}canParse(t,n){return vb(t,n)}appendFrame(t,n,i){qm(t,this.observer,n,i,t.manifestCodec);const l=Zm(t,n,i,this.basePTS,this.frameIndex);if(l&&l.missing===0)return l}}const sv=(g,t)=>{let n=0,i=5;t+=i;const l=new Uint32Array(1),d=new Uint32Array(1),a=new Uint8Array(1);for(;i>0;){a[0]=g[t];const c=Math.min(i,8),e=8-c;d[0]=4278190080>>>24+e<<e,l[0]=(a[0]&d[0])>>e,n=n?n<<c|l[0]:l[0],t+=1,i-=c}return n};class Qb extends Yh{constructor(t){super(),this.observer=void 0,this.observer=t}resetInitSegment(t,n,i,l){super.resetInitSegment(t,n,i,l),this._audioTrack={container:"audio/ac-3",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"ac3",samples:[],manifestCodec:n,duration:l,inputTimeScale:9e4,dropped:0}}canParse(t,n){return n+64<t.length}appendFrame(t,n,i){const l=av(t,n,i,this.basePTS,this.frameIndex);if(l!==-1)return{sample:t.samples[t.samples.length-1],length:l,missing:0}}static probe(t){if(!t)return!1;const n=iu(t,0);if(!n)return!1;const i=n.length;return t[i]===11&&t[i+1]===119&&Hh(n)!==void 0&&sv(t,i)<16}}function av(g,t,n,i,l){if(n+8>t.length||t[n]!==11||t[n+1]!==119)return-1;const d=t[n+4]>>6;if(d>=3)return-1;const c=[48e3,44100,32e3][d],e=t[n+4]&63,u=[64,69,96,64,70,96,80,87,120,80,88,120,96,104,144,96,105,144,112,121,168,112,122,168,128,139,192,128,140,192,160,174,240,160,175,240,192,208,288,192,209,288,224,243,336,224,244,336,256,278,384,256,279,384,320,348,480,320,349,480,384,417,576,384,418,576,448,487,672,448,488,672,512,557,768,512,558,768,640,696,960,640,697,960,768,835,1152,768,836,1152,896,975,1344,896,976,1344,1024,1114,1536,1024,1115,1536,1152,1253,1728,1152,1254,1728,1280,1393,1920,1280,1394,1920][e*3+d]*2;if(n+u>t.length)return-1;const f=t[n+6]>>5;let A=0;f===2?A+=2:(f&1&&f!==1&&(A+=2),f&4&&(A+=2));const p=(t[n+6]<<8|t[n+7])>>12-A&1,y=[2,1,2,3,3,4,4,5][f]+p,E=t[n+5]>>3,C=t[n+5]&7,T=new Uint8Array([d<<6|E<<1|C>>2,(C&3)<<6|f<<3|p<<2|e>>4,e<<4&224]),x=1536/c*9e4,L=i+l*x,D=t.subarray(n,n+u);return g.config=T,g.channelCount=y,g.samplerate=c,g.samples.push({unit:D,pts:L}),u}class Hb extends Yh{resetInitSegment(t,n,i,l){super.resetInitSegment(t,n,i,l),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:n,duration:l,inputTimeScale:9e4,dropped:0}}static probe(t){if(!t)return!1;const n=iu(t,0);let i=n?.length||0;if(n&&t[i]===11&&t[i+1]===119&&Hh(n)!==void 0&&sv(t,i)<=16)return!1;for(let l=t.length;i<l;i++)if(iv(t,i))return fr.log("MPEG Audio sync word found !"),!0;return!1}canParse(t,n){return Fb(t,n)}appendFrame(t,n,i){if(this.basePTS!==null)return ev(t,n,i,this.basePTS,this.frameIndex)}}const Yb=/\/emsg[-/]ID3/i;class zb{constructor(t,n){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=n}resetTimeStamp(){}resetInitSegment(t,n,i,l){const d=this.videoTrack=Os("video",1),a=this.audioTrack=Os("audio",1),c=this.txtTrack=Os("text",1);if(this.id3Track=Os("id3",1),this.timeOffset=0,!(t!=null&&t.byteLength))return;const e=bm(t);if(e.video){const{id:o,timescale:u,codec:f,supplemental:A}=e.video;d.id=o,d.timescale=c.timescale=u,d.codec=f,d.supplemental=A}if(e.audio){const{id:o,timescale:u,codec:f}=e.audio;a.id=o,a.timescale=u,a.codec=f}c.id=vm.text,d.sampleDuration=0,d.duration=a.duration=l}resetContiguity(){this.remainderData=null}static probe(t){return H1(t)}demux(t,n){this.timeOffset=n;let i=t;const l=this.videoTrack,d=this.txtTrack;if(this.config.progressive){this.remainderData&&(i=is(this.remainderData,t));const c=K1(i);this.remainderData=c.remainder,l.samples=c.valid||new Uint8Array}else l.samples=i;const a=this.extractID3Track(l,n);return d.samples=r0(n,l),{videoTrack:l,audioTrack:this.audioTrack,id3Track:a,textTrack:this.txtTrack}}flush(){const t=this.timeOffset,n=this.videoTrack,i=this.txtTrack;n.samples=this.remainderData||new Uint8Array,this.remainderData=null;const l=this.extractID3Track(n,this.timeOffset);return i.samples=r0(t,n),{videoTrack:n,audioTrack:Os(),id3Track:l,textTrack:Os()}}extractID3Track(t,n){const i=this.id3Track;if(t.samples.length){const l=Hn(t.samples,["emsg"]);l&&l.forEach(d=>{const a=q1(d);if(Yb.test(a.schemeIdUri)){const c=F0(a,n);let e=a.eventDuration===4294967295?Number.POSITIVE_INFINITY:a.eventDuration/a.timeScale;e<=.001&&(e=Number.POSITIVE_INFINITY);const o=a.payload;i.samples.push({data:o,len:o.byteLength,dts:c,pts:c,type:Wi.emsg,duration:e})}else if(this.config.enableEmsgKLVMetadata&&a.schemeIdUri.startsWith("urn:misb:KLV:bin:1910.1")){const c=F0(a,n);i.samples.push({data:a.payload,len:a.payload.byteLength,dts:c,pts:c,type:Wi.misbklv,duration:Number.POSITIVE_INFINITY})}})}return i}demuxSampleAes(t,n,i){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}destroy(){this.config=null,this.remainderData=null,this.videoTrack=this.audioTrack=this.id3Track=this.txtTrack=void 0}}function F0(g,t){return Qe(g.presentationTime)?g.presentationTime/g.timeScale:t+g.presentationTimeDelta/g.timeScale}class Vb{constructor(t,n,i){this.keyData=void 0,this.decrypter=void 0,this.keyData=i,this.decrypter=new _h(n,{removePKCS7Padding:!1})}decryptBuffer(t){return this.decrypter.decrypt(t,this.keyData.key.buffer,this.keyData.iv.buffer,Qa.cbc)}decryptAacSample(t,n,i){const l=t[n].unit;if(l.length<=16)return;const d=l.subarray(16,l.length-l.length%16),a=d.buffer.slice(d.byteOffset,d.byteOffset+d.length);this.decryptBuffer(a).then(c=>{const e=new Uint8Array(c);l.set(e,16),this.decrypter.isSync()||this.decryptAacSamples(t,n+1,i)}).catch(i)}decryptAacSamples(t,n,i){for(;;n++){if(n>=t.length){i();return}if(!(t[n].unit.length<32)&&(this.decryptAacSample(t,n,i),!this.decrypter.isSync()))return}}getAvcEncryptedData(t){const n=Math.floor((t.length-48)/160)*16+16,i=new Int8Array(n);let l=0;for(let d=32;d<t.length-16;d+=160,l+=16)i.set(t.subarray(d,d+16),l);return i}getAvcDecryptedUnit(t,n){const i=new Uint8Array(n);let l=0;for(let d=32;d<t.length-16;d+=160,l+=16)t.set(i.subarray(l,l+16),d);return t}decryptAvcSample(t,n,i,l,d){const a=Sm(d.data),c=this.getAvcEncryptedData(a);this.decryptBuffer(c.buffer).then(e=>{d.data=this.getAvcDecryptedUnit(a,e),this.decrypter.isSync()||this.decryptAvcSamples(t,n,i+1,l)}).catch(l)}decryptAvcSamples(t,n,i,l){if(t instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;n++,i=0){if(n>=t.length){l();return}const d=t[n].units;for(;!(i>=d.length);i++){const a=d[i];if(!(a.data.length<=48||a.type!==1&&a.type!==5)&&(this.decryptAvcSample(t,n,i,l,a),!this.decrypter.isSync()))return}}}}class ov{constructor(){this.VideoSample=null}createVideoSample(t,n,i){return{key:t,frame:!1,pts:n,dts:i,units:[],length:0}}getLastNalUnit(t){var n;let i=this.VideoSample,l;if((!i||i.units.length===0)&&(i=t[t.length-1]),(n=i)!=null&&n.units){const d=i.units;l=d[d.length-1]}return l}pushAccessUnit(t,n){if(t.units.length&&t.frame){if(t.pts===void 0){const i=n.samples,l=i.length;if(l){const d=i[l-1];t.pts=d.pts,t.dts=d.dts}else{n.dropped++;return}}n.samples.push(t)}}parseNALu(t,n,i){const l=n.byteLength;let d=t.naluState||0;const a=d,c=[];let e=0,o,u,f,A=-1,p=0;for(d===-1&&(A=0,p=this.getNALuType(n,0),d=0,e=1);e<l;){if(o=n[e++],!d){d=o?0:1;continue}if(d===1){d=o?0:2;continue}if(!o)d=3;else if(o===1){if(u=e-d-1,A>=0){const m={data:n.subarray(A,u),type:p};c.push(m)}else{const m=this.getLastNalUnit(t.samples);m&&(a&&e<=4-a&&m.state&&(m.data=m.data.subarray(0,m.data.byteLength-a)),u>0&&(m.data=is(m.data,n.subarray(0,u)),m.state=0))}e<l?(f=this.getNALuType(n,e),A=e,p=f,d=0):d=-1}else d=0}if(A>=0&&d>=0){const m={data:n.subarray(A,l),type:p,state:d};c.push(m)}if(c.length===0){const m=this.getLastNalUnit(t.samples);m&&(m.data=is(m.data,n))}return t.naluState=d,c}}class Jl{constructor(t){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=t,this.bytesAvailable=t.byteLength,this.word=0,this.bitsAvailable=0}loadWord(){const t=this.data,n=this.bytesAvailable,i=t.byteLength-n,l=new Uint8Array(4),d=Math.min(4,n);if(d===0)throw new Error("no bytes available");l.set(t.subarray(i,i+d)),this.word=new DataView(l.buffer).getUint32(0),this.bitsAvailable=d*8,this.bytesAvailable-=d}skipBits(t){let n;t=Math.min(t,this.bytesAvailable*8+this.bitsAvailable),this.bitsAvailable>t?(this.word<<=t,this.bitsAvailable-=t):(t-=this.bitsAvailable,n=t>>3,t-=n<<3,this.bytesAvailable-=n,this.loadWord(),this.word<<=t,this.bitsAvailable-=t)}readBits(t){let n=Math.min(this.bitsAvailable,t);const i=this.word>>>32-n;if(t>32&&fr.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=n,this.bitsAvailable>0)this.word<<=n;else if(this.bytesAvailable>0)this.loadWord();else throw new Error("no bits available");return n=t-n,n>0&&this.bitsAvailable?i<<n|this.readBits(n):i}skipLZ(){let t;for(t=0;t<this.bitsAvailable;++t)if((this.word&2147483648>>>t)!==0)return this.word<<=t,this.bitsAvailable-=t,t;return this.loadWord(),t+this.skipLZ()}skipUEG(){this.skipBits(1+this.skipLZ())}skipEG(){this.skipBits(1+this.skipLZ())}readUEG(){const t=this.skipLZ();return this.readBits(t+1)-1}readEG(){const t=this.readUEG();return 1&t?1+t>>>1:-1*(t>>>1)}readBoolean(){return this.readBits(1)===1}readUByte(){return this.readBits(8)}readUShort(){return this.readBits(16)}readUInt(){return this.readBits(32)}}class jb extends ov{parsePES(t,n,i,l){const d=this.parseNALu(t,i.data,l);let a=this.VideoSample,c,e=!1;i.data=null,a&&d.length&&!t.audFound&&(this.pushAccessUnit(a,t),a=this.VideoSample=this.createVideoSample(!1,i.pts,i.dts)),d.forEach(o=>{var u,f;switch(o.type){case 1:{let y=!1;c=!0;const E=o.data;if(e&&E.length>4){const C=this.readSliceType(E);(C===2||C===4||C===7||C===9)&&(y=!0)}if(y){var A;(A=a)!=null&&A.frame&&!a.key&&(this.pushAccessUnit(a,t),a=this.VideoSample=null)}a||(a=this.VideoSample=this.createVideoSample(!0,i.pts,i.dts)),a.frame=!0,a.key=y;break}case 5:c=!0,(u=a)!=null&&u.frame&&!a.key&&(this.pushAccessUnit(a,t),a=this.VideoSample=null),a||(a=this.VideoSample=this.createVideoSample(!0,i.pts,i.dts)),a.key=!0,a.frame=!0;break;case 6:{c=!0,Dh(o.data,1,i.pts,n.samples);break}case 7:{var p,m;c=!0,e=!0;const y=o.data,E=this.readSPS(y);if(!t.sps||t.width!==E.width||t.height!==E.height||((p=t.pixelRatio)==null?void 0:p[0])!==E.pixelRatio[0]||((m=t.pixelRatio)==null?void 0:m[1])!==E.pixelRatio[1]){t.width=E.width,t.height=E.height,t.pixelRatio=E.pixelRatio,t.sps=[y];const C=y.subarray(1,4);let T="avc1.";for(let x=0;x<3;x++){let L=C[x].toString(16);L.length<2&&(L="0"+L),T+=L}t.codec=T}break}case 8:c=!0,t.pps=[o.data];break;case 9:c=!0,t.audFound=!0,(f=a)!=null&&f.frame&&(this.pushAccessUnit(a,t),a=null),a||(a=this.VideoSample=this.createVideoSample(!1,i.pts,i.dts));break;case 12:c=!0;break;default:c=!1;break}a&&c&&a.units.push(o)}),l&&a&&(this.pushAccessUnit(a,t),this.VideoSample=null)}getNALuType(t,n){return t[n]&31}readSliceType(t){const n=new Jl(t);return n.readUByte(),n.readUEG(),n.readUEG()}skipScalingList(t,n){let i=8,l=8,d;for(let a=0;a<t;a++)l!==0&&(d=n.readEG(),l=(i+d+256)%256),i=l===0?i:l}readSPS(t){const n=new Jl(t);let i=0,l=0,d=0,a=0,c,e,o;const u=n.readUByte.bind(n),f=n.readBits.bind(n),A=n.readUEG.bind(n),p=n.readBoolean.bind(n),m=n.skipBits.bind(n),y=n.skipEG.bind(n),E=n.skipUEG.bind(n),C=this.skipScalingList.bind(this);u();const T=u();if(f(5),m(3),u(),E(),T===100||T===110||T===122||T===244||T===44||T===83||T===86||T===118||T===128){const _=A();if(_===3&&m(1),E(),E(),m(1),p())for(e=_!==3?8:12,o=0;o<e;o++)p()&&(o<6?C(16,n):C(64,n))}E();const x=A();if(x===0)A();else if(x===1)for(m(1),y(),y(),c=A(),o=0;o<c;o++)y();E(),m(1);const L=A(),D=A(),B=f(1);B===0&&m(1),m(1),p()&&(i=A(),l=A(),d=A(),a=A());let O=[1,1];if(p()&&p())switch(u()){case 1:O=[1,1];break;case 2:O=[12,11];break;case 3:O=[10,11];break;case 4:O=[16,11];break;case 5:O=[40,33];break;case 6:O=[24,11];break;case 7:O=[20,11];break;case 8:O=[32,11];break;case 9:O=[80,33];break;case 10:O=[18,11];break;case 11:O=[15,11];break;case 12:O=[64,33];break;case 13:O=[160,99];break;case 14:O=[4,3];break;case 15:O=[3,2];break;case 16:O=[2,1];break;case 255:{O=[u()<<8|u(),u()<<8|u()];break}}return{width:Math.ceil((L+1)*16-i*2-l*2),height:(2-B)*(D+1)*16-(B?2:4)*(d+a),pixelRatio:O}}}class $b extends ov{constructor(...t){super(...t),this.initVPS=null}parsePES(t,n,i,l){const d=this.parseNALu(t,i.data,l);let a=this.VideoSample,c,e=!1;i.data=null,a&&d.length&&!t.audFound&&(this.pushAccessUnit(a,t),a=this.VideoSample=this.createVideoSample(!1,i.pts,i.dts)),d.forEach(o=>{var u,f;switch(o.type){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:a||(a=this.VideoSample=this.createVideoSample(!1,i.pts,i.dts)),a.frame=!0,c=!0;break;case 16:case 17:case 18:case 21:if(c=!0,e){var A;(A=a)!=null&&A.frame&&!a.key&&(this.pushAccessUnit(a,t),a=this.VideoSample=null)}a||(a=this.VideoSample=this.createVideoSample(!0,i.pts,i.dts)),a.key=!0,a.frame=!0;break;case 19:case 20:c=!0,(u=a)!=null&&u.frame&&!a.key&&(this.pushAccessUnit(a,t),a=this.VideoSample=null),a||(a=this.VideoSample=this.createVideoSample(!0,i.pts,i.dts)),a.key=!0,a.frame=!0;break;case 39:c=!0,Dh(o.data,2,i.pts,n.samples);break;case 32:c=!0,t.vps||(typeof t.params!="object"&&(t.params={}),t.params=mr(t.params,this.readVPS(o.data)),this.initVPS=o.data),t.vps=[o.data];break;case 33:if(c=!0,e=!0,t.vps!==void 0&&t.vps[0]!==this.initVPS&&t.sps!==void 0&&!this.matchSPS(t.sps[0],o.data)&&(this.initVPS=t.vps[0],t.sps=t.pps=void 0),!t.sps){const p=this.readSPS(o.data);t.width=p.width,t.height=p.height,t.pixelRatio=p.pixelRatio,t.codec=p.codecString,t.sps=[],typeof t.params!="object"&&(t.params={});for(const m in p.params)t.params[m]=p.params[m]}this.pushParameterSet(t.sps,o.data,t.vps),a||(a=this.VideoSample=this.createVideoSample(!0,i.pts,i.dts)),a.key=!0;break;case 34:if(c=!0,typeof t.params=="object"){if(!t.pps){t.pps=[];const p=this.readPPS(o.data);for(const m in p)t.params[m]=p[m]}this.pushParameterSet(t.pps,o.data,t.vps)}break;case 35:c=!0,t.audFound=!0,(f=a)!=null&&f.frame&&(this.pushAccessUnit(a,t),a=null),a||(a=this.VideoSample=this.createVideoSample(!1,i.pts,i.dts));break;default:c=!1;break}a&&c&&a.units.push(o)}),l&&a&&(this.pushAccessUnit(a,t),this.VideoSample=null)}pushParameterSet(t,n,i){(i&&i[0]===this.initVPS||!i&&!t.length)&&t.push(n)}getNALuType(t,n){return(t[n]&126)>>>1}ebsp2rbsp(t){const n=new Uint8Array(t.byteLength);let i=0;for(let l=0;l<t.byteLength;l++)l>=2&&t[l]===3&&t[l-1]===0&&t[l-2]===0||(n[i]=t[l],i++);return new Uint8Array(n.buffer,0,i)}pushAccessUnit(t,n){super.pushAccessUnit(t,n),this.initVPS&&(this.initVPS=null)}readVPS(t){const n=new Jl(t);n.readUByte(),n.readUByte(),n.readBits(4),n.skipBits(2),n.readBits(6);const i=n.readBits(3),l=n.readBoolean();return{numTemporalLayers:i+1,temporalIdNested:l}}readSPS(t){const n=new Jl(this.ebsp2rbsp(t));n.readUByte(),n.readUByte(),n.readBits(4);const i=n.readBits(3);n.readBoolean();const l=n.readBits(2),d=n.readBoolean(),a=n.readBits(5),c=n.readUByte(),e=n.readUByte(),o=n.readUByte(),u=n.readUByte(),f=n.readUByte(),A=n.readUByte(),p=n.readUByte(),m=n.readUByte(),y=n.readUByte(),E=n.readUByte(),C=n.readUByte(),T=[],x=[];for(let xe=0;xe<i;xe++)T.push(n.readBoolean()),x.push(n.readBoolean());if(i>0)for(let xe=i;xe<8;xe++)n.readBits(2);for(let xe=0;xe<i;xe++)T[xe]&&(n.readUByte(),n.readUByte(),n.readUByte(),n.readUByte(),n.readUByte(),n.readUByte(),n.readUByte(),n.readUByte(),n.readUByte(),n.readUByte(),n.readUByte()),x[xe]&&n.readUByte();n.readUEG();const L=n.readUEG();L==3&&n.skipBits(1);const D=n.readUEG(),B=n.readUEG(),O=n.readBoolean();let _=0,M=0,U=0,Q=0;O&&(_+=n.readUEG(),M+=n.readUEG(),U+=n.readUEG(),Q+=n.readUEG());const $=n.readUEG(),W=n.readUEG(),X=n.readUEG(),tt=n.readBoolean();for(let xe=tt?0:i;xe<=i;xe++)n.skipUEG(),n.skipUEG(),n.skipUEG();if(n.skipUEG(),n.skipUEG(),n.skipUEG(),n.skipUEG(),n.skipUEG(),n.skipUEG(),n.readBoolean()&&n.readBoolean())for(let we=0;we<4;we++)for(let en=0;en<(we===3?2:6);en++)if(!n.readBoolean())n.readUEG();else{const un=Math.min(64,1<<4+(we<<1));we>1&&n.readEG();for(let We=0;We<un;We++)n.readEG()}n.readBoolean(),n.readBoolean(),n.readBoolean()&&(n.readUByte(),n.skipUEG(),n.skipUEG(),n.readBoolean());const K=n.readUEG();let at=0;for(let xe=0;xe<K;xe++){let we=!1;if(xe!==0&&(we=n.readBoolean()),we){xe===K&&n.readUEG(),n.readBoolean(),n.readUEG();let en=0;for(let En=0;En<=at;En++){const un=n.readBoolean();let We=!1;un||(We=n.readBoolean()),(un||We)&&en++}at=en}else{const en=n.readUEG(),En=n.readUEG();at=en+En;for(let un=0;un<en;un++)n.readUEG(),n.readBoolean();for(let un=0;un<En;un++)n.readUEG(),n.readBoolean()}}if(n.readBoolean()){const xe=n.readUEG();for(let we=0;we<xe;we++){for(let en=0;en<X+4;en++)n.readBits(1);n.readBits(1)}}let q=0,et=1,ot=1,bt=!0,Ct=1,Tt=0;n.readBoolean(),n.readBoolean();let $t=!1;if(n.readBoolean()){if(n.readBoolean()){const $e=n.readUByte(),Rn=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],sn=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1];$e>0&&$e<16?(et=Rn[$e-1],ot=sn[$e-1]):$e===255&&(et=n.readBits(16),ot=n.readBits(16))}if(n.readBoolean()&&n.readBoolean(),n.readBoolean()&&(n.readBits(3),n.readBoolean(),n.readBoolean()&&(n.readUByte(),n.readUByte(),n.readUByte())),n.readBoolean()&&(n.readUEG(),n.readUEG()),n.readBoolean(),n.readBoolean(),n.readBoolean(),$t=n.readBoolean(),$t&&(n.skipUEG(),n.skipUEG(),n.skipUEG(),n.skipUEG()),n.readBoolean()&&(Ct=n.readBits(32),Tt=n.readBits(32),n.readBoolean()&&n.readUEG(),n.readBoolean())){const sn=n.readBoolean(),te=n.readBoolean();let Ae=!1;(sn||te)&&(Ae=n.readBoolean(),Ae&&(n.readUByte(),n.readBits(5),n.readBoolean(),n.readBits(5)),n.readBits(4),n.readBits(4),Ae&&n.readBits(4),n.readBits(5),n.readBits(5),n.readBits(5));for(let oe=0;oe<=i;oe++){bt=n.readBoolean();const De=bt||n.readBoolean();let Rt=!1;De?n.readEG():Rt=n.readBoolean();const me=Rt?1:n.readUEG()+1;if(sn)for(let ke=0;ke<me;ke++)n.readUEG(),n.readUEG(),Ae&&(n.readUEG(),n.readUEG()),n.skipBits(1);if(te)for(let ke=0;ke<me;ke++)n.readUEG(),n.readUEG(),Ae&&(n.readUEG(),n.readUEG()),n.skipBits(1)}}n.readBoolean()&&(n.readBoolean(),n.readBoolean(),n.readBoolean(),q=n.readUEG())}let jt=D,ee=B;if(O){let xe=1,we=1;L===1?xe=we=2:L==2&&(xe=2),jt=D-xe*M-xe*_,ee=B-we*Q-we*U}const ce=l?["A","B","C"][l]:"",se=c<<24|e<<16|o<<8|u;let Se=0;for(let xe=0;xe<32;xe++)Se=(Se|(se>>xe&1)<<31-xe)>>>0;let Pe=Se.toString(16);return a===1&&Pe==="2"&&(Pe="6"),{codecString:`hvc1.${ce}${a}.${Pe}.${d?"H":"L"}${C}.B0`,params:{general_tier_flag:d,general_profile_idc:a,general_profile_space:l,general_profile_compatibility_flags:[c,e,o,u],general_constraint_indicator_flags:[f,A,p,m,y,E],general_level_idc:C,bit_depth:$+8,bit_depth_luma_minus8:$,bit_depth_chroma_minus8:W,min_spatial_segmentation_idc:q,chroma_format_idc:L,frame_rate:{fixed:bt,fps:Tt/Ct}},width:jt,height:ee,pixelRatio:[et,ot]}}readPPS(t){const n=new Jl(this.ebsp2rbsp(t));n.readUByte(),n.readUByte(),n.skipUEG(),n.skipUEG(),n.skipBits(2),n.skipBits(3),n.skipBits(2),n.skipUEG(),n.skipUEG(),n.skipEG(),n.skipBits(2),n.readBoolean()&&n.skipUEG(),n.skipEG(),n.skipEG(),n.skipBits(4);const l=n.readBoolean(),d=n.readBoolean();let a=1;return d&&l?a=0:d?a=3:l&&(a=2),{parallelismType:a}}matchSPS(t,n){return String.fromCharCode.apply(null,t).substr(3)===String.fromCharCode.apply(null,n).substr(3)}}const si=188;class Fa{constructor(t,n,i,l){this.logger=void 0,this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._pmtId=-1,this._videoTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.remainderData=null,this.videoParser=void 0,this.observer=t,this.config=n,this.typeSupported=i,this.logger=l,this.videoParser=null}static probe(t,n){const i=Fa.syncOffset(t);return i>0&&n.warn(`MPEG2-TS detected but first sync word found @ offset ${i}`),i!==-1}static syncOffset(t){const n=t.length;let i=Math.min(si*5,n-si)+1,l=0;for(;l<i;){let d=!1,a=-1,c=0;for(let e=l;e<n;e+=si)if(t[e]===71&&(n-e===si||t[e+si]===71)){if(c++,a===-1&&(a=e,a!==0&&(i=Math.min(a+si*99,t.length-si)+1)),d||(d=mh(t,e)===0),d&&c>1&&(a===0&&c>2||e+si>i))return a}else{if(c)return-1;break}l++}return-1}static createTrack(t,n){return{container:t==="video"||t==="audio"?"video/mp2t":void 0,type:t,id:vm[t],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:t==="audio"?n:void 0}}resetInitSegment(t,n,i,l){this.pmtParsed=!1,this._pmtId=-1,this._videoTrack=Fa.createTrack("video"),this._videoTrack.duration=l,this._audioTrack=Fa.createTrack("audio",l),this._id3Track=Fa.createTrack("id3"),this._txtTrack=Fa.createTrack("text"),this._audioTrack.segmentCodec="aac",this.videoParser=null,this.aacOverFlow=null,this.remainderData=null,this.audioCodec=n,this.videoCodec=i}resetTimeStamp(){}resetContiguity(){const{_audioTrack:t,_videoTrack:n,_id3Track:i}=this;t&&(t.pesData=null),n&&(n.pesData=null),i&&(i.pesData=null),this.aacOverFlow=null,this.remainderData=null}demux(t,n,i=!1,l=!1){i||(this.sampleAes=null);let d;const a=this._videoTrack,c=this._audioTrack,e=this._id3Track,o=this._txtTrack;let u=a.pid,f=a.pesData,A=c.pid,p=e.pid,m=c.pesData,y=e.pesData,E=null,C=this.pmtParsed,T=this._pmtId,x=t.length;if(this.remainderData&&(t=is(this.remainderData,t),x=t.length,this.remainderData=null),x<si&&!l)return this.remainderData=t,{audioTrack:c,videoTrack:a,id3Track:e,textTrack:o};const L=Math.max(0,Fa.syncOffset(t));x-=(x-L)%si,x<t.byteLength&&!l&&(this.remainderData=new Uint8Array(t.buffer,x,t.buffer.byteLength-x));let D=0;for(let O=L;O<x;O+=si)if(t[O]===71){const _=!!(t[O+1]&64),M=mh(t,O),U=(t[O+3]&48)>>4;let Q;if(U>1){if(Q=O+5+t[O+4],Q===O+si)continue}else Q=O+4;switch(M){case u:_&&(f&&(d=tl(f,this.logger))&&(this.readyVideoParser(a.segmentCodec),this.videoParser!==null&&this.videoParser.parsePES(a,o,d,!1)),f={data:[],size:0}),f&&(f.data.push(t.subarray(Q,O+si)),f.size+=O+si-Q);break;case A:if(_){if(m&&(d=tl(m,this.logger)))switch(c.segmentCodec){case"aac":this.parseAACPES(c,d);break;case"mp3":this.parseMPEGPES(c,d);break;case"ac3":this.parseAC3PES(c,d);break}m={data:[],size:0}}m&&(m.data.push(t.subarray(Q,O+si)),m.size+=O+si-Q);break;case p:_&&(y&&(d=tl(y,this.logger))&&this.parseID3PES(e,d),y={data:[],size:0}),y&&(y.data.push(t.subarray(Q,O+si)),y.size+=O+si-Q);break;case 0:_&&(Q+=t[Q]+1),T=this._pmtId=Kb(t,Q);break;case T:{_&&(Q+=t[Q]+1);const $=Wb(t,Q,this.typeSupported,i,this.observer,this.logger);u=$.videoPid,u>0&&(a.pid=u,a.segmentCodec=$.segmentVideoCodec),A=$.audioPid,A>0&&(c.pid=A,c.segmentCodec=$.segmentAudioCodec),p=$.id3Pid,p>0&&(e.pid=p),E!==null&&!C&&(this.logger.warn(`MPEG-TS PMT found at ${O} after unknown PID '${E}'. Backtracking to sync byte @${L} to parse all TS packets.`),E=null,O=L-188),C=this.pmtParsed=!0;break}case 17:case 8191:break;default:E=M;break}}else D++;D>0&&vh(this.observer,new Error(`Found ${D} TS packet/s that do not start with 0x47`),void 0,this.logger),a.pesData=f,c.pesData=m,e.pesData=y;const B={audioTrack:c,videoTrack:a,id3Track:e,textTrack:o};return l&&this.extractRemainingSamples(B),B}flush(){const{remainderData:t}=this;this.remainderData=null;let n;return t?n=this.demux(t,-1,!1,!0):n={videoTrack:this._videoTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(n),this.sampleAes?this.decrypt(n,this.sampleAes):n}extractRemainingSamples(t){const{audioTrack:n,videoTrack:i,id3Track:l,textTrack:d}=t,a=i.pesData,c=n.pesData,e=l.pesData;let o;if(a&&(o=tl(a,this.logger))?(this.readyVideoParser(i.segmentCodec),this.videoParser!==null&&(this.videoParser.parsePES(i,d,o,!0),i.pesData=null)):i.pesData=a,c&&(o=tl(c,this.logger))){switch(n.segmentCodec){case"aac":this.parseAACPES(n,o);break;case"mp3":this.parseMPEGPES(n,o);break;case"ac3":this.parseAC3PES(n,o);break}n.pesData=null}else c!=null&&c.size&&this.logger.log("last AAC PES packet truncated,might overlap between fragments"),n.pesData=c;e&&(o=tl(e,this.logger))?(this.parseID3PES(l,o),l.pesData=null):l.pesData=e}demuxSampleAes(t,n,i){const l=this.demux(t,i,!0,!this.config.progressive),d=this.sampleAes=new Vb(this.observer,this.config,n);return this.decrypt(l,d)}readyVideoParser(t){this.videoParser===null&&(t==="avc"?this.videoParser=new jb:t==="hevc"&&(this.videoParser=new $b))}decrypt(t,n){return new Promise(i=>{const{audioTrack:l,videoTrack:d}=t;l.samples&&l.segmentCodec==="aac"?n.decryptAacSamples(l.samples,0,()=>{d.samples?n.decryptAvcSamples(d.samples,0,0,()=>{i(t)}):i(t)}):d.samples&&n.decryptAvcSamples(d.samples,0,0,()=>{i(t)})})}destroy(){this.observer&&this.observer.removeAllListeners(),this.config=this.logger=this.observer=null,this.aacOverFlow=this.videoParser=this.remainderData=this.sampleAes=null,this._videoTrack=this._audioTrack=this._id3Track=this._txtTrack=void 0}parseAACPES(t,n){let i=0;const l=this.aacOverFlow;let d=n.data;if(l){this.aacOverFlow=null;const f=l.missing,A=l.sample.unit.byteLength;if(f===-1)d=is(l.sample.unit,d);else{const p=A-f;l.sample.unit.set(d.subarray(0,f),p),t.samples.push(l.sample),i=l.missing}}let a,c;for(a=i,c=d.length;a<c-1&&!Hc(d,a);a++);if(a!==i){let f;const A=a<c-1;if(A?f=`AAC PES did not start with ADTS header,offset:${a}`:f="No ADTS header found in AAC PES",vh(this.observer,new Error(f),A,this.logger),!A)return}qm(t,this.observer,d,a,this.audioCodec);let e;if(n.pts!==void 0)e=n.pts;else if(l){const f=Xm(t.samplerate);e=l.sample.pts+f}else{this.logger.warn("[tsdemuxer]: AAC PES unknown PTS");return}let o=0,u;for(;a<c;)if(u=Zm(t,d,a,e,o),a+=u.length,u.missing){this.aacOverFlow=u;break}else for(o++;a<c-1&&!Hc(d,a);a++);}parseMPEGPES(t,n){const i=n.data,l=i.length;let d=0,a=0;const c=n.pts;if(c===void 0){this.logger.warn("[tsdemuxer]: MPEG PES unknown PTS");return}for(;a<l;)if(rv(i,a)){const e=ev(t,i,a,c,d);if(e)a+=e.length,d++;else break}else a++}parseAC3PES(t,n){{const i=n.data,l=n.pts;if(l===void 0){this.logger.warn("[tsdemuxer]: AC3 PES unknown PTS");return}const d=i.length;let a=0,c=0,e;for(;c<d&&(e=av(t,i,c,l,a++))>0;)c+=e}}parseID3PES(t,n){if(n.pts===void 0){this.logger.warn("[tsdemuxer]: ID3 PES unknown PTS");return}const i=mr({},n,{type:this._videoTrack?Wi.emsg:Wi.audioId3,duration:Number.POSITIVE_INFINITY});t.samples.push(i)}}function mh(g,t){return((g[t+1]&31)<<8)+g[t+2]}function Kb(g,t){return(g[t+10]&31)<<8|g[t+11]}function Wb(g,t,n,i,l,d){const a={audioPid:-1,videoPid:-1,id3Pid:-1,segmentVideoCodec:"avc",segmentAudioCodec:"aac"},c=(g[t+1]&15)<<8|g[t+2],e=t+3+c-4,o=(g[t+10]&15)<<8|g[t+11];for(t+=12+o;t<e;){const u=mh(g,t),f=(g[t+3]&15)<<8|g[t+4];switch(g[t]){case 207:if(!i){Vd("ADTS AAC",d);break}case 15:a.audioPid===-1&&(a.audioPid=u);break;case 21:a.id3Pid===-1&&(a.id3Pid=u);break;case 219:if(!i){Vd("H.264",d);break}case 27:a.videoPid===-1&&(a.videoPid=u);break;case 3:case 4:!n.mpeg&&!n.mp3?d.log("MPEG audio found, not supported in this browser"):a.audioPid===-1&&(a.audioPid=u,a.segmentAudioCodec="mp3");break;case 193:if(!i){Vd("AC-3",d);break}case 129:n.ac3?a.audioPid===-1&&(a.audioPid=u,a.segmentAudioCodec="ac3"):d.log("AC-3 audio found, not supported in this browser");break;case 6:if(a.audioPid===-1&&f>0){let A=t+5,p=f;for(;p>2;){switch(g[A]){case 106:n.ac3!==!0?d.log("AC-3 audio found, not supported in this browser for now"):(a.audioPid=u,a.segmentAudioCodec="ac3");break}const y=g[A+1]+2;A+=y,p-=y}}break;case 194:case 135:return vh(l,new Error("Unsupported EC-3 in M2TS found"),void 0,d),a;case 36:a.videoPid===-1&&(a.videoPid=u,a.segmentVideoCodec="hevc",d.log("HEVC in M2TS found"));break}t+=f+5}return a}function vh(g,t,n,i){i.warn(`parsing error: ${t.message}`),g.emit(F.ERROR,F.ERROR,{type:nn.MEDIA_ERROR,details:Ot.FRAG_PARSING_ERROR,fatal:!1,levelRetry:n,error:t,reason:t.message})}function Vd(g,t){t.log(`${g} with AES-128-CBC encryption found in unencrypted stream`)}function tl(g,t){let n=0,i,l,d,a,c;const e=g.data;if(!g||g.size===0)return null;for(;e[0].length<19&&e.length>1;)e[0]=is(e[0],e[1]),e.splice(1,1);if(i=e[0],(i[0]<<16)+(i[1]<<8)+i[2]===1){if(l=(i[4]<<8)+i[5],l&&l>g.size-6)return null;const u=i[7];u&192&&(a=(i[9]&14)*536870912+(i[10]&255)*4194304+(i[11]&254)*16384+(i[12]&255)*128+(i[13]&254)/2,u&64?(c=(i[14]&14)*536870912+(i[15]&255)*4194304+(i[16]&254)*16384+(i[17]&255)*128+(i[18]&254)/2,a-c>60*9e4&&(t.warn(`${Math.round((a-c)/9e4)}s delta between PTS and DTS, align them`),a=c)):c=a),d=i[8];let f=d+9;if(g.size<=f)return null;g.size-=f;const A=new Uint8Array(g.size);for(let p=0,m=e.length;p<m;p++){i=e[p];let y=i.byteLength;if(f)if(f>y){f-=y;continue}else i=i.subarray(f),y-=f,f=0;A.set(i,n),n+=y}return l&&(l-=d+3),{data:A,pts:a,dts:c,len:l}}return null}class qb{static getSilentFrame(t,n){switch(t){case"mp4a.40.2":if(n===1)return new Uint8Array([0,200,0,128,35,128]);if(n===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(n===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(n===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(n===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(n===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(n===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(n===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(n===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);break}}}const Pa=Math.pow(2,32)-1;class Bt{static init(){Bt.types={avc1:[],avcC:[],hvc1:[],hvcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],dac3:[],"ac-3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};let t;for(t in Bt.types)Bt.types.hasOwnProperty(t)&&(Bt.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);const n=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),i=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);Bt.HDLR_TYPES={video:n,audio:i};const l=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),d=new Uint8Array([0,0,0,0,0,0,0,0]);Bt.STTS=Bt.STSC=Bt.STCO=d,Bt.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),Bt.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),Bt.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),Bt.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);const a=new Uint8Array([105,115,111,109]),c=new Uint8Array([97,118,99,49]),e=new Uint8Array([0,0,0,1]);Bt.FTYP=Bt.box(Bt.types.ftyp,a,e,a,c),Bt.DINF=Bt.box(Bt.types.dinf,Bt.box(Bt.types.dref,l))}static box(t,...n){let i=8,l=n.length;const d=l;for(;l--;)i+=n[l].byteLength;const a=new Uint8Array(i);for(a[0]=i>>24&255,a[1]=i>>16&255,a[2]=i>>8&255,a[3]=i&255,a.set(t,4),l=0,i=8;l<d;l++)a.set(n[l],i),i+=n[l].byteLength;return a}static hdlr(t){return Bt.box(Bt.types.hdlr,Bt.HDLR_TYPES[t])}static mdat(t){return Bt.box(Bt.types.mdat,t)}static mdhd(t,n){n*=t;const i=Math.floor(n/(Pa+1)),l=Math.floor(n%(Pa+1));return Bt.box(Bt.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,t&255,i>>24,i>>16&255,i>>8&255,i&255,l>>24,l>>16&255,l>>8&255,l&255,85,196,0,0]))}static mdia(t){return Bt.box(Bt.types.mdia,Bt.mdhd(t.timescale||0,t.duration||0),Bt.hdlr(t.type),Bt.minf(t))}static mfhd(t){return Bt.box(Bt.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,t&255]))}static minf(t){return t.type==="audio"?Bt.box(Bt.types.minf,Bt.box(Bt.types.smhd,Bt.SMHD),Bt.DINF,Bt.stbl(t)):Bt.box(Bt.types.minf,Bt.box(Bt.types.vmhd,Bt.VMHD),Bt.DINF,Bt.stbl(t))}static moof(t,n,i){return Bt.box(Bt.types.moof,Bt.mfhd(t),Bt.traf(i,n))}static moov(t){let n=t.length;const i=[];for(;n--;)i[n]=Bt.trak(t[n]);return Bt.box.apply(null,[Bt.types.moov,Bt.mvhd(t[0].timescale||0,t[0].duration||0)].concat(i).concat(Bt.mvex(t)))}static mvex(t){let n=t.length;const i=[];for(;n--;)i[n]=Bt.trex(t[n]);return Bt.box.apply(null,[Bt.types.mvex,...i])}static mvhd(t,n){n*=t;const i=Math.floor(n/(Pa+1)),l=Math.floor(n%(Pa+1)),d=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,t&255,i>>24,i>>16&255,i>>8&255,i&255,l>>24,l>>16&255,l>>8&255,l&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return Bt.box(Bt.types.mvhd,d)}static sdtp(t){const n=t.samples||[],i=new Uint8Array(4+n.length);let l,d;for(l=0;l<n.length;l++)d=n[l].flags,i[l+4]=d.dependsOn<<4|d.isDependedOn<<2|d.hasRedundancy;return Bt.box(Bt.types.sdtp,i)}static stbl(t){return Bt.box(Bt.types.stbl,Bt.stsd(t),Bt.box(Bt.types.stts,Bt.STTS),Bt.box(Bt.types.stsc,Bt.STSC),Bt.box(Bt.types.stsz,Bt.STSZ),Bt.box(Bt.types.stco,Bt.STCO))}static avc1(t){let n=[],i=[],l,d,a;for(l=0;l<t.sps.length;l++)d=t.sps[l],a=d.byteLength,n.push(a>>>8&255),n.push(a&255),n=n.concat(Array.prototype.slice.call(d));for(l=0;l<t.pps.length;l++)d=t.pps[l],a=d.byteLength,i.push(a>>>8&255),i.push(a&255),i=i.concat(Array.prototype.slice.call(d));const c=Bt.box(Bt.types.avcC,new Uint8Array([1,n[3],n[4],n[5],255,224|t.sps.length].concat(n).concat([t.pps.length]).concat(i))),e=t.width,o=t.height,u=t.pixelRatio[0],f=t.pixelRatio[1];return Bt.box(Bt.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,e>>8&255,e&255,o>>8&255,o&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),c,Bt.box(Bt.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),Bt.box(Bt.types.pasp,new Uint8Array([u>>24,u>>16&255,u>>8&255,u&255,f>>24,f>>16&255,f>>8&255,f&255])))}static esds(t){const n=t.config;return new Uint8Array([0,0,0,0,3,25,0,1,0,4,17,64,21,0,0,0,0,0,0,0,0,0,0,0,5,2,...n,6,1,2])}static audioStsd(t){const n=t.samplerate||0;return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount||0,0,16,0,0,0,0,n>>8&255,n&255,0,0])}static mp4a(t){return Bt.box(Bt.types.mp4a,Bt.audioStsd(t),Bt.box(Bt.types.esds,Bt.esds(t)))}static mp3(t){return Bt.box(Bt.types[".mp3"],Bt.audioStsd(t))}static ac3(t){return Bt.box(Bt.types["ac-3"],Bt.audioStsd(t),Bt.box(Bt.types.dac3,t.config))}static stsd(t){const{segmentCodec:n}=t;if(t.type==="audio"){if(n==="aac")return Bt.box(Bt.types.stsd,Bt.STSD,Bt.mp4a(t));if(n==="ac3"&&t.config)return Bt.box(Bt.types.stsd,Bt.STSD,Bt.ac3(t));if(n==="mp3"&&t.codec==="mp3")return Bt.box(Bt.types.stsd,Bt.STSD,Bt.mp3(t))}else if(t.pps&&t.sps){if(n==="avc")return Bt.box(Bt.types.stsd,Bt.STSD,Bt.avc1(t));if(n==="hevc"&&t.vps)return Bt.box(Bt.types.stsd,Bt.STSD,Bt.hvc1(t))}else throw new Error("video track missing pps or sps");throw new Error(`unsupported ${t.type} segment codec (${n}/${t.codec})`)}static tkhd(t){const n=t.id,i=(t.duration||0)*(t.timescale||0),l=t.width||0,d=t.height||0,a=Math.floor(i/(Pa+1)),c=Math.floor(i%(Pa+1));return Bt.box(Bt.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,n>>24&255,n>>16&255,n>>8&255,n&255,0,0,0,0,a>>24,a>>16&255,a>>8&255,a&255,c>>24,c>>16&255,c>>8&255,c&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,l>>8&255,l&255,0,0,d>>8&255,d&255,0,0]))}static traf(t,n){const i=Bt.sdtp(t),l=t.id,d=Math.floor(n/(Pa+1)),a=Math.floor(n%(Pa+1));return Bt.box(Bt.types.traf,Bt.box(Bt.types.tfhd,new Uint8Array([0,0,0,0,l>>24,l>>16&255,l>>8&255,l&255])),Bt.box(Bt.types.tfdt,new Uint8Array([1,0,0,0,d>>24,d>>16&255,d>>8&255,d&255,a>>24,a>>16&255,a>>8&255,a&255])),Bt.trun(t,i.length+16+20+8+16+8+8),i)}static trak(t){return t.duration=t.duration||4294967295,Bt.box(Bt.types.trak,Bt.tkhd(t),Bt.mdia(t))}static trex(t){const n=t.id;return Bt.box(Bt.types.trex,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,n&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}static trun(t,n){const i=t.samples||[],l=i.length,d=12+16*l,a=new Uint8Array(d);let c,e,o,u,f,A;for(n+=8+d,a.set([t.type==="video"?1:0,0,15,1,l>>>24&255,l>>>16&255,l>>>8&255,l&255,n>>>24&255,n>>>16&255,n>>>8&255,n&255],0),c=0;c<l;c++)e=i[c],o=e.duration,u=e.size,f=e.flags,A=e.cts,a.set([o>>>24&255,o>>>16&255,o>>>8&255,o&255,u>>>24&255,u>>>16&255,u>>>8&255,u&255,f.isLeading<<2|f.dependsOn,f.isDependedOn<<6|f.hasRedundancy<<4|f.paddingValue<<1|f.isNonSync,f.degradPrio&61440,f.degradPrio&15,A>>>24&255,A>>>16&255,A>>>8&255,A&255],12+16*c);return Bt.box(Bt.types.trun,a)}static initSegment(t){Bt.types||Bt.init();const n=Bt.moov(t);return is(Bt.FTYP,n)}static hvc1(t){const n=t.params,i=[t.vps,t.sps,t.pps],l=4,d=new Uint8Array([1,n.general_profile_space<<6|(n.general_tier_flag?32:0)|n.general_profile_idc,n.general_profile_compatibility_flags[0],n.general_profile_compatibility_flags[1],n.general_profile_compatibility_flags[2],n.general_profile_compatibility_flags[3],n.general_constraint_indicator_flags[0],n.general_constraint_indicator_flags[1],n.general_constraint_indicator_flags[2],n.general_constraint_indicator_flags[3],n.general_constraint_indicator_flags[4],n.general_constraint_indicator_flags[5],n.general_level_idc,240|n.min_spatial_segmentation_idc>>8,255&n.min_spatial_segmentation_idc,252|n.parallelismType,252|n.chroma_format_idc,248|n.bit_depth_luma_minus8,248|n.bit_depth_chroma_minus8,0,parseInt(n.frame_rate.fps),l-1|n.temporal_id_nested<<2|n.num_temporal_layers<<3|(n.frame_rate.fixed?64:0),i.length]);let a=d.length;for(let m=0;m<i.length;m+=1){a+=3;for(let y=0;y<i[m].length;y+=1)a+=2+i[m][y].length}const c=new Uint8Array(a);c.set(d,0),a=d.length;const e=i.length-1;for(let m=0;m<i.length;m+=1){c.set(new Uint8Array([32+m|(m===e?128:0),0,i[m].length]),a),a+=3;for(let y=0;y<i[m].length;y+=1)c.set(new Uint8Array([i[m][y].length>>8,i[m][y].length&255]),a),a+=2,c.set(i[m][y],a),a+=i[m][y].length}const o=Bt.box(Bt.types.hvcC,c),u=t.width,f=t.height,A=t.pixelRatio[0],p=t.pixelRatio[1];return Bt.box(Bt.types.hvc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,u>>8&255,u&255,f>>8&255,f&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),o,Bt.box(Bt.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),Bt.box(Bt.types.pasp,new Uint8Array([A>>24,A>>16&255,A>>8&255,A&255,p>>24,p>>16&255,p>>8&255,p&255])))}}Bt.types=void 0;Bt.HDLR_TYPES=void 0;Bt.STTS=void 0;Bt.STSC=void 0;Bt.STCO=void 0;Bt.STSZ=void 0;Bt.VMHD=void 0;Bt.SMHD=void 0;Bt.STSD=void 0;Bt.FTYP=void 0;Bt.DINF=void 0;const lv=9e4;function Vh(g,t,n=1,i=!1){const l=g*t*n;return i?Math.round(l):l}function Xb(g,t,n=1,i=!1){return Vh(g,t,1/n,i)}function ql(g,t=!1){return Vh(g,1e3,1/lv,t)}function Zb(g,t=1){return Vh(g,lv,1/t)}const Jb=10*1e3,tC=1024,eC=1152,nC=1536;let el=null,jd=null;function G0(g,t,n,i){return{duration:t,size:n,cts:i,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:g?2:1,isNonSync:g?0:1}}}class Ic extends ss{constructor(t,n,i,l){if(super("mp4-remuxer",l),this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextVideoTs=null,this.nextAudioTs=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.videoTrackConfig=void 0,this.observer=t,this.config=n,this.typeSupported=i,this.ISGenerated=!1,el===null){const a=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);el=a?parseInt(a[1]):0}if(jd===null){const d=navigator.userAgent.match(/Safari\/(\d+)/i);jd=d?parseInt(d[1]):0}}destroy(){this.config=this.videoTrackConfig=this._initPTS=this._initDTS=null}resetTimeStamp(t){this.log("initPTS & initDTS reset"),this._initPTS=this._initDTS=t}resetNextTimestamp(){this.log("reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}resetInitSegment(){this.log("ISGenerated flag reset"),this.ISGenerated=!1,this.videoTrackConfig=void 0}getVideoStartPts(t){let n=!1;const i=t[0].pts,l=t.reduce((d,a)=>{let c=a.pts,e=c-d;return e<-4294967296&&(n=!0,c=rs(c,i),e=c-d),e>0?d:c},i);return n&&this.debug("PTS rollover detected"),l}remux(t,n,i,l,d,a,c,e){let o,u,f,A,p,m,y=d,E=d;const C=t.pid>-1,T=n.pid>-1,x=n.samples.length,L=t.samples.length>0,D=c&&x>0||x>1;if((!C||L)&&(!T||D)||this.ISGenerated||c){if(this.ISGenerated){var O,_,M,U;const X=this.videoTrackConfig;(X&&(n.width!==X.width||n.height!==X.height||((O=n.pixelRatio)==null?void 0:O[0])!==((_=X.pixelRatio)==null?void 0:_[0])||((M=n.pixelRatio)==null?void 0:M[1])!==((U=X.pixelRatio)==null?void 0:U[1]))||!X&&D||this.nextAudioTs===null&&L)&&this.resetInitSegment()}this.ISGenerated||(f=this.generateIS(t,n,d,a));const Q=this.isVideoContiguous;let $=-1,W;if(D&&($=rC(n.samples),!Q&&this.config.forceKeyFrameOnDiscontinuity))if(m=!0,$>0){this.warn(`Dropped ${$} out of ${x} video samples due to a missing keyframe`);const X=this.getVideoStartPts(n.samples);n.samples=n.samples.slice($),n.dropped+=$,E+=(n.samples[0].pts-X)/n.inputTimeScale,W=E}else $===-1&&(this.warn(`No keyframe found out of ${x} video samples`),m=!1);if(this.ISGenerated){if(L&&D){const X=this.getVideoStartPts(n.samples),V=(rs(t.samples[0].pts,X)-X)/n.inputTimeScale;y+=Math.max(0,V),E+=Math.max(0,-V)}if(L){if(t.samplerate||(this.warn("regenerate InitSegment as audio detected"),f=this.generateIS(t,n,d,a)),u=this.remuxAudio(t,y,this.isAudioContiguous,a,T||D||e===Ze.AUDIO?E:void 0),D){const X=u?u.endPTS-u.startPTS:0;n.inputTimeScale||(this.warn("regenerate InitSegment as video detected"),f=this.generateIS(t,n,d,a)),o=this.remuxVideo(n,E,Q,X)}}else D&&(o=this.remuxVideo(n,E,Q,0));o&&(o.firstKeyFrame=$,o.independent=$!==-1,o.firstKeyFramePTS=W)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(i.samples.length&&(p=uv(i,d,this._initPTS,this._initDTS)),l.samples.length&&(A=cv(l,d,this._initPTS))),{audio:u,video:o,initSegment:f,independent:m,text:A,id3:p}}generateIS(t,n,i,l){const d=t.samples,a=n.samples,c=this.typeSupported,e={},o=this._initPTS;let u=!o||l,f="audio/mp4",A,p,m,y=-1;if(u&&(A=p=1/0),t.config&&d.length){switch(t.timescale=t.samplerate,t.segmentCodec){case"mp3":c.mpeg?(f="audio/mpeg",t.codec=""):c.mp3&&(t.codec="mp3");break;case"ac3":t.codec="ac-3";break}e.audio={id:"audio",container:f,codec:t.codec,initSegment:t.segmentCodec==="mp3"&&c.mpeg?new Uint8Array(0):Bt.initSegment([t]),metadata:{channelCount:t.channelCount}},u&&(y=t.id,m=t.inputTimeScale,!o||m!==o.timescale?A=p=d[0].pts-Math.round(m*i):u=!1)}if(n.sps&&n.pps&&a.length){if(n.timescale=n.inputTimeScale,e.video={id:"main",container:"video/mp4",codec:n.codec,initSegment:Bt.initSegment([n]),metadata:{width:n.width,height:n.height}},u)if(y=n.id,m=n.inputTimeScale,!o||m!==o.timescale){const E=this.getVideoStartPts(a),C=Math.round(m*i);p=Math.min(p,rs(a[0].dts,E)-C),A=Math.min(A,E-C)}else u=!1;this.videoTrackConfig={width:n.width,height:n.height,pixelRatio:n.pixelRatio}}if(Object.keys(e).length)return this.ISGenerated=!0,u?(o&&this.warn(`Timestamps at playlist time: ${l?"":"~"}${i} ${A/m} != initPTS: ${o.baseTime/o.timescale} (${o.baseTime}/${o.timescale}) trackId: ${o.trackId}`),this.log(`Found initPTS at playlist time: ${i} offset: ${A/m} (${A}/${m}) trackId: ${y}`),this._initPTS={baseTime:A,timescale:m,trackId:y},this._initDTS={baseTime:p,timescale:m,trackId:y}):A=m=void 0,{tracks:e,initPTS:A,timescale:m,trackId:y}}remuxVideo(t,n,i,l){const d=t.inputTimeScale,a=t.samples,c=[],e=a.length,o=this._initPTS,u=o.baseTime*d/o.timescale;let f=this.nextVideoTs,A=8,p=this.videoSampleDuration,m,y,E=Number.POSITIVE_INFINITY,C=Number.NEGATIVE_INFINITY,T=!1;if(!i||f===null){const q=u+n*d,et=a[0].pts-rs(a[0].dts,a[0].pts);el&&f!==null&&Math.abs(q-et-(f+u))<15e3?i=!0:f=q-et-u}const x=f+u;for(let q=0;q<e;q++){const et=a[q];et.pts=rs(et.pts,x),et.dts=rs(et.dts,x),et.dts<a[q>0?q-1:q].dts&&(T=!0)}T&&a.sort(function(q,et){const ot=q.dts-et.dts,bt=q.pts-et.pts;return ot||bt}),m=a[0].dts,y=a[a.length-1].dts;const L=y-m,D=L?Math.round(L/(e-1)):p||t.inputTimeScale/30;if(i){const q=m-x,et=q>D,ot=q<-1;if((et||ot)&&(et?this.warn(`${(t.segmentCodec||"").toUpperCase()}: ${ql(q,!0)} ms (${q}dts) hole between fragments detected at ${n.toFixed(3)}`):this.warn(`${(t.segmentCodec||"").toUpperCase()}: ${ql(-q,!0)} ms (${q}dts) overlapping between fragments detected at ${n.toFixed(3)}`),!ot||x>=a[0].pts||el)){m=x;const bt=a[0].pts-q;if(et)a[0].dts=m,a[0].pts=bt;else{let Ct=!0;for(let Tt=0;Tt<a.length&&!(a[Tt].dts>bt&&Ct);Tt++){const $t=a[Tt].pts;if(a[Tt].dts-=q,a[Tt].pts-=q,Tt<a.length-1){const Vt=a[Tt+1].pts,jt=a[Tt].pts,ee=Vt<=jt,ce=Vt<=$t;Ct=ee==ce}}}this.log(`Video: Initial PTS/DTS adjusted: ${ql(bt,!0)}/${ql(m,!0)}, delta: ${ql(q,!0)} ms`)}}m=Math.max(0,m);let B=0,O=0,_=m;for(let q=0;q<e;q++){const et=a[q],ot=et.units,bt=ot.length;let Ct=0;for(let Tt=0;Tt<bt;Tt++)Ct+=ot[Tt].data.length;O+=Ct,B+=bt,et.length=Ct,et.dts<_?(et.dts=_,_+=D/4|0||1):_=et.dts,E=Math.min(et.pts,E),C=Math.max(et.pts,C)}y=a[e-1].dts;const M=O+4*B+8;let U;try{U=new Uint8Array(M)}catch(q){this.observer.emit(F.ERROR,F.ERROR,{type:nn.MUX_ERROR,details:Ot.REMUX_ALLOC_ERROR,fatal:!1,error:q,bytes:M,reason:`fail allocating video mdat ${M}`});return}const Q=new DataView(U.buffer);Q.setUint32(0,M),U.set(Bt.types.mdat,4);let $=!1,W=Number.POSITIVE_INFINITY,X=Number.POSITIVE_INFINITY,tt=Number.NEGATIVE_INFINITY,V=Number.NEGATIVE_INFINITY;for(let q=0;q<e;q++){const et=a[q],ot=et.units;let bt=0;for(let $t=0,Vt=ot.length;$t<Vt;$t++){const jt=ot[$t],ee=jt.data,ce=jt.data.byteLength;Q.setUint32(A,ce),A+=4,U.set(ee,A),A+=ce,bt+=4+ce}let Ct;if(q<e-1)p=a[q+1].dts-et.dts,Ct=a[q+1].pts-et.pts;else{const $t=this.config,Vt=q>0?et.dts-a[q-1].dts:D;if(Ct=q>0?et.pts-a[q-1].pts:D,$t.stretchShortVideoTrack&&this.nextAudioTs!==null){const jt=Math.floor($t.maxBufferHole*d),ee=(l?E+l*d:this.nextAudioTs+u)-et.pts;ee>jt?(p=ee-Vt,p<0?p=Vt:$=!0,this.log(`It is approximately ${ee/90} ms to the next segment; using duration ${p/90} ms for the last video frame.`)):p=Vt}else p=Vt}const Tt=Math.round(et.pts-et.dts);W=Math.min(W,p),tt=Math.max(tt,p),X=Math.min(X,Ct),V=Math.max(V,Ct),c.push(G0(et.key,p,bt,Tt))}if(c.length){if(el){if(el<70){const q=c[0].flags;q.dependsOn=2,q.isNonSync=0}}else if(jd&&V-X<tt-W&&D/tt<.025&&c[0].cts===0){this.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");let q=m;for(let et=0,ot=c.length;et<ot;et++){const bt=q+c[et].duration,Ct=q+c[et].cts;if(et<ot-1){const Tt=bt+c[et+1].cts;c[et].duration=Tt-Ct}else c[et].duration=et?c[et-1].duration:D;c[et].cts=0,q=bt}}}p=$||!p?D:p;const N=y+p;this.nextVideoTs=f=N-u,this.videoSampleDuration=p,this.isVideoContiguous=!0;const G={data1:Bt.moof(t.sequenceNumber++,m,mr(t,{samples:c})),data2:U,startPTS:(E-u)/d,endPTS:(C+p-u)/d,startDTS:(m-u)/d,endDTS:f/d,type:"video",hasAudio:!1,hasVideo:!0,nb:c.length,dropped:t.dropped};return t.samples=[],t.dropped=0,G}getSamplesPerFrame(t){switch(t.segmentCodec){case"mp3":return eC;case"ac3":return nC;default:return tC}}remuxAudio(t,n,i,l,d){const a=t.inputTimeScale,c=t.samplerate?t.samplerate:a,e=a/c,o=this.getSamplesPerFrame(t),u=o*e,f=this._initPTS,A=t.segmentCodec==="mp3"&&this.typeSupported.mpeg,p=[],m=d!==void 0;let y=t.samples,E=A?0:8,C=this.nextAudioTs||-1;const T=f.baseTime*a/f.timescale,x=T+n*a;if(this.isAudioContiguous=i=i||y.length&&C>0&&(l&&Math.abs(x-(C+T))<9e3||Math.abs(rs(y[0].pts,x)-(C+T))<20*u),y.forEach(function(V){V.pts=rs(V.pts,x)}),!i||C<0){if(y=y.filter(V=>V.pts>=0),!y.length)return;d===0?C=0:l&&!m?C=Math.max(0,x-T):C=y[0].pts-T}if(t.segmentCodec==="aac"){const V=this.config.maxAudioFramesDrift;for(let N=0,K=C+T;N<y.length;N++){const at=y[N],G=at.pts,q=G-K,et=Math.abs(1e3*q/a);if(q<=-V*u&&m)N===0&&(this.warn(`Audio frame @ ${(G/a).toFixed(3)}s overlaps marker by ${Math.round(1e3*q/a)} ms.`),this.nextAudioTs=C=G-T,K=G);else if(q>=V*u&&et<Jb&&m){let ot=Math.round(q/u);for(K=G-ot*u;K<0&&ot&&u;)ot--,K+=u;N===0&&(this.nextAudioTs=C=K-T),this.warn(`Injecting ${ot} audio frames @ ${((K-T)/a).toFixed(3)}s due to ${Math.round(1e3*q/a)} ms gap.`);for(let bt=0;bt<ot;bt++){let Ct=qb.getSilentFrame(t.parsedCodec||t.manifestCodec||t.codec,t.channelCount);Ct||(this.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),Ct=at.unit.subarray()),y.splice(N,0,{unit:Ct,pts:K}),K+=u,N++}}at.pts=K,K+=u}}let L=null,D=null,B,O=0,_=y.length;for(;_--;)O+=y[_].unit.byteLength;for(let V=0,N=y.length;V<N;V++){const K=y[V],at=K.unit;let G=K.pts;if(D!==null){const et=p[V-1];et.duration=Math.round((G-D)/e)}else if(i&&t.segmentCodec==="aac"&&(G=C+T),L=G,O>0){O+=E;try{B=new Uint8Array(O)}catch(et){this.observer.emit(F.ERROR,F.ERROR,{type:nn.MUX_ERROR,details:Ot.REMUX_ALLOC_ERROR,fatal:!1,error:et,bytes:O,reason:`fail allocating audio mdat ${O}`});return}A||(new DataView(B.buffer).setUint32(0,O),B.set(Bt.types.mdat,4))}else return;B.set(at,E);const q=at.byteLength;E+=q,p.push(G0(!0,o,q,0)),D=G}const M=p.length;if(!M)return;const U=p[p.length-1];C=D-T,this.nextAudioTs=C+e*U.duration;const Q=A?new Uint8Array(0):Bt.moof(t.sequenceNumber++,L/e,mr({},t,{samples:p}));t.samples=[];const $=(L-T)/a,W=C/a,tt={data1:Q,data2:B,startPTS:$,endPTS:W,startDTS:$,endDTS:W,type:"audio",hasAudio:!0,hasVideo:!1,nb:M};return this.isAudioContiguous=!0,tt}}function rs(g,t){let n;if(t===null)return g;for(t<g?n=-8589934592:n=8589934592;Math.abs(g-t)>4294967296;)g+=n;return g}function rC(g){for(let t=0;t<g.length;t++)if(g[t].key)return t;return-1}function uv(g,t,n,i){const l=g.samples.length;if(!l)return;const d=g.inputTimeScale;for(let c=0;c<l;c++){const e=g.samples[c];e.pts=rs(e.pts-n.baseTime*d/n.timescale,t*d)/d,e.dts=rs(e.dts-i.baseTime*d/i.timescale,t*d)/d}const a=g.samples;return g.samples=[],{samples:a}}function cv(g,t,n){const i=g.samples.length;if(!i)return;const l=g.inputTimeScale;for(let a=0;a<i;a++){const c=g.samples[a];c.pts=rs(c.pts-n.baseTime*l/n.timescale,t*l)/l}g.samples.sort((a,c)=>a.pts-c.pts);const d=g.samples;return g.samples=[],{samples:d}}class iC extends ss{constructor(t,n,i,l){super("passthrough-remuxer",l),this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null,this.isVideoContiguous=!1}destroy(){}resetTimeStamp(t){this.lastEndTime=null;const n=this.initPTS;n&&t&&n.baseTime===t.baseTime&&n.timescale===t.timescale||(this.initPTS=t)}resetNextTimestamp(){this.isVideoContiguous=!1,this.lastEndTime=null}resetInitSegment(t,n,i,l){this.audioCodec=n,this.videoCodec=i,this.generateInitSegment(t,l),this.emitInitSegment=!0}generateInitSegment(t,n){let{audioCodec:i,videoCodec:l}=this;if(!(t!=null&&t.byteLength)){this.initTracks=void 0,this.initData=void 0;return}const{audio:d,video:a}=this.initData=bm(t);if(n)j1(t,n);else{const e=d||a;e!=null&&e.encrypted&&this.warn(`Init segment with encrypted track with has no key ("${e.codec}")!`)}d&&(i=Q0(d,Er.AUDIO,this)),a&&(l=Q0(a,Er.VIDEO,this));const c={};d&&a?c.audiovideo={container:"video/mp4",codec:i+","+l,supplemental:a.supplemental,encrypted:a.encrypted,initSegment:t,id:"main"}:d?c.audio={container:"audio/mp4",codec:i,encrypted:d.encrypted,initSegment:t,id:"audio"}:a?c.video={container:"video/mp4",codec:l,supplemental:a.supplemental,encrypted:a.encrypted,initSegment:t,id:"main"}:this.warn("initSegment does not contain moov or trak boxes."),this.initTracks=c}remux(t,n,i,l,d,a){var c,e;let{initPTS:o,lastEndTime:u}=this;const f={audio:void 0,video:void 0,text:l,id3:i,initSegment:void 0};Qe(u)||(u=this.lastEndTime=d||0);const A=n.samples;if(!A.length)return f;const p={initPTS:void 0,timescale:void 0,trackId:void 0};let m=this.initData;if((c=m)!=null&&c.length||(this.generateInitSegment(A),m=this.initData),!((e=m)!=null&&e.length))return this.warn("Failed to generate initSegment."),f;this.emitInitSegment&&(p.tracks=this.initTracks,this.emitInitSegment=!1);const y=$1(A,m,this),E=m.audio?y[m.audio.id]:null,C=m.video?y[m.video.id]:null,T=vc(C,1/0),x=vc(E,1/0),L=vc(C,0,!0),D=vc(E,0,!0);let B=d,O=0;const _=E&&(!C||!o&&x<T||o&&o.trackId===m.audio.id),M=_?E:C;if(M){const K=M.timescale,at=M.start-d*K,G=_?m.audio.id:m.video.id;B=M.start/K,O=_?D-x:L-T,(a||!o)&&(sC(o,B,d,O)||K!==o.timescale)&&(o&&this.warn(`Timestamps at playlist time: ${a?"":"~"}${d} ${at/K} != initPTS: ${o.baseTime/o.timescale} (${o.baseTime}/${o.timescale}) trackId: ${o.trackId}`),this.log(`Found initPTS at playlist time: ${d} offset: ${B-d} (${at}/${K}) trackId: ${G}`),o=null,p.initPTS=at,p.timescale=K,p.trackId=G)}else this.warn(`No audio or video samples found for initPTS at playlist time: ${d}`);o?(p.initPTS=o.baseTime,p.timescale=o.timescale,p.trackId=o.trackId):((!p.timescale||p.trackId===void 0||p.initPTS===void 0)&&(this.warn("Could not set initPTS"),p.initPTS=B,p.timescale=1,p.trackId=-1),this.initPTS=o={baseTime:p.initPTS,timescale:p.timescale,trackId:p.trackId});const U=B-o.baseTime/o.timescale,Q=U+O;O>0?this.lastEndTime=Q:(this.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());const $=!!m.audio,W=!!m.video;let X="";$&&(X+="audio"),W&&(X+="video");const tt=(m.audio?m.audio.encrypted:!1)||(m.video?m.video.encrypted:!1),V={data1:A,startPTS:U,startDTS:U,endPTS:Q,endDTS:Q,type:X,hasAudio:$,hasVideo:W,nb:1,dropped:0,encrypted:tt};f.audio=$&&!W?V:void 0,f.video=W?V:void 0;const N=C?.sampleCount;if(N){const K=C.keyFrameIndex,at=K!==-1;V.nb=N,V.dropped=K===0||this.isVideoContiguous?0:at?K:N,V.independent=at,V.firstKeyFrame=K,at&&C.keyFrameStart&&(V.firstKeyFramePTS=(C.keyFrameStart-o.baseTime)/o.timescale),this.isVideoContiguous||(f.independent=at),this.isVideoContiguous||(this.isVideoContiguous=at),V.dropped&&this.warn(`fmp4 does not start with IDR: firstIDR ${K}/${N} dropped: ${V.dropped} start: ${V.firstKeyFramePTS||"NA"}`)}return f.initSegment=p,f.id3=uv(i,d,o,o),l.samples.length&&(f.text=cv(l,d,o)),f}}function vc(g,t,n=!1){return g?.start!==void 0?(g.start+(n?g.duration:0))/g.timescale:t}function sC(g,t,n,i){if(g===null)return!0;const l=Math.max(i,1),d=t-g.baseTime/g.timescale;return Math.abs(d-n)>l}function Q0(g,t,n){const i=g.codec;return i&&i.length>4?i:t===Er.AUDIO?i==="ec-3"||i==="ac-3"||i==="alac"?i:i==="fLaC"||i==="Opus"?Mc(i,!1):(n.warn(`Unhandled audio codec "${i}" in mp4 MAP`),i||"mp4a"):(n.warn(`Unhandled video codec "${i}" in mp4 MAP`),i||"avc1")}let ra;try{ra=self.performance.now.bind(self.performance)}catch{ra=Date.now}const Dc=[{demux:zb,remux:iC},{demux:Fa,remux:Ic},{demux:Gb,remux:Ic},{demux:Hb,remux:Ic}];Dc.splice(2,0,{demux:Qb,remux:Ic});class H0{constructor(t,n,i,l,d,a){this.asyncResult=!1,this.logger=void 0,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=t,this.typeSupported=n,this.config=i,this.id=d,this.logger=a}configure(t){this.transmuxConfig=t,this.decrypter&&this.decrypter.reset()}push(t,n,i,l){const d=i.transmuxing;d.executeStart=ra();let a=new Uint8Array(t);const{currentTransmuxState:c,transmuxConfig:e}=this;l&&(this.currentTransmuxState=l);const{contiguous:o,discontinuity:u,trackSwitch:f,accurateTimeOffset:A,timeOffset:p,initSegmentChange:m}=l||c,{audioCodec:y,videoCodec:E,defaultInitPts:C,duration:T,initSegmentData:x}=e,L=aC(a,n);if(L&&al(L.method)){const _=this.getDecrypter(),M=Ph(L.method);if(_.isSync()){let U=_.softwareDecrypt(a,L.key.buffer,L.iv.buffer,M);if(i.part>-1){const $=_.flush();U=$&&$.buffer}if(!U)return d.executeEnd=ra(),$d(i);a=new Uint8Array(U)}else return this.asyncResult=!0,this.decryptionPromise=_.webCryptoDecrypt(a,L.key.buffer,L.iv.buffer,M).then(U=>{const Q=this.push(U,null,i);return this.decryptionPromise=null,Q}),this.decryptionPromise}const D=this.needsProbing(u,f);if(D){const _=this.configureTransmuxer(a);if(_)return this.logger.warn(`[transmuxer] ${_.message}`),this.observer.emit(F.ERROR,F.ERROR,{type:nn.MEDIA_ERROR,details:Ot.FRAG_PARSING_ERROR,fatal:!1,error:_,reason:_.message}),d.executeEnd=ra(),$d(i)}(u||f||m||D)&&this.resetInitSegment(x,y,E,T,n),(u||m||D)&&this.resetInitialTimestamp(C),o||this.resetContiguity();const B=this.transmux(a,L,p,A,i);this.asyncResult=su(B);const O=this.currentTransmuxState;return O.contiguous=!0,O.discontinuity=!1,O.trackSwitch=!1,d.executeEnd=ra(),B}flush(t){const n=t.transmuxing;n.executeStart=ra();const{decrypter:i,currentTransmuxState:l,decryptionPromise:d}=this;if(d)return this.asyncResult=!0,d.then(()=>this.flush(t));const a=[],{timeOffset:c}=l;if(i){const f=i.flush();f&&a.push(this.push(f.buffer,null,t))}const{demuxer:e,remuxer:o}=this;if(!e||!o){n.executeEnd=ra();const f=[$d(t)];return this.asyncResult?Promise.resolve(f):f}const u=e.flush(c);return su(u)?(this.asyncResult=!0,u.then(f=>(this.flushRemux(a,f,t),a))):(this.flushRemux(a,u,t),this.asyncResult?Promise.resolve(a):a)}flushRemux(t,n,i){const{audioTrack:l,videoTrack:d,id3Track:a,textTrack:c}=n,{accurateTimeOffset:e,timeOffset:o}=this.currentTransmuxState;this.logger.log(`[transmuxer.ts]: Flushed ${this.id} sn: ${i.sn}${i.part>-1?" part: "+i.part:""} of ${this.id===Ze.MAIN?"level":"track"} ${i.level}`);const u=this.remuxer.remux(l,d,a,c,o,e,!0,this.id);t.push({remuxResult:u,chunkMeta:i}),i.transmuxing.executeEnd=ra()}resetInitialTimestamp(t){const{demuxer:n,remuxer:i}=this;!n||!i||(n.resetTimeStamp(t),i.resetTimeStamp(t))}resetContiguity(){const{demuxer:t,remuxer:n}=this;!t||!n||(t.resetContiguity(),n.resetNextTimestamp())}resetInitSegment(t,n,i,l,d){const{demuxer:a,remuxer:c}=this;!a||!c||(a.resetInitSegment(t,n,i,l),c.resetInitSegment(t,n,i,d))}destroy(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}transmux(t,n,i,l,d){let a;return n&&n.method==="SAMPLE-AES"?a=this.transmuxSampleAes(t,n,i,l,d):a=this.transmuxUnencrypted(t,i,l,d),a}transmuxUnencrypted(t,n,i,l){const{audioTrack:d,videoTrack:a,id3Track:c,textTrack:e}=this.demuxer.demux(t,n,!1,!this.config.progressive);return{remuxResult:this.remuxer.remux(d,a,c,e,n,i,!1,this.id),chunkMeta:l}}transmuxSampleAes(t,n,i,l,d){return this.demuxer.demuxSampleAes(t,n,i).then(a=>({remuxResult:this.remuxer.remux(a.audioTrack,a.videoTrack,a.id3Track,a.textTrack,i,l,!1,this.id),chunkMeta:d}))}configureTransmuxer(t){const{config:n,observer:i,typeSupported:l}=this;let d;for(let f=0,A=Dc.length;f<A;f++){var a;if((a=Dc[f].demux)!=null&&a.probe(t,this.logger)){d=Dc[f];break}}if(!d)return new Error("Failed to find demuxer by probing fragment data");const c=this.demuxer,e=this.remuxer,o=d.remux,u=d.demux;(!e||!(e instanceof o))&&(this.remuxer=new o(i,n,l,this.logger)),(!c||!(c instanceof u))&&(this.demuxer=new u(i,n,l,this.logger),this.probe=u.probe)}needsProbing(t,n){return!this.demuxer||!this.remuxer||t||n}getDecrypter(){let t=this.decrypter;return t||(t=this.decrypter=new _h(this.config)),t}}function aC(g,t){let n=null;return g.byteLength>0&&t?.key!=null&&t.iv!==null&&t.method!=null&&(n=t),n}const $d=g=>({remuxResult:{},chunkMeta:g});function su(g){return"then"in g&&g.then instanceof Function}class oC{constructor(t,n,i,l,d){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=t,this.videoCodec=n,this.initSegmentData=i,this.duration=l,this.defaultInitPts=d||null}}class lC{constructor(t,n,i,l,d,a){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=t,this.contiguous=n,this.accurateTimeOffset=i,this.trackSwitch=l,this.timeOffset=d,this.initSegmentChange=a}}let Y0=0;class fv{constructor(t,n,i,l){this.error=null,this.hls=void 0,this.id=void 0,this.instanceNo=Y0++,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0,this.onWorkerMessage=e=>{const o=e.data,u=this.hls;if(!(!u||!(o!=null&&o.event)||o.instanceNo!==this.instanceNo))switch(o.event){case"init":{var f;const A=(f=this.workerContext)==null?void 0:f.objectURL;A&&self.URL.revokeObjectURL(A);break}case"transmuxComplete":{this.handleTransmuxComplete(o.data);break}case"flush":{this.onFlush(o.data);break}case"workerLog":{u.logger[o.data.logType]&&u.logger[o.data.logType](o.data.message);break}default:{o.data=o.data||{},o.data.frag=this.frag,o.data.part=this.part,o.data.id=this.id,u.trigger(o.event,o.data);break}}},this.onWorkerError=e=>{if(!this.hls)return;const o=new Error(`${e.message}  (${e.filename}:${e.lineno})`);this.hls.config.enableWorker=!1,this.hls.logger.warn(`Error in "${this.id}" Web Worker, fallback to inline`),this.hls.trigger(F.ERROR,{type:nn.OTHER_ERROR,details:Ot.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:o})};const d=t.config;this.hls=t,this.id=n,this.useWorker=!!d.enableWorker,this.onTransmuxComplete=i,this.onFlush=l;const a=(e,o)=>{o=o||{},o.frag=this.frag||void 0,e===F.ERROR&&(o=o,o.parent=this.id,o.part=this.part,this.error=o.error),this.hls.trigger(e,o)};this.observer=new Fh,this.observer.on(F.FRAG_DECRYPTED,a),this.observer.on(F.ERROR,a);const c=a0(d.preferManagedMediaSource);if(this.useWorker&&typeof Worker<"u"){const e=this.hls.logger;if(d.workerPath||db()){try{d.workerPath?(e.log(`loading Web Worker ${d.workerPath} for "${n}"`),this.workerContext=Ab(d.workerPath)):(e.log(`injecting Web Worker for "${n}"`),this.workerContext=hb());const{worker:u}=this.workerContext;u.addEventListener("message",this.onWorkerMessage),u.addEventListener("error",this.onWorkerError),u.postMessage({instanceNo:this.instanceNo,cmd:"init",typeSupported:c,id:n,config:wr(d)})}catch(u){e.warn(`Error setting up "${n}" Web Worker, fallback to inline`,u),this.terminateWorker(),this.error=null,this.transmuxer=new H0(this.observer,c,d,"",n,t.logger)}return}}this.transmuxer=new H0(this.observer,c,d,"",n,t.logger)}reset(){if(this.frag=null,this.part=null,this.workerContext){const t=this.instanceNo;this.instanceNo=Y0++;const n=this.hls.config,i=a0(n.preferManagedMediaSource);this.workerContext.worker.postMessage({instanceNo:this.instanceNo,cmd:"reset",resetNo:t,typeSupported:i,id:this.id,config:wr(n)})}}terminateWorker(){if(this.workerContext){const{worker:t}=this.workerContext;this.workerContext=null,t.removeEventListener("message",this.onWorkerMessage),t.removeEventListener("error",this.onWorkerError),gb(this.hls.config.workerPath)}}destroy(){if(this.workerContext)this.terminateWorker(),this.onWorkerMessage=this.onWorkerError=null;else{const n=this.transmuxer;n&&(n.destroy(),this.transmuxer=null)}const t=this.observer;t&&t.removeAllListeners(),this.frag=null,this.part=null,this.observer=null,this.hls=null}push(t,n,i,l,d,a,c,e,o,u){var f,A;o.transmuxing.start=self.performance.now();const{instanceNo:p,transmuxer:m}=this,y=a?a.start:d.start,E=d.decryptdata,C=this.frag,T=!(C&&d.cc===C.cc),x=!(C&&o.level===C.level),L=C?o.sn-C.sn:-1,D=this.part?o.part-this.part.index:-1,B=L===0&&o.id>1&&o.id===C?.stats.chunkCount,O=!x&&(L===1||L===0&&(D===1||B&&D<=0)),_=self.performance.now();(x||L||d.stats.parsing.start===0)&&(d.stats.parsing.start=_),a&&(D||!O)&&(a.stats.parsing.start=_);const M=!(C&&((f=d.initSegment)==null?void 0:f.url)===((A=C.initSegment)==null?void 0:A.url)),U=new lC(T,O,e,x,y,M);if(!O||T||M){this.hls.logger.log(`[transmuxer-interface]: Starting new transmux session for ${d.type} sn: ${o.sn}${o.part>-1?" part: "+o.part:""} ${this.id===Ze.MAIN?"level":"track"}: ${o.level} id: ${o.id}
        discontinuity: ${T}
        trackSwitch: ${x}
        contiguous: ${O}
        accurateTimeOffset: ${e}
        timeOffset: ${y}
        initSegmentChange: ${M}`);const Q=new oC(i,l,n,c,u);this.configureTransmuxer(Q)}if(this.frag=d,this.part=a,this.workerContext)this.workerContext.worker.postMessage({instanceNo:p,cmd:"demux",data:t,decryptdata:E,chunkMeta:o,state:U},t instanceof ArrayBuffer?[t]:[]);else if(m){const Q=m.push(t,E,o,U);su(Q)?Q.then($=>{this.handleTransmuxComplete($)}).catch($=>{this.transmuxerError($,o,"transmuxer-interface push error")}):this.handleTransmuxComplete(Q)}}flush(t){t.transmuxing.start=self.performance.now();const{instanceNo:n,transmuxer:i}=this;if(this.workerContext)this.workerContext.worker.postMessage({instanceNo:n,cmd:"flush",chunkMeta:t});else if(i){const l=i.flush(t);su(l)?l.then(d=>{this.handleFlushResult(d,t)}).catch(d=>{this.transmuxerError(d,t,"transmuxer-interface flush error")}):this.handleFlushResult(l,t)}}transmuxerError(t,n,i){this.hls&&(this.error=t,this.hls.trigger(F.ERROR,{type:nn.MEDIA_ERROR,details:Ot.FRAG_PARSING_ERROR,chunkMeta:n,frag:this.frag||void 0,part:this.part||void 0,fatal:!1,error:t,err:t,reason:i}))}handleFlushResult(t,n){t.forEach(i=>{this.handleTransmuxComplete(i)}),this.onFlush(n)}configureTransmuxer(t){const{instanceNo:n,transmuxer:i}=this;this.workerContext?this.workerContext.worker.postMessage({instanceNo:n,cmd:"configure",config:t}):i&&i.configure(t)}handleTransmuxComplete(t){t.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(t)}}const z0=100;class uC extends Uh{constructor(t,n,i){super(t,n,i,"audio-stream-controller",Ze.AUDIO),this.mainAnchor=null,this.mainFragLoading=null,this.audioOnly=!1,this.bufferedTrack=null,this.switchingTrack=null,this.trackId=-1,this.waitingData=null,this.mainDetails=null,this.flushing=!1,this.bufferFlushed=!1,this.cachedTrackLoadedData=null,this.registerListeners()}onHandlerDestroying(){this.unregisterListeners(),super.onHandlerDestroying(),this.resetItem()}resetItem(){this.mainDetails=this.mainAnchor=this.mainFragLoading=this.bufferedTrack=this.switchingTrack=this.waitingData=this.cachedTrackLoadedData=null}registerListeners(){super.registerListeners();const{hls:t}=this;t.on(F.LEVEL_LOADED,this.onLevelLoaded,this),t.on(F.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),t.on(F.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.on(F.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.on(F.BUFFER_RESET,this.onBufferReset,this),t.on(F.BUFFER_CREATED,this.onBufferCreated,this),t.on(F.BUFFER_FLUSHING,this.onBufferFlushing,this),t.on(F.BUFFER_FLUSHED,this.onBufferFlushed,this),t.on(F.INIT_PTS_FOUND,this.onInitPtsFound,this),t.on(F.FRAG_LOADING,this.onFragLoading,this),t.on(F.FRAG_BUFFERED,this.onFragBuffered,this)}unregisterListeners(){const{hls:t}=this;t&&(super.unregisterListeners(),t.off(F.LEVEL_LOADED,this.onLevelLoaded,this),t.off(F.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),t.off(F.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.off(F.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.off(F.BUFFER_RESET,this.onBufferReset,this),t.off(F.BUFFER_CREATED,this.onBufferCreated,this),t.off(F.BUFFER_FLUSHING,this.onBufferFlushing,this),t.off(F.BUFFER_FLUSHED,this.onBufferFlushed,this),t.off(F.INIT_PTS_FOUND,this.onInitPtsFound,this),t.off(F.FRAG_LOADING,this.onFragLoading,this),t.off(F.FRAG_BUFFERED,this.onFragBuffered,this))}onInitPtsFound(t,{frag:n,id:i,initPTS:l,timescale:d,trackId:a}){if(i===Ze.MAIN){const c=n.cc,e=this.fragCurrent;if(this.initPTS[c]={baseTime:l,timescale:d,trackId:a},this.log(`InitPTS for cc: ${c} found from main: ${l/d} (${l}/${d}) trackId: ${a}`),this.mainAnchor=n,this.state===Jt.WAITING_INIT_PTS){const o=this.waitingData;(!o&&!this.loadingParts||o&&o.frag.cc!==c)&&this.syncWithAnchor(n,o?.frag)}else!this.hls.hasEnoughToStart&&e&&e.cc!==c?(e.abortRequests(),this.syncWithAnchor(n,e)):this.state===Jt.IDLE&&this.tick()}}getLoadPosition(){return!this.startFragRequested&&this.nextLoadPosition>=0?this.nextLoadPosition:super.getLoadPosition()}syncWithAnchor(t,n){var i;const l=((i=this.mainFragLoading)==null?void 0:i.frag)||null;if(n&&l?.cc===n.cc)return;const d=(l||t).cc,a=this.getLevelDetails(),c=this.getLoadPosition(),e=km(a,d,c);e&&(this.log(`Syncing with main frag at ${e.start} cc ${e.cc}`),this.startFragRequested=!1,this.nextLoadPosition=e.start,this.resetLoadingState(),this.state===Jt.IDLE&&this.doTickIdle())}startLoad(t,n){if(!this.levels){this.startPosition=t,this.state=Jt.STOPPED;return}const i=this.lastCurrentTime;this.stopLoad(),this.setInterval(z0),i>0&&t===-1?(this.log(`Override startPosition with lastCurrentTime @${i.toFixed(3)}`),t=i,this.state=Jt.IDLE):this.state=Jt.WAITING_TRACK,this.nextLoadPosition=this.lastCurrentTime=t+this.timelineOffset,this.startPosition=n?-1:t,this.tick()}doTick(){switch(this.state){case Jt.IDLE:this.doTickIdle();break;case Jt.WAITING_TRACK:{const{levels:t,trackId:n}=this,i=t?.[n],l=i?.details;if(l&&!this.waitForLive(i)){if(this.waitForCdnTuneIn(l))break;this.state=Jt.WAITING_INIT_PTS}break}case Jt.FRAG_LOADING_WAITING_RETRY:{this.checkRetryDate();break}case Jt.WAITING_INIT_PTS:{const t=this.waitingData;if(t){const{frag:n,part:i,cache:l,complete:d}=t,a=this.mainAnchor;if(this.initPTS[n.cc]!==void 0){this.waitingData=null,this.state=Jt.FRAG_LOADING;const c=l.flush().buffer,e={frag:n,part:i,payload:c,networkDetails:null};this._handleFragmentLoadProgress(e),d&&super._handleFragmentLoadComplete(e)}else a&&a.cc!==t.frag.cc&&this.syncWithAnchor(a,t.frag)}else this.state=Jt.IDLE}}this.onTickEnd()}resetLoadingState(){const t=this.waitingData;t&&(this.fragmentTracker.removeFragment(t.frag),this.waitingData=null),super.resetLoadingState()}onTickEnd(){const{media:t}=this;t!=null&&t.readyState&&(this.lastCurrentTime=t.currentTime)}doTickIdle(){var t;const{hls:n,levels:i,media:l,trackId:d}=this,a=n.config;if(!this.buffering||!l&&!this.primaryPrefetch&&(this.startFragRequested||!a.startFragPrefetch)||!(i!=null&&i[d]))return;const c=i[d],e=c.details;if(!e||this.waitForLive(c)||this.waitForCdnTuneIn(e)){this.state=Jt.WAITING_TRACK,this.startFragRequested=!1;return}const o=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&o&&(this.bufferFlushed=!1,this.afterBufferFlushed(o,Er.AUDIO,Ze.AUDIO));const u=this.getFwdBufferInfo(o,Ze.AUDIO);if(u===null)return;if(!this.switchingTrack&&this._streamEnded(u,e)){n.trigger(F.BUFFER_EOS,{type:"audio"}),this.state=Jt.ENDED;return}const f=u.len,A=n.maxBufferLength,p=e.fragments,m=p[0].start,y=this.getLoadPosition(),E=this.flushing?y:u.end;if(this.switchingTrack&&l){const x=y;e.PTSKnown&&x<m&&(u.end>m||u.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),l.currentTime=m+.05)}if(f>=A&&!this.switchingTrack&&E<p[p.length-1].start)return;let C=this.getNextFragment(E,e);if(C&&this.isLoopLoading(C,E)&&(C=this.getNextFragmentLoopLoading(C,e,u,Ze.MAIN,A)),!C){this.bufferFlushed=!0;return}let T=((t=this.mainFragLoading)==null?void 0:t.frag)||null;if(!this.audioOnly&&this.startFragRequested&&T&&Kr(C)&&!C.endList&&(!e.live||!this.loadingParts&&E<this.hls.liveSyncPosition)&&(this.fragmentTracker.getState(T)===ti.OK&&(this.mainFragLoading=T=null),T&&Kr(T))){if(C.start>T.end){const L=this.fragmentTracker.getFragAtPos(E,Ze.MAIN);L&&L.end>T.end&&(T=L,this.mainFragLoading={frag:L,targetBufferTime:null})}if(C.start>T.end)return}this.loadFragment(C,c,E)}onMediaDetaching(t,n){this.bufferFlushed=this.flushing=!1,super.onMediaDetaching(t,n)}onAudioTracksUpdated(t,{audioTracks:n}){this.resetTransmuxer(),this.levels=n.map(i=>new nu(i))}onAudioTrackSwitching(t,n){const i=!!n.url;this.trackId=n.id;const{fragCurrent:l}=this;l&&(l.abortRequests(),this.removeUnbufferedFrags(l.start)),this.resetLoadingState(),i?(this.switchingTrack=n,this.flushAudioIfNeeded(n),this.state!==Jt.STOPPED&&(this.setInterval(z0),this.state=Jt.IDLE,this.tick())):(this.resetTransmuxer(),this.switchingTrack=null,this.bufferedTrack=n,this.clearInterval())}onManifestLoading(){super.onManifestLoading(),this.bufferFlushed=this.flushing=this.audioOnly=!1,this.resetItem(),this.trackId=-1}onLevelLoaded(t,n){this.mainDetails=n.details;const i=this.cachedTrackLoadedData;i&&(this.cachedTrackLoadedData=null,this.onAudioTrackLoaded(F.AUDIO_TRACK_LOADED,i))}onAudioTrackLoaded(t,n){var i;const{levels:l}=this,{details:d,id:a,groupId:c,track:e}=n;if(!l){this.warn(`Audio tracks reset while loading track ${a} "${e.name}" of "${c}"`);return}const o=this.mainDetails;if(!o||d.endCC>o.endCC||o.expired){this.cachedTrackLoadedData=n,this.state!==Jt.STOPPED&&(this.state=Jt.WAITING_TRACK);return}this.cachedTrackLoadedData=null,this.log(`Audio track ${a} "${e.name}" of "${c}" loaded [${d.startSN},${d.endSN}]${d.lastPartSn?`[part-${d.lastPartSn}-${d.lastPartIndex}]`:""},duration:${d.totalduration}`);const u=l[a];let f=0;if(d.live||(i=u.details)!=null&&i.live){if(this.checkLiveUpdate(d),d.deltaUpdateFailed)return;if(u.details){var A;f=this.alignPlaylists(d,u.details,(A=this.levelLastLoaded)==null?void 0:A.details)}d.alignedSliding||(Vm(d,o),d.alignedSliding||Qc(d,o),f=d.fragmentStart)}u.details=d,this.levelLastLoaded=u,this.startFragRequested||this.setStartPosition(o,f),this.hls.trigger(F.AUDIO_TRACK_UPDATED,{details:d,id:a,groupId:n.groupId}),this.state===Jt.WAITING_TRACK&&!this.waitForCdnTuneIn(d)&&(this.state=Jt.IDLE),this.tick()}_handleFragmentLoadProgress(t){var n;const i=t.frag,{part:l,payload:d}=t,{config:a,trackId:c,levels:e}=this;if(!e){this.warn(`Audio tracks were reset while fragment load was in progress. Fragment ${i.sn} of level ${i.level} will not be buffered`);return}const o=e[c];if(!o){this.warn("Audio track is undefined on fragment load progress");return}const u=o.details;if(!u){this.warn("Audio track details undefined on fragment load progress"),this.removeUnbufferedFrags(i.start);return}const f=a.defaultAudioCodec||o.audioCodec||"mp4a.40.2";let A=this.transmuxer;A||(A=this.transmuxer=new fv(this.hls,Ze.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));const p=this.initPTS[i.cc],m=(n=i.initSegment)==null?void 0:n.data;if(p!==void 0){const E=l?l.index:-1,C=E!==-1,T=new Mh(i.level,i.sn,i.stats.chunkCount,d.byteLength,E,C);A.push(d,m,f,"",i,l,u.totalduration,!1,T,p)}else{this.log(`Unknown video PTS for cc ${i.cc}, waiting for video PTS before demuxing audio frag ${i.sn} of [${u.startSN} ,${u.endSN}],track ${c}`);const{cache:y}=this.waitingData=this.waitingData||{frag:i,part:l,cache:new jm,complete:!1};y.push(new Uint8Array(d)),this.state!==Jt.STOPPED&&(this.state=Jt.WAITING_INIT_PTS)}}_handleFragmentLoadComplete(t){if(this.waitingData){this.waitingData.complete=!0;return}super._handleFragmentLoadComplete(t)}onBufferReset(){this.mediaBuffer=null}onBufferCreated(t,n){this.bufferFlushed=this.flushing=!1;const i=n.tracks.audio;i&&(this.mediaBuffer=i.buffer||null)}onFragLoading(t,n){!this.audioOnly&&n.frag.type===Ze.MAIN&&Kr(n.frag)&&(this.mainFragLoading=n,this.state===Jt.IDLE&&this.tick())}onFragBuffered(t,n){const{frag:i,part:l}=n;if(i.type!==Ze.AUDIO){!this.audioOnly&&i.type===Ze.MAIN&&!i.elementaryStreams.video&&!i.elementaryStreams.audiovideo&&(this.audioOnly=!0,this.mainFragLoading=null);return}if(this.fragContextChanged(i)){this.warn(`Fragment ${i.sn}${l?" p: "+l.index:""} of level ${i.level} finished buffering, but was aborted. state: ${this.state}, audioSwitch: ${this.switchingTrack?this.switchingTrack.name:"false"}`);return}if(Kr(i)){this.fragPrevious=i;const d=this.switchingTrack;d&&(this.bufferedTrack=d,this.switchingTrack=null,this.hls.trigger(F.AUDIO_TRACK_SWITCHED,pr({},d)))}this.fragBufferedComplete(i,l),this.media&&this.tick()}onError(t,n){var i;if(n.fatal){this.state=Jt.ERROR;return}switch(n.details){case Ot.FRAG_GAP:case Ot.FRAG_PARSING_ERROR:case Ot.FRAG_DECRYPT_ERROR:case Ot.FRAG_LOAD_ERROR:case Ot.FRAG_LOAD_TIMEOUT:case Ot.KEY_LOAD_ERROR:case Ot.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Ze.AUDIO,n);break;case Ot.AUDIO_TRACK_LOAD_ERROR:case Ot.AUDIO_TRACK_LOAD_TIMEOUT:case Ot.LEVEL_PARSING_ERROR:!n.levelRetry&&this.state===Jt.WAITING_TRACK&&((i=n.context)==null?void 0:i.type)===jn.AUDIO_TRACK&&(this.state=Jt.IDLE);break;case Ot.BUFFER_ADD_CODEC_ERROR:case Ot.BUFFER_APPEND_ERROR:if(n.parent!=="audio")return;this.reduceLengthAndFlushBuffer(n)||this.resetLoadingState();break;case Ot.BUFFER_FULL_ERROR:if(n.parent!=="audio")return;this.reduceLengthAndFlushBuffer(n)&&(this.bufferedTrack=null,super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"));break;case Ot.INTERNAL_EXCEPTION:this.recoverWorkerError(n);break}}onBufferFlushing(t,{type:n}){n!==Er.VIDEO&&(this.flushing=!0)}onBufferFlushed(t,{type:n}){if(n!==Er.VIDEO){this.flushing=!1,this.bufferFlushed=!0,this.state===Jt.ENDED&&(this.state=Jt.IDLE);const i=this.mediaBuffer||this.media;i&&(this.afterBufferFlushed(i,n,Ze.AUDIO),this.tick())}}_handleTransmuxComplete(t){var n;const i="audio",{hls:l}=this,{remuxResult:d,chunkMeta:a}=t,c=this.getCurrentContext(a);if(!c){this.resetWhenMissingContext(a);return}const{frag:e,part:o,level:u}=c,{details:f}=u,{audio:A,text:p,id3:m,initSegment:y}=d;if(this.fragContextChanged(e)||!f){this.fragmentTracker.removeFragment(e);return}if(this.state=Jt.PARSING,this.switchingTrack&&A&&this.completeAudioSwitch(this.switchingTrack),y!=null&&y.tracks){const E=e.initSegment||e;if(this.unhandledEncryptionError(y,e))return;this._bufferInitSegment(u,y.tracks,E,a),l.trigger(F.FRAG_PARSING_INIT_SEGMENT,{frag:E,id:i,tracks:y.tracks})}if(A){const{startPTS:E,endPTS:C,startDTS:T,endDTS:x}=A;o&&(o.elementaryStreams[Er.AUDIO]={startPTS:E,endPTS:C,startDTS:T,endDTS:x}),e.setElementaryStreamInfo(Er.AUDIO,E,C,T,x),this.bufferFragmentData(A,e,o,a)}if(m!=null&&(n=m.samples)!=null&&n.length){const E=mr({id:i,frag:e,details:f},m);l.trigger(F.FRAG_PARSING_METADATA,E)}if(p){const E=mr({id:i,frag:e,details:f},p);l.trigger(F.FRAG_PARSING_USERDATA,E)}}_bufferInitSegment(t,n,i,l){if(this.state!==Jt.PARSING||(n.video&&delete n.video,n.audiovideo&&delete n.audiovideo,!n.audio))return;const d=n.audio;d.id=Ze.AUDIO;const a=t.audioCodec;this.log(`Init audio buffer, container:${d.container}, codecs[level/parsed]=[${a}/${d.codec}]`),a&&a.split(",").length===1&&(d.levelCodec=a),this.hls.trigger(F.BUFFER_CODECS,n);const c=d.initSegment;if(c!=null&&c.byteLength){const e={type:"audio",frag:i,part:null,chunkMeta:l,parent:i.type,data:c};this.hls.trigger(F.BUFFER_APPENDING,e)}this.tickImmediate()}loadFragment(t,n,i){const l=this.fragmentTracker.getState(t);if(this.switchingTrack||l===ti.NOT_LOADED||l===ti.PARTIAL){var d;if(!Kr(t))this._loadInitSegment(t,n);else if((d=n.details)!=null&&d.live&&!this.initPTS[t.cc]){this.log(`Waiting for video PTS in continuity counter ${t.cc} of live stream before loading audio fragment ${t.sn} of level ${this.trackId}`),this.state=Jt.WAITING_INIT_PTS;const a=this.mainDetails;a&&a.fragmentStart!==n.details.fragmentStart&&Qc(n.details,a)}else super.loadFragment(t,n,i)}else this.clearTrackerIfNeeded(t)}flushAudioIfNeeded(t){if(this.media&&this.bufferedTrack){const{name:n,lang:i,assocLang:l,characteristics:d,audioCodec:a,channels:c}=this.bufferedTrack;vo({name:n,lang:i,assocLang:l,characteristics:d,audioCodec:a,channels:c},t,mo)||(Nc(t.url,this.hls)?(this.log("Switching audio track : flushing all audio"),super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"),this.bufferedTrack=null):this.bufferedTrack=t)}}completeAudioSwitch(t){const{hls:n}=this;this.flushAudioIfNeeded(t),this.bufferedTrack=t,this.switchingTrack=null,n.trigger(F.AUDIO_TRACK_SWITCHED,pr({},t))}}class jh extends ss{constructor(t,n){super(n,t.logger),this.hls=void 0,this.canLoad=!1,this.timer=-1,this.hls=t}destroy(){this.clearTimer(),this.hls=this.log=this.warn=null}clearTimer(){this.timer!==-1&&(self.clearTimeout(this.timer),this.timer=-1)}startLoad(){this.canLoad=!0,this.loadPlaylist()}stopLoad(){this.canLoad=!1,this.clearTimer()}switchParams(t,n,i){const l=n?.renditionReports;if(l){let d=-1;for(let a=0;a<l.length;a++){const c=l[a];let e;try{e=new self.URL(c.URI,n.url).href}catch(o){this.warn(`Could not construct new URL for Rendition Report: ${o}`),e=c.URI||""}if(e===t){d=a;break}else e===t.substring(0,e.length)&&(d=a)}if(d!==-1){const a=l[d],c=parseInt(a["LAST-MSN"])||n.lastPartSn;let e=parseInt(a["LAST-PART"])||n.lastPartIndex;if(this.hls.config.lowLatencyMode){const u=Math.min(n.age-n.partTarget,n.targetduration);e>=0&&u>n.partTarget&&(e+=1)}const o=i&&o0(i);return new l0(c,e>=0?e:void 0,o)}}}loadPlaylist(t){this.clearTimer()}loadingPlaylist(t,n){this.clearTimer()}shouldLoadPlaylist(t){return this.canLoad&&!!t&&!!t.url&&(!t.details||t.details.live)}getUrlWithDirectives(t,n){if(n)try{return n.addDirectives(t)}catch(i){this.warn(`Could not construct new URL with HLS Delivery Directives: ${i}`)}return t}playlistLoaded(t,n,i){const{details:l,stats:d}=n,a=self.performance.now(),c=d.loading.first?Math.max(0,a-d.loading.first):0;l.advancedDateTime=Date.now()-c;const e=this.hls.config.timelineOffset;if(e!==l.appliedTimelineOffset){const u=Math.max(e||0,0);l.appliedTimelineOffset=u,l.fragments.forEach(f=>{f.setStart(f.playlistOffset+u)})}if(l.live||i!=null&&i.live){const u="levelInfo"in n?n.levelInfo:n.track;if(l.reloaded(i),i&&l.fragments.length>0){eb(i,l,this);const T=l.playlistParsingError;if(T){this.warn(T);const x=this.hls;if(!x.config.ignorePlaylistParsingErrors){var o;const{networkDetails:L}=n;x.trigger(F.ERROR,{type:nn.NETWORK_ERROR,details:Ot.LEVEL_PARSING_ERROR,fatal:!1,url:l.url,error:T,reason:T.message,level:n.level||void 0,parent:(o=l.fragments[0])==null?void 0:o.type,networkDetails:L,stats:d});return}l.playlistParsingError=null}}l.requestScheduled===-1&&(l.requestScheduled=d.loading.start);const f=this.hls.mainForwardBufferInfo,A=f?f.end-f.len:0,p=(l.edge-A)*1e3,m=Gm(l,p);if(l.requestScheduled+m<a?l.requestScheduled=a:l.requestScheduled+=m,this.log(`live playlist ${t} ${l.advanced?"REFRESHED "+l.lastPartSn+"-"+l.lastPartIndex:l.updated?"UPDATED":"MISSED"}`),!this.canLoad||!l.live)return;let y,E,C;if(l.canBlockReload&&l.endSN&&l.advanced){const T=this.hls.config.lowLatencyMode,x=l.lastPartSn,L=l.endSN,D=l.lastPartIndex,B=D!==-1,O=x===L;B?O?(E=L+1,C=T?0:D):(E=x,C=T?D+1:l.maxPartIndex):E=L+1;const _=l.age,M=_+l.ageHeader;let U=Math.min(M-l.partTarget,l.targetduration*1.5);if(U>0){if(M>l.targetduration*3)this.log(`Playlist last advanced ${_.toFixed(2)}s ago. Omitting segment and part directives.`),E=void 0,C=void 0;else if(i!=null&&i.tuneInGoal&&M-l.partTarget>i.tuneInGoal)this.warn(`CDN Tune-in goal increased from: ${i.tuneInGoal} to: ${U} with playlist age: ${l.age}`),U=0;else{const Q=Math.floor(U/l.targetduration);if(E+=Q,C!==void 0){const $=Math.round(U%l.targetduration/l.partTarget);C+=$}this.log(`CDN Tune-in age: ${l.ageHeader}s last advanced ${_.toFixed(2)}s goal: ${U} skip sn ${Q} to part ${C}`)}l.tuneInGoal=U}if(y=this.getDeliveryDirectives(l,n.deliveryDirectives,E,C),T||!O){l.requestScheduled=a,this.loadingPlaylist(u,y);return}}else(l.canBlockReload||l.canSkipUntil)&&(y=this.getDeliveryDirectives(l,n.deliveryDirectives,E,C));y&&E!==void 0&&l.canBlockReload&&(l.requestScheduled=d.loading.first+Math.max(m-c*2,m/2)),this.scheduleLoading(u,y,l)}else this.clearTimer()}scheduleLoading(t,n,i){const l=i||t.details;if(!l){this.loadingPlaylist(t,n);return}const d=self.performance.now(),a=l.requestScheduled;if(d>=a){this.loadingPlaylist(t,n);return}const c=a-d;this.log(`reload live playlist ${t.name||t.bitrate+"bps"} in ${Math.round(c)} ms`),this.clearTimer(),this.timer=self.setTimeout(()=>this.loadingPlaylist(t,n),c)}getDeliveryDirectives(t,n,i,l){let d=o0(t);return n!=null&&n.skip&&t.deltaUpdateFailed&&(i=n.msn,l=n.part,d=Lc.No),new l0(i,l,d)}checkRetry(t){const n=t.details,i=Uc(t),l=t.errorAction,{action:d,retryCount:a=0,retryConfig:c}=l||{},e=!!l&&!!c&&(d===di.RetryRequest||!l.resolved&&d===di.SendAlternateToPenaltyBox);if(e){var o;if(a>=c.maxNumRetry)return!1;if(i&&(o=t.context)!=null&&o.deliveryDirectives)this.warn(`Retrying playlist loading ${a+1}/${c.maxNumRetry} after "${n}" without delivery-directives`),this.loadPlaylist();else{const u=Oh(c,a);this.clearTimer(),this.timer=self.setTimeout(()=>this.loadPlaylist(),u),this.warn(`Retrying playlist loading ${a+1}/${c.maxNumRetry} after "${n}" in ${u}ms`)}t.levelRetry=!0,l.resolved=!0}return e}}function dv(g,t){if(g.length!==t.length)return!1;for(let n=0;n<g.length;n++)if(!au(g[n].attrs,t[n].attrs))return!1;return!0}function au(g,t,n){const i=g["STABLE-RENDITION-ID"];return i&&!n?i===t["STABLE-RENDITION-ID"]:!(n||["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED","ASSOC-LANGUAGE"]).some(l=>g[l]!==t[l])}function yh(g,t){return t.label.toLowerCase()===g.name.toLowerCase()&&(!t.language||t.language.toLowerCase()===(g.lang||"").toLowerCase())}class cC extends jh{constructor(t){super(t,"audio-track-controller"),this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.registerListeners()}registerListeners(){const{hls:t}=this;t.on(F.MANIFEST_LOADING,this.onManifestLoading,this),t.on(F.MANIFEST_PARSED,this.onManifestParsed,this),t.on(F.LEVEL_LOADING,this.onLevelLoading,this),t.on(F.LEVEL_SWITCHING,this.onLevelSwitching,this),t.on(F.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.on(F.ERROR,this.onError,this)}unregisterListeners(){const{hls:t}=this;t.off(F.MANIFEST_LOADING,this.onManifestLoading,this),t.off(F.MANIFEST_PARSED,this.onManifestParsed,this),t.off(F.LEVEL_LOADING,this.onLevelLoading,this),t.off(F.LEVEL_SWITCHING,this.onLevelSwitching,this),t.off(F.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.off(F.ERROR,this.onError,this)}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,super.destroy()}onManifestLoading(){this.tracks=[],this.tracksInGroup=[],this.groupIds=null,this.currentTrack=null,this.trackId=-1,this.selectDefaultTrack=!0}onManifestParsed(t,n){this.tracks=n.audioTracks||[]}onAudioTrackLoaded(t,n){const{id:i,groupId:l,details:d}=n,a=this.tracksInGroup[i];if(!a||a.groupId!==l){this.warn(`Audio track with id:${i} and group:${l} not found in active group ${a?.groupId}`);return}const c=a.details;a.details=n.details,this.log(`Audio track ${i} "${a.name}" lang:${a.lang} group:${l} loaded [${d.startSN}-${d.endSN}]`),i===this.trackId&&this.playlistLoaded(i,n,c)}onLevelLoading(t,n){this.switchLevel(n.level)}onLevelSwitching(t,n){this.switchLevel(n.level)}switchLevel(t){const n=this.hls.levels[t];if(!n)return;const i=n.audioGroups||null,l=this.groupIds;let d=this.currentTrack;if(!i||l?.length!==i?.length||i!=null&&i.some(c=>l?.indexOf(c)===-1)){this.groupIds=i,this.trackId=-1,this.currentTrack=null;const c=this.tracks.filter(A=>!i||i.indexOf(A.groupId)!==-1);if(c.length)this.selectDefaultTrack&&!c.some(A=>A.default)&&(this.selectDefaultTrack=!1),c.forEach((A,p)=>{A.id=p});else if(!d&&!this.tracksInGroup.length)return;this.tracksInGroup=c;const e=this.hls.config.audioPreference;if(!d&&e){const A=_s(e,c,mo);if(A>-1)d=c[A];else{const p=_s(e,this.tracks);d=this.tracks[p]}}let o=this.findTrackId(d);o===-1&&d&&(o=this.findTrackId(null));const u={audioTracks:c};this.log(`Updating audio tracks, ${c.length} track(s) found in group(s): ${i?.join(",")}`),this.hls.trigger(F.AUDIO_TRACKS_UPDATED,u);const f=this.trackId;if(o!==-1&&f===-1)this.setAudioTrack(o);else if(c.length&&f===-1){var a;const A=new Error(`No audio track selected for current audio group-ID(s): ${(a=this.groupIds)==null?void 0:a.join(",")} track count: ${c.length}`);this.warn(A.message),this.hls.trigger(F.ERROR,{type:nn.MEDIA_ERROR,details:Ot.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:A})}}}onError(t,n){n.fatal||!n.context||n.context.type===jn.AUDIO_TRACK&&n.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(n.context.groupId)!==-1)&&this.checkRetry(n)}get allAudioTracks(){return this.tracks}get audioTracks(){return this.tracksInGroup}get audioTrack(){return this.trackId}set audioTrack(t){this.selectDefaultTrack=!1,this.setAudioTrack(t)}setAudioOption(t){const n=this.hls;if(n.config.audioPreference=t,t){const i=this.allAudioTracks;if(this.selectDefaultTrack=!1,i.length){const l=this.currentTrack;if(l&&vo(t,l,mo))return l;const d=_s(t,this.tracksInGroup,mo);if(d>-1){const a=this.tracksInGroup[d];return this.setAudioTrack(d),a}else if(l){let a=n.loadLevel;a===-1&&(a=n.firstAutoLevel);const c=EE(t,n.levels,i,a,mo);if(c===-1)return null;n.nextLoadLevel=c}if(t.channels||t.audioCodec){const a=_s(t,i);if(a>-1)return i[a]}}}return null}setAudioTrack(t){const n=this.tracksInGroup;if(t<0||t>=n.length){this.warn(`Invalid audio track id: ${t}`);return}this.selectDefaultTrack=!1;const i=this.currentTrack,l=n[t],d=l.details&&!l.details.live;if(t===this.trackId&&l===i&&d||(this.log(`Switching to audio-track ${t} "${l.name}" lang:${l.lang} group:${l.groupId} channels:${l.channels}`),this.trackId=t,this.currentTrack=l,this.hls.trigger(F.AUDIO_TRACK_SWITCHING,pr({},l)),d))return;const a=this.switchParams(l.url,i?.details,l.details);this.loadPlaylist(a)}findTrackId(t){const n=this.tracksInGroup;for(let i=0;i<n.length;i++){const l=n[i];if(!(this.selectDefaultTrack&&!l.default)&&(!t||vo(t,l,mo)))return i}if(t){const{name:i,lang:l,assocLang:d,characteristics:a,audioCodec:c,channels:e}=t;for(let o=0;o<n.length;o++){const u=n[o];if(vo({name:i,lang:l,assocLang:d,characteristics:a,audioCodec:c,channels:e},u,mo))return o}for(let o=0;o<n.length;o++){const u=n[o];if(au(t.attrs,u.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return o}for(let o=0;o<n.length;o++){const u=n[o];if(au(t.attrs,u.attrs,["LANGUAGE"]))return o}}return-1}loadPlaylist(t){super.loadPlaylist();const n=this.currentTrack;this.shouldLoadPlaylist(n)&&Nc(n.url,this.hls)&&this.scheduleLoading(n,t)}loadingPlaylist(t,n){super.loadingPlaylist(t,n);const i=t.id,l=t.groupId,d=this.getUrlWithDirectives(t.url,n),a=t.details,c=a?.age;this.log(`Loading audio-track ${i} "${t.name}" lang:${t.lang} group:${l}${n?.msn!==void 0?" at sn "+n.msn+" part "+n.part:""}${c&&a.live?" age "+c.toFixed(1)+(a.type&&" "+a.type||""):""} ${d}`),this.hls.trigger(F.AUDIO_TRACK_LOADING,{url:d,id:i,groupId:l,deliveryDirectives:n||null,track:t})}}class fC{constructor(t){this.tracks=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.tracks=t}destroy(){this.tracks=this.queues=null}append(t,n,i){if(this.queues===null||this.tracks===null)return;const l=this.queues[n];l.push(t),l.length===1&&!i&&this.executeNext(n)}appendBlocker(t){return new Promise(n=>{const i={label:"async-blocker",execute:n,onStart:()=>{},onComplete:()=>{},onError:()=>{}};this.append(i,t)})}prependBlocker(t){return new Promise(n=>{if(this.queues){const i={label:"async-blocker-prepend",execute:n,onStart:()=>{},onComplete:()=>{},onError:()=>{}};this.queues[t].unshift(i)}})}removeBlockers(){this.queues!==null&&[this.queues.video,this.queues.audio,this.queues.audiovideo].forEach(t=>{var n;const i=(n=t[0])==null?void 0:n.label;(i==="async-blocker"||i==="async-blocker-prepend")&&(t[0].execute(),t.splice(0,1))})}unblockAudio(t){if(this.queues===null)return;this.queues.audio[0]===t&&this.shiftAndExecuteNext("audio")}executeNext(t){if(this.queues===null||this.tracks===null)return;const n=this.queues[t];if(n.length){const l=n[0];try{l.execute()}catch(d){var i;if(l.onError(d),this.queues===null||this.tracks===null)return;const a=(i=this.tracks[t])==null?void 0:i.buffer;a!=null&&a.updating||this.shiftAndExecuteNext(t)}}}shiftAndExecuteNext(t){this.queues!==null&&(this.queues[t].shift(),this.executeNext(t))}current(t){var n;return((n=this.queues)==null?void 0:n[t][0])||null}toString(){const{queues:t,tracks:n}=this;return t===null||n===null?"<destroyed>":`
${this.list("video")}
${this.list("audio")}
${this.list("audiovideo")}}`}list(t){var n,i;return(n=this.queues)!=null&&n[t]||(i=this.tracks)!=null&&i[t]?`${t}: (${this.listSbInfo(t)}) ${this.listOps(t)}`:""}listSbInfo(t){var n;const i=(n=this.tracks)==null?void 0:n[t],l=i?.buffer;return l?`SourceBuffer${l.updating?" updating":""}${i.ended?" ended":""}${i.ending?" ending":""}`:"none"}listOps(t){var n;return((n=this.queues)==null?void 0:n[t].map(i=>i.label).join(", "))||""}}const V0=/(avc[1234]|hvc1|hev1|dvh[1e]|vp09|av01)(?:\.[^.,]+)+/,hv="HlsJsTrackRemovedError";class dC extends Error{constructor(t){super(t),this.name=hv}}class hC extends ss{constructor(t,n){super("buffer-controller",t.logger),this.hls=void 0,this.fragmentTracker=void 0,this.details=null,this._objectUrl=null,this.operationQueue=null,this.bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.blockedAudioAppend=null,this.lastVideoAppendEnd=0,this.appendSource=void 0,this.transferData=void 0,this.overrides=void 0,this.appendErrors={audio:0,video:0,audiovideo:0},this.tracks={},this.sourceBuffers=[[null,null],[null,null]],this._onEndStreaming=i=>{var l;this.hls&&((l=this.mediaSource)==null?void 0:l.readyState)==="open"&&this.hls.pauseBuffering()},this._onStartStreaming=i=>{this.hls&&this.hls.resumeBuffering()},this._onMediaSourceOpen=i=>{const{media:l,mediaSource:d}=this;i&&this.log("Media source opened"),!(!l||!d)&&(d.removeEventListener("sourceopen",this._onMediaSourceOpen),l.removeEventListener("emptied",this._onMediaEmptied),this.updateDuration(),this.hls.trigger(F.MEDIA_ATTACHED,{media:l,mediaSource:d}),this.mediaSource!==null&&this.checkPendingTracks())},this._onMediaSourceClose=()=>{this.log("Media source closed")},this._onMediaSourceEnded=()=>{this.log("Media source ended")},this._onMediaEmptied=()=>{const{mediaSrc:i,_objectUrl:l}=this;i!==l&&this.error(`Media element src was set while attaching MediaSource (${l} > ${i})`)},this.hls=t,this.fragmentTracker=n,this.appendSource=P1(Ga(t.config.preferManagedMediaSource)),this.initTracks(),this.registerListeners()}hasSourceTypes(){return Object.keys(this.tracks).length>0}destroy(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=this.blockedAudioAppend=null,this.transferData=this.overrides=void 0,this.operationQueue&&(this.operationQueue.destroy(),this.operationQueue=null),this.hls=this.fragmentTracker=null,this._onMediaSourceOpen=this._onMediaSourceClose=null,this._onMediaSourceEnded=null,this._onStartStreaming=this._onEndStreaming=null}registerListeners(){const{hls:t}=this;t.on(F.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(F.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(F.MANIFEST_LOADING,this.onManifestLoading,this),t.on(F.MANIFEST_PARSED,this.onManifestParsed,this),t.on(F.BUFFER_RESET,this.onBufferReset,this),t.on(F.BUFFER_APPENDING,this.onBufferAppending,this),t.on(F.BUFFER_CODECS,this.onBufferCodecs,this),t.on(F.BUFFER_EOS,this.onBufferEos,this),t.on(F.BUFFER_FLUSHING,this.onBufferFlushing,this),t.on(F.LEVEL_UPDATED,this.onLevelUpdated,this),t.on(F.FRAG_PARSED,this.onFragParsed,this),t.on(F.FRAG_CHANGED,this.onFragChanged,this),t.on(F.ERROR,this.onError,this)}unregisterListeners(){const{hls:t}=this;t.off(F.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(F.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(F.MANIFEST_LOADING,this.onManifestLoading,this),t.off(F.MANIFEST_PARSED,this.onManifestParsed,this),t.off(F.BUFFER_RESET,this.onBufferReset,this),t.off(F.BUFFER_APPENDING,this.onBufferAppending,this),t.off(F.BUFFER_CODECS,this.onBufferCodecs,this),t.off(F.BUFFER_EOS,this.onBufferEos,this),t.off(F.BUFFER_FLUSHING,this.onBufferFlushing,this),t.off(F.LEVEL_UPDATED,this.onLevelUpdated,this),t.off(F.FRAG_PARSED,this.onFragParsed,this),t.off(F.FRAG_CHANGED,this.onFragChanged,this),t.off(F.ERROR,this.onError,this)}transferMedia(){const{media:t,mediaSource:n}=this;if(!t)return null;const i={};if(this.operationQueue){const d=this.isUpdating();d||this.operationQueue.removeBlockers();const a=this.isQueued();(d||a)&&this.warn(`Transfering MediaSource with${a?" operations in queue":""}${d?" updating SourceBuffer(s)":""} ${this.operationQueue}`),this.operationQueue.destroy()}const l=this.transferData;return!this.sourceBufferCount&&l&&l.mediaSource===n?mr(i,l.tracks):this.sourceBuffers.forEach(d=>{const[a]=d;a&&(i[a]=mr({},this.tracks[a]),this.removeBuffer(a)),d[0]=d[1]=null}),{media:t,mediaSource:n,tracks:i}}initTracks(){const t={};this.sourceBuffers=[[null,null],[null,null]],this.tracks=t,this.resetQueue(),this.resetAppendErrors(),this.lastMpegAudioChunk=this.blockedAudioAppend=null,this.lastVideoAppendEnd=0}onManifestLoading(){this.bufferCodecEventsTotal=0,this.details=null}onManifestParsed(t,n){var i;let l=2;(n.audio&&!n.video||!n.altAudio)&&(l=1),this.bufferCodecEventsTotal=l,this.log(`${l} bufferCodec event(s) expected.`),(i=this.transferData)!=null&&i.mediaSource&&this.sourceBufferCount&&l&&this.bufferCreated()}onMediaAttaching(t,n){const i=this.media=n.media;this.transferData=this.overrides=void 0;const l=Ga(this.appendSource);if(l){const d=!!n.mediaSource;(d||n.overrides)&&(this.transferData=n,this.overrides=n.overrides);const a=this.mediaSource=n.mediaSource||new l;if(this.assignMediaSource(a),d)this._objectUrl=i.src,this.attachTransferred();else{const c=this._objectUrl=self.URL.createObjectURL(a);if(this.appendSource)try{i.removeAttribute("src");const e=self.ManagedMediaSource;i.disableRemotePlayback=i.disableRemotePlayback||e&&a instanceof e,j0(i),AC(i,c),i.load()}catch{i.src=c}else i.src=c}i.addEventListener("emptied",this._onMediaEmptied)}}assignMediaSource(t){var n,i;this.log(`${((n=this.transferData)==null?void 0:n.mediaSource)===t?"transferred":"created"} media source: ${(i=t.constructor)==null?void 0:i.name}`),t.addEventListener("sourceopen",this._onMediaSourceOpen),t.addEventListener("sourceended",this._onMediaSourceEnded),t.addEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(t.addEventListener("startstreaming",this._onStartStreaming),t.addEventListener("endstreaming",this._onEndStreaming))}attachTransferred(){const t=this.media,n=this.transferData;if(!n||!t)return;const i=this.tracks,l=n.tracks,d=l?Object.keys(l):null,a=d?d.length:0,c=()=>{Promise.resolve().then(()=>{this.media&&this.mediaSourceOpenOrEnded&&this._onMediaSourceOpen()})};if(l&&d&&a){if(!this.tracksReady){this.hls.config.startFragPrefetch=!0,this.log("attachTransferred: waiting for SourceBuffer track info");return}if(this.log(`attachTransferred: (bufferCodecEventsTotal ${this.bufferCodecEventsTotal})
required tracks: ${wr(i,(e,o)=>e==="initSegment"?void 0:o)};
transfer tracks: ${wr(l,(e,o)=>e==="initSegment"?void 0:o)}}`),!Am(l,i)){n.mediaSource=null,n.tracks=void 0;const e=t.currentTime,o=this.details,u=Math.max(e,o?.fragments[0].start||0);if(u-e>1){this.log(`attachTransferred: waiting for playback to reach new tracks start time ${e} -> ${u}`);return}this.warn(`attachTransferred: resetting MediaSource for incompatible tracks ("${Object.keys(l)}"->"${Object.keys(i)}") start time: ${u} currentTime: ${e}`),this.onMediaDetaching(F.MEDIA_DETACHING,{}),this.onMediaAttaching(F.MEDIA_ATTACHING,n),t.currentTime=u;return}this.transferData=void 0,d.forEach(e=>{const o=e,u=l[o];if(u){const f=u.buffer;if(f){const A=this.fragmentTracker,p=u.id;if(A.hasFragments(p)||A.hasParts(p)){const E=_n.getBuffered(f);A.detectEvictedFragments(o,E,p,null,!0)}const m=Kd(o),y=[o,f];this.sourceBuffers[m]=y,f.updating&&this.operationQueue&&this.operationQueue.prependBlocker(o),this.trackSourceBuffer(o,u)}}}),c(),this.bufferCreated()}else this.log("attachTransferred: MediaSource w/o SourceBuffers"),c()}get mediaSourceOpenOrEnded(){var t;const n=(t=this.mediaSource)==null?void 0:t.readyState;return n==="open"||n==="ended"}onMediaDetaching(t,n){const i=!!n.transferMedia;this.transferData=this.overrides=void 0;const{media:l,mediaSource:d,_objectUrl:a}=this;if(d){if(this.log(`media source ${i?"transferring":"detaching"}`),i)this.sourceBuffers.forEach(([c])=>{c&&this.removeBuffer(c)}),this.resetQueue();else{if(this.mediaSourceOpenOrEnded){const c=d.readyState==="open";try{const e=d.sourceBuffers;for(let o=e.length;o--;)c&&e[o].abort(),d.removeSourceBuffer(e[o]);c&&d.endOfStream()}catch(e){this.warn(`onMediaDetaching: ${e.message} while calling endOfStream`)}}this.sourceBufferCount&&this.onBufferReset()}d.removeEventListener("sourceopen",this._onMediaSourceOpen),d.removeEventListener("sourceended",this._onMediaSourceEnded),d.removeEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(d.removeEventListener("startstreaming",this._onStartStreaming),d.removeEventListener("endstreaming",this._onEndStreaming)),this.mediaSource=null,this._objectUrl=null}l&&(l.removeEventListener("emptied",this._onMediaEmptied),i||(a&&self.URL.revokeObjectURL(a),this.mediaSrc===a?(l.removeAttribute("src"),this.appendSource&&j0(l),l.load()):this.warn("media|source.src was changed by a third party - skip cleanup")),this.media=null),this.hls.trigger(F.MEDIA_DETACHED,n)}onBufferReset(){this.sourceBuffers.forEach(([t])=>{t&&this.resetBuffer(t)}),this.initTracks()}resetBuffer(t){var n;const i=(n=this.tracks[t])==null?void 0:n.buffer;if(this.removeBuffer(t),i)try{var l;(l=this.mediaSource)!=null&&l.sourceBuffers.length&&this.mediaSource.removeSourceBuffer(i)}catch(d){this.warn(`onBufferReset ${t}`,d)}delete this.tracks[t]}removeBuffer(t){this.removeBufferListeners(t),this.sourceBuffers[Kd(t)]=[null,null];const n=this.tracks[t];n&&(n.buffer=void 0)}resetQueue(){this.operationQueue&&this.operationQueue.destroy(),this.operationQueue=new fC(this.tracks)}onBufferCodecs(t,n){const i=this.tracks,l=Object.keys(n);this.log(`BUFFER_CODECS: "${l}" (current SB count ${this.sourceBufferCount})`);const d="audiovideo"in n&&(i.audio||i.video)||i.audiovideo&&("audio"in n||"video"in n),a=!d&&this.sourceBufferCount&&this.media&&l.some(c=>!i[c]);if(d||a){this.warn(`Unsupported transition between "${Object.keys(i)}" and "${l}" SourceBuffers`);return}l.forEach(c=>{var e,o;const u=n[c],{id:f,codec:A,levelCodec:p,container:m,metadata:y,supplemental:E}=u;let C=i[c];const T=(e=this.transferData)==null||(e=e.tracks)==null?void 0:e[c],x=T!=null&&T.buffer?T:C,L=x?.pendingCodec||x?.codec,D=x?.levelCodec;C||(C=i[c]={buffer:void 0,listeners:[],codec:A,supplemental:E,container:m,levelCodec:p,metadata:y,id:f});const B=wc(L,D),O=B?.replace(V0,"$1");let _=wc(A,p);const M=(o=_)==null?void 0:o.replace(V0,"$1");_&&B&&O!==M&&(c.slice(0,5)==="audio"&&(_=Mc(_,this.appendSource)),this.log(`switching codec ${L} to ${_}`),_!==(C.pendingCodec||C.codec)&&(C.pendingCodec=_),C.container=m,this.appendChangeType(c,m,_))}),(this.tracksReady||this.sourceBufferCount)&&(n.tracks=this.sourceBufferTracks),!this.sourceBufferCount&&this.mediaSourceOpenOrEnded&&this.checkPendingTracks()}get sourceBufferTracks(){return Object.keys(this.tracks).reduce((t,n)=>{const i=this.tracks[n];return t[n]={id:i.id,container:i.container,codec:i.codec,levelCodec:i.levelCodec},t},{})}appendChangeType(t,n,i){const l=`${n};codecs=${i}`,d={label:`change-type=${l}`,execute:()=>{const a=this.tracks[t];if(a){const c=a.buffer;c!=null&&c.changeType&&(this.log(`changing ${t} sourceBuffer type to ${l}`),c.changeType(l),a.codec=i,a.container=n)}this.shiftAndExecuteNext(t)},onStart:()=>{},onComplete:()=>{},onError:a=>{this.warn(`Failed to change ${t} SourceBuffer type`,a)}};this.append(d,t,this.isPending(this.tracks[t]))}blockAudio(t){var n;const i=t.start,l=i+t.duration*.05;if(((n=this.fragmentTracker.getAppendedFrag(i,Ze.MAIN))==null?void 0:n.gap)===!0)return;const a={label:"block-audio",execute:()=>{var c;const e=this.tracks.video;(this.lastVideoAppendEnd>l||e!=null&&e.buffer&&_n.isBuffered(e.buffer,l)||((c=this.fragmentTracker.getAppendedFrag(l,Ze.MAIN))==null?void 0:c.gap)===!0)&&(this.blockedAudioAppend=null,this.shiftAndExecuteNext("audio"))},onStart:()=>{},onComplete:()=>{},onError:c=>{this.warn("Error executing block-audio operation",c)}};this.blockedAudioAppend={op:a,frag:t},this.append(a,"audio",!0)}unblockAudio(){const{blockedAudioAppend:t,operationQueue:n}=this;t&&n&&(this.blockedAudioAppend=null,n.unblockAudio(t.op))}onBufferAppending(t,n){const{tracks:i}=this,{data:l,type:d,parent:a,frag:c,part:e,chunkMeta:o,offset:u}=n,f=o.buffering[d],{sn:A,cc:p}=c,m=self.performance.now();f.start=m;const y=c.stats.buffering,E=e?e.stats.buffering:null;y.start===0&&(y.start=m),E&&E.start===0&&(E.start=m);const C=i.audio;let T=!1;d==="audio"&&C?.container==="audio/mpeg"&&(T=!this.lastMpegAudioChunk||o.id===1||this.lastMpegAudioChunk.sn!==o.sn,this.lastMpegAudioChunk=o);const x=i.video,L=x?.buffer;if(L&&A!=="initSegment"){const O=e||c,_=this.blockedAudioAppend;if(d==="audio"&&a!=="main"&&!this.blockedAudioAppend&&!(x.ending||x.ended)){const U=O.start+O.duration*.05,Q=L.buffered,$=this.currentOp("video");!Q.length&&!$?this.blockAudio(O):!$&&!_n.isBuffered(L,U)&&this.lastVideoAppendEnd<U&&this.blockAudio(O)}else if(d==="video"){const M=O.end;if(_){const U=_.frag.start;(M>U||M<this.lastVideoAppendEnd||_n.isBuffered(L,U))&&this.unblockAudio()}this.lastVideoAppendEnd=M}}const D=(e||c).start,B={label:`append-${d}`,execute:()=>{var O;f.executeStart=self.performance.now();const _=(O=this.tracks[d])==null?void 0:O.buffer;_&&(T?this.updateTimestampOffset(_,D,.1,d,A,p):u!==void 0&&Qe(u)&&this.updateTimestampOffset(_,u,1e-6,d,A,p)),this.appendExecutor(l,d)},onStart:()=>{},onComplete:()=>{const O=self.performance.now();f.executeEnd=f.end=O,y.first===0&&(y.first=O),E&&E.first===0&&(E.first=O);const _={};this.sourceBuffers.forEach(([M,U])=>{M&&(_[M]=_n.getBuffered(U))}),this.appendErrors[d]=0,d==="audio"||d==="video"?this.appendErrors.audiovideo=0:(this.appendErrors.audio=0,this.appendErrors.video=0),this.hls.trigger(F.BUFFER_APPENDED,{type:d,frag:c,part:e,chunkMeta:o,parent:c.type,timeRanges:_})},onError:O=>{var _;const M={type:nn.MEDIA_ERROR,parent:c.type,details:Ot.BUFFER_APPEND_ERROR,sourceBufferName:d,frag:c,part:e,chunkMeta:o,error:O,err:O,fatal:!1},U=(_=this.media)==null?void 0:_.error;if(O.code===DOMException.QUOTA_EXCEEDED_ERR||O.name=="QuotaExceededError"||"quota"in O)M.details=Ot.BUFFER_FULL_ERROR;else if(O.code===DOMException.INVALID_STATE_ERR&&this.mediaSourceOpenOrEnded&&!U)M.errorAction=sl(!0);else if(O.name===hv&&this.sourceBufferCount===0)M.errorAction=sl(!0);else{const Q=++this.appendErrors[d];this.warn(`Failed ${Q}/${this.hls.config.appendErrorMaxRetry} times to append segment in "${d}" sourceBuffer (${U||"no media error"})`),(Q>=this.hls.config.appendErrorMaxRetry||U)&&(M.fatal=!0)}this.hls.trigger(F.ERROR,M)}};this.append(B,d,this.isPending(this.tracks[d]))}getFlushOp(t,n,i){return this.log(`queuing "${t}" remove ${n}-${i}`),{label:"remove",execute:()=>{this.removeExecutor(t,n,i)},onStart:()=>{},onComplete:()=>{this.hls.trigger(F.BUFFER_FLUSHED,{type:t})},onError:l=>{this.warn(`Failed to remove ${n}-${i} from "${t}" SourceBuffer`,l)}}}onBufferFlushing(t,n){const{type:i,startOffset:l,endOffset:d}=n;i?this.append(this.getFlushOp(i,l,d),i):this.sourceBuffers.forEach(([a])=>{a&&this.append(this.getFlushOp(a,l,d),a)})}onFragParsed(t,n){const{frag:i,part:l}=n,d=[],a=l?l.elementaryStreams:i.elementaryStreams;a[Er.AUDIOVIDEO]?d.push("audiovideo"):(a[Er.AUDIO]&&d.push("audio"),a[Er.VIDEO]&&d.push("video"));const c=()=>{const e=self.performance.now();i.stats.buffering.end=e,l&&(l.stats.buffering.end=e);const o=l?l.stats:i.stats;this.hls.trigger(F.FRAG_BUFFERED,{frag:i,part:l,stats:o,id:i.type})};d.length===0&&this.warn(`Fragments must have at least one ElementaryStreamType set. type: ${i.type} level: ${i.level} sn: ${i.sn}`),this.blockBuffers(c,d).catch(e=>{this.warn(`Fragment buffered callback ${e}`),this.stepOperationQueue(this.sourceBufferTypes)})}onFragChanged(t,n){this.trimBuffers()}get bufferedToEnd(){return this.sourceBufferCount>0&&!this.sourceBuffers.some(([t])=>{if(t){const n=this.tracks[t];if(n)return!n.ended||n.ending}return!1})}onBufferEos(t,n){var i;this.sourceBuffers.forEach(([a])=>{if(a){const c=this.tracks[a];(!n.type||n.type===a)&&(c.ending=!0,c.ended||(c.ended=!0,this.log(`${a} buffer reached EOS`)))}});const l=((i=this.overrides)==null?void 0:i.endOfStream)!==!1;this.sourceBufferCount>0&&!this.sourceBuffers.some(([a])=>{var c;return a&&!((c=this.tracks[a])!=null&&c.ended)})?l?(this.log("Queueing EOS"),this.blockUntilOpen(()=>{this.tracksEnded();const{mediaSource:a}=this;if(!a||a.readyState!=="open"){a&&this.log(`Could not call mediaSource.endOfStream(). mediaSource.readyState: ${a.readyState}`);return}this.log("Calling mediaSource.endOfStream()"),a.endOfStream(),this.hls.trigger(F.BUFFERED_TO_END,void 0)})):(this.tracksEnded(),this.hls.trigger(F.BUFFERED_TO_END,void 0)):n.type==="video"&&this.unblockAudio()}tracksEnded(){this.sourceBuffers.forEach(([t])=>{if(t!==null){const n=this.tracks[t];n&&(n.ending=!1)}})}onLevelUpdated(t,{details:n}){n.fragments.length&&(this.details=n,this.updateDuration())}updateDuration(){this.blockUntilOpen(()=>{const t=this.getDurationAndRange();t&&this.updateMediaSource(t)})}onError(t,n){if(n.details===Ot.BUFFER_APPEND_ERROR&&n.frag){var i;const l=(i=n.errorAction)==null?void 0:i.nextAutoLevel;Qe(l)&&l!==n.frag.level&&this.resetAppendErrors()}}resetAppendErrors(){this.appendErrors={audio:0,video:0,audiovideo:0}}trimBuffers(){const{hls:t,details:n,media:i}=this;if(!i||n===null||!this.sourceBufferCount)return;const l=t.config,d=i.currentTime,a=n.levelTargetDuration,c=n.live&&l.liveBackBufferLength!==null?l.liveBackBufferLength:l.backBufferLength;if(Qe(c)&&c>=0){const o=Math.max(c,a),u=Math.floor(d/a)*a-o;this.flushBackBuffer(d,a,u)}const e=l.frontBufferFlushThreshold;if(Qe(e)&&e>0){const o=Math.max(l.maxBufferLength,e),u=Math.max(o,a),f=Math.floor(d/a)*a+u;this.flushFrontBuffer(d,a,f)}}flushBackBuffer(t,n,i){this.sourceBuffers.forEach(([l,d])=>{if(d){const c=_n.getBuffered(d);if(c.length>0&&i>c.start(0)){var a;this.hls.trigger(F.BACK_BUFFER_REACHED,{bufferEnd:i});const e=this.tracks[l];if((a=this.details)!=null&&a.live)this.hls.trigger(F.LIVE_BACK_BUFFER_REACHED,{bufferEnd:i});else if(e!=null&&e.ended){this.log(`Cannot flush ${l} back buffer while SourceBuffer is in ended state`);return}this.hls.trigger(F.BUFFER_FLUSHING,{startOffset:0,endOffset:i,type:l})}}})}flushFrontBuffer(t,n,i){this.sourceBuffers.forEach(([l,d])=>{if(d){const a=_n.getBuffered(d),c=a.length;if(c<2)return;const e=a.start(c-1),o=a.end(c-1);if(i>e||t>=e&&t<=o)return;this.hls.trigger(F.BUFFER_FLUSHING,{startOffset:e,endOffset:1/0,type:l})}})}getDurationAndRange(){var t;const{details:n,mediaSource:i}=this;if(!n||!this.media||i?.readyState!=="open")return null;const l=n.edge;if(n.live&&this.hls.config.liveDurationInfinity){if(n.fragments.length&&i.setLiveSeekableRange){const o=Math.max(0,n.fragmentStart),u=Math.max(o,l);return{duration:1/0,start:o,end:u}}return{duration:1/0}}const d=(t=this.overrides)==null?void 0:t.duration;if(d)return Qe(d)?{duration:d}:null;const a=this.media.duration,c=Qe(i.duration)?i.duration:0;return l>c&&l>a||!Qe(a)?{duration:l}:null}updateMediaSource({duration:t,start:n,end:i}){const l=this.mediaSource;!this.media||!l||l.readyState!=="open"||(l.duration!==t&&(Qe(t)&&this.log(`Updating MediaSource duration to ${t.toFixed(3)}`),l.duration=t),n!==void 0&&i!==void 0&&(this.log(`MediaSource duration is set to ${l.duration}. Setting seekable range to ${n}-${i}.`),l.setLiveSeekableRange(n,i)))}get tracksReady(){const t=this.pendingTrackCount;return t>0&&(t>=this.bufferCodecEventsTotal||this.isPending(this.tracks.audiovideo))}checkPendingTracks(){const{bufferCodecEventsTotal:t,pendingTrackCount:n,tracks:i}=this;if(this.log(`checkPendingTracks (pending: ${n} codec events expected: ${t}) ${wr(i)}`),this.tracksReady){var l;const d=(l=this.transferData)==null?void 0:l.tracks;d&&Object.keys(d).length?this.attachTransferred():this.createSourceBuffers()}}bufferCreated(){if(this.sourceBufferCount){const t={};this.sourceBuffers.forEach(([n,i])=>{if(n){const l=this.tracks[n];t[n]={buffer:i,container:l.container,codec:l.codec,supplemental:l.supplemental,levelCodec:l.levelCodec,id:l.id,metadata:l.metadata}}}),this.hls.trigger(F.BUFFER_CREATED,{tracks:t}),this.log(`SourceBuffers created. Running queue: ${this.operationQueue}`),this.sourceBuffers.forEach(([n])=>{this.executeNext(n)})}else{const t=new Error("could not create source buffer for media codec(s)");this.hls.trigger(F.ERROR,{type:nn.MEDIA_ERROR,details:Ot.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:t,reason:t.message})}}createSourceBuffers(){const{tracks:t,sourceBuffers:n,mediaSource:i}=this;if(!i)throw new Error("createSourceBuffers called when mediaSource was null");for(const d in t){const a=d,c=t[a];if(this.isPending(c)){const e=this.getTrackCodec(c,a),o=`${c.container};codecs=${e}`;c.codec=e,this.log(`creating sourceBuffer(${o})${this.currentOp(a)?" Queued":""} ${wr(c)}`);try{const u=i.addSourceBuffer(o),f=Kd(a),A=[a,u];n[f]=A,c.buffer=u}catch(u){var l;this.error(`error while trying to add sourceBuffer: ${u.message}`),this.shiftAndExecuteNext(a),(l=this.operationQueue)==null||l.removeBlockers(),delete this.tracks[a],this.hls.trigger(F.ERROR,{type:nn.MEDIA_ERROR,details:Ot.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:u,sourceBufferName:a,mimeType:o,parent:c.id});return}this.trackSourceBuffer(a,c)}}this.bufferCreated()}getTrackCodec(t,n){const i=t.supplemental;let l=t.codec;i&&(n==="video"||n==="audiovideo")&&uh(i,"video")&&(l=eE(l,i));const d=wc(l,t.levelCodec);return d?n.slice(0,5)==="audio"?Mc(d,this.appendSource):d:""}trackSourceBuffer(t,n){const i=n.buffer;if(!i)return;const l=this.getTrackCodec(n,t);this.tracks[t]={buffer:i,codec:l,container:n.container,levelCodec:n.levelCodec,supplemental:n.supplemental,metadata:n.metadata,id:n.id,listeners:[]},this.removeBufferListeners(t),this.addBufferListener(t,"updatestart",this.onSBUpdateStart),this.addBufferListener(t,"updateend",this.onSBUpdateEnd),this.addBufferListener(t,"error",this.onSBUpdateError),this.appendSource&&this.addBufferListener(t,"bufferedchange",(d,a)=>{const c=a.removedRanges;c!=null&&c.length&&this.hls.trigger(F.BUFFER_FLUSHED,{type:d})})}get mediaSrc(){var t,n;const i=((t=this.media)==null||(n=t.querySelector)==null?void 0:n.call(t,"source"))||this.media;return i?.src}onSBUpdateStart(t){const n=this.currentOp(t);n&&n.onStart()}onSBUpdateEnd(t){var n;if(((n=this.mediaSource)==null?void 0:n.readyState)==="closed"){this.resetBuffer(t);return}const i=this.currentOp(t);i&&(i.onComplete(),this.shiftAndExecuteNext(t))}onSBUpdateError(t,n){var i;const l=new Error(`${t} SourceBuffer error. MediaSource readyState: ${(i=this.mediaSource)==null?void 0:i.readyState}`);this.error(`${l}`,n),this.hls.trigger(F.ERROR,{type:nn.MEDIA_ERROR,details:Ot.BUFFER_APPENDING_ERROR,sourceBufferName:t,error:l,fatal:!1});const d=this.currentOp(t);d&&d.onError(l)}updateTimestampOffset(t,n,i,l,d,a){const c=n-t.timestampOffset;Math.abs(c)>=i&&(this.log(`Updating ${l} SourceBuffer timestampOffset to ${n} (sn: ${d} cc: ${a})`),t.timestampOffset=n)}removeExecutor(t,n,i){const{media:l,mediaSource:d}=this,a=this.tracks[t],c=a?.buffer;if(!l||!d||!c){this.warn(`Attempting to remove from the ${t} SourceBuffer, but it does not exist`),this.shiftAndExecuteNext(t);return}const e=Qe(l.duration)?l.duration:1/0,o=Qe(d.duration)?d.duration:1/0,u=Math.max(0,n),f=Math.min(i,e,o);f>u&&(!a.ending||a.ended)?(a.ended=!1,this.log(`Removing [${u},${f}] from the ${t} SourceBuffer`),c.remove(u,f)):this.shiftAndExecuteNext(t)}appendExecutor(t,n){const i=this.tracks[n],l=i?.buffer;if(!l)throw new dC(`Attempting to append to the ${n} SourceBuffer, but it does not exist`);i.ending=!1,i.ended=!1,l.appendBuffer(t)}blockUntilOpen(t){if(this.isUpdating()||this.isQueued())this.blockBuffers(t).catch(n=>{this.warn(`SourceBuffer blocked callback ${n}`),this.stepOperationQueue(this.sourceBufferTypes)});else try{t()}catch(n){this.warn(`Callback run without blocking ${this.operationQueue} ${n}`)}}isUpdating(){return this.sourceBuffers.some(([t,n])=>t&&n.updating)}isQueued(){return this.sourceBuffers.some(([t])=>t&&!!this.currentOp(t))}isPending(t){return!!t&&!t.buffer}blockBuffers(t,n=this.sourceBufferTypes){if(!n.length)return this.log("Blocking operation requested, but no SourceBuffers exist"),Promise.resolve().then(t);const{operationQueue:i}=this,l=n.map(a=>this.appendBlocker(a));return n.length>1&&!!this.blockedAudioAppend&&this.unblockAudio(),Promise.all(l).then(a=>{i===this.operationQueue&&(t(),this.stepOperationQueue(this.sourceBufferTypes))})}stepOperationQueue(t){t.forEach(n=>{var i;const l=(i=this.tracks[n])==null?void 0:i.buffer;!l||l.updating||this.shiftAndExecuteNext(n)})}append(t,n,i){this.operationQueue&&this.operationQueue.append(t,n,i)}appendBlocker(t){if(this.operationQueue)return this.operationQueue.appendBlocker(t)}currentOp(t){return this.operationQueue?this.operationQueue.current(t):null}executeNext(t){t&&this.operationQueue&&this.operationQueue.executeNext(t)}shiftAndExecuteNext(t){this.operationQueue&&this.operationQueue.shiftAndExecuteNext(t)}get pendingTrackCount(){return Object.keys(this.tracks).reduce((t,n)=>t+(this.isPending(this.tracks[n])?1:0),0)}get sourceBufferCount(){return this.sourceBuffers.reduce((t,[n])=>t+(n?1:0),0)}get sourceBufferTypes(){return this.sourceBuffers.map(([t])=>t).filter(t=>!!t)}addBufferListener(t,n,i){const l=this.tracks[t];if(!l)return;const d=l.buffer;if(!d)return;const a=i.bind(this,t);l.listeners.push({event:n,listener:a}),d.addEventListener(n,a)}removeBufferListeners(t){const n=this.tracks[t];if(!n)return;const i=n.buffer;i&&(n.listeners.forEach(l=>{i.removeEventListener(l.event,l.listener)}),n.listeners.length=0)}}function j0(g){const t=g.querySelectorAll("source");[].slice.call(t).forEach(n=>{g.removeChild(n)})}function AC(g,t){const n=self.document.createElement("source");n.type="video/mp4",n.src=t,g.appendChild(n)}function Kd(g){return g==="audio"?1:0}class $h{constructor(t){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=t,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}setStreamController(t){this.streamController=t}destroy(){this.hls&&this.unregisterListener(),this.timer&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}registerListeners(){const{hls:t}=this;t.on(F.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),t.on(F.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(F.MANIFEST_PARSED,this.onManifestParsed,this),t.on(F.LEVELS_UPDATED,this.onLevelsUpdated,this),t.on(F.BUFFER_CODECS,this.onBufferCodecs,this),t.on(F.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListener(){const{hls:t}=this;t.off(F.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),t.off(F.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(F.MANIFEST_PARSED,this.onManifestParsed,this),t.off(F.LEVELS_UPDATED,this.onLevelsUpdated,this),t.off(F.BUFFER_CODECS,this.onBufferCodecs,this),t.off(F.MEDIA_DETACHING,this.onMediaDetaching,this)}onFpsDropLevelCapping(t,n){const i=this.hls.levels[n.droppedLevel];this.isLevelAllowed(i)&&this.restrictedLevels.push({bitrate:i.bitrate,height:i.height,width:i.width})}onMediaAttaching(t,n){this.media=n.media instanceof HTMLVideoElement?n.media:null,this.clientRect=null,this.timer&&this.hls.levels.length&&this.detectPlayerSize()}onManifestParsed(t,n){const i=this.hls;this.restrictedLevels=[],this.firstLevel=n.firstLevel,i.config.capLevelToPlayerSize&&n.video&&this.startCapping()}onLevelsUpdated(t,n){this.timer&&Qe(this.autoLevelCapping)&&this.detectPlayerSize()}onBufferCodecs(t,n){this.hls.config.capLevelToPlayerSize&&n.video&&this.startCapping()}onMediaDetaching(){this.stopCapping(),this.media=null}detectPlayerSize(){if(this.media){if(this.mediaHeight<=0||this.mediaWidth<=0){this.clientRect=null;return}const t=this.hls.levels;if(t.length){const n=this.hls,i=this.getMaxLevel(t.length-1);i!==this.autoLevelCapping&&n.logger.log(`Setting autoLevelCapping to ${i}: ${t[i].height}p@${t[i].bitrate} for media ${this.mediaWidth}x${this.mediaHeight}`),n.autoLevelCapping=i,n.autoLevelEnabled&&n.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=n.autoLevelCapping}}}getMaxLevel(t){const n=this.hls.levels;if(!n.length)return-1;const i=n.filter((l,d)=>this.isLevelAllowed(l)&&d<=t);return this.clientRect=null,$h.getMaxLevelByMediaSize(i,this.mediaWidth,this.mediaHeight)}startCapping(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}stopCapping(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}getDimensions(){if(this.clientRect)return this.clientRect;const t=this.media,n={width:0,height:0};if(t){const i=t.getBoundingClientRect();n.width=i.width,n.height=i.height,!n.width&&!n.height&&(n.width=i.right-i.left||t.width||0,n.height=i.bottom-i.top||t.height||0)}return this.clientRect=n,n}get mediaWidth(){return this.getDimensions().width*this.contentScaleFactor}get mediaHeight(){return this.getDimensions().height*this.contentScaleFactor}get contentScaleFactor(){let t=1;if(!this.hls.config.ignoreDevicePixelRatio)try{t=self.devicePixelRatio}catch{}return Math.min(t,this.hls.config.maxDevicePixelRatio)}isLevelAllowed(t){return!this.restrictedLevels.some(i=>t.bitrate===i.bitrate&&t.width===i.width&&t.height===i.height)}static getMaxLevelByMediaSize(t,n,i){if(!(t!=null&&t.length))return-1;const l=(c,e)=>e?c.width!==e.width||c.height!==e.height:!0;let d=t.length-1;const a=Math.max(n,i);for(let c=0;c<t.length;c+=1){const e=t[c];if((e.width>=a||e.height>=a)&&l(e,t[c+1])){d=c;break}}return d}}const gC={MANIFEST:"m",AUDIO:"a",VIDEO:"v",MUXED:"av",INIT:"i",CAPTION:"c",TIMED_TEXT:"tt",KEY:"k",OTHER:"o"},_i=gC,pC={HLS:"h"},mC=pC;class Ps{constructor(t,n){Array.isArray(t)&&(t=t.map(i=>i instanceof Ps?i:new Ps(i))),this.value=t,this.params=n}}const vC="Dict";function yC(g){return Array.isArray(g)?JSON.stringify(g):g instanceof Map?"Map{}":g instanceof Set?"Set{}":typeof g=="object"?JSON.stringify(g):String(g)}function EC(g,t,n,i){return new Error(`failed to ${g} "${yC(t)}" as ${n}`,{cause:i})}function Ns(g,t,n){return EC("serialize",g,t,n)}class Av{constructor(t){this.description=t}}const $0="Bare Item",bC="Boolean";function CC(g){if(typeof g!="boolean")throw Ns(g,bC);return g?"?1":"?0"}function SC(g){return btoa(String.fromCharCode(...g))}const TC="Byte Sequence";function xC(g){if(ArrayBuffer.isView(g)===!1)throw Ns(g,TC);return`:${SC(g)}:`}const wC="Integer";function LC(g){return g<-999999999999999||999999999999999<g}function gv(g){if(LC(g))throw Ns(g,wC);return g.toString()}function RC(g){return`@${gv(g.getTime()/1e3)}`}function pv(g,t){if(g<0)return-pv(-g,t);const n=Math.pow(10,t);if(Math.abs(g*n%1-.5)<Number.EPSILON){const l=Math.floor(g*n);return(l%2===0?l:l+1)/n}else return Math.round(g*n)/n}const IC="Decimal";function DC(g){const t=pv(g,3);if(Math.floor(Math.abs(t)).toString().length>12)throw Ns(g,IC);const n=t.toString();return n.includes(".")?n:`${n}.0`}const kC="String",BC=/[\x00-\x1f\x7f]+/;function OC(g){if(BC.test(g))throw Ns(g,kC);return`"${g.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`}function _C(g){return g.description||g.toString().slice(7,-1)}const MC="Token";function K0(g){const t=_C(g);if(/^([a-zA-Z*])([!#$%&'*+\-.^_`|~\w:/]*)$/.test(t)===!1)throw Ns(t,MC);return t}function Eh(g){switch(typeof g){case"number":if(!Qe(g))throw Ns(g,$0);return Number.isInteger(g)?gv(g):DC(g);case"string":return OC(g);case"symbol":return K0(g);case"boolean":return CC(g);case"object":if(g instanceof Date)return RC(g);if(g instanceof Uint8Array)return xC(g);if(g instanceof Av)return K0(g);default:throw Ns(g,$0)}}const PC="Key";function bh(g){if(/^[a-z*][a-z0-9\-_.*]*$/.test(g)===!1)throw Ns(g,PC);return g}function Kh(g){return g==null?"":Object.entries(g).map(([t,n])=>n===!0?`;${bh(t)}`:`;${bh(t)}=${Eh(n)}`).join("")}function mv(g){return g instanceof Ps?`${Eh(g.value)}${Kh(g.params)}`:Eh(g)}function NC(g){return`(${g.value.map(mv).join(" ")})${Kh(g.params)}`}function UC(g,t={whitespace:!0}){if(typeof g!="object"||g==null)throw Ns(g,vC);const n=g instanceof Map?g.entries():Object.entries(g),i=t?.whitespace?" ":"";return Array.from(n).map(([l,d])=>{d instanceof Ps||(d=new Ps(d));let a=bh(l);return d.value===!0?a+=Kh(d.params):(a+="=",Array.isArray(d.value)?a+=NC(d):a+=mv(d)),a}).join(`,${i}`)}function vv(g,t){return UC(g,t)}const ks="CMCD-Object",Nr="CMCD-Request",go="CMCD-Session",Na="CMCD-Status",FC={br:ks,ab:ks,d:ks,ot:ks,tb:ks,tpb:ks,lb:ks,tab:ks,lab:ks,url:ks,pb:Nr,bl:Nr,tbl:Nr,dl:Nr,ltc:Nr,mtp:Nr,nor:Nr,nrr:Nr,rc:Nr,sn:Nr,sta:Nr,su:Nr,ttfb:Nr,ttfbb:Nr,ttlb:Nr,cmsdd:Nr,cmsds:Nr,smrt:Nr,df:Nr,cs:Nr,ts:Nr,cid:go,pr:go,sf:go,sid:go,st:go,v:go,msd:go,bs:Na,bsd:Na,cdn:Na,rtp:Na,bg:Na,pt:Na,ec:Na,e:Na},GC={REQUEST:Nr};function QC(g){return Object.keys(g).reduce((t,n)=>{var i;return(i=g[n])===null||i===void 0||i.forEach(l=>t[l]=n),t},{})}function HC(g,t){const n={};if(!g)return n;const i=Object.keys(g),l=t?QC(t):{};return i.reduce((d,a)=>{var c;const e=FC[a]||l[a]||GC.REQUEST,o=(c=d[e])!==null&&c!==void 0?c:d[e]={};return o[a]=g[a],d},n)}function YC(g){return["ot","sf","st","e","sta"].includes(g)}function zC(g){return typeof g=="number"?Qe(g):g!=null&&g!==""&&g!==!1}const yv="event";function VC(g,t){const n=new URL(g),i=new URL(t);if(n.origin!==i.origin)return g;const l=n.pathname.split("/").slice(1),d=i.pathname.split("/").slice(1,-1);for(;l[0]===d[0];)l.shift(),d.shift();for(;d.length;)d.shift(),l.unshift("..");return l.join("/")+n.search+n.hash}const kc=g=>Math.round(g),Ch=(g,t)=>Array.isArray(g)?g.map(n=>Ch(n,t)):g instanceof Ps&&typeof g.value=="string"?new Ps(Ch(g.value,t),g.params):(t.baseUrl&&(g=VC(g,t.baseUrl)),t.version===1?encodeURIComponent(g):g),yc=g=>kc(g/100)*100,jC=(g,t)=>{let n=g;return t.version>=2&&(g instanceof Ps&&typeof g.value=="string"?n=new Ps([g]):typeof g=="string"&&(n=[g])),Ch(n,t)},$C={br:kc,d:kc,bl:yc,dl:yc,mtp:yc,nor:jC,rtp:yc,tb:kc},Ev="request",bv="response",Wh=["ab","bg","bl","br","bs","bsd","cdn","cid","cs","df","ec","lab","lb","ltc","msd","mtp","pb","pr","pt","sf","sid","sn","st","sta","tab","tb","tbl","tpb","ts","v"],KC=["e"],WC=/^[a-zA-Z0-9-.]+-[a-zA-Z0-9-.]+$/;function $c(g){return WC.test(g)}function qC(g){return Wh.includes(g)||KC.includes(g)||$c(g)}const Cv=["d","dl","nor","ot","rtp","su"];function XC(g){return Wh.includes(g)||Cv.includes(g)||$c(g)}const ZC=["cmsdd","cmsds","rc","smrt","ttfb","ttfbb","ttlb","url"];function JC(g){return Wh.includes(g)||Cv.includes(g)||ZC.includes(g)||$c(g)}const tS=["bl","br","bs","cid","d","dl","mtp","nor","nrr","ot","pr","rtp","sf","sid","st","su","tb","v"];function eS(g){return tS.includes(g)||$c(g)}const nS={[bv]:JC,[yv]:qC,[Ev]:XC};function Sv(g,t={}){const n={};if(g==null||typeof g!="object")return n;const i=t.version||g.v||1,l=t.reportingMode||Ev,d=i===1?eS:nS[l];let a=Object.keys(g).filter(d);const c=t.filter;typeof c=="function"&&(a=a.filter(c));const e=l===bv||l===yv;e&&!a.includes("ts")&&a.push("ts"),i>1&&!a.includes("v")&&a.push("v");const o=mr({},$C,t.formatters),u={version:i,reportingMode:l,baseUrl:t.baseUrl};return a.sort().forEach(f=>{let A=g[f];const p=o[f];if(typeof p=="function"&&(A=p(A,u)),f==="v"){if(i===1)return;A=i}f=="pr"&&A===1||(e&&f==="ts"&&!Qe(A)&&(A=Date.now()),zC(A)&&(YC(f)&&typeof A=="string"&&(A=new Av(A)),n[f]=A))}),n}function rS(g,t={}){const n={};if(!g)return n;const i=Sv(g,t),l=HC(i,t?.customHeaderMap);return Object.entries(l).reduce((d,[a,c])=>{const e=vv(c,{whitespace:!1});return e&&(d[a]=e),d},n)}function iS(g,t,n){return mr(g,rS(t,n))}const sS="CMCD";function aS(g,t={}){return g?vv(Sv(g,t),{whitespace:!1}):""}function oS(g,t={}){if(!g)return"";const n=aS(g,t);return encodeURIComponent(n)}function lS(g,t={}){if(!g)return"";const n=oS(g,t);return`${sS}=${n}`}const W0=/CMCD=[^&#]+/;function uS(g,t,n){const i=lS(t,n);if(!i)return g;if(W0.test(g))return g.replace(W0,i);const l=g.includes("?")?"&":"?";return`${g}${l}${i}`}class cS{constructor(t){this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.includeKeys=void 0,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=()=>{this.initialized&&(this.starved=!0),this.buffering=!0},this.onPlaying=()=>{this.initialized||(this.initialized=!0),this.buffering=!1},this.applyPlaylistData=l=>{try{this.apply(l,{ot:_i.MANIFEST,su:!this.initialized})}catch(d){this.hls.logger.warn("Could not generate manifest CMCD data.",d)}},this.applyFragmentData=l=>{try{const{frag:d,part:a}=l,c=this.hls.levels[d.level],e=this.getObjectType(d),o={d:(a||d).duration*1e3,ot:e};(e===_i.VIDEO||e===_i.AUDIO||e==_i.MUXED)&&(o.br=c.bitrate/1e3,o.tb=this.getTopBandwidth(e)/1e3,o.bl=this.getBufferLength(e));const u=a?this.getNextPart(a):this.getNextFrag(d);u!=null&&u.url&&u.url!==d.url&&(o.nor=u.url),this.apply(l,o)}catch(d){this.hls.logger.warn("Could not generate segment CMCD data.",d)}},this.hls=t;const n=this.config=t.config,{cmcd:i}=n;i!=null&&(n.pLoader=this.createPlaylistLoader(),n.fLoader=this.createFragmentLoader(),this.sid=i.sessionId||t.sessionId,this.cid=i.contentId,this.useHeaders=i.useHeaders===!0,this.includeKeys=i.includeKeys,this.registerListeners())}registerListeners(){const t=this.hls;t.on(F.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(F.MEDIA_DETACHED,this.onMediaDetached,this),t.on(F.BUFFER_CREATED,this.onBufferCreated,this)}unregisterListeners(){const t=this.hls;t.off(F.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(F.MEDIA_DETACHED,this.onMediaDetached,this),t.off(F.BUFFER_CREATED,this.onBufferCreated,this)}destroy(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null,this.onWaiting=this.onPlaying=this.media=null}onMediaAttached(t,n){this.media=n.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}onMediaDetached(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}onBufferCreated(t,n){var i,l;this.audioBuffer=(i=n.tracks.audio)==null?void 0:i.buffer,this.videoBuffer=(l=n.tracks.video)==null?void 0:l.buffer}createData(){var t;return{v:1,sf:mC.HLS,sid:this.sid,cid:this.cid,pr:(t=this.media)==null?void 0:t.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}apply(t,n={}){mr(n,this.createData());const i=n.ot===_i.INIT||n.ot===_i.VIDEO||n.ot===_i.MUXED;this.starved&&i&&(n.bs=!0,n.su=!0,this.starved=!1),n.su==null&&(n.su=this.buffering);const{includeKeys:l}=this;l&&(n=Object.keys(n).reduce((a,c)=>(l.includes(c)&&(a[c]=n[c]),a),{}));const d={baseUrl:t.url};this.useHeaders?(t.headers||(t.headers={}),iS(t.headers,n,d)):t.url=uS(t.url,n,d)}getNextFrag(t){var n;const i=(n=this.hls.levels[t.level])==null?void 0:n.details;if(i){const l=t.sn-i.startSN;return i.fragments[l+1]}}getNextPart(t){var n;const{index:i,fragment:l}=t,d=(n=this.hls.levels[l.level])==null||(n=n.details)==null?void 0:n.partList;if(d){const{sn:a}=l;for(let c=d.length-1;c>=0;c--){const e=d[c];if(e.index===i&&e.fragment.sn===a)return d[c+1]}}}getObjectType(t){const{type:n}=t;if(n==="subtitle")return _i.TIMED_TEXT;if(t.sn==="initSegment")return _i.INIT;if(n==="audio")return _i.AUDIO;if(n==="main")return this.hls.audioTracks.length?_i.VIDEO:_i.MUXED}getTopBandwidth(t){let n=0,i;const l=this.hls;if(t===_i.AUDIO)i=l.audioTracks;else{const d=l.maxAutoLevel,a=d>-1?d+1:l.levels.length;i=l.levels.slice(0,a)}return i.forEach(d=>{d.bitrate>n&&(n=d.bitrate)}),n>0?n:NaN}getBufferLength(t){const n=this.media,i=t===_i.AUDIO?this.audioBuffer:this.videoBuffer;return!i||!n?NaN:_n.bufferInfo(i,n.currentTime,this.config.maxBufferHole).len*1e3}createPlaylistLoader(){const{pLoader:t}=this.config,n=this.applyPlaylistData,i=t||this.config.loader;return class{constructor(d){this.loader=void 0,this.loader=new i(d)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(d,a,c){n(d),this.loader.load(d,a,c)}}}createFragmentLoader(){const{fLoader:t}=this.config,n=this.applyFragmentData,i=t||this.config.loader;return class{constructor(d){this.loader=void 0,this.loader=new i(d)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(d,a,c){n(d),this.loader.load(d,a,c)}}}}const fS=3e5;class dS extends ss{constructor(t){super("content-steering",t.logger),this.hls=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this._pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=t,this.registerListeners()}registerListeners(){const t=this.hls;t.on(F.MANIFEST_LOADING,this.onManifestLoading,this),t.on(F.MANIFEST_LOADED,this.onManifestLoaded,this),t.on(F.MANIFEST_PARSED,this.onManifestParsed,this),t.on(F.ERROR,this.onError,this)}unregisterListeners(){const t=this.hls;t&&(t.off(F.MANIFEST_LOADING,this.onManifestLoading,this),t.off(F.MANIFEST_LOADED,this.onManifestLoaded,this),t.off(F.MANIFEST_PARSED,this.onManifestParsed,this),t.off(F.ERROR,this.onError,this))}pathways(){return(this.levels||[]).reduce((t,n)=>(t.indexOf(n.pathwayId)===-1&&t.push(n.pathwayId),t),[])}get pathwayPriority(){return this._pathwayPriority}set pathwayPriority(t){this.updatePathwayPriority(t)}startLoad(){if(this.started=!0,this.clearTimeout(),this.enabled&&this.uri){if(this.updated){const t=this.timeToLoad*1e3-(performance.now()-this.updated);if(t>0){this.scheduleRefresh(this.uri,t);return}}this.loadSteeringManifest(this.uri)}}stopLoad(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),this.clearTimeout()}clearTimeout(){this.reloadTimer!==-1&&(self.clearTimeout(this.reloadTimer),this.reloadTimer=-1)}destroy(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}removeLevel(t){const n=this.levels;n&&(this.levels=n.filter(i=>i!==t))}onManifestLoading(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}onManifestLoaded(t,n){const{contentSteering:i}=n;i!==null&&(this.pathwayId=i.pathwayId,this.uri=i.uri,this.started&&this.startLoad())}onManifestParsed(t,n){this.audioTracks=n.audioTracks,this.subtitleTracks=n.subtitleTracks}onError(t,n){const{errorAction:i}=n;if(i?.action===di.SendAlternateToPenaltyBox&&i.flags===$i.MoveAllAlternatesMatchingHost){const l=this.levels;let d=this._pathwayPriority,a=this.pathwayId;if(n.context){const{groupId:c,pathwayId:e,type:o}=n.context;c&&l?a=this.getPathwayForGroupId(c,o,a):e&&(a=e)}a in this.penalizedPathways||(this.penalizedPathways[a]=performance.now()),!d&&l&&(d=this.pathways()),d&&d.length>1&&(this.updatePathwayPriority(d),i.resolved=this.pathwayId!==a),n.details===Ot.BUFFER_APPEND_ERROR&&!n.fatal?i.resolved=!0:i.resolved||this.warn(`Could not resolve ${n.details} ("${n.error.message}") with content-steering for Pathway: ${a} levels: ${l&&l.length} priorities: ${wr(d)} penalized: ${wr(this.penalizedPathways)}`)}}filterParsedLevels(t){this.levels=t;let n=this.getLevelsForPathway(this.pathwayId);if(n.length===0){const i=t[0].pathwayId;this.log(`No levels found in Pathway ${this.pathwayId}. Setting initial Pathway to "${i}"`),n=this.getLevelsForPathway(i),this.pathwayId=i}return n.length!==t.length&&this.log(`Found ${n.length}/${t.length} levels in Pathway "${this.pathwayId}"`),n}getLevelsForPathway(t){return this.levels===null?[]:this.levels.filter(n=>t===n.pathwayId)}updatePathwayPriority(t){this._pathwayPriority=t;let n;const i=this.penalizedPathways,l=performance.now();Object.keys(i).forEach(d=>{l-i[d]>fS&&delete i[d]});for(let d=0;d<t.length;d++){const a=t[d];if(a in i)continue;if(a===this.pathwayId)return;const c=this.hls.nextLoadLevel,e=this.hls.levels[c];if(n=this.getLevelsForPathway(a),n.length>0){this.log(`Setting Pathway to "${a}"`),this.pathwayId=a,Ym(n),this.hls.trigger(F.LEVELS_UPDATED,{levels:n});const o=this.hls.levels[c];e&&o&&this.levels&&(o.attrs["STABLE-VARIANT-ID"]!==e.attrs["STABLE-VARIANT-ID"]&&o.bitrate!==e.bitrate&&this.log(`Unstable Pathways change from bitrate ${e.bitrate} to ${o.bitrate}`),this.hls.nextLoadLevel=c);break}}}getPathwayForGroupId(t,n,i){const l=this.getLevelsForPathway(i).concat(this.levels||[]);for(let d=0;d<l.length;d++)if(n===jn.AUDIO_TRACK&&l[d].hasAudioGroup(t)||n===jn.SUBTITLE_TRACK&&l[d].hasSubtitleGroup(t))return l[d].pathwayId;return i}clonePathways(t){const n=this.levels;if(!n)return;const i={},l={};t.forEach(d=>{const{ID:a,"BASE-ID":c,"URI-REPLACEMENT":e}=d;if(n.some(u=>u.pathwayId===a))return;const o=this.getLevelsForPathway(c).map(u=>{const f=new _r(u.attrs);f["PATHWAY-ID"]=a;const A=f.AUDIO&&`${f.AUDIO}_clone_${a}`,p=f.SUBTITLES&&`${f.SUBTITLES}_clone_${a}`;A&&(i[f.AUDIO]=A,f.AUDIO=A),p&&(l[f.SUBTITLES]=p,f.SUBTITLES=p);const m=Tv(u.uri,f["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",e),y=new nu({attrs:f,audioCodec:u.audioCodec,bitrate:u.bitrate,height:u.height,name:u.name,url:m,videoCodec:u.videoCodec,width:u.width});if(u.audioGroups)for(let E=1;E<u.audioGroups.length;E++)y.addGroupId("audio",`${u.audioGroups[E]}_clone_${a}`);if(u.subtitleGroups)for(let E=1;E<u.subtitleGroups.length;E++)y.addGroupId("text",`${u.subtitleGroups[E]}_clone_${a}`);return y});n.push(...o),q0(this.audioTracks,i,e,a),q0(this.subtitleTracks,l,e,a)})}loadSteeringManifest(t){const n=this.hls.config,i=n.loader;this.loader&&this.loader.destroy(),this.loader=new i(n);let l;try{l=new self.URL(t)}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest URI: ${t}`);return}if(l.protocol!=="data:"){const u=(this.hls.bandwidthEstimate||n.abrEwmaDefaultEstimate)|0;l.searchParams.set("_HLS_pathway",this.pathwayId),l.searchParams.set("_HLS_throughput",""+u)}const d={responseType:"json",url:l.href},a=n.steeringManifestLoadPolicy.default,c=a.errorRetry||a.timeoutRetry||{},e={loadPolicy:a,timeout:a.maxLoadTimeMs,maxRetry:c.maxNumRetry||0,retryDelay:c.retryDelayMs||0,maxRetryDelay:c.maxRetryDelayMs||0},o={onSuccess:(u,f,A,p)=>{this.log(`Loaded steering manifest: "${l}"`);const m=u.data;if(m?.VERSION!==1){this.log(`Steering VERSION ${m.VERSION} not supported!`);return}this.updated=performance.now(),this.timeToLoad=m.TTL;const{"RELOAD-URI":y,"PATHWAY-CLONES":E,"PATHWAY-PRIORITY":C}=m;if(y)try{this.uri=new self.URL(y,l).href}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest RELOAD-URI: ${y}`);return}this.scheduleRefresh(this.uri||A.url),E&&this.clonePathways(E);const T={steeringManifest:m,url:l.toString()};this.hls.trigger(F.STEERING_MANIFEST_LOADED,T),C&&this.updatePathwayPriority(C)},onError:(u,f,A,p)=>{if(this.log(`Error loading steering manifest: ${u.code} ${u.text} (${f.url})`),this.stopLoad(),u.code===410){this.enabled=!1,this.log(`Steering manifest ${f.url} no longer available`);return}let m=this.timeToLoad*1e3;if(u.code===429){const y=this.loader;if(typeof y?.getResponseHeader=="function"){const E=y.getResponseHeader("Retry-After");E&&(m=parseFloat(E)*1e3)}this.log(`Steering manifest ${f.url} rate limited`);return}this.scheduleRefresh(this.uri||f.url,m)},onTimeout:(u,f,A)=>{this.log(`Timeout loading steering manifest (${f.url})`),this.scheduleRefresh(this.uri||f.url)}};this.log(`Requesting steering manifest: ${l}`),this.loader.load(d,e,o)}scheduleRefresh(t,n=this.timeToLoad*1e3){this.clearTimeout(),this.reloadTimer=self.setTimeout(()=>{var i;const l=(i=this.hls)==null?void 0:i.media;if(l&&!l.ended){this.loadSteeringManifest(t);return}this.scheduleRefresh(t,this.timeToLoad*1e3)},n)}}function q0(g,t,n,i){g&&Object.keys(t).forEach(l=>{const d=g.filter(a=>a.groupId===l).map(a=>{const c=mr({},a);return c.details=void 0,c.attrs=new _r(c.attrs),c.url=c.attrs.URI=Tv(a.url,a.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",n),c.groupId=c.attrs["GROUP-ID"]=t[l],c.attrs["PATHWAY-ID"]=i,c});g.push(...d)})}function Tv(g,t,n,i){const{HOST:l,PARAMS:d,[n]:a}=i;let c;t&&(c=a?.[t],c&&(g=c));const e=new self.URL(g);return l&&!c&&(e.host=l),d&&Object.keys(d).sort().forEach(o=>{o&&e.searchParams.set(o,d[o])}),e.href}class ol extends ss{constructor(t){super("eme",t.logger),this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.mediaKeys=null,this.setMediaKeysQueue=ol.CDMCleanupPromise?[ol.CDMCleanupPromise]:[],this.bannedKeyIds={},this.onMediaEncrypted=n=>{const{initDataType:i,initData:l}=n,d=`"${n.type}" event: init data type: "${i}"`;if(this.debug(d),l!==null){if(!this.keyFormatPromise){let a=Object.keys(this.keySystemAccessPromises);a.length||(a=Xl(this.config));const c=a.map(Gd).filter(e=>!!e);this.keyFormatPromise=this.getKeyFormatPromise(c)}this.keyFormatPromise.then(a=>{const c=Rc(a);if(i!=="sinf"||c!==Ur.FAIRPLAY){this.log(`Ignoring "${n.type}" event with init data type: "${i}" for selected key-system ${c}`);return}let e;try{const p=Jr(new Uint8Array(l)),m=Nh(JSON.parse(p).sinf),y=Cm(m);if(!y)throw new Error("'schm' box missing or not cbcs/cenc with schi > tenc");e=new Uint8Array(y.subarray(8,24))}catch(p){this.warn(`${d} Failed to parse sinf: ${p}`);return}const o=Ki(e),{keyIdToKeySessionPromise:u,mediaKeySessions:f}=this;let A=u[o];for(let p=0;p<f.length;p++){const m=f[p],y=m.decryptdata;if(!y.keyId)continue;const E=Ki(y.keyId);if(o===E||y.uri.replace(/-/g,"").indexOf(o)!==-1){if(A=u[E],!A)continue;if(y.pssh)break;delete u[E],y.pssh=new Uint8Array(l),y.keyId=e,A=u[o]=A.then(()=>this.generateRequestWithPreferredKeySession(m,i,l,"encrypted-event-key-match")),A.catch(C=>this.handleError(C));break}}A||this.handleError(new Error(`Key ID ${o} not encountered in playlist. Key-system sessions ${f.length}.`))}).catch(a=>this.handleError(a))}},this.onWaitingForKey=n=>{this.log(`"${n.type}" event`)},this.hls=t,this.config=t.config,this.registerListeners()}destroy(){this.onDestroying(),this.onMediaDetached();const t=this.config;t.requestMediaKeySystemAccessFunc=null,t.licenseXhrSetup=t.licenseResponseCallback=void 0,t.drmSystems=t.drmSystemOptions={},this.hls=this.config=this.keyIdToKeySessionPromise=null,this.onMediaEncrypted=this.onWaitingForKey=null}registerListeners(){this.hls.on(F.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(F.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(F.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(F.MANIFEST_LOADED,this.onManifestLoaded,this),this.hls.on(F.DESTROYING,this.onDestroying,this)}unregisterListeners(){this.hls.off(F.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(F.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(F.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(F.MANIFEST_LOADED,this.onManifestLoaded,this),this.hls.off(F.DESTROYING,this.onDestroying,this)}getLicenseServerUrl(t){const{drmSystems:n,widevineLicenseUrl:i}=this.config,l=n?.[t];if(l)return l.licenseUrl;if(t===Ur.WIDEVINE&&i)return i}getLicenseServerUrlOrThrow(t){const n=this.getLicenseServerUrl(t);if(n===void 0)throw new Error(`no license server URL configured for key-system "${t}"`);return n}getServerCertificateUrl(t){const{drmSystems:n}=this.config,i=n?.[t];if(i)return i.serverCertificateUrl;this.log(`No Server Certificate in config.drmSystems["${t}"]`)}attemptKeySystemAccess(t){const n=this.hls.levels,i=(a,c,e)=>!!a&&e.indexOf(a)===c,l=n.map(a=>a.audioCodec).filter(i),d=n.map(a=>a.videoCodec).filter(i);return l.length+d.length===0&&d.push("avc1.42e01e"),new Promise((a,c)=>{const e=o=>{const u=o.shift();this.getMediaKeysPromise(u,l,d).then(f=>a({keySystem:u,mediaKeys:f})).catch(f=>{o.length?e(o):f instanceof bs?c(f):c(new bs({type:nn.KEY_SYSTEM_ERROR,details:Ot.KEY_SYSTEM_NO_ACCESS,error:f,fatal:!0},f.message))})};e(t)})}requestMediaKeySystemAccess(t,n){const{requestMediaKeySystemAccessFunc:i}=this.config;if(typeof i!="function"){let l=`Configured requestMediaKeySystemAccess is not a function ${i}`;return Pm===null&&self.location.protocol==="http:"&&(l=`navigator.requestMediaKeySystemAccess is not available over insecure protocol ${location.protocol}`),Promise.reject(new Error(l))}return i(t,n)}getMediaKeysPromise(t,n,i){var l;const d=jE(t,n,i,this.config.drmSystemOptions||{});let a=this.keySystemAccessPromises[t],c=(l=a)==null?void 0:l.keySystemAccess;if(!c){this.log(`Requesting encrypted media "${t}" key-system access with config: ${wr(d)}`),c=this.requestMediaKeySystemAccess(t,d);const e=a=this.keySystemAccessPromises[t]={keySystemAccess:c};return c.catch(o=>{this.log(`Failed to obtain access to key-system "${t}": ${o}`)}),c.then(o=>{this.log(`Access for key-system "${o.keySystem}" obtained`);const u=this.fetchServerCertificate(t);this.log(`Create media-keys for "${t}"`);const f=e.mediaKeys=o.createMediaKeys().then(A=>(this.log(`Media-keys created for "${t}"`),e.hasMediaKeys=!0,u.then(p=>p?this.setMediaKeysServerCertificate(A,t,p):A)));return f.catch(A=>{this.error(`Failed to create media-keys for "${t}"}: ${A}`)}),f})}return c.then(()=>a.mediaKeys)}createMediaKeySessionContext({decryptdata:t,keySystem:n,mediaKeys:i}){this.log(`Creating key-system session "${n}" keyId: ${Ki(t.keyId||[])}`);const l=i.createSession(),d={decryptdata:t,keySystem:n,mediaKeys:i,mediaKeysSession:l,keyStatus:"status-pending"};return this.mediaKeySessions.push(d),d}renewKeySession(t){const n=t.decryptdata;if(n.pssh){const i=this.createMediaKeySessionContext(t),l=this.getKeyIdString(n),d="cenc";this.keyIdToKeySessionPromise[l]=this.generateRequestWithPreferredKeySession(i,d,n.pssh.buffer,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(t)}getKeyIdString(t){if(!t)throw new Error("Could not read keyId of undefined decryptdata");if(t.keyId===null)throw new Error("keyId is null");return Ki(t.keyId)}updateKeySession(t,n){const i=t.mediaKeysSession;return this.log(`Updating key-session "${i.sessionId}" for keyId ${Ki(t.decryptdata.keyId||[])}
      } (data length: ${n.byteLength})`),i.update(n)}getSelectedKeySystemFormats(){return Object.keys(this.keySystemAccessPromises).map(t=>({keySystem:t,hasMediaKeys:this.keySystemAccessPromises[t].hasMediaKeys})).filter(({hasMediaKeys:t})=>!!t).map(({keySystem:t})=>Gd(t)).filter(t=>!!t)}getKeySystemAccess(t){return this.getKeySystemSelectionPromise(t).then(({keySystem:n,mediaKeys:i})=>this.attemptSetMediaKeys(n,i))}selectKeySystem(t){return new Promise((n,i)=>{this.getKeySystemSelectionPromise(t).then(({keySystem:l})=>{const d=Gd(l);d?n(d):i(new Error(`Unable to find format for key-system "${l}"`))}).catch(i)})}selectKeySystemFormat(t){const n=Object.keys(t.levelkeys||{});return this.keyFormatPromise||(this.log(`Selecting key-system from fragment (sn: ${t.sn} ${t.type}: ${t.level}) key formats ${n.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(n)),this.keyFormatPromise}getKeyFormatPromise(t){const n=Xl(this.config),i=t.map(Rc).filter(l=>!!l&&n.indexOf(l)!==-1);return this.selectKeySystem(i)}loadKey(t){const n=t.keyInfo.decryptdata,i=this.getKeyIdString(n),l=this.bannedKeyIds[i];if(l){const c=X0(l,n);return this.handleError(c,t.frag),Promise.reject(c)}const d=`(keyId: ${i} format: "${n.keyFormat}" method: ${n.method} uri: ${n.uri})`;this.log(`Starting session for key ${d}`);const a=this.keyIdToKeySessionPromise[i];if(!a){const c=this.getKeySystemForKeyPromise(n).then(({keySystem:e,mediaKeys:o})=>(this.throwIfDestroyed(),this.log(`Handle encrypted media sn: ${t.frag.sn} ${t.frag.type}: ${t.frag.level} using key ${d}`),this.attemptSetMediaKeys(e,o).then(()=>(this.throwIfDestroyed(),this.createMediaKeySessionContext({keySystem:e,mediaKeys:o,decryptdata:n}))))).then(e=>{const o="cenc",u=n.pssh?n.pssh.buffer:null;return this.generateRequestWithPreferredKeySession(e,o,u,"playlist-key")});return c.catch(e=>this.handleError(e,t.frag)),this.keyIdToKeySessionPromise[i]=c,c}return a}throwIfDestroyed(t="Invalid state"){if(!this.hls)throw new Error("invalid state")}handleError(t,n){this.hls&&(this.error(t.message),t instanceof bs?(n&&(t.data.frag=n),this.hls.trigger(F.ERROR,t.data)):this.hls.trigger(F.ERROR,{type:nn.KEY_SYSTEM_ERROR,details:Ot.KEY_SYSTEM_NO_KEYS,error:t,fatal:!0}))}getKeySystemForKeyPromise(t){const n=this.getKeyIdString(t),i=this.keyIdToKeySessionPromise[n];if(!i){const l=Rc(t.keyFormat),d=l?[l]:Xl(this.config);return this.attemptKeySystemAccess(d)}return i}getKeySystemSelectionPromise(t){if(t.length||(t=Xl(this.config)),t.length===0)throw new bs({type:nn.KEY_SYSTEM_ERROR,details:Ot.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},`Missing key-system license configuration options ${wr({drmSystems:this.config.drmSystems})}`);return this.attemptKeySystemAccess(t)}attemptSetMediaKeys(t,n){if(this.mediaKeys===n)return Promise.resolve();const i=this.setMediaKeysQueue.slice();this.log(`Setting media-keys for "${t}"`);const l=Promise.all(i).then(()=>{if(!this.media)throw this.mediaKeys=null,new Error("Attempted to set mediaKeys without media element attached");return this.media.setMediaKeys(n)});return this.mediaKeys=n,this.setMediaKeysQueue.push(l),l.then(()=>{this.log(`Media-keys set for "${t}"`),i.push(l),this.setMediaKeysQueue=this.setMediaKeysQueue.filter(d=>i.indexOf(d)===-1)})}generateRequestWithPreferredKeySession(t,n,i,l){var d;const a=(d=this.config.drmSystems)==null||(d=d[t.keySystem])==null?void 0:d.generateRequest;if(a)try{const A=a.call(this.hls,n,i,t);if(!A)throw new Error("Invalid response from configured generateRequest filter");n=A.initDataType,i=A.initData?A.initData:null,t.decryptdata.pssh=i?new Uint8Array(i):null}catch(A){if(this.warn(A.message),this.hls&&this.hls.config.debug)throw A}if(i===null)return this.log(`Skipping key-session request for "${l}" (no initData)`),Promise.resolve(t);const c=this.getKeyIdString(t.decryptdata);this.log(`Generating key-session request for "${l}": ${c} (init data type: ${n} length: ${i.byteLength})`);const e=new Fh,o=t._onmessage=A=>{const p=t.mediaKeysSession;if(!p){e.emit("error",new Error("invalid state"));return}const{messageType:m,message:y}=A;this.log(`"${m}" message event for session "${p.sessionId}" message size: ${y.byteLength}`),m==="license-request"||m==="license-renewal"?this.renewLicense(t,y).catch(E=>{e.eventNames().length?e.emit("error",E):this.handleError(E)}):m==="license-release"?t.keySystem===Ur.FAIRPLAY&&(this.updateKeySession(t,Ah("acknowledged")),this.removeSession(t)):this.warn(`unhandled media key message type "${m}"`)},u=t._onkeystatuseschange=A=>{if(!t.mediaKeysSession){e.emit("error",new Error("invalid state"));return}const m=t.keyStatus;this.onKeyStatusChange(t);const y=t.keyStatus;y!==m&&(e.emit("keyStatus",y,t),y==="expired"&&(this.log(`${t.keySystem} expired for key ${c}`),this.renewKeySession(t)))};Ri(t.mediaKeysSession,"message",o),Ri(t.mediaKeysSession,"keystatuseschange",u);const f=new Promise((A,p)=>{e.on("error",p),e.on("keyStatus",(m,{decryptdata:y})=>{m.startsWith("usable")?A():m==="internal-error"||m==="output-restricted"?p(X0(m,y)):m==="expired"?p(new Error(`key expired while generating request (keyId: ${c})`)):this.warn(`unhandled key status change "${m}" (keyId: ${c})`)})});return t.mediaKeysSession.generateRequest(n,i).then(()=>{this.log(`Request generated for key-session "${t.mediaKeysSession.sessionId}" keyId: ${c}`)}).catch(A=>{throw new bs({type:nn.KEY_SYSTEM_ERROR,details:Ot.KEY_SYSTEM_NO_SESSION,error:A,decryptdata:t.decryptdata,fatal:!1},`Error generating key-session request: ${A}`)}).then(()=>f).catch(A=>{throw e.removeAllListeners(),this.removeSession(t),A}).then(()=>(e.removeAllListeners(),t))}onKeyStatusChange(t){const n=Ki(new Uint8Array(t.decryptdata.keyId||[]));t.mediaKeysSession.keyStatuses.forEach((i,l)=>{if(typeof l=="string"&&typeof i=="object"){const c=l;l=i,i=c}const d=Ki("buffer"in l?new Uint8Array(l.buffer,l.byteOffset,l.byteLength):new Uint8Array(l));i==="internal-error"&&(this.bannedKeyIds[d]=i);const a=d===n;this.log(`${a?"":"un"}matched key status change "${i}" for keyStatuses keyId: ${d} session keyId: ${n} uri: ${t.decryptdata.uri}`),a&&(t.keyStatus=i)})}fetchServerCertificate(t){const n=this.config,i=n.loader,l=new i(n),d=this.getServerCertificateUrl(t);return d?(this.log(`Fetching server certificate for "${t}"`),new Promise((a,c)=>{const e={responseType:"arraybuffer",url:d},o=n.certLoadPolicy.default,u={loadPolicy:o,timeout:o.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},f={onSuccess:(A,p,m,y)=>{a(A.data)},onError:(A,p,m,y)=>{c(new bs({type:nn.KEY_SYSTEM_ERROR,details:Ot.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:m,response:pr({url:e.url,data:void 0},A)},`"${t}" certificate request failed (${d}). Status: ${A.code} (${A.text})`))},onTimeout:(A,p,m)=>{c(new bs({type:nn.KEY_SYSTEM_ERROR,details:Ot.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:m,response:{url:e.url,data:void 0}},`"${t}" certificate request timed out (${d})`))},onAbort:(A,p,m)=>{c(new Error("aborted"))}};l.load(e,u,f)})):Promise.resolve()}setMediaKeysServerCertificate(t,n,i){return new Promise((l,d)=>{t.setServerCertificate(i).then(a=>{this.log(`setServerCertificate ${a?"success":"not supported by CDM"} (${i.byteLength}) on "${n}"`),l(t)}).catch(a=>{d(new bs({type:nn.KEY_SYSTEM_ERROR,details:Ot.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:a,fatal:!0},a.message))})})}renewLicense(t,n){return this.requestLicense(t,new Uint8Array(n)).then(i=>this.updateKeySession(t,new Uint8Array(i)).catch(l=>{throw new bs({type:nn.KEY_SYSTEM_ERROR,details:Ot.KEY_SYSTEM_SESSION_UPDATE_FAILED,decryptdata:t.decryptdata,error:l,fatal:!1},l.message)}))}unpackPlayReadyKeyMessage(t,n){const i=String.fromCharCode.apply(null,new Uint16Array(n.buffer));if(!i.includes("PlayReadyKeyMessage"))return t.setRequestHeader("Content-Type","text/xml; charset=utf-8"),n;const l=new DOMParser().parseFromString(i,"application/xml"),d=l.querySelectorAll("HttpHeader");if(d.length>0){let u;for(let f=0,A=d.length;f<A;f++){var a,c;u=d[f];const p=(a=u.querySelector("name"))==null?void 0:a.textContent,m=(c=u.querySelector("value"))==null?void 0:c.textContent;p&&m&&t.setRequestHeader(p,m)}}const e=l.querySelector("Challenge"),o=e?.textContent;if(!o)throw new Error("Cannot find <Challenge> in key message");return Ah(atob(o))}setupLicenseXHR(t,n,i,l){const d=this.config.licenseXhrSetup;return d?Promise.resolve().then(()=>{if(!i.decryptdata)throw new Error("Key removed");return d.call(this.hls,t,n,i,l)}).catch(a=>{if(!i.decryptdata)throw a;return t.open("POST",n,!0),d.call(this.hls,t,n,i,l)}).then(a=>(t.readyState||t.open("POST",n,!0),{xhr:t,licenseChallenge:a||l})):(t.open("POST",n,!0),Promise.resolve({xhr:t,licenseChallenge:l}))}requestLicense(t,n){const i=this.config.keyLoadPolicy.default;return new Promise((l,d)=>{const a=this.getLicenseServerUrlOrThrow(t.keySystem);this.log(`Sending license request to URL: ${a}`);const c=new XMLHttpRequest;c.responseType="arraybuffer",c.onreadystatechange=()=>{if(!this.hls||!t.mediaKeysSession)return d(new Error("invalid state"));if(c.readyState===4)if(c.status===200){this._requestLicenseFailureCount=0;let e=c.response;this.log(`License received ${e instanceof ArrayBuffer?e.byteLength:e}`);const o=this.config.licenseResponseCallback;if(o)try{e=o.call(this.hls,c,a,t)}catch(u){this.error(u)}l(e)}else{const e=i.errorRetry,o=e?e.maxNumRetry:0;if(this._requestLicenseFailureCount++,this._requestLicenseFailureCount>o||c.status>=400&&c.status<500)d(new bs({type:nn.KEY_SYSTEM_ERROR,details:Ot.KEY_SYSTEM_LICENSE_REQUEST_FAILED,decryptdata:t.decryptdata,fatal:!0,networkDetails:c,response:{url:a,data:void 0,code:c.status,text:c.statusText}},`License Request XHR failed (${a}). Status: ${c.status} (${c.statusText})`));else{const u=o-this._requestLicenseFailureCount+1;this.warn(`Retrying license request, ${u} attempts left`),this.requestLicense(t,n).then(l,d)}}},t.licenseXhr&&t.licenseXhr.readyState!==XMLHttpRequest.DONE&&t.licenseXhr.abort(),t.licenseXhr=c,this.setupLicenseXHR(c,a,t,n).then(({xhr:e,licenseChallenge:o})=>{t.keySystem==Ur.PLAYREADY&&(o=this.unpackPlayReadyKeyMessage(e,o)),e.send(o)}).catch(d)})}onDestroying(){this.unregisterListeners(),this._clear()}onMediaAttached(t,n){if(!this.config.emeEnabled)return;const i=n.media;this.media=i,Ri(i,"encrypted",this.onMediaEncrypted),Ri(i,"waitingforkey",this.onWaitingForKey)}onMediaDetached(){const t=this.media;t&&(Pi(t,"encrypted",this.onMediaEncrypted),Pi(t,"waitingforkey",this.onWaitingForKey),this.media=null,this.mediaKeys=null)}_clear(){var t;if(this._requestLicenseFailureCount=0,this.keyIdToKeySessionPromise={},this.bannedKeyIds={},!this.mediaKeys&&!this.mediaKeySessions.length)return;const n=this.media,i=this.mediaKeySessions.slice();this.mediaKeySessions=[],this.mediaKeys=null,Vc.clearKeyUriToKeyIdMap();const l=i.length;ol.CDMCleanupPromise=Promise.all(i.map(d=>this.removeSession(d)).concat(n==null||(t=n.setMediaKeys(null))==null?void 0:t.catch(d=>{this.log(`Could not clear media keys: ${d}`),this.hls&&this.hls.trigger(F.ERROR,{type:nn.OTHER_ERROR,details:Ot.KEY_SYSTEM_DESTROY_MEDIA_KEYS_ERROR,fatal:!1,error:new Error(`Could not clear media keys: ${d}`)})}))).catch(d=>{this.log(`Could not close sessions and clear media keys: ${d}`),this.hls&&this.hls.trigger(F.ERROR,{type:nn.OTHER_ERROR,details:Ot.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR,fatal:!1,error:new Error(`Could not close sessions and clear media keys: ${d}`)})}).then(()=>{l&&this.log("finished closing key sessions and clearing media keys")})}onManifestLoading(){this.keyFormatPromise=null,this.bannedKeyIds={}}onManifestLoaded(t,{sessionKeys:n}){if(!(!n||!this.config.emeEnabled)&&!this.keyFormatPromise){const i=n.reduce((l,d)=>(l.indexOf(d.keyFormat)===-1&&l.push(d.keyFormat),l),[]);this.log(`Selecting key-system from session-keys ${i.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(i)}}removeSession(t){const{mediaKeysSession:n,licenseXhr:i,decryptdata:l}=t;if(n){this.log(`Remove licenses and keys and close session "${n.sessionId}" keyId: ${Ki(l?.keyId||[])}`),t._onmessage&&(n.removeEventListener("message",t._onmessage),t._onmessage=void 0),t._onkeystatuseschange&&(n.removeEventListener("keystatuseschange",t._onkeystatuseschange),t._onkeystatuseschange=void 0),i&&i.readyState!==XMLHttpRequest.DONE&&i.abort(),t.mediaKeysSession=t.decryptdata=t.licenseXhr=void 0;const d=this.mediaKeySessions.indexOf(t);d>-1&&this.mediaKeySessions.splice(d,1);const{drmSystemOptions:a}=this.config;return(KE(a)?new Promise((e,o)=>{self.setTimeout(()=>o(new Error("MediaKeySession.remove() timeout")),8e3),n.remove().then(e).catch(o)}):Promise.resolve()).catch(e=>{this.log(`Could not remove session: ${e}`),this.hls&&this.hls.trigger(F.ERROR,{type:nn.OTHER_ERROR,details:Ot.KEY_SYSTEM_DESTROY_REMOVE_SESSION_ERROR,fatal:!1,error:new Error(`Could not remove session: ${e}`)})}).then(()=>n.close()).catch(e=>{this.log(`Could not close session: ${e}`),this.hls&&this.hls.trigger(F.ERROR,{type:nn.OTHER_ERROR,details:Ot.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR,fatal:!1,error:new Error(`Could not close session: ${e}`)})})}}}ol.CDMCleanupPromise=void 0;class bs extends Error{constructor(t,n){super(n),this.data=void 0,t.error||(t.error=new Error(n)),this.data=t,t.err=t.error}}function X0(g,t){const n=g==="output-restricted",i=n?Ot.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:Ot.KEY_SYSTEM_STATUS_INTERNAL_ERROR;return new bs({type:nn.KEY_SYSTEM_ERROR,details:i,fatal:!1,decryptdata:t},n?"HDCP level output restricted":`key status changed to "${g}"`)}class hS{constructor(t){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=t,this.registerListeners()}setStreamController(t){this.streamController=t}registerListeners(){this.hls.on(F.MEDIA_ATTACHING,this.onMediaAttaching,this),this.hls.on(F.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListeners(){this.hls.off(F.MEDIA_ATTACHING,this.onMediaAttaching,this),this.hls.off(F.MEDIA_DETACHING,this.onMediaDetaching,this)}destroy(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}onMediaAttaching(t,n){const i=this.hls.config;if(i.capLevelOnFPSDrop){const l=n.media instanceof self.HTMLVideoElement?n.media:null;this.media=l,l&&typeof l.getVideoPlaybackQuality=="function"&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),i.fpsDroppedMonitoringPeriod)}}onMediaDetaching(){this.media=null}checkFPS(t,n,i){const l=performance.now();if(n){if(this.lastTime){const d=l-this.lastTime,a=i-this.lastDroppedFrames,c=n-this.lastDecodedFrames,e=1e3*a/d,o=this.hls;if(o.trigger(F.FPS_DROP,{currentDropped:a,currentDecoded:c,totalDroppedFrames:i}),e>0&&a>o.config.fpsDroppedMonitoringThreshold*c){let u=o.currentLevel;o.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+u),u>0&&(o.autoLevelCapping===-1||o.autoLevelCapping>=u)&&(u=u-1,o.trigger(F.FPS_DROP_LEVEL_CAPPING,{level:u,droppedLevel:o.currentLevel}),o.autoLevelCapping=u,this.streamController.nextLevelSwitch())}}this.lastTime=l,this.lastDroppedFrames=i,this.lastDecodedFrames=n}}checkFPSInterval(){const t=this.media;if(t)if(this.isVideoPlaybackQualityAvailable){const n=t.getVideoPlaybackQuality();this.checkFPS(t,n.totalVideoFrames,n.droppedVideoFrames)}else this.checkFPS(t,t.webkitDecodedFrameCount,t.webkitDroppedFrameCount)}}function xv(g,t){let n;try{n=new Event("addtrack")}catch{n=document.createEvent("Event"),n.initEvent("addtrack",!1,!1)}n.track=g,t.dispatchEvent(n)}function wv(g,t){const n=g.mode;if(n==="disabled"&&(g.mode="hidden"),g.cues&&!g.cues.getCueById(t.id))try{if(g.addCue(t),!g.cues.getCueById(t.id))throw new Error(`addCue is failed for: ${t}`)}catch(i){fr.debug(`[texttrack-utils]: ${i}`);try{const l=new self.TextTrackCue(t.startTime,t.endTime,t.text);l.id=t.id,g.addCue(l)}catch(l){fr.debug(`[texttrack-utils]: Legacy TextTrackCue fallback failed: ${l}`)}}n==="disabled"&&(g.mode=n)}function il(g,t){const n=g.mode;if(n==="disabled"&&(g.mode="hidden"),g.cues)for(let i=g.cues.length;i--;)t&&g.cues[i].removeEventListener("enter",t),g.removeCue(g.cues[i]);n==="disabled"&&(g.mode=n)}function Sh(g,t,n,i){const l=g.mode;if(l==="disabled"&&(g.mode="hidden"),g.cues&&g.cues.length>0){const d=gS(g.cues,t,n);for(let a=0;a<d.length;a++)(!i||i(d[a]))&&g.removeCue(d[a])}l==="disabled"&&(g.mode=l)}function AS(g,t){if(t<=g[0].startTime)return 0;const n=g.length-1;if(t>g[n].endTime)return-1;let i=0,l=n,d;for(;i<=l;)if(d=Math.floor((l+i)/2),t<g[d].startTime)l=d-1;else if(t>g[d].startTime&&i<n)i=d+1;else return d;return g[i].startTime-t<t-g[l].startTime?i:l}function gS(g,t,n){const i=[],l=AS(g,t);if(l>-1)for(let d=l,a=g.length;d<a;d++){const c=g[d];if(c.startTime>=t&&c.endTime<=n)i.push(c);else if(c.startTime>n)return i}return i}function Bc(g){const t=[];for(let n=0;n<g.length;n++){const i=g[n];(i.kind==="subtitles"||i.kind==="captions")&&i.label&&t.push(g[n])}return t}class pS extends jh{constructor(t){super(t,"subtitle-track-controller"),this.media=null,this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.queuedDefaultTrack=-1,this.useTextTrackPolling=!1,this.subtitlePollingInterval=-1,this._subtitleDisplay=!0,this.asyncPollTrackChange=()=>this.pollTrackChange(0),this.onTextTracksChanged=()=>{if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!this.media||!this.hls.config.renderTextTracksNatively)return;let n=null;const i=Bc(this.media.textTracks);for(let d=0;d<i.length;d++)if(i[d].mode==="hidden")n=i[d];else if(i[d].mode==="showing"){n=i[d];break}const l=this.findTrackForTextTrack(n);this.subtitleTrack!==l&&this.setSubtitleTrack(l)},this.registerListeners()}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,this.onTextTracksChanged=this.asyncPollTrackChange=null,super.destroy()}get subtitleDisplay(){return this._subtitleDisplay}set subtitleDisplay(t){this._subtitleDisplay=t,this.trackId>-1&&this.toggleTrackModes()}registerListeners(){const{hls:t}=this;t.on(F.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(F.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(F.MANIFEST_LOADING,this.onManifestLoading,this),t.on(F.MANIFEST_PARSED,this.onManifestParsed,this),t.on(F.LEVEL_LOADING,this.onLevelLoading,this),t.on(F.LEVEL_SWITCHING,this.onLevelSwitching,this),t.on(F.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.on(F.ERROR,this.onError,this)}unregisterListeners(){const{hls:t}=this;t.off(F.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(F.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(F.MANIFEST_LOADING,this.onManifestLoading,this),t.off(F.MANIFEST_PARSED,this.onManifestParsed,this),t.off(F.LEVEL_LOADING,this.onLevelLoading,this),t.off(F.LEVEL_SWITCHING,this.onLevelSwitching,this),t.off(F.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.off(F.ERROR,this.onError,this)}onMediaAttached(t,n){this.media=n.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}pollTrackChange(t){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.onTextTracksChanged,t)}onMediaDetaching(t,n){const i=this.media;if(!i)return;const l=!!n.transferMedia;if(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||i.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),this.subtitleTrack=-1,this.media=null,l)return;Bc(i.textTracks).forEach(a=>{il(a)})}onManifestLoading(){this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}onManifestParsed(t,n){this.tracks=n.subtitleTracks}onSubtitleTrackLoaded(t,n){const{id:i,groupId:l,details:d}=n,a=this.tracksInGroup[i];if(!a||a.groupId!==l){this.warn(`Subtitle track with id:${i} and group:${l} not found in active group ${a?.groupId}`);return}const c=a.details;a.details=n.details,this.log(`Subtitle track ${i} "${a.name}" lang:${a.lang} group:${l} loaded [${d.startSN}-${d.endSN}]`),i===this.trackId&&this.playlistLoaded(i,n,c)}onLevelLoading(t,n){this.switchLevel(n.level)}onLevelSwitching(t,n){this.switchLevel(n.level)}switchLevel(t){const n=this.hls.levels[t];if(!n)return;const i=n.subtitleGroups||null,l=this.groupIds;let d=this.currentTrack;if(!i||l?.length!==i?.length||i!=null&&i.some(a=>l?.indexOf(a)===-1)){this.groupIds=i,this.trackId=-1,this.currentTrack=null;const a=this.tracks.filter(u=>!i||i.indexOf(u.groupId)!==-1);if(a.length)this.selectDefaultTrack&&!a.some(u=>u.default)&&(this.selectDefaultTrack=!1),a.forEach((u,f)=>{u.id=f});else if(!d&&!this.tracksInGroup.length)return;this.tracksInGroup=a;const c=this.hls.config.subtitlePreference;if(!d&&c){this.selectDefaultTrack=!1;const u=_s(c,a);if(u>-1)d=a[u];else{const f=_s(c,this.tracks);d=this.tracks[f]}}let e=this.findTrackId(d);e===-1&&d&&(e=this.findTrackId(null));const o={subtitleTracks:a};this.log(`Updating subtitle tracks, ${a.length} track(s) found in "${i?.join(",")}" group-id`),this.hls.trigger(F.SUBTITLE_TRACKS_UPDATED,o),e!==-1&&this.trackId===-1&&this.setSubtitleTrack(e)}}findTrackId(t){const n=this.tracksInGroup,i=this.selectDefaultTrack;for(let l=0;l<n.length;l++){const d=n[l];if(!(i&&!d.default||!i&&!t)&&(!t||vo(d,t)))return l}if(t){for(let l=0;l<n.length;l++){const d=n[l];if(au(t.attrs,d.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return l}for(let l=0;l<n.length;l++){const d=n[l];if(au(t.attrs,d.attrs,["LANGUAGE"]))return l}}return-1}findTrackForTextTrack(t){if(t){const n=this.tracksInGroup;for(let i=0;i<n.length;i++){const l=n[i];if(yh(l,t))return i}}return-1}onError(t,n){n.fatal||!n.context||n.context.type===jn.SUBTITLE_TRACK&&n.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(n.context.groupId)!==-1)&&this.checkRetry(n)}get allSubtitleTracks(){return this.tracks}get subtitleTracks(){return this.tracksInGroup}get subtitleTrack(){return this.trackId}set subtitleTrack(t){this.selectDefaultTrack=!1,this.setSubtitleTrack(t)}setSubtitleOption(t){if(this.hls.config.subtitlePreference=t,t){if(t.id===-1)return this.setSubtitleTrack(-1),null;const n=this.allSubtitleTracks;if(this.selectDefaultTrack=!1,n.length){const i=this.currentTrack;if(i&&vo(t,i))return i;const l=_s(t,this.tracksInGroup);if(l>-1){const d=this.tracksInGroup[l];return this.setSubtitleTrack(l),d}else{if(i)return null;{const d=_s(t,n);if(d>-1)return n[d]}}}}return null}loadPlaylist(t){super.loadPlaylist(),this.shouldLoadPlaylist(this.currentTrack)&&this.scheduleLoading(this.currentTrack,t)}loadingPlaylist(t,n){super.loadingPlaylist(t,n);const i=t.id,l=t.groupId,d=this.getUrlWithDirectives(t.url,n),a=t.details,c=a?.age;this.log(`Loading subtitle ${i} "${t.name}" lang:${t.lang} group:${l}${n?.msn!==void 0?" at sn "+n.msn+" part "+n.part:""}${c&&a.live?" age "+c.toFixed(1)+(a.type&&" "+a.type||""):""} ${d}`),this.hls.trigger(F.SUBTITLE_TRACK_LOADING,{url:d,id:i,groupId:l,deliveryDirectives:n||null,track:t})}toggleTrackModes(){const{media:t}=this;if(!t)return;const n=Bc(t.textTracks),i=this.currentTrack;let l;if(i&&(l=n.filter(d=>yh(i,d))[0],l||this.warn(`Unable to find subtitle TextTrack with name "${i.name}" and language "${i.lang}"`)),[].slice.call(n).forEach(d=>{d.mode!=="disabled"&&d!==l&&(d.mode="disabled")}),l){const d=this.subtitleDisplay?"showing":"hidden";l.mode!==d&&(l.mode=d)}}setSubtitleTrack(t){const n=this.tracksInGroup;if(!this.media){this.queuedDefaultTrack=t;return}if(t<-1||t>=n.length||!Qe(t)){this.warn(`Invalid subtitle track id: ${t}`);return}this.selectDefaultTrack=!1;const i=this.currentTrack,l=n[t]||null;if(this.trackId=t,this.currentTrack=l,this.toggleTrackModes(),!l){this.hls.trigger(F.SUBTITLE_TRACK_SWITCH,{id:t});return}const d=!!l.details&&!l.details.live;if(t===this.trackId&&l===i&&d)return;this.log(`Switching to subtitle-track ${t}`+(l?` "${l.name}" lang:${l.lang} group:${l.groupId}`:""));const{id:a,groupId:c="",name:e,type:o,url:u}=l;this.hls.trigger(F.SUBTITLE_TRACK_SWITCH,{id:a,groupId:c,name:e,type:o,url:u});const f=this.switchParams(l.url,i?.details,l.details);this.loadPlaylist(f)}}function mS(){try{return crypto.randomUUID()}catch{try{const t=URL.createObjectURL(new Blob),n=t.toString();return URL.revokeObjectURL(t),n.slice(n.lastIndexOf("/")+1)}catch{let n=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,l=>{const d=(n+Math.random()*16)%16|0;return n=Math.floor(n/16),(l=="x"?d:d&3|8).toString(16)})}}}function tu(g){let t=5381,n=g.length;for(;n;)t=t*33^g.charCodeAt(--n);return(t>>>0).toString()}const ll=.025;let Yc=(function(g){return g[g.Point=0]="Point",g[g.Range=1]="Range",g})({});function vS(g,t,n){return`${g.identifier}-${n+1}-${tu(t)}`}class yS{constructor(t,n){this.base=void 0,this._duration=null,this._timelineStart=null,this.appendInPlaceDisabled=void 0,this.appendInPlaceStarted=void 0,this.dateRange=void 0,this.hasPlayed=!1,this.cumulativeDuration=0,this.resumeOffset=NaN,this.playoutLimit=NaN,this.restrictions={skip:!1,jump:!1},this.snapOptions={out:!1,in:!1},this.assetList=[],this.assetListLoader=void 0,this.assetListResponse=null,this.resumeAnchor=void 0,this.error=void 0,this.resetOnResume=void 0,this.base=n,this.dateRange=t,this.setDateRange(t)}setDateRange(t){this.dateRange=t,this.resumeOffset=t.attr.optionalFloat("X-RESUME-OFFSET",this.resumeOffset),this.playoutLimit=t.attr.optionalFloat("X-PLAYOUT-LIMIT",this.playoutLimit),this.restrictions=t.attr.enumeratedStringList("X-RESTRICT",this.restrictions),this.snapOptions=t.attr.enumeratedStringList("X-SNAP",this.snapOptions)}reset(){var t;this.appendInPlaceStarted=!1,(t=this.assetListLoader)==null||t.destroy(),this.assetListLoader=void 0,this.supplementsPrimary||(this.assetListResponse=null,this.assetList=[],this._duration=null)}isAssetPastPlayoutLimit(t){var n;if(t>0&&t>=this.assetList.length)return!0;const i=this.playoutLimit;return t<=0||isNaN(i)?!1:i===0?!0:(((n=this.assetList[t])==null?void 0:n.startOffset)||0)>i}findAssetIndex(t){return this.assetList.indexOf(t)}get identifier(){return this.dateRange.id}get startDate(){return this.dateRange.startDate}get startTime(){const t=this.dateRange.startTime;if(this.snapOptions.out){const n=this.dateRange.tagAnchor;if(n)return Wd(t,n)}return t}get startOffset(){return this.cue.pre?0:this.startTime}get startIsAligned(){if(this.startTime===0||this.snapOptions.out)return!0;const t=this.dateRange.tagAnchor;if(t){const n=this.dateRange.startTime,i=Wd(n,t);return n-i<.1}return!1}get resumptionOffset(){const t=this.resumeOffset,n=Qe(t)?t:this.duration;return this.cumulativeDuration+n}get resumeTime(){const t=this.startOffset+this.resumptionOffset;if(this.snapOptions.in){const n=this.resumeAnchor;if(n)return Wd(t,n)}return t}get appendInPlace(){return this.appendInPlaceStarted?!0:this.appendInPlaceDisabled?!1:!!(!this.cue.once&&!this.cue.pre&&this.startIsAligned&&(isNaN(this.playoutLimit)&&isNaN(this.resumeOffset)||this.resumeOffset&&this.duration&&Math.abs(this.resumeOffset-this.duration)<ll))}set appendInPlace(t){if(this.appendInPlaceStarted){this.resetOnResume=!t;return}this.appendInPlaceDisabled=!t}get timelineStart(){return this._timelineStart!==null?this._timelineStart:this.startTime}set timelineStart(t){this._timelineStart=t}get duration(){const t=this.playoutLimit;let n;return this._duration!==null?n=this._duration:this.dateRange.duration?n=this.dateRange.duration:n=this.dateRange.plannedDuration||0,!isNaN(t)&&t<n&&(n=t),n}set duration(t){this._duration=t}get cue(){return this.dateRange.cue}get timelineOccupancy(){return this.dateRange.attr["X-TIMELINE-OCCUPIES"]==="RANGE"?Yc.Range:Yc.Point}get supplementsPrimary(){return this.dateRange.attr["X-TIMELINE-STYLE"]==="PRIMARY"}get contentMayVary(){return this.dateRange.attr["X-CONTENT-MAY-VARY"]!=="NO"}get assetUrl(){return this.dateRange.attr["X-ASSET-URI"]}get assetListUrl(){return this.dateRange.attr["X-ASSET-LIST"]}get baseUrl(){return this.base.url}get assetListLoaded(){return this.assetList.length>0||this.assetListResponse!==null}toString(){return ES(this)}}function Wd(g,t){return g-t.start<t.duration/2&&!(Math.abs(g-(t.start+t.duration))<ll)?t.start:t.start+t.duration}function Lv(g,t,n){const i=new self.URL(g,n);return i.protocol!=="data:"&&i.searchParams.set("_HLS_primary_id",t),i}function qd(g,t){for(;(n=g.assetList[++t])!=null&&n.error;)var n;return t}function ES(g){return`["${g.identifier}" ${g.cue.pre?"<pre>":g.cue.post?"<post>":""}${g.timelineStart.toFixed(2)}-${g.resumeTime.toFixed(2)}]`}function nl(g){const t=g.timelineStart,n=g.duration||0;return`["${g.identifier}" ${t.toFixed(2)}-${(t+n).toFixed(2)}]`}class bS{constructor(t,n,i,l){this.hls=void 0,this.interstitial=void 0,this.assetItem=void 0,this.tracks=null,this.hasDetails=!1,this.mediaAttached=null,this._currentTime=void 0,this._bufferedEosTime=void 0,this.checkPlayout=()=>{this.reachedPlayout(this.currentTime)&&this.hls&&this.hls.trigger(F.PLAYOUT_LIMIT_REACHED,{})};const d=this.hls=new t(n);this.interstitial=i,this.assetItem=l;const a=()=>{this.hasDetails=!0};d.once(F.LEVEL_LOADED,a),d.once(F.AUDIO_TRACK_LOADED,a),d.once(F.SUBTITLE_TRACK_LOADED,a),d.on(F.MEDIA_ATTACHING,(c,{media:e})=>{this.removeMediaListeners(),this.mediaAttached=e,this.interstitial.playoutLimit&&(e.addEventListener("timeupdate",this.checkPlayout),this.appendInPlace&&d.on(F.BUFFER_APPENDED,()=>{const u=this.bufferedEnd;this.reachedPlayout(u)&&(this._bufferedEosTime=u,d.trigger(F.BUFFERED_TO_END,void 0))}))})}get appendInPlace(){return this.interstitial.appendInPlace}loadSource(){const t=this.hls;if(t)if(t.url)t.levels.length&&!t.started&&t.startLoad(-1,!0);else{let n=this.assetItem.uri;try{n=Lv(n,t.config.primarySessionId||"").href}catch{}t.loadSource(n)}}bufferedInPlaceToEnd(t){var n;if(!this.appendInPlace)return!1;if((n=this.hls)!=null&&n.bufferedToEnd)return!0;if(!t)return!1;const i=Math.min(this._bufferedEosTime||1/0,this.duration),l=this.timelineOffset,d=_n.bufferInfo(t,l,0);return this.getAssetTime(d.end)>=i-.02}reachedPlayout(t){const i=this.interstitial.playoutLimit;return this.startOffset+t>=i}get destroyed(){var t;return!((t=this.hls)!=null&&t.userConfig)}get assetId(){return this.assetItem.identifier}get interstitialId(){return this.assetItem.parentIdentifier}get media(){var t;return((t=this.hls)==null?void 0:t.media)||null}get bufferedEnd(){const t=this.media||this.mediaAttached;if(!t)return this._bufferedEosTime?this._bufferedEosTime:this.currentTime;const n=_n.bufferInfo(t,t.currentTime,.001);return this.getAssetTime(n.end)}get currentTime(){const t=this.media||this.mediaAttached;return t?this.getAssetTime(t.currentTime):this._currentTime||0}get duration(){const t=this.assetItem.duration;if(!t)return 0;const n=this.interstitial.playoutLimit;if(n){const i=n-this.startOffset;if(i>0&&i<t)return i}return t}get remaining(){const t=this.duration;return t?Math.max(0,t-this.currentTime):0}get startOffset(){return this.assetItem.startOffset}get timelineOffset(){var t;return((t=this.hls)==null?void 0:t.config.timelineOffset)||0}set timelineOffset(t){const n=this.timelineOffset;if(t!==n){const i=t-n;if(Math.abs(i)>1/9e4&&this.hls){if(this.hasDetails)throw new Error("Cannot set timelineOffset after playlists are loaded");this.hls.config.timelineOffset=t}}}getAssetTime(t){const n=this.timelineOffset,i=this.duration;return Math.min(Math.max(0,t-n),i)}removeMediaListeners(){const t=this.mediaAttached;t&&(this._currentTime=t.currentTime,this.bufferSnapShot(),t.removeEventListener("timeupdate",this.checkPlayout))}bufferSnapShot(){if(this.mediaAttached){var t;(t=this.hls)!=null&&t.bufferedToEnd&&(this._bufferedEosTime=this.bufferedEnd)}}destroy(){this.removeMediaListeners(),this.hls&&this.hls.destroy(),this.hls=null,this.tracks=this.mediaAttached=this.checkPlayout=null}attachMedia(t){var n;this.loadSource(),(n=this.hls)==null||n.attachMedia(t)}detachMedia(){var t;this.removeMediaListeners(),this.mediaAttached=null,(t=this.hls)==null||t.detachMedia()}resumeBuffering(){var t;(t=this.hls)==null||t.resumeBuffering()}pauseBuffering(){var t;(t=this.hls)==null||t.pauseBuffering()}transferMedia(){var t;return this.bufferSnapShot(),((t=this.hls)==null?void 0:t.transferMedia())||null}resetDetails(){const t=this.hls;if(t&&this.hasDetails){t.stopLoad();const n=i=>delete i.details;t.levels.forEach(n),t.allAudioTracks.forEach(n),t.allSubtitleTracks.forEach(n),this.hasDetails=!1}}on(t,n,i){var l;(l=this.hls)==null||l.on(t,n)}once(t,n,i){var l;(l=this.hls)==null||l.once(t,n)}off(t,n,i){var l;(l=this.hls)==null||l.off(t,n)}toString(){var t;return`HlsAssetPlayer: ${nl(this.assetItem)} ${(t=this.hls)==null?void 0:t.sessionId} ${this.appendInPlace?"append-in-place":""}`}}const Z0=.033;class CS extends ss{constructor(t,n){super("interstitials-sched",n),this.onScheduleUpdate=void 0,this.eventMap={},this.events=null,this.items=null,this.durations={primary:0,playout:0,integrated:0},this.onScheduleUpdate=t}destroy(){this.reset(),this.onScheduleUpdate=null}reset(){this.eventMap={},this.setDurations(0,0,0),this.events&&this.events.forEach(t=>t.reset()),this.events=this.items=null}resetErrorsInRange(t,n){return this.events?this.events.reduce((i,l)=>t<=l.startOffset&&n>l.startOffset?(delete l.error,i+1):i,0):0}get duration(){const t=this.items;return t?t[t.length-1].end:0}get length(){return this.items?this.items.length:0}getEvent(t){return t&&this.eventMap[t]||null}hasEvent(t){return t in this.eventMap}findItemIndex(t,n){if(t.event)return this.findEventIndex(t.event.identifier);let i=-1;t.nextEvent?i=this.findEventIndex(t.nextEvent.identifier)-1:t.previousEvent&&(i=this.findEventIndex(t.previousEvent.identifier)+1);const l=this.items;if(l)for(l[i]||(n===void 0&&(n=t.start),i=this.findItemIndexAtTime(n));i>=0&&(d=l[i])!=null&&d.event;){var d;i--}return i}findItemIndexAtTime(t,n){const i=this.items;if(i)for(let l=0;l<i.length;l++){let d=i[l];if(n&&n!=="primary"&&(d=d[n]),t===d.start||t>d.start&&t<d.end)return l}return-1}findJumpRestrictedIndex(t,n){const i=this.items;if(i)for(let l=t;l<=n&&i[l];l++){const d=i[l].event;if(d!=null&&d.restrictions.jump&&!d.appendInPlace)return l}return-1}findEventIndex(t){const n=this.items;if(n)for(let l=n.length;l--;){var i;if(((i=n[l].event)==null?void 0:i.identifier)===t)return l}return-1}findAssetIndex(t,n){const i=t.assetList,l=i.length;if(l>1)for(let d=0;d<l;d++){const a=i[d];if(!a.error){const c=a.timelineStart;if(n===c||n>c&&(n<c+(a.duration||0)||d===l-1))return d}}return 0}get assetIdAtEnd(){var t;const n=(t=this.items)==null||(t=t[this.length-1])==null?void 0:t.event;if(n){const i=n.assetList,l=i[i.length-1];if(l)return l.identifier}return null}parseInterstitialDateRanges(t,n){const i=t.main.details,{dateRanges:l}=i,d=this.events,a=this.parseDateRanges(l,{url:i.url},n),c=Object.keys(l),e=d?d.filter(o=>!c.includes(o.identifier)):[];a.length&&a.sort((o,u)=>{const f=o.cue.pre,A=o.cue.post,p=u.cue.pre,m=u.cue.post;if(f&&!p)return-1;if(p&&!f||A&&!m)return 1;if(m&&!A)return-1;if(!f&&!p&&!A&&!m){const y=o.startTime,E=u.startTime;if(y!==E)return y-E}return o.dateRange.tagOrder-u.dateRange.tagOrder}),this.events=a,e.forEach(o=>{this.removeEvent(o)}),this.updateSchedule(t,e)}updateSchedule(t,n=[],i=!1){const l=this.events||[];if(l.length||n.length||this.length<2){const d=this.items,a=this.parseSchedule(l,t);(i||n.length||d?.length!==a.length||a.some((e,o)=>Math.abs(e.playout.start-d[o].playout.start)>.005||Math.abs(e.playout.end-d[o].playout.end)>.005))&&(this.items=a,this.onScheduleUpdate(n,d))}}parseDateRanges(t,n,i){const l=[],d=Object.keys(t);for(let a=0;a<d.length;a++){const c=d[a],e=t[c];if(e.isInterstitial){let o=this.eventMap[c];o?o.setDateRange(e):(o=new yS(e,n),this.eventMap[c]=o,i===!1&&(o.appendInPlace=i)),l.push(o)}}return l}parseSchedule(t,n){const i=[],l=n.main.details,d=l.live?1/0:l.edge;let a=0;if(t=t.filter(e=>!e.error&&!(e.cue.once&&e.hasPlayed)),t.length){this.resolveOffsets(t,n);let e=0,o=0;if(t.forEach((u,f)=>{const A=u.cue.pre,p=u.cue.post,m=t[f-1]||null,y=u.appendInPlace,E=p?d:u.startOffset,C=u.duration,T=u.timelineOccupancy===Yc.Range?C:0,x=u.resumptionOffset,L=m?.startTime===E,D=E+u.cumulativeDuration;let B=y?D+C:E+x;if(A||!p&&E<=0){const _=o;o+=T,u.timelineStart=D;const M=a;a+=C,i.push({event:u,start:D,end:B,playout:{start:M,end:a},integrated:{start:_,end:o}})}else if(E<=d){if(!L){const U=E-e;if(U>Z0){const Q=e,$=o;o+=U;const W=a;a+=U;const X={previousEvent:t[f-1]||null,nextEvent:u,start:Q,end:Q+U,playout:{start:W,end:a},integrated:{start:$,end:o}};i.push(X)}else U>0&&m&&(m.cumulativeDuration+=U,i[i.length-1].end=E)}p&&(B=D),u.timelineStart=D;const _=o;o+=T;const M=a;a+=C,i.push({event:u,start:D,end:B,playout:{start:M,end:a},integrated:{start:_,end:o}})}else return;const O=u.resumeTime;p||O>d?e=d:e=O}),e<d){var c;const u=e,f=o,A=d-e;o+=A;const p=a;a+=A,i.push({previousEvent:((c=i[i.length-1])==null?void 0:c.event)||null,nextEvent:null,start:e,end:u+A,playout:{start:p,end:a},integrated:{start:f,end:o}})}this.setDurations(d,a,o)}else i.push({previousEvent:null,nextEvent:null,start:0,end:d,playout:{start:0,end:d},integrated:{start:0,end:d}}),this.setDurations(d,d,d);return i}setDurations(t,n,i){this.durations={primary:t,playout:n,integrated:i}}resolveOffsets(t,n){const i=n.main.details,l=i.live?1/0:i.edge;let d=0,a=-1;t.forEach((c,e)=>{const o=c.cue.pre,u=c.cue.post,f=o?0:u?l:c.startTime;this.updateAssetDurations(c),a===f?c.cumulativeDuration=d:(d=0,a=f),!u&&c.snapOptions.in&&(c.resumeAnchor=yo(null,i.fragments,c.startOffset+c.resumptionOffset,0,0)||void 0),c.appendInPlace&&!c.appendInPlaceStarted&&(this.primaryCanResumeInPlaceAt(c,n)||(c.appendInPlace=!1)),!c.appendInPlace&&e+1<t.length&&t[e+1].startTime-t[e].resumeTime<Z0&&(t[e+1].appendInPlace=!1,t[e+1].appendInPlace&&this.warn(`Could not change append strategy for abutting event ${c}`));const p=Qe(c.resumeOffset)?c.resumeOffset:c.duration;d+=p})}primaryCanResumeInPlaceAt(t,n){const i=t.resumeTime,l=t.startTime+t.resumptionOffset;return Math.abs(i-l)>ll?(this.log(`"${t.identifier}" resumption ${i} not aligned with estimated timeline end ${l}`),!1):!Object.keys(n).some(a=>{const c=n[a].details,e=c.edge;if(i>=e)return this.log(`"${t.identifier}" resumption ${i} past ${a} playlist end ${e}`),!1;const o=yo(null,c.fragments,i);if(!o)return this.log(`"${t.identifier}" resumption ${i} does not align with any fragments in ${a} playlist (${c.fragStart}-${c.fragmentEnd})`),!0;const u=a==="audio"?.175:0;return Math.abs(o.start-i)<ll+u||Math.abs(o.end-i)<ll+u?!1:(this.log(`"${t.identifier}" resumption ${i} not aligned with ${a} fragment bounds (${o.start}-${o.end} sn: ${o.sn} cc: ${o.cc})`),!0)})}updateAssetDurations(t){if(!t.assetListLoaded)return;const n=t.timelineStart;let i=0,l=!1,d=!1;for(let a=0;a<t.assetList.length;a++){const c=t.assetList[a],e=n+i;c.startOffset=i,c.timelineStart=e,l||(l=c.duration===null),d||(d=!!c.error);const o=c.error?0:c.duration||0;i+=o}l&&!d?t.duration=Math.max(i,t.duration):t.duration=i}removeEvent(t){t.reset(),delete this.eventMap[t.identifier]}}function Es(g){return`[${g.event?'"'+g.event.identifier+'"':"primary"}: ${g.start.toFixed(2)}-${g.end.toFixed(2)}]`}class SS{constructor(t){this.hls=void 0,this.hls=t}destroy(){this.hls=null}loadAssetList(t,n){const i=t.assetListUrl;let l;try{l=Lv(i,this.hls.sessionId,t.baseUrl)}catch(A){const p=this.assignAssetListError(t,Ot.ASSET_LIST_LOAD_ERROR,A,i);this.hls.trigger(F.ERROR,p);return}n&&l.protocol!=="data:"&&l.searchParams.set("_HLS_start_offset",""+n);const d=this.hls.config,a=d.loader,c=new a(d),e={responseType:"json",url:l.href},o=d.interstitialAssetListLoadPolicy.default,u={loadPolicy:o,timeout:o.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},f={onSuccess:(A,p,m,y)=>{const E=A.data,C=E?.ASSETS;if(!Array.isArray(C)){const T=this.assignAssetListError(t,Ot.ASSET_LIST_PARSING_ERROR,new Error("Invalid interstitial asset list"),m.url,p,y);this.hls.trigger(F.ERROR,T);return}t.assetListResponse=E,this.hls.trigger(F.ASSET_LIST_LOADED,{event:t,assetListResponse:E,networkDetails:y})},onError:(A,p,m,y)=>{const E=this.assignAssetListError(t,Ot.ASSET_LIST_LOAD_ERROR,new Error(`Error loading X-ASSET-LIST: HTTP status ${A.code} ${A.text} (${p.url})`),p.url,y,m);this.hls.trigger(F.ERROR,E)},onTimeout:(A,p,m)=>{const y=this.assignAssetListError(t,Ot.ASSET_LIST_LOAD_TIMEOUT,new Error(`Timeout loading X-ASSET-LIST (${p.url})`),p.url,A,m);this.hls.trigger(F.ERROR,y)}};return c.load(e,u,f),this.hls.trigger(F.ASSET_LIST_LOADING,{event:t}),c}assignAssetListError(t,n,i,l,d,a){return t.error=i,{type:nn.NETWORK_ERROR,details:n,fatal:!1,interstitial:t,url:l,error:i,networkDetails:a,stats:d}}}function J0(g){g?.play().catch(()=>{})}function Ec(g,t){return`[${g}] Advancing timeline position to ${t}`}class TS extends ss{constructor(t,n){super("interstitials",t.logger),this.HlsPlayerClass=void 0,this.hls=void 0,this.assetListLoader=void 0,this.mediaSelection=null,this.altSelection=null,this.media=null,this.detachedData=null,this.requiredTracks=null,this.manager=null,this.playerQueue=[],this.bufferedPos=-1,this.timelinePos=-1,this.schedule=void 0,this.playingItem=null,this.bufferingItem=null,this.waitingItem=null,this.endedItem=null,this.playingAsset=null,this.endedAsset=null,this.bufferingAsset=null,this.shouldPlay=!1,this.onPlay=()=>{this.shouldPlay=!0},this.onPause=()=>{this.shouldPlay=!1},this.onSeeking=()=>{const i=this.currentTime;if(i===void 0||this.playbackDisabled||!this.schedule)return;const l=i-this.timelinePos;if(Math.abs(l)<1/7056e5)return;const a=l<=-.01;this.timelinePos=i,this.bufferedPos=i;const c=this.playingItem;if(!c){this.checkBuffer();return}if(a&&this.schedule.resetErrorsInRange(i,i-l)&&this.updateSchedule(!0),this.checkBuffer(),a&&i<c.start||i>=c.end){var e;const p=this.findItemIndex(c);let m=this.schedule.findItemIndexAtTime(i);if(m===-1&&(m=p+(a?-1:1),this.log(`seeked ${a?"back ":""}to position not covered by schedule ${i} (resolving from ${p} to ${m})`)),!this.isInterstitial(c)&&(e=this.media)!=null&&e.paused&&(this.shouldPlay=!1),!a&&m>p){const y=this.schedule.findJumpRestrictedIndex(p+1,m);if(y>p){this.setSchedulePosition(y);return}}this.setSchedulePosition(m);return}const o=this.playingAsset;if(!o){if(this.playingLastItem&&this.isInterstitial(c)){const p=c.event.assetList[0];p&&(this.endedItem=this.playingItem,this.playingItem=null,this.setScheduleToAssetAtTime(i,p))}return}const u=o.timelineStart,f=o.duration||0;if(a&&i<u||i>=u+f){var A;(A=c.event)!=null&&A.appendInPlace&&(this.clearInterstitial(c.event,c),this.flushFrontBuffer(i)),this.setScheduleToAssetAtTime(i,o)}},this.onTimeupdate=()=>{const i=this.currentTime;if(i===void 0||this.playbackDisabled)return;if(i>this.timelinePos)this.timelinePos=i,i>this.bufferedPos&&this.checkBuffer();else return;const l=this.playingItem;if(!l||this.playingLastItem)return;if(i>=l.end){this.timelinePos=l.end;const c=this.findItemIndex(l);this.setSchedulePosition(c+1)}const d=this.playingAsset;if(!d)return;const a=d.timelineStart+(d.duration||0);i>=a&&this.setScheduleToAssetAtTime(i,d)},this.onScheduleUpdate=(i,l)=>{const d=this.schedule;if(!d)return;const a=this.playingItem,c=d.events||[],e=d.items||[],o=d.durations,u=i.map(y=>y.identifier),f=!!(c.length||u.length);(f||l)&&this.log(`INTERSTITIALS_UPDATED (${c.length}): ${c}
Schedule: ${e.map(y=>Es(y))} pos: ${this.timelinePos}`),u.length&&this.log(`Removed events ${u}`);let A=null,p=null;a&&(A=this.updateItem(a,this.timelinePos),this.itemsMatch(a,A)?this.playingItem=A:this.waitingItem=this.endedItem=null),this.waitingItem=this.updateItem(this.waitingItem),this.endedItem=this.updateItem(this.endedItem);const m=this.bufferingItem;if(m&&(p=this.updateItem(m,this.bufferedPos),this.itemsMatch(m,p)?this.bufferingItem=p:m.event&&(this.bufferingItem=this.playingItem,this.clearInterstitial(m.event,null))),i.forEach(y=>{y.assetList.forEach(E=>{this.clearAssetPlayer(E.identifier,null)})}),this.playerQueue.forEach(y=>{if(y.interstitial.appendInPlace){const E=y.assetItem.timelineStart,C=y.timelineOffset-E;if(C)try{y.timelineOffset=E}catch(T){Math.abs(C)>ll&&this.warn(`${T} ("${y.assetId}" ${y.timelineOffset}->${E})`)}}}),f||l){if(this.hls.trigger(F.INTERSTITIALS_UPDATED,{events:c.slice(0),schedule:e.slice(0),durations:o,removedIds:u}),this.isInterstitial(a)&&u.includes(a.event.identifier)){this.warn(`Interstitial "${a.event.identifier}" removed while playing`),this.primaryFallback(a.event);return}a&&this.trimInPlace(A,a),m&&p!==A&&this.trimInPlace(p,m),this.checkBuffer()}},this.hls=t,this.HlsPlayerClass=n,this.assetListLoader=new SS(t),this.schedule=new CS(this.onScheduleUpdate,t.logger),this.registerListeners()}registerListeners(){const t=this.hls;t&&(t.on(F.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(F.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(F.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(F.MANIFEST_LOADING,this.onManifestLoading,this),t.on(F.LEVEL_UPDATED,this.onLevelUpdated,this),t.on(F.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.on(F.AUDIO_TRACK_UPDATED,this.onAudioTrackUpdated,this),t.on(F.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),t.on(F.SUBTITLE_TRACK_UPDATED,this.onSubtitleTrackUpdated,this),t.on(F.EVENT_CUE_ENTER,this.onInterstitialCueEnter,this),t.on(F.ASSET_LIST_LOADED,this.onAssetListLoaded,this),t.on(F.BUFFER_APPENDED,this.onBufferAppended,this),t.on(F.BUFFER_FLUSHED,this.onBufferFlushed,this),t.on(F.BUFFERED_TO_END,this.onBufferedToEnd,this),t.on(F.MEDIA_ENDED,this.onMediaEnded,this),t.on(F.ERROR,this.onError,this),t.on(F.DESTROYING,this.onDestroying,this))}unregisterListeners(){const t=this.hls;t&&(t.off(F.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(F.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(F.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(F.MANIFEST_LOADING,this.onManifestLoading,this),t.off(F.LEVEL_UPDATED,this.onLevelUpdated,this),t.off(F.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.off(F.AUDIO_TRACK_UPDATED,this.onAudioTrackUpdated,this),t.off(F.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),t.off(F.SUBTITLE_TRACK_UPDATED,this.onSubtitleTrackUpdated,this),t.off(F.EVENT_CUE_ENTER,this.onInterstitialCueEnter,this),t.off(F.ASSET_LIST_LOADED,this.onAssetListLoaded,this),t.off(F.BUFFER_CODECS,this.onBufferCodecs,this),t.off(F.BUFFER_APPENDED,this.onBufferAppended,this),t.off(F.BUFFER_FLUSHED,this.onBufferFlushed,this),t.off(F.BUFFERED_TO_END,this.onBufferedToEnd,this),t.off(F.MEDIA_ENDED,this.onMediaEnded,this),t.off(F.ERROR,this.onError,this),t.off(F.DESTROYING,this.onDestroying,this))}startLoad(){this.resumeBuffering()}stopLoad(){this.pauseBuffering()}resumeBuffering(){var t;(t=this.getBufferingPlayer())==null||t.resumeBuffering()}pauseBuffering(){var t;(t=this.getBufferingPlayer())==null||t.pauseBuffering()}destroy(){this.unregisterListeners(),this.stopLoad(),this.assetListLoader&&this.assetListLoader.destroy(),this.emptyPlayerQueue(),this.clearScheduleState(),this.schedule&&this.schedule.destroy(),this.media=this.detachedData=this.mediaSelection=this.requiredTracks=this.altSelection=this.schedule=this.manager=null,this.hls=this.HlsPlayerClass=this.log=null,this.assetListLoader=null,this.onPlay=this.onPause=this.onSeeking=this.onTimeupdate=null,this.onScheduleUpdate=null}onDestroying(){const t=this.primaryMedia||this.media;t&&this.removeMediaListeners(t)}removeMediaListeners(t){Pi(t,"play",this.onPlay),Pi(t,"pause",this.onPause),Pi(t,"seeking",this.onSeeking),Pi(t,"timeupdate",this.onTimeupdate)}onMediaAttaching(t,n){const i=this.media=n.media;Ri(i,"seeking",this.onSeeking),Ri(i,"timeupdate",this.onTimeupdate),Ri(i,"play",this.onPlay),Ri(i,"pause",this.onPause)}onMediaAttached(t,n){const i=this.effectivePlayingItem,l=this.detachedData;if(this.detachedData=null,i===null)this.checkStart();else if(!l){this.clearScheduleState();const d=this.findItemIndex(i);this.setSchedulePosition(d)}}clearScheduleState(){this.log("clear schedule state"),this.playingItem=this.bufferingItem=this.waitingItem=this.endedItem=this.playingAsset=this.endedAsset=this.bufferingAsset=null}onMediaDetaching(t,n){const i=!!n.transferMedia,l=this.media;if(this.media=null,!i&&(l&&this.removeMediaListeners(l),this.detachedData)){const d=this.getBufferingPlayer();d&&(this.log(`Removing schedule state for detachedData and ${d}`),this.playingAsset=this.endedAsset=this.bufferingAsset=this.bufferingItem=this.waitingItem=this.detachedData=null,d.detachMedia()),this.shouldPlay=!1}}get interstitialsManager(){if(!this.hls)return null;if(this.manager)return this.manager;const t=this,n=()=>t.bufferingItem||t.waitingItem,i=f=>f&&t.getAssetPlayer(f.identifier),l=(f,A,p,m,y)=>{if(f){let E=f[A].start;const C=f.event;if(C){if(A==="playout"||C.timelineOccupancy!==Yc.Point){const T=i(p);T?.interstitial===C&&(E+=T.assetItem.startOffset+T[y])}}else{const T=m==="bufferedPos"?a():t[m];E+=T-f.start}return E}return 0},d=(f,A)=>{var p;if(f!==0&&A!=="primary"&&(p=t.schedule)!=null&&p.length){var m;const y=t.schedule.findItemIndexAtTime(f),E=(m=t.schedule.items)==null?void 0:m[y];if(E){const C=E[A].start-E.start;return f+C}}return f},a=()=>{const f=t.bufferedPos;return f===Number.MAX_VALUE?c("primary"):Math.max(f,0)},c=f=>{var A,p;return(A=t.primaryDetails)!=null&&A.live?t.primaryDetails.edge:((p=t.schedule)==null?void 0:p.durations[f])||0},e=(f,A)=>{var p,m;const y=t.effectivePlayingItem;if(y!=null&&(p=y.event)!=null&&p.restrictions.skip||!t.schedule)return;t.log(`seek to ${f} "${A}"`);const E=t.effectivePlayingItem,C=t.schedule.findItemIndexAtTime(f,A),T=(m=t.schedule.items)==null?void 0:m[C],x=t.getBufferingPlayer(),L=x?.interstitial,D=L?.appendInPlace,B=E&&t.itemsMatch(E,T);if(E&&(D||B)){const O=i(t.playingAsset),_=O?.media||t.primaryMedia;if(_){const M=A==="primary"?_.currentTime:l(E,A,t.playingAsset,"timelinePos","currentTime"),U=f-M,Q=(D?M:_.currentTime)+U;if(Q>=0&&(!O||D||Q<=O.duration)){_.currentTime=Q;return}}}if(T){let O=f;if(A!=="primary"){const M=T[A].start,U=f-M;O=T.start+U}const _=!t.isInterstitial(T);if((!t.isInterstitial(E)||E.event.appendInPlace)&&(_||T.event.appendInPlace)){const M=t.media||(D?x?.media:null);M&&(M.currentTime=O)}else if(E){const M=t.findItemIndex(E);if(C>M){const Q=t.schedule.findJumpRestrictedIndex(M+1,C);if(Q>M){t.setSchedulePosition(Q);return}}let U=0;if(_)t.timelinePos=O,t.checkBuffer();else{const Q=T.event.assetList,$=f-(T[A]||T).start;for(let W=Q.length;W--;){const X=Q[W];if(X.duration&&$>=X.startOffset&&$<X.startOffset+X.duration){U=W;break}}}t.setSchedulePosition(C,U)}}},o=()=>{const f=t.effectivePlayingItem;if(t.isInterstitial(f))return f;const A=n();return t.isInterstitial(A)?A:null},u={get bufferedEnd(){const f=n(),A=t.bufferingItem;if(A&&A===f){var p;return l(A,"playout",t.bufferingAsset,"bufferedPos","bufferedEnd")-A.playout.start||((p=t.bufferingAsset)==null?void 0:p.startOffset)||0}return 0},get currentTime(){const f=o(),A=t.effectivePlayingItem;return A&&A===f?l(A,"playout",t.effectivePlayingAsset,"timelinePos","currentTime")-A.playout.start:0},set currentTime(f){const A=o(),p=t.effectivePlayingItem;p&&p===A&&e(f+p.playout.start,"playout")},get duration(){const f=o();return f?f.playout.end-f.playout.start:0},get assetPlayers(){var f;const A=(f=o())==null?void 0:f.event.assetList;return A?A.map(p=>t.getAssetPlayer(p.identifier)):[]},get playingIndex(){var f;const A=(f=o())==null?void 0:f.event;return A&&t.effectivePlayingAsset?A.findAssetIndex(t.effectivePlayingAsset):-1},get scheduleItem(){return o()}};return this.manager={get events(){var f;return((f=t.schedule)==null||(f=f.events)==null?void 0:f.slice(0))||[]},get schedule(){var f;return((f=t.schedule)==null||(f=f.items)==null?void 0:f.slice(0))||[]},get interstitialPlayer(){return o()?u:null},get playerQueue(){return t.playerQueue.slice(0)},get bufferingAsset(){return t.bufferingAsset},get bufferingItem(){return n()},get bufferingIndex(){const f=n();return t.findItemIndex(f)},get playingAsset(){return t.effectivePlayingAsset},get playingItem(){return t.effectivePlayingItem},get playingIndex(){const f=t.effectivePlayingItem;return t.findItemIndex(f)},primary:{get bufferedEnd(){return a()},get currentTime(){const f=t.timelinePos;return f>0?f:0},set currentTime(f){e(f,"primary")},get duration(){return c("primary")},get seekableStart(){var f;return((f=t.primaryDetails)==null?void 0:f.fragmentStart)||0}},integrated:{get bufferedEnd(){return l(n(),"integrated",t.bufferingAsset,"bufferedPos","bufferedEnd")},get currentTime(){return l(t.effectivePlayingItem,"integrated",t.effectivePlayingAsset,"timelinePos","currentTime")},set currentTime(f){e(f,"integrated")},get duration(){return c("integrated")},get seekableStart(){var f;return d(((f=t.primaryDetails)==null?void 0:f.fragmentStart)||0,"integrated")}},skip:()=>{const f=t.effectivePlayingItem,A=f?.event;if(A&&!A.restrictions.skip){const p=t.findItemIndex(f);if(A.appendInPlace){const m=f.playout.start+f.event.duration;e(m+.001,"playout")}else t.advanceAfterAssetEnded(A,p,1/0)}}}}get effectivePlayingItem(){return this.waitingItem||this.playingItem||this.endedItem}get effectivePlayingAsset(){return this.playingAsset||this.endedAsset}get playingLastItem(){var t;const n=this.playingItem,i=(t=this.schedule)==null?void 0:t.items;return!this.playbackStarted||!n||!i?!1:this.findItemIndex(n)===i.length-1}get playbackStarted(){return this.effectivePlayingItem!==null}get currentTime(){var t,n;if(this.mediaSelection===null)return;const i=this.waitingItem||this.playingItem;if(this.isInterstitial(i)&&!i.event.appendInPlace)return;let l=this.media;!l&&(t=this.bufferingItem)!=null&&(t=t.event)!=null&&t.appendInPlace&&(l=this.primaryMedia);const d=(n=l)==null?void 0:n.currentTime;if(!(d===void 0||!Qe(d)))return d}get primaryMedia(){var t;return this.media||((t=this.detachedData)==null?void 0:t.media)||null}isInterstitial(t){return!!(t!=null&&t.event)}retreiveMediaSource(t,n){const i=this.getAssetPlayer(t);i&&this.transferMediaFromPlayer(i,n)}transferMediaFromPlayer(t,n){const i=t.interstitial.appendInPlace,l=t.media;if(i&&l===this.primaryMedia){if(this.bufferingAsset=null,(!n||this.isInterstitial(n)&&!n.event.appendInPlace)&&n&&l){this.detachedData={media:l};return}const d=t.transferMedia();this.log(`transfer MediaSource from ${t} ${wr(d)}`),this.detachedData=d}else n&&l&&(this.shouldPlay||(this.shouldPlay=!l.paused))}transferMediaTo(t,n){var i,l;if(t.media===n)return;let d=null;const a=this.hls,c=t!==a,e=c&&t.interstitial.appendInPlace,o=(i=this.detachedData)==null?void 0:i.mediaSource;let u;if(a.media)e&&(d=a.transferMedia(),this.detachedData=d),u="Primary";else if(o){const m=this.getBufferingPlayer();m?(d=m.transferMedia(),u=`${m}`):u="detached MediaSource"}else u="detached media";if(!d){if(o)d=this.detachedData,this.log(`using detachedData: MediaSource ${wr(d)}`);else if(!this.detachedData||a.media===n){const m=this.playerQueue;m.length>1&&m.forEach(y=>{if(c&&y.interstitial.appendInPlace!==e){const E=y.interstitial;this.clearInterstitial(y.interstitial,null),E.appendInPlace=!1,E.appendInPlace&&this.warn(`Could not change append strategy for queued assets ${E}`)}}),this.hls.detachMedia(),this.detachedData={media:n}}}const f=d&&"mediaSource"in d&&((l=d.mediaSource)==null?void 0:l.readyState)!=="closed",A=f&&d?d:n;this.log(`${f?"transfering MediaSource":"attaching media"} to ${c?t:"Primary"} from ${u} (media.currentTime: ${n.currentTime})`);const p=this.schedule;if(A===d&&p){const m=c&&t.assetId===p.assetIdAtEnd;A.overrides={duration:p.duration,endOfStream:!c||m,cueRemoval:!c}}t.attachMedia(A)}onInterstitialCueEnter(){this.onTimeupdate()}checkStart(){const t=this.schedule,n=t?.events;if(!n||this.playbackDisabled||!this.media)return;this.bufferedPos===-1&&(this.bufferedPos=0);const i=this.timelinePos,l=this.effectivePlayingItem;if(i===-1){const d=this.hls.startPosition;if(this.log(Ec("checkStart",d)),this.timelinePos=d,n.length&&n[0].cue.pre){const a=t.findEventIndex(n[0].identifier);this.setSchedulePosition(a)}else if(d>=0||!this.primaryLive){const a=this.timelinePos=d>0?d:0,c=t.findItemIndexAtTime(a);this.setSchedulePosition(c)}}else if(l&&!this.playingItem){const d=t.findItemIndex(l);this.setSchedulePosition(d)}}advanceAssetBuffering(t,n){const i=t.event,l=i.findAssetIndex(n),d=qd(i,l);if(!i.isAssetPastPlayoutLimit(d))this.bufferedToEvent(t,d);else if(this.schedule){var a;const c=(a=this.schedule.items)==null?void 0:a[this.findItemIndex(t)+1];c&&this.bufferedToItem(c)}}advanceAfterAssetEnded(t,n,i){const l=qd(t,i);if(t.isAssetPastPlayoutLimit(l)){if(this.schedule){const d=this.schedule.items;if(d){const a=n+1,c=d.length;if(a>=c){this.setSchedulePosition(-1);return}const e=t.resumeTime;this.timelinePos<e&&(this.log(Ec("advanceAfterAssetEnded",e)),this.timelinePos=e,t.appendInPlace&&this.advanceInPlace(e),this.checkBuffer(this.bufferedPos<e)),this.setSchedulePosition(a)}}}else{if(t.appendInPlace){const d=t.assetList[l];d&&this.advanceInPlace(d.timelineStart)}this.setSchedulePosition(n,l)}}setScheduleToAssetAtTime(t,n){const i=this.schedule;if(!i)return;const l=n.parentIdentifier,d=i.getEvent(l);if(d){const a=i.findEventIndex(l),c=i.findAssetIndex(d,t);this.advanceAfterAssetEnded(d,a,c-1)}}setSchedulePosition(t,n){var i;const l=(i=this.schedule)==null?void 0:i.items;if(!l||this.playbackDisabled)return;const d=t>=0?l[t]:null;this.log(`setSchedulePosition ${t}, ${n} (${d&&Es(d)}) pos: ${this.timelinePos}`);const a=this.waitingItem||this.playingItem,c=this.playingLastItem;if(this.isInterstitial(a)){const u=a.event,f=this.playingAsset,A=f?.identifier,p=A?this.getAssetPlayer(A):null;if(p&&A&&(!this.eventItemsMatch(a,d)||n!==void 0&&A!==u.assetList[n].identifier)){var e;const m=u.findAssetIndex(f);if(this.log(`INTERSTITIAL_ASSET_ENDED ${m+1}/${u.assetList.length} ${nl(f)}`),this.endedAsset=f,this.playingAsset=null,this.hls.trigger(F.INTERSTITIAL_ASSET_ENDED,{asset:f,assetListIndex:m,event:u,schedule:l.slice(0),scheduleIndex:t,player:p}),a!==this.playingItem){this.itemsMatch(a,this.playingItem)&&!this.playingAsset&&this.advanceAfterAssetEnded(u,this.findItemIndex(this.playingItem),m);return}this.retreiveMediaSource(A,d),p.media&&!((e=this.detachedData)!=null&&e.mediaSource)&&p.detachMedia()}if(!this.eventItemsMatch(a,d)&&(this.endedItem=a,this.playingItem=null,this.log(`INTERSTITIAL_ENDED ${u} ${Es(a)}`),u.hasPlayed=!0,this.hls.trigger(F.INTERSTITIAL_ENDED,{event:u,schedule:l.slice(0),scheduleIndex:t}),u.cue.once)){var o;this.updateSchedule();const m=(o=this.schedule)==null?void 0:o.items;if(d&&m){const y=this.findItemIndex(d);this.advanceSchedule(y,m,n,a,c)}return}}this.advanceSchedule(t,l,n,a,c)}advanceSchedule(t,n,i,l,d){const a=this.schedule;if(!a)return;const c=n[t]||null,e=this.primaryMedia,o=this.playerQueue;if(o.length&&o.forEach(u=>{const f=u.interstitial,A=a.findEventIndex(f.identifier);(A<t||A>t+1)&&this.clearInterstitial(f,c)}),this.isInterstitial(c)){this.timelinePos=Math.min(Math.max(this.timelinePos,c.start),c.end);const u=c.event;if(i===void 0){i=a.findAssetIndex(u,this.timelinePos);const m=qd(u,i-1);if(u.isAssetPastPlayoutLimit(m)||u.appendInPlace&&this.timelinePos===c.end){this.advanceAfterAssetEnded(u,t,i);return}i=m}const f=this.waitingItem;this.assetsBuffered(c,e)||this.setBufferingItem(c);let A=this.preloadAssets(u,i);if(this.eventItemsMatch(c,f||l)||(this.waitingItem=c,this.log(`INTERSTITIAL_STARTED ${Es(c)} ${u.appendInPlace?"append in place":""}`),this.hls.trigger(F.INTERSTITIAL_STARTED,{event:u,schedule:n.slice(0),scheduleIndex:t})),!u.assetListLoaded){this.log(`Waiting for ASSET-LIST to complete loading ${u}`);return}if(u.assetListLoader&&(u.assetListLoader.destroy(),u.assetListLoader=void 0),!e){this.log(`Waiting for attachMedia to start Interstitial ${u}`);return}this.waitingItem=this.endedItem=null,this.playingItem=c;const p=u.assetList[i];if(!p){this.advanceAfterAssetEnded(u,t,i||0);return}if(A||(A=this.getAssetPlayer(p.identifier)),A===null||A.destroyed){const m=u.assetList.length;this.warn(`asset ${i+1}/${m} player destroyed ${u}`),A=this.createAssetPlayer(u,p,i),A.loadSource()}if(!this.eventItemsMatch(c,this.bufferingItem)&&u.appendInPlace&&this.isAssetBuffered(p))return;this.startAssetPlayer(A,i,n,t,e),this.shouldPlay&&J0(A.media)}else c?(this.resumePrimary(c,t,l),this.shouldPlay&&J0(this.hls.media)):d&&this.isInterstitial(l)&&(this.endedItem=null,this.playingItem=l,l.event.appendInPlace||this.attachPrimary(a.durations.primary,null))}get playbackDisabled(){return this.hls.config.enableInterstitialPlayback===!1}get primaryDetails(){var t;return(t=this.mediaSelection)==null?void 0:t.main.details}get primaryLive(){var t;return!!((t=this.primaryDetails)!=null&&t.live)}resumePrimary(t,n,i){var l,d;if(this.playingItem=t,this.playingAsset=this.endedAsset=null,this.waitingItem=this.endedItem=null,this.bufferedToItem(t),this.log(`resuming ${Es(t)}`),!((l=this.detachedData)!=null&&l.mediaSource)){let c=this.timelinePos;(c<t.start||c>=t.end)&&(c=this.getPrimaryResumption(t,n),this.log(Ec("resumePrimary",c)),this.timelinePos=c),this.attachPrimary(c,t)}if(!i)return;const a=(d=this.schedule)==null?void 0:d.items;a&&(this.log(`INTERSTITIALS_PRIMARY_RESUMED ${Es(t)}`),this.hls.trigger(F.INTERSTITIALS_PRIMARY_RESUMED,{schedule:a.slice(0),scheduleIndex:n}),this.checkBuffer())}getPrimaryResumption(t,n){const i=t.start;if(this.primaryLive){const l=this.primaryDetails;if(n===0)return this.hls.startPosition;if(l&&(i<l.fragmentStart||i>l.edge))return this.hls.liveSyncPosition||-1}return i}isAssetBuffered(t){const n=this.getAssetPlayer(t.identifier);return n!=null&&n.hls?n.hls.bufferedToEnd:_n.bufferInfo(this.primaryMedia,this.timelinePos,0).end+1>=t.timelineStart+(t.duration||0)}attachPrimary(t,n,i){n?this.setBufferingItem(n):this.bufferingItem=this.playingItem,this.bufferingAsset=null;const l=this.primaryMedia;if(!l)return;const d=this.hls;d.media?this.checkBuffer():(this.transferMediaTo(d,l),i&&this.startLoadingPrimaryAt(t,i)),i||(this.log(Ec("attachPrimary",t)),this.timelinePos=t,this.startLoadingPrimaryAt(t,i))}startLoadingPrimaryAt(t,n){var i;const l=this.hls;!l.loadingEnabled||!l.media||Math.abs((((i=l.mainForwardBufferInfo)==null?void 0:i.start)||l.media.currentTime)-t)>.5?l.startLoad(t,n):l.bufferingEnabled||l.resumeBuffering()}onManifestLoading(){var t;this.stopLoad(),(t=this.schedule)==null||t.reset(),this.emptyPlayerQueue(),this.clearScheduleState(),this.shouldPlay=!1,this.bufferedPos=this.timelinePos=-1,this.mediaSelection=this.altSelection=this.manager=this.requiredTracks=null,this.hls.off(F.BUFFER_CODECS,this.onBufferCodecs,this),this.hls.on(F.BUFFER_CODECS,this.onBufferCodecs,this)}onLevelUpdated(t,n){if(n.level===-1||!this.schedule)return;const i=this.hls.levels[n.level],l=pr(pr({},this.mediaSelection||this.altSelection),{},{main:i});this.mediaSelection=l,this.schedule.parseInterstitialDateRanges(l,this.hls.config.interstitialAppendInPlace),!this.effectivePlayingItem&&this.schedule.items&&this.checkStart()}onAudioTrackUpdated(t,n){const i=this.hls.audioTracks[n.id],l=this.mediaSelection;if(!l){this.altSelection=pr(pr({},this.altSelection),{},{audio:i});return}const d=pr(pr({},l),{},{audio:i});this.mediaSelection=d}onSubtitleTrackUpdated(t,n){const i=this.hls.subtitleTracks[n.id],l=this.mediaSelection;if(!l){this.altSelection=pr(pr({},this.altSelection),{},{subtitles:i});return}const d=pr(pr({},l),{},{subtitles:i});this.mediaSelection=d}onAudioTrackSwitching(t,n){const i=c0(n);this.playerQueue.forEach(({hls:l})=>l&&(l.setAudioOption(n)||l.setAudioOption(i)))}onSubtitleTrackSwitch(t,n){const i=c0(n);this.playerQueue.forEach(({hls:l})=>l&&(l.setSubtitleOption(n)||n.id!==-1&&l.setSubtitleOption(i)))}onBufferCodecs(t,n){const i=n.tracks;i&&(this.requiredTracks=i)}onBufferAppended(t,n){this.checkBuffer()}onBufferFlushed(t,n){const i=this.playingItem;if(i&&!this.itemsMatch(i,this.bufferingItem)&&!this.isInterstitial(i)){const l=this.timelinePos;this.bufferedPos=l,this.checkBuffer()}}onBufferedToEnd(t){if(!this.schedule)return;const n=this.schedule.events;if(this.bufferedPos<Number.MAX_VALUE&&n){for(let l=0;l<n.length;l++){const d=n[l];if(d.cue.post){var i;const a=this.schedule.findEventIndex(d.identifier),c=(i=this.schedule.items)==null?void 0:i[a];this.isInterstitial(c)&&this.eventItemsMatch(c,this.bufferingItem)&&this.bufferedToItem(c,0);break}}this.bufferedPos=Number.MAX_VALUE}}onMediaEnded(t){const n=this.playingItem;if(!this.playingLastItem&&n){const i=this.findItemIndex(n);this.setSchedulePosition(i+1)}else this.shouldPlay=!1}updateItem(t,n){var i;const l=(i=this.schedule)==null?void 0:i.items;if(t&&l){const d=this.findItemIndex(t,n);return l[d]||null}return null}trimInPlace(t,n){if(this.isInterstitial(t)&&t.event.appendInPlace&&n.end-t.end>.25){t.event.assetList.forEach((d,a)=>{t.event.isAssetPastPlayoutLimit(a)&&this.clearAssetPlayer(d.identifier,null)});const i=t.end+.25,l=_n.bufferInfo(this.primaryMedia,i,0);(l.end>i||(l.nextStart||0)>i)&&(this.log(`trim buffered interstitial ${Es(t)} (was ${Es(n)})`),this.attachPrimary(i,null,!0),this.flushFrontBuffer(i))}}itemsMatch(t,n){return!!n&&(t===n||t.event&&n.event&&this.eventItemsMatch(t,n)||!t.event&&!n.event&&this.findItemIndex(t)===this.findItemIndex(n))}eventItemsMatch(t,n){var i;return!!n&&(t===n||t.event.identifier===((i=n.event)==null?void 0:i.identifier))}findItemIndex(t,n){return t&&this.schedule?this.schedule.findItemIndex(t,n):-1}updateSchedule(t=!1){var n;const i=this.mediaSelection;i&&((n=this.schedule)==null||n.updateSchedule(i,[],t))}checkBuffer(t){var n;const i=(n=this.schedule)==null?void 0:n.items;if(!i)return;const l=_n.bufferInfo(this.primaryMedia,this.timelinePos,0);t&&(this.bufferedPos=this.timelinePos),t||(t=l.len<1),this.updateBufferedPos(l.end,i,t)}updateBufferedPos(t,n,i){const l=this.schedule,d=this.bufferingItem;if(this.bufferedPos>t||!l)return;if(n.length===1&&this.itemsMatch(n[0],d)){this.bufferedPos=t;return}const a=this.playingItem,c=this.findItemIndex(a);let e=l.findItemIndexAtTime(t);if(this.bufferedPos<t){var o;const u=this.findItemIndex(d),f=Math.min(u+1,n.length-1),A=n[f];if((e===-1&&d&&t>=d.end||(o=A.event)!=null&&o.appendInPlace&&t+.01>=A.start)&&(e=f),this.isInterstitial(d)){const p=d.event;if(f-c>1&&p.appendInPlace===!1||p.assetList.length===0&&p.assetListLoader)return}if(this.bufferedPos=t,e>u&&e>c)this.bufferedToItem(A);else{const p=this.primaryDetails;this.primaryLive&&p&&t>p.edge-p.targetduration&&A.start<p.edge+this.hls.config.interstitialLiveLookAhead&&this.isInterstitial(A)&&this.preloadAssets(A.event,0)}}else i&&a&&!this.itemsMatch(a,d)&&(e===c?this.bufferedToItem(a):e===c+1&&this.bufferedToItem(n[e]))}assetsBuffered(t,n){return t.event.assetList.length===0?!1:!t.event.assetList.some(l=>{const d=this.getAssetPlayer(l.identifier);return!(d!=null&&d.bufferedInPlaceToEnd(n))})}setBufferingItem(t){const n=this.bufferingItem,i=this.schedule;if(!this.itemsMatch(t,n)&&i){const{items:l,events:d}=i;if(!l||!d)return n;const a=this.isInterstitial(t),c=this.getBufferingPlayer();this.bufferingItem=t,this.bufferedPos=Math.max(t.start,Math.min(t.end,this.timelinePos));const e=c?c.remaining:n?n.end-this.timelinePos:0;if(this.log(`INTERSTITIALS_BUFFERED_TO_BOUNDARY ${Es(t)}`+(n?` (${e.toFixed(2)} remaining)`:"")),!this.playbackDisabled)if(a){const o=i.findAssetIndex(t.event,this.bufferedPos);t.event.assetList.forEach((u,f)=>{const A=this.getAssetPlayer(u.identifier);A&&(f===o&&A.loadSource(),A.resumeBuffering())})}else this.hls.resumeBuffering(),this.playerQueue.forEach(o=>o.pauseBuffering());this.hls.trigger(F.INTERSTITIALS_BUFFERED_TO_BOUNDARY,{events:d.slice(0),schedule:l.slice(0),bufferingIndex:this.findItemIndex(t),playingIndex:this.findItemIndex(this.playingItem)})}else this.bufferingItem!==t&&(this.bufferingItem=t);return n}bufferedToItem(t,n=0){const i=this.setBufferingItem(t);if(!this.playbackDisabled){if(this.isInterstitial(t))this.bufferedToEvent(t,n);else if(i!==null){this.bufferingAsset=null;const l=this.detachedData;l?l.mediaSource?this.attachPrimary(t.start,t,!0):this.preloadPrimary(t):this.preloadPrimary(t)}}}preloadPrimary(t){const n=this.findItemIndex(t),i=this.getPrimaryResumption(t,n);this.startLoadingPrimaryAt(i)}bufferedToEvent(t,n){const i=t.event,l=i.assetList.length===0&&!i.assetListLoader,d=i.cue.once;if(l||!d){const a=this.preloadAssets(i,n);if(a!=null&&a.interstitial.appendInPlace){const c=this.primaryMedia;c&&this.bufferAssetPlayer(a,c)}}}preloadAssets(t,n){const i=t.assetUrl,l=t.assetList.length,d=l===0&&!t.assetListLoader,a=t.cue.once;if(d){const e=t.timelineStart;if(t.appendInPlace){var c;const A=this.playingItem;!this.isInterstitial(A)&&(A==null||(c=A.nextEvent)==null?void 0:c.identifier)===t.identifier&&this.flushFrontBuffer(e+.25)}let o,u=0;if(!this.playingItem&&this.primaryLive&&(u=this.hls.startPosition,u===-1&&(u=this.hls.liveSyncPosition||0)),u&&!(t.cue.pre||t.cue.post)){const A=u-e;A>0&&(o=Math.round(A*1e3)/1e3)}if(this.log(`Load interstitial asset ${n+1}/${i?1:l} ${t}${o?` live-start: ${u} start-offset: ${o}`:""}`),i)return this.createAsset(t,0,0,e,t.duration,i);const f=this.assetListLoader.loadAssetList(t,o);f&&(t.assetListLoader=f)}else if(!a&&l){for(let o=n;o<l;o++){const u=t.assetList[o],f=this.getAssetPlayerQueueIndex(u.identifier);(f===-1||this.playerQueue[f].destroyed)&&!u.error&&this.createAssetPlayer(t,u,o)}const e=t.assetList[n];if(e){const o=this.getAssetPlayer(e.identifier);return o&&o.loadSource(),o}}return null}flushFrontBuffer(t){const n=this.requiredTracks;if(!n)return;this.log(`Removing front buffer starting at ${t}`),Object.keys(n).forEach(l=>{this.hls.trigger(F.BUFFER_FLUSHING,{startOffset:t,endOffset:1/0,type:l})})}getAssetPlayerQueueIndex(t){const n=this.playerQueue;for(let i=0;i<n.length;i++)if(t===n[i].assetId)return i;return-1}getAssetPlayer(t){const n=this.getAssetPlayerQueueIndex(t);return this.playerQueue[n]||null}getBufferingPlayer(){const{playerQueue:t,primaryMedia:n}=this;if(n){for(let i=0;i<t.length;i++)if(t[i].media===n)return t[i]}return null}createAsset(t,n,i,l,d,a){const c={parentIdentifier:t.identifier,identifier:vS(t,a,n),duration:d,startOffset:i,timelineStart:l,uri:a};return this.createAssetPlayer(t,c,n)}createAssetPlayer(t,n,i){const l=this.hls,d=l.userConfig;let a=d.videoPreference;const c=l.loadLevelObj||l.levels[l.currentLevel];(a||c)&&(a=mr({},a),c.videoCodec&&(a.videoCodec=c.videoCodec),c.videoRange&&(a.allowedVideoRanges=[c.videoRange]));const e=l.audioTracks[l.audioTrack],o=l.subtitleTracks[l.subtitleTrack];let u=0;if(this.primaryLive||t.appendInPlace){const L=this.timelinePos-n.timelineStart;if(L>1){const D=n.duration;D&&L<D&&(u=L)}}const f=n.identifier,A=pr(pr({},d),{},{maxMaxBufferLength:Math.min(180,l.config.maxMaxBufferLength),autoStartLoad:!0,startFragPrefetch:!0,primarySessionId:l.sessionId,assetPlayerId:f,abrEwmaDefaultEstimate:l.bandwidthEstimate,interstitialsController:void 0,startPosition:u,liveDurationInfinity:!1,testBandwidth:!1,videoPreference:a,audioPreference:e||d.audioPreference,subtitlePreference:o||d.subtitlePreference});t.appendInPlace&&(t.appendInPlaceStarted=!0,n.timelineStart&&(A.timelineOffset=n.timelineStart));const p=A.cmcd;p!=null&&p.sessionId&&p.contentId&&(A.cmcd=mr({},p,{contentId:tu(n.uri)})),this.getAssetPlayer(f)&&this.warn(`Duplicate date range identifier ${t} and asset ${f}`);const m=new bS(this.HlsPlayerClass,A,t,n);this.playerQueue.push(m),t.assetList[i]=n;let y=!0;const E=L=>{if(L.live){var D;const _=new Error(`Interstitials MUST be VOD assets ${t}`),M={fatal:!0,type:nn.OTHER_ERROR,details:Ot.INTERSTITIAL_ASSET_ITEM_ERROR,error:_},U=((D=this.schedule)==null?void 0:D.findEventIndex(t.identifier))||-1;this.handleAssetItemError(M,t,U,i,_.message);return}const B=L.edge-L.fragmentStart,O=n.duration;(y||O===null||B>O)&&(y=!1,this.log(`Interstitial asset "${f}" duration change ${O} > ${B}`),n.duration=B,this.updateSchedule())};m.on(F.LEVEL_UPDATED,(L,{details:D})=>E(D)),m.on(F.LEVEL_PTS_UPDATED,(L,{details:D})=>E(D)),m.on(F.EVENT_CUE_ENTER,()=>this.onInterstitialCueEnter());const C=(L,D)=>{const B=this.getAssetPlayer(f);if(B&&D.tracks){B.off(F.BUFFER_CODECS,C),B.tracks=D.tracks;const O=this.primaryMedia;this.bufferingAsset===B.assetItem&&O&&!B.media&&this.bufferAssetPlayer(B,O)}};m.on(F.BUFFER_CODECS,C);const T=()=>{var L;const D=this.getAssetPlayer(f);if(this.log(`buffered to end of asset ${D}`),!D||!this.schedule)return;const B=this.schedule.findEventIndex(t.identifier),O=(L=this.schedule.items)==null?void 0:L[B];this.isInterstitial(O)&&this.advanceAssetBuffering(O,n)};m.on(F.BUFFERED_TO_END,T);const x=L=>()=>{if(!this.getAssetPlayer(f)||!this.schedule)return;this.shouldPlay=!0;const B=this.schedule.findEventIndex(t.identifier);this.advanceAfterAssetEnded(t,B,L)};return m.once(F.MEDIA_ENDED,x(i)),m.once(F.PLAYOUT_LIMIT_REACHED,x(1/0)),m.on(F.ERROR,(L,D)=>{if(!this.schedule)return;const B=this.getAssetPlayer(f);if(D.details===Ot.BUFFER_STALLED_ERROR){if(B!=null&&B.appendInPlace){this.handleInPlaceStall(t);return}this.onTimeupdate(),this.checkBuffer(!0);return}this.handleAssetItemError(D,t,this.schedule.findEventIndex(t.identifier),i,`Asset player error ${D.error} ${t}`)}),m.on(F.DESTROYING,()=>{if(!this.getAssetPlayer(f)||!this.schedule)return;const D=new Error(`Asset player destroyed unexpectedly ${f}`),B={fatal:!0,type:nn.OTHER_ERROR,details:Ot.INTERSTITIAL_ASSET_ITEM_ERROR,error:D};this.handleAssetItemError(B,t,this.schedule.findEventIndex(t.identifier),i,D.message)}),this.log(`INTERSTITIAL_ASSET_PLAYER_CREATED ${nl(n)}`),this.hls.trigger(F.INTERSTITIAL_ASSET_PLAYER_CREATED,{asset:n,assetListIndex:i,event:t,player:m}),m}clearInterstitial(t,n){t.assetList.forEach(i=>{this.clearAssetPlayer(i.identifier,n)}),t.reset()}resetAssetPlayer(t){const n=this.getAssetPlayerQueueIndex(t);if(n!==-1){this.log(`reset asset player "${t}" after error`);const i=this.playerQueue[n];this.transferMediaFromPlayer(i,null),i.resetDetails()}}clearAssetPlayer(t,n){const i=this.getAssetPlayerQueueIndex(t);if(i!==-1){const l=this.playerQueue[i];this.log(`clear ${l} toSegment: ${n&&Es(n)}`),this.transferMediaFromPlayer(l,n),this.playerQueue.splice(i,1),l.destroy()}}emptyPlayerQueue(){let t;for(;t=this.playerQueue.pop();)t.destroy();this.playerQueue=[]}startAssetPlayer(t,n,i,l,d){const{interstitial:a,assetItem:c,assetId:e}=t,o=a.assetList.length,u=this.playingAsset;this.endedAsset=null,this.playingAsset=c,(!u||u.identifier!==e)&&(u&&(this.clearAssetPlayer(u.identifier,i[l]),delete u.error),this.log(`INTERSTITIAL_ASSET_STARTED ${n+1}/${o} ${nl(c)}`),this.hls.trigger(F.INTERSTITIAL_ASSET_STARTED,{asset:c,assetListIndex:n,event:a,schedule:i.slice(0),scheduleIndex:l,player:t})),this.bufferAssetPlayer(t,d)}bufferAssetPlayer(t,n){var i,l;if(!this.schedule)return;const{interstitial:d,assetItem:a}=t,c=this.schedule.findEventIndex(d.identifier),e=(i=this.schedule.items)==null?void 0:i[c];if(!e)return;t.loadSource(),this.setBufferingItem(e),this.bufferingAsset=a;const o=this.getBufferingPlayer();if(o===t)return;const u=d.appendInPlace;if(u&&o?.interstitial.appendInPlace===!1)return;const f=o?.tracks||((l=this.detachedData)==null?void 0:l.tracks)||this.requiredTracks;if(u&&a!==this.playingAsset){if(!t.tracks){this.log(`Waiting for track info before buffering ${t}`);return}if(f&&!Am(f,t.tracks)){const A=new Error(`Asset ${nl(a)} SourceBuffer tracks ('${Object.keys(t.tracks)}') are not compatible with primary content tracks ('${Object.keys(f)}')`),p={fatal:!0,type:nn.OTHER_ERROR,details:Ot.INTERSTITIAL_ASSET_ITEM_ERROR,error:A},m=d.findAssetIndex(a);this.handleAssetItemError(p,d,c,m,A.message);return}}this.transferMediaTo(t,n)}handleInPlaceStall(t){const n=this.schedule,i=this.primaryMedia;if(!n||!i)return;const l=i.currentTime,d=n.findAssetIndex(t,l),a=t.assetList[d];if(a){const c=this.getAssetPlayer(a.identifier);if(c){const e=c.currentTime||l-a.timelineStart,o=c.duration-e;if(this.warn(`Stalled at ${e} of ${e+o} in ${c} ${t} (media.currentTime: ${l})`),e&&(o/i.playbackRate<.5||c.bufferedInPlaceToEnd(i))&&c.hls){const u=n.findEventIndex(t.identifier);this.advanceAfterAssetEnded(t,u,d)}}}}advanceInPlace(t){const n=this.primaryMedia;n&&n.currentTime<t&&(n.currentTime=t)}handleAssetItemError(t,n,i,l,d){if(t.details===Ot.BUFFER_STALLED_ERROR)return;const a=n.assetList[l]||null;if(this.warn(`INTERSTITIAL_ASSET_ERROR ${a&&nl(a)} ${t.error}`),!this.schedule)return;const c=a?.identifier||"",e=this.getAssetPlayerQueueIndex(c),o=this.playerQueue[e]||null,u=this.schedule.items,f=mr({},t,{fatal:!1,errorAction:sl(!0),asset:a,assetListIndex:l,event:n,schedule:u,scheduleIndex:i,player:o});if(this.hls.trigger(F.INTERSTITIAL_ASSET_ERROR,f),!t.fatal)return;const A=this.playingAsset,p=this.bufferingAsset,m=new Error(d);if(a&&(this.clearAssetPlayer(c,null),a.error=m),!n.assetList.some(y=>!y.error))n.error=m;else for(let y=l;y<n.assetList.length;y++)this.resetAssetPlayer(n.assetList[y].identifier);this.updateSchedule(!0),n.error?this.primaryFallback(n):A&&A.identifier===c?this.advanceAfterAssetEnded(n,i,l):p&&p.identifier===c&&this.isInterstitial(this.bufferingItem)&&this.advanceAssetBuffering(this.bufferingItem,p)}primaryFallback(t){const n=t.timelineStart,i=this.effectivePlayingItem;if(i){this.log(`Fallback to primary from event "${t.identifier}" start: ${n} pos: ${this.timelinePos} playing: ${Es(i)} error: ${t.error}`);let l=this.timelinePos;l===-1&&(l=this.hls.startPosition);const d=this.updateItem(i,l);if(this.itemsMatch(i,d)&&this.clearInterstitial(t,null),t.appendInPlace&&(this.attachPrimary(n,null),this.flushFrontBuffer(n)),!this.schedule)return;const a=this.schedule.findItemIndexAtTime(l);this.setSchedulePosition(a)}else this.checkStart()}onAssetListLoaded(t,n){var i,l;const d=n.event,a=d.identifier,c=n.assetListResponse.ASSETS;if(!((i=this.schedule)!=null&&i.hasEvent(a)))return;const e=d.timelineStart,o=d.duration;let u=0;c.forEach((y,E)=>{const C=parseFloat(y.DURATION);this.createAsset(d,E,u,e+u,C,y.URI),u+=C}),d.duration=u,this.log(`Loaded asset-list with duration: ${u} (was: ${o}) ${d}`);const f=this.waitingItem,A=f?.event.identifier===a;this.updateSchedule();const p=(l=this.bufferingItem)==null?void 0:l.event;if(A){var m;const y=this.schedule.findEventIndex(a),E=(m=this.schedule.items)==null?void 0:m[y];if(E){if(!this.playingItem&&this.timelinePos>E.end&&this.schedule.findItemIndexAtTime(this.timelinePos)!==y){d.error=new Error(`Interstitial no longer within playback range ${this.timelinePos} ${d}`),this.updateSchedule(!0),this.primaryFallback(d);return}this.setBufferingItem(E)}this.setSchedulePosition(y)}else if(p?.identifier===a){const y=d.assetList[0];if(y){const E=this.getAssetPlayer(y.identifier);if(p.appendInPlace){const C=this.primaryMedia;E&&C&&this.bufferAssetPlayer(E,C)}else E&&E.loadSource()}}}onError(t,n){if(this.schedule)switch(n.details){case Ot.ASSET_LIST_PARSING_ERROR:case Ot.ASSET_LIST_LOAD_ERROR:case Ot.ASSET_LIST_LOAD_TIMEOUT:{const i=n.interstitial;i&&(this.updateSchedule(!0),this.primaryFallback(i));break}case Ot.BUFFER_STALLED_ERROR:{const i=this.endedItem||this.waitingItem||this.playingItem;if(this.isInterstitial(i)&&i.event.appendInPlace){this.handleInPlaceStall(i.event);return}this.log(`Primary player stall @${this.timelinePos} bufferedPos: ${this.bufferedPos}`),this.onTimeupdate(),this.checkBuffer(!0);break}}}}const tm=500;class xS extends Uh{constructor(t,n,i){super(t,n,i,"subtitle-stream-controller",Ze.SUBTITLE),this.currentTrackId=-1,this.tracksBuffered=[],this.mainDetails=null,this.registerListeners()}onHandlerDestroying(){this.unregisterListeners(),super.onHandlerDestroying(),this.mainDetails=null}registerListeners(){super.registerListeners();const{hls:t}=this;t.on(F.LEVEL_LOADED,this.onLevelLoaded,this),t.on(F.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.on(F.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),t.on(F.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.on(F.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),t.on(F.BUFFER_FLUSHING,this.onBufferFlushing,this)}unregisterListeners(){super.unregisterListeners();const{hls:t}=this;t.off(F.LEVEL_LOADED,this.onLevelLoaded,this),t.off(F.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.off(F.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),t.off(F.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.off(F.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),t.off(F.BUFFER_FLUSHING,this.onBufferFlushing,this)}startLoad(t,n){this.stopLoad(),this.state=Jt.IDLE,this.setInterval(tm),this.nextLoadPosition=this.lastCurrentTime=t+this.timelineOffset,this.startPosition=n?-1:t,this.tick()}onManifestLoading(){super.onManifestLoading(),this.mainDetails=null}onMediaDetaching(t,n){this.tracksBuffered=[],super.onMediaDetaching(t,n)}onLevelLoaded(t,n){this.mainDetails=n.details}onSubtitleFragProcessed(t,n){const{frag:i,success:l}=n;if(this.fragContextChanged(i)||(Kr(i)&&(this.fragPrevious=i),this.state=Jt.IDLE),!l)return;const d=this.tracksBuffered[this.currentTrackId];if(!d)return;let a;const c=i.start;for(let o=0;o<d.length;o++)if(c>=d[o].start&&c<=d[o].end){a=d[o];break}const e=i.start+i.duration;a?a.end=e:(a={start:c,end:e},d.push(a)),this.fragmentTracker.fragBuffered(i),this.fragBufferedComplete(i,null),this.media&&this.tick()}onBufferFlushing(t,n){const{startOffset:i,endOffset:l}=n;if(i===0&&l!==Number.POSITIVE_INFINITY){const d=l-1;if(d<=0)return;n.endOffsetSubtitles=Math.max(0,d),this.tracksBuffered.forEach(a=>{for(let c=0;c<a.length;){if(a[c].end<=d){a.shift();continue}else if(a[c].start<d)a[c].start=d;else break;c++}}),this.fragmentTracker.removeFragmentsInRange(i,d,Ze.SUBTITLE)}}onError(t,n){const i=n.frag;i?.type===Ze.SUBTITLE&&(n.details===Ot.FRAG_GAP&&this.fragmentTracker.fragBuffered(i,!0),this.fragCurrent&&this.fragCurrent.abortRequests(),this.state!==Jt.STOPPED&&(this.state=Jt.IDLE))}onSubtitleTracksUpdated(t,{subtitleTracks:n}){if(this.levels&&dv(this.levels,n)){this.levels=n.map(i=>new nu(i));return}this.tracksBuffered=[],this.levels=n.map(i=>{const l=new nu(i);return this.tracksBuffered[l.id]=[],l}),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,Ze.SUBTITLE),this.fragPrevious=null,this.mediaBuffer=null}onSubtitleTrackSwitch(t,n){var i;if(this.currentTrackId=n.id,!((i=this.levels)!=null&&i.length)||this.currentTrackId===-1){this.clearInterval();return}const l=this.levels[this.currentTrackId];l!=null&&l.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,l&&this.state!==Jt.STOPPED&&this.setInterval(tm)}onSubtitleTrackLoaded(t,n){var i;const{currentTrackId:l,levels:d}=this,{details:a,id:c}=n;if(!d){this.warn(`Subtitle tracks were reset while loading level ${c}`);return}const e=d[c];if(c>=d.length||!e)return;this.log(`Subtitle track ${c} loaded [${a.startSN},${a.endSN}]${a.lastPartSn?`[part-${a.lastPartSn}-${a.lastPartIndex}]`:""},duration:${a.totalduration}`),this.mediaBuffer=this.mediaBufferTimeRanges;let o=0;if(a.live||(i=e.details)!=null&&i.live){if(a.deltaUpdateFailed)return;const f=this.mainDetails;if(!f){this.startFragRequested=!1;return}const A=f.fragments[0];if(!e.details)a.hasProgramDateTime&&f.hasProgramDateTime?(Qc(a,f),o=a.fragmentStart):A&&(o=A.start,ph(a,o));else{var u;o=this.alignPlaylists(a,e.details,(u=this.levelLastLoaded)==null?void 0:u.details),o===0&&A&&(o=A.start,ph(a,o))}f&&!this.startFragRequested&&this.setStartPosition(f,o)}e.details=a,this.levelLastLoaded=e,c===l&&(this.hls.trigger(F.SUBTITLE_TRACK_UPDATED,{details:a,id:c,groupId:n.groupId}),this.tick(),a.live&&!this.fragCurrent&&this.media&&this.state===Jt.IDLE&&(yo(null,a.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),e.details=void 0)))}_handleFragmentLoadComplete(t){const{frag:n,payload:i}=t,l=n.decryptdata,d=this.hls;if(!this.fragContextChanged(n)&&i&&i.byteLength>0&&l!=null&&l.key&&l.iv&&al(l.method)){const a=performance.now();this.decrypter.decrypt(new Uint8Array(i),l.key.buffer,l.iv.buffer,Ph(l.method)).catch(c=>{throw d.trigger(F.ERROR,{type:nn.MEDIA_ERROR,details:Ot.FRAG_DECRYPT_ERROR,fatal:!1,error:c,reason:c.message,frag:n}),c}).then(c=>{const e=performance.now();d.trigger(F.FRAG_DECRYPTED,{frag:n,payload:c,stats:{tstart:a,tdecrypt:e}})}).catch(c=>{this.warn(`${c.name}: ${c.message}`),this.state=Jt.IDLE})}}doTick(){if(!this.media){this.state=Jt.IDLE;return}if(this.state===Jt.IDLE){const{currentTrackId:t,levels:n}=this,i=n?.[t];if(!i||!n.length||!i.details||this.waitForLive(i))return;const{config:l}=this,d=this.getLoadPosition(),a=_n.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],d,l.maxBufferHole),{end:c,len:e}=a,o=i.details,u=this.hls.maxBufferLength+o.levelTargetDuration;if(e>u)return;const f=o.fragments,A=f.length,p=o.edge;let m=null;const y=this.fragPrevious;if(c<p){const T=l.maxFragLookUpTolerance,x=c>p-T?0:T;m=yo(y,f,Math.max(f[0].start,c),x),!m&&y&&y.start<f[0].start&&(m=f[0])}else m=f[A-1];if(m=this.filterReplacedPrimary(m,i.details),!m)return;const E=m.sn-o.startSN,C=f[E-1];if(C&&C.cc===m.cc&&this.fragmentTracker.getState(C)===ti.NOT_LOADED&&(m=C),this.fragmentTracker.getState(m)===ti.NOT_LOADED){const T=this.mapToInitFragWhenRequired(m);T&&this.loadFragment(T,i,c)}}}loadFragment(t,n,i){Kr(t)?super.loadFragment(t,n,i):this._loadInitSegment(t,n)}get mediaBufferTimeRanges(){return new wS(this.tracksBuffered[this.currentTrackId]||[])}}class wS{constructor(t){this.buffered=void 0;const n=(i,l,d)=>{if(l=l>>>0,l>d-1)throw new DOMException(`Failed to execute '${i}' on 'TimeRanges': The index provided (${l}) is greater than the maximum bound (${d})`);return t[l][i]};this.buffered={get length(){return t.length},end(i){return n("end",i,t.length)},start(i){return n("start",i,t.length)}}}}const LS={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},Rv=g=>String.fromCharCode(LS[g]||g),Cs=15,ea=100,RS={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},IS={17:2,18:4,21:6,22:8,23:10,19:13,20:15},DS={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},kS={25:2,26:4,29:6,30:8,31:10,27:13,28:15},BS=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];class OS{constructor(){this.time=null,this.verboseLevel=0}log(t,n){if(this.verboseLevel>=t){const i=typeof n=="function"?n():n;fr.log(`${this.time} [${t}] ${i}`)}}}const po=function(t){const n=[];for(let i=0;i<t.length;i++)n.push(t[i].toString(16));return n};class Iv{constructor(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}setStyles(t){const n=["foreground","underline","italics","background","flash"];for(let i=0;i<n.length;i++){const l=n[i];t.hasOwnProperty(l)&&(this[l]=t[l])}}isDefault(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash}equals(t){return this.foreground===t.foreground&&this.underline===t.underline&&this.italics===t.italics&&this.background===t.background&&this.flash===t.flash}copy(t){this.foreground=t.foreground,this.underline=t.underline,this.italics=t.italics,this.background=t.background,this.flash=t.flash}toString(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}class _S{constructor(){this.uchar=" ",this.penState=new Iv}reset(){this.uchar=" ",this.penState.reset()}setChar(t,n){this.uchar=t,this.penState.copy(n)}setPenState(t){this.penState.copy(t)}equals(t){return this.uchar===t.uchar&&this.penState.equals(t.penState)}copy(t){this.uchar=t.uchar,this.penState.copy(t.penState)}isEmpty(){return this.uchar===" "&&this.penState.isDefault()}}class MS{constructor(t){this.chars=[],this.pos=0,this.currPenState=new Iv,this.cueStartTime=null,this.logger=void 0;for(let n=0;n<ea;n++)this.chars.push(new _S);this.logger=t}equals(t){for(let n=0;n<ea;n++)if(!this.chars[n].equals(t.chars[n]))return!1;return!0}copy(t){for(let n=0;n<ea;n++)this.chars[n].copy(t.chars[n])}isEmpty(){let t=!0;for(let n=0;n<ea;n++)if(!this.chars[n].isEmpty()){t=!1;break}return t}setCursor(t){this.pos!==t&&(this.pos=t),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>ea&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=ea)}moveCursor(t){const n=this.pos+t;if(t>1)for(let i=this.pos+1;i<n+1;i++)this.chars[i].setPenState(this.currPenState);this.setCursor(n)}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}insertChar(t){t>=144&&this.backSpace();const n=Rv(t);if(this.pos>=ea){this.logger.log(0,()=>"Cannot insert "+t.toString(16)+" ("+n+") at position "+this.pos+". Skipping it!");return}this.chars[this.pos].setChar(n,this.currPenState),this.moveCursor(1)}clearFromPos(t){let n;for(n=t;n<ea;n++)this.chars[n].reset()}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}clearToEndOfRow(){this.clearFromPos(this.pos)}getTextString(){const t=[];let n=!0;for(let i=0;i<ea;i++){const l=this.chars[i].uchar;l!==" "&&(n=!1),t.push(l)}return n?"":t.join("")}setPenStyles(t){this.currPenState.setStyles(t),this.chars[this.pos].setPenState(this.currPenState)}}class Xd{constructor(t){this.rows=[],this.currRow=Cs-1,this.nrRollUpRows=null,this.lastOutputScreen=null,this.logger=void 0;for(let n=0;n<Cs;n++)this.rows.push(new MS(t));this.logger=t}reset(){for(let t=0;t<Cs;t++)this.rows[t].clear();this.currRow=Cs-1}equals(t){let n=!0;for(let i=0;i<Cs;i++)if(!this.rows[i].equals(t.rows[i])){n=!1;break}return n}copy(t){for(let n=0;n<Cs;n++)this.rows[n].copy(t.rows[n])}isEmpty(){let t=!0;for(let n=0;n<Cs;n++)if(!this.rows[n].isEmpty()){t=!1;break}return t}backSpace(){this.rows[this.currRow].backSpace()}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()}insertChar(t){this.rows[this.currRow].insertChar(t)}setPen(t){this.rows[this.currRow].setPenStyles(t)}moveCursor(t){this.rows[this.currRow].moveCursor(t)}setCursor(t){this.logger.log(2,"setCursor: "+t),this.rows[this.currRow].setCursor(t)}setPAC(t){this.logger.log(2,()=>"pacData = "+wr(t));let n=t.row-1;if(this.nrRollUpRows&&n<this.nrRollUpRows-1&&(n=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==n){for(let c=0;c<Cs;c++)this.rows[c].clear();const d=this.currRow+1-this.nrRollUpRows,a=this.lastOutputScreen;if(a){const c=a.rows[d].cueStartTime,e=this.logger.time;if(c!==null&&e!==null&&c<e)for(let o=0;o<this.nrRollUpRows;o++)this.rows[n-this.nrRollUpRows+o+1].copy(a.rows[d+o])}}this.currRow=n;const i=this.rows[this.currRow];if(t.indent!==null){const d=t.indent,a=Math.max(d-1,0);i.setCursor(t.indent),t.color=i.chars[a].penState.foreground}const l={foreground:t.color,underline:t.underline,italics:t.italics,background:"black",flash:!1};this.setPen(l)}setBkgData(t){this.logger.log(2,()=>"bkgData = "+wr(t)),this.backSpace(),this.setPen(t),this.insertChar(32)}setRollUpRows(t){this.nrRollUpRows=t}rollUp(){if(this.nrRollUpRows===null){this.logger.log(3,"roll_up but nrRollUpRows not set yet");return}this.logger.log(1,()=>this.getDisplayText());const t=this.currRow+1-this.nrRollUpRows,n=this.rows.splice(t,1)[0];n.clear(),this.rows.splice(this.currRow,0,n),this.logger.log(2,"Rolling up")}getDisplayText(t){t=t||!1;const n=[];let i="",l=-1;for(let d=0;d<Cs;d++){const a=this.rows[d].getTextString();a&&(l=d+1,t?n.push("Row "+l+": '"+a+"'"):n.push(a.trim()))}return n.length>0&&(t?i="["+n.join(" | ")+"]":i=n.join(`
`)),i}getTextAndFormat(){return this.rows}}class em{constructor(t,n,i){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=t,this.outputFilter=n,this.mode=null,this.verbose=0,this.displayedMemory=new Xd(i),this.nonDisplayedMemory=new Xd(i),this.lastOutputScreen=new Xd(i),this.currRollUpRow=this.displayedMemory.rows[Cs-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=i}reset(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[Cs-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}getHandler(){return this.outputFilter}setHandler(t){this.outputFilter=t}setPAC(t){this.writeScreen.setPAC(t)}setBkgData(t){this.writeScreen.setBkgData(t)}setMode(t){t!==this.mode&&(this.mode=t,this.logger.log(2,()=>"MODE="+t),this.mode==="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=t)}insertChars(t){for(let i=0;i<t.length;i++)this.writeScreen.insertChar(t[i]);const n=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,()=>n+": "+this.writeScreen.getDisplayText(!0)),(this.mode==="MODE_PAINT-ON"||this.mode==="MODE_ROLL-UP")&&(this.logger.log(1,()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS(){this.logger.log(2,"BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(t){this.logger.log(2,"RU("+t+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(t)}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),this.mode==="MODE_POP-ON"){const t=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=t,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,()=>"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)}ccTO(t){this.logger.log(2,"TO("+t+") - Tab Offset"),this.writeScreen.moveCursor(t)}ccMIDROW(t){const n={flash:!1};if(n.underline=t%2===1,n.italics=t>=46,n.italics)n.foreground="white";else{const i=Math.floor(t/2)-16,l=["white","green","blue","cyan","red","yellow","magenta"];n.foreground=l[i]}this.logger.log(2,"MIDROW: "+wr(n)),this.writeScreen.setPen(n)}outputDataUpdate(t=!1){const n=this.logger.time;n!==null&&this.outputFilter&&(this.cueStartTime===null&&!this.displayedMemory.isEmpty()?this.cueStartTime=n:this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,n,this.lastOutputScreen),t&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:n),this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(t){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,t,this.displayedMemory),this.cueStartTime=t))}}class nm{constructor(t,n,i){this.channels=void 0,this.currentChannel=0,this.cmdHistory=NS(),this.logger=void 0;const l=this.logger=new OS;this.channels=[null,new em(t,n,l),new em(t+1,i,l)]}getHandler(t){return this.channels[t].getHandler()}setHandler(t,n){this.channels[t].setHandler(n)}addData(t,n){this.logger.time=t;for(let i=0;i<n.length;i+=2){const l=n[i]&127,d=n[i+1]&127;let a=!1,c=null;if(l===0&&d===0)continue;this.logger.log(3,()=>"["+po([n[i],n[i+1]])+"] -> ("+po([l,d])+")");const e=this.cmdHistory;if(l>=16&&l<=31){if(PS(l,d,e)){bc(null,null,e),this.logger.log(3,()=>"Repeated command ("+po([l,d])+") is dropped");continue}bc(l,d,this.cmdHistory),a=this.parseCmd(l,d),a||(a=this.parseMidrow(l,d)),a||(a=this.parsePAC(l,d)),a||(a=this.parseBackgroundAttributes(l,d))}else bc(null,null,e);if(!a&&(c=this.parseChars(l,d),c)){const u=this.currentChannel;u&&u>0?this.channels[u].insertChars(c):this.logger.log(2,"No channel found yet. TEXT-MODE?")}!a&&!c&&this.logger.log(2,()=>"Couldn't parse cleaned data "+po([l,d])+" orig: "+po([n[i],n[i+1]]))}}parseCmd(t,n){const i=(t===20||t===28||t===21||t===29)&&n>=32&&n<=47,l=(t===23||t===31)&&n>=33&&n<=35;if(!(i||l))return!1;const d=t===20||t===21||t===23?1:2,a=this.channels[d];return t===20||t===21||t===28||t===29?n===32?a.ccRCL():n===33?a.ccBS():n===34?a.ccAOF():n===35?a.ccAON():n===36?a.ccDER():n===37?a.ccRU(2):n===38?a.ccRU(3):n===39?a.ccRU(4):n===40?a.ccFON():n===41?a.ccRDC():n===42?a.ccTR():n===43?a.ccRTD():n===44?a.ccEDM():n===45?a.ccCR():n===46?a.ccENM():n===47&&a.ccEOC():a.ccTO(n-32),this.currentChannel=d,!0}parseMidrow(t,n){let i=0;if((t===17||t===25)&&n>=32&&n<=47){if(t===17?i=1:i=2,i!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;const l=this.channels[i];return l?(l.ccMIDROW(n),this.logger.log(3,()=>"MIDROW ("+po([t,n])+")"),!0):!1}return!1}parsePAC(t,n){let i;const l=(t>=17&&t<=23||t>=25&&t<=31)&&n>=64&&n<=127,d=(t===16||t===24)&&n>=64&&n<=95;if(!(l||d))return!1;const a=t<=23?1:2;n>=64&&n<=95?i=a===1?RS[t]:DS[t]:i=a===1?IS[t]:kS[t];const c=this.channels[a];return c?(c.setPAC(this.interpretPAC(i,n)),this.currentChannel=a,!0):!1}interpretPAC(t,n){let i;const l={color:null,italics:!1,indent:null,underline:!1,row:t};return n>95?i=n-96:i=n-64,l.underline=(i&1)===1,i<=13?l.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(i/2)]:i<=15?(l.italics=!0,l.color="white"):l.indent=Math.floor((i-16)/2)*4,l}parseChars(t,n){let i,l=null,d=null;if(t>=25?(i=2,d=t-8):(i=1,d=t),d>=17&&d<=19){let a;d===17?a=n+80:d===18?a=n+112:a=n+144,this.logger.log(2,()=>"Special char '"+Rv(a)+"' in channel "+i),l=[a]}else t>=32&&t<=127&&(l=n===0?[t]:[t,n]);return l&&this.logger.log(3,()=>"Char codes =  "+po(l).join(",")),l}parseBackgroundAttributes(t,n){const i=(t===16||t===24)&&n>=32&&n<=47,l=(t===23||t===31)&&n>=45&&n<=47;if(!(i||l))return!1;let d;const a={};t===16||t===24?(d=Math.floor((n-32)/2),a.background=BS[d],n%2===1&&(a.background=a.background+"_semi")):n===45?a.background="transparent":(a.foreground="black",n===47&&(a.underline=!0));const c=t<=23?1:2;return this.channels[c].setBkgData(a),!0}reset(){for(let t=0;t<Object.keys(this.channels).length;t++){const n=this.channels[t];n&&n.reset()}bc(null,null,this.cmdHistory)}cueSplitAtTime(t){for(let n=0;n<this.channels.length;n++){const i=this.channels[n];i&&i.cueSplitAtTime(t)}}}function bc(g,t,n){n.a=g,n.b=t}function PS(g,t,n){return n.a===g&&n.b===t}function NS(){return{a:null,b:null}}var qh=(function(){if(Gc!=null&&Gc.VTTCue)return self.VTTCue;const g=["","lr","rl"],t=["start","middle","end","left","right"];function n(c,e){if(typeof e!="string"||!Array.isArray(c))return!1;const o=e.toLowerCase();return~c.indexOf(o)?o:!1}function i(c){return n(g,c)}function l(c){return n(t,c)}function d(c,...e){let o=1;for(;o<arguments.length;o++){const u=arguments[o];for(const f in u)c[f]=u[f]}return c}function a(c,e,o){const u=this,f={enumerable:!0};u.hasBeenReset=!1;let A="",p=!1,m=c,y=e,E=o,C=null,T="",x=!0,L="auto",D="start",B=50,O="middle",_=50,M="middle";Object.defineProperty(u,"id",d({},f,{get:function(){return A},set:function(U){A=""+U}})),Object.defineProperty(u,"pauseOnExit",d({},f,{get:function(){return p},set:function(U){p=!!U}})),Object.defineProperty(u,"startTime",d({},f,{get:function(){return m},set:function(U){if(typeof U!="number")throw new TypeError("Start time must be set to a number.");m=U,this.hasBeenReset=!0}})),Object.defineProperty(u,"endTime",d({},f,{get:function(){return y},set:function(U){if(typeof U!="number")throw new TypeError("End time must be set to a number.");y=U,this.hasBeenReset=!0}})),Object.defineProperty(u,"text",d({},f,{get:function(){return E},set:function(U){E=""+U,this.hasBeenReset=!0}})),Object.defineProperty(u,"region",d({},f,{get:function(){return C},set:function(U){C=U,this.hasBeenReset=!0}})),Object.defineProperty(u,"vertical",d({},f,{get:function(){return T},set:function(U){const Q=i(U);if(Q===!1)throw new SyntaxError("An invalid or illegal string was specified.");T=Q,this.hasBeenReset=!0}})),Object.defineProperty(u,"snapToLines",d({},f,{get:function(){return x},set:function(U){x=!!U,this.hasBeenReset=!0}})),Object.defineProperty(u,"line",d({},f,{get:function(){return L},set:function(U){if(typeof U!="number"&&U!=="auto")throw new SyntaxError("An invalid number or illegal string was specified.");L=U,this.hasBeenReset=!0}})),Object.defineProperty(u,"lineAlign",d({},f,{get:function(){return D},set:function(U){const Q=l(U);if(!Q)throw new SyntaxError("An invalid or illegal string was specified.");D=Q,this.hasBeenReset=!0}})),Object.defineProperty(u,"position",d({},f,{get:function(){return B},set:function(U){if(U<0||U>100)throw new Error("Position must be between 0 and 100.");B=U,this.hasBeenReset=!0}})),Object.defineProperty(u,"positionAlign",d({},f,{get:function(){return O},set:function(U){const Q=l(U);if(!Q)throw new SyntaxError("An invalid or illegal string was specified.");O=Q,this.hasBeenReset=!0}})),Object.defineProperty(u,"size",d({},f,{get:function(){return _},set:function(U){if(U<0||U>100)throw new Error("Size must be between 0 and 100.");_=U,this.hasBeenReset=!0}})),Object.defineProperty(u,"align",d({},f,{get:function(){return M},set:function(U){const Q=l(U);if(!Q)throw new SyntaxError("An invalid or illegal string was specified.");M=Q,this.hasBeenReset=!0}})),u.displayState=void 0}return a.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},a})();class US{decode(t,n){if(!t)return"";if(typeof t!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}function Dv(g){function t(i,l,d,a){return(i|0)*3600+(l|0)*60+(d|0)+parseFloat(a||0)}const n=g.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return n?parseFloat(n[2])>59?t(n[2],n[3],0,n[4]):t(n[1],n[2],n[3],n[4]):null}class FS{constructor(){this.values=Object.create(null)}set(t,n){!this.get(t)&&n!==""&&(this.values[t]=n)}get(t,n,i){return i?this.has(t)?this.values[t]:n[i]:this.has(t)?this.values[t]:n}has(t){return t in this.values}alt(t,n,i){for(let l=0;l<i.length;++l)if(n===i[l]){this.set(t,n);break}}integer(t,n){/^-?\d+$/.test(n)&&this.set(t,parseInt(n,10))}percent(t,n){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(n)){const i=parseFloat(n);if(i>=0&&i<=100)return this.set(t,i),!0}return!1}}function kv(g,t,n,i){const l=i?g.split(i):[g];for(const d in l){if(typeof l[d]!="string")continue;const a=l[d].split(n);if(a.length!==2)continue;const c=a[0],e=a[1];t(c,e)}}const Th=new qh(0,0,""),Cc=Th.align==="middle"?"middle":"center";function GS(g,t,n){const i=g;function l(){const c=Dv(g);if(c===null)throw new Error("Malformed timestamp: "+i);return g=g.replace(/^[^\sa-zA-Z-]+/,""),c}function d(c,e){const o=new FS;kv(c,function(A,p){let m;switch(A){case"region":for(let y=n.length-1;y>=0;y--)if(n[y].id===p){o.set(A,n[y].region);break}break;case"vertical":o.alt(A,p,["rl","lr"]);break;case"line":m=p.split(","),o.integer(A,m[0]),o.percent(A,m[0])&&o.set("snapToLines",!1),o.alt(A,m[0],["auto"]),m.length===2&&o.alt("lineAlign",m[1],["start",Cc,"end"]);break;case"position":m=p.split(","),o.percent(A,m[0]),m.length===2&&o.alt("positionAlign",m[1],["start",Cc,"end","line-left","line-right","auto"]);break;case"size":o.percent(A,p);break;case"align":o.alt(A,p,["start",Cc,"end","left","right"]);break}},/:/,/\s/),e.region=o.get("region",null),e.vertical=o.get("vertical","");let u=o.get("line","auto");u==="auto"&&Th.line===-1&&(u=-1),e.line=u,e.lineAlign=o.get("lineAlign","start"),e.snapToLines=o.get("snapToLines",!0),e.size=o.get("size",100),e.align=o.get("align",Cc);let f=o.get("position","auto");f==="auto"&&Th.position===50&&(f=e.align==="start"||e.align==="left"?0:e.align==="end"||e.align==="right"?100:50),e.position=f}function a(){g=g.replace(/^\s+/,"")}if(a(),t.startTime=l(),a(),g.slice(0,3)!=="-->")throw new Error("Malformed time stamp (time stamps must be separated by '-->'): "+i);g=g.slice(3),a(),t.endTime=l(),a(),d(g,t)}function Bv(g){return g.replace(/<br(?: \/)?>/gi,`
`)}class QS{constructor(){this.state="INITIAL",this.buffer="",this.decoder=new US,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}parse(t){const n=this;t&&(n.buffer+=n.decoder.decode(t,{stream:!0}));function i(){let d=n.buffer,a=0;for(d=Bv(d);a<d.length&&d[a]!=="\r"&&d[a]!==`
`;)++a;const c=d.slice(0,a);return d[a]==="\r"&&++a,d[a]===`
`&&++a,n.buffer=d.slice(a),c}function l(d){kv(d,function(a,c){},/:/)}try{let d="";if(n.state==="INITIAL"){if(!/\r\n|\n/.test(n.buffer))return this;d=i();const c=d.match(/^(ï»¿)?WEBVTT([ \t].*)?$/);if(!(c!=null&&c[0]))throw new Error("Malformed WebVTT signature.");n.state="HEADER"}let a=!1;for(;n.buffer;){if(!/\r\n|\n/.test(n.buffer))return this;switch(a?a=!1:d=i(),n.state){case"HEADER":/:/.test(d)?l(d):d||(n.state="ID");continue;case"NOTE":d||(n.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(d)){n.state="NOTE";break}if(!d)continue;if(n.cue=new qh(0,0,""),n.state="CUE",d.indexOf("-->")===-1){n.cue.id=d;continue}case"CUE":if(!n.cue){n.state="BADCUE";continue}try{GS(d,n.cue,n.regionList)}catch{n.cue=null,n.state="BADCUE";continue}n.state="CUETEXT";continue;case"CUETEXT":{const c=d.indexOf("-->")!==-1;if(!d||c&&(a=!0)){n.oncue&&n.cue&&n.oncue(n.cue),n.cue=null,n.state="ID";continue}if(n.cue===null)continue;n.cue.text&&(n.cue.text+=`
`),n.cue.text+=d}continue;case"BADCUE":d||(n.state="ID")}}}catch{n.state==="CUETEXT"&&n.cue&&n.oncue&&n.oncue(n.cue),n.cue=null,n.state=n.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this}flush(){const t=this;try{if((t.cue||t.state==="HEADER")&&(t.buffer+=`

`,t.parse()),t.state==="INITIAL"||t.state==="BADWEBVTT")throw new Error("Malformed WebVTT signature.")}catch(n){t.onparsingerror&&t.onparsingerror(n)}return t.onflush&&t.onflush(),this}}const HS=/\r\n|\n\r|\n|\r/g,Zd=function(t,n,i=0){return t.slice(i,i+n.length)===n},YS=function(t){let n=parseInt(t.slice(-3));const i=parseInt(t.slice(-6,-4)),l=parseInt(t.slice(-9,-7)),d=t.length>9?parseInt(t.substring(0,t.indexOf(":"))):0;if(!Qe(n)||!Qe(i)||!Qe(l)||!Qe(d))throw Error(`Malformed X-TIMESTAMP-MAP: Local:${t}`);return n+=1e3*i,n+=60*1e3*l,n+=3600*1e3*d,n};function Xh(g,t,n){return tu(g.toString())+tu(t.toString())+tu(n)}const zS=function(t,n,i){let l=t[n],d=t[l.prevCC];if(!d||!d.new&&l.new){t.ccOffset=t.presentationOffset=l.start,l.new=!1;return}for(;(a=d)!=null&&a.new;){var a;t.ccOffset+=l.start-d.start,l.new=!1,l=d,d=t[l.prevCC]}t.presentationOffset=i};function VS(g,t,n,i,l,d,a){const c=new QS,e=qi(new Uint8Array(g)).trim().replace(HS,`
`).split(`
`),o=[],u=t?Zb(t.baseTime,t.timescale):0;let f="00:00.000",A=0,p=0,m,y=!0;c.oncue=function(E){const C=n[i];let T=n.ccOffset;const x=(A-u)/9e4;if(C!=null&&C.new&&(p!==void 0?T=n.ccOffset=C.start:zS(n,i,x)),x){if(!t){m=new Error("Missing initPTS for VTT MPEGTS");return}T=x-n.presentationOffset}const L=E.endTime-E.startTime,D=rs((E.startTime+T-p)*9e4,l*9e4)/9e4;E.startTime=Math.max(D,0),E.endTime=Math.max(D+L,0);const B=E.text.trim();E.text=decodeURIComponent(encodeURIComponent(B)),E.id||(E.id=Xh(E.startTime,E.endTime,B)),E.endTime>0&&o.push(E)},c.onparsingerror=function(E){m=E},c.onflush=function(){if(m){a(m);return}d(o)},e.forEach(E=>{if(y)if(Zd(E,"X-TIMESTAMP-MAP=")){y=!1,E.slice(16).split(",").forEach(C=>{Zd(C,"LOCAL:")?f=C.slice(6):Zd(C,"MPEGTS:")&&(A=parseInt(C.slice(7)))});try{p=YS(f)/1e3}catch(C){m=C}return}else E===""&&(y=!1);c.parse(E+`
`)}),c.flush()}const Jd="stpp.ttml.im1t",Ov=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,_v=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,jS={left:"start",center:"center",right:"end",start:"start",end:"end"};function rm(g,t,n,i){const l=Hn(new Uint8Array(g),["mdat"]);if(l.length===0){i(new Error("Could not parse IMSC1 mdat"));return}const d=l.map(c=>qi(c)),a=Xb(t.baseTime,1,t.timescale);try{d.forEach(c=>n($S(c,a)))}catch(c){i(c)}}function $S(g,t){const l=new DOMParser().parseFromString(g,"text/xml").getElementsByTagName("tt")[0];if(!l)throw new Error("Invalid ttml");const d={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},a=Object.keys(d).reduce((f,A)=>(f[A]=l.getAttribute(`ttp:${A}`)||d[A],f),{}),c=l.getAttribute("xml:space")!=="preserve",e=im(th(l,"styling","style")),o=im(th(l,"layout","region")),u=th(l,"body","[begin]");return[].map.call(u,f=>{const A=Mv(f,c);if(!A||!f.hasAttribute("begin"))return null;const p=nh(f.getAttribute("begin"),a),m=nh(f.getAttribute("dur"),a);let y=nh(f.getAttribute("end"),a);if(p===null)throw sm(f);if(y===null){if(m===null)throw sm(f);y=p+m}const E=new qh(p-t,y-t,A);E.id=Xh(E.startTime,E.endTime,E.text);const C=o[f.getAttribute("region")],T=e[f.getAttribute("style")],x=KS(C,T,e),{textAlign:L}=x;if(L){const D=jS[L];D&&(E.lineAlign=D),E.align=L}return mr(E,x),E}).filter(f=>f!==null)}function th(g,t,n){const i=g.getElementsByTagName(t)[0];return i?[].slice.call(i.querySelectorAll(n)):[]}function im(g){return g.reduce((t,n)=>{const i=n.getAttribute("xml:id");return i&&(t[i]=n),t},{})}function Mv(g,t){return[].slice.call(g.childNodes).reduce((n,i,l)=>{var d;return i.nodeName==="br"&&l?n+`
`:(d=i.childNodes)!=null&&d.length?Mv(i,t):t?n+i.textContent.trim().replace(/\s+/g," "):n+i.textContent},"")}function KS(g,t,n){const i="http://www.w3.org/ns/ttml#styling";let l=null;const d=["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"],a=g!=null&&g.hasAttribute("style")?g.getAttribute("style"):null;return a&&n.hasOwnProperty(a)&&(l=n[a]),d.reduce((c,e)=>{const o=eh(t,i,e)||eh(g,i,e)||eh(l,i,e);return o&&(c[e]=o),c},{})}function eh(g,t,n){return g&&g.hasAttributeNS(t,n)?g.getAttributeNS(t,n):null}function sm(g){return new Error(`Could not parse ttml timestamp ${g}`)}function nh(g,t){if(!g)return null;let n=Dv(g);return n===null&&(Ov.test(g)?n=WS(g,t):_v.test(g)&&(n=qS(g,t))),n}function WS(g,t){const n=Ov.exec(g),i=(n[4]|0)+(n[5]|0)/t.subFrameRate;return(n[1]|0)*3600+(n[2]|0)*60+(n[3]|0)+i/t.frameRate}function qS(g,t){const n=_v.exec(g),i=Number(n[1]);switch(n[2]){case"h":return i*3600;case"m":return i*60;case"ms":return i*1e3;case"f":return i/t.frameRate;case"t":return i/t.tickRate}return i}class Sc{constructor(t,n){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=t,this.trackName=n}dispatchCue(){this.startTime!==null&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}newCue(t,n,i){(this.startTime===null||this.startTime>t)&&(this.startTime=t),this.endTime=n,this.screen=i,this.timelineController.createCaptionsTrack(this.trackName)}reset(){this.cueRanges=[],this.startTime=null}}class XS{constructor(t){this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=om(),this.captionsProperties=void 0,this.hls=t,this.config=t.config,this.Cues=t.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},t.on(F.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(F.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(F.MANIFEST_LOADING,this.onManifestLoading,this),t.on(F.MANIFEST_LOADED,this.onManifestLoaded,this),t.on(F.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.on(F.FRAG_LOADING,this.onFragLoading,this),t.on(F.FRAG_LOADED,this.onFragLoaded,this),t.on(F.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),t.on(F.FRAG_DECRYPTED,this.onFragDecrypted,this),t.on(F.INIT_PTS_FOUND,this.onInitPtsFound,this),t.on(F.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),t.on(F.BUFFER_FLUSHING,this.onBufferFlushing,this)}destroy(){const{hls:t}=this;t.off(F.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(F.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(F.MANIFEST_LOADING,this.onManifestLoading,this),t.off(F.MANIFEST_LOADED,this.onManifestLoaded,this),t.off(F.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.off(F.FRAG_LOADING,this.onFragLoading,this),t.off(F.FRAG_LOADED,this.onFragLoaded,this),t.off(F.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),t.off(F.FRAG_DECRYPTED,this.onFragDecrypted,this),t.off(F.INIT_PTS_FOUND,this.onInitPtsFound,this),t.off(F.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),t.off(F.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.media=null,this.cea608Parser1=this.cea608Parser2=void 0}initCea608Parsers(){const t=new Sc(this,"textTrack1"),n=new Sc(this,"textTrack2"),i=new Sc(this,"textTrack3"),l=new Sc(this,"textTrack4");this.cea608Parser1=new nm(1,t,n),this.cea608Parser2=new nm(3,i,l)}addCues(t,n,i,l,d){let a=!1;for(let c=d.length;c--;){const e=d[c],o=ZS(e[0],e[1],n,i);if(o>=0&&(e[0]=Math.min(e[0],n),e[1]=Math.max(e[1],i),a=!0,o/(i-n)>.5))return}if(a||d.push([n,i]),this.config.renderTextTracksNatively){const c=this.captionsTracks[t];this.Cues.newCue(c,n,i,l)}else{const c=this.Cues.newCue(null,n,i,l);this.hls.trigger(F.CUES_PARSED,{type:"captions",cues:c,track:t})}}onInitPtsFound(t,{frag:n,id:i,initPTS:l,timescale:d,trackId:a}){const{unparsedVttFrags:c}=this;i===Ze.MAIN&&(this.initPTS[n.cc]={baseTime:l,timescale:d,trackId:a}),c.length&&(this.unparsedVttFrags=[],c.forEach(e=>{this.initPTS[e.frag.cc]?this.onFragLoaded(F.FRAG_LOADED,e):this.hls.trigger(F.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e.frag,error:new Error("Subtitle discontinuity domain does not match main")})}))}getExistingTrack(t,n){const{media:i}=this;if(i)for(let l=0;l<i.textTracks.length;l++){const d=i.textTracks[l];if(am(d,{name:t,lang:n,characteristics:"transcribes-spoken-dialog,describes-music-and-sound"}))return d}return null}createCaptionsTrack(t){this.config.renderTextTracksNatively?this.createNativeTrack(t):this.createNonNativeTrack(t)}createNativeTrack(t){if(this.captionsTracks[t])return;const{captionsProperties:n,captionsTracks:i,media:l}=this,{label:d,languageCode:a}=n[t],c=this.getExistingTrack(d,a);if(c)i[t]=c,il(i[t]),xv(i[t],l);else{const e=this.createTextTrack("captions",d,a);e&&(e[t]=!0,i[t]=e)}}createNonNativeTrack(t){if(this.nonNativeCaptionsTracks[t])return;const n=this.captionsProperties[t];if(!n)return;const i=n.label,l={_id:t,label:i,kind:"captions",default:n.media?!!n.media.default:!1,closedCaptions:n.media};this.nonNativeCaptionsTracks[t]=l,this.hls.trigger(F.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[l]})}createTextTrack(t,n,i){const l=this.media;if(l)return l.addTextTrack(t,n,i)}onMediaAttaching(t,n){this.media=n.media,n.mediaSource||this._cleanTracks()}onMediaDetaching(t,n){const i=!!n.transferMedia;if(this.media=null,i)return;const{captionsTracks:l}=this;Object.keys(l).forEach(d=>{il(l[d]),delete l[d]}),this.nonNativeCaptionsTracks={}}onManifestLoading(){this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=om(),this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}_cleanTracks(){const{media:t}=this;if(!t)return;const n=t.textTracks;if(n)for(let i=0;i<n.length;i++)il(n[i])}onSubtitleTracksUpdated(t,n){const i=n.subtitleTracks||[],l=i.some(d=>d.textCodec===Jd);if(this.config.enableWebVTT||l&&this.config.enableIMSC1){if(dv(this.tracks,i)){this.tracks=i;return}if(this.textTracks=[],this.tracks=i,this.config.renderTextTracksNatively){const a=this.media,c=a?Bc(a.textTracks):null;if(this.tracks.forEach((e,o)=>{let u;if(c){let f=null;for(let A=0;A<c.length;A++)if(c[A]&&am(c[A],e)){f=c[A],c[A]=null;break}f&&(u=f)}if(u)il(u);else{const f=Pv(e);u=this.createTextTrack(f,e.name,e.lang),u&&(u.mode="disabled")}u&&this.textTracks.push(u)}),c!=null&&c.length){const e=c.filter(o=>o!==null).map(o=>o.label);e.length&&this.hls.logger.warn(`Media element contains unused subtitle tracks: ${e.join(", ")}. Replace media element for each source to clear TextTracks and captions menu.`)}}else if(this.tracks.length){const a=this.tracks.map(c=>({label:c.name,kind:c.type.toLowerCase(),default:c.default,subtitleTrack:c}));this.hls.trigger(F.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:a})}}}onManifestLoaded(t,n){this.config.enableCEA708Captions&&n.captions&&n.captions.forEach(i=>{const l=/(?:CC|SERVICE)([1-4])/.exec(i.instreamId);if(!l)return;const d=`textTrack${l[1]}`,a=this.captionsProperties[d];a&&(a.label=i.name,i.lang&&(a.languageCode=i.lang),a.media=i)})}closedCaptionsForLevel(t){const n=this.hls.levels[t.level];return n?.attrs["CLOSED-CAPTIONS"]}onFragLoading(t,n){if(this.enabled&&n.frag.type===Ze.MAIN){var i,l;const{cea608Parser1:d,cea608Parser2:a,lastSn:c}=this,{cc:e,sn:o}=n.frag,u=(i=(l=n.part)==null?void 0:l.index)!=null?i:-1;d&&a&&(o!==c+1||o===c&&u!==this.lastPartIndex+1||e!==this.lastCc)&&(d.reset(),a.reset()),this.lastCc=e,this.lastSn=o,this.lastPartIndex=u}}onFragLoaded(t,n){const{frag:i,payload:l}=n;if(i.type===Ze.SUBTITLE)if(l.byteLength){const d=i.decryptdata,a="stats"in n;if(d==null||!d.encrypted||a){const c=this.tracks[i.level],e=this.vttCCs;e[i.cc]||(e[i.cc]={start:i.start,prevCC:this.prevCC,new:!0},this.prevCC=i.cc),c&&c.textCodec===Jd?this._parseIMSC1(i,l):this._parseVTTs(n)}}else this.hls.trigger(F.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:i,error:new Error("Empty subtitle payload")})}_parseIMSC1(t,n){const i=this.hls;rm(n,this.initPTS[t.cc],l=>{this._appendCues(l,t.level),i.trigger(F.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:t})},l=>{i.logger.log(`Failed to parse IMSC1: ${l}`),i.trigger(F.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t,error:l})})}_parseVTTs(t){var n;const{frag:i,payload:l}=t,{initPTS:d,unparsedVttFrags:a}=this,c=d.length-1;if(!d[i.cc]&&c===-1){a.push(t);return}const e=this.hls,o=(n=i.initSegment)!=null&&n.data?is(i.initSegment.data,new Uint8Array(l)).buffer:l;VS(o,this.initPTS[i.cc],this.vttCCs,i.cc,i.start,u=>{this._appendCues(u,i.level),e.trigger(F.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:i})},u=>{const f=u.message==="Missing initPTS for VTT MPEGTS";f?a.push(t):this._fallbackToIMSC1(i,l),e.logger.log(`Failed to parse VTT cue: ${u}`),!(f&&c>i.cc)&&e.trigger(F.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:i,error:u})})}_fallbackToIMSC1(t,n){const i=this.tracks[t.level];i.textCodec||rm(n,this.initPTS[t.cc],()=>{i.textCodec=Jd,this._parseIMSC1(t,n)},()=>{i.textCodec="wvtt"})}_appendCues(t,n){const i=this.hls;if(this.config.renderTextTracksNatively){const l=this.textTracks[n];if(!l||l.mode==="disabled")return;t.forEach(d=>wv(l,d))}else{const l=this.tracks[n];if(!l)return;const d=l.default?"default":"subtitles"+n;i.trigger(F.CUES_PARSED,{type:"subtitles",cues:t,track:d})}}onFragDecrypted(t,n){const{frag:i}=n;i.type===Ze.SUBTITLE&&this.onFragLoaded(F.FRAG_LOADED,n)}onSubtitleTracksCleared(){this.tracks=[],this.captionsTracks={}}onFragParsingUserdata(t,n){if(!this.enabled||!this.config.enableCEA708Captions)return;const{frag:i,samples:l}=n;if(!(i.type===Ze.MAIN&&this.closedCaptionsForLevel(i)==="NONE"))for(let d=0;d<l.length;d++){const a=l[d].bytes;if(a){this.cea608Parser1||this.initCea608Parsers();const c=this.extractCea608Data(a);this.cea608Parser1.addData(l[d].pts,c[0]),this.cea608Parser2.addData(l[d].pts,c[1])}}}onBufferFlushing(t,{startOffset:n,endOffset:i,endOffsetSubtitles:l,type:d}){const{media:a}=this;if(!(!a||a.currentTime<i)){if(!d||d==="video"){const{captionsTracks:c}=this;Object.keys(c).forEach(e=>Sh(c[e],n,i))}if(this.config.renderTextTracksNatively&&n===0&&l!==void 0){const{textTracks:c}=this;Object.keys(c).forEach(e=>Sh(c[e],n,l))}}}extractCea608Data(t){const n=[[],[]],i=t[0]&31;let l=2;for(let d=0;d<i;d++){const a=t[l++],c=127&t[l++],e=127&t[l++];if(c===0&&e===0)continue;if((4&a)!==0){const u=3&a;(u===0||u===1)&&(n[u].push(c),n[u].push(e))}}return n}}function Pv(g){return g.characteristics&&/transcribes-spoken-dialog/gi.test(g.characteristics)&&/describes-music-and-sound/gi.test(g.characteristics)?"captions":"subtitles"}function am(g,t){return!!g&&g.kind===Pv(t)&&yh(t,g)}function ZS(g,t,n,i){return Math.min(t,i)-Math.max(g,n)}function om(){return{ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}}}const JS=/\s/,tT={newCue(g,t,n,i){const l=[];let d,a,c,e,o;const u=self.VTTCue||self.TextTrackCue;for(let A=0;A<i.rows.length;A++)if(d=i.rows[A],c=!0,e=0,o="",!d.isEmpty()){var f;for(let y=0;y<d.chars.length;y++)JS.test(d.chars[y].uchar)&&c?e++:(o+=d.chars[y].uchar,c=!1);d.cueStartTime=t,t===n&&(n+=1e-4),e>=16?e--:e++;const p=Bv(o.trim()),m=Xh(t,n,p);g!=null&&(f=g.cues)!=null&&f.getCueById(m)||(a=new u(t,n,p),a.id=m,a.line=A+1,a.align="left",a.position=10+Math.min(80,Math.floor(e*8/32)*10),l.push(a))}return g&&l.length&&(l.sort((A,p)=>A.line==="auto"||p.line==="auto"?0:A.line>8&&p.line>8?p.line-A.line:A.line-p.line),l.forEach(A=>wv(g,A))),l}};function eT(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch{}return!1}const nT=/(\d+)-(\d+)\/(\d+)/;class lm{constructor(t){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=null,this.response=null,this.controller=void 0,this.context=null,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=t.fetchSetup||aT,this.controller=new self.AbortController,this.stats=new Ih}destroy(){this.loader=this.callbacks=this.context=this.config=this.request=null,this.abortInternal(),this.response=null,this.fetchSetup=this.controller=this.stats=null}abortInternal(){this.controller&&!this.stats.loading.end&&(this.stats.aborted=!0,this.controller.abort())}abort(){var t;this.abortInternal(),(t=this.callbacks)!=null&&t.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}load(t,n,i){const l=this.stats;if(l.loading.start)throw new Error("Loader can only be used once.");l.loading.start=self.performance.now();const d=rT(t,this.controller.signal),a=t.responseType==="arraybuffer",c=a?"byteLength":"length",{maxTimeToFirstByteMs:e,maxLoadTimeMs:o}=n.loadPolicy;this.context=t,this.config=n,this.callbacks=i,this.request=this.fetchSetup(t,d),self.clearTimeout(this.requestTimeout),n.timeout=e&&Qe(e)?e:o,this.requestTimeout=self.setTimeout(()=>{this.callbacks&&(this.abortInternal(),this.callbacks.onTimeout(l,t,this.response))},n.timeout),(su(this.request)?this.request.then(self.fetch):self.fetch(this.request)).then(f=>{var A;this.response=this.loader=f;const p=Math.max(self.performance.now(),l.loading.start);if(self.clearTimeout(this.requestTimeout),n.timeout=o,this.requestTimeout=self.setTimeout(()=>{this.callbacks&&(this.abortInternal(),this.callbacks.onTimeout(l,t,this.response))},o-(p-l.loading.start)),!f.ok){const{status:y,statusText:E}=f;throw new oT(E||"fetch, bad network response",y,f)}l.loading.first=p,l.total=sT(f.headers)||l.total;const m=(A=this.callbacks)==null?void 0:A.onProgress;return m&&Qe(n.highWaterMark)?this.loadProgressively(f,l,t,n.highWaterMark,m):a?f.arrayBuffer():t.responseType==="json"?f.json():f.text()}).then(f=>{var A,p;const m=this.response;if(!m)throw new Error("loader destroyed");self.clearTimeout(this.requestTimeout),l.loading.end=Math.max(self.performance.now(),l.loading.first);const y=f[c];y&&(l.loaded=l.total=y);const E={url:m.url,data:f,code:m.status},C=(A=this.callbacks)==null?void 0:A.onProgress;C&&!Qe(n.highWaterMark)&&C(l,t,f,m),(p=this.callbacks)==null||p.onSuccess(E,l,t,m)}).catch(f=>{var A;if(self.clearTimeout(this.requestTimeout),l.aborted)return;const p=f&&f.code||0,m=f?f.message:null;(A=this.callbacks)==null||A.onError({code:p,text:m},t,f?f.details:null,l)})}getCacheAge(){let t=null;if(this.response){const n=this.response.headers.get("age");t=n?parseFloat(n):null}return t}getResponseHeader(t){return this.response?this.response.headers.get(t):null}loadProgressively(t,n,i,l=0,d){const a=new jm,c=t.body.getReader(),e=()=>c.read().then(o=>{if(o.done)return a.dataLength&&d(n,i,a.flush().buffer,t),Promise.resolve(new ArrayBuffer(0));const u=o.value,f=u.length;return n.loaded+=f,f<l||a.dataLength?(a.push(u),a.dataLength>=l&&d(n,i,a.flush().buffer,t)):d(n,i,u.buffer,t),e()}).catch(()=>Promise.reject());return e()}}function rT(g,t){const n={method:"GET",mode:"cors",credentials:"same-origin",signal:t,headers:new self.Headers(mr({},g.headers))};return g.rangeEnd&&n.headers.set("Range","bytes="+g.rangeStart+"-"+String(g.rangeEnd-1)),n}function iT(g){const t=nT.exec(g);if(t)return parseInt(t[2])-parseInt(t[1])+1}function sT(g){const t=g.get("Content-Range");if(t){const i=iT(t);if(Qe(i))return i}const n=g.get("Content-Length");if(n)return parseInt(n)}function aT(g,t){return new self.Request(g.url,t)}class oT extends Error{constructor(t,n,i){super(t),this.code=void 0,this.details=void 0,this.code=n,this.details=i}}const lT=/^age:\s*[\d.]+\s*$/im;class Nv{constructor(t){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=null,this.loader=null,this.stats=void 0,this.xhrSetup=t&&t.xhrSetup||null,this.stats=new Ih,this.retryDelay=0}destroy(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null,this.context=null,this.xhrSetup=null}abortInternal(){const t=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),t&&(t.onreadystatechange=null,t.onprogress=null,t.readyState!==4&&(this.stats.aborted=!0,t.abort()))}abort(){var t;this.abortInternal(),(t=this.callbacks)!=null&&t.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}load(t,n,i){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=t,this.config=n,this.callbacks=i,this.loadInternal()}loadInternal(){const{config:t,context:n}=this;if(!t||!n)return;const i=this.loader=new self.XMLHttpRequest,l=this.stats;l.loading.first=0,l.loaded=0,l.aborted=!1;const d=this.xhrSetup;d?Promise.resolve().then(()=>{if(!(this.loader!==i||this.stats.aborted))return d(i,n.url)}).catch(a=>{if(!(this.loader!==i||this.stats.aborted))return i.open("GET",n.url,!0),d(i,n.url)}).then(()=>{this.loader!==i||this.stats.aborted||this.openAndSendXhr(i,n,t)}).catch(a=>{var c;(c=this.callbacks)==null||c.onError({code:i.status,text:a.message},n,i,l)}):this.openAndSendXhr(i,n,t)}openAndSendXhr(t,n,i){t.readyState||t.open("GET",n.url,!0);const l=n.headers,{maxTimeToFirstByteMs:d,maxLoadTimeMs:a}=i.loadPolicy;if(l)for(const c in l)t.setRequestHeader(c,l[c]);n.rangeEnd&&t.setRequestHeader("Range","bytes="+n.rangeStart+"-"+(n.rangeEnd-1)),t.onreadystatechange=this.readystatechange.bind(this),t.onprogress=this.loadprogress.bind(this),t.responseType=n.responseType,self.clearTimeout(this.requestTimeout),i.timeout=d&&Qe(d)?d:a,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),i.timeout),t.send()}readystatechange(){const{context:t,loader:n,stats:i}=this;if(!t||!n)return;const l=n.readyState,d=this.config;if(!i.aborted&&l>=2&&(i.loading.first===0&&(i.loading.first=Math.max(self.performance.now(),i.loading.start),d.timeout!==d.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),d.timeout=d.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),d.loadPolicy.maxLoadTimeMs-(i.loading.first-i.loading.start)))),l===4)){self.clearTimeout(this.requestTimeout),n.onreadystatechange=null,n.onprogress=null;const o=n.status,u=n.responseType==="text"?n.responseText:null;if(o>=200&&o<300){const m=u??n.response;if(m!=null){var a,c;i.loading.end=Math.max(self.performance.now(),i.loading.first);const y=n.responseType==="arraybuffer"?m.byteLength:m.length;i.loaded=i.total=y,i.bwEstimate=i.total*8e3/(i.loading.end-i.loading.first);const E=(a=this.callbacks)==null?void 0:a.onProgress;E&&E(i,t,m,n);const C={url:n.responseURL,data:m,code:o};(c=this.callbacks)==null||c.onSuccess(C,i,t,n);return}}const f=d.loadPolicy.errorRetry,A=i.retry,p={url:t.url,data:void 0,code:o};if(Fc(f,A,!1,p))this.retry(f);else{var e;fr.error(`${o} while loading ${t.url}`),(e=this.callbacks)==null||e.onError({code:o,text:n.statusText},t,n,i)}}}loadtimeout(){if(!this.config)return;const t=this.config.loadPolicy.timeoutRetry,n=this.stats.retry;if(Fc(t,n,!0))this.retry(t);else{var i;fr.warn(`timeout while loading ${(i=this.context)==null?void 0:i.url}`);const l=this.callbacks;l&&(this.abortInternal(),l.onTimeout(this.stats,this.context,this.loader))}}retry(t){const{context:n,stats:i}=this;this.retryDelay=Oh(t,i.retry),i.retry++,fr.warn(`${status?"HTTP Status "+status:"Timeout"} while loading ${n?.url}, retrying ${i.retry}/${t.maxNumRetry} in ${this.retryDelay}ms`),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}loadprogress(t){const n=this.stats;n.loaded=t.loaded,t.lengthComputable&&(n.total=t.total)}getCacheAge(){let t=null;if(this.loader&&lT.test(this.loader.getAllResponseHeaders())){const n=this.loader.getResponseHeader("age");t=n?parseFloat(n):null}return t}getResponseHeader(t){return this.loader&&new RegExp(`^${t}:\\s*[\\d.]+\\s*$`,"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(t):null}}const uT={maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null},cT=pr(pr({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,maxDevicePixelRatio:Number.POSITIVE_INFINITY,preferManagedMediaSource:!0,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,frontBufferFlushThreshold:1/0,startOnSegmentBoundary:!1,maxBufferSize:60*1e3*1e3,maxFragLookUpTolerance:.25,maxBufferHole:.1,detectStallWithCurrentTimeMs:1250,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,nudgeOnVideoHole:!0,liveSyncMode:"edge",liveSyncDurationCount:3,liveSyncOnStallIncrease:1,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,ignorePlaylistParsingErrors:!1,loader:Nv,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:bE,bufferController:hC,capLevelController:$h,errorController:wE,fpsController:hS,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrEwmaDefaultEstimateMax:5e6,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:Pm,requireKeySystemAccessOnStart:!1,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableEmsgKLVMetadata:!1,enableID3MetadataCues:!0,enableInterstitialPlayback:!0,interstitialAppendInPlace:!0,interstitialLiveLookAhead:10,useMediaCapabilities:!0,preserveManualLevelOnError:!1,certLoadPolicy:{default:uT},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},interstitialAssetListLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:3e4,timeoutRetry:{maxNumRetry:0,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:0,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},fT()),{},{subtitleStreamController:xS,subtitleTrackController:pS,timelineController:XS,audioStreamController:uC,audioTrackController:cC,emeController:ol,cmcdController:cS,contentSteeringController:dS,interstitialsController:TS});function fT(){return{cueHandler:tT,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}}function dT(g,t,n){if((t.liveSyncDurationCount||t.liveMaxLatencyDurationCount)&&(t.liveSyncDuration||t.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(t.liveMaxLatencyDurationCount!==void 0&&(t.liveSyncDurationCount===void 0||t.liveMaxLatencyDurationCount<=t.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(t.liveMaxLatencyDuration!==void 0&&(t.liveSyncDuration===void 0||t.liveMaxLatencyDuration<=t.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');const i=xh(g),l=["manifest","level","frag"],d=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return l.forEach(a=>{const c=`${a==="level"?"playlist":a}LoadPolicy`,e=t[c]===void 0,o=[];d.forEach(u=>{const f=`${a}Loading${u}`,A=t[f];if(A!==void 0&&e){o.push(f);const p=i[c].default;switch(t[c]={default:p},u){case"TimeOut":p.maxLoadTimeMs=A,p.maxTimeToFirstByteMs=A;break;case"MaxRetry":p.errorRetry.maxNumRetry=A,p.timeoutRetry.maxNumRetry=A;break;case"RetryDelay":p.errorRetry.retryDelayMs=A,p.timeoutRetry.retryDelayMs=A;break;case"MaxRetryTimeout":p.errorRetry.maxRetryDelayMs=A,p.timeoutRetry.maxRetryDelayMs=A;break}}}),o.length&&n.warn(`hls.js config: "${o.join('", "')}" setting(s) are deprecated, use "${c}": ${wr(t[c])}`)}),pr(pr({},i),t)}function xh(g){return g&&typeof g=="object"?Array.isArray(g)?g.map(xh):Object.keys(g).reduce((t,n)=>(t[n]=xh(g[n]),t),{}):g}function hT(g,t){const n=g.loader;n!==lm&&n!==Nv?(t.log("[config]: Custom loader detected, cannot enable progressive streaming"),g.progressive=!1):eT()&&(g.loader=lm,g.progressive=!0,g.enableSoftwareAES=!0,t.log("[config]: Progressive streaming enabled, using FetchLoader"))}const Oc=2,AT=.1,gT=.05,pT=100;class mT extends Bm{constructor(t,n){super("gap-controller",t.logger),this.hls=void 0,this.fragmentTracker=void 0,this.media=null,this.mediaSource=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.buffered={},this.lastCurrentTime=0,this.ended=0,this.waiting=0,this.onMediaPlaying=()=>{this.ended=0,this.waiting=0},this.onMediaWaiting=()=>{var i;(i=this.media)!=null&&i.seeking||(this.waiting=self.performance.now(),this.tick())},this.onMediaEnded=()=>{if(this.hls){var i;this.ended=((i=this.media)==null?void 0:i.currentTime)||1,this.hls.trigger(F.MEDIA_ENDED,{stalled:!1})}},this.hls=t,this.fragmentTracker=n,this.registerListeners()}registerListeners(){const{hls:t}=this;t&&(t.on(F.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(F.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(F.BUFFER_APPENDED,this.onBufferAppended,this))}unregisterListeners(){const{hls:t}=this;t&&(t.off(F.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(F.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(F.BUFFER_APPENDED,this.onBufferAppended,this))}destroy(){super.destroy(),this.unregisterListeners(),this.media=this.hls=this.fragmentTracker=null,this.mediaSource=void 0}onMediaAttached(t,n){this.setInterval(pT),this.mediaSource=n.mediaSource;const i=this.media=n.media;Ri(i,"playing",this.onMediaPlaying),Ri(i,"waiting",this.onMediaWaiting),Ri(i,"ended",this.onMediaEnded)}onMediaDetaching(t,n){this.clearInterval();const{media:i}=this;i&&(Pi(i,"playing",this.onMediaPlaying),Pi(i,"waiting",this.onMediaWaiting),Pi(i,"ended",this.onMediaEnded),this.media=null),this.mediaSource=void 0}onBufferAppended(t,n){this.buffered=n.timeRanges}get hasBuffered(){return Object.keys(this.buffered).length>0}tick(){var t;if(!((t=this.media)!=null&&t.readyState)||!this.hasBuffered)return;const n=this.media.currentTime;this.poll(n,this.lastCurrentTime),this.lastCurrentTime=n}poll(t,n){var i,l;const d=(i=this.hls)==null?void 0:i.config;if(!d)return;const a=this.media;if(!a)return;const{seeking:c}=a,e=this.seeking&&!c,o=!this.seeking&&c,u=a.paused&&!c||a.ended||a.playbackRate===0;if(this.seeking=c,t!==n){n&&(this.ended=0),this.moved=!0,c||(this.nudgeRetry=0,d.nudgeOnVideoHole&&!u&&t>n&&this.nudgeOnVideoHole(t,n)),this.waiting===0&&this.stallResolved(t);return}if(o||e){e&&this.stallResolved(t);return}if(u){this.nudgeRetry=0,this.stallResolved(t),!this.ended&&a.ended&&this.hls&&(this.ended=t||1,this.hls.trigger(F.MEDIA_ENDED,{stalled:!1}));return}if(!_n.getBuffered(a).length){this.nudgeRetry=0;return}const f=_n.bufferInfo(a,t,0),A=f.nextStart||0,p=this.fragmentTracker;if(c&&p&&this.hls){const B=um(this.hls.inFlightFragments,t),O=f.len>Oc,_=!A||B||A-t>Oc&&!p.getPartialFragment(t);if(O||_)return;this.moved=!1}const m=(l=this.hls)==null?void 0:l.latestLevelDetails;if(!this.moved&&this.stalled!==null&&p){if(!(f.len>0)&&!A)return;const O=Math.max(A,f.start||0)-t,M=!!(m!=null&&m.live)?m.targetduration*2:Oc,U=Tc(t,p);if(O>0&&(O<=M||U)){a.paused||this._trySkipBufferHole(U);return}}const y=d.detectStallWithCurrentTimeMs,E=self.performance.now(),C=this.waiting;let T=this.stalled;if(T===null)if(C>0&&E-C<y)T=this.stalled=C;else{this.stalled=E;return}const x=E-T;if(!c&&(x>=y||C)&&this.hls){var L;if(((L=this.mediaSource)==null?void 0:L.readyState)==="ended"&&!(m!=null&&m.live)&&Math.abs(t-(m?.edge||0))<1){if(this.ended)return;this.ended=t||1,this.hls.trigger(F.MEDIA_ENDED,{stalled:!0});return}if(this._reportStall(f),!this.media||!this.hls)return}const D=_n.bufferInfo(a,t,d.maxBufferHole);this._tryFixBufferStall(D,x,t)}stallResolved(t){const n=this.stalled;if(n&&this.hls&&(this.stalled=null,this.stallReported)){const i=self.performance.now()-n;this.log(`playback not stuck anymore @${t}, after ${Math.round(i)}ms`),this.stallReported=!1,this.waiting=0,this.hls.trigger(F.STALL_RESOLVED,{})}}nudgeOnVideoHole(t,n){var i;const l=this.buffered.video;if(this.hls&&this.media&&this.fragmentTracker&&(i=this.buffered.audio)!=null&&i.length&&l&&l.length>1&&t>l.end(0)){const d=_n.bufferedInfo(_n.timeRangesToArray(this.buffered.audio),t,0);if(d.len>1&&n>=d.start){const a=_n.timeRangesToArray(l),c=_n.bufferedInfo(a,n,0).bufferedIndex;if(c>-1&&c<a.length-1){const e=_n.bufferedInfo(a,t,0).bufferedIndex,o=a[c].end,u=a[c+1].start;if((e===-1||e>c)&&u-o<1&&t-o<2){const f=new Error(`nudging playhead to flush pipeline after video hole. currentTime: ${t} hole: ${o} -> ${u} buffered index: ${e}`);this.warn(f.message),this.media.currentTime+=1e-6;let A=Tc(t,this.fragmentTracker);A&&"fragment"in A?A=A.fragment:A||(A=void 0);const p=_n.bufferInfo(this.media,t,0);this.hls.trigger(F.ERROR,{type:nn.MEDIA_ERROR,details:Ot.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:f,reason:f.message,frag:A,buffer:p.len,bufferInfo:p})}}}}}_tryFixBufferStall(t,n,i){var l,d;const{fragmentTracker:a,media:c}=this,e=(l=this.hls)==null?void 0:l.config;if(!c||!a||!e)return;const o=(d=this.hls)==null?void 0:d.latestLevelDetails,u=Tc(i,a);if((u||o!=null&&o.live&&i<o.fragmentStart)&&(this._trySkipBufferHole(u)||!this.media))return;const f=t.buffered,A=this.adjacentTraversal(t,i);(f&&f.length>1&&t.len>e.maxBufferHole||t.nextStart&&(t.nextStart-i<e.maxBufferHole||A))&&(n>e.highBufferWatchdogPeriod*1e3||this.waiting)&&(this.warn("Trying to nudge playhead over buffer-hole"),this._tryNudgeBuffer(t))}adjacentTraversal(t,n){const i=this.fragmentTracker,l=t.nextStart;if(i&&l){const d=i.getFragAtPos(n,Ze.MAIN),a=i.getFragAtPos(l,Ze.MAIN);if(d&&a)return a.sn-d.sn<2}return!1}_reportStall(t){const{hls:n,media:i,stallReported:l,stalled:d}=this;if(!l&&d!==null&&i&&n){this.stallReported=!0;const a=new Error(`Playback stalling at @${i.currentTime} due to low buffer (${wr(t)})`);this.warn(a.message),n.trigger(F.ERROR,{type:nn.MEDIA_ERROR,details:Ot.BUFFER_STALLED_ERROR,fatal:!1,error:a,buffer:t.len,bufferInfo:t,stalled:{start:d}})}}_trySkipBufferHole(t){var n;const{fragmentTracker:i,media:l}=this,d=(n=this.hls)==null?void 0:n.config;if(!l||!i||!d)return 0;const a=l.currentTime,c=_n.bufferInfo(l,a,0),e=a<c.start?c.start:c.nextStart;if(e&&this.hls){const u=c.len<=d.maxBufferHole,f=c.len>0&&c.len<1&&l.readyState<3,A=e-a;if(A>0&&(u||f)){if(A>d.maxBufferHole){let m=!1;if(a===0){const y=i.getAppendedFrag(0,Ze.MAIN);y&&e<y.end&&(m=!0)}if(!m&&t){var o;if(!((o=this.hls.loadLevelObj)!=null&&o.details)||um(this.hls.inFlightFragments,e))return 0;let E=!1,C=t.end;for(;C<e;){const T=Tc(C,i);if(T)C+=T.duration;else{E=!0;break}}if(E)return 0}}const p=Math.max(e+gT,a+AT);if(this.warn(`skipping hole, adjusting currentTime from ${a} to ${p}`),this.moved=!0,l.currentTime=p,!(t!=null&&t.gap)){const m=new Error(`fragment loaded with buffer holes, seeking from ${a} to ${p}`),y={type:nn.MEDIA_ERROR,details:Ot.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:m,reason:m.message,buffer:c.len,bufferInfo:c};t&&("fragment"in t?y.part=t:y.frag=t),this.hls.trigger(F.ERROR,y)}return p}}return 0}_tryNudgeBuffer(t){const{hls:n,media:i,nudgeRetry:l}=this,d=n?.config;if(!i||!d)return 0;const a=i.currentTime;if(this.nudgeRetry++,l<d.nudgeMaxRetry){const c=a+(l+1)*d.nudgeOffset,e=new Error(`Nudging 'currentTime' from ${a} to ${c}`);this.warn(e.message),i.currentTime=c,n.trigger(F.ERROR,{type:nn.MEDIA_ERROR,details:Ot.BUFFER_NUDGE_ON_STALL,error:e,fatal:!1,buffer:t.len,bufferInfo:t})}else{const c=new Error(`Playhead still not moving while enough data buffered @${a} after ${d.nudgeMaxRetry} nudges`);this.error(c.message),n.trigger(F.ERROR,{type:nn.MEDIA_ERROR,details:Ot.BUFFER_STALLED_ERROR,error:c,fatal:!0,buffer:t.len,bufferInfo:t})}}}function um(g,t){const n=cm(g.main);if(n&&n.start<=t)return n;const i=cm(g.audio);return i&&i.start<=t?i:null}function cm(g){if(!g)return null;switch(g.state){case Jt.IDLE:case Jt.STOPPED:case Jt.ENDED:case Jt.ERROR:return null}return g.frag}function Tc(g,t){return t.getAppendedFrag(g,Ze.MAIN)||t.getPartialFragment(g)}const vT=.25;function wh(){if(!(typeof self>"u"))return self.VTTCue||self.TextTrackCue}function rh(g,t,n,i,l){let d=new g(t,n,"");try{d.value=i,l&&(d.type=l)}catch{d=new g(t,n,wr(l?pr({type:l},i):i))}return d}const xc=(()=>{const g=wh();try{g&&new g(0,Number.POSITIVE_INFINITY,"")}catch{return Number.MAX_VALUE}return Number.POSITIVE_INFINITY})();class yT{constructor(t){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.removeCues=!0,this.assetCue=void 0,this.onEventCueEnter=()=>{this.hls&&this.hls.trigger(F.EVENT_CUE_ENTER,{})},this.hls=t,this._registerListeners()}destroy(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=this.onEventCueEnter=null}_registerListeners(){const{hls:t}=this;t&&(t.on(F.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(F.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(F.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(F.MANIFEST_LOADING,this.onManifestLoading,this),t.on(F.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),t.on(F.BUFFER_FLUSHING,this.onBufferFlushing,this),t.on(F.LEVEL_UPDATED,this.onLevelUpdated,this),t.on(F.LEVEL_PTS_UPDATED,this.onLevelPtsUpdated,this))}_unregisterListeners(){const{hls:t}=this;t&&(t.off(F.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(F.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(F.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(F.MANIFEST_LOADING,this.onManifestLoading,this),t.off(F.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),t.off(F.BUFFER_FLUSHING,this.onBufferFlushing,this),t.off(F.LEVEL_UPDATED,this.onLevelUpdated,this),t.off(F.LEVEL_PTS_UPDATED,this.onLevelPtsUpdated,this))}onMediaAttaching(t,n){var i;this.media=n.media,((i=n.overrides)==null?void 0:i.cueRemoval)===!1&&(this.removeCues=!1)}onMediaAttached(){var t;const n=(t=this.hls)==null?void 0:t.latestLevelDetails;n&&this.updateDateRangeCues(n)}onMediaDetaching(t,n){this.media=null,!n.transferMedia&&(this.id3Track&&(this.removeCues&&il(this.id3Track,this.onEventCueEnter),this.id3Track=null),this.dateRangeCuesAppended={})}onManifestLoading(){this.dateRangeCuesAppended={}}createTrack(t){const n=this.getID3Track(t.textTracks);return n.mode="hidden",n}getID3Track(t){if(this.media){for(let n=0;n<t.length;n++){const i=t[n];if(i.kind==="metadata"&&i.label==="id3")return xv(i,this.media),i}return this.media.addTextTrack("metadata","id3")}}onFragParsingMetadata(t,n){if(!this.media||!this.hls)return;const{enableEmsgMetadataCues:i,enableID3MetadataCues:l}=this.hls.config;if(!i&&!l)return;const{samples:d}=n;this.id3Track||(this.id3Track=this.createTrack(this.media));const a=wh();if(a)for(let c=0;c<d.length;c++){const e=d[c].type;if(e===Wi.emsg&&!i||!l)continue;const o=Jm(d[c].data),u=d[c].pts;let f=u+d[c].duration;f>xc&&(f=xc),f-u<=0&&(f=u+vT);for(let p=0;p<o.length;p++){const m=o[p];if(!tv(m)){this.updateId3CueEnds(u,e);const y=rh(a,u,f,m,e);y&&this.id3Track.addCue(y)}}}}updateId3CueEnds(t,n){var i;const l=(i=this.id3Track)==null?void 0:i.cues;if(l)for(let d=l.length;d--;){const a=l[d];a.type===n&&a.startTime<t&&a.endTime===xc&&(a.endTime=t)}}onBufferFlushing(t,{startOffset:n,endOffset:i,type:l}){const{id3Track:d,hls:a}=this;if(!a)return;const{config:{enableEmsgMetadataCues:c,enableID3MetadataCues:e}}=a;if(d&&(c||e)){let o;l==="audio"?o=u=>u.type===Wi.audioId3&&e:l==="video"?o=u=>u.type===Wi.emsg&&c:o=u=>u.type===Wi.audioId3&&e||u.type===Wi.emsg&&c,Sh(d,n,i,o)}}onLevelUpdated(t,{details:n}){this.updateDateRangeCues(n,!0)}onLevelPtsUpdated(t,n){Math.abs(n.drift)>.01&&this.updateDateRangeCues(n.details)}updateDateRangeCues(t,n){if(!this.hls||!this.media)return;const{assetPlayerId:i,timelineOffset:l,enableDateRangeMetadataCues:d,interstitialsController:a}=this.hls.config;if(!d)return;const c=wh();if(i&&l&&!a){const{fragmentStart:y,fragmentEnd:E}=t;let C=this.assetCue;C?(C.startTime=y,C.endTime=E):c&&(C=this.assetCue=rh(c,y,E,{assetPlayerId:this.hls.config.assetPlayerId},"hlsjs.interstitial.asset"),C&&(C.id=i,this.id3Track||(this.id3Track=this.createTrack(this.media)),this.id3Track.addCue(C),C.addEventListener("enter",this.onEventCueEnter)))}if(!t.hasProgramDateTime)return;const{id3Track:e}=this,{dateRanges:o}=t,u=Object.keys(o);let f=this.dateRangeCuesAppended;if(e&&n){var A;if((A=e.cues)!=null&&A.length){const y=Object.keys(f).filter(E=>!u.includes(E));for(let E=y.length;E--;){var p;const C=y[E],T=(p=f[C])==null?void 0:p.cues;delete f[C],T&&Object.keys(T).forEach(x=>{const L=T[x];if(L){L.removeEventListener("enter",this.onEventCueEnter);try{e.removeCue(L)}catch{}}})}}else f=this.dateRangeCuesAppended={}}const m=t.fragments[t.fragments.length-1];if(!(u.length===0||!Qe(m?.programDateTime))){this.id3Track||(this.id3Track=this.createTrack(this.media));for(let y=0;y<u.length;y++){const E=u[y],C=o[E],T=C.startTime,x=f[E],L=x?.cues||{};let D=x?.durationKnown||!1,B=xc;const{duration:O,endDate:_}=C;if(_&&O!==null)B=T+O,D=!0;else if(C.endOnNext&&!D){const U=u.reduce((Q,$)=>{if($!==C.id){const W=o[$];if(W.class===C.class&&W.startDate>C.startDate&&(!Q||C.startDate<Q.startDate))return W}return Q},null);U&&(B=U.startTime,D=!0)}const M=Object.keys(C.attr);for(let U=0;U<M.length;U++){const Q=M[U];if(!FE(Q))continue;const $=L[Q];if($)D&&!(x!=null&&x.durationKnown)?$.endTime=B:Math.abs($.startTime-T)>.01&&($.startTime=T,$.endTime=B);else if(c){let W=C.attr[Q];GE(Q)&&(W=gm(W));const tt=rh(c,T,B,{key:Q,data:W},Wi.dateRange);tt&&(tt.id=E,this.id3Track.addCue(tt),L[Q]=tt,a&&(Q==="X-ASSET-LIST"||Q==="X-ASSET-URL")&&tt.addEventListener("enter",this.onEventCueEnter))}}f[E]={cues:L,dateRange:C,durationKnown:D}}}}}class ET{constructor(t){this.hls=void 0,this.config=void 0,this.media=null,this.currentTime=0,this.stallCount=0,this._latency=null,this._targetLatencyUpdated=!1,this.onTimeupdate=()=>{const{media:n}=this,i=this.levelDetails;if(!n||!i)return;this.currentTime=n.currentTime;const l=this.computeLatency();if(l===null)return;this._latency=l;const{lowLatencyMode:d,maxLiveSyncPlaybackRate:a}=this.config;if(!d||a===1||!i.live)return;const c=this.targetLatency;if(c===null)return;const e=l-c,o=Math.min(this.maxLatency,c+i.targetduration);if(e<o&&e>.05&&this.forwardBufferLength>1){const f=Math.min(2,Math.max(1,a)),A=Math.round(2/(1+Math.exp(-.75*e-this.edgeStalled))*20)/20,p=Math.min(f,Math.max(1,A));this.changeMediaPlaybackRate(n,p)}else n.playbackRate!==1&&n.playbackRate!==0&&this.changeMediaPlaybackRate(n,1)},this.hls=t,this.config=t.config,this.registerListeners()}get levelDetails(){var t;return((t=this.hls)==null?void 0:t.latestLevelDetails)||null}get latency(){return this._latency||0}get maxLatency(){const{config:t}=this;if(t.liveMaxLatencyDuration!==void 0)return t.liveMaxLatencyDuration;const n=this.levelDetails;return n?t.liveMaxLatencyDurationCount*n.targetduration:0}get targetLatency(){const t=this.levelDetails;if(t===null||this.hls===null)return null;const{holdBack:n,partHoldBack:i,targetduration:l}=t,{liveSyncDuration:d,liveSyncDurationCount:a,lowLatencyMode:c}=this.config,e=this.hls.userConfig;let o=c&&i||n;(this._targetLatencyUpdated||e.liveSyncDuration||e.liveSyncDurationCount||o===0)&&(o=d!==void 0?d:a*l);const u=l;return o+Math.min(this.stallCount*this.config.liveSyncOnStallIncrease,u)}set targetLatency(t){this.stallCount=0,this.config.liveSyncDuration=t,this._targetLatencyUpdated=!0}get liveSyncPosition(){const t=this.estimateLiveEdge(),n=this.targetLatency;if(t===null||n===null)return null;const i=this.levelDetails;if(i===null)return null;const l=i.edge,d=t-n-this.edgeStalled,a=l-i.totalduration,c=l-(this.config.lowLatencyMode&&i.partTarget||i.targetduration);return Math.min(Math.max(a,d),c)}get drift(){const t=this.levelDetails;return t===null?1:t.drift}get edgeStalled(){const t=this.levelDetails;if(t===null)return 0;const n=(this.config.lowLatencyMode&&t.partTarget||t.targetduration)*3;return Math.max(t.age-n,0)}get forwardBufferLength(){const{media:t}=this,n=this.levelDetails;if(!t||!n)return 0;const i=t.buffered.length;return(i?t.buffered.end(i-1):n.edge)-this.currentTime}destroy(){this.unregisterListeners(),this.onMediaDetaching(),this.hls=null}registerListeners(){const{hls:t}=this;t&&(t.on(F.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(F.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(F.MANIFEST_LOADING,this.onManifestLoading,this),t.on(F.LEVEL_UPDATED,this.onLevelUpdated,this),t.on(F.ERROR,this.onError,this))}unregisterListeners(){const{hls:t}=this;t&&(t.off(F.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(F.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(F.MANIFEST_LOADING,this.onManifestLoading,this),t.off(F.LEVEL_UPDATED,this.onLevelUpdated,this),t.off(F.ERROR,this.onError,this))}onMediaAttached(t,n){this.media=n.media,this.media.addEventListener("timeupdate",this.onTimeupdate)}onMediaDetaching(){this.media&&(this.media.removeEventListener("timeupdate",this.onTimeupdate),this.media=null)}onManifestLoading(){this._latency=null,this.stallCount=0}onLevelUpdated(t,{details:n}){n.advanced&&this.onTimeupdate(),!n.live&&this.media&&this.media.removeEventListener("timeupdate",this.onTimeupdate)}onError(t,n){var i;n.details===Ot.BUFFER_STALLED_ERROR&&(this.stallCount++,this.hls&&(i=this.levelDetails)!=null&&i.live&&this.hls.logger.warn("[latency-controller]: Stall detected, adjusting target latency"))}changeMediaPlaybackRate(t,n){var i,l;t.playbackRate!==n&&((i=this.hls)==null||i.logger.debug(`[latency-controller]: latency=${this.latency.toFixed(3)}, targetLatency=${(l=this.targetLatency)==null?void 0:l.toFixed(3)}, forwardBufferLength=${this.forwardBufferLength.toFixed(3)}: adjusting playback rate from ${t.playbackRate} to ${n}`),t.playbackRate=n)}estimateLiveEdge(){const t=this.levelDetails;return t===null?null:t.edge+t.age}computeLatency(){const t=this.estimateLiveEdge();return t===null?null:t-this.currentTime}}class bT extends jh{constructor(t,n){super(t,"level-controller"),this._levels=[],this._firstLevel=-1,this._maxAutoLevel=-1,this._startLevel=void 0,this.currentLevel=null,this.currentLevelIndex=-1,this.manualLevelIndex=-1,this.steering=void 0,this.onParsedComplete=void 0,this.steering=n,this._registerListeners()}_registerListeners(){const{hls:t}=this;t.on(F.MANIFEST_LOADING,this.onManifestLoading,this),t.on(F.MANIFEST_LOADED,this.onManifestLoaded,this),t.on(F.LEVEL_LOADED,this.onLevelLoaded,this),t.on(F.LEVELS_UPDATED,this.onLevelsUpdated,this),t.on(F.FRAG_BUFFERED,this.onFragBuffered,this),t.on(F.ERROR,this.onError,this)}_unregisterListeners(){const{hls:t}=this;t.off(F.MANIFEST_LOADING,this.onManifestLoading,this),t.off(F.MANIFEST_LOADED,this.onManifestLoaded,this),t.off(F.LEVEL_LOADED,this.onLevelLoaded,this),t.off(F.LEVELS_UPDATED,this.onLevelsUpdated,this),t.off(F.FRAG_BUFFERED,this.onFragBuffered,this),t.off(F.ERROR,this.onError,this)}destroy(){this._unregisterListeners(),this.steering=null,this.resetLevels(),super.destroy()}stopLoad(){this._levels.forEach(n=>{n.loadError=0,n.fragmentError=0}),super.stopLoad()}resetLevels(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[],this._maxAutoLevel=-1}onManifestLoading(t,n){this.resetLevels()}onManifestLoaded(t,n){const i=this.hls.config.preferManagedMediaSource,l=[],d={},a={};let c=!1,e=!1,o=!1;n.levels.forEach(u=>{const f=u.attrs;let{audioCodec:A,videoCodec:p}=u;A&&(u.audioCodec=A=Mc(A,i)||void 0),p&&(p=u.videoCodec=nE(p));const{width:m,height:y,unknownCodecs:E}=u;let C=E?E.length:0;if(E)for(let U=C;U--;){const Q=E[U];this.isAudioSupported(Q)?(u.audioCodec=A=A?`${A},${Q}`:Q,C--,ul.audio[A.substring(0,4)]=2):this.isVideoSupported(Q)&&(u.videoCodec=p=p?`${p},${Q}`:Q,C--,ul.video[p.substring(0,4)]=2)}if(c||(c=!!(m&&y)),e||(e=!!p),o||(o=!!A),C||A&&!this.isAudioSupported(A)||p&&!this.isVideoSupported(p)){this.log(`Some or all CODECS not supported "${f.CODECS}"`);return}const{CODECS:T,"FRAME-RATE":x,"HDCP-LEVEL":L,"PATHWAY-ID":D,RESOLUTION:B,"VIDEO-RANGE":O}=f,M=`${`${D||"."}-`}${u.bitrate}-${B}-${x}-${T}-${O}-${L}`;if(d[M])if(d[M].uri!==u.url&&!u.attrs["PATHWAY-ID"]){const U=a[M]+=1;u.attrs["PATHWAY-ID"]=new Array(U+1).join(".");const Q=this.createLevel(u);d[M]=Q,l.push(Q)}else d[M].addGroupId("audio",f.AUDIO),d[M].addGroupId("text",f.SUBTITLES);else{const U=this.createLevel(u);d[M]=U,a[M]=1,l.push(U)}}),this.filterAndSortMediaOptions(l,n,c,e,o)}createLevel(t){const n=new nu(t),i=t.supplemental;if(i!=null&&i.videoCodec&&!this.isVideoSupported(i.videoCodec)){const l=new Error(`SUPPLEMENTAL-CODECS not supported "${i.videoCodec}"`);this.log(l.message),n.supportedResult=wm(l,[])}return n}isAudioSupported(t){return uh(t,"audio",this.hls.config.preferManagedMediaSource)}isVideoSupported(t){return uh(t,"video",this.hls.config.preferManagedMediaSource)}filterAndSortMediaOptions(t,n,i,l,d){let a=[],c=[],e=t;if((i||l)&&d&&(e=e.filter(({videoCodec:E,videoRange:C,width:T,height:x})=>(!!E||!!(T&&x))&&dE(C))),e.length===0){Promise.resolve().then(()=>{if(this.hls){let E="no level with compatible codecs found in manifest",C=E;n.levels.length&&(C=`one or more CODECS in variant not supported: ${wr(n.levels.map(x=>x.attrs.CODECS).filter((x,L,D)=>D.indexOf(x)===L))}`,this.warn(C),E+=` (${C})`);const T=new Error(E);this.hls.trigger(F.ERROR,{type:nn.MEDIA_ERROR,details:Ot.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:n.url,error:T,reason:C})}});return}n.audioTracks&&(a=n.audioTracks.filter(E=>!E.audioCodec||this.isAudioSupported(E.audioCodec)),fm(a)),n.subtitles&&(c=n.subtitles,fm(c));const o=e.slice(0);e.sort((E,C)=>{if(E.attrs["HDCP-LEVEL"]!==C.attrs["HDCP-LEVEL"])return(E.attrs["HDCP-LEVEL"]||"")>(C.attrs["HDCP-LEVEL"]||"")?1:-1;if(i&&E.height!==C.height)return E.height-C.height;if(E.frameRate!==C.frameRate)return E.frameRate-C.frameRate;if(E.videoRange!==C.videoRange)return Pc.indexOf(E.videoRange)-Pc.indexOf(C.videoRange);if(E.videoCodec!==C.videoCodec){const T=i0(E.videoCodec),x=i0(C.videoCodec);if(T!==x)return x-T}if(E.uri===C.uri&&E.codecSet!==C.codecSet){const T=_c(E.codecSet),x=_c(C.codecSet);if(T!==x)return x-T}return E.averageBitrate!==C.averageBitrate?E.averageBitrate-C.averageBitrate:0});let u=o[0];if(this.steering&&(e=this.steering.filterParsedLevels(e),e.length!==o.length)){for(let E=0;E<o.length;E++)if(o[E].pathwayId===e[0].pathwayId){u=o[E];break}}this._levels=e;for(let E=0;E<e.length;E++)if(e[E]===u){var f;this._firstLevel=E;const C=u.bitrate,T=this.hls.bandwidthEstimate;if(this.log(`manifest loaded, ${e.length} level(s) found, first bitrate: ${C}`),((f=this.hls.userConfig)==null?void 0:f.abrEwmaDefaultEstimate)===void 0){const x=Math.min(C,this.hls.config.abrEwmaDefaultEstimateMax);x>T&&T===this.hls.abrEwmaDefaultEstimate&&(this.hls.bandwidthEstimate=x)}break}const A=d&&!l,p=this.hls.config,m=!!(p.audioStreamController&&p.audioTrackController),y={levels:e,audioTracks:a,subtitleTracks:c,sessionData:n.sessionData,sessionKeys:n.sessionKeys,firstLevel:this._firstLevel,stats:n.stats,audio:d,video:l,altAudio:m&&!A&&a.some(E=>!!E.url)};this.hls.trigger(F.MANIFEST_PARSED,y)}get levels(){return this._levels.length===0?null:this._levels}get loadLevelObj(){return this.currentLevel}get level(){return this.currentLevelIndex}set level(t){const n=this._levels;if(n.length===0)return;if(t<0||t>=n.length){const u=new Error("invalid level idx"),f=t<0;if(this.hls.trigger(F.ERROR,{type:nn.OTHER_ERROR,details:Ot.LEVEL_SWITCH_ERROR,level:t,fatal:f,error:u,reason:u.message}),f)return;t=Math.min(t,n.length-1)}const i=this.currentLevelIndex,l=this.currentLevel,d=l?l.attrs["PATHWAY-ID"]:void 0,a=n[t],c=a.attrs["PATHWAY-ID"];if(this.currentLevelIndex=t,this.currentLevel=a,i===t&&l&&d===c)return;this.log(`Switching to level ${t} (${a.height?a.height+"p ":""}${a.videoRange?a.videoRange+" ":""}${a.codecSet?a.codecSet+" ":""}@${a.bitrate})${c?" with Pathway "+c:""} from level ${i}${d?" with Pathway "+d:""}`);const e={level:t,attrs:a.attrs,details:a.details,bitrate:a.bitrate,averageBitrate:a.averageBitrate,maxBitrate:a.maxBitrate,realBitrate:a.realBitrate,width:a.width,height:a.height,codecSet:a.codecSet,audioCodec:a.audioCodec,videoCodec:a.videoCodec,audioGroups:a.audioGroups,subtitleGroups:a.subtitleGroups,loaded:a.loaded,loadError:a.loadError,fragmentError:a.fragmentError,name:a.name,id:a.id,uri:a.uri,url:a.url,urlId:0,audioGroupIds:a.audioGroupIds,textGroupIds:a.textGroupIds};this.hls.trigger(F.LEVEL_SWITCHING,e);const o=a.details;if(!o||o.live){const u=this.switchParams(a.uri,l?.details,o);this.loadPlaylist(u)}}get manualLevel(){return this.manualLevelIndex}set manualLevel(t){this.manualLevelIndex=t,this._startLevel===void 0&&(this._startLevel=t),t!==-1&&(this.level=t)}get firstLevel(){return this._firstLevel}set firstLevel(t){this._firstLevel=t}get startLevel(){if(this._startLevel===void 0){const t=this.hls.config.startLevel;return t!==void 0?t:this.hls.firstAutoLevel}return this._startLevel}set startLevel(t){this._startLevel=t}get pathways(){return this.steering?this.steering.pathways():[]}get pathwayPriority(){return this.steering?this.steering.pathwayPriority:null}set pathwayPriority(t){if(this.steering){const n=this.steering.pathways(),i=t.filter(l=>n.indexOf(l)!==-1);if(t.length<1){this.warn(`pathwayPriority ${t} should contain at least one pathway from list: ${n}`);return}this.steering.pathwayPriority=i}}onError(t,n){n.fatal||!n.context||n.context.type===jn.LEVEL&&n.context.level===this.level&&this.checkRetry(n)}onFragBuffered(t,{frag:n}){if(n!==void 0&&n.type===Ze.MAIN){const i=n.elementaryStreams;if(!Object.keys(i).some(d=>!!i[d]))return;const l=this._levels[n.level];l!=null&&l.loadError&&(this.log(`Resetting level error count of ${l.loadError} on frag buffered`),l.loadError=0)}}onLevelLoaded(t,n){var i;const{level:l,details:d}=n,a=n.levelInfo;if(!a){var c;this.warn(`Invalid level index ${l}`),(c=n.deliveryDirectives)!=null&&c.skip&&(d.deltaUpdateFailed=!0);return}if(a===this.currentLevel||n.withoutMultiVariant){a.fragmentError===0&&(a.loadError=0);let e=a.details;e===n.details&&e.advanced&&(e=void 0),this.playlistLoaded(l,n,e)}else(i=n.deliveryDirectives)!=null&&i.skip&&(d.deltaUpdateFailed=!0)}loadPlaylist(t){super.loadPlaylist(),this.shouldLoadPlaylist(this.currentLevel)&&this.scheduleLoading(this.currentLevel,t)}loadingPlaylist(t,n){super.loadingPlaylist(t,n);const i=this.getUrlWithDirectives(t.uri,n),l=this.currentLevelIndex,d=t.attrs["PATHWAY-ID"],a=t.details,c=a?.age;this.log(`Loading level index ${l}${n?.msn!==void 0?" at sn "+n.msn+" part "+n.part:""}${d?" Pathway "+d:""}${c&&a.live?" age "+c.toFixed(1)+(a.type&&" "+a.type||""):""} ${i}`),this.hls.trigger(F.LEVEL_LOADING,{url:i,level:l,levelInfo:t,pathwayId:t.attrs["PATHWAY-ID"],id:0,deliveryDirectives:n||null})}get nextLoadLevel(){return this.manualLevelIndex!==-1?this.manualLevelIndex:this.hls.nextAutoLevel}set nextLoadLevel(t){this.level=t,this.manualLevelIndex===-1&&(this.hls.nextAutoLevel=t)}removeLevel(t){var n;if(this._levels.length===1)return;const i=this._levels.filter((d,a)=>a!==t?!0:(this.steering&&this.steering.removeLevel(d),d===this.currentLevel&&(this.currentLevel=null,this.currentLevelIndex=-1,d.details&&d.details.fragments.forEach(c=>c.level=-1)),!1));Ym(i),this._levels=i,this.currentLevelIndex>-1&&(n=this.currentLevel)!=null&&n.details&&(this.currentLevelIndex=this.currentLevel.details.fragments[0].level),this.manualLevelIndex>-1&&(this.manualLevelIndex=this.currentLevelIndex);const l=i.length-1;this._firstLevel=Math.min(this._firstLevel,l),this._startLevel&&(this._startLevel=Math.min(this._startLevel,l)),this.hls.trigger(F.LEVELS_UPDATED,{levels:i})}onLevelsUpdated(t,{levels:n}){this._levels=n}checkMaxAutoUpdated(){const{autoLevelCapping:t,maxAutoLevel:n,maxHdcpLevel:i}=this.hls;this._maxAutoLevel!==n&&(this._maxAutoLevel=n,this.hls.trigger(F.MAX_AUTO_LEVEL_UPDATED,{autoLevelCapping:t,levels:this.levels,maxAutoLevel:n,minAutoLevel:this.hls.minAutoLevel,maxHdcpLevel:i}))}}function fm(g){const t={};g.forEach(n=>{const i=n.groupId||"";n.id=t[i]=t[i]||0,t[i]++})}function Uv(){return self.SourceBuffer||self.WebKitSourceBuffer}function Fv(){if(!Ga())return!1;const t=Uv();return!t||t.prototype&&typeof t.prototype.appendBuffer=="function"&&typeof t.prototype.remove=="function"}function CT(){if(!Fv())return!1;const g=Ga();return typeof g?.isTypeSupported=="function"&&(["avc1.42E01E,mp4a.40.2","av01.0.01M.08","vp09.00.50.08"].some(t=>g.isTypeSupported(eu(t,"video")))||["mp4a.40.2","fLaC"].some(t=>g.isTypeSupported(eu(t,"audio"))))}function ST(){var g;const t=Uv();return typeof(t==null||(g=t.prototype)==null?void 0:g.changeType)=="function"}const TT=100;class xT extends Uh{constructor(t,n,i){super(t,n,i,"stream-controller",Ze.MAIN),this.audioCodecSwap=!1,this.level=-1,this._forceStartLoad=!1,this._hasEnoughToStart=!1,this.altAudio=0,this.audioOnly=!1,this.fragPlaying=null,this.fragLastKbps=0,this.couldBacktrack=!1,this.backtrackFragment=null,this.audioCodecSwitch=!1,this.videoBuffer=null,this.onMediaPlaying=()=>{this.tick()},this.onMediaSeeked=()=>{const l=this.media,d=l?l.currentTime:null;if(d===null||!Qe(d)||(this.log(`Media seeked to ${d.toFixed(3)}`),!this.getBufferedFrag(d)))return;const a=this.getFwdBufferInfoAtPos(l,d,Ze.MAIN,0);if(a===null||a.len===0){this.warn(`Main forward buffer length at ${d} on "seeked" event ${a?a.len:"empty"})`);return}this.tick()},this.registerListeners()}registerListeners(){super.registerListeners();const{hls:t}=this;t.on(F.MANIFEST_PARSED,this.onManifestParsed,this),t.on(F.LEVEL_LOADING,this.onLevelLoading,this),t.on(F.LEVEL_LOADED,this.onLevelLoaded,this),t.on(F.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),t.on(F.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.on(F.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),t.on(F.BUFFER_CREATED,this.onBufferCreated,this),t.on(F.BUFFER_FLUSHED,this.onBufferFlushed,this),t.on(F.LEVELS_UPDATED,this.onLevelsUpdated,this),t.on(F.FRAG_BUFFERED,this.onFragBuffered,this)}unregisterListeners(){super.unregisterListeners();const{hls:t}=this;t.off(F.MANIFEST_PARSED,this.onManifestParsed,this),t.off(F.LEVEL_LOADED,this.onLevelLoaded,this),t.off(F.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),t.off(F.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.off(F.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),t.off(F.BUFFER_CREATED,this.onBufferCreated,this),t.off(F.BUFFER_FLUSHED,this.onBufferFlushed,this),t.off(F.LEVELS_UPDATED,this.onLevelsUpdated,this),t.off(F.FRAG_BUFFERED,this.onFragBuffered,this)}onHandlerDestroying(){this.onMediaPlaying=this.onMediaSeeked=null,this.unregisterListeners(),super.onHandlerDestroying()}startLoad(t,n){if(this.levels){const{lastCurrentTime:i,hls:l}=this;if(this.stopLoad(),this.setInterval(TT),this.level=-1,!this.startFragRequested){let d=l.startLevel;d===-1&&(l.config.testBandwidth&&this.levels.length>1?(d=0,this.bitrateTest=!0):d=l.firstAutoLevel),l.nextLoadLevel=d,this.level=l.loadLevel,this._hasEnoughToStart=!!n}i>0&&t===-1&&!n&&(this.log(`Override startPosition with lastCurrentTime @${i.toFixed(3)}`),t=i),this.state=Jt.IDLE,this.nextLoadPosition=this.lastCurrentTime=t+this.timelineOffset,this.startPosition=n?-1:t,this.tick()}else this._forceStartLoad=!0,this.state=Jt.STOPPED}stopLoad(){this._forceStartLoad=!1,super.stopLoad()}doTick(){switch(this.state){case Jt.WAITING_LEVEL:{const{levels:t,level:n}=this,i=t?.[n],l=i?.details;if(l&&(!l.live||this.levelLastLoaded===i&&!this.waitForLive(i))){if(this.waitForCdnTuneIn(l))break;this.state=Jt.IDLE;break}else if(this.hls.nextLoadLevel!==this.level){this.state=Jt.IDLE;break}break}case Jt.FRAG_LOADING_WAITING_RETRY:this.checkRetryDate();break}this.state===Jt.IDLE&&this.doTickIdle(),this.onTickEnd()}onTickEnd(){var t;super.onTickEnd(),(t=this.media)!=null&&t.readyState&&this.media.seeking===!1&&(this.lastCurrentTime=this.media.currentTime),this.checkFragmentChanged()}doTickIdle(){const{hls:t,levelLastLoaded:n,levels:i,media:l}=this;if(n===null||!l&&!this.primaryPrefetch&&(this.startFragRequested||!t.config.startFragPrefetch)||this.altAudio&&this.audioOnly)return;const d=this.buffering?t.nextLoadLevel:t.loadLevel;if(!(i!=null&&i[d]))return;const a=i[d],c=this.getMainFwdBufferInfo();if(c===null)return;const e=this.getLevelDetails();if(e&&this._streamEnded(c,e)){const y={};this.altAudio===2&&(y.type="video"),this.hls.trigger(F.BUFFER_EOS,y),this.state=Jt.ENDED;return}if(!this.buffering)return;t.loadLevel!==d&&t.manualLevel===-1&&this.log(`Adapting to level ${d} from level ${this.level}`),this.level=t.nextLoadLevel=d;const o=a.details;if(!o||this.state===Jt.WAITING_LEVEL||this.waitForLive(a)){this.level=d,this.state=Jt.WAITING_LEVEL,this.startFragRequested=!1;return}const u=c.len,f=this.getMaxBufferLength(a.maxBitrate);if(u>=f)return;this.backtrackFragment&&this.backtrackFragment.start>c.end&&(this.backtrackFragment=null);const A=this.backtrackFragment?this.backtrackFragment.start:c.end;let p=this.getNextFragment(A,o);if(this.couldBacktrack&&!this.fragPrevious&&p&&Kr(p)&&this.fragmentTracker.getState(p)!==ti.OK){var m;const E=((m=this.backtrackFragment)!=null?m:p).sn-o.startSN,C=o.fragments[E-1];C&&p.cc===C.cc&&(p=C,this.fragmentTracker.removeFragment(C))}else this.backtrackFragment&&c.len&&(this.backtrackFragment=null);if(p&&this.isLoopLoading(p,A)){if(!p.gap){const E=this.audioOnly&&!this.altAudio?Er.AUDIO:Er.VIDEO,C=(E===Er.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;C&&this.afterBufferFlushed(C,E,Ze.MAIN)}p=this.getNextFragmentLoopLoading(p,o,c,Ze.MAIN,f)}p&&(p.initSegment&&!p.initSegment.data&&!this.bitrateTest&&(p=p.initSegment),this.loadFragment(p,a,A))}loadFragment(t,n,i){const l=this.fragmentTracker.getState(t);l===ti.NOT_LOADED||l===ti.PARTIAL?Kr(t)?this.bitrateTest?(this.log(`Fragment ${t.sn} of level ${t.level} is being downloaded to test bitrate and will not be buffered`),this._loadBitrateTestFrag(t,n)):super.loadFragment(t,n,i):this._loadInitSegment(t,n):this.clearTrackerIfNeeded(t)}getBufferedFrag(t){return this.fragmentTracker.getBufferedFrag(t,Ze.MAIN)}followingBufferedFrag(t){return t?this.getBufferedFrag(t.end+.5):null}immediateLevelSwitch(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}nextLevelSwitch(){const{levels:t,media:n}=this;if(n!=null&&n.readyState){let i;const l=this.getAppendedFrag(n.currentTime);l&&l.start>1&&this.flushMainBuffer(0,l.start-1);const d=this.getLevelDetails();if(d!=null&&d.live){const c=this.getMainFwdBufferInfo();if(!c||c.len<d.targetduration*2)return}if(!n.paused&&t){const c=this.hls.nextLoadLevel,e=t[c],o=this.fragLastKbps;o&&this.fragCurrent?i=this.fragCurrent.duration*e.maxBitrate/(1e3*o)+1:i=0}else i=0;const a=this.getBufferedFrag(n.currentTime+i);if(a){const c=this.followingBufferedFrag(a);if(c){this.abortCurrentFrag();const e=c.maxStartPTS?c.maxStartPTS:c.start,o=c.duration,u=Math.max(a.end,e+Math.min(Math.max(o-this.config.maxFragLookUpTolerance,o*(this.couldBacktrack?.5:.125)),o*(this.couldBacktrack?.75:.25)));this.flushMainBuffer(u,Number.POSITIVE_INFINITY)}}}}abortCurrentFrag(){const t=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,t&&(t.abortRequests(),this.fragmentTracker.removeFragment(t)),this.state){case Jt.KEY_LOADING:case Jt.FRAG_LOADING:case Jt.FRAG_LOADING_WAITING_RETRY:case Jt.PARSING:case Jt.PARSED:this.state=Jt.IDLE;break}this.nextLoadPosition=this.getLoadPosition()}flushMainBuffer(t,n){super.flushMainBuffer(t,n,this.altAudio===2?"video":null)}onMediaAttached(t,n){super.onMediaAttached(t,n);const i=n.media;Ri(i,"playing",this.onMediaPlaying),Ri(i,"seeked",this.onMediaSeeked)}onMediaDetaching(t,n){const{media:i}=this;i&&(Pi(i,"playing",this.onMediaPlaying),Pi(i,"seeked",this.onMediaSeeked)),this.videoBuffer=null,this.fragPlaying=null,super.onMediaDetaching(t,n),!n.transferMedia&&(this._hasEnoughToStart=!1)}onManifestLoading(){super.onManifestLoading(),this.log("Trigger BUFFER_RESET"),this.hls.trigger(F.BUFFER_RESET,void 0),this.couldBacktrack=!1,this.fragLastKbps=0,this.fragPlaying=this.backtrackFragment=null,this.altAudio=0,this.audioOnly=!1}onManifestParsed(t,n){let i=!1,l=!1;for(let d=0;d<n.levels.length;d++){const a=n.levels[d].audioCodec;a&&(i=i||a.indexOf("mp4a.40.2")!==-1,l=l||a.indexOf("mp4a.40.5")!==-1)}this.audioCodecSwitch=i&&l&&!ST(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=n.levels,this.startFragRequested=!1}onLevelLoading(t,n){const{levels:i}=this;if(!i||this.state!==Jt.IDLE)return;const l=n.levelInfo;(!l.details||l.details.live&&(this.levelLastLoaded!==l||l.details.expired)||this.waitForCdnTuneIn(l.details))&&(this.state=Jt.WAITING_LEVEL)}onLevelLoaded(t,n){var i;const{levels:l,startFragRequested:d}=this,a=n.level,c=n.details,e=c.totalduration;if(!l){this.warn(`Levels were reset while loading level ${a}`);return}this.log(`Level ${a} loaded [${c.startSN},${c.endSN}]${c.lastPartSn?`[part-${c.lastPartSn}-${c.lastPartIndex}]`:""}, cc [${c.startCC}, ${c.endCC}] duration:${e}`);const o=n.levelInfo,u=this.fragCurrent;u&&(this.state===Jt.FRAG_LOADING||this.state===Jt.FRAG_LOADING_WAITING_RETRY)&&u.level!==n.level&&u.loader&&this.abortCurrentFrag();let f=0;if(c.live||(i=o.details)!=null&&i.live){var A;if(this.checkLiveUpdate(c),c.deltaUpdateFailed)return;f=this.alignPlaylists(c,o.details,(A=this.levelLastLoaded)==null?void 0:A.details)}if(o.details=c,this.levelLastLoaded=o,d||this.setStartPosition(c,f),this.hls.trigger(F.LEVEL_UPDATED,{details:c,level:a}),this.state===Jt.WAITING_LEVEL){if(this.waitForCdnTuneIn(c))return;this.state=Jt.IDLE}d&&c.live&&this.synchronizeToLiveEdge(c),this.tick()}synchronizeToLiveEdge(t){const{config:n,media:i}=this;if(!i)return;const l=this.hls.liveSyncPosition,d=this.getLoadPosition(),a=t.fragmentStart,c=t.edge,e=d>=a-n.maxFragLookUpTolerance&&d<=c;if(l!==null&&i.duration>l&&(d<l||!e)){const u=n.liveMaxLatencyDuration!==void 0?n.liveMaxLatencyDuration:n.liveMaxLatencyDurationCount*t.targetduration;if((!e&&i.readyState<4||d<c-u)&&(this._hasEnoughToStart||(this.nextLoadPosition=l),i.readyState))if(this.warn(`Playback: ${d.toFixed(3)} is located too far from the end of live sliding playlist: ${c}, reset currentTime to : ${l.toFixed(3)}`),this.config.liveSyncMode==="buffered"){var o;const f=_n.bufferInfo(i,l,0);if(!((o=f.buffered)!=null&&o.length)){i.currentTime=l;return}if(f.start<=d){i.currentTime=l;return}const{nextStart:p}=_n.bufferedInfo(f.buffered,d,0);p&&(i.currentTime=p)}else i.currentTime=l}}_handleFragmentLoadProgress(t){var n;const i=t.frag,{part:l,payload:d}=t,{levels:a}=this;if(!a){this.warn(`Levels were reset while fragment load was in progress. Fragment ${i.sn} of level ${i.level} will not be buffered`);return}const c=a[i.level];if(!c){this.warn(`Level ${i.level} not found on progress`);return}const e=c.details;if(!e){this.warn(`Dropping fragment ${i.sn} of level ${i.level} after level details were reset`),this.fragmentTracker.removeFragment(i);return}const o=c.videoCodec,u=e.PTSKnown||!e.live,f=(n=i.initSegment)==null?void 0:n.data,A=this._getAudioCodec(c),p=this.transmuxer=this.transmuxer||new fv(this.hls,Ze.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),m=l?l.index:-1,y=m!==-1,E=new Mh(i.level,i.sn,i.stats.chunkCount,d.byteLength,m,y),C=this.initPTS[i.cc];p.push(d,f,A,o,i,l,e.totalduration,u,E,C)}onAudioTrackSwitching(t,n){const i=this.hls,l=this.altAudio===2;if(Nc(n.url,i))this.altAudio=1;else{if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;const a=this.fragCurrent;a&&(this.log("Switching to main audio track, cancel main fragment load"),a.abortRequests(),this.fragmentTracker.removeFragment(a)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();if(l){this.fragmentTracker.removeAllFragments(),i.once(F.BUFFER_FLUSHED,()=>{this.hls&&this.hls.trigger(F.AUDIO_TRACK_SWITCHED,n)}),i.trigger(F.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null});return}i.trigger(F.AUDIO_TRACK_SWITCHED,n)}}onAudioTrackSwitched(t,n){const i=Nc(n.url,this.hls);if(i){const l=this.videoBuffer;l&&this.mediaBuffer!==l&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=l)}this.altAudio=i?2:0,this.tick()}onBufferCreated(t,n){const i=n.tracks;let l,d,a=!1;for(const c in i){const e=i[c];if(e.id==="main"){if(d=c,l=e,c==="video"){const o=i[c];o&&(this.videoBuffer=o.buffer)}}else a=!0}a&&l?(this.log(`Alternate track found, use ${d}.buffered to schedule main fragment loading`),this.mediaBuffer=l.buffer):this.mediaBuffer=this.media}onFragBuffered(t,n){const{frag:i,part:l}=n,d=i.type===Ze.MAIN;if(d){if(this.fragContextChanged(i)){this.warn(`Fragment ${i.sn}${l?" p: "+l.index:""} of level ${i.level} finished buffering, but was aborted. state: ${this.state}`),this.state===Jt.PARSED&&(this.state=Jt.IDLE);return}const c=l?l.stats:i.stats;this.fragLastKbps=Math.round(8*c.total/(c.buffering.end-c.loading.first)),Kr(i)&&(this.fragPrevious=i),this.fragBufferedComplete(i,l)}const a=this.media;a&&(!this._hasEnoughToStart&&_n.getBuffered(a).length&&(this._hasEnoughToStart=!0,this.seekToStartPos()),d&&this.tick())}get hasEnoughToStart(){return this._hasEnoughToStart}onError(t,n){var i;if(n.fatal){this.state=Jt.ERROR;return}switch(n.details){case Ot.FRAG_GAP:case Ot.FRAG_PARSING_ERROR:case Ot.FRAG_DECRYPT_ERROR:case Ot.FRAG_LOAD_ERROR:case Ot.FRAG_LOAD_TIMEOUT:case Ot.KEY_LOAD_ERROR:case Ot.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Ze.MAIN,n);break;case Ot.LEVEL_LOAD_ERROR:case Ot.LEVEL_LOAD_TIMEOUT:case Ot.LEVEL_PARSING_ERROR:!n.levelRetry&&this.state===Jt.WAITING_LEVEL&&((i=n.context)==null?void 0:i.type)===jn.LEVEL&&(this.state=Jt.IDLE);break;case Ot.BUFFER_ADD_CODEC_ERROR:case Ot.BUFFER_APPEND_ERROR:if(n.parent!=="main")return;this.reduceLengthAndFlushBuffer(n)&&this.resetLoadingState();break;case Ot.BUFFER_FULL_ERROR:if(n.parent!=="main")return;this.reduceLengthAndFlushBuffer(n)&&(!this.config.interstitialsController&&this.config.assetPlayerId?this._hasEnoughToStart=!0:this.flushMainBuffer(0,Number.POSITIVE_INFINITY));break;case Ot.INTERNAL_EXCEPTION:this.recoverWorkerError(n);break}}onFragLoadEmergencyAborted(){this.state=Jt.IDLE,this._hasEnoughToStart||(this.startFragRequested=!1,this.nextLoadPosition=this.lastCurrentTime),this.tickImmediate()}onBufferFlushed(t,{type:n}){if(n!==Er.AUDIO||!this.altAudio){const i=(n===Er.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;i&&(this.afterBufferFlushed(i,n,Ze.MAIN),this.tick())}}onLevelsUpdated(t,n){this.level>-1&&this.fragCurrent&&(this.level=this.fragCurrent.level,this.level===-1&&this.resetWhenMissingContext(this.fragCurrent)),this.levels=n.levels}swapAudioCodec(){this.audioCodecSwap=!this.audioCodecSwap}seekToStartPos(){const{media:t}=this;if(!t)return;const n=t.currentTime;let i=this.startPosition;if(i>=0&&n<i){if(t.seeking){this.log(`could not seek to ${i}, already seeking at ${n}`);return}const l=this.timelineOffset;l&&i&&(i+=l);const d=this.getLevelDetails(),a=_n.getBuffered(t),c=a.length?a.start(0):0,e=c-i,o=Math.max(this.config.maxBufferHole,this.config.maxFragLookUpTolerance);(this.config.startOnSegmentBoundary||e>0&&(e<o||this.loadingParts&&e<2*(d?.partTarget||0)))&&(this.log(`adjusting start position by ${e} to match buffer start`),i+=e,this.startPosition=i),n<i&&(this.log(`seek to target start position ${i} from current time ${n} buffer start ${c}`),t.currentTime=i)}}_getAudioCodec(t){let n=this.config.defaultAudioCodec||t.audioCodec;return this.audioCodecSwap&&n&&(this.log("Swapping audio codec"),n.indexOf("mp4a.40.5")!==-1?n="mp4a.40.2":n="mp4a.40.5"),n}_loadBitrateTestFrag(t,n){t.bitrateTest=!0,this._doFragLoad(t,n).then(i=>{const{hls:l}=this,d=i?.frag;if(!d||this.fragContextChanged(d))return;n.fragmentError=0,this.state=Jt.IDLE,this.startFragRequested=!1,this.bitrateTest=!1;const a=d.stats;a.parsing.start=a.parsing.end=a.buffering.start=a.buffering.end=self.performance.now(),l.trigger(F.FRAG_LOADED,i),d.bitrateTest=!1}).catch(i=>{this.state===Jt.STOPPED||this.state===Jt.ERROR||(this.warn(i),this.resetFragmentLoading(t))})}_handleTransmuxComplete(t){const n=this.playlistType,{hls:i}=this,{remuxResult:l,chunkMeta:d}=t,a=this.getCurrentContext(d);if(!a){this.resetWhenMissingContext(d);return}const{frag:c,part:e,level:o}=a,{video:u,text:f,id3:A,initSegment:p}=l,{details:m}=o,y=this.altAudio?void 0:l.audio;if(this.fragContextChanged(c)){this.fragmentTracker.removeFragment(c);return}if(this.state=Jt.PARSING,p){const E=p.tracks;if(E){const L=c.initSegment||c;if(this.unhandledEncryptionError(p,c))return;this._bufferInitSegment(o,E,L,d),i.trigger(F.FRAG_PARSING_INIT_SEGMENT,{frag:L,id:n,tracks:E})}const C=p.initPTS,T=p.timescale,x=this.initPTS[c.cc];if(Qe(C)&&(!x||x.baseTime!==C||x.timescale!==T)){const L=p.trackId;this.initPTS[c.cc]={baseTime:C,timescale:T,trackId:L},i.trigger(F.INIT_PTS_FOUND,{frag:c,id:n,initPTS:C,timescale:T,trackId:L})}}if(u&&m){y&&u.type==="audiovideo"&&this.logMuxedErr(c);const E=m.fragments[c.sn-1-m.startSN],C=c.sn===m.startSN,T=!E||c.cc>E.cc;if(l.independent!==!1){const{startPTS:x,endPTS:L,startDTS:D,endDTS:B}=u;if(e)e.elementaryStreams[u.type]={startPTS:x,endPTS:L,startDTS:D,endDTS:B};else if(u.firstKeyFrame&&u.independent&&d.id===1&&!T&&(this.couldBacktrack=!0),u.dropped&&u.independent){const O=this.getMainFwdBufferInfo(),_=(O?O.end:this.getLoadPosition())+this.config.maxBufferHole,M=u.firstKeyFramePTS?u.firstKeyFramePTS:x;if(!C&&_<M-this.config.maxBufferHole&&!T){this.backtrack(c);return}else T&&(c.gap=!0);c.setElementaryStreamInfo(u.type,c.start,L,c.start,B,!0)}else C&&x-(m.appliedTimelineOffset||0)>Oc&&(c.gap=!0);c.setElementaryStreamInfo(u.type,x,L,D,B),this.backtrackFragment&&(this.backtrackFragment=c),this.bufferFragmentData(u,c,e,d,C||T)}else if(C||T)c.gap=!0;else{this.backtrack(c);return}}if(y){const{startPTS:E,endPTS:C,startDTS:T,endDTS:x}=y;e&&(e.elementaryStreams[Er.AUDIO]={startPTS:E,endPTS:C,startDTS:T,endDTS:x}),c.setElementaryStreamInfo(Er.AUDIO,E,C,T,x),this.bufferFragmentData(y,c,e,d)}if(m&&A!=null&&A.samples.length){const E={id:n,frag:c,details:m,samples:A.samples};i.trigger(F.FRAG_PARSING_METADATA,E)}if(m&&f){const E={id:n,frag:c,details:m,samples:f.samples};i.trigger(F.FRAG_PARSING_USERDATA,E)}}logMuxedErr(t){this.warn(`${Kr(t)?"Media":"Init"} segment with muxed audiovideo where only video expected: ${t.url}`)}_bufferInitSegment(t,n,i,l){if(this.state!==Jt.PARSING)return;this.audioOnly=!!n.audio&&!n.video,this.altAudio&&!this.audioOnly&&(delete n.audio,n.audiovideo&&this.logMuxedErr(i));const{audio:d,video:a,audiovideo:c}=n;if(d){const o=t.audioCodec;let u=wc(d.codec,o);u==="mp4a"&&(u="mp4a.40.5");const f=navigator.userAgent.toLowerCase();if(this.audioCodecSwitch){u&&(u.indexOf("mp4a.40.5")!==-1?u="mp4a.40.2":u="mp4a.40.5");const A=d.metadata;A&&"channelCount"in A&&(A.channelCount||1)!==1&&f.indexOf("firefox")===-1&&(u="mp4a.40.5")}u&&u.indexOf("mp4a.40.5")!==-1&&f.indexOf("android")!==-1&&d.container!=="audio/mpeg"&&(u="mp4a.40.2",this.log(`Android: force audio codec to ${u}`)),o&&o!==u&&this.log(`Swapping manifest audio codec "${o}" for "${u}"`),d.levelCodec=u,d.id=Ze.MAIN,this.log(`Init audio buffer, container:${d.container}, codecs[selected/level/parsed]=[${u||""}/${o||""}/${d.codec}]`),delete n.audiovideo}if(a){a.levelCodec=t.videoCodec,a.id=Ze.MAIN;const o=a.codec;if(o?.length===4)switch(o){case"hvc1":case"hev1":a.codec="hvc1.1.6.L120.90";break;case"av01":a.codec="av01.0.04M.08";break;case"avc1":a.codec="avc1.42e01e";break}this.log(`Init video buffer, container:${a.container}, codecs[level/parsed]=[${t.videoCodec||""}/${o}]${a.codec!==o?" parsed-corrected="+a.codec:""}${a.supplemental?" supplemental="+a.supplemental:""}`),delete n.audiovideo}c&&(this.log(`Init audiovideo buffer, container:${c.container}, codecs[level/parsed]=[${t.codecs}/${c.codec}]`),delete n.video,delete n.audio);const e=Object.keys(n);if(e.length){if(this.hls.trigger(F.BUFFER_CODECS,n),!this.hls)return;e.forEach(o=>{const f=n[o].initSegment;f!=null&&f.byteLength&&this.hls.trigger(F.BUFFER_APPENDING,{type:o,data:f,frag:i,part:null,chunkMeta:l,parent:i.type})})}this.tickImmediate()}getMainFwdBufferInfo(){const t=this.mediaBuffer&&this.altAudio===2?this.mediaBuffer:this.media;return this.getFwdBufferInfo(t,Ze.MAIN)}get maxBufferLength(){const{levels:t,level:n}=this,i=t?.[n];return i?this.getMaxBufferLength(i.maxBitrate):this.config.maxBufferLength}backtrack(t){this.couldBacktrack=!0,this.backtrackFragment=t,this.resetTransmuxer(),this.flushBufferGap(t),this.fragmentTracker.removeFragment(t),this.fragPrevious=null,this.nextLoadPosition=t.start,this.state=Jt.IDLE}checkFragmentChanged(){const t=this.media;let n=null;if(t&&t.readyState>1&&t.seeking===!1){const i=t.currentTime;if(_n.isBuffered(t,i)?n=this.getAppendedFrag(i):_n.isBuffered(t,i+.1)&&(n=this.getAppendedFrag(i+.1)),n){this.backtrackFragment=null;const l=this.fragPlaying,d=n.level;(!l||n.sn!==l.sn||l.level!==d)&&(this.fragPlaying=n,this.hls.trigger(F.FRAG_CHANGED,{frag:n}),(!l||l.level!==d)&&this.hls.trigger(F.LEVEL_SWITCHED,{level:d}))}}}get nextLevel(){const t=this.nextBufferedFrag;return t?t.level:-1}get currentFrag(){var t;if(this.fragPlaying)return this.fragPlaying;const n=((t=this.media)==null?void 0:t.currentTime)||this.lastCurrentTime;return Qe(n)?this.getAppendedFrag(n):null}get currentProgramDateTime(){var t;const n=((t=this.media)==null?void 0:t.currentTime)||this.lastCurrentTime;if(Qe(n)){const i=this.getLevelDetails(),l=this.currentFrag||(i?yo(null,i.fragments,n):null);if(l){const d=l.programDateTime;if(d!==null){const a=d+(n-l.start)*1e3;return new Date(a)}}}return null}get currentLevel(){const t=this.currentFrag;return t?t.level:-1}get nextBufferedFrag(){const t=this.currentFrag;return t?this.followingBufferedFrag(t):null}get forceStartLoad(){return this._forceStartLoad}}class wT extends ss{constructor(t,n){super("key-loader",n),this.config=void 0,this.keyIdToKeyInfo={},this.emeController=null,this.config=t}abort(t){for(const i in this.keyIdToKeyInfo){const l=this.keyIdToKeyInfo[i].loader;if(l){var n;if(t&&t!==((n=l.context)==null?void 0:n.frag.type))return;l.abort()}}}detach(){for(const t in this.keyIdToKeyInfo){const n=this.keyIdToKeyInfo[t];(n.mediaKeySessionContext||n.decryptdata.isCommonEncryption)&&delete this.keyIdToKeyInfo[t]}}destroy(){this.detach();for(const t in this.keyIdToKeyInfo){const n=this.keyIdToKeyInfo[t].loader;n&&n.destroy()}this.keyIdToKeyInfo={}}createKeyLoadError(t,n=Ot.KEY_LOAD_ERROR,i,l,d){return new na({type:nn.NETWORK_ERROR,details:n,fatal:!1,frag:t,response:d,error:i,networkDetails:l})}loadClear(t,n,i){if(this.emeController&&this.config.emeEnabled&&!this.emeController.getSelectedKeySystemFormats().length){if(n.length)for(let l=0,d=n.length;l<d;l++){const a=n[l];if(t.cc<=a.cc&&(!Kr(t)||!Kr(a)||t.sn<a.sn)||!i&&l==d-1)return this.emeController.selectKeySystemFormat(a).then(c=>{if(!this.emeController)return;a.setKeyFormat(c);const e=Rc(c);if(e)return this.emeController.getKeySystemAccess([e])})}if(this.config.requireKeySystemAccessOnStart){const l=Xl(this.config);if(l.length)return this.emeController.getKeySystemAccess(l)}}return null}load(t){return!t.decryptdata&&t.encrypted&&this.emeController&&this.config.emeEnabled?this.emeController.selectKeySystemFormat(t).then(n=>this.loadInternal(t,n)):this.loadInternal(t)}loadInternal(t,n){var i,l;n&&t.setKeyFormat(n);const d=t.decryptdata;if(!d){const u=new Error(n?`Expected frag.decryptdata to be defined after setting format ${n}`:"Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(t,Ot.KEY_LOAD_ERROR,u))}const a=d.uri;if(!a)return Promise.reject(this.createKeyLoadError(t,Ot.KEY_LOAD_ERROR,new Error(`Invalid key URI: "${a}"`)));const c=ih(d);let e=this.keyIdToKeyInfo[c];if((i=e)!=null&&i.decryptdata.key)return d.key=e.decryptdata.key,Promise.resolve({frag:t,keyInfo:e});if((l=e)!=null&&l.keyLoadPromise){var o;switch((o=e.mediaKeySessionContext)==null?void 0:o.keyStatus){case"usable":case"usable-in-future":return e.keyLoadPromise.then(f=>{const{keyInfo:A}=f;return d.key=A.decryptdata.key,{frag:t,keyInfo:A}})}}switch(this.log(`Loading key ${Ki(d.keyId||[])} from ${t.type} ${t.level}`),e=this.keyIdToKeyInfo[c]={decryptdata:d,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},d.method){case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return d.keyFormat==="identity"?this.loadKeyHTTP(e,t):this.loadKeyEME(e,t);case"AES-128":case"AES-256":case"AES-256-CTR":return this.loadKeyHTTP(e,t);default:return Promise.reject(this.createKeyLoadError(t,Ot.KEY_LOAD_ERROR,new Error(`Key supplied with unsupported METHOD: "${d.method}"`)))}}loadKeyEME(t,n){const i={frag:n,keyInfo:t};if(this.emeController&&this.config.emeEnabled){const l=this.emeController.loadKey(i);return(t.keyLoadPromise=l.then(d=>(t.mediaKeySessionContext=d,i))).catch(d=>{throw t.keyLoadPromise=null,d.data&&(d.data.frag=n),d})}return Promise.resolve(i)}loadKeyHTTP(t,n){const i=this.config,l=i.loader,d=new l(i);return n.keyLoader=t.loader=d,t.keyLoadPromise=new Promise((a,c)=>{const e={keyInfo:t,frag:n,responseType:"arraybuffer",url:t.decryptdata.uri},o=i.keyLoadPolicy.default,u={loadPolicy:o,timeout:o.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},f={onSuccess:(A,p,m,y)=>{const{frag:E,keyInfo:C,url:T}=m,x=ih(C.decryptdata)||T;if(!E.decryptdata||C!==this.keyIdToKeyInfo[x])return c(this.createKeyLoadError(E,Ot.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),y));C.decryptdata.key=E.decryptdata.key=new Uint8Array(A.data),E.keyLoader=null,C.loader=null,a({frag:E,keyInfo:C})},onError:(A,p,m,y)=>{this.resetLoader(p),c(this.createKeyLoadError(n,Ot.KEY_LOAD_ERROR,new Error(`HTTP Error ${A.code} loading key ${A.text}`),m,pr({url:e.url,data:void 0},A)))},onTimeout:(A,p,m)=>{this.resetLoader(p),c(this.createKeyLoadError(n,Ot.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),m))},onAbort:(A,p,m)=>{this.resetLoader(p),c(this.createKeyLoadError(n,Ot.INTERNAL_ABORTED,new Error("key loading aborted"),m))}};d.load(e,u,f)})}resetLoader(t){const{frag:n,keyInfo:i,url:l}=t,d=i.loader;n.keyLoader===d&&(n.keyLoader=null,i.loader=null);const a=ih(i.decryptdata)||l;delete this.keyIdToKeyInfo[a],d&&d.destroy()}}function ih(g){const t=g.keyId;return t?Ki(t):g.uri}function dm(g){const{type:t}=g;switch(t){case jn.AUDIO_TRACK:return Ze.AUDIO;case jn.SUBTITLE_TRACK:return Ze.SUBTITLE;default:return Ze.MAIN}}function sh(g,t){let n=g.url;return(n===void 0||n.indexOf("data:")===0)&&(n=t.url),n}class LT{constructor(t){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.onManifestLoaded=this.checkAutostartLoad,this.hls=t,this.registerListeners()}startLoad(t){}stopLoad(){this.destroyInternalLoaders()}registerListeners(){const{hls:t}=this;t.on(F.MANIFEST_LOADING,this.onManifestLoading,this),t.on(F.LEVEL_LOADING,this.onLevelLoading,this),t.on(F.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),t.on(F.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this),t.on(F.LEVELS_UPDATED,this.onLevelsUpdated,this)}unregisterListeners(){const{hls:t}=this;t.off(F.MANIFEST_LOADING,this.onManifestLoading,this),t.off(F.LEVEL_LOADING,this.onLevelLoading,this),t.off(F.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),t.off(F.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this),t.off(F.LEVELS_UPDATED,this.onLevelsUpdated,this)}createInternalLoader(t){const n=this.hls.config,i=n.pLoader,l=n.loader,d=i||l,a=new d(n);return this.loaders[t.type]=a,a}getInternalLoader(t){return this.loaders[t.type]}resetInternalLoader(t){this.loaders[t]&&delete this.loaders[t]}destroyInternalLoaders(){for(const t in this.loaders){const n=this.loaders[t];n&&n.destroy(),this.resetInternalLoader(t)}}destroy(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}onManifestLoading(t,n){const{url:i}=n;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:jn.MANIFEST,url:i,deliveryDirectives:null,levelOrTrack:null})}onLevelLoading(t,n){const{id:i,level:l,pathwayId:d,url:a,deliveryDirectives:c,levelInfo:e}=n;this.load({id:i,level:l,pathwayId:d,responseType:"text",type:jn.LEVEL,url:a,deliveryDirectives:c,levelOrTrack:e})}onAudioTrackLoading(t,n){const{id:i,groupId:l,url:d,deliveryDirectives:a,track:c}=n;this.load({id:i,groupId:l,level:null,responseType:"text",type:jn.AUDIO_TRACK,url:d,deliveryDirectives:a,levelOrTrack:c})}onSubtitleTrackLoading(t,n){const{id:i,groupId:l,url:d,deliveryDirectives:a,track:c}=n;this.load({id:i,groupId:l,level:null,responseType:"text",type:jn.SUBTITLE_TRACK,url:d,deliveryDirectives:a,levelOrTrack:c})}onLevelsUpdated(t,n){const i=this.loaders[jn.LEVEL];if(i){const l=i.context;l&&!n.levels.some(d=>d===l.levelOrTrack)&&(i.abort(),delete this.loaders[jn.LEVEL])}}load(t){var n;const i=this.hls.config;let l=this.getInternalLoader(t);if(l){const o=this.hls.logger,u=l.context;if(u&&u.levelOrTrack===t.levelOrTrack&&(u.url===t.url||u.deliveryDirectives&&!t.deliveryDirectives)){u.url===t.url?o.log(`[playlist-loader]: ignore ${t.url} ongoing request`):o.log(`[playlist-loader]: ignore ${t.url} in favor of ${u.url}`);return}o.log(`[playlist-loader]: aborting previous loader for type: ${t.type}`),l.abort()}let d;if(t.type===jn.MANIFEST?d=i.manifestLoadPolicy.default:d=mr({},i.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),l=this.createInternalLoader(t),Qe((n=t.deliveryDirectives)==null?void 0:n.part)){let o;if(t.type===jn.LEVEL&&t.level!==null?o=this.hls.levels[t.level].details:t.type===jn.AUDIO_TRACK&&t.id!==null?o=this.hls.audioTracks[t.id].details:t.type===jn.SUBTITLE_TRACK&&t.id!==null&&(o=this.hls.subtitleTracks[t.id].details),o){const u=o.partTarget,f=o.targetduration;if(u&&f){const A=Math.max(u*3,f*.8)*1e3;d=mr({},d,{maxTimeToFirstByteMs:Math.min(A,d.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(A,d.maxTimeToFirstByteMs)})}}}const a=d.errorRetry||d.timeoutRetry||{},c={loadPolicy:d,timeout:d.maxLoadTimeMs,maxRetry:a.maxNumRetry||0,retryDelay:a.retryDelayMs||0,maxRetryDelay:a.maxRetryDelayMs||0},e={onSuccess:(o,u,f,A)=>{const p=this.getInternalLoader(f);this.resetInternalLoader(f.type);const m=o.data;if(m.indexOf("#EXTM3U")!==0){this.handleManifestParsingError(o,f,new Error("no EXTM3U delimiter"),A||null,u);return}u.parsing.start=performance.now(),Ms.isMediaPlaylist(m)||f.type!==jn.MANIFEST?this.handleTrackOrLevelPlaylist(o,u,f,A||null,p):this.handleMasterPlaylist(o,u,f,A)},onError:(o,u,f,A)=>{this.handleNetworkError(u,f,!1,o,A)},onTimeout:(o,u,f)=>{this.handleNetworkError(u,f,!0,void 0,o)}};l.load(t,c,e)}checkAutostartLoad(){if(!this.hls)return;const{config:{autoStartLoad:t,startPosition:n},forceStartLoad:i}=this.hls;(t||i)&&(this.hls.logger.log(`${t?"auto":"force"} startLoad with configured startPosition ${n}`),this.hls.startLoad(n))}handleMasterPlaylist(t,n,i,l){const d=this.hls,a=t.data,c=sh(t,i),e=Ms.parseMasterPlaylist(a,c);if(e.playlistParsingError){this.handleManifestParsingError(t,i,e.playlistParsingError,l,n);return}const{contentSteering:o,levels:u,sessionData:f,sessionKeys:A,startTimeOffset:p,variableList:m}=e;this.variableList=m;const{AUDIO:y=[],SUBTITLES:E,"CLOSED-CAPTIONS":C}=Ms.parseMasterPlaylistMedia(a,c,e);y.length&&!y.some(x=>!x.url)&&u[0].audioCodec&&!u[0].attrs.AUDIO&&(this.hls.logger.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),y.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new _r({}),bitrate:0,url:""})),d.trigger(F.MANIFEST_LOADED,{levels:u,audioTracks:y,subtitles:E,captions:C,contentSteering:o,url:c,stats:n,networkDetails:l,sessionData:f,sessionKeys:A,startTimeOffset:p,variableList:m})}handleTrackOrLevelPlaylist(t,n,i,l,d){const a=this.hls,{id:c,level:e,type:o}=i,u=sh(t,i),f=Qe(e)?e:Qe(c)?c:0,A=dm(i),p=Ms.parseLevelPlaylist(t.data,u,f,A,0,this.variableList);if(o===jn.MANIFEST){const m={attrs:new _r({}),bitrate:0,details:p,name:"",url:u};p.requestScheduled=n.loading.start+Gm(p,0),a.trigger(F.MANIFEST_LOADED,{levels:[m],audioTracks:[],url:u,stats:n,networkDetails:l,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}n.parsing.end=performance.now(),i.levelDetails=p,this.handlePlaylistLoaded(p,t,n,i,l,d)}handleManifestParsingError(t,n,i,l,d){this.hls.trigger(F.ERROR,{type:nn.NETWORK_ERROR,details:Ot.MANIFEST_PARSING_ERROR,fatal:n.type===jn.MANIFEST,url:t.url,err:i,error:i,reason:i.message,response:t,context:n,networkDetails:l,stats:d})}handleNetworkError(t,n,i=!1,l,d){let a=`A network ${i?"timeout":"error"+(l?" (status "+l.code+")":"")} occurred while loading ${t.type}`;t.type===jn.LEVEL?a+=`: ${t.level} id: ${t.id}`:(t.type===jn.AUDIO_TRACK||t.type===jn.SUBTITLE_TRACK)&&(a+=` id: ${t.id} group-id: "${t.groupId}"`);const c=new Error(a);this.hls.logger.warn(`[playlist-loader]: ${a}`);let e=Ot.UNKNOWN,o=!1;const u=this.getInternalLoader(t);switch(t.type){case jn.MANIFEST:e=i?Ot.MANIFEST_LOAD_TIMEOUT:Ot.MANIFEST_LOAD_ERROR,o=!0;break;case jn.LEVEL:e=i?Ot.LEVEL_LOAD_TIMEOUT:Ot.LEVEL_LOAD_ERROR,o=!1;break;case jn.AUDIO_TRACK:e=i?Ot.AUDIO_TRACK_LOAD_TIMEOUT:Ot.AUDIO_TRACK_LOAD_ERROR,o=!1;break;case jn.SUBTITLE_TRACK:e=i?Ot.SUBTITLE_TRACK_LOAD_TIMEOUT:Ot.SUBTITLE_LOAD_ERROR,o=!1;break}u&&this.resetInternalLoader(t.type);const f={type:nn.NETWORK_ERROR,details:e,fatal:o,url:t.url,loader:u,context:t,error:c,networkDetails:n,stats:d};if(l){const A=n?.url||t.url;f.response=pr({url:A,data:void 0},l)}this.hls.trigger(F.ERROR,f)}handlePlaylistLoaded(t,n,i,l,d,a){const c=this.hls,{type:e,level:o,id:u,groupId:f,deliveryDirectives:A}=l,p=sh(n,l),m=dm(l),y=typeof l.level=="number"&&m===Ze.MAIN?o:void 0;if(!t.fragments.length){const C=t.playlistParsingError=new Error("No Segments found in Playlist");c.trigger(F.ERROR,{type:nn.NETWORK_ERROR,details:Ot.LEVEL_EMPTY_ERROR,fatal:!1,url:p,error:C,reason:C.message,response:n,context:l,level:y,parent:m,networkDetails:d,stats:i});return}t.targetduration||(t.playlistParsingError=new Error("Missing Target Duration"));const E=t.playlistParsingError;if(E){if(this.hls.logger.warn(`${E} ${t.url}`),!c.config.ignorePlaylistParsingErrors){c.trigger(F.ERROR,{type:nn.NETWORK_ERROR,details:Ot.LEVEL_PARSING_ERROR,fatal:!1,url:p,error:E,reason:E.message,response:n,context:l,level:y,parent:m,networkDetails:d,stats:i});return}t.playlistParsingError=null}switch(t.live&&a&&(a.getCacheAge&&(t.ageHeader=a.getCacheAge()||0),(!a.getCacheAge||isNaN(t.ageHeader))&&(t.ageHeader=0)),e){case jn.MANIFEST:case jn.LEVEL:c.trigger(F.LEVEL_LOADED,{details:t,levelInfo:l.levelOrTrack||c.levels[0],level:y||0,id:u||0,stats:i,networkDetails:d,deliveryDirectives:A,withoutMultiVariant:e===jn.MANIFEST});break;case jn.AUDIO_TRACK:c.trigger(F.AUDIO_TRACK_LOADED,{details:t,track:l.levelOrTrack,id:u||0,groupId:f||"",stats:i,networkDetails:d,deliveryDirectives:A});break;case jn.SUBTITLE_TRACK:c.trigger(F.SUBTITLE_TRACK_LOADED,{details:t,track:l.levelOrTrack,id:u||0,groupId:f||"",stats:i,networkDetails:d,deliveryDirectives:A});break}}}let Gv=class rl{static get version(){return ru}static isMSESupported(){return Fv()}static isSupported(){return CT()}static getMediaSource(){return Ga()}static get Events(){return F}static get MetadataSchema(){return Wi}static get ErrorTypes(){return nn}static get ErrorDetails(){return Ot}static get DefaultConfig(){return rl.defaultConfig?rl.defaultConfig:cT}static set DefaultConfig(t){rl.defaultConfig=t}constructor(t={}){this.config=void 0,this.userConfig=void 0,this.logger=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new Fh,this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioStreamController=void 0,this.subtititleStreamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.interstitialsController=void 0,this.gapController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this._url=null,this._sessionId=void 0,this.triggeringException=void 0,this.started=!1;const n=this.logger=M1(t.debug||!1,"Hls instance",t.assetPlayerId),i=this.config=dT(rl.DefaultConfig,t,n);this.userConfig=t,i.progressive&&hT(i,n);const{abrController:l,bufferController:d,capLevelController:a,errorController:c,fpsController:e}=i,o=new c(this),u=this.abrController=new l(this),f=new LE(this),A=i.interstitialsController,p=A?this.interstitialsController=new A(this,rl):null,m=this.bufferController=new d(this,f),y=this.capLevelController=new a(this),E=new e(this),C=new LT(this),T=i.contentSteeringController,x=T?new T(this):null,L=this.levelController=new bT(this,x),D=new yT(this),B=new wT(this.config,this.logger),O=this.streamController=new xT(this,f,B),_=this.gapController=new mT(this,f);y.setStreamController(O),E.setStreamController(O);const M=[C,L,O];p&&M.splice(1,0,p),x&&M.splice(1,0,x),this.networkControllers=M;const U=[u,m,_,y,E,D,f];this.audioTrackController=this.createController(i.audioTrackController,M);const Q=i.audioStreamController;Q&&M.push(this.audioStreamController=new Q(this,f,B)),this.subtitleTrackController=this.createController(i.subtitleTrackController,M);const $=i.subtitleStreamController;$&&M.push(this.subtititleStreamController=new $(this,f,B)),this.createController(i.timelineController,U),B.emeController=this.emeController=this.createController(i.emeController,U),this.cmcdController=this.createController(i.cmcdController,U),this.latencyController=this.createController(ET,U),this.coreComponents=U,M.push(o);const W=o.onErrorOut;typeof W=="function"&&this.on(F.ERROR,W,o),this.on(F.MANIFEST_LOADED,C.onManifestLoaded,C)}createController(t,n){if(t){const i=new t(this);return n&&n.push(i),i}return null}on(t,n,i=this){this._emitter.on(t,n,i)}once(t,n,i=this){this._emitter.once(t,n,i)}removeAllListeners(t){this._emitter.removeAllListeners(t)}off(t,n,i=this,l){this._emitter.off(t,n,i,l)}listeners(t){return this._emitter.listeners(t)}emit(t,n,i){return this._emitter.emit(t,n,i)}trigger(t,n){if(this.config.debug)return this.emit(t,t,n);try{return this.emit(t,t,n)}catch(i){if(this.logger.error("An internal error happened while handling event "+t+'. Error message: "'+i.message+'". Here is a stacktrace:',i),!this.triggeringException){this.triggeringException=!0;const l=t===F.ERROR;this.trigger(F.ERROR,{type:nn.OTHER_ERROR,details:Ot.INTERNAL_EXCEPTION,fatal:l,event:t,error:i}),this.triggeringException=!1}}return!1}listenerCount(t){return this._emitter.listenerCount(t)}destroy(){this.logger.log("destroy"),this.trigger(F.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this._url=null,this.networkControllers.forEach(n=>n.destroy()),this.networkControllers.length=0,this.coreComponents.forEach(n=>n.destroy()),this.coreComponents.length=0;const t=this.config;t.xhrSetup=t.fetchSetup=void 0,this.userConfig=null}attachMedia(t){if(!t||"media"in t&&!t.media){const d=new Error(`attachMedia failed: invalid argument (${t})`);this.trigger(F.ERROR,{type:nn.OTHER_ERROR,details:Ot.ATTACH_MEDIA_ERROR,fatal:!0,error:d});return}this.logger.log("attachMedia"),this._media&&(this.logger.warn("media must be detached before attaching"),this.detachMedia());const n="media"in t,i=n?t.media:t,l=n?t:{media:i};this._media=i,this.trigger(F.MEDIA_ATTACHING,l)}detachMedia(){this.logger.log("detachMedia"),this.trigger(F.MEDIA_DETACHING,{}),this._media=null}transferMedia(){this._media=null;const t=this.bufferController.transferMedia();return this.trigger(F.MEDIA_DETACHING,{transferMedia:t}),t}loadSource(t){this.stopLoad();const n=this.media,i=this._url,l=this._url=Rh.buildAbsoluteURL(self.location.href,t,{alwaysNormalize:!0});this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.logger.log(`loadSource:${l}`),n&&i&&(i!==l||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(n)),this.trigger(F.MANIFEST_LOADING,{url:t})}get url(){return this._url}get hasEnoughToStart(){return this.streamController.hasEnoughToStart}get startPosition(){return this.streamController.startPositionValue}startLoad(t=-1,n){this.logger.log(`startLoad(${t+(n?", <skip seek to start>":"")})`),this.started=!0,this.resumeBuffering();for(let i=0;i<this.networkControllers.length&&(this.networkControllers[i].startLoad(t,n),!(!this.started||!this.networkControllers));i++);}stopLoad(){this.logger.log("stopLoad"),this.started=!1;for(let t=0;t<this.networkControllers.length&&(this.networkControllers[t].stopLoad(),!(this.started||!this.networkControllers));t++);}get loadingEnabled(){return this.started}get bufferingEnabled(){return this.streamController.bufferingEnabled}resumeBuffering(){this.bufferingEnabled||(this.logger.log("resume buffering"),this.networkControllers.forEach(t=>{t.resumeBuffering&&t.resumeBuffering()}))}pauseBuffering(){this.bufferingEnabled&&(this.logger.log("pause buffering"),this.networkControllers.forEach(t=>{t.pauseBuffering&&t.pauseBuffering()}))}get inFlightFragments(){const t={[Ze.MAIN]:this.streamController.inFlightFrag};return this.audioStreamController&&(t[Ze.AUDIO]=this.audioStreamController.inFlightFrag),this.subtititleStreamController&&(t[Ze.SUBTITLE]=this.subtititleStreamController.inFlightFrag),t}swapAudioCodec(){this.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()}recoverMediaError(){this.logger.log("recoverMediaError");const t=this._media,n=t?.currentTime;this.detachMedia(),t&&(this.attachMedia(t),n&&this.startLoad(n))}removeLevel(t){this.levelController.removeLevel(t)}get sessionId(){let t=this._sessionId;return t||(t=this._sessionId=mS()),t}get levels(){const t=this.levelController.levels;return t||[]}get latestLevelDetails(){return this.streamController.getLevelDetails()||null}get loadLevelObj(){return this.levelController.loadLevelObj}get currentLevel(){return this.streamController.currentLevel}set currentLevel(t){this.logger.log(`set currentLevel:${t}`),this.levelController.manualLevel=t,this.streamController.immediateLevelSwitch()}get nextLevel(){return this.streamController.nextLevel}set nextLevel(t){this.logger.log(`set nextLevel:${t}`),this.levelController.manualLevel=t,this.streamController.nextLevelSwitch()}get loadLevel(){return this.levelController.level}set loadLevel(t){this.logger.log(`set loadLevel:${t}`),this.levelController.manualLevel=t}get nextLoadLevel(){return this.levelController.nextLoadLevel}set nextLoadLevel(t){this.levelController.nextLoadLevel=t}get firstLevel(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)}set firstLevel(t){this.logger.log(`set firstLevel:${t}`),this.levelController.firstLevel=t}get startLevel(){const t=this.levelController.startLevel;return t===-1&&this.abrController.forcedAutoLevel>-1?this.abrController.forcedAutoLevel:t}set startLevel(t){this.logger.log(`set startLevel:${t}`),t!==-1&&(t=Math.max(t,this.minAutoLevel)),this.levelController.startLevel=t}get capLevelToPlayerSize(){return this.config.capLevelToPlayerSize}set capLevelToPlayerSize(t){const n=!!t;n!==this.config.capLevelToPlayerSize&&(n?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=n)}get autoLevelCapping(){return this._autoLevelCapping}get bandwidthEstimate(){const{bwEstimator:t}=this.abrController;return t?t.getEstimate():NaN}set bandwidthEstimate(t){this.abrController.resetEstimator(t)}get abrEwmaDefaultEstimate(){const{bwEstimator:t}=this.abrController;return t?t.defaultEstimate:NaN}get ttfbEstimate(){const{bwEstimator:t}=this.abrController;return t?t.getEstimateTTFB():NaN}set autoLevelCapping(t){this._autoLevelCapping!==t&&(this.logger.log(`set autoLevelCapping:${t}`),this._autoLevelCapping=t,this.levelController.checkMaxAutoUpdated())}get maxHdcpLevel(){return this._maxHdcpLevel}set maxHdcpLevel(t){fE(t)&&this._maxHdcpLevel!==t&&(this._maxHdcpLevel=t,this.levelController.checkMaxAutoUpdated())}get autoLevelEnabled(){return this.levelController.manualLevel===-1}get manualLevel(){return this.levelController.manualLevel}get minAutoLevel(){const{levels:t,config:{minAutoBitrate:n}}=this;if(!t)return 0;const i=t.length;for(let l=0;l<i;l++)if(t[l].maxBitrate>=n)return l;return 0}get maxAutoLevel(){const{levels:t,autoLevelCapping:n,maxHdcpLevel:i}=this;let l;if(n===-1&&t!=null&&t.length?l=t.length-1:l=n,i)for(let d=l;d--;){const a=t[d].attrs["HDCP-LEVEL"];if(a&&a<=i)return d}return l}get firstAutoLevel(){return this.abrController.firstAutoLevel}get nextAutoLevel(){return this.abrController.nextAutoLevel}set nextAutoLevel(t){this.abrController.nextAutoLevel=t}get playingDate(){return this.streamController.currentProgramDateTime}get mainForwardBufferInfo(){return this.streamController.getMainFwdBufferInfo()}get maxBufferLength(){return this.streamController.maxBufferLength}setAudioOption(t){var n;return((n=this.audioTrackController)==null?void 0:n.setAudioOption(t))||null}setSubtitleOption(t){var n;return((n=this.subtitleTrackController)==null?void 0:n.setSubtitleOption(t))||null}get allAudioTracks(){const t=this.audioTrackController;return t?t.allAudioTracks:[]}get audioTracks(){const t=this.audioTrackController;return t?t.audioTracks:[]}get audioTrack(){const t=this.audioTrackController;return t?t.audioTrack:-1}set audioTrack(t){const n=this.audioTrackController;n&&(n.audioTrack=t)}get allSubtitleTracks(){const t=this.subtitleTrackController;return t?t.allSubtitleTracks:[]}get subtitleTracks(){const t=this.subtitleTrackController;return t?t.subtitleTracks:[]}get subtitleTrack(){const t=this.subtitleTrackController;return t?t.subtitleTrack:-1}get media(){return this._media}set subtitleTrack(t){const n=this.subtitleTrackController;n&&(n.subtitleTrack=t)}get subtitleDisplay(){const t=this.subtitleTrackController;return t?t.subtitleDisplay:!1}set subtitleDisplay(t){const n=this.subtitleTrackController;n&&(n.subtitleDisplay=t)}get lowLatencyMode(){return this.config.lowLatencyMode}set lowLatencyMode(t){this.config.lowLatencyMode=t}get liveSyncPosition(){return this.latencyController.liveSyncPosition}get latency(){return this.latencyController.latency}get maxLatency(){return this.latencyController.maxLatency}get targetLatency(){return this.latencyController.targetLatency}set targetLatency(t){this.latencyController.targetLatency=t}get drift(){return this.latencyController.drift}get forceStartLoad(){return this.streamController.forceStartLoad}get pathways(){return this.levelController.pathways}get pathwayPriority(){return this.levelController.pathwayPriority}set pathwayPriority(t){this.levelController.pathwayPriority=t}get bufferedToEnd(){var t;return!!((t=this.bufferController)!=null&&t.bufferedToEnd)}get interstitialsManager(){var t;return((t=this.interstitialsController)==null?void 0:t.interstitialsManager)||null}getMediaDecodingInfo(t,n=this.allAudioTracks){const i=Im(n);return Lm(t,i,navigator.mediaCapabilities)}};Gv.defaultConfig=void 0;const ah="live",RT=({showToast:g})=>{const[t,n]=bi.useState("connecting"),i=bi.useRef(null),l=bi.useRef(null),d=bi.useRef(g);bi.useEffect(()=>{d.current=g},[g]);const a=()=>{const o=window.location.hostname;return{autoStart:!0,autoFallback:!0,controls:!0,loop:!1,muted:!1,volume:100,playbackRate:1,playsinline:!0,sources:[{label:"WebRTC",type:"webrtc",file:`ws://${o}:3333/live/${ah}/abr_webrtc`,lowLatency:!0},{label:"LLHLS",type:"llhls",file:`http://${o}:8080/live/${ah}/abr.m3u8`,lowLatency:!0},{label:"HLS",type:"hls",file:`http://${o}:8080/live/${ah}/ts:abr.m3u8`,lowLatency:!1}],webrtcConfig:{iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"}]},hlsConfig:{lowLatencyMode:!0,backBufferLength:90}}},c=bi.useCallback(async()=>{if(i.current)try{if(n("connecting"),l.current){try{typeof l.current.destroy=="function"?l.current.destroy():typeof l.current.remove=="function"&&l.current.remove()}catch(f){console.log("Erro ao destruir player anterior:",f)}l.current=null}if(await new Promise(f=>setTimeout(f,100)),!document.getElementById("ovenPlayer")){console.error("Elemento do player não encontrado"),n("error"),d.current("Erro: Elemento do player não encontrado","error");return}if(l.current=w1.create("ovenPlayer",a()),!l.current)throw new Error("Falha ao criar instância do OvenPlayer");const u=l.current;u.on?.("ready",()=>{console.log("OvenPlayer pronto"),n("playing"),d.current("Stream conectada com sucesso!","success")}),u.on?.("stateChanged",f=>{const A=f;switch(console.log("Estado mudou:",A),A.newstate){case"playing":n("playing");break;case"paused":n("paused");break;case"loading":n("connecting");break;case"error":n("error"),d.current("Erro na reprodução","error");break}}),u.on?.("sourceChanged",f=>{const A=f;console.log("Fonte alterada:",A);const p=A.currentSource?.label||"Unknown";d.current(`Protocolo: ${p}`,"info")}),u.on?.("error",f=>{const A=f;console.error("Erro do OvenPlayer:",A),n("error"),d.current(`Erro: ${A.message||"Falha na reprodução"}`,"error")}),u.on?.("destroy",()=>{console.log("OvenPlayer destruído"),n("offline")}),console.log("OvenPlayer inicializado com sucesso")}catch(o){console.error("Erro ao inicializar OvenPlayer:",o),n("error"),d.current("Erro ao inicializar player","error")}},[]);bi.useEffect(()=>{typeof window<"u"&&(window.Hls=Gv);const o=()=>{if(l.current)try{typeof l.current.destroy=="function"?l.current.destroy():typeof l.current.remove=="function"&&l.current.remove(),l.current=null}catch(f){console.error("Erro ao destruir player:",f)}},u=setTimeout(()=>{c()},50);return()=>{clearTimeout(u),o()}},[c]);const e=()=>{switch(t){case"connecting":return xr.jsx("div",{className:"loading-spinner"});case"playing":return xr.jsx(qp,{className:"status-icon live"});case"error":return xr.jsx(E1,{className:"status-icon error"});default:return xr.jsx(qp,{className:"status-icon"})}};return xr.jsxs("div",{ref:i,className:"stream-player",children:[xr.jsx("div",{id:"ovenPlayer",className:"oven-player-container"}),(t==="connecting"||t==="error")&&xr.jsx("div",{className:"stream-overlay",children:xr.jsxs("div",{className:"overlay-content",children:[e(),xr.jsxs("p",{className:"status-text",children:[t==="connecting"&&"Conectando à stream...",t==="error"&&"Erro na conexão"]}),t==="error"&&xr.jsx("button",{className:"retry-btn",onClick:c,children:"Tentar Novamente"})]})})]})},IT=({message:g,type:t,onClose:n})=>{const[i,l]=bi.useState(!1);bi.useEffect(()=>{setTimeout(()=>l(!0),100);const c=setTimeout(()=>{l(!1),setTimeout(n,300)},4e3);return()=>clearTimeout(c)},[n]);const d=()=>{l(!1),setTimeout(n,300)},a=()=>{switch(t){case"success":return xr.jsx(m1,{size:20});case"error":return xr.jsx(g1,{size:20});case"info":return xr.jsx(Wp,{size:20});default:return xr.jsx(Wp,{size:20})}};return xr.jsxs("div",{className:`toast toast-${t} ${i?"show":""}`,children:[xr.jsxs("div",{className:"toast-content",children:[a(),xr.jsx("span",{className:"toast-message",children:g})]}),xr.jsx("button",{className:"toast-close",onClick:d,children:xr.jsx(S1,{size:16})})]})};function DT(){const[g,t]=bi.useState([]),n=(l,d="info")=>{const a=Date.now()+Math.random(),c={message:l,type:d,id:a};t(e=>[...e,c]),setTimeout(()=>{t(e=>e.filter(o=>o.id!==a))},4e3)},i=l=>{t(d=>d.filter(a=>a.id!==l))};return xr.jsxs("div",{className:"app",children:[xr.jsx(RT,{showToast:n}),xr.jsx("div",{className:"toast-container",children:g.map(l=>xr.jsx(IT,{message:l.message,type:l.type,onClose:()=>i(l.id)},l.id))})]})}l1.createRoot(document.getElementById("root")).render(xr.jsx(bi.StrictMode,{children:xr.jsx(DT,{})}));
