(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const d of l)if(d.type==="childList")for(const s of d.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(l){const d={};return l.integrity&&(d.integrity=l.integrity),l.referrerPolicy&&(d.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?d.credentials="include":l.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function i(l){if(l.ep)return;l.ep=!0;const d=n(l);fetch(l.href,d)}})();function l1(g){return g&&g.__esModule&&Object.prototype.hasOwnProperty.call(g,"default")?g.default:g}var Bd={exports:{}},Kl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gp;function u1(){if(Gp)return Kl;Gp=1;var g=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,l,d){var s=null;if(d!==void 0&&(s=""+d),l.key!==void 0&&(s=""+l.key),"key"in l){d={};for(var c in l)c!=="key"&&(d[c]=l[c])}else d=l;return l=d.ref,{$$typeof:g,type:i,key:s,ref:l!==void 0?l:null,props:d}}return Kl.Fragment=t,Kl.jsx=n,Kl.jsxs=n,Kl}var Qp;function c1(){return Qp||(Qp=1,Bd.exports=u1()),Bd.exports}var dt=c1(),Od={exports:{}},Gn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jp;function f1(){if(jp)return Gn;jp=1;var g=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),e=Symbol.for("react.suspense"),o=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),f=Symbol.iterator;function A(F){return F===null||typeof F!="object"?null:(F=f&&F[f]||F["@@iterator"],typeof F=="function"?F:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,y={};function b(F,q,nt){this.props=F,this.context=q,this.refs=y,this.updater=nt||p}b.prototype.isReactComponent={},b.prototype.setState=function(F,q){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,q,"setState")},b.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function E(){}E.prototype=b.prototype;function S(F,q,nt){this.props=F,this.context=q,this.refs=y,this.updater=nt||p}var T=S.prototype=new E;T.constructor=S,m(T,b.prototype),T.isPureReactComponent=!0;var L=Array.isArray,I={H:null,A:null,T:null,S:null,V:null},B=Object.prototype.hasOwnProperty;function O(F,q,nt,ot,Ct,St){return nt=St.ref,{$$typeof:g,type:F,key:q,ref:nt!==void 0?nt:null,props:St}}function _(F,q){return O(F.type,q,void 0,void 0,void 0,F.props)}function M(F){return typeof F=="object"&&F!==null&&F.$$typeof===g}function U(F){var q={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(nt){return q[nt]})}var Q=/\/+/g;function $(F,q){return typeof F=="object"&&F!==null&&F.key!=null?U(""+F.key):q.toString(36)}function W(){}function X(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(W,W):(F.status="pending",F.then(function(q){F.status==="pending"&&(F.status="fulfilled",F.value=q)},function(q){F.status==="pending"&&(F.status="rejected",F.reason=q)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function et(F,q,nt,ot,Ct){var St=typeof F;(St==="undefined"||St==="boolean")&&(F=null);var Tt=!1;if(F===null)Tt=!0;else switch(St){case"bigint":case"string":case"number":Tt=!0;break;case"object":switch(F.$$typeof){case g:case t:Tt=!0;break;case u:return Tt=F._init,et(Tt(F._payload),q,nt,ot,Ct)}}if(Tt)return Ct=Ct(F),Tt=ot===""?"."+$(F,0):ot,L(Ct)?(nt="",Tt!=null&&(nt=Tt.replace(Q,"$&/")+"/"),et(Ct,q,nt,"",function(Vt){return Vt})):Ct!=null&&(M(Ct)&&(Ct=_(Ct,nt+(Ct.key==null||F&&F.key===Ct.key?"":(""+Ct.key).replace(Q,"$&/")+"/")+Tt)),q.push(Ct)),1;Tt=0;var Kt=ot===""?".":ot+":";if(L(F))for(var $t=0;$t<F.length;$t++)ot=F[$t],St=Kt+$(ot,$t),Tt+=et(ot,q,nt,St,Ct);else if($t=A(F),typeof $t=="function")for(F=$t.call(F),$t=0;!(ot=F.next()).done;)ot=ot.value,St=Kt+$(ot,$t++),Tt+=et(ot,q,nt,St,Ct);else if(St==="object"){if(typeof F.then=="function")return et(X(F),q,nt,ot,Ct);throw q=String(F),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return Tt}function Y(F,q,nt){if(F==null)return F;var ot=[],Ct=0;return et(F,ot,"","",function(St){return q.call(nt,St,Ct++)}),ot}function N(F){if(F._status===-1){var q=F._result;q=q(),q.then(function(nt){(F._status===0||F._status===-1)&&(F._status=1,F._result=nt)},function(nt){(F._status===0||F._status===-1)&&(F._status=2,F._result=nt)}),F._status===-1&&(F._status=0,F._result=q)}if(F._status===1)return F._result.default;throw F._result}var K=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)};function Z(){}return Gn.Children={map:Y,forEach:function(F,q,nt){Y(F,function(){q.apply(this,arguments)},nt)},count:function(F){var q=0;return Y(F,function(){q++}),q},toArray:function(F){return Y(F,function(q){return q})||[]},only:function(F){if(!M(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Gn.Component=b,Gn.Fragment=n,Gn.Profiler=l,Gn.PureComponent=S,Gn.StrictMode=i,Gn.Suspense=e,Gn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Gn.__COMPILER_RUNTIME={__proto__:null,c:function(F){return I.H.useMemoCache(F)}},Gn.cache=function(F){return function(){return F.apply(null,arguments)}},Gn.cloneElement=function(F,q,nt){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var ot=m({},F.props),Ct=F.key,St=void 0;if(q!=null)for(Tt in q.ref!==void 0&&(St=void 0),q.key!==void 0&&(Ct=""+q.key),q)!B.call(q,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&q.ref===void 0||(ot[Tt]=q[Tt]);var Tt=arguments.length-2;if(Tt===1)ot.children=nt;else if(1<Tt){for(var Kt=Array(Tt),$t=0;$t<Tt;$t++)Kt[$t]=arguments[$t+2];ot.children=Kt}return O(F.type,Ct,void 0,void 0,St,ot)},Gn.createContext=function(F){return F={$$typeof:s,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:d,_context:F},F},Gn.createElement=function(F,q,nt){var ot,Ct={},St=null;if(q!=null)for(ot in q.key!==void 0&&(St=""+q.key),q)B.call(q,ot)&&ot!=="key"&&ot!=="__self"&&ot!=="__source"&&(Ct[ot]=q[ot]);var Tt=arguments.length-2;if(Tt===1)Ct.children=nt;else if(1<Tt){for(var Kt=Array(Tt),$t=0;$t<Tt;$t++)Kt[$t]=arguments[$t+2];Ct.children=Kt}if(F&&F.defaultProps)for(ot in Tt=F.defaultProps,Tt)Ct[ot]===void 0&&(Ct[ot]=Tt[ot]);return O(F,St,void 0,void 0,null,Ct)},Gn.createRef=function(){return{current:null}},Gn.forwardRef=function(F){return{$$typeof:c,render:F}},Gn.isValidElement=M,Gn.lazy=function(F){return{$$typeof:u,_payload:{_status:-1,_result:F},_init:N}},Gn.memo=function(F,q){return{$$typeof:o,type:F,compare:q===void 0?null:q}},Gn.startTransition=function(F){var q=I.T,nt={};I.T=nt;try{var ot=F(),Ct=I.S;Ct!==null&&Ct(nt,ot),typeof ot=="object"&&ot!==null&&typeof ot.then=="function"&&ot.then(Z,K)}catch(St){K(St)}finally{I.T=q}},Gn.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Gn.use=function(F){return I.H.use(F)},Gn.useActionState=function(F,q,nt){return I.H.useActionState(F,q,nt)},Gn.useCallback=function(F,q){return I.H.useCallback(F,q)},Gn.useContext=function(F){return I.H.useContext(F)},Gn.useDebugValue=function(){},Gn.useDeferredValue=function(F,q){return I.H.useDeferredValue(F,q)},Gn.useEffect=function(F,q,nt){var ot=I.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ot.useEffect(F,q)},Gn.useId=function(){return I.H.useId()},Gn.useImperativeHandle=function(F,q,nt){return I.H.useImperativeHandle(F,q,nt)},Gn.useInsertionEffect=function(F,q){return I.H.useInsertionEffect(F,q)},Gn.useLayoutEffect=function(F,q){return I.H.useLayoutEffect(F,q)},Gn.useMemo=function(F,q){return I.H.useMemo(F,q)},Gn.useOptimistic=function(F,q){return I.H.useOptimistic(F,q)},Gn.useReducer=function(F,q,nt){return I.H.useReducer(F,q,nt)},Gn.useRef=function(F){return I.H.useRef(F)},Gn.useState=function(F){return I.H.useState(F)},Gn.useSyncExternalStore=function(F,q,nt){return I.H.useSyncExternalStore(F,q,nt)},Gn.useTransition=function(){return I.H.useTransition()},Gn.version="19.1.1",Gn}var zp;function Ih(){return zp||(zp=1,Od.exports=f1()),Od.exports}var In=Ih(),_d={exports:{}},Wl={},Md={exports:{}},Pd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hp;function d1(){return Hp||(Hp=1,(function(g){function t(Y,N){var K=Y.length;Y.push(N);t:for(;0<K;){var Z=K-1>>>1,F=Y[Z];if(0<l(F,N))Y[Z]=N,Y[K]=F,K=Z;else break t}}function n(Y){return Y.length===0?null:Y[0]}function i(Y){if(Y.length===0)return null;var N=Y[0],K=Y.pop();if(K!==N){Y[0]=K;t:for(var Z=0,F=Y.length,q=F>>>1;Z<q;){var nt=2*(Z+1)-1,ot=Y[nt],Ct=nt+1,St=Y[Ct];if(0>l(ot,K))Ct<F&&0>l(St,ot)?(Y[Z]=St,Y[Ct]=K,Z=Ct):(Y[Z]=ot,Y[nt]=K,Z=nt);else if(Ct<F&&0>l(St,K))Y[Z]=St,Y[Ct]=K,Z=Ct;else break t}}return N}function l(Y,N){var K=Y.sortIndex-N.sortIndex;return K!==0?K:Y.id-N.id}if(g.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;g.unstable_now=function(){return d.now()}}else{var s=Date,c=s.now();g.unstable_now=function(){return s.now()-c}}var e=[],o=[],u=1,f=null,A=3,p=!1,m=!1,y=!1,b=!1,E=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function L(Y){for(var N=n(o);N!==null;){if(N.callback===null)i(o);else if(N.startTime<=Y)i(o),N.sortIndex=N.expirationTime,t(e,N);else break;N=n(o)}}function I(Y){if(y=!1,L(Y),!m)if(n(e)!==null)m=!0,B||(B=!0,$());else{var N=n(o);N!==null&&et(I,N.startTime-Y)}}var B=!1,O=-1,_=5,M=-1;function U(){return b?!0:!(g.unstable_now()-M<_)}function Q(){if(b=!1,B){var Y=g.unstable_now();M=Y;var N=!0;try{t:{m=!1,y&&(y=!1,S(O),O=-1),p=!0;var K=A;try{e:{for(L(Y),f=n(e);f!==null&&!(f.expirationTime>Y&&U());){var Z=f.callback;if(typeof Z=="function"){f.callback=null,A=f.priorityLevel;var F=Z(f.expirationTime<=Y);if(Y=g.unstable_now(),typeof F=="function"){f.callback=F,L(Y),N=!0;break e}f===n(e)&&i(e),L(Y)}else i(e);f=n(e)}if(f!==null)N=!0;else{var q=n(o);q!==null&&et(I,q.startTime-Y),N=!1}}break t}finally{f=null,A=K,p=!1}N=void 0}}finally{N?$():B=!1}}}var $;if(typeof T=="function")$=function(){T(Q)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,X=W.port2;W.port1.onmessage=Q,$=function(){X.postMessage(null)}}else $=function(){E(Q,0)};function et(Y,N){O=E(function(){Y(g.unstable_now())},N)}g.unstable_IdlePriority=5,g.unstable_ImmediatePriority=1,g.unstable_LowPriority=4,g.unstable_NormalPriority=3,g.unstable_Profiling=null,g.unstable_UserBlockingPriority=2,g.unstable_cancelCallback=function(Y){Y.callback=null},g.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<Y?Math.floor(1e3/Y):5},g.unstable_getCurrentPriorityLevel=function(){return A},g.unstable_next=function(Y){switch(A){case 1:case 2:case 3:var N=3;break;default:N=A}var K=A;A=N;try{return Y()}finally{A=K}},g.unstable_requestPaint=function(){b=!0},g.unstable_runWithPriority=function(Y,N){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var K=A;A=Y;try{return N()}finally{A=K}},g.unstable_scheduleCallback=function(Y,N,K){var Z=g.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?Z+K:Z):K=Z,Y){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=K+F,Y={id:u++,callback:N,priorityLevel:Y,startTime:K,expirationTime:F,sortIndex:-1},K>Z?(Y.sortIndex=K,t(o,Y),n(e)===null&&Y===n(o)&&(y?(S(O),O=-1):y=!0,et(I,K-Z))):(Y.sortIndex=F,t(e,Y),m||p||(m=!0,B||(B=!0,$()))),Y},g.unstable_shouldYield=U,g.unstable_wrapCallback=function(Y){var N=A;return function(){var K=A;A=N;try{return Y.apply(this,arguments)}finally{A=K}}}})(Pd)),Pd}var Yp;function h1(){return Yp||(Yp=1,Md.exports=d1()),Md.exports}var Nd={exports:{}},Ci={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $p;function A1(){if($p)return Ci;$p=1;var g=Ih();function t(e){var o="https://react.dev/errors/"+e;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+e+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function d(e,o,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:f==null?null:""+f,children:e,containerInfo:o,implementation:u}}var s=g.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,o){if(e==="font")return"";if(typeof o=="string")return o==="use-credentials"?o:""}return Ci.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Ci.createPortal=function(e,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)throw Error(t(299));return d(e,o,null,u)},Ci.flushSync=function(e){var o=s.T,u=i.p;try{if(s.T=null,i.p=2,e)return e()}finally{s.T=o,i.p=u,i.d.f()}},Ci.preconnect=function(e,o){typeof e=="string"&&(o?(o=o.crossOrigin,o=typeof o=="string"?o==="use-credentials"?o:"":void 0):o=null,i.d.C(e,o))},Ci.prefetchDNS=function(e){typeof e=="string"&&i.d.D(e)},Ci.preinit=function(e,o){if(typeof e=="string"&&o&&typeof o.as=="string"){var u=o.as,f=c(u,o.crossOrigin),A=typeof o.integrity=="string"?o.integrity:void 0,p=typeof o.fetchPriority=="string"?o.fetchPriority:void 0;u==="style"?i.d.S(e,typeof o.precedence=="string"?o.precedence:void 0,{crossOrigin:f,integrity:A,fetchPriority:p}):u==="script"&&i.d.X(e,{crossOrigin:f,integrity:A,fetchPriority:p,nonce:typeof o.nonce=="string"?o.nonce:void 0})}},Ci.preinitModule=function(e,o){if(typeof e=="string")if(typeof o=="object"&&o!==null){if(o.as==null||o.as==="script"){var u=c(o.as,o.crossOrigin);i.d.M(e,{crossOrigin:u,integrity:typeof o.integrity=="string"?o.integrity:void 0,nonce:typeof o.nonce=="string"?o.nonce:void 0})}}else o==null&&i.d.M(e)},Ci.preload=function(e,o){if(typeof e=="string"&&typeof o=="object"&&o!==null&&typeof o.as=="string"){var u=o.as,f=c(u,o.crossOrigin);i.d.L(e,u,{crossOrigin:f,integrity:typeof o.integrity=="string"?o.integrity:void 0,nonce:typeof o.nonce=="string"?o.nonce:void 0,type:typeof o.type=="string"?o.type:void 0,fetchPriority:typeof o.fetchPriority=="string"?o.fetchPriority:void 0,referrerPolicy:typeof o.referrerPolicy=="string"?o.referrerPolicy:void 0,imageSrcSet:typeof o.imageSrcSet=="string"?o.imageSrcSet:void 0,imageSizes:typeof o.imageSizes=="string"?o.imageSizes:void 0,media:typeof o.media=="string"?o.media:void 0})}},Ci.preloadModule=function(e,o){if(typeof e=="string")if(o){var u=c(o.as,o.crossOrigin);i.d.m(e,{as:typeof o.as=="string"&&o.as!=="script"?o.as:void 0,crossOrigin:u,integrity:typeof o.integrity=="string"?o.integrity:void 0})}else i.d.m(e)},Ci.requestFormReset=function(e){i.d.r(e)},Ci.unstable_batchedUpdates=function(e,o){return e(o)},Ci.useFormState=function(e,o,u){return s.H.useFormState(e,o,u)},Ci.useFormStatus=function(){return s.H.useHostTransitionStatus()},Ci.version="19.1.1",Ci}var Vp;function g1(){if(Vp)return Nd.exports;Vp=1;function g(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(g)}catch(t){console.error(t)}}return g(),Nd.exports=A1(),Nd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kp;function p1(){if(Kp)return Wl;Kp=1;var g=h1(),t=Ih(),n=g1();function i(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)a+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function d(r){var a=r,h=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(h=a.return),r=a.return;while(r)}return a.tag===3?h:null}function s(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function c(r){if(d(r)!==r)throw Error(i(188))}function e(r){var a=r.alternate;if(!a){if(a=d(r),a===null)throw Error(i(188));return a!==r?null:r}for(var h=r,v=a;;){var C=h.return;if(C===null)break;var w=C.alternate;if(w===null){if(v=C.return,v!==null){h=v;continue}break}if(C.child===w.child){for(w=C.child;w;){if(w===h)return c(C),r;if(w===v)return c(C),a;w=w.sibling}throw Error(i(188))}if(h.return!==v.return)h=C,v=w;else{for(var H=!1,tt=C.child;tt;){if(tt===h){H=!0,h=C,v=w;break}if(tt===v){H=!0,v=C,h=w;break}tt=tt.sibling}if(!H){for(tt=w.child;tt;){if(tt===h){H=!0,h=w,v=C;break}if(tt===v){H=!0,v=w,h=C;break}tt=tt.sibling}if(!H)throw Error(i(189))}}if(h.alternate!==v)throw Error(i(190))}if(h.tag!==3)throw Error(i(188));return h.stateNode.current===h?r:a}function o(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=o(r),a!==null)return a;r=r.sibling}return null}var u=Object.assign,f=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),S=Symbol.for("react.consumer"),T=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),Q=Symbol.iterator;function $(r){return r===null||typeof r!="object"?null:(r=Q&&r[Q]||r["@@iterator"],typeof r=="function"?r:null)}var W=Symbol.for("react.client.reference");function X(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===W?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case m:return"Fragment";case b:return"Profiler";case y:return"StrictMode";case I:return"Suspense";case B:return"SuspenseList";case M:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case p:return"Portal";case T:return(r.displayName||"Context")+".Provider";case S:return(r._context.displayName||"Context")+".Consumer";case L:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case O:return a=r.displayName||null,a!==null?a:X(r.type)||"Memo";case _:a=r._payload,r=r._init;try{return X(r(a))}catch{}}return null}var et=Array.isArray,Y=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},Z=[],F=-1;function q(r){return{current:r}}function nt(r){0>F||(r.current=Z[F],Z[F]=null,F--)}function ot(r,a){F++,Z[F]=r.current,r.current=a}var Ct=q(null),St=q(null),Tt=q(null),Kt=q(null);function $t(r,a){switch(ot(Tt,a),ot(St,r),ot(Ct,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?Ap(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=Ap(a),r=gp(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}nt(Ct),ot(Ct,r)}function Vt(){nt(Ct),nt(St),nt(Tt)}function ne(r){r.memoizedState!==null&&ot(Kt,r);var a=Ct.current,h=gp(a,r.type);a!==h&&(ot(St,r),ot(Ct,h))}function fe(r){St.current===r&&(nt(Ct),nt(St)),Kt.current===r&&(nt(Kt),zl._currentValue=K)}var ae=Object.prototype.hasOwnProperty,xe=g.unstable_scheduleCallback,Ne=g.unstable_cancelCallback,Ve=g.unstable_shouldYield,we=g.unstable_requestPaint,Le=g.unstable_now,nn=g.unstable_getCurrentPriorityLevel,En=g.unstable_ImmediatePriority,cn=g.unstable_UserBlockingPriority,qe=g.unstable_NormalPriority,Ke=g.unstable_LowPriority,Dn=g.unstable_IdlePriority,an=g.log,ee=g.unstable_setDisableYieldValue,ge=null,le=null;function ke(r){if(typeof an=="function"&&ee(r),le&&typeof le.setStrictMode=="function")try{le.setStrictMode(ge,r)}catch{}}var It=Math.clz32?Math.clz32:Yn,ve=Math.log,Be=Math.LN2;function Yn(r){return r>>>=0,r===0?32:31-(ve(r)/Be|0)|0}var Ue=256,$e=4194304;function Dt(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Te(r,a,h){var v=r.pendingLanes;if(v===0)return 0;var C=0,w=r.suspendedLanes,H=r.pingedLanes;r=r.warmLanes;var tt=v&134217727;return tt!==0?(v=tt&~w,v!==0?C=Dt(v):(H&=tt,H!==0?C=Dt(H):h||(h=tt&~r,h!==0&&(C=Dt(h))))):(tt=v&~w,tt!==0?C=Dt(tt):H!==0?C=Dt(H):h||(h=v&~r,h!==0&&(C=Dt(h)))),C===0?0:a!==0&&a!==C&&(a&w)===0&&(w=C&-C,h=a&-a,w>=h||w===32&&(h&4194048)!==0)?a:C}function on(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function hn(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ie(){var r=Ue;return Ue<<=1,(Ue&4194048)===0&&(Ue=256),r}function Me(){var r=$e;return $e<<=1,($e&62914560)===0&&($e=4194304),r}function ye(r){for(var a=[],h=0;31>h;h++)a.push(r);return a}function Fe(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Xe(r,a,h,v,C,w){var H=r.pendingLanes;r.pendingLanes=h,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=h,r.entangledLanes&=h,r.errorRecoveryDisabledLanes&=h,r.shellSuspendCounter=0;var tt=r.entanglements,yt=r.expirationTimes,Pt=r.hiddenUpdates;for(h=H&~h;0<h;){var Jt=31-It(h),ce=1<<Jt;tt[Jt]=0,yt[Jt]=-1;var Ut=Pt[Jt];if(Ut!==null)for(Pt[Jt]=null,Jt=0;Jt<Ut.length;Jt++){var Qt=Ut[Jt];Qt!==null&&(Qt.lane&=-536870913)}h&=~ce}v!==0&&pn(r,v,0),w!==0&&C===0&&r.tag!==0&&(r.suspendedLanes|=w&~(H&~a))}function pn(r,a,h){r.pendingLanes|=a,r.suspendedLanes&=~a;var v=31-It(a);r.entangledLanes|=a,r.entanglements[v]=r.entanglements[v]|1073741824|h&4194090}function un(r,a){var h=r.entangledLanes|=a;for(r=r.entanglements;h;){var v=31-It(h),C=1<<v;C&a|r[v]&a&&(r[v]|=a),h&=~C}}function qt(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Re(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function ze(){var r=N.p;return r!==0?r:(r=window.event,r===void 0?32:_p(r.type))}function Pe(r,a){var h=N.p;try{return N.p=r,a()}finally{N.p=h}}var An=Math.random().toString(36).slice(2),sn="__reactFiber$"+An,Tn="__reactProps$"+An,$n="__reactContainer$"+An,or="__reactEvents$"+An,Qr="__reactListeners$"+An,ur="__reactHandles$"+An,kr="__reactResources$"+An,li="__reactMarker$"+An;function Rr(r){delete r[sn],delete r[Tn],delete r[or],delete r[Qr],delete r[ur]}function wr(r){var a=r[sn];if(a)return a;for(var h=r.parentNode;h;){if(a=h[$n]||h[sn]){if(h=a.alternate,a.child!==null||h!==null&&h.child!==null)for(r=yp(r);r!==null;){if(h=r[sn])return h;r=yp(r)}return a}r=h,h=r.parentNode}return null}function Br(r){if(r=r[sn]||r[$n]){var a=r.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return r}return null}function Yr(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(i(33))}function nr(r){var a=r[kr];return a||(a=r[kr]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function jn(r){r[li]=!0}var gi=new Set,Di={};function Ht(r,a){Yt(r,a),Yt(r+"Capture",a)}function Yt(r,a){for(Di[r]=a,r=0;r<a.length;r++)gi.add(a[r])}var pe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nn={},Xt={};function ar(r){return ae.call(Xt,r)?!0:ae.call(Nn,r)?!1:pe.test(r)?Xt[r]=!0:(Nn[r]=!0,!1)}function Qn(r,a,h){if(ar(a))if(h===null)r.removeAttribute(a);else{switch(typeof h){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var v=a.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+h)}}function _n(r,a,h){if(h===null)r.removeAttribute(a);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+h)}}function xt(r,a,h,v){if(v===null)r.removeAttribute(h);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(h);return}r.setAttributeNS(a,h,""+v)}}var Ie,Un;function en(r){if(Ie===void 0)try{throw Error()}catch(h){var a=h.stack.trim().match(/\n( *(at )?)/);Ie=a&&a[1]||"",Un=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ie+r+Un}var Ar=!1;function br(r,a){if(!r||Ar)return"";Ar=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(a){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(Qt){var Ut=Qt}Reflect.construct(r,[],ce)}else{try{ce.call()}catch(Qt){Ut=Qt}r.call(ce.prototype)}}else{try{throw Error()}catch(Qt){Ut=Qt}(ce=r())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(Qt){if(Qt&&Ut&&typeof Qt.stack=="string")return[Qt.stack,Ut.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var C=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");C&&C.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=v.DetermineComponentFrameRoot(),H=w[0],tt=w[1];if(H&&tt){var yt=H.split(`
`),Pt=tt.split(`
`);for(C=v=0;v<yt.length&&!yt[v].includes("DetermineComponentFrameRoot");)v++;for(;C<Pt.length&&!Pt[C].includes("DetermineComponentFrameRoot");)C++;if(v===yt.length||C===Pt.length)for(v=yt.length-1,C=Pt.length-1;1<=v&&0<=C&&yt[v]!==Pt[C];)C--;for(;1<=v&&0<=C;v--,C--)if(yt[v]!==Pt[C]){if(v!==1||C!==1)do if(v--,C--,0>C||yt[v]!==Pt[C]){var Jt=`
`+yt[v].replace(" at new "," at ");return r.displayName&&Jt.includes("<anonymous>")&&(Jt=Jt.replace("<anonymous>",r.displayName)),Jt}while(1<=v&&0<=C);break}}}finally{Ar=!1,Error.prepareStackTrace=h}return(h=r?r.displayName||r.name:"")?en(h):""}function ri(r){switch(r.tag){case 26:case 27:case 5:return en(r.type);case 16:return en("Lazy");case 13:return en("Suspense");case 19:return en("SuspenseList");case 0:case 15:return br(r.type,!1);case 11:return br(r.type.render,!1);case 1:return br(r.type,!0);case 31:return en("Activity");default:return""}}function $r(r){try{var a="";do a+=ri(r),r=r.return;while(r);return a}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}function Fn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function pi(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ui(r){var a=pi(r)?"checked":"value",h=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),v=""+r[a];if(!r.hasOwnProperty(a)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var C=h.get,w=h.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return C.call(this)},set:function(H){v=""+H,w.call(this,H)}}),Object.defineProperty(r,a,{enumerable:h.enumerable}),{getValue:function(){return v},setValue:function(H){v=""+H},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function jr(r){r._valueTracker||(r._valueTracker=Ui(r))}function ui(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var h=a.getValue(),v="";return r&&(v=pi(r)?r.checked?"true":"false":r.value),r=v,r!==h?(a.setValue(r),!0):!1}function Zi(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var za=/[\n"\\]/g;function Xr(r){return r.replace(za,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Fi(r,a,h,v,C,w,H,tt){r.name="",H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?r.type=H:r.removeAttribute("type"),a!=null?H==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+Fn(a)):r.value!==""+Fn(a)&&(r.value=""+Fn(a)):H!=="submit"&&H!=="reset"||r.removeAttribute("value"),a!=null?Ha(r,H,Fn(a)):h!=null?Ha(r,H,Fn(h)):v!=null&&r.removeAttribute("value"),C==null&&w!=null&&(r.defaultChecked=!!w),C!=null&&(r.checked=C&&typeof C!="function"&&typeof C!="symbol"),tt!=null&&typeof tt!="function"&&typeof tt!="symbol"&&typeof tt!="boolean"?r.name=""+Fn(tt):r.removeAttribute("name")}function Fs(r,a,h,v,C,w,H,tt){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(r.type=w),a!=null||h!=null){if(!(w!=="submit"&&w!=="reset"||a!=null))return;h=h!=null?""+Fn(h):"",a=a!=null?""+Fn(a):h,tt||a===r.value||(r.value=a),r.defaultValue=a}v=v??C,v=typeof v!="function"&&typeof v!="symbol"&&!!v,r.checked=tt?r.checked:!!v,r.defaultChecked=!!v,H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"&&(r.name=H)}function Ha(r,a,h){a==="number"&&Zi(r.ownerDocument)===r||r.defaultValue===""+h||(r.defaultValue=""+h)}function Sr(r,a,h,v){if(r=r.options,a){a={};for(var C=0;C<h.length;C++)a["$"+h[C]]=!0;for(h=0;h<r.length;h++)C=a.hasOwnProperty("$"+r[h].value),r[h].selected!==C&&(r[h].selected=C),C&&v&&(r[h].defaultSelected=!0)}else{for(h=""+Fn(h),a=null,C=0;C<r.length;C++){if(r[C].value===h){r[C].selected=!0,v&&(r[C].defaultSelected=!0);return}a!==null||r[C].disabled||(a=r[C])}a!==null&&(a.selected=!0)}}function Ya(r,a,h){if(a!=null&&(a=""+Fn(a),a!==r.value&&(r.value=a),h==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=h!=null?""+Fn(h):""}function Or(r,a,h,v){if(a==null){if(v!=null){if(h!=null)throw Error(i(92));if(et(v)){if(1<v.length)throw Error(i(93));v=v[0]}h=v}h==null&&(h=""),a=h}h=Fn(a),r.defaultValue=h,v=r.textContent,v===h&&v!==""&&v!==null&&(r.value=v)}function os(r,a){if(a){var h=r.firstChild;if(h&&h===r.lastChild&&h.nodeType===3){h.nodeValue=a;return}}r.textContent=a}var Eo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $a(r,a,h){var v=a.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?v?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":v?r.setProperty(a,h):typeof h!="number"||h===0||Eo.has(a)?a==="float"?r.cssFloat=h:r[a]=(""+h).trim():r[a]=h+"px"}function sa(r,a,h){if(a!=null&&typeof a!="object")throw Error(i(62));if(r=r.style,h!=null){for(var v in h)!h.hasOwnProperty(v)||a!=null&&a.hasOwnProperty(v)||(v.indexOf("--")===0?r.setProperty(v,""):v==="float"?r.cssFloat="":r[v]="");for(var C in a)v=a[C],a.hasOwnProperty(C)&&h[C]!==v&&$a(r,C,v)}else for(var w in a)a.hasOwnProperty(w)&&$a(r,w,a[w])}function Gs(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Va=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ki=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ci(r){return ki.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Qs=null;function xs(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var mi=null,cr=null;function Jn(r){var a=Br(r);if(a&&(r=a.stateNode)){var h=r[Tn]||null;t:switch(r=a.stateNode,a.type){case"input":if(Fi(r,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),a=h.name,h.type==="radio"&&a!=null){for(h=r;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+Xr(""+a)+'"][type="radio"]'),a=0;a<h.length;a++){var v=h[a];if(v!==r&&v.form===r.form){var C=v[Tn]||null;if(!C)throw Error(i(90));Fi(v,C.value,C.defaultValue,C.defaultValue,C.checked,C.defaultChecked,C.type,C.name)}}for(a=0;a<h.length;a++)v=h[a],v.form===r.form&&ui(v)}break t;case"textarea":Ya(r,h.value,h.defaultValue);break t;case"select":a=h.value,a!=null&&Sr(r,!!h.multiple,a,!1)}}}var aa=!1;function Si(r,a,h){if(aa)return r(a,h);aa=!0;try{var v=r(a);return v}finally{if(aa=!1,(mi!==null||cr!==null)&&(Hu(),mi&&(a=mi,r=cr,cr=mi=null,Jn(a),r)))for(a=0;a<r.length;a++)Jn(r[a])}}function wn(r,a){var h=r.stateNode;if(h===null)return null;var v=h[Tn]||null;if(v===null)return null;h=v[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(r=r.type,v=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!v;break t;default:r=!1}if(r)return null;if(h&&typeof h!="function")throw Error(i(231,a,typeof h));return h}var vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gi=!1;if(vi)try{var Ts={};Object.defineProperty(Ts,"passive",{get:function(){Gi=!0}}),window.addEventListener("test",Ts,Ts),window.removeEventListener("test",Ts,Ts)}catch{Gi=!1}var xi=null,Ka=null,js=null;function Co(){if(js)return js;var r,a=Ka,h=a.length,v,C="value"in xi?xi.value:xi.textContent,w=C.length;for(r=0;r<h&&a[r]===C[r];r++);var H=h-r;for(v=1;v<=H&&a[h-v]===C[w-v];v++);return js=C.slice(r,1<v?1-v:void 0)}function oa(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function la(){return!0}function ua(){return!1}function Zr(r){function a(h,v,C,w,H){this._reactName=h,this._targetInst=C,this.type=v,this.nativeEvent=w,this.target=H,this.currentTarget=null;for(var tt in r)r.hasOwnProperty(tt)&&(h=r[tt],this[tt]=h?h(w):w[tt]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?la:ua,this.isPropagationStopped=ua,this}return u(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=la)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=la)},persist:function(){},isPersistent:la}),a}var Ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zs=Zr(Ji),ls=u({},Ji,{view:0,detail:0}),Hs=Zr(ls),ca,Wa,us,Ti=u({},ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==us&&(us&&r.type==="mousemove"?(ca=r.screenX-us.screenX,Wa=r.screenY-us.screenY):Wa=ca=0,us=r),ca)},movementY:function(r){return"movementY"in r?r.movementY:Wa}}),Zn=Zr(Ti),So=u({},Ti,{dataTransfer:0}),fa=Zr(So),qa=u({},ls,{relatedTarget:0}),ws=Zr(qa),j=u({},Ji,{animationName:0,elapsedTime:0,pseudoElement:0}),J=Zr(j),pt=u({},Ji,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Et=Zr(pt),kt=u({},Ji,{data:0}),Lt=Zr(kt),jt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},se={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=vn[r])?!!a[r]:!1}function rr(){return Sn}var xr=u({},ls,{key:function(r){if(r.key){var a=jt[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=oa(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?se[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rr,charCode:function(r){return r.type==="keypress"?oa(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?oa(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),cs=Zr(xr),fs=u({},Ti,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yi=Zr(fs),Xa=u({},ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rr}),xo=Zr(Xa),To=u({},Ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),ou=Zr(To),Xc=u({},Ti,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Zc=Zr(Xc),Jc=u({},Ji,{newState:0,oldState:0}),Za=Zr(Jc),lu=[9,13,27,32],wo=vi&&"CompositionEvent"in window,Ja=null;vi&&"documentMode"in document&&(Ja=document.documentMode);var ds=vi&&"TextEvent"in window&&!Ja,Qi=vi&&(!wo||Ja&&8<Ja&&11>=Ja),uu=" ",Lo=!1;function cu(r,a){switch(r){case"keyup":return lu.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fu(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var da=!1;function dl(r,a){switch(r){case"compositionend":return fu(a);case"keypress":return a.which!==32?null:(Lo=!0,uu);case"textInput":return r=a.data,r===uu&&Lo?null:r;default:return null}}function hs(r,a){if(da)return r==="compositionend"||!wo&&cu(r,a)?(r=Co(),js=Ka=xi=null,da=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Qi&&a.locale!=="ko"?null:a.data;default:return null}}var tf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function du(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!tf[r.type]:a==="textarea"}function hl(r,a,h,v){mi?cr?cr.push(v):cr=[v]:mi=v,a=qu(a,"onChange"),0<a.length&&(h=new zs("onChange","change",null,h,v),r.push({event:h,listeners:a}))}var ir=null,ha=null;function ef(r){up(r,0)}function wi(r){var a=Yr(r);if(ui(a))return r}function Li(r,a){if(r==="change")return a}var to=!1;if(vi){var Al;if(vi){var bi="oninput"in document;if(!bi){var Ro=document.createElement("div");Ro.setAttribute("oninput","return;"),bi=typeof Ro.oninput=="function"}Al=bi}else Al=!1;to=Al&&(!document.documentMode||9<document.documentMode)}function hu(){ir&&(ir.detachEvent("onpropertychange",Au),ha=ir=null)}function Au(r){if(r.propertyName==="value"&&wi(ha)){var a=[];hl(a,ha,r,xs(r)),Si(ef,a)}}function nf(r,a,h){r==="focusin"?(hu(),ir=a,ha=h,ir.attachEvent("onpropertychange",Au)):r==="focusout"&&hu()}function rf(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return wi(ha)}function sf(r,a){if(r==="click")return wi(a)}function af(r,a){if(r==="input"||r==="change")return wi(a)}function of(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var Ri=typeof Object.is=="function"?Object.is:of;function eo(r,a){if(Ri(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var h=Object.keys(r),v=Object.keys(a);if(h.length!==v.length)return!1;for(v=0;v<h.length;v++){var C=h[v];if(!ae.call(a,C)||!Ri(r[C],a[C]))return!1}return!0}function gu(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function pu(r,a){var h=gu(r);r=0;for(var v;h;){if(h.nodeType===3){if(v=r+h.textContent.length,r<=a&&v>=a)return{node:h,offset:a-r};r=v}t:{for(;h;){if(h.nextSibling){h=h.nextSibling;break t}h=h.parentNode}h=void 0}h=gu(h)}}function mu(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?mu(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function vu(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=Zi(r.document);a instanceof r.HTMLIFrameElement;){try{var h=typeof a.contentWindow.location.href=="string"}catch{h=!1}if(h)r=a.contentWindow;else break;a=Zi(r.document)}return a}function gl(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var Io=vi&&"documentMode"in document&&11>=document.documentMode,ji=null,Aa=null,no=null,pl=!1;function R(r,a,h){var v=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;pl||ji==null||ji!==Zi(v)||(v=ji,"selectionStart"in v&&gl(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),no&&eo(no,v)||(no=v,v=qu(Aa,"onSelect"),0<v.length&&(a=new zs("onSelect","select",null,a,h),r.push({event:a,listeners:v}),a.target=ji)))}function x(r,a){var h={};return h[r.toLowerCase()]=a.toLowerCase(),h["Webkit"+r]="webkit"+a,h["Moz"+r]="moz"+a,h}var D={animationend:x("Animation","AnimationEnd"),animationiteration:x("Animation","AnimationIteration"),animationstart:x("Animation","AnimationStart"),transitionrun:x("Transition","TransitionRun"),transitionstart:x("Transition","TransitionStart"),transitioncancel:x("Transition","TransitionCancel"),transitionend:x("Transition","TransitionEnd")},k={},P={};vi&&(P=document.createElement("div").style,"AnimationEvent"in window||(delete D.animationend.animation,delete D.animationiteration.animation,delete D.animationstart.animation),"TransitionEvent"in window||delete D.transitionend.transition);function V(r){if(k[r])return k[r];if(!D[r])return r;var a=D[r],h;for(h in a)if(a.hasOwnProperty(h)&&h in P)return k[r]=a[h];return r}var z=V("animationend"),at=V("animationiteration"),rt=V("animationstart"),it=V("transitionrun"),bt=V("transitionstart"),lt=V("transitioncancel"),ct=V("transitionend"),ht=new Map,ut="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ut.push("scrollEnd");function st(r,a){ht.set(r,a),Ht(a,[r])}var gt=new WeakMap;function ft(r,a){if(typeof r=="object"&&r!==null){var h=gt.get(r);return h!==void 0?h:(a={value:r,source:a,stack:$r(a)},gt.set(r,a),a)}return{value:r,source:a,stack:$r(a)}}var mt=[],vt=0,At=0;function Nt(){for(var r=vt,a=At=vt=0;a<r;){var h=mt[a];mt[a++]=null;var v=mt[a];mt[a++]=null;var C=mt[a];mt[a++]=null;var w=mt[a];if(mt[a++]=null,v!==null&&C!==null){var H=v.pending;H===null?C.next=C:(C.next=H.next,H.next=C),v.pending=C}w!==0&&ue(h,C,w)}}function Zt(r,a,h,v){mt[vt++]=r,mt[vt++]=a,mt[vt++]=h,mt[vt++]=v,At|=v,r.lanes|=v,r=r.alternate,r!==null&&(r.lanes|=v)}function me(r,a,h,v){return Zt(r,a,h,v),de(r)}function Wt(r,a){return Zt(r,null,null,a),de(r)}function ue(r,a,h){r.lanes|=h;var v=r.alternate;v!==null&&(v.lanes|=h);for(var C=!1,w=r.return;w!==null;)w.childLanes|=h,v=w.alternate,v!==null&&(v.childLanes|=h),w.tag===22&&(r=w.stateNode,r===null||r._visibility&1||(C=!0)),r=w,w=w.return;return r.tag===3?(w=r.stateNode,C&&a!==null&&(C=31-It(h),r=w.hiddenUpdates,v=r[C],v===null?r[C]=[a]:v.push(a),a.lane=h|536870912),w):null}function de(r){if(50<Ml)throw Ml=0,nd=null,Error(i(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var Gt={};function zt(r,a,h,v){this.tag=r,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function oe(r,a,h,v){return new zt(r,a,h,v)}function he(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Se(r,a){var h=r.alternate;return h===null?(h=oe(r.tag,a,r.key,r.mode),h.elementType=r.elementType,h.type=r.type,h.stateNode=r.stateNode,h.alternate=r,r.alternate=h):(h.pendingProps=a,h.type=r.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=r.flags&65011712,h.childLanes=r.childLanes,h.lanes=r.lanes,h.child=r.child,h.memoizedProps=r.memoizedProps,h.memoizedState=r.memoizedState,h.updateQueue=r.updateQueue,a=r.dependencies,h.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},h.sibling=r.sibling,h.index=r.index,h.ref=r.ref,h.refCleanup=r.refCleanup,h}function Ee(r,a){r.flags&=65011714;var h=r.alternate;return h===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=h.childLanes,r.lanes=h.lanes,r.child=h.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=h.memoizedProps,r.memoizedState=h.memoizedState,r.updateQueue=h.updateQueue,r.type=h.type,a=h.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function Bt(r,a,h,v,C,w){var H=0;if(v=r,typeof r=="function")he(r)&&(H=1);else if(typeof r=="string")H=Wy(r,h,Ct.current)?26:r==="html"||r==="head"||r==="body"?27:5;else t:switch(r){case M:return r=oe(31,h,a,C),r.elementType=M,r.lanes=w,r;case m:return Ft(h.children,C,w,a);case y:H=8,C|=24;break;case b:return r=oe(12,h,a,C|2),r.elementType=b,r.lanes=w,r;case I:return r=oe(13,h,a,C),r.elementType=I,r.lanes=w,r;case B:return r=oe(19,h,a,C),r.elementType=B,r.lanes=w,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case E:case T:H=10;break t;case S:H=9;break t;case L:H=11;break t;case O:H=14;break t;case _:H=16,v=null;break t}H=29,h=Error(i(130,r===null?"null":typeof r,"")),v=null}return a=oe(H,h,a,C),a.elementType=r,a.type=v,a.lanes=w,a}function Ft(r,a,h,v){return r=oe(7,r,v,a),r.lanes=h,r}function Ae(r,a,h){return r=oe(6,r,null,a),r.lanes=h,r}function Ce(r,a,h){return a=oe(4,r.children!==null?r.children:[],r.key,a),a.lanes=h,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var Ge=[],be=0,Ye=null,Qe=0,De=[],mn=0,_e=null,He=1,gn="";function Ln(r,a){Ge[be++]=Qe,Ge[be++]=Ye,Ye=r,Qe=a}function kn(r,a,h){De[mn++]=He,De[mn++]=gn,De[mn++]=_e,_e=r;var v=He;r=gn;var C=32-It(v)-1;v&=~(1<<C),h+=1;var w=32-It(a)+C;if(30<w){var H=C-C%5;w=(v&(1<<H)-1).toString(32),v>>=H,C-=H,He=1<<32-It(a)+C|h<<C|v,gn=w+r}else He=1<<w|h<<C|v,gn=r}function Wn(r){r.return!==null&&(Ln(r,1),kn(r,1,0))}function ln(r){for(;r===Ye;)Ye=Ge[--be],Ge[be]=null,Qe=Ge[--be],Ge[be]=null;for(;r===_e;)_e=De[--mn],De[mn]=null,gn=De[--mn],De[mn]=null,He=De[--mn],De[mn]=null}var fn=null,bn=null,Ze=!1,Oe=null,Bn=!1,_r=Error(i(519));function Jr(r){var a=Error(i(418,""));throw Mn(ft(a,r)),_r}function As(r){var a=r.stateNode,h=r.type,v=r.memoizedProps;switch(a[sn]=r,a[Tn]=v,h){case"dialog":Xn("cancel",a),Xn("close",a);break;case"iframe":case"object":case"embed":Xn("load",a);break;case"video":case"audio":for(h=0;h<Nl.length;h++)Xn(Nl[h],a);break;case"source":Xn("error",a);break;case"img":case"image":case"link":Xn("error",a),Xn("load",a);break;case"details":Xn("toggle",a);break;case"input":Xn("invalid",a),Fs(a,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0),jr(a);break;case"select":Xn("invalid",a);break;case"textarea":Xn("invalid",a),Or(a,v.value,v.defaultValue,v.children),jr(a)}h=v.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||a.textContent===""+h||v.suppressHydrationWarning===!0||hp(a.textContent,h)?(v.popover!=null&&(Xn("beforetoggle",a),Xn("toggle",a)),v.onScroll!=null&&Xn("scroll",a),v.onScrollEnd!=null&&Xn("scrollend",a),v.onClick!=null&&(a.onclick=Xu),a=!0):a=!1,a||Jr(r)}function Ys(r){for(fn=r.return;fn;)switch(fn.tag){case 5:case 13:Bn=!1;return;case 27:case 3:Bn=!0;return;default:fn=fn.return}}function gs(r){if(r!==fn)return!1;if(!Ze)return Ys(r),Ze=!0,!1;var a=r.tag,h;if((h=a!==3&&a!==27)&&((h=a===5)&&(h=r.type,h=!(h!=="form"&&h!=="button")||vd(r.type,r.memoizedProps)),h=!h),h&&bn&&Jr(r),Ys(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));t:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8)if(h=r.data,h==="/$"){if(a===0){bn=bs(r.nextSibling);break t}a--}else h!=="$"&&h!=="$!"&&h!=="$?"||a++;r=r.nextSibling}bn=null}}else a===27?(a=bn,ka(r.type)?(r=Cd,Cd=null,bn=r):bn=a):bn=fn?bs(r.stateNode.nextSibling):null;return!0}function ga(){bn=fn=null,Ze=!1}function We(){var r=Oe;return r!==null&&(_i===null?_i=r:_i.push.apply(_i,r),Oe=null),r}function Mn(r){Oe===null?Oe=[r]:Oe.push(r)}var yn=q(null),tr=null,lr=null;function Ei(r,a,h){ot(yn,a._currentValue),a._currentValue=h}function ps(r){r._currentValue=yn.current,nt(yn)}function ro(r,a,h){for(;r!==null;){var v=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,v!==null&&(v.childLanes|=a)):v!==null&&(v.childLanes&a)!==a&&(v.childLanes|=a),r===h)break;r=r.return}}function Do(r,a,h,v){var C=r.child;for(C!==null&&(C.return=r);C!==null;){var w=C.dependencies;if(w!==null){var H=C.child;w=w.firstContext;t:for(;w!==null;){var tt=w;w=C;for(var yt=0;yt<a.length;yt++)if(tt.context===a[yt]){w.lanes|=h,tt=w.alternate,tt!==null&&(tt.lanes|=h),ro(w.return,h,r),v||(H=null);break t}w=tt.next}}else if(C.tag===18){if(H=C.return,H===null)throw Error(i(341));H.lanes|=h,w=H.alternate,w!==null&&(w.lanes|=h),ro(H,h,r),H=null}else H=C.child;if(H!==null)H.return=C;else for(H=C;H!==null;){if(H===r){H=null;break}if(C=H.sibling,C!==null){C.return=H.return,H=C;break}H=H.return}C=H}}function io(r,a,h,v){r=null;for(var C=a,w=!1;C!==null;){if(!w){if((C.flags&524288)!==0)w=!0;else if((C.flags&262144)!==0)break}if(C.tag===10){var H=C.alternate;if(H===null)throw Error(i(387));if(H=H.memoizedProps,H!==null){var tt=C.type;Ri(C.pendingProps.value,H.value)||(r!==null?r.push(tt):r=[tt])}}else if(C===Kt.current){if(H=C.alternate,H===null)throw Error(i(387));H.memoizedState.memoizedState!==C.memoizedState.memoizedState&&(r!==null?r.push(zl):r=[zl])}C=C.return}r!==null&&Do(a,r,h,v),a.flags|=262144}function ko(r){for(r=r.firstContext;r!==null;){if(!Ri(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function ts(r){tr=r,lr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Vr(r){return so(tr,r)}function ms(r,a){return tr===null&&ts(r),so(r,a)}function so(r,a){var h=a._currentValue;if(a={context:a,memoizedValue:h,next:null},lr===null){if(r===null)throw Error(i(308));lr=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else lr=lr.next=a;return h}var $s=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(h,v){r.push(v)}};this.abort=function(){a.aborted=!0,r.forEach(function(h){return h()})}},Bo=g.unstable_scheduleCallback,yu=g.unstable_NormalPriority,Nr={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Oo(){return{controller:new $s,data:new Map,refCount:0}}function ao(r){r.refCount--,r.refCount===0&&Bo(yu,function(){r.controller.abort()})}var oo=null,lo=0,pa=0,vs=null;function Xv(r,a){if(oo===null){var h=oo=[];lo=0,pa=ud(),vs={status:"pending",value:void 0,then:function(v){h.push(v)}}}return lo++,a.then(tA,tA),a}function tA(){if(--lo===0&&oo!==null){vs!==null&&(vs.status="fulfilled");var r=oo;oo=null,pa=0,vs=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function Zv(r,a){var h=[],v={status:"pending",value:null,reason:null,then:function(C){h.push(C)}};return r.then(function(){v.status="fulfilled",v.value=a;for(var C=0;C<h.length;C++)(0,h[C])(a)},function(C){for(v.status="rejected",v.reason=C,C=0;C<h.length;C++)(0,h[C])(void 0)}),v}var eA=Y.S;Y.S=function(r,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&Xv(r,a),eA!==null&&eA(r,a)};var uo=q(null);function lf(){var r=uo.current;return r!==null?r:Tr.pooledCache}function bu(r,a){a===null?ot(uo,uo.current):ot(uo,a.pool)}function nA(){var r=lf();return r===null?null:{parent:Nr._currentValue,pool:r}}var ml=Error(i(460)),rA=Error(i(474)),Eu=Error(i(542)),uf={then:function(){}};function iA(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Cu(){}function sA(r,a,h){switch(h=r[h],h===void 0?r.push(a):h!==a&&(a.then(Cu,Cu),a=h),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,oA(r),r;default:if(typeof a.status=="string")a.then(Cu,Cu);else{if(r=Tr,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=a,r.status="pending",r.then(function(v){if(a.status==="pending"){var C=a;C.status="fulfilled",C.value=v}},function(v){if(a.status==="pending"){var C=a;C.status="rejected",C.reason=v}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,oA(r),r}throw vl=a,ml}}var vl=null;function aA(){if(vl===null)throw Error(i(459));var r=vl;return vl=null,r}function oA(r){if(r===ml||r===Eu)throw Error(i(483))}var ma=!1;function cf(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ff(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function va(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ya(r,a,h){var v=r.updateQueue;if(v===null)return null;if(v=v.shared,(fr&2)!==0){var C=v.pending;return C===null?a.next=a:(a.next=C.next,C.next=a),v.pending=a,a=de(r),ue(r,null,h),a}return Zt(r,v,a,h),de(r)}function yl(r,a,h){if(a=a.updateQueue,a!==null&&(a=a.shared,(h&4194048)!==0)){var v=a.lanes;v&=r.pendingLanes,h|=v,a.lanes=h,un(r,h)}}function df(r,a){var h=r.updateQueue,v=r.alternate;if(v!==null&&(v=v.updateQueue,h===v)){var C=null,w=null;if(h=h.firstBaseUpdate,h!==null){do{var H={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};w===null?C=w=H:w=w.next=H,h=h.next}while(h!==null);w===null?C=w=a:w=w.next=a}else C=w=a;h={baseState:v.baseState,firstBaseUpdate:C,lastBaseUpdate:w,shared:v.shared,callbacks:v.callbacks},r.updateQueue=h;return}r=h.lastBaseUpdate,r===null?h.firstBaseUpdate=a:r.next=a,h.lastBaseUpdate=a}var hf=!1;function bl(){if(hf){var r=vs;if(r!==null)throw r}}function El(r,a,h,v){hf=!1;var C=r.updateQueue;ma=!1;var w=C.firstBaseUpdate,H=C.lastBaseUpdate,tt=C.shared.pending;if(tt!==null){C.shared.pending=null;var yt=tt,Pt=yt.next;yt.next=null,H===null?w=Pt:H.next=Pt,H=yt;var Jt=r.alternate;Jt!==null&&(Jt=Jt.updateQueue,tt=Jt.lastBaseUpdate,tt!==H&&(tt===null?Jt.firstBaseUpdate=Pt:tt.next=Pt,Jt.lastBaseUpdate=yt))}if(w!==null){var ce=C.baseState;H=0,Jt=Pt=yt=null,tt=w;do{var Ut=tt.lane&-536870913,Qt=Ut!==tt.lane;if(Qt?(er&Ut)===Ut:(v&Ut)===Ut){Ut!==0&&Ut===pa&&(hf=!0),Jt!==null&&(Jt=Jt.next={lane:0,tag:tt.tag,payload:tt.payload,callback:null,next:null});t:{var Rn=r,Cn=tt;Ut=a;var mr=h;switch(Cn.tag){case 1:if(Rn=Cn.payload,typeof Rn=="function"){ce=Rn.call(mr,ce,Ut);break t}ce=Rn;break t;case 3:Rn.flags=Rn.flags&-65537|128;case 0:if(Rn=Cn.payload,Ut=typeof Rn=="function"?Rn.call(mr,ce,Ut):Rn,Ut==null)break t;ce=u({},ce,Ut);break t;case 2:ma=!0}}Ut=tt.callback,Ut!==null&&(r.flags|=64,Qt&&(r.flags|=8192),Qt=C.callbacks,Qt===null?C.callbacks=[Ut]:Qt.push(Ut))}else Qt={lane:Ut,tag:tt.tag,payload:tt.payload,callback:tt.callback,next:null},Jt===null?(Pt=Jt=Qt,yt=ce):Jt=Jt.next=Qt,H|=Ut;if(tt=tt.next,tt===null){if(tt=C.shared.pending,tt===null)break;Qt=tt,tt=Qt.next,Qt.next=null,C.lastBaseUpdate=Qt,C.shared.pending=null}}while(!0);Jt===null&&(yt=ce),C.baseState=yt,C.firstBaseUpdate=Pt,C.lastBaseUpdate=Jt,w===null&&(C.shared.lanes=0),La|=H,r.lanes=H,r.memoizedState=ce}}function lA(r,a){if(typeof r!="function")throw Error(i(191,r));r.call(a)}function uA(r,a){var h=r.callbacks;if(h!==null)for(r.callbacks=null,r=0;r<h.length;r++)lA(h[r],a)}var _o=q(null),Su=q(0);function cA(r,a){r=Js,ot(Su,r),ot(_o,a),Js=r|a.baseLanes}function Af(){ot(Su,Js),ot(_o,_o.current)}function gf(){Js=Su.current,nt(_o),nt(Su)}var ba=0,zn=null,gr=null,Kr=null,xu=!1,Mo=!1,co=!1,Tu=0,Cl=0,Po=null,Jv=0;function zr(){throw Error(i(321))}function pf(r,a){if(a===null)return!1;for(var h=0;h<a.length&&h<r.length;h++)if(!Ri(r[h],a[h]))return!1;return!0}function mf(r,a,h,v,C,w){return ba=w,zn=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Y.H=r===null||r.memoizedState===null?VA:KA,co=!1,w=h(v,C),co=!1,Mo&&(w=dA(a,h,v,C)),fA(r),w}function fA(r){Y.H=ku;var a=gr!==null&&gr.next!==null;if(ba=0,Kr=gr=zn=null,xu=!1,Cl=0,Po=null,a)throw Error(i(300));r===null||ii||(r=r.dependencies,r!==null&&ko(r)&&(ii=!0))}function dA(r,a,h,v){zn=r;var C=0;do{if(Mo&&(Po=null),Cl=0,Mo=!1,25<=C)throw Error(i(301));if(C+=1,Kr=gr=null,r.updateQueue!=null){var w=r.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}Y.H=ay,w=a(h,v)}while(Mo);return w}function ty(){var r=Y.H,a=r.useState()[0];return a=typeof a.then=="function"?Sl(a):a,r=r.useState()[0],(gr!==null?gr.memoizedState:null)!==r&&(zn.flags|=1024),a}function vf(){var r=Tu!==0;return Tu=0,r}function yf(r,a,h){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~h}function bf(r){if(xu){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}xu=!1}ba=0,Kr=gr=zn=null,Mo=!1,Cl=Tu=0,Po=null}function Bi(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kr===null?zn.memoizedState=Kr=r:Kr=Kr.next=r,Kr}function Wr(){if(gr===null){var r=zn.alternate;r=r!==null?r.memoizedState:null}else r=gr.next;var a=Kr===null?zn.memoizedState:Kr.next;if(a!==null)Kr=a,gr=r;else{if(r===null)throw zn.alternate===null?Error(i(467)):Error(i(310));gr=r,r={memoizedState:gr.memoizedState,baseState:gr.baseState,baseQueue:gr.baseQueue,queue:gr.queue,next:null},Kr===null?zn.memoizedState=Kr=r:Kr=Kr.next=r}return Kr}function Ef(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Sl(r){var a=Cl;return Cl+=1,Po===null&&(Po=[]),r=sA(Po,r,a),a=zn,(Kr===null?a.memoizedState:Kr.next)===null&&(a=a.alternate,Y.H=a===null||a.memoizedState===null?VA:KA),r}function wu(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Sl(r);if(r.$$typeof===T)return Vr(r)}throw Error(i(438,String(r)))}function Cf(r){var a=null,h=zn.updateQueue;if(h!==null&&(a=h.memoCache),a==null){var v=zn.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(a={data:v.data.map(function(C){return C.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),h===null&&(h=Ef(),zn.updateQueue=h),h.memoCache=a,h=a.data[a.index],h===void 0)for(h=a.data[a.index]=Array(r),v=0;v<r;v++)h[v]=U;return a.index++,h}function Vs(r,a){return typeof a=="function"?a(r):a}function Lu(r){var a=Wr();return Sf(a,gr,r)}function Sf(r,a,h){var v=r.queue;if(v===null)throw Error(i(311));v.lastRenderedReducer=h;var C=r.baseQueue,w=v.pending;if(w!==null){if(C!==null){var H=C.next;C.next=w.next,w.next=H}a.baseQueue=C=w,v.pending=null}if(w=r.baseState,C===null)r.memoizedState=w;else{a=C.next;var tt=H=null,yt=null,Pt=a,Jt=!1;do{var ce=Pt.lane&-536870913;if(ce!==Pt.lane?(er&ce)===ce:(ba&ce)===ce){var Ut=Pt.revertLane;if(Ut===0)yt!==null&&(yt=yt.next={lane:0,revertLane:0,action:Pt.action,hasEagerState:Pt.hasEagerState,eagerState:Pt.eagerState,next:null}),ce===pa&&(Jt=!0);else if((ba&Ut)===Ut){Pt=Pt.next,Ut===pa&&(Jt=!0);continue}else ce={lane:0,revertLane:Pt.revertLane,action:Pt.action,hasEagerState:Pt.hasEagerState,eagerState:Pt.eagerState,next:null},yt===null?(tt=yt=ce,H=w):yt=yt.next=ce,zn.lanes|=Ut,La|=Ut;ce=Pt.action,co&&h(w,ce),w=Pt.hasEagerState?Pt.eagerState:h(w,ce)}else Ut={lane:ce,revertLane:Pt.revertLane,action:Pt.action,hasEagerState:Pt.hasEagerState,eagerState:Pt.eagerState,next:null},yt===null?(tt=yt=Ut,H=w):yt=yt.next=Ut,zn.lanes|=ce,La|=ce;Pt=Pt.next}while(Pt!==null&&Pt!==a);if(yt===null?H=w:yt.next=tt,!Ri(w,r.memoizedState)&&(ii=!0,Jt&&(h=vs,h!==null)))throw h;r.memoizedState=w,r.baseState=H,r.baseQueue=yt,v.lastRenderedState=w}return C===null&&(v.lanes=0),[r.memoizedState,v.dispatch]}function xf(r){var a=Wr(),h=a.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=r;var v=h.dispatch,C=h.pending,w=a.memoizedState;if(C!==null){h.pending=null;var H=C=C.next;do w=r(w,H.action),H=H.next;while(H!==C);Ri(w,a.memoizedState)||(ii=!0),a.memoizedState=w,a.baseQueue===null&&(a.baseState=w),h.lastRenderedState=w}return[w,v]}function hA(r,a,h){var v=zn,C=Wr(),w=Ze;if(w){if(h===void 0)throw Error(i(407));h=h()}else h=a();var H=!Ri((gr||C).memoizedState,h);H&&(C.memoizedState=h,ii=!0),C=C.queue;var tt=pA.bind(null,v,C,r);if(xl(2048,8,tt,[r]),C.getSnapshot!==a||H||Kr!==null&&Kr.memoizedState.tag&1){if(v.flags|=2048,No(9,Ru(),gA.bind(null,v,C,h,a),null),Tr===null)throw Error(i(349));w||(ba&124)!==0||AA(v,a,h)}return h}function AA(r,a,h){r.flags|=16384,r={getSnapshot:a,value:h},a=zn.updateQueue,a===null?(a=Ef(),zn.updateQueue=a,a.stores=[r]):(h=a.stores,h===null?a.stores=[r]:h.push(r))}function gA(r,a,h,v){a.value=h,a.getSnapshot=v,mA(a)&&vA(r)}function pA(r,a,h){return h(function(){mA(a)&&vA(r)})}function mA(r){var a=r.getSnapshot;r=r.value;try{var h=a();return!Ri(r,h)}catch{return!0}}function vA(r){var a=Wt(r,2);a!==null&&Vi(a,r,2)}function Tf(r){var a=Bi();if(typeof r=="function"){var h=r;if(r=h(),co){ke(!0);try{h()}finally{ke(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:r},a}function yA(r,a,h,v){return r.baseState=h,Sf(r,gr,typeof v=="function"?v:Vs)}function ey(r,a,h,v,C){if(Du(r))throw Error(i(485));if(r=a.action,r!==null){var w={payload:C,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(H){w.listeners.push(H)}};Y.T!==null?h(!0):w.isTransition=!1,v(w),h=a.pending,h===null?(w.next=a.pending=w,bA(a,w)):(w.next=h.next,a.pending=h.next=w)}}function bA(r,a){var h=a.action,v=a.payload,C=r.state;if(a.isTransition){var w=Y.T,H={};Y.T=H;try{var tt=h(C,v),yt=Y.S;yt!==null&&yt(H,tt),EA(r,a,tt)}catch(Pt){wf(r,a,Pt)}finally{Y.T=w}}else try{w=h(C,v),EA(r,a,w)}catch(Pt){wf(r,a,Pt)}}function EA(r,a,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(v){CA(r,a,v)},function(v){return wf(r,a,v)}):CA(r,a,h)}function CA(r,a,h){a.status="fulfilled",a.value=h,SA(a),r.state=h,a=r.pending,a!==null&&(h=a.next,h===a?r.pending=null:(h=h.next,a.next=h,bA(r,h)))}function wf(r,a,h){var v=r.pending;if(r.pending=null,v!==null){v=v.next;do a.status="rejected",a.reason=h,SA(a),a=a.next;while(a!==v)}r.action=null}function SA(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function xA(r,a){return a}function TA(r,a){if(Ze){var h=Tr.formState;if(h!==null){t:{var v=zn;if(Ze){if(bn){e:{for(var C=bn,w=Bn;C.nodeType!==8;){if(!w){C=null;break e}if(C=bs(C.nextSibling),C===null){C=null;break e}}w=C.data,C=w==="F!"||w==="F"?C:null}if(C){bn=bs(C.nextSibling),v=C.data==="F!";break t}}Jr(v)}v=!1}v&&(a=h[0])}}return h=Bi(),h.memoizedState=h.baseState=a,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xA,lastRenderedState:a},h.queue=v,h=HA.bind(null,zn,v),v.dispatch=h,v=Tf(!1),w=kf.bind(null,zn,!1,v.queue),v=Bi(),C={state:a,dispatch:null,action:r,pending:null},v.queue=C,h=ey.bind(null,zn,C,w,h),C.dispatch=h,v.memoizedState=r,[a,h,!1]}function wA(r){var a=Wr();return LA(a,gr,r)}function LA(r,a,h){if(a=Sf(r,a,xA)[0],r=Lu(Vs)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var v=Sl(a)}catch(H){throw H===ml?Eu:H}else v=a;a=Wr();var C=a.queue,w=C.dispatch;return h!==a.memoizedState&&(zn.flags|=2048,No(9,Ru(),ny.bind(null,C,h),null)),[v,w,r]}function ny(r,a){r.action=a}function RA(r){var a=Wr(),h=gr;if(h!==null)return LA(a,h,r);Wr(),a=a.memoizedState,h=Wr();var v=h.queue.dispatch;return h.memoizedState=r,[a,v,!1]}function No(r,a,h,v){return r={tag:r,create:h,deps:v,inst:a,next:null},a=zn.updateQueue,a===null&&(a=Ef(),zn.updateQueue=a),h=a.lastEffect,h===null?a.lastEffect=r.next=r:(v=h.next,h.next=r,r.next=v,a.lastEffect=r),r}function Ru(){return{destroy:void 0,resource:void 0}}function IA(){return Wr().memoizedState}function Iu(r,a,h,v){var C=Bi();v=v===void 0?null:v,zn.flags|=r,C.memoizedState=No(1|a,Ru(),h,v)}function xl(r,a,h,v){var C=Wr();v=v===void 0?null:v;var w=C.memoizedState.inst;gr!==null&&v!==null&&pf(v,gr.memoizedState.deps)?C.memoizedState=No(a,w,h,v):(zn.flags|=r,C.memoizedState=No(1|a,w,h,v))}function DA(r,a){Iu(8390656,8,r,a)}function kA(r,a){xl(2048,8,r,a)}function BA(r,a){return xl(4,2,r,a)}function OA(r,a){return xl(4,4,r,a)}function _A(r,a){if(typeof a=="function"){r=r();var h=a(r);return function(){typeof h=="function"?h():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function MA(r,a,h){h=h!=null?h.concat([r]):null,xl(4,4,_A.bind(null,a,r),h)}function Lf(){}function PA(r,a){var h=Wr();a=a===void 0?null:a;var v=h.memoizedState;return a!==null&&pf(a,v[1])?v[0]:(h.memoizedState=[r,a],r)}function NA(r,a){var h=Wr();a=a===void 0?null:a;var v=h.memoizedState;if(a!==null&&pf(a,v[1]))return v[0];if(v=r(),co){ke(!0);try{r()}finally{ke(!1)}}return h.memoizedState=[v,a],v}function Rf(r,a,h){return h===void 0||(ba&1073741824)!==0?r.memoizedState=a:(r.memoizedState=h,r=Gg(),zn.lanes|=r,La|=r,h)}function UA(r,a,h,v){return Ri(h,a)?h:_o.current!==null?(r=Rf(r,h,v),Ri(r,a)||(ii=!0),r):(ba&42)===0?(ii=!0,r.memoizedState=h):(r=Gg(),zn.lanes|=r,La|=r,a)}function FA(r,a,h,v,C){var w=N.p;N.p=w!==0&&8>w?w:8;var H=Y.T,tt={};Y.T=tt,kf(r,!1,a,h);try{var yt=C(),Pt=Y.S;if(Pt!==null&&Pt(tt,yt),yt!==null&&typeof yt=="object"&&typeof yt.then=="function"){var Jt=Zv(yt,v);Tl(r,a,Jt,$i(r))}else Tl(r,a,v,$i(r))}catch(ce){Tl(r,a,{then:function(){},status:"rejected",reason:ce},$i())}finally{N.p=w,Y.T=H}}function ry(){}function If(r,a,h,v){if(r.tag!==5)throw Error(i(476));var C=GA(r).queue;FA(r,C,a,K,h===null?ry:function(){return QA(r),h(v)})}function GA(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:K},next:null};var h={};return a.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:h},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function QA(r){var a=GA(r).next.queue;Tl(r,a,{},$i())}function Df(){return Vr(zl)}function jA(){return Wr().memoizedState}function zA(){return Wr().memoizedState}function iy(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var h=$i();r=va(h);var v=ya(a,r,h);v!==null&&(Vi(v,a,h),yl(v,a,h)),a={cache:Oo()},r.payload=a;return}a=a.return}}function sy(r,a,h){var v=$i();h={lane:v,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null},Du(r)?YA(a,h):(h=me(r,a,h,v),h!==null&&(Vi(h,r,v),$A(h,a,v)))}function HA(r,a,h){var v=$i();Tl(r,a,h,v)}function Tl(r,a,h,v){var C={lane:v,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null};if(Du(r))YA(a,C);else{var w=r.alternate;if(r.lanes===0&&(w===null||w.lanes===0)&&(w=a.lastRenderedReducer,w!==null))try{var H=a.lastRenderedState,tt=w(H,h);if(C.hasEagerState=!0,C.eagerState=tt,Ri(tt,H))return Zt(r,a,C,0),Tr===null&&Nt(),!1}catch{}finally{}if(h=me(r,a,C,v),h!==null)return Vi(h,r,v),$A(h,a,v),!0}return!1}function kf(r,a,h,v){if(v={lane:2,revertLane:ud(),action:v,hasEagerState:!1,eagerState:null,next:null},Du(r)){if(a)throw Error(i(479))}else a=me(r,h,v,2),a!==null&&Vi(a,r,2)}function Du(r){var a=r.alternate;return r===zn||a!==null&&a===zn}function YA(r,a){Mo=xu=!0;var h=r.pending;h===null?a.next=a:(a.next=h.next,h.next=a),r.pending=a}function $A(r,a,h){if((h&4194048)!==0){var v=a.lanes;v&=r.pendingLanes,h|=v,a.lanes=h,un(r,h)}}var ku={readContext:Vr,use:wu,useCallback:zr,useContext:zr,useEffect:zr,useImperativeHandle:zr,useLayoutEffect:zr,useInsertionEffect:zr,useMemo:zr,useReducer:zr,useRef:zr,useState:zr,useDebugValue:zr,useDeferredValue:zr,useTransition:zr,useSyncExternalStore:zr,useId:zr,useHostTransitionStatus:zr,useFormState:zr,useActionState:zr,useOptimistic:zr,useMemoCache:zr,useCacheRefresh:zr},VA={readContext:Vr,use:wu,useCallback:function(r,a){return Bi().memoizedState=[r,a===void 0?null:a],r},useContext:Vr,useEffect:DA,useImperativeHandle:function(r,a,h){h=h!=null?h.concat([r]):null,Iu(4194308,4,_A.bind(null,a,r),h)},useLayoutEffect:function(r,a){return Iu(4194308,4,r,a)},useInsertionEffect:function(r,a){Iu(4,2,r,a)},useMemo:function(r,a){var h=Bi();a=a===void 0?null:a;var v=r();if(co){ke(!0);try{r()}finally{ke(!1)}}return h.memoizedState=[v,a],v},useReducer:function(r,a,h){var v=Bi();if(h!==void 0){var C=h(a);if(co){ke(!0);try{h(a)}finally{ke(!1)}}}else C=a;return v.memoizedState=v.baseState=C,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:C},v.queue=r,r=r.dispatch=sy.bind(null,zn,r),[v.memoizedState,r]},useRef:function(r){var a=Bi();return r={current:r},a.memoizedState=r},useState:function(r){r=Tf(r);var a=r.queue,h=HA.bind(null,zn,a);return a.dispatch=h,[r.memoizedState,h]},useDebugValue:Lf,useDeferredValue:function(r,a){var h=Bi();return Rf(h,r,a)},useTransition:function(){var r=Tf(!1);return r=FA.bind(null,zn,r.queue,!0,!1),Bi().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,h){var v=zn,C=Bi();if(Ze){if(h===void 0)throw Error(i(407));h=h()}else{if(h=a(),Tr===null)throw Error(i(349));(er&124)!==0||AA(v,a,h)}C.memoizedState=h;var w={value:h,getSnapshot:a};return C.queue=w,DA(pA.bind(null,v,w,r),[r]),v.flags|=2048,No(9,Ru(),gA.bind(null,v,w,h,a),null),h},useId:function(){var r=Bi(),a=Tr.identifierPrefix;if(Ze){var h=gn,v=He;h=(v&~(1<<32-It(v)-1)).toString(32)+h,a=""+a+"R"+h,h=Tu++,0<h&&(a+="H"+h.toString(32)),a+=""}else h=Jv++,a=""+a+"r"+h.toString(32)+"";return r.memoizedState=a},useHostTransitionStatus:Df,useFormState:TA,useActionState:TA,useOptimistic:function(r){var a=Bi();a.memoizedState=a.baseState=r;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=h,a=kf.bind(null,zn,!0,h),h.dispatch=a,[r,a]},useMemoCache:Cf,useCacheRefresh:function(){return Bi().memoizedState=iy.bind(null,zn)}},KA={readContext:Vr,use:wu,useCallback:PA,useContext:Vr,useEffect:kA,useImperativeHandle:MA,useInsertionEffect:BA,useLayoutEffect:OA,useMemo:NA,useReducer:Lu,useRef:IA,useState:function(){return Lu(Vs)},useDebugValue:Lf,useDeferredValue:function(r,a){var h=Wr();return UA(h,gr.memoizedState,r,a)},useTransition:function(){var r=Lu(Vs)[0],a=Wr().memoizedState;return[typeof r=="boolean"?r:Sl(r),a]},useSyncExternalStore:hA,useId:jA,useHostTransitionStatus:Df,useFormState:wA,useActionState:wA,useOptimistic:function(r,a){var h=Wr();return yA(h,gr,r,a)},useMemoCache:Cf,useCacheRefresh:zA},ay={readContext:Vr,use:wu,useCallback:PA,useContext:Vr,useEffect:kA,useImperativeHandle:MA,useInsertionEffect:BA,useLayoutEffect:OA,useMemo:NA,useReducer:xf,useRef:IA,useState:function(){return xf(Vs)},useDebugValue:Lf,useDeferredValue:function(r,a){var h=Wr();return gr===null?Rf(h,r,a):UA(h,gr.memoizedState,r,a)},useTransition:function(){var r=xf(Vs)[0],a=Wr().memoizedState;return[typeof r=="boolean"?r:Sl(r),a]},useSyncExternalStore:hA,useId:jA,useHostTransitionStatus:Df,useFormState:RA,useActionState:RA,useOptimistic:function(r,a){var h=Wr();return gr!==null?yA(h,gr,r,a):(h.baseState=r,[r,h.queue.dispatch])},useMemoCache:Cf,useCacheRefresh:zA},Uo=null,wl=0;function Bu(r){var a=wl;return wl+=1,Uo===null&&(Uo=[]),sA(Uo,r,a)}function Ll(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function Ou(r,a){throw a.$$typeof===f?Error(i(525)):(r=Object.prototype.toString.call(a),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function WA(r){var a=r._init;return a(r._payload)}function qA(r){function a(Rt,wt){if(r){var Mt=Rt.deletions;Mt===null?(Rt.deletions=[wt],Rt.flags|=16):Mt.push(wt)}}function h(Rt,wt){if(!r)return null;for(;wt!==null;)a(Rt,wt),wt=wt.sibling;return null}function v(Rt){for(var wt=new Map;Rt!==null;)Rt.key!==null?wt.set(Rt.key,Rt):wt.set(Rt.index,Rt),Rt=Rt.sibling;return wt}function C(Rt,wt){return Rt=Se(Rt,wt),Rt.index=0,Rt.sibling=null,Rt}function w(Rt,wt,Mt){return Rt.index=Mt,r?(Mt=Rt.alternate,Mt!==null?(Mt=Mt.index,Mt<wt?(Rt.flags|=67108866,wt):Mt):(Rt.flags|=67108866,wt)):(Rt.flags|=1048576,wt)}function H(Rt){return r&&Rt.alternate===null&&(Rt.flags|=67108866),Rt}function tt(Rt,wt,Mt,re){return wt===null||wt.tag!==6?(wt=Ae(Mt,Rt.mode,re),wt.return=Rt,wt):(wt=C(wt,Mt),wt.return=Rt,wt)}function yt(Rt,wt,Mt,re){var tn=Mt.type;return tn===m?Jt(Rt,wt,Mt.props.children,re,Mt.key):wt!==null&&(wt.elementType===tn||typeof tn=="object"&&tn!==null&&tn.$$typeof===_&&WA(tn)===wt.type)?(wt=C(wt,Mt.props),Ll(wt,Mt),wt.return=Rt,wt):(wt=Bt(Mt.type,Mt.key,Mt.props,null,Rt.mode,re),Ll(wt,Mt),wt.return=Rt,wt)}function Pt(Rt,wt,Mt,re){return wt===null||wt.tag!==4||wt.stateNode.containerInfo!==Mt.containerInfo||wt.stateNode.implementation!==Mt.implementation?(wt=Ce(Mt,Rt.mode,re),wt.return=Rt,wt):(wt=C(wt,Mt.children||[]),wt.return=Rt,wt)}function Jt(Rt,wt,Mt,re,tn){return wt===null||wt.tag!==7?(wt=Ft(Mt,Rt.mode,re,tn),wt.return=Rt,wt):(wt=C(wt,Mt),wt.return=Rt,wt)}function ce(Rt,wt,Mt){if(typeof wt=="string"&&wt!==""||typeof wt=="number"||typeof wt=="bigint")return wt=Ae(""+wt,Rt.mode,Mt),wt.return=Rt,wt;if(typeof wt=="object"&&wt!==null){switch(wt.$$typeof){case A:return Mt=Bt(wt.type,wt.key,wt.props,null,Rt.mode,Mt),Ll(Mt,wt),Mt.return=Rt,Mt;case p:return wt=Ce(wt,Rt.mode,Mt),wt.return=Rt,wt;case _:var re=wt._init;return wt=re(wt._payload),ce(Rt,wt,Mt)}if(et(wt)||$(wt))return wt=Ft(wt,Rt.mode,Mt,null),wt.return=Rt,wt;if(typeof wt.then=="function")return ce(Rt,Bu(wt),Mt);if(wt.$$typeof===T)return ce(Rt,ms(Rt,wt),Mt);Ou(Rt,wt)}return null}function Ut(Rt,wt,Mt,re){var tn=wt!==null?wt.key:null;if(typeof Mt=="string"&&Mt!==""||typeof Mt=="number"||typeof Mt=="bigint")return tn!==null?null:tt(Rt,wt,""+Mt,re);if(typeof Mt=="object"&&Mt!==null){switch(Mt.$$typeof){case A:return Mt.key===tn?yt(Rt,wt,Mt,re):null;case p:return Mt.key===tn?Pt(Rt,wt,Mt,re):null;case _:return tn=Mt._init,Mt=tn(Mt._payload),Ut(Rt,wt,Mt,re)}if(et(Mt)||$(Mt))return tn!==null?null:Jt(Rt,wt,Mt,re,null);if(typeof Mt.then=="function")return Ut(Rt,wt,Bu(Mt),re);if(Mt.$$typeof===T)return Ut(Rt,wt,ms(Rt,Mt),re);Ou(Rt,Mt)}return null}function Qt(Rt,wt,Mt,re,tn){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return Rt=Rt.get(Mt)||null,tt(wt,Rt,""+re,tn);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case A:return Rt=Rt.get(re.key===null?Mt:re.key)||null,yt(wt,Rt,re,tn);case p:return Rt=Rt.get(re.key===null?Mt:re.key)||null,Pt(wt,Rt,re,tn);case _:var Vn=re._init;return re=Vn(re._payload),Qt(Rt,wt,Mt,re,tn)}if(et(re)||$(re))return Rt=Rt.get(Mt)||null,Jt(wt,Rt,re,tn,null);if(typeof re.then=="function")return Qt(Rt,wt,Mt,Bu(re),tn);if(re.$$typeof===T)return Qt(Rt,wt,Mt,ms(wt,re),tn);Ou(wt,re)}return null}function Rn(Rt,wt,Mt,re){for(var tn=null,Vn=null,dn=wt,xn=wt=0,ai=null;dn!==null&&xn<Mt.length;xn++){dn.index>xn?(ai=dn,dn=null):ai=dn.sibling;var sr=Ut(Rt,dn,Mt[xn],re);if(sr===null){dn===null&&(dn=ai);break}r&&dn&&sr.alternate===null&&a(Rt,dn),wt=w(sr,wt,xn),Vn===null?tn=sr:Vn.sibling=sr,Vn=sr,dn=ai}if(xn===Mt.length)return h(Rt,dn),Ze&&Ln(Rt,xn),tn;if(dn===null){for(;xn<Mt.length;xn++)dn=ce(Rt,Mt[xn],re),dn!==null&&(wt=w(dn,wt,xn),Vn===null?tn=dn:Vn.sibling=dn,Vn=dn);return Ze&&Ln(Rt,xn),tn}for(dn=v(dn);xn<Mt.length;xn++)ai=Qt(dn,Rt,xn,Mt[xn],re),ai!==null&&(r&&ai.alternate!==null&&dn.delete(ai.key===null?xn:ai.key),wt=w(ai,wt,xn),Vn===null?tn=ai:Vn.sibling=ai,Vn=ai);return r&&dn.forEach(function(Pa){return a(Rt,Pa)}),Ze&&Ln(Rt,xn),tn}function Cn(Rt,wt,Mt,re){if(Mt==null)throw Error(i(151));for(var tn=null,Vn=null,dn=wt,xn=wt=0,ai=null,sr=Mt.next();dn!==null&&!sr.done;xn++,sr=Mt.next()){dn.index>xn?(ai=dn,dn=null):ai=dn.sibling;var Pa=Ut(Rt,dn,sr.value,re);if(Pa===null){dn===null&&(dn=ai);break}r&&dn&&Pa.alternate===null&&a(Rt,dn),wt=w(Pa,wt,xn),Vn===null?tn=Pa:Vn.sibling=Pa,Vn=Pa,dn=ai}if(sr.done)return h(Rt,dn),Ze&&Ln(Rt,xn),tn;if(dn===null){for(;!sr.done;xn++,sr=Mt.next())sr=ce(Rt,sr.value,re),sr!==null&&(wt=w(sr,wt,xn),Vn===null?tn=sr:Vn.sibling=sr,Vn=sr);return Ze&&Ln(Rt,xn),tn}for(dn=v(dn);!sr.done;xn++,sr=Mt.next())sr=Qt(dn,Rt,xn,sr.value,re),sr!==null&&(r&&sr.alternate!==null&&dn.delete(sr.key===null?xn:sr.key),wt=w(sr,wt,xn),Vn===null?tn=sr:Vn.sibling=sr,Vn=sr);return r&&dn.forEach(function(o1){return a(Rt,o1)}),Ze&&Ln(Rt,xn),tn}function mr(Rt,wt,Mt,re){if(typeof Mt=="object"&&Mt!==null&&Mt.type===m&&Mt.key===null&&(Mt=Mt.props.children),typeof Mt=="object"&&Mt!==null){switch(Mt.$$typeof){case A:t:{for(var tn=Mt.key;wt!==null;){if(wt.key===tn){if(tn=Mt.type,tn===m){if(wt.tag===7){h(Rt,wt.sibling),re=C(wt,Mt.props.children),re.return=Rt,Rt=re;break t}}else if(wt.elementType===tn||typeof tn=="object"&&tn!==null&&tn.$$typeof===_&&WA(tn)===wt.type){h(Rt,wt.sibling),re=C(wt,Mt.props),Ll(re,Mt),re.return=Rt,Rt=re;break t}h(Rt,wt);break}else a(Rt,wt);wt=wt.sibling}Mt.type===m?(re=Ft(Mt.props.children,Rt.mode,re,Mt.key),re.return=Rt,Rt=re):(re=Bt(Mt.type,Mt.key,Mt.props,null,Rt.mode,re),Ll(re,Mt),re.return=Rt,Rt=re)}return H(Rt);case p:t:{for(tn=Mt.key;wt!==null;){if(wt.key===tn)if(wt.tag===4&&wt.stateNode.containerInfo===Mt.containerInfo&&wt.stateNode.implementation===Mt.implementation){h(Rt,wt.sibling),re=C(wt,Mt.children||[]),re.return=Rt,Rt=re;break t}else{h(Rt,wt);break}else a(Rt,wt);wt=wt.sibling}re=Ce(Mt,Rt.mode,re),re.return=Rt,Rt=re}return H(Rt);case _:return tn=Mt._init,Mt=tn(Mt._payload),mr(Rt,wt,Mt,re)}if(et(Mt))return Rn(Rt,wt,Mt,re);if($(Mt)){if(tn=$(Mt),typeof tn!="function")throw Error(i(150));return Mt=tn.call(Mt),Cn(Rt,wt,Mt,re)}if(typeof Mt.then=="function")return mr(Rt,wt,Bu(Mt),re);if(Mt.$$typeof===T)return mr(Rt,wt,ms(Rt,Mt),re);Ou(Rt,Mt)}return typeof Mt=="string"&&Mt!==""||typeof Mt=="number"||typeof Mt=="bigint"?(Mt=""+Mt,wt!==null&&wt.tag===6?(h(Rt,wt.sibling),re=C(wt,Mt),re.return=Rt,Rt=re):(h(Rt,wt),re=Ae(Mt,Rt.mode,re),re.return=Rt,Rt=re),H(Rt)):h(Rt,wt)}return function(Rt,wt,Mt,re){try{wl=0;var tn=mr(Rt,wt,Mt,re);return Uo=null,tn}catch(dn){if(dn===ml||dn===Eu)throw dn;var Vn=oe(29,dn,null,Rt.mode);return Vn.lanes=re,Vn.return=Rt,Vn}finally{}}}var Fo=qA(!0),XA=qA(!1),es=q(null),Ls=null;function Ea(r){var a=r.alternate;ot(ti,ti.current&1),ot(es,r),Ls===null&&(a===null||_o.current!==null||a.memoizedState!==null)&&(Ls=r)}function ZA(r){if(r.tag===22){if(ot(ti,ti.current),ot(es,r),Ls===null){var a=r.alternate;a!==null&&a.memoizedState!==null&&(Ls=r)}}else Ca()}function Ca(){ot(ti,ti.current),ot(es,es.current)}function Ks(r){nt(es),Ls===r&&(Ls=null),nt(ti)}var ti=q(0);function _u(r){for(var a=r;a!==null;){if(a.tag===13){var h=a.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||Ed(h)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Bf(r,a,h,v){a=r.memoizedState,h=h(v,a),h=h==null?a:u({},a,h),r.memoizedState=h,r.lanes===0&&(r.updateQueue.baseState=h)}var Of={enqueueSetState:function(r,a,h){r=r._reactInternals;var v=$i(),C=va(v);C.payload=a,h!=null&&(C.callback=h),a=ya(r,C,v),a!==null&&(Vi(a,r,v),yl(a,r,v))},enqueueReplaceState:function(r,a,h){r=r._reactInternals;var v=$i(),C=va(v);C.tag=1,C.payload=a,h!=null&&(C.callback=h),a=ya(r,C,v),a!==null&&(Vi(a,r,v),yl(a,r,v))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var h=$i(),v=va(h);v.tag=2,a!=null&&(v.callback=a),a=ya(r,v,h),a!==null&&(Vi(a,r,h),yl(a,r,h))}};function JA(r,a,h,v,C,w,H){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(v,w,H):a.prototype&&a.prototype.isPureReactComponent?!eo(h,v)||!eo(C,w):!0}function tg(r,a,h,v){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(h,v),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(h,v),a.state!==r&&Of.enqueueReplaceState(a,a.state,null)}function fo(r,a){var h=a;if("ref"in a){h={};for(var v in a)v!=="ref"&&(h[v]=a[v])}if(r=r.defaultProps){h===a&&(h=u({},h));for(var C in r)h[C]===void 0&&(h[C]=r[C])}return h}var Mu=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function eg(r){Mu(r)}function ng(r){console.error(r)}function rg(r){Mu(r)}function Pu(r,a){try{var h=r.onUncaughtError;h(a.value,{componentStack:a.stack})}catch(v){setTimeout(function(){throw v})}}function ig(r,a,h){try{var v=r.onCaughtError;v(h.value,{componentStack:h.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(C){setTimeout(function(){throw C})}}function _f(r,a,h){return h=va(h),h.tag=3,h.payload={element:null},h.callback=function(){Pu(r,a)},h}function sg(r){return r=va(r),r.tag=3,r}function ag(r,a,h,v){var C=h.type.getDerivedStateFromError;if(typeof C=="function"){var w=v.value;r.payload=function(){return C(w)},r.callback=function(){ig(a,h,v)}}var H=h.stateNode;H!==null&&typeof H.componentDidCatch=="function"&&(r.callback=function(){ig(a,h,v),typeof C!="function"&&(Ra===null?Ra=new Set([this]):Ra.add(this));var tt=v.stack;this.componentDidCatch(v.value,{componentStack:tt!==null?tt:""})})}function oy(r,a,h,v,C){if(h.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(a=h.alternate,a!==null&&io(a,h,C,!0),h=es.current,h!==null){switch(h.tag){case 13:return Ls===null?id():h.alternate===null&&Ur===0&&(Ur=3),h.flags&=-257,h.flags|=65536,h.lanes=C,v===uf?h.flags|=16384:(a=h.updateQueue,a===null?h.updateQueue=new Set([v]):a.add(v),ad(r,v,C)),!1;case 22:return h.flags|=65536,v===uf?h.flags|=16384:(a=h.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([v])},h.updateQueue=a):(h=a.retryQueue,h===null?a.retryQueue=new Set([v]):h.add(v)),ad(r,v,C)),!1}throw Error(i(435,h.tag))}return ad(r,v,C),id(),!1}if(Ze)return a=es.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=C,v!==_r&&(r=Error(i(422),{cause:v}),Mn(ft(r,h)))):(v!==_r&&(a=Error(i(423),{cause:v}),Mn(ft(a,h))),r=r.current.alternate,r.flags|=65536,C&=-C,r.lanes|=C,v=ft(v,h),C=_f(r.stateNode,v,C),df(r,C),Ur!==4&&(Ur=2)),!1;var w=Error(i(520),{cause:v});if(w=ft(w,h),_l===null?_l=[w]:_l.push(w),Ur!==4&&(Ur=2),a===null)return!0;v=ft(v,h),h=a;do{switch(h.tag){case 3:return h.flags|=65536,r=C&-C,h.lanes|=r,r=_f(h.stateNode,v,r),df(h,r),!1;case 1:if(a=h.type,w=h.stateNode,(h.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ra===null||!Ra.has(w))))return h.flags|=65536,C&=-C,h.lanes|=C,C=sg(C),ag(C,r,h,v),df(h,C),!1}h=h.return}while(h!==null);return!1}var og=Error(i(461)),ii=!1;function fi(r,a,h,v){a.child=r===null?XA(a,null,h,v):Fo(a,r.child,h,v)}function lg(r,a,h,v,C){h=h.render;var w=a.ref;if("ref"in v){var H={};for(var tt in v)tt!=="ref"&&(H[tt]=v[tt])}else H=v;return ts(a),v=mf(r,a,h,H,w,C),tt=vf(),r!==null&&!ii?(yf(r,a,C),Ws(r,a,C)):(Ze&&tt&&Wn(a),a.flags|=1,fi(r,a,v,C),a.child)}function ug(r,a,h,v,C){if(r===null){var w=h.type;return typeof w=="function"&&!he(w)&&w.defaultProps===void 0&&h.compare===null?(a.tag=15,a.type=w,cg(r,a,w,v,C)):(r=Bt(h.type,null,v,a,a.mode,C),r.ref=a.ref,r.return=a,a.child=r)}if(w=r.child,!jf(r,C)){var H=w.memoizedProps;if(h=h.compare,h=h!==null?h:eo,h(H,v)&&r.ref===a.ref)return Ws(r,a,C)}return a.flags|=1,r=Se(w,v),r.ref=a.ref,r.return=a,a.child=r}function cg(r,a,h,v,C){if(r!==null){var w=r.memoizedProps;if(eo(w,v)&&r.ref===a.ref)if(ii=!1,a.pendingProps=v=w,jf(r,C))(r.flags&131072)!==0&&(ii=!0);else return a.lanes=r.lanes,Ws(r,a,C)}return Mf(r,a,h,v,C)}function fg(r,a,h){var v=a.pendingProps,C=v.children,w=r!==null?r.memoizedState:null;if(v.mode==="hidden"){if((a.flags&128)!==0){if(v=w!==null?w.baseLanes|h:h,r!==null){for(C=a.child=r.child,w=0;C!==null;)w=w|C.lanes|C.childLanes,C=C.sibling;a.childLanes=w&~v}else a.childLanes=0,a.child=null;return dg(r,a,v,h)}if((h&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&bu(a,w!==null?w.cachePool:null),w!==null?cA(a,w):Af(),ZA(a);else return a.lanes=a.childLanes=536870912,dg(r,a,w!==null?w.baseLanes|h:h,h)}else w!==null?(bu(a,w.cachePool),cA(a,w),Ca(),a.memoizedState=null):(r!==null&&bu(a,null),Af(),Ca());return fi(r,a,C,h),a.child}function dg(r,a,h,v){var C=lf();return C=C===null?null:{parent:Nr._currentValue,pool:C},a.memoizedState={baseLanes:h,cachePool:C},r!==null&&bu(a,null),Af(),ZA(a),r!==null&&io(r,a,v,!0),null}function Nu(r,a){var h=a.ref;if(h===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(i(284));(r===null||r.ref!==h)&&(a.flags|=4194816)}}function Mf(r,a,h,v,C){return ts(a),h=mf(r,a,h,v,void 0,C),v=vf(),r!==null&&!ii?(yf(r,a,C),Ws(r,a,C)):(Ze&&v&&Wn(a),a.flags|=1,fi(r,a,h,C),a.child)}function hg(r,a,h,v,C,w){return ts(a),a.updateQueue=null,h=dA(a,v,h,C),fA(r),v=vf(),r!==null&&!ii?(yf(r,a,w),Ws(r,a,w)):(Ze&&v&&Wn(a),a.flags|=1,fi(r,a,h,w),a.child)}function Ag(r,a,h,v,C){if(ts(a),a.stateNode===null){var w=Gt,H=h.contextType;typeof H=="object"&&H!==null&&(w=Vr(H)),w=new h(v,w),a.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=Of,a.stateNode=w,w._reactInternals=a,w=a.stateNode,w.props=v,w.state=a.memoizedState,w.refs={},cf(a),H=h.contextType,w.context=typeof H=="object"&&H!==null?Vr(H):Gt,w.state=a.memoizedState,H=h.getDerivedStateFromProps,typeof H=="function"&&(Bf(a,h,H,v),w.state=a.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(H=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),H!==w.state&&Of.enqueueReplaceState(w,w.state,null),El(a,v,w,C),bl(),w.state=a.memoizedState),typeof w.componentDidMount=="function"&&(a.flags|=4194308),v=!0}else if(r===null){w=a.stateNode;var tt=a.memoizedProps,yt=fo(h,tt);w.props=yt;var Pt=w.context,Jt=h.contextType;H=Gt,typeof Jt=="object"&&Jt!==null&&(H=Vr(Jt));var ce=h.getDerivedStateFromProps;Jt=typeof ce=="function"||typeof w.getSnapshotBeforeUpdate=="function",tt=a.pendingProps!==tt,Jt||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(tt||Pt!==H)&&tg(a,w,v,H),ma=!1;var Ut=a.memoizedState;w.state=Ut,El(a,v,w,C),bl(),Pt=a.memoizedState,tt||Ut!==Pt||ma?(typeof ce=="function"&&(Bf(a,h,ce,v),Pt=a.memoizedState),(yt=ma||JA(a,h,yt,v,Ut,Pt,H))?(Jt||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(a.flags|=4194308)):(typeof w.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=v,a.memoizedState=Pt),w.props=v,w.state=Pt,w.context=H,v=yt):(typeof w.componentDidMount=="function"&&(a.flags|=4194308),v=!1)}else{w=a.stateNode,ff(r,a),H=a.memoizedProps,Jt=fo(h,H),w.props=Jt,ce=a.pendingProps,Ut=w.context,Pt=h.contextType,yt=Gt,typeof Pt=="object"&&Pt!==null&&(yt=Vr(Pt)),tt=h.getDerivedStateFromProps,(Pt=typeof tt=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(H!==ce||Ut!==yt)&&tg(a,w,v,yt),ma=!1,Ut=a.memoizedState,w.state=Ut,El(a,v,w,C),bl();var Qt=a.memoizedState;H!==ce||Ut!==Qt||ma||r!==null&&r.dependencies!==null&&ko(r.dependencies)?(typeof tt=="function"&&(Bf(a,h,tt,v),Qt=a.memoizedState),(Jt=ma||JA(a,h,Jt,v,Ut,Qt,yt)||r!==null&&r.dependencies!==null&&ko(r.dependencies))?(Pt||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(v,Qt,yt),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(v,Qt,yt)),typeof w.componentDidUpdate=="function"&&(a.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof w.componentDidUpdate!="function"||H===r.memoizedProps&&Ut===r.memoizedState||(a.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||H===r.memoizedProps&&Ut===r.memoizedState||(a.flags|=1024),a.memoizedProps=v,a.memoizedState=Qt),w.props=v,w.state=Qt,w.context=yt,v=Jt):(typeof w.componentDidUpdate!="function"||H===r.memoizedProps&&Ut===r.memoizedState||(a.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||H===r.memoizedProps&&Ut===r.memoizedState||(a.flags|=1024),v=!1)}return w=v,Nu(r,a),v=(a.flags&128)!==0,w||v?(w=a.stateNode,h=v&&typeof h.getDerivedStateFromError!="function"?null:w.render(),a.flags|=1,r!==null&&v?(a.child=Fo(a,r.child,null,C),a.child=Fo(a,null,h,C)):fi(r,a,h,C),a.memoizedState=w.state,r=a.child):r=Ws(r,a,C),r}function gg(r,a,h,v){return ga(),a.flags|=256,fi(r,a,h,v),a.child}var Pf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nf(r){return{baseLanes:r,cachePool:nA()}}function Uf(r,a,h){return r=r!==null?r.childLanes&~h:0,a&&(r|=ns),r}function pg(r,a,h){var v=a.pendingProps,C=!1,w=(a.flags&128)!==0,H;if((H=w)||(H=r!==null&&r.memoizedState===null?!1:(ti.current&2)!==0),H&&(C=!0,a.flags&=-129),H=(a.flags&32)!==0,a.flags&=-33,r===null){if(Ze){if(C?Ea(a):Ca(),Ze){var tt=bn,yt;if(yt=tt){t:{for(yt=tt,tt=Bn;yt.nodeType!==8;){if(!tt){tt=null;break t}if(yt=bs(yt.nextSibling),yt===null){tt=null;break t}}tt=yt}tt!==null?(a.memoizedState={dehydrated:tt,treeContext:_e!==null?{id:He,overflow:gn}:null,retryLane:536870912,hydrationErrors:null},yt=oe(18,null,null,0),yt.stateNode=tt,yt.return=a,a.child=yt,fn=a,bn=null,yt=!0):yt=!1}yt||Jr(a)}if(tt=a.memoizedState,tt!==null&&(tt=tt.dehydrated,tt!==null))return Ed(tt)?a.lanes=32:a.lanes=536870912,null;Ks(a)}return tt=v.children,v=v.fallback,C?(Ca(),C=a.mode,tt=Uu({mode:"hidden",children:tt},C),v=Ft(v,C,h,null),tt.return=a,v.return=a,tt.sibling=v,a.child=tt,C=a.child,C.memoizedState=Nf(h),C.childLanes=Uf(r,H,h),a.memoizedState=Pf,v):(Ea(a),Ff(a,tt))}if(yt=r.memoizedState,yt!==null&&(tt=yt.dehydrated,tt!==null)){if(w)a.flags&256?(Ea(a),a.flags&=-257,a=Gf(r,a,h)):a.memoizedState!==null?(Ca(),a.child=r.child,a.flags|=128,a=null):(Ca(),C=v.fallback,tt=a.mode,v=Uu({mode:"visible",children:v.children},tt),C=Ft(C,tt,h,null),C.flags|=2,v.return=a,C.return=a,v.sibling=C,a.child=v,Fo(a,r.child,null,h),v=a.child,v.memoizedState=Nf(h),v.childLanes=Uf(r,H,h),a.memoizedState=Pf,a=C);else if(Ea(a),Ed(tt)){if(H=tt.nextSibling&&tt.nextSibling.dataset,H)var Pt=H.dgst;H=Pt,v=Error(i(419)),v.stack="",v.digest=H,Mn({value:v,source:null,stack:null}),a=Gf(r,a,h)}else if(ii||io(r,a,h,!1),H=(h&r.childLanes)!==0,ii||H){if(H=Tr,H!==null&&(v=h&-h,v=(v&42)!==0?1:qt(v),v=(v&(H.suspendedLanes|h))!==0?0:v,v!==0&&v!==yt.retryLane))throw yt.retryLane=v,Wt(r,v),Vi(H,r,v),og;tt.data==="$?"||id(),a=Gf(r,a,h)}else tt.data==="$?"?(a.flags|=192,a.child=r.child,a=null):(r=yt.treeContext,bn=bs(tt.nextSibling),fn=a,Ze=!0,Oe=null,Bn=!1,r!==null&&(De[mn++]=He,De[mn++]=gn,De[mn++]=_e,He=r.id,gn=r.overflow,_e=a),a=Ff(a,v.children),a.flags|=4096);return a}return C?(Ca(),C=v.fallback,tt=a.mode,yt=r.child,Pt=yt.sibling,v=Se(yt,{mode:"hidden",children:v.children}),v.subtreeFlags=yt.subtreeFlags&65011712,Pt!==null?C=Se(Pt,C):(C=Ft(C,tt,h,null),C.flags|=2),C.return=a,v.return=a,v.sibling=C,a.child=v,v=C,C=a.child,tt=r.child.memoizedState,tt===null?tt=Nf(h):(yt=tt.cachePool,yt!==null?(Pt=Nr._currentValue,yt=yt.parent!==Pt?{parent:Pt,pool:Pt}:yt):yt=nA(),tt={baseLanes:tt.baseLanes|h,cachePool:yt}),C.memoizedState=tt,C.childLanes=Uf(r,H,h),a.memoizedState=Pf,v):(Ea(a),h=r.child,r=h.sibling,h=Se(h,{mode:"visible",children:v.children}),h.return=a,h.sibling=null,r!==null&&(H=a.deletions,H===null?(a.deletions=[r],a.flags|=16):H.push(r)),a.child=h,a.memoizedState=null,h)}function Ff(r,a){return a=Uu({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function Uu(r,a){return r=oe(22,r,null,a),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Gf(r,a,h){return Fo(a,r.child,null,h),r=Ff(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function mg(r,a,h){r.lanes|=a;var v=r.alternate;v!==null&&(v.lanes|=a),ro(r.return,a,h)}function Qf(r,a,h,v,C){var w=r.memoizedState;w===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:v,tail:h,tailMode:C}:(w.isBackwards=a,w.rendering=null,w.renderingStartTime=0,w.last=v,w.tail=h,w.tailMode=C)}function vg(r,a,h){var v=a.pendingProps,C=v.revealOrder,w=v.tail;if(fi(r,a,v.children,h),v=ti.current,(v&2)!==0)v=v&1|2,a.flags|=128;else{if(r!==null&&(r.flags&128)!==0)t:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&mg(r,h,a);else if(r.tag===19)mg(r,h,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break t;for(;r.sibling===null;){if(r.return===null||r.return===a)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}v&=1}switch(ot(ti,v),C){case"forwards":for(h=a.child,C=null;h!==null;)r=h.alternate,r!==null&&_u(r)===null&&(C=h),h=h.sibling;h=C,h===null?(C=a.child,a.child=null):(C=h.sibling,h.sibling=null),Qf(a,!1,C,h,w);break;case"backwards":for(h=null,C=a.child,a.child=null;C!==null;){if(r=C.alternate,r!==null&&_u(r)===null){a.child=C;break}r=C.sibling,C.sibling=h,h=C,C=r}Qf(a,!0,h,null,w);break;case"together":Qf(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Ws(r,a,h){if(r!==null&&(a.dependencies=r.dependencies),La|=a.lanes,(h&a.childLanes)===0)if(r!==null){if(io(r,a,h,!1),(h&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(i(153));if(a.child!==null){for(r=a.child,h=Se(r,r.pendingProps),a.child=h,h.return=a;r.sibling!==null;)r=r.sibling,h=h.sibling=Se(r,r.pendingProps),h.return=a;h.sibling=null}return a.child}function jf(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&ko(r)))}function ly(r,a,h){switch(a.tag){case 3:$t(a,a.stateNode.containerInfo),Ei(a,Nr,r.memoizedState.cache),ga();break;case 27:case 5:ne(a);break;case 4:$t(a,a.stateNode.containerInfo);break;case 10:Ei(a,a.type,a.memoizedProps.value);break;case 13:var v=a.memoizedState;if(v!==null)return v.dehydrated!==null?(Ea(a),a.flags|=128,null):(h&a.child.childLanes)!==0?pg(r,a,h):(Ea(a),r=Ws(r,a,h),r!==null?r.sibling:null);Ea(a);break;case 19:var C=(r.flags&128)!==0;if(v=(h&a.childLanes)!==0,v||(io(r,a,h,!1),v=(h&a.childLanes)!==0),C){if(v)return vg(r,a,h);a.flags|=128}if(C=a.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),ot(ti,ti.current),v)break;return null;case 22:case 23:return a.lanes=0,fg(r,a,h);case 24:Ei(a,Nr,r.memoizedState.cache)}return Ws(r,a,h)}function yg(r,a,h){if(r!==null)if(r.memoizedProps!==a.pendingProps)ii=!0;else{if(!jf(r,h)&&(a.flags&128)===0)return ii=!1,ly(r,a,h);ii=(r.flags&131072)!==0}else ii=!1,Ze&&(a.flags&1048576)!==0&&kn(a,Qe,a.index);switch(a.lanes=0,a.tag){case 16:t:{r=a.pendingProps;var v=a.elementType,C=v._init;if(v=C(v._payload),a.type=v,typeof v=="function")he(v)?(r=fo(v,r),a.tag=1,a=Ag(null,a,v,r,h)):(a.tag=0,a=Mf(null,a,v,r,h));else{if(v!=null){if(C=v.$$typeof,C===L){a.tag=11,a=lg(null,a,v,r,h);break t}else if(C===O){a.tag=14,a=ug(null,a,v,r,h);break t}}throw a=X(v)||v,Error(i(306,a,""))}}return a;case 0:return Mf(r,a,a.type,a.pendingProps,h);case 1:return v=a.type,C=fo(v,a.pendingProps),Ag(r,a,v,C,h);case 3:t:{if($t(a,a.stateNode.containerInfo),r===null)throw Error(i(387));v=a.pendingProps;var w=a.memoizedState;C=w.element,ff(r,a),El(a,v,null,h);var H=a.memoizedState;if(v=H.cache,Ei(a,Nr,v),v!==w.cache&&Do(a,[Nr],h,!0),bl(),v=H.element,w.isDehydrated)if(w={element:v,isDehydrated:!1,cache:H.cache},a.updateQueue.baseState=w,a.memoizedState=w,a.flags&256){a=gg(r,a,v,h);break t}else if(v!==C){C=ft(Error(i(424)),a),Mn(C),a=gg(r,a,v,h);break t}else{switch(r=a.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(bn=bs(r.firstChild),fn=a,Ze=!0,Oe=null,Bn=!0,h=XA(a,null,v,h),a.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(ga(),v===C){a=Ws(r,a,h);break t}fi(r,a,v,h)}a=a.child}return a;case 26:return Nu(r,a),r===null?(h=Sp(a.type,null,a.pendingProps,null))?a.memoizedState=h:Ze||(h=a.type,r=a.pendingProps,v=Zu(Tt.current).createElement(h),v[sn]=a,v[Tn]=r,hi(v,h,r),jn(v),a.stateNode=v):a.memoizedState=Sp(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return ne(a),r===null&&Ze&&(v=a.stateNode=bp(a.type,a.pendingProps,Tt.current),fn=a,Bn=!0,C=bn,ka(a.type)?(Cd=C,bn=bs(v.firstChild)):bn=C),fi(r,a,a.pendingProps.children,h),Nu(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&Ze&&((C=v=bn)&&(v=Py(v,a.type,a.pendingProps,Bn),v!==null?(a.stateNode=v,fn=a,bn=bs(v.firstChild),Bn=!1,C=!0):C=!1),C||Jr(a)),ne(a),C=a.type,w=a.pendingProps,H=r!==null?r.memoizedProps:null,v=w.children,vd(C,w)?v=null:H!==null&&vd(C,H)&&(a.flags|=32),a.memoizedState!==null&&(C=mf(r,a,ty,null,null,h),zl._currentValue=C),Nu(r,a),fi(r,a,v,h),a.child;case 6:return r===null&&Ze&&((r=h=bn)&&(h=Ny(h,a.pendingProps,Bn),h!==null?(a.stateNode=h,fn=a,bn=null,r=!0):r=!1),r||Jr(a)),null;case 13:return pg(r,a,h);case 4:return $t(a,a.stateNode.containerInfo),v=a.pendingProps,r===null?a.child=Fo(a,null,v,h):fi(r,a,v,h),a.child;case 11:return lg(r,a,a.type,a.pendingProps,h);case 7:return fi(r,a,a.pendingProps,h),a.child;case 8:return fi(r,a,a.pendingProps.children,h),a.child;case 12:return fi(r,a,a.pendingProps.children,h),a.child;case 10:return v=a.pendingProps,Ei(a,a.type,v.value),fi(r,a,v.children,h),a.child;case 9:return C=a.type._context,v=a.pendingProps.children,ts(a),C=Vr(C),v=v(C),a.flags|=1,fi(r,a,v,h),a.child;case 14:return ug(r,a,a.type,a.pendingProps,h);case 15:return cg(r,a,a.type,a.pendingProps,h);case 19:return vg(r,a,h);case 31:return v=a.pendingProps,h=a.mode,v={mode:v.mode,children:v.children},r===null?(h=Uu(v,h),h.ref=a.ref,a.child=h,h.return=a,a=h):(h=Se(r.child,v),h.ref=a.ref,a.child=h,h.return=a,a=h),a;case 22:return fg(r,a,h);case 24:return ts(a),v=Vr(Nr),r===null?(C=lf(),C===null&&(C=Tr,w=Oo(),C.pooledCache=w,w.refCount++,w!==null&&(C.pooledCacheLanes|=h),C=w),a.memoizedState={parent:v,cache:C},cf(a),Ei(a,Nr,C)):((r.lanes&h)!==0&&(ff(r,a),El(a,null,null,h),bl()),C=r.memoizedState,w=a.memoizedState,C.parent!==v?(C={parent:v,cache:v},a.memoizedState=C,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=C),Ei(a,Nr,v)):(v=w.cache,Ei(a,Nr,v),v!==C.cache&&Do(a,[Nr],h,!0))),fi(r,a,a.pendingProps.children,h),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function qs(r){r.flags|=4}function bg(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Rp(a)){if(a=es.current,a!==null&&((er&4194048)===er?Ls!==null:(er&62914560)!==er&&(er&536870912)===0||a!==Ls))throw vl=uf,rA;r.flags|=8192}}function Fu(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?Me():536870912,r.lanes|=a,zo|=a)}function Rl(r,a){if(!Ze)switch(r.tailMode){case"hidden":a=r.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?r.tail=null:h.sibling=null;break;case"collapsed":h=r.tail;for(var v=null;h!==null;)h.alternate!==null&&(v=h),h=h.sibling;v===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:v.sibling=null}}function Mr(r){var a=r.alternate!==null&&r.alternate.child===r.child,h=0,v=0;if(a)for(var C=r.child;C!==null;)h|=C.lanes|C.childLanes,v|=C.subtreeFlags&65011712,v|=C.flags&65011712,C.return=r,C=C.sibling;else for(C=r.child;C!==null;)h|=C.lanes|C.childLanes,v|=C.subtreeFlags,v|=C.flags,C.return=r,C=C.sibling;return r.subtreeFlags|=v,r.childLanes=h,a}function uy(r,a,h){var v=a.pendingProps;switch(ln(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mr(a),null;case 1:return Mr(a),null;case 3:return h=a.stateNode,v=null,r!==null&&(v=r.memoizedState.cache),a.memoizedState.cache!==v&&(a.flags|=2048),ps(Nr),Vt(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(gs(a)?qs(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,We())),Mr(a),null;case 26:return h=a.memoizedState,r===null?(qs(a),h!==null?(Mr(a),bg(a,h)):(Mr(a),a.flags&=-16777217)):h?h!==r.memoizedState?(qs(a),Mr(a),bg(a,h)):(Mr(a),a.flags&=-16777217):(r.memoizedProps!==v&&qs(a),Mr(a),a.flags&=-16777217),null;case 27:fe(a),h=Tt.current;var C=a.type;if(r!==null&&a.stateNode!=null)r.memoizedProps!==v&&qs(a);else{if(!v){if(a.stateNode===null)throw Error(i(166));return Mr(a),null}r=Ct.current,gs(a)?As(a):(r=bp(C,v,h),a.stateNode=r,qs(a))}return Mr(a),null;case 5:if(fe(a),h=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==v&&qs(a);else{if(!v){if(a.stateNode===null)throw Error(i(166));return Mr(a),null}if(r=Ct.current,gs(a))As(a);else{switch(C=Zu(Tt.current),r){case 1:r=C.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:r=C.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":r=C.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":r=C.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":r=C.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof v.is=="string"?C.createElement("select",{is:v.is}):C.createElement("select"),v.multiple?r.multiple=!0:v.size&&(r.size=v.size);break;default:r=typeof v.is=="string"?C.createElement(h,{is:v.is}):C.createElement(h)}}r[sn]=a,r[Tn]=v;t:for(C=a.child;C!==null;){if(C.tag===5||C.tag===6)r.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===a)break t;for(;C.sibling===null;){if(C.return===null||C.return===a)break t;C=C.return}C.sibling.return=C.return,C=C.sibling}a.stateNode=r;t:switch(hi(r,h,v),h){case"button":case"input":case"select":case"textarea":r=!!v.autoFocus;break t;case"img":r=!0;break t;default:r=!1}r&&qs(a)}}return Mr(a),a.flags&=-16777217,null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==v&&qs(a);else{if(typeof v!="string"&&a.stateNode===null)throw Error(i(166));if(r=Tt.current,gs(a)){if(r=a.stateNode,h=a.memoizedProps,v=null,C=fn,C!==null)switch(C.tag){case 27:case 5:v=C.memoizedProps}r[sn]=a,r=!!(r.nodeValue===h||v!==null&&v.suppressHydrationWarning===!0||hp(r.nodeValue,h)),r||Jr(a)}else r=Zu(r).createTextNode(v),r[sn]=a,a.stateNode=r}return Mr(a),null;case 13:if(v=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(C=gs(a),v!==null&&v.dehydrated!==null){if(r===null){if(!C)throw Error(i(318));if(C=a.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(i(317));C[sn]=a}else ga(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Mr(a),C=!1}else C=We(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=C),C=!0;if(!C)return a.flags&256?(Ks(a),a):(Ks(a),null)}if(Ks(a),(a.flags&128)!==0)return a.lanes=h,a;if(h=v!==null,r=r!==null&&r.memoizedState!==null,h){v=a.child,C=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(C=v.alternate.memoizedState.cachePool.pool);var w=null;v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(w=v.memoizedState.cachePool.pool),w!==C&&(v.flags|=2048)}return h!==r&&h&&(a.child.flags|=8192),Fu(a,a.updateQueue),Mr(a),null;case 4:return Vt(),r===null&&hd(a.stateNode.containerInfo),Mr(a),null;case 10:return ps(a.type),Mr(a),null;case 19:if(nt(ti),C=a.memoizedState,C===null)return Mr(a),null;if(v=(a.flags&128)!==0,w=C.rendering,w===null)if(v)Rl(C,!1);else{if(Ur!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(w=_u(r),w!==null){for(a.flags|=128,Rl(C,!1),r=w.updateQueue,a.updateQueue=r,Fu(a,r),a.subtreeFlags=0,r=h,h=a.child;h!==null;)Ee(h,r),h=h.sibling;return ot(ti,ti.current&1|2),a.child}r=r.sibling}C.tail!==null&&Le()>ju&&(a.flags|=128,v=!0,Rl(C,!1),a.lanes=4194304)}else{if(!v)if(r=_u(w),r!==null){if(a.flags|=128,v=!0,r=r.updateQueue,a.updateQueue=r,Fu(a,r),Rl(C,!0),C.tail===null&&C.tailMode==="hidden"&&!w.alternate&&!Ze)return Mr(a),null}else 2*Le()-C.renderingStartTime>ju&&h!==536870912&&(a.flags|=128,v=!0,Rl(C,!1),a.lanes=4194304);C.isBackwards?(w.sibling=a.child,a.child=w):(r=C.last,r!==null?r.sibling=w:a.child=w,C.last=w)}return C.tail!==null?(a=C.tail,C.rendering=a,C.tail=a.sibling,C.renderingStartTime=Le(),a.sibling=null,r=ti.current,ot(ti,v?r&1|2:r&1),a):(Mr(a),null);case 22:case 23:return Ks(a),gf(),v=a.memoizedState!==null,r!==null?r.memoizedState!==null!==v&&(a.flags|=8192):v&&(a.flags|=8192),v?(h&536870912)!==0&&(a.flags&128)===0&&(Mr(a),a.subtreeFlags&6&&(a.flags|=8192)):Mr(a),h=a.updateQueue,h!==null&&Fu(a,h.retryQueue),h=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(h=r.memoizedState.cachePool.pool),v=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(v=a.memoizedState.cachePool.pool),v!==h&&(a.flags|=2048),r!==null&&nt(uo),null;case 24:return h=null,r!==null&&(h=r.memoizedState.cache),a.memoizedState.cache!==h&&(a.flags|=2048),ps(Nr),Mr(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function cy(r,a){switch(ln(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return ps(Nr),Vt(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return fe(a),null;case 13:if(Ks(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(i(340));ga()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return nt(ti),null;case 4:return Vt(),null;case 10:return ps(a.type),null;case 22:case 23:return Ks(a),gf(),r!==null&&nt(uo),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return ps(Nr),null;case 25:return null;default:return null}}function Eg(r,a){switch(ln(a),a.tag){case 3:ps(Nr),Vt();break;case 26:case 27:case 5:fe(a);break;case 4:Vt();break;case 13:Ks(a);break;case 19:nt(ti);break;case 10:ps(a.type);break;case 22:case 23:Ks(a),gf(),r!==null&&nt(uo);break;case 24:ps(Nr)}}function Il(r,a){try{var h=a.updateQueue,v=h!==null?h.lastEffect:null;if(v!==null){var C=v.next;h=C;do{if((h.tag&r)===r){v=void 0;var w=h.create,H=h.inst;v=w(),H.destroy=v}h=h.next}while(h!==C)}}catch(tt){Er(a,a.return,tt)}}function Sa(r,a,h){try{var v=a.updateQueue,C=v!==null?v.lastEffect:null;if(C!==null){var w=C.next;v=w;do{if((v.tag&r)===r){var H=v.inst,tt=H.destroy;if(tt!==void 0){H.destroy=void 0,C=a;var yt=h,Pt=tt;try{Pt()}catch(Jt){Er(C,yt,Jt)}}}v=v.next}while(v!==w)}}catch(Jt){Er(a,a.return,Jt)}}function Cg(r){var a=r.updateQueue;if(a!==null){var h=r.stateNode;try{uA(a,h)}catch(v){Er(r,r.return,v)}}}function Sg(r,a,h){h.props=fo(r.type,r.memoizedProps),h.state=r.memoizedState;try{h.componentWillUnmount()}catch(v){Er(r,a,v)}}function Dl(r,a){try{var h=r.ref;if(h!==null){switch(r.tag){case 26:case 27:case 5:var v=r.stateNode;break;case 30:v=r.stateNode;break;default:v=r.stateNode}typeof h=="function"?r.refCleanup=h(v):h.current=v}}catch(C){Er(r,a,C)}}function Rs(r,a){var h=r.ref,v=r.refCleanup;if(h!==null)if(typeof v=="function")try{v()}catch(C){Er(r,a,C)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(C){Er(r,a,C)}else h.current=null}function xg(r){var a=r.type,h=r.memoizedProps,v=r.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":h.autoFocus&&v.focus();break t;case"img":h.src?v.src=h.src:h.srcSet&&(v.srcset=h.srcSet)}}catch(C){Er(r,r.return,C)}}function zf(r,a,h){try{var v=r.stateNode;ky(v,r.type,h,a),v[Tn]=a}catch(C){Er(r,r.return,C)}}function Tg(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&ka(r.type)||r.tag===4}function Hf(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||Tg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&ka(r.type)||r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Yf(r,a,h){var v=r.tag;if(v===5||v===6)r=r.stateNode,a?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(r,a):(a=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,a.appendChild(r),h=h._reactRootContainer,h!=null||a.onclick!==null||(a.onclick=Xu));else if(v!==4&&(v===27&&ka(r.type)&&(h=r.stateNode,a=null),r=r.child,r!==null))for(Yf(r,a,h),r=r.sibling;r!==null;)Yf(r,a,h),r=r.sibling}function Gu(r,a,h){var v=r.tag;if(v===5||v===6)r=r.stateNode,a?h.insertBefore(r,a):h.appendChild(r);else if(v!==4&&(v===27&&ka(r.type)&&(h=r.stateNode),r=r.child,r!==null))for(Gu(r,a,h),r=r.sibling;r!==null;)Gu(r,a,h),r=r.sibling}function wg(r){var a=r.stateNode,h=r.memoizedProps;try{for(var v=r.type,C=a.attributes;C.length;)a.removeAttributeNode(C[0]);hi(a,v,h),a[sn]=r,a[Tn]=h}catch(w){Er(r,r.return,w)}}var Xs=!1,Hr=!1,$f=!1,Lg=typeof WeakSet=="function"?WeakSet:Set,si=null;function fy(r,a){if(r=r.containerInfo,pd=ic,r=vu(r),gl(r)){if("selectionStart"in r)var h={start:r.selectionStart,end:r.selectionEnd};else t:{h=(h=r.ownerDocument)&&h.defaultView||window;var v=h.getSelection&&h.getSelection();if(v&&v.rangeCount!==0){h=v.anchorNode;var C=v.anchorOffset,w=v.focusNode;v=v.focusOffset;try{h.nodeType,w.nodeType}catch{h=null;break t}var H=0,tt=-1,yt=-1,Pt=0,Jt=0,ce=r,Ut=null;e:for(;;){for(var Qt;ce!==h||C!==0&&ce.nodeType!==3||(tt=H+C),ce!==w||v!==0&&ce.nodeType!==3||(yt=H+v),ce.nodeType===3&&(H+=ce.nodeValue.length),(Qt=ce.firstChild)!==null;)Ut=ce,ce=Qt;for(;;){if(ce===r)break e;if(Ut===h&&++Pt===C&&(tt=H),Ut===w&&++Jt===v&&(yt=H),(Qt=ce.nextSibling)!==null)break;ce=Ut,Ut=ce.parentNode}ce=Qt}h=tt===-1||yt===-1?null:{start:tt,end:yt}}else h=null}h=h||{start:0,end:0}}else h=null;for(md={focusedElem:r,selectionRange:h},ic=!1,si=a;si!==null;)if(a=si,r=a.child,(a.subtreeFlags&1024)!==0&&r!==null)r.return=a,si=r;else for(;si!==null;){switch(a=si,w=a.alternate,r=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&w!==null){r=void 0,h=a,C=w.memoizedProps,w=w.memoizedState,v=h.stateNode;try{var Rn=fo(h.type,C,h.elementType===h.type);r=v.getSnapshotBeforeUpdate(Rn,w),v.__reactInternalSnapshotBeforeUpdate=r}catch(Cn){Er(h,h.return,Cn)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,h=r.nodeType,h===9)bd(r);else if(h===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":bd(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=a.sibling,r!==null){r.return=a.return,si=r;break}si=a.return}}function Rg(r,a,h){var v=h.flags;switch(h.tag){case 0:case 11:case 15:xa(r,h),v&4&&Il(5,h);break;case 1:if(xa(r,h),v&4)if(r=h.stateNode,a===null)try{r.componentDidMount()}catch(H){Er(h,h.return,H)}else{var C=fo(h.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(C,a,r.__reactInternalSnapshotBeforeUpdate)}catch(H){Er(h,h.return,H)}}v&64&&Cg(h),v&512&&Dl(h,h.return);break;case 3:if(xa(r,h),v&64&&(r=h.updateQueue,r!==null)){if(a=null,h.child!==null)switch(h.child.tag){case 27:case 5:a=h.child.stateNode;break;case 1:a=h.child.stateNode}try{uA(r,a)}catch(H){Er(h,h.return,H)}}break;case 27:a===null&&v&4&&wg(h);case 26:case 5:xa(r,h),a===null&&v&4&&xg(h),v&512&&Dl(h,h.return);break;case 12:xa(r,h);break;case 13:xa(r,h),v&4&&kg(r,h),v&64&&(r=h.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(h=by.bind(null,h),Uy(r,h))));break;case 22:if(v=h.memoizedState!==null||Xs,!v){a=a!==null&&a.memoizedState!==null||Hr,C=Xs;var w=Hr;Xs=v,(Hr=a)&&!w?Ta(r,h,(h.subtreeFlags&8772)!==0):xa(r,h),Xs=C,Hr=w}break;case 30:break;default:xa(r,h)}}function Ig(r){var a=r.alternate;a!==null&&(r.alternate=null,Ig(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&Rr(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Ir=null,Oi=!1;function Zs(r,a,h){for(h=h.child;h!==null;)Dg(r,a,h),h=h.sibling}function Dg(r,a,h){if(le&&typeof le.onCommitFiberUnmount=="function")try{le.onCommitFiberUnmount(ge,h)}catch{}switch(h.tag){case 26:Hr||Rs(h,a),Zs(r,a,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Hr||Rs(h,a);var v=Ir,C=Oi;ka(h.type)&&(Ir=h.stateNode,Oi=!1),Zs(r,a,h),Fl(h.stateNode),Ir=v,Oi=C;break;case 5:Hr||Rs(h,a);case 6:if(v=Ir,C=Oi,Ir=null,Zs(r,a,h),Ir=v,Oi=C,Ir!==null)if(Oi)try{(Ir.nodeType===9?Ir.body:Ir.nodeName==="HTML"?Ir.ownerDocument.body:Ir).removeChild(h.stateNode)}catch(w){Er(h,a,w)}else try{Ir.removeChild(h.stateNode)}catch(w){Er(h,a,w)}break;case 18:Ir!==null&&(Oi?(r=Ir,vp(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,h.stateNode),Vl(r)):vp(Ir,h.stateNode));break;case 4:v=Ir,C=Oi,Ir=h.stateNode.containerInfo,Oi=!0,Zs(r,a,h),Ir=v,Oi=C;break;case 0:case 11:case 14:case 15:Hr||Sa(2,h,a),Hr||Sa(4,h,a),Zs(r,a,h);break;case 1:Hr||(Rs(h,a),v=h.stateNode,typeof v.componentWillUnmount=="function"&&Sg(h,a,v)),Zs(r,a,h);break;case 21:Zs(r,a,h);break;case 22:Hr=(v=Hr)||h.memoizedState!==null,Zs(r,a,h),Hr=v;break;default:Zs(r,a,h)}}function kg(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Vl(r)}catch(h){Er(a,a.return,h)}}function dy(r){switch(r.tag){case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new Lg),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new Lg),a;default:throw Error(i(435,r.tag))}}function Vf(r,a){var h=dy(r);a.forEach(function(v){var C=Ey.bind(null,r,v);h.has(v)||(h.add(v),v.then(C,C))})}function zi(r,a){var h=a.deletions;if(h!==null)for(var v=0;v<h.length;v++){var C=h[v],w=r,H=a,tt=H;t:for(;tt!==null;){switch(tt.tag){case 27:if(ka(tt.type)){Ir=tt.stateNode,Oi=!1;break t}break;case 5:Ir=tt.stateNode,Oi=!1;break t;case 3:case 4:Ir=tt.stateNode.containerInfo,Oi=!0;break t}tt=tt.return}if(Ir===null)throw Error(i(160));Dg(w,H,C),Ir=null,Oi=!1,w=C.alternate,w!==null&&(w.return=null),C.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)Bg(a,r),a=a.sibling}var ys=null;function Bg(r,a){var h=r.alternate,v=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:zi(a,r),Hi(r),v&4&&(Sa(3,r,r.return),Il(3,r),Sa(5,r,r.return));break;case 1:zi(a,r),Hi(r),v&512&&(Hr||h===null||Rs(h,h.return)),v&64&&Xs&&(r=r.updateQueue,r!==null&&(v=r.callbacks,v!==null&&(h=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=h===null?v:h.concat(v))));break;case 26:var C=ys;if(zi(a,r),Hi(r),v&512&&(Hr||h===null||Rs(h,h.return)),v&4){var w=h!==null?h.memoizedState:null;if(v=r.memoizedState,h===null)if(v===null)if(r.stateNode===null){t:{v=r.type,h=r.memoizedProps,C=C.ownerDocument||C;e:switch(v){case"title":w=C.getElementsByTagName("title")[0],(!w||w[li]||w[sn]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=C.createElement(v),C.head.insertBefore(w,C.querySelector("head > title"))),hi(w,v,h),w[sn]=r,jn(w),v=w;break t;case"link":var H=wp("link","href",C).get(v+(h.href||""));if(H){for(var tt=0;tt<H.length;tt++)if(w=H[tt],w.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&w.getAttribute("rel")===(h.rel==null?null:h.rel)&&w.getAttribute("title")===(h.title==null?null:h.title)&&w.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){H.splice(tt,1);break e}}w=C.createElement(v),hi(w,v,h),C.head.appendChild(w);break;case"meta":if(H=wp("meta","content",C).get(v+(h.content||""))){for(tt=0;tt<H.length;tt++)if(w=H[tt],w.getAttribute("content")===(h.content==null?null:""+h.content)&&w.getAttribute("name")===(h.name==null?null:h.name)&&w.getAttribute("property")===(h.property==null?null:h.property)&&w.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&w.getAttribute("charset")===(h.charSet==null?null:h.charSet)){H.splice(tt,1);break e}}w=C.createElement(v),hi(w,v,h),C.head.appendChild(w);break;default:throw Error(i(468,v))}w[sn]=r,jn(w),v=w}r.stateNode=v}else Lp(C,r.type,r.stateNode);else r.stateNode=Tp(C,v,r.memoizedProps);else w!==v?(w===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):w.count--,v===null?Lp(C,r.type,r.stateNode):Tp(C,v,r.memoizedProps)):v===null&&r.stateNode!==null&&zf(r,r.memoizedProps,h.memoizedProps)}break;case 27:zi(a,r),Hi(r),v&512&&(Hr||h===null||Rs(h,h.return)),h!==null&&v&4&&zf(r,r.memoizedProps,h.memoizedProps);break;case 5:if(zi(a,r),Hi(r),v&512&&(Hr||h===null||Rs(h,h.return)),r.flags&32){C=r.stateNode;try{os(C,"")}catch(Qt){Er(r,r.return,Qt)}}v&4&&r.stateNode!=null&&(C=r.memoizedProps,zf(r,C,h!==null?h.memoizedProps:C)),v&1024&&($f=!0);break;case 6:if(zi(a,r),Hi(r),v&4){if(r.stateNode===null)throw Error(i(162));v=r.memoizedProps,h=r.stateNode;try{h.nodeValue=v}catch(Qt){Er(r,r.return,Qt)}}break;case 3:if(ec=null,C=ys,ys=Ju(a.containerInfo),zi(a,r),ys=C,Hi(r),v&4&&h!==null&&h.memoizedState.isDehydrated)try{Vl(a.containerInfo)}catch(Qt){Er(r,r.return,Qt)}$f&&($f=!1,Og(r));break;case 4:v=ys,ys=Ju(r.stateNode.containerInfo),zi(a,r),Hi(r),ys=v;break;case 12:zi(a,r),Hi(r);break;case 13:zi(a,r),Hi(r),r.child.flags&8192&&r.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(Jf=Le()),v&4&&(v=r.updateQueue,v!==null&&(r.updateQueue=null,Vf(r,v)));break;case 22:C=r.memoizedState!==null;var yt=h!==null&&h.memoizedState!==null,Pt=Xs,Jt=Hr;if(Xs=Pt||C,Hr=Jt||yt,zi(a,r),Hr=Jt,Xs=Pt,Hi(r),v&8192)t:for(a=r.stateNode,a._visibility=C?a._visibility&-2:a._visibility|1,C&&(h===null||yt||Xs||Hr||ho(r)),h=null,a=r;;){if(a.tag===5||a.tag===26){if(h===null){yt=h=a;try{if(w=yt.stateNode,C)H=w.style,typeof H.setProperty=="function"?H.setProperty("display","none","important"):H.display="none";else{tt=yt.stateNode;var ce=yt.memoizedProps.style,Ut=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;tt.style.display=Ut==null||typeof Ut=="boolean"?"":(""+Ut).trim()}}catch(Qt){Er(yt,yt.return,Qt)}}}else if(a.tag===6){if(h===null){yt=a;try{yt.stateNode.nodeValue=C?"":yt.memoizedProps}catch(Qt){Er(yt,yt.return,Qt)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break t;for(;a.sibling===null;){if(a.return===null||a.return===r)break t;h===a&&(h=null),a=a.return}h===a&&(h=null),a.sibling.return=a.return,a=a.sibling}v&4&&(v=r.updateQueue,v!==null&&(h=v.retryQueue,h!==null&&(v.retryQueue=null,Vf(r,h))));break;case 19:zi(a,r),Hi(r),v&4&&(v=r.updateQueue,v!==null&&(r.updateQueue=null,Vf(r,v)));break;case 30:break;case 21:break;default:zi(a,r),Hi(r)}}function Hi(r){var a=r.flags;if(a&2){try{for(var h,v=r.return;v!==null;){if(Tg(v)){h=v;break}v=v.return}if(h==null)throw Error(i(160));switch(h.tag){case 27:var C=h.stateNode,w=Hf(r);Gu(r,w,C);break;case 5:var H=h.stateNode;h.flags&32&&(os(H,""),h.flags&=-33);var tt=Hf(r);Gu(r,tt,H);break;case 3:case 4:var yt=h.stateNode.containerInfo,Pt=Hf(r);Yf(r,Pt,yt);break;default:throw Error(i(161))}}catch(Jt){Er(r,r.return,Jt)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function Og(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;Og(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function xa(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Rg(r,a.alternate,a),a=a.sibling}function ho(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:Sa(4,a,a.return),ho(a);break;case 1:Rs(a,a.return);var h=a.stateNode;typeof h.componentWillUnmount=="function"&&Sg(a,a.return,h),ho(a);break;case 27:Fl(a.stateNode);case 26:case 5:Rs(a,a.return),ho(a);break;case 22:a.memoizedState===null&&ho(a);break;case 30:ho(a);break;default:ho(a)}r=r.sibling}}function Ta(r,a,h){for(h=h&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var v=a.alternate,C=r,w=a,H=w.flags;switch(w.tag){case 0:case 11:case 15:Ta(C,w,h),Il(4,w);break;case 1:if(Ta(C,w,h),v=w,C=v.stateNode,typeof C.componentDidMount=="function")try{C.componentDidMount()}catch(Pt){Er(v,v.return,Pt)}if(v=w,C=v.updateQueue,C!==null){var tt=v.stateNode;try{var yt=C.shared.hiddenCallbacks;if(yt!==null)for(C.shared.hiddenCallbacks=null,C=0;C<yt.length;C++)lA(yt[C],tt)}catch(Pt){Er(v,v.return,Pt)}}h&&H&64&&Cg(w),Dl(w,w.return);break;case 27:wg(w);case 26:case 5:Ta(C,w,h),h&&v===null&&H&4&&xg(w),Dl(w,w.return);break;case 12:Ta(C,w,h);break;case 13:Ta(C,w,h),h&&H&4&&kg(C,w);break;case 22:w.memoizedState===null&&Ta(C,w,h),Dl(w,w.return);break;case 30:break;default:Ta(C,w,h)}a=a.sibling}}function Kf(r,a){var h=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(h=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==h&&(r!=null&&r.refCount++,h!=null&&ao(h))}function Wf(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&ao(r))}function Is(r,a,h,v){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)_g(r,a,h,v),a=a.sibling}function _g(r,a,h,v){var C=a.flags;switch(a.tag){case 0:case 11:case 15:Is(r,a,h,v),C&2048&&Il(9,a);break;case 1:Is(r,a,h,v);break;case 3:Is(r,a,h,v),C&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&ao(r)));break;case 12:if(C&2048){Is(r,a,h,v),r=a.stateNode;try{var w=a.memoizedProps,H=w.id,tt=w.onPostCommit;typeof tt=="function"&&tt(H,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(yt){Er(a,a.return,yt)}}else Is(r,a,h,v);break;case 13:Is(r,a,h,v);break;case 23:break;case 22:w=a.stateNode,H=a.alternate,a.memoizedState!==null?w._visibility&2?Is(r,a,h,v):kl(r,a):w._visibility&2?Is(r,a,h,v):(w._visibility|=2,Go(r,a,h,v,(a.subtreeFlags&10256)!==0)),C&2048&&Kf(H,a);break;case 24:Is(r,a,h,v),C&2048&&Wf(a.alternate,a);break;default:Is(r,a,h,v)}}function Go(r,a,h,v,C){for(C=C&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var w=r,H=a,tt=h,yt=v,Pt=H.flags;switch(H.tag){case 0:case 11:case 15:Go(w,H,tt,yt,C),Il(8,H);break;case 23:break;case 22:var Jt=H.stateNode;H.memoizedState!==null?Jt._visibility&2?Go(w,H,tt,yt,C):kl(w,H):(Jt._visibility|=2,Go(w,H,tt,yt,C)),C&&Pt&2048&&Kf(H.alternate,H);break;case 24:Go(w,H,tt,yt,C),C&&Pt&2048&&Wf(H.alternate,H);break;default:Go(w,H,tt,yt,C)}a=a.sibling}}function kl(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var h=r,v=a,C=v.flags;switch(v.tag){case 22:kl(h,v),C&2048&&Kf(v.alternate,v);break;case 24:kl(h,v),C&2048&&Wf(v.alternate,v);break;default:kl(h,v)}a=a.sibling}}var Bl=8192;function Qo(r){if(r.subtreeFlags&Bl)for(r=r.child;r!==null;)Mg(r),r=r.sibling}function Mg(r){switch(r.tag){case 26:Qo(r),r.flags&Bl&&r.memoizedState!==null&&Xy(ys,r.memoizedState,r.memoizedProps);break;case 5:Qo(r);break;case 3:case 4:var a=ys;ys=Ju(r.stateNode.containerInfo),Qo(r),ys=a;break;case 22:r.memoizedState===null&&(a=r.alternate,a!==null&&a.memoizedState!==null?(a=Bl,Bl=16777216,Qo(r),Bl=a):Qo(r));break;default:Qo(r)}}function Pg(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function Ol(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var h=0;h<a.length;h++){var v=a[h];si=v,Ug(v,r)}Pg(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Ng(r),r=r.sibling}function Ng(r){switch(r.tag){case 0:case 11:case 15:Ol(r),r.flags&2048&&Sa(9,r,r.return);break;case 3:Ol(r);break;case 12:Ol(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,Qu(r)):Ol(r);break;default:Ol(r)}}function Qu(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var h=0;h<a.length;h++){var v=a[h];si=v,Ug(v,r)}Pg(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:Sa(8,a,a.return),Qu(a);break;case 22:h=a.stateNode,h._visibility&2&&(h._visibility&=-3,Qu(a));break;default:Qu(a)}r=r.sibling}}function Ug(r,a){for(;si!==null;){var h=si;switch(h.tag){case 0:case 11:case 15:Sa(8,h,a);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var v=h.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:ao(h.memoizedState.cache)}if(v=h.child,v!==null)v.return=h,si=v;else t:for(h=r;si!==null;){v=si;var C=v.sibling,w=v.return;if(Ig(v),v===h){si=null;break t}if(C!==null){C.return=w,si=C;break t}si=w}}}var hy={getCacheForType:function(r){var a=Vr(Nr),h=a.data.get(r);return h===void 0&&(h=r(),a.data.set(r,h)),h}},Ay=typeof WeakMap=="function"?WeakMap:Map,fr=0,Tr=null,qn=null,er=0,dr=0,Yi=null,wa=!1,jo=!1,qf=!1,Js=0,Ur=0,La=0,Ao=0,Xf=0,ns=0,zo=0,_l=null,_i=null,Zf=!1,Jf=0,ju=1/0,zu=null,Ra=null,di=0,Ia=null,Ho=null,Yo=0,td=0,ed=null,Fg=null,Ml=0,nd=null;function $i(){if((fr&2)!==0&&er!==0)return er&-er;if(Y.T!==null){var r=pa;return r!==0?r:ud()}return ze()}function Gg(){ns===0&&(ns=(er&536870912)===0||Ze?ie():536870912);var r=es.current;return r!==null&&(r.flags|=32),ns}function Vi(r,a,h){(r===Tr&&(dr===2||dr===9)||r.cancelPendingCommit!==null)&&($o(r,0),Da(r,er,ns,!1)),Fe(r,h),((fr&2)===0||r!==Tr)&&(r===Tr&&((fr&2)===0&&(Ao|=h),Ur===4&&Da(r,er,ns,!1)),Ds(r))}function Qg(r,a,h){if((fr&6)!==0)throw Error(i(327));var v=!h&&(a&124)===0&&(a&r.expiredLanes)===0||on(r,a),C=v?my(r,a):sd(r,a,!0),w=v;do{if(C===0){jo&&!v&&Da(r,a,0,!1);break}else{if(h=r.current.alternate,w&&!gy(h)){C=sd(r,a,!1),w=!1;continue}if(C===2){if(w=a,r.errorRecoveryDisabledLanes&w)var H=0;else H=r.pendingLanes&-536870913,H=H!==0?H:H&536870912?536870912:0;if(H!==0){a=H;t:{var tt=r;C=_l;var yt=tt.current.memoizedState.isDehydrated;if(yt&&($o(tt,H).flags|=256),H=sd(tt,H,!1),H!==2){if(qf&&!yt){tt.errorRecoveryDisabledLanes|=w,Ao|=w,C=4;break t}w=_i,_i=C,w!==null&&(_i===null?_i=w:_i.push.apply(_i,w))}C=H}if(w=!1,C!==2)continue}}if(C===1){$o(r,0),Da(r,a,0,!0);break}t:{switch(v=r,w=C,w){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:Da(v,a,ns,!wa);break t;case 2:_i=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(C=Jf+300-Le(),10<C)){if(Da(v,a,ns,!wa),Te(v,0,!0)!==0)break t;v.timeoutHandle=pp(jg.bind(null,v,h,_i,zu,Zf,a,ns,Ao,zo,wa,w,2,-0,0),C);break t}jg(v,h,_i,zu,Zf,a,ns,Ao,zo,wa,w,0,-0,0)}}break}while(!0);Ds(r)}function jg(r,a,h,v,C,w,H,tt,yt,Pt,Jt,ce,Ut,Qt){if(r.timeoutHandle=-1,ce=a.subtreeFlags,(ce&8192||(ce&16785408)===16785408)&&(jl={stylesheets:null,count:0,unsuspend:qy},Mg(a),ce=Zy(),ce!==null)){r.cancelPendingCommit=ce(Wg.bind(null,r,a,w,h,v,C,H,tt,yt,Jt,1,Ut,Qt)),Da(r,w,H,!Pt);return}Wg(r,a,w,h,v,C,H,tt,yt)}function gy(r){for(var a=r;;){var h=a.tag;if((h===0||h===11||h===15)&&a.flags&16384&&(h=a.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var v=0;v<h.length;v++){var C=h[v],w=C.getSnapshot;C=C.value;try{if(!Ri(w(),C))return!1}catch{return!1}}if(h=a.child,a.subtreeFlags&16384&&h!==null)h.return=a,a=h;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Da(r,a,h,v){a&=~Xf,a&=~Ao,r.suspendedLanes|=a,r.pingedLanes&=~a,v&&(r.warmLanes|=a),v=r.expirationTimes;for(var C=a;0<C;){var w=31-It(C),H=1<<w;v[w]=-1,C&=~H}h!==0&&pn(r,h,a)}function Hu(){return(fr&6)===0?(Pl(0),!1):!0}function rd(){if(qn!==null){if(dr===0)var r=qn.return;else r=qn,lr=tr=null,bf(r),Uo=null,wl=0,r=qn;for(;r!==null;)Eg(r.alternate,r),r=r.return;qn=null}}function $o(r,a){var h=r.timeoutHandle;h!==-1&&(r.timeoutHandle=-1,Oy(h)),h=r.cancelPendingCommit,h!==null&&(r.cancelPendingCommit=null,h()),rd(),Tr=r,qn=h=Se(r.current,null),er=a,dr=0,Yi=null,wa=!1,jo=on(r,a),qf=!1,zo=ns=Xf=Ao=La=Ur=0,_i=_l=null,Zf=!1,(a&8)!==0&&(a|=a&32);var v=r.entangledLanes;if(v!==0)for(r=r.entanglements,v&=a;0<v;){var C=31-It(v),w=1<<C;a|=r[C],v&=~w}return Js=a,Nt(),h}function zg(r,a){zn=null,Y.H=ku,a===ml||a===Eu?(a=aA(),dr=3):a===rA?(a=aA(),dr=4):dr=a===og?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Yi=a,qn===null&&(Ur=1,Pu(r,ft(a,r.current)))}function Hg(){var r=Y.H;return Y.H=ku,r===null?ku:r}function Yg(){var r=Y.A;return Y.A=hy,r}function id(){Ur=4,wa||(er&4194048)!==er&&es.current!==null||(jo=!0),(La&134217727)===0&&(Ao&134217727)===0||Tr===null||Da(Tr,er,ns,!1)}function sd(r,a,h){var v=fr;fr|=2;var C=Hg(),w=Yg();(Tr!==r||er!==a)&&(zu=null,$o(r,a)),a=!1;var H=Ur;t:do try{if(dr!==0&&qn!==null){var tt=qn,yt=Yi;switch(dr){case 8:rd(),H=6;break t;case 3:case 2:case 9:case 6:es.current===null&&(a=!0);var Pt=dr;if(dr=0,Yi=null,Vo(r,tt,yt,Pt),h&&jo){H=0;break t}break;default:Pt=dr,dr=0,Yi=null,Vo(r,tt,yt,Pt)}}py(),H=Ur;break}catch(Jt){zg(r,Jt)}while(!0);return a&&r.shellSuspendCounter++,lr=tr=null,fr=v,Y.H=C,Y.A=w,qn===null&&(Tr=null,er=0,Nt()),H}function py(){for(;qn!==null;)$g(qn)}function my(r,a){var h=fr;fr|=2;var v=Hg(),C=Yg();Tr!==r||er!==a?(zu=null,ju=Le()+500,$o(r,a)):jo=on(r,a);t:do try{if(dr!==0&&qn!==null){a=qn;var w=Yi;e:switch(dr){case 1:dr=0,Yi=null,Vo(r,a,w,1);break;case 2:case 9:if(iA(w)){dr=0,Yi=null,Vg(a);break}a=function(){dr!==2&&dr!==9||Tr!==r||(dr=7),Ds(r)},w.then(a,a);break t;case 3:dr=7;break t;case 4:dr=5;break t;case 7:iA(w)?(dr=0,Yi=null,Vg(a)):(dr=0,Yi=null,Vo(r,a,w,7));break;case 5:var H=null;switch(qn.tag){case 26:H=qn.memoizedState;case 5:case 27:var tt=qn;if(!H||Rp(H)){dr=0,Yi=null;var yt=tt.sibling;if(yt!==null)qn=yt;else{var Pt=tt.return;Pt!==null?(qn=Pt,Yu(Pt)):qn=null}break e}}dr=0,Yi=null,Vo(r,a,w,5);break;case 6:dr=0,Yi=null,Vo(r,a,w,6);break;case 8:rd(),Ur=6;break t;default:throw Error(i(462))}}vy();break}catch(Jt){zg(r,Jt)}while(!0);return lr=tr=null,Y.H=v,Y.A=C,fr=h,qn!==null?0:(Tr=null,er=0,Nt(),Ur)}function vy(){for(;qn!==null&&!Ve();)$g(qn)}function $g(r){var a=yg(r.alternate,r,Js);r.memoizedProps=r.pendingProps,a===null?Yu(r):qn=a}function Vg(r){var a=r,h=a.alternate;switch(a.tag){case 15:case 0:a=hg(h,a,a.pendingProps,a.type,void 0,er);break;case 11:a=hg(h,a,a.pendingProps,a.type.render,a.ref,er);break;case 5:bf(a);default:Eg(h,a),a=qn=Ee(a,Js),a=yg(h,a,Js)}r.memoizedProps=r.pendingProps,a===null?Yu(r):qn=a}function Vo(r,a,h,v){lr=tr=null,bf(a),Uo=null,wl=0;var C=a.return;try{if(oy(r,C,a,h,er)){Ur=1,Pu(r,ft(h,r.current)),qn=null;return}}catch(w){if(C!==null)throw qn=C,w;Ur=1,Pu(r,ft(h,r.current)),qn=null;return}a.flags&32768?(Ze||v===1?r=!0:jo||(er&536870912)!==0?r=!1:(wa=r=!0,(v===2||v===9||v===3||v===6)&&(v=es.current,v!==null&&v.tag===13&&(v.flags|=16384))),Kg(a,r)):Yu(a)}function Yu(r){var a=r;do{if((a.flags&32768)!==0){Kg(a,wa);return}r=a.return;var h=uy(a.alternate,a,Js);if(h!==null){qn=h;return}if(a=a.sibling,a!==null){qn=a;return}qn=a=r}while(a!==null);Ur===0&&(Ur=5)}function Kg(r,a){do{var h=cy(r.alternate,r);if(h!==null){h.flags&=32767,qn=h;return}if(h=r.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!a&&(r=r.sibling,r!==null)){qn=r;return}qn=r=h}while(r!==null);Ur=6,qn=null}function Wg(r,a,h,v,C,w,H,tt,yt){r.cancelPendingCommit=null;do $u();while(di!==0);if((fr&6)!==0)throw Error(i(327));if(a!==null){if(a===r.current)throw Error(i(177));if(w=a.lanes|a.childLanes,w|=At,Xe(r,h,w,H,tt,yt),r===Tr&&(qn=Tr=null,er=0),Ho=a,Ia=r,Yo=h,td=w,ed=C,Fg=v,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,Cy(qe,function(){return tp(),null})):(r.callbackNode=null,r.callbackPriority=0),v=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||v){v=Y.T,Y.T=null,C=N.p,N.p=2,H=fr,fr|=4;try{fy(r,a,h)}finally{fr=H,N.p=C,Y.T=v}}di=1,qg(),Xg(),Zg()}}function qg(){if(di===1){di=0;var r=Ia,a=Ho,h=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||h){h=Y.T,Y.T=null;var v=N.p;N.p=2;var C=fr;fr|=4;try{Bg(a,r);var w=md,H=vu(r.containerInfo),tt=w.focusedElem,yt=w.selectionRange;if(H!==tt&&tt&&tt.ownerDocument&&mu(tt.ownerDocument.documentElement,tt)){if(yt!==null&&gl(tt)){var Pt=yt.start,Jt=yt.end;if(Jt===void 0&&(Jt=Pt),"selectionStart"in tt)tt.selectionStart=Pt,tt.selectionEnd=Math.min(Jt,tt.value.length);else{var ce=tt.ownerDocument||document,Ut=ce&&ce.defaultView||window;if(Ut.getSelection){var Qt=Ut.getSelection(),Rn=tt.textContent.length,Cn=Math.min(yt.start,Rn),mr=yt.end===void 0?Cn:Math.min(yt.end,Rn);!Qt.extend&&Cn>mr&&(H=mr,mr=Cn,Cn=H);var Rt=pu(tt,Cn),wt=pu(tt,mr);if(Rt&&wt&&(Qt.rangeCount!==1||Qt.anchorNode!==Rt.node||Qt.anchorOffset!==Rt.offset||Qt.focusNode!==wt.node||Qt.focusOffset!==wt.offset)){var Mt=ce.createRange();Mt.setStart(Rt.node,Rt.offset),Qt.removeAllRanges(),Cn>mr?(Qt.addRange(Mt),Qt.extend(wt.node,wt.offset)):(Mt.setEnd(wt.node,wt.offset),Qt.addRange(Mt))}}}}for(ce=[],Qt=tt;Qt=Qt.parentNode;)Qt.nodeType===1&&ce.push({element:Qt,left:Qt.scrollLeft,top:Qt.scrollTop});for(typeof tt.focus=="function"&&tt.focus(),tt=0;tt<ce.length;tt++){var re=ce[tt];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}ic=!!pd,md=pd=null}finally{fr=C,N.p=v,Y.T=h}}r.current=a,di=2}}function Xg(){if(di===2){di=0;var r=Ia,a=Ho,h=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||h){h=Y.T,Y.T=null;var v=N.p;N.p=2;var C=fr;fr|=4;try{Rg(r,a.alternate,a)}finally{fr=C,N.p=v,Y.T=h}}di=3}}function Zg(){if(di===4||di===3){di=0,we();var r=Ia,a=Ho,h=Yo,v=Fg;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?di=5:(di=0,Ho=Ia=null,Jg(r,r.pendingLanes));var C=r.pendingLanes;if(C===0&&(Ra=null),Re(h),a=a.stateNode,le&&typeof le.onCommitFiberRoot=="function")try{le.onCommitFiberRoot(ge,a,void 0,(a.current.flags&128)===128)}catch{}if(v!==null){a=Y.T,C=N.p,N.p=2,Y.T=null;try{for(var w=r.onRecoverableError,H=0;H<v.length;H++){var tt=v[H];w(tt.value,{componentStack:tt.stack})}}finally{Y.T=a,N.p=C}}(Yo&3)!==0&&$u(),Ds(r),C=r.pendingLanes,(h&4194090)!==0&&(C&42)!==0?r===nd?Ml++:(Ml=0,nd=r):Ml=0,Pl(0)}}function Jg(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,ao(a)))}function $u(r){return qg(),Xg(),Zg(),tp()}function tp(){if(di!==5)return!1;var r=Ia,a=td;td=0;var h=Re(Yo),v=Y.T,C=N.p;try{N.p=32>h?32:h,Y.T=null,h=ed,ed=null;var w=Ia,H=Yo;if(di=0,Ho=Ia=null,Yo=0,(fr&6)!==0)throw Error(i(331));var tt=fr;if(fr|=4,Ng(w.current),_g(w,w.current,H,h),fr=tt,Pl(0,!1),le&&typeof le.onPostCommitFiberRoot=="function")try{le.onPostCommitFiberRoot(ge,w)}catch{}return!0}finally{N.p=C,Y.T=v,Jg(r,a)}}function ep(r,a,h){a=ft(h,a),a=_f(r.stateNode,a,2),r=ya(r,a,2),r!==null&&(Fe(r,2),Ds(r))}function Er(r,a,h){if(r.tag===3)ep(r,r,h);else for(;a!==null;){if(a.tag===3){ep(a,r,h);break}else if(a.tag===1){var v=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Ra===null||!Ra.has(v))){r=ft(h,r),h=sg(2),v=ya(a,h,2),v!==null&&(ag(h,v,a,r),Fe(v,2),Ds(v));break}}a=a.return}}function ad(r,a,h){var v=r.pingCache;if(v===null){v=r.pingCache=new Ay;var C=new Set;v.set(a,C)}else C=v.get(a),C===void 0&&(C=new Set,v.set(a,C));C.has(h)||(qf=!0,C.add(h),r=yy.bind(null,r,a,h),a.then(r,r))}function yy(r,a,h){var v=r.pingCache;v!==null&&v.delete(a),r.pingedLanes|=r.suspendedLanes&h,r.warmLanes&=~h,Tr===r&&(er&h)===h&&(Ur===4||Ur===3&&(er&62914560)===er&&300>Le()-Jf?(fr&2)===0&&$o(r,0):Xf|=h,zo===er&&(zo=0)),Ds(r)}function np(r,a){a===0&&(a=Me()),r=Wt(r,a),r!==null&&(Fe(r,a),Ds(r))}function by(r){var a=r.memoizedState,h=0;a!==null&&(h=a.retryLane),np(r,h)}function Ey(r,a){var h=0;switch(r.tag){case 13:var v=r.stateNode,C=r.memoizedState;C!==null&&(h=C.retryLane);break;case 19:v=r.stateNode;break;case 22:v=r.stateNode._retryCache;break;default:throw Error(i(314))}v!==null&&v.delete(a),np(r,h)}function Cy(r,a){return xe(r,a)}var Vu=null,Ko=null,od=!1,Ku=!1,ld=!1,go=0;function Ds(r){r!==Ko&&r.next===null&&(Ko===null?Vu=Ko=r:Ko=Ko.next=r),Ku=!0,od||(od=!0,xy())}function Pl(r,a){if(!ld&&Ku){ld=!0;do for(var h=!1,v=Vu;v!==null;){if(r!==0){var C=v.pendingLanes;if(C===0)var w=0;else{var H=v.suspendedLanes,tt=v.pingedLanes;w=(1<<31-It(42|r)+1)-1,w&=C&~(H&~tt),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(h=!0,ap(v,w))}else w=er,w=Te(v,v===Tr?w:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(w&3)===0||on(v,w)||(h=!0,ap(v,w));v=v.next}while(h);ld=!1}}function Sy(){rp()}function rp(){Ku=od=!1;var r=0;go!==0&&(By()&&(r=go),go=0);for(var a=Le(),h=null,v=Vu;v!==null;){var C=v.next,w=ip(v,a);w===0?(v.next=null,h===null?Vu=C:h.next=C,C===null&&(Ko=h)):(h=v,(r!==0||(w&3)!==0)&&(Ku=!0)),v=C}Pl(r)}function ip(r,a){for(var h=r.suspendedLanes,v=r.pingedLanes,C=r.expirationTimes,w=r.pendingLanes&-62914561;0<w;){var H=31-It(w),tt=1<<H,yt=C[H];yt===-1?((tt&h)===0||(tt&v)!==0)&&(C[H]=hn(tt,a)):yt<=a&&(r.expiredLanes|=tt),w&=~tt}if(a=Tr,h=er,h=Te(r,r===a?h:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),v=r.callbackNode,h===0||r===a&&(dr===2||dr===9)||r.cancelPendingCommit!==null)return v!==null&&v!==null&&Ne(v),r.callbackNode=null,r.callbackPriority=0;if((h&3)===0||on(r,h)){if(a=h&-h,a===r.callbackPriority)return a;switch(v!==null&&Ne(v),Re(h)){case 2:case 8:h=cn;break;case 32:h=qe;break;case 268435456:h=Dn;break;default:h=qe}return v=sp.bind(null,r),h=xe(h,v),r.callbackPriority=a,r.callbackNode=h,a}return v!==null&&v!==null&&Ne(v),r.callbackPriority=2,r.callbackNode=null,2}function sp(r,a){if(di!==0&&di!==5)return r.callbackNode=null,r.callbackPriority=0,null;var h=r.callbackNode;if($u()&&r.callbackNode!==h)return null;var v=er;return v=Te(r,r===Tr?v:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),v===0?null:(Qg(r,v,a),ip(r,Le()),r.callbackNode!=null&&r.callbackNode===h?sp.bind(null,r):null)}function ap(r,a){if($u())return null;Qg(r,a,!0)}function xy(){_y(function(){(fr&6)!==0?xe(En,Sy):rp()})}function ud(){return go===0&&(go=ie()),go}function op(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:ci(""+r)}function lp(r,a){var h=a.ownerDocument.createElement("input");return h.name=a.name,h.value=a.value,r.id&&h.setAttribute("form",r.id),a.parentNode.insertBefore(h,a),r=new FormData(r),h.parentNode.removeChild(h),r}function Ty(r,a,h,v,C){if(a==="submit"&&h&&h.stateNode===C){var w=op((C[Tn]||null).action),H=v.submitter;H&&(a=(a=H[Tn]||null)?op(a.formAction):H.getAttribute("formAction"),a!==null&&(w=a,H=null));var tt=new zs("action","action",null,v,C);r.push({event:tt,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(go!==0){var yt=H?lp(C,H):new FormData(C);If(h,{pending:!0,data:yt,method:C.method,action:w},null,yt)}}else typeof w=="function"&&(tt.preventDefault(),yt=H?lp(C,H):new FormData(C),If(h,{pending:!0,data:yt,method:C.method,action:w},w,yt))},currentTarget:C}]})}}for(var cd=0;cd<ut.length;cd++){var fd=ut[cd],wy=fd.toLowerCase(),Ly=fd[0].toUpperCase()+fd.slice(1);st(wy,"on"+Ly)}st(z,"onAnimationEnd"),st(at,"onAnimationIteration"),st(rt,"onAnimationStart"),st("dblclick","onDoubleClick"),st("focusin","onFocus"),st("focusout","onBlur"),st(it,"onTransitionRun"),st(bt,"onTransitionStart"),st(lt,"onTransitionCancel"),st(ct,"onTransitionEnd"),Yt("onMouseEnter",["mouseout","mouseover"]),Yt("onMouseLeave",["mouseout","mouseover"]),Yt("onPointerEnter",["pointerout","pointerover"]),Yt("onPointerLeave",["pointerout","pointerover"]),Ht("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ht("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ht("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ht("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ht("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ht("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ry=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nl));function up(r,a){a=(a&4)!==0;for(var h=0;h<r.length;h++){var v=r[h],C=v.event;v=v.listeners;t:{var w=void 0;if(a)for(var H=v.length-1;0<=H;H--){var tt=v[H],yt=tt.instance,Pt=tt.currentTarget;if(tt=tt.listener,yt!==w&&C.isPropagationStopped())break t;w=tt,C.currentTarget=Pt;try{w(C)}catch(Jt){Mu(Jt)}C.currentTarget=null,w=yt}else for(H=0;H<v.length;H++){if(tt=v[H],yt=tt.instance,Pt=tt.currentTarget,tt=tt.listener,yt!==w&&C.isPropagationStopped())break t;w=tt,C.currentTarget=Pt;try{w(C)}catch(Jt){Mu(Jt)}C.currentTarget=null,w=yt}}}}function Xn(r,a){var h=a[or];h===void 0&&(h=a[or]=new Set);var v=r+"__bubble";h.has(v)||(cp(a,r,2,!1),h.add(v))}function dd(r,a,h){var v=0;a&&(v|=4),cp(h,r,v,a)}var Wu="_reactListening"+Math.random().toString(36).slice(2);function hd(r){if(!r[Wu]){r[Wu]=!0,gi.forEach(function(h){h!=="selectionchange"&&(Ry.has(h)||dd(h,!1,r),dd(h,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[Wu]||(a[Wu]=!0,dd("selectionchange",!1,a))}}function cp(r,a,h,v){switch(_p(a)){case 2:var C=e1;break;case 8:C=n1;break;default:C=Ld}h=C.bind(null,a,h,r),C=void 0,!Gi||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(C=!0),v?C!==void 0?r.addEventListener(a,h,{capture:!0,passive:C}):r.addEventListener(a,h,!0):C!==void 0?r.addEventListener(a,h,{passive:C}):r.addEventListener(a,h,!1)}function Ad(r,a,h,v,C){var w=v;if((a&1)===0&&(a&2)===0&&v!==null)t:for(;;){if(v===null)return;var H=v.tag;if(H===3||H===4){var tt=v.stateNode.containerInfo;if(tt===C)break;if(H===4)for(H=v.return;H!==null;){var yt=H.tag;if((yt===3||yt===4)&&H.stateNode.containerInfo===C)return;H=H.return}for(;tt!==null;){if(H=wr(tt),H===null)return;if(yt=H.tag,yt===5||yt===6||yt===26||yt===27){v=w=H;continue t}tt=tt.parentNode}}v=v.return}Si(function(){var Pt=w,Jt=xs(h),ce=[];t:{var Ut=ht.get(r);if(Ut!==void 0){var Qt=zs,Rn=r;switch(r){case"keypress":if(oa(h)===0)break t;case"keydown":case"keyup":Qt=cs;break;case"focusin":Rn="focus",Qt=ws;break;case"focusout":Rn="blur",Qt=ws;break;case"beforeblur":case"afterblur":Qt=ws;break;case"click":if(h.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Qt=Zn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Qt=fa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Qt=xo;break;case z:case at:case rt:Qt=J;break;case ct:Qt=ou;break;case"scroll":case"scrollend":Qt=Hs;break;case"wheel":Qt=Zc;break;case"copy":case"cut":case"paste":Qt=Et;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Qt=yi;break;case"toggle":case"beforetoggle":Qt=Za}var Cn=(a&4)!==0,mr=!Cn&&(r==="scroll"||r==="scrollend"),Rt=Cn?Ut!==null?Ut+"Capture":null:Ut;Cn=[];for(var wt=Pt,Mt;wt!==null;){var re=wt;if(Mt=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||Mt===null||Rt===null||(re=wn(wt,Rt),re!=null&&Cn.push(Ul(wt,re,Mt))),mr)break;wt=wt.return}0<Cn.length&&(Ut=new Qt(Ut,Rn,null,h,Jt),ce.push({event:Ut,listeners:Cn}))}}if((a&7)===0){t:{if(Ut=r==="mouseover"||r==="pointerover",Qt=r==="mouseout"||r==="pointerout",Ut&&h!==Qs&&(Rn=h.relatedTarget||h.fromElement)&&(wr(Rn)||Rn[$n]))break t;if((Qt||Ut)&&(Ut=Jt.window===Jt?Jt:(Ut=Jt.ownerDocument)?Ut.defaultView||Ut.parentWindow:window,Qt?(Rn=h.relatedTarget||h.toElement,Qt=Pt,Rn=Rn?wr(Rn):null,Rn!==null&&(mr=d(Rn),Cn=Rn.tag,Rn!==mr||Cn!==5&&Cn!==27&&Cn!==6)&&(Rn=null)):(Qt=null,Rn=Pt),Qt!==Rn)){if(Cn=Zn,re="onMouseLeave",Rt="onMouseEnter",wt="mouse",(r==="pointerout"||r==="pointerover")&&(Cn=yi,re="onPointerLeave",Rt="onPointerEnter",wt="pointer"),mr=Qt==null?Ut:Yr(Qt),Mt=Rn==null?Ut:Yr(Rn),Ut=new Cn(re,wt+"leave",Qt,h,Jt),Ut.target=mr,Ut.relatedTarget=Mt,re=null,wr(Jt)===Pt&&(Cn=new Cn(Rt,wt+"enter",Rn,h,Jt),Cn.target=Mt,Cn.relatedTarget=mr,re=Cn),mr=re,Qt&&Rn)e:{for(Cn=Qt,Rt=Rn,wt=0,Mt=Cn;Mt;Mt=Wo(Mt))wt++;for(Mt=0,re=Rt;re;re=Wo(re))Mt++;for(;0<wt-Mt;)Cn=Wo(Cn),wt--;for(;0<Mt-wt;)Rt=Wo(Rt),Mt--;for(;wt--;){if(Cn===Rt||Rt!==null&&Cn===Rt.alternate)break e;Cn=Wo(Cn),Rt=Wo(Rt)}Cn=null}else Cn=null;Qt!==null&&fp(ce,Ut,Qt,Cn,!1),Rn!==null&&mr!==null&&fp(ce,mr,Rn,Cn,!0)}}t:{if(Ut=Pt?Yr(Pt):window,Qt=Ut.nodeName&&Ut.nodeName.toLowerCase(),Qt==="select"||Qt==="input"&&Ut.type==="file")var tn=Li;else if(du(Ut))if(to)tn=af;else{tn=rf;var Vn=nf}else Qt=Ut.nodeName,!Qt||Qt.toLowerCase()!=="input"||Ut.type!=="checkbox"&&Ut.type!=="radio"?Pt&&Gs(Pt.elementType)&&(tn=Li):tn=sf;if(tn&&(tn=tn(r,Pt))){hl(ce,tn,h,Jt);break t}Vn&&Vn(r,Ut,Pt),r==="focusout"&&Pt&&Ut.type==="number"&&Pt.memoizedProps.value!=null&&Ha(Ut,"number",Ut.value)}switch(Vn=Pt?Yr(Pt):window,r){case"focusin":(du(Vn)||Vn.contentEditable==="true")&&(ji=Vn,Aa=Pt,no=null);break;case"focusout":no=Aa=ji=null;break;case"mousedown":pl=!0;break;case"contextmenu":case"mouseup":case"dragend":pl=!1,R(ce,h,Jt);break;case"selectionchange":if(Io)break;case"keydown":case"keyup":R(ce,h,Jt)}var dn;if(wo)t:{switch(r){case"compositionstart":var xn="onCompositionStart";break t;case"compositionend":xn="onCompositionEnd";break t;case"compositionupdate":xn="onCompositionUpdate";break t}xn=void 0}else da?cu(r,h)&&(xn="onCompositionEnd"):r==="keydown"&&h.keyCode===229&&(xn="onCompositionStart");xn&&(Qi&&h.locale!=="ko"&&(da||xn!=="onCompositionStart"?xn==="onCompositionEnd"&&da&&(dn=Co()):(xi=Jt,Ka="value"in xi?xi.value:xi.textContent,da=!0)),Vn=qu(Pt,xn),0<Vn.length&&(xn=new Lt(xn,r,null,h,Jt),ce.push({event:xn,listeners:Vn}),dn?xn.data=dn:(dn=fu(h),dn!==null&&(xn.data=dn)))),(dn=ds?dl(r,h):hs(r,h))&&(xn=qu(Pt,"onBeforeInput"),0<xn.length&&(Vn=new Lt("onBeforeInput","beforeinput",null,h,Jt),ce.push({event:Vn,listeners:xn}),Vn.data=dn)),Ty(ce,r,Pt,h,Jt)}up(ce,a)})}function Ul(r,a,h){return{instance:r,listener:a,currentTarget:h}}function qu(r,a){for(var h=a+"Capture",v=[];r!==null;){var C=r,w=C.stateNode;if(C=C.tag,C!==5&&C!==26&&C!==27||w===null||(C=wn(r,h),C!=null&&v.unshift(Ul(r,C,w)),C=wn(r,a),C!=null&&v.push(Ul(r,C,w))),r.tag===3)return v;r=r.return}return[]}function Wo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function fp(r,a,h,v,C){for(var w=a._reactName,H=[];h!==null&&h!==v;){var tt=h,yt=tt.alternate,Pt=tt.stateNode;if(tt=tt.tag,yt!==null&&yt===v)break;tt!==5&&tt!==26&&tt!==27||Pt===null||(yt=Pt,C?(Pt=wn(h,w),Pt!=null&&H.unshift(Ul(h,Pt,yt))):C||(Pt=wn(h,w),Pt!=null&&H.push(Ul(h,Pt,yt)))),h=h.return}H.length!==0&&r.push({event:a,listeners:H})}var Iy=/\r\n?/g,Dy=/\u0000|\uFFFD/g;function dp(r){return(typeof r=="string"?r:""+r).replace(Iy,`
`).replace(Dy,"")}function hp(r,a){return a=dp(a),dp(r)===a}function Xu(){}function pr(r,a,h,v,C,w){switch(h){case"children":typeof v=="string"?a==="body"||a==="textarea"&&v===""||os(r,v):(typeof v=="number"||typeof v=="bigint")&&a!=="body"&&os(r,""+v);break;case"className":_n(r,"class",v);break;case"tabIndex":_n(r,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":_n(r,h,v);break;case"style":sa(r,v,w);break;case"data":if(a!=="object"){_n(r,"data",v);break}case"src":case"href":if(v===""&&(a!=="a"||h!=="href")){r.removeAttribute(h);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){r.removeAttribute(h);break}v=ci(""+v),r.setAttribute(h,v);break;case"action":case"formAction":if(typeof v=="function"){r.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(h==="formAction"?(a!=="input"&&pr(r,a,"name",C.name,C,null),pr(r,a,"formEncType",C.formEncType,C,null),pr(r,a,"formMethod",C.formMethod,C,null),pr(r,a,"formTarget",C.formTarget,C,null)):(pr(r,a,"encType",C.encType,C,null),pr(r,a,"method",C.method,C,null),pr(r,a,"target",C.target,C,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){r.removeAttribute(h);break}v=ci(""+v),r.setAttribute(h,v);break;case"onClick":v!=null&&(r.onclick=Xu);break;case"onScroll":v!=null&&Xn("scroll",r);break;case"onScrollEnd":v!=null&&Xn("scrollend",r);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(i(61));if(h=v.__html,h!=null){if(C.children!=null)throw Error(i(60));r.innerHTML=h}}break;case"multiple":r.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":r.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){r.removeAttribute("xlink:href");break}h=ci(""+v),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?r.setAttribute(h,""+v):r.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?r.setAttribute(h,""):r.removeAttribute(h);break;case"capture":case"download":v===!0?r.setAttribute(h,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?r.setAttribute(h,v):r.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?r.setAttribute(h,v):r.removeAttribute(h);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?r.removeAttribute(h):r.setAttribute(h,v);break;case"popover":Xn("beforetoggle",r),Xn("toggle",r),Qn(r,"popover",v);break;case"xlinkActuate":xt(r,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":xt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":xt(r,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":xt(r,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":xt(r,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":xt(r,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":xt(r,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":xt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":xt(r,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":Qn(r,"is",v);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=Va.get(h)||h,Qn(r,h,v))}}function gd(r,a,h,v,C,w){switch(h){case"style":sa(r,v,w);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(i(61));if(h=v.__html,h!=null){if(C.children!=null)throw Error(i(60));r.innerHTML=h}}break;case"children":typeof v=="string"?os(r,v):(typeof v=="number"||typeof v=="bigint")&&os(r,""+v);break;case"onScroll":v!=null&&Xn("scroll",r);break;case"onScrollEnd":v!=null&&Xn("scrollend",r);break;case"onClick":v!=null&&(r.onclick=Xu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Di.hasOwnProperty(h))t:{if(h[0]==="o"&&h[1]==="n"&&(C=h.endsWith("Capture"),a=h.slice(2,C?h.length-7:void 0),w=r[Tn]||null,w=w!=null?w[h]:null,typeof w=="function"&&r.removeEventListener(a,w,C),typeof v=="function")){typeof w!="function"&&w!==null&&(h in r?r[h]=null:r.hasAttribute(h)&&r.removeAttribute(h)),r.addEventListener(a,v,C);break t}h in r?r[h]=v:v===!0?r.setAttribute(h,""):Qn(r,h,v)}}}function hi(r,a,h){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xn("error",r),Xn("load",r);var v=!1,C=!1,w;for(w in h)if(h.hasOwnProperty(w)){var H=h[w];if(H!=null)switch(w){case"src":v=!0;break;case"srcSet":C=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:pr(r,a,w,H,h,null)}}C&&pr(r,a,"srcSet",h.srcSet,h,null),v&&pr(r,a,"src",h.src,h,null);return;case"input":Xn("invalid",r);var tt=w=H=C=null,yt=null,Pt=null;for(v in h)if(h.hasOwnProperty(v)){var Jt=h[v];if(Jt!=null)switch(v){case"name":C=Jt;break;case"type":H=Jt;break;case"checked":yt=Jt;break;case"defaultChecked":Pt=Jt;break;case"value":w=Jt;break;case"defaultValue":tt=Jt;break;case"children":case"dangerouslySetInnerHTML":if(Jt!=null)throw Error(i(137,a));break;default:pr(r,a,v,Jt,h,null)}}Fs(r,w,tt,yt,Pt,H,C,!1),jr(r);return;case"select":Xn("invalid",r),v=H=w=null;for(C in h)if(h.hasOwnProperty(C)&&(tt=h[C],tt!=null))switch(C){case"value":w=tt;break;case"defaultValue":H=tt;break;case"multiple":v=tt;default:pr(r,a,C,tt,h,null)}a=w,h=H,r.multiple=!!v,a!=null?Sr(r,!!v,a,!1):h!=null&&Sr(r,!!v,h,!0);return;case"textarea":Xn("invalid",r),w=C=v=null;for(H in h)if(h.hasOwnProperty(H)&&(tt=h[H],tt!=null))switch(H){case"value":v=tt;break;case"defaultValue":C=tt;break;case"children":w=tt;break;case"dangerouslySetInnerHTML":if(tt!=null)throw Error(i(91));break;default:pr(r,a,H,tt,h,null)}Or(r,v,C,w),jr(r);return;case"option":for(yt in h)if(h.hasOwnProperty(yt)&&(v=h[yt],v!=null))switch(yt){case"selected":r.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:pr(r,a,yt,v,h,null)}return;case"dialog":Xn("beforetoggle",r),Xn("toggle",r),Xn("cancel",r),Xn("close",r);break;case"iframe":case"object":Xn("load",r);break;case"video":case"audio":for(v=0;v<Nl.length;v++)Xn(Nl[v],r);break;case"image":Xn("error",r),Xn("load",r);break;case"details":Xn("toggle",r);break;case"embed":case"source":case"link":Xn("error",r),Xn("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Pt in h)if(h.hasOwnProperty(Pt)&&(v=h[Pt],v!=null))switch(Pt){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:pr(r,a,Pt,v,h,null)}return;default:if(Gs(a)){for(Jt in h)h.hasOwnProperty(Jt)&&(v=h[Jt],v!==void 0&&gd(r,a,Jt,v,h,void 0));return}}for(tt in h)h.hasOwnProperty(tt)&&(v=h[tt],v!=null&&pr(r,a,tt,v,h,null))}function ky(r,a,h,v){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var C=null,w=null,H=null,tt=null,yt=null,Pt=null,Jt=null;for(Qt in h){var ce=h[Qt];if(h.hasOwnProperty(Qt)&&ce!=null)switch(Qt){case"checked":break;case"value":break;case"defaultValue":yt=ce;default:v.hasOwnProperty(Qt)||pr(r,a,Qt,null,v,ce)}}for(var Ut in v){var Qt=v[Ut];if(ce=h[Ut],v.hasOwnProperty(Ut)&&(Qt!=null||ce!=null))switch(Ut){case"type":w=Qt;break;case"name":C=Qt;break;case"checked":Pt=Qt;break;case"defaultChecked":Jt=Qt;break;case"value":H=Qt;break;case"defaultValue":tt=Qt;break;case"children":case"dangerouslySetInnerHTML":if(Qt!=null)throw Error(i(137,a));break;default:Qt!==ce&&pr(r,a,Ut,Qt,v,ce)}}Fi(r,H,tt,yt,Pt,Jt,w,C);return;case"select":Qt=H=tt=Ut=null;for(w in h)if(yt=h[w],h.hasOwnProperty(w)&&yt!=null)switch(w){case"value":break;case"multiple":Qt=yt;default:v.hasOwnProperty(w)||pr(r,a,w,null,v,yt)}for(C in v)if(w=v[C],yt=h[C],v.hasOwnProperty(C)&&(w!=null||yt!=null))switch(C){case"value":Ut=w;break;case"defaultValue":tt=w;break;case"multiple":H=w;default:w!==yt&&pr(r,a,C,w,v,yt)}a=tt,h=H,v=Qt,Ut!=null?Sr(r,!!h,Ut,!1):!!v!=!!h&&(a!=null?Sr(r,!!h,a,!0):Sr(r,!!h,h?[]:"",!1));return;case"textarea":Qt=Ut=null;for(tt in h)if(C=h[tt],h.hasOwnProperty(tt)&&C!=null&&!v.hasOwnProperty(tt))switch(tt){case"value":break;case"children":break;default:pr(r,a,tt,null,v,C)}for(H in v)if(C=v[H],w=h[H],v.hasOwnProperty(H)&&(C!=null||w!=null))switch(H){case"value":Ut=C;break;case"defaultValue":Qt=C;break;case"children":break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(i(91));break;default:C!==w&&pr(r,a,H,C,v,w)}Ya(r,Ut,Qt);return;case"option":for(var Rn in h)if(Ut=h[Rn],h.hasOwnProperty(Rn)&&Ut!=null&&!v.hasOwnProperty(Rn))switch(Rn){case"selected":r.selected=!1;break;default:pr(r,a,Rn,null,v,Ut)}for(yt in v)if(Ut=v[yt],Qt=h[yt],v.hasOwnProperty(yt)&&Ut!==Qt&&(Ut!=null||Qt!=null))switch(yt){case"selected":r.selected=Ut&&typeof Ut!="function"&&typeof Ut!="symbol";break;default:pr(r,a,yt,Ut,v,Qt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Cn in h)Ut=h[Cn],h.hasOwnProperty(Cn)&&Ut!=null&&!v.hasOwnProperty(Cn)&&pr(r,a,Cn,null,v,Ut);for(Pt in v)if(Ut=v[Pt],Qt=h[Pt],v.hasOwnProperty(Pt)&&Ut!==Qt&&(Ut!=null||Qt!=null))switch(Pt){case"children":case"dangerouslySetInnerHTML":if(Ut!=null)throw Error(i(137,a));break;default:pr(r,a,Pt,Ut,v,Qt)}return;default:if(Gs(a)){for(var mr in h)Ut=h[mr],h.hasOwnProperty(mr)&&Ut!==void 0&&!v.hasOwnProperty(mr)&&gd(r,a,mr,void 0,v,Ut);for(Jt in v)Ut=v[Jt],Qt=h[Jt],!v.hasOwnProperty(Jt)||Ut===Qt||Ut===void 0&&Qt===void 0||gd(r,a,Jt,Ut,v,Qt);return}}for(var Rt in h)Ut=h[Rt],h.hasOwnProperty(Rt)&&Ut!=null&&!v.hasOwnProperty(Rt)&&pr(r,a,Rt,null,v,Ut);for(ce in v)Ut=v[ce],Qt=h[ce],!v.hasOwnProperty(ce)||Ut===Qt||Ut==null&&Qt==null||pr(r,a,ce,Ut,v,Qt)}var pd=null,md=null;function Zu(r){return r.nodeType===9?r:r.ownerDocument}function Ap(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gp(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function vd(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var yd=null;function By(){var r=window.event;return r&&r.type==="popstate"?r===yd?!1:(yd=r,!0):(yd=null,!1)}var pp=typeof setTimeout=="function"?setTimeout:void 0,Oy=typeof clearTimeout=="function"?clearTimeout:void 0,mp=typeof Promise=="function"?Promise:void 0,_y=typeof queueMicrotask=="function"?queueMicrotask:typeof mp<"u"?function(r){return mp.resolve(null).then(r).catch(My)}:pp;function My(r){setTimeout(function(){throw r})}function ka(r){return r==="head"}function vp(r,a){var h=a,v=0,C=0;do{var w=h.nextSibling;if(r.removeChild(h),w&&w.nodeType===8)if(h=w.data,h==="/$"){if(0<v&&8>v){h=v;var H=r.ownerDocument;if(h&1&&Fl(H.documentElement),h&2&&Fl(H.body),h&4)for(h=H.head,Fl(h),H=h.firstChild;H;){var tt=H.nextSibling,yt=H.nodeName;H[li]||yt==="SCRIPT"||yt==="STYLE"||yt==="LINK"&&H.rel.toLowerCase()==="stylesheet"||h.removeChild(H),H=tt}}if(C===0){r.removeChild(w),Vl(a);return}C--}else h==="$"||h==="$?"||h==="$!"?C++:v=h.charCodeAt(0)-48;else v=0;h=w}while(h);Vl(a)}function bd(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var h=a;switch(a=a.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":bd(h),Rr(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}r.removeChild(h)}}function Py(r,a,h,v){for(;r.nodeType===1;){var C=h;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!v&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(v){if(!r[li])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(w=r.getAttribute("rel"),w==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(w!==C.rel||r.getAttribute("href")!==(C.href==null||C.href===""?null:C.href)||r.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin)||r.getAttribute("title")!==(C.title==null?null:C.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(w=r.getAttribute("src"),(w!==(C.src==null?null:C.src)||r.getAttribute("type")!==(C.type==null?null:C.type)||r.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin))&&w&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var w=C.name==null?null:""+C.name;if(C.type==="hidden"&&r.getAttribute("name")===w)return r}else return r;if(r=bs(r.nextSibling),r===null)break}return null}function Ny(r,a,h){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!h||(r=bs(r.nextSibling),r===null))return null;return r}function Ed(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function Uy(r,a){var h=r.ownerDocument;if(r.data!=="$?"||h.readyState==="complete")a();else{var v=function(){a(),h.removeEventListener("DOMContentLoaded",v)};h.addEventListener("DOMContentLoaded",v),r._reactRetry=v}}function bs(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return r}var Cd=null;function yp(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var h=r.data;if(h==="$"||h==="$!"||h==="$?"){if(a===0)return r;a--}else h==="/$"&&a++}r=r.previousSibling}return null}function bp(r,a,h){switch(a=Zu(h),r){case"html":if(r=a.documentElement,!r)throw Error(i(452));return r;case"head":if(r=a.head,!r)throw Error(i(453));return r;case"body":if(r=a.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Fl(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);Rr(r)}var rs=new Map,Ep=new Set;function Ju(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var ta=N.d;N.d={f:Fy,r:Gy,D:Qy,C:jy,L:zy,m:Hy,X:$y,S:Yy,M:Vy};function Fy(){var r=ta.f(),a=Hu();return r||a}function Gy(r){var a=Br(r);a!==null&&a.tag===5&&a.type==="form"?QA(a):ta.r(r)}var qo=typeof document>"u"?null:document;function Cp(r,a,h){var v=qo;if(v&&typeof a=="string"&&a){var C=Xr(a);C='link[rel="'+r+'"][href="'+C+'"]',typeof h=="string"&&(C+='[crossorigin="'+h+'"]'),Ep.has(C)||(Ep.add(C),r={rel:r,crossOrigin:h,href:a},v.querySelector(C)===null&&(a=v.createElement("link"),hi(a,"link",r),jn(a),v.head.appendChild(a)))}}function Qy(r){ta.D(r),Cp("dns-prefetch",r,null)}function jy(r,a){ta.C(r,a),Cp("preconnect",r,a)}function zy(r,a,h){ta.L(r,a,h);var v=qo;if(v&&r&&a){var C='link[rel="preload"][as="'+Xr(a)+'"]';a==="image"&&h&&h.imageSrcSet?(C+='[imagesrcset="'+Xr(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(C+='[imagesizes="'+Xr(h.imageSizes)+'"]')):C+='[href="'+Xr(r)+'"]';var w=C;switch(a){case"style":w=Xo(r);break;case"script":w=Zo(r)}rs.has(w)||(r=u({rel:"preload",href:a==="image"&&h&&h.imageSrcSet?void 0:r,as:a},h),rs.set(w,r),v.querySelector(C)!==null||a==="style"&&v.querySelector(Gl(w))||a==="script"&&v.querySelector(Ql(w))||(a=v.createElement("link"),hi(a,"link",r),jn(a),v.head.appendChild(a)))}}function Hy(r,a){ta.m(r,a);var h=qo;if(h&&r){var v=a&&typeof a.as=="string"?a.as:"script",C='link[rel="modulepreload"][as="'+Xr(v)+'"][href="'+Xr(r)+'"]',w=C;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Zo(r)}if(!rs.has(w)&&(r=u({rel:"modulepreload",href:r},a),rs.set(w,r),h.querySelector(C)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Ql(w)))return}v=h.createElement("link"),hi(v,"link",r),jn(v),h.head.appendChild(v)}}}function Yy(r,a,h){ta.S(r,a,h);var v=qo;if(v&&r){var C=nr(v).hoistableStyles,w=Xo(r);a=a||"default";var H=C.get(w);if(!H){var tt={loading:0,preload:null};if(H=v.querySelector(Gl(w)))tt.loading=5;else{r=u({rel:"stylesheet",href:r,"data-precedence":a},h),(h=rs.get(w))&&Sd(r,h);var yt=H=v.createElement("link");jn(yt),hi(yt,"link",r),yt._p=new Promise(function(Pt,Jt){yt.onload=Pt,yt.onerror=Jt}),yt.addEventListener("load",function(){tt.loading|=1}),yt.addEventListener("error",function(){tt.loading|=2}),tt.loading|=4,tc(H,a,v)}H={type:"stylesheet",instance:H,count:1,state:tt},C.set(w,H)}}}function $y(r,a){ta.X(r,a);var h=qo;if(h&&r){var v=nr(h).hoistableScripts,C=Zo(r),w=v.get(C);w||(w=h.querySelector(Ql(C)),w||(r=u({src:r,async:!0},a),(a=rs.get(C))&&xd(r,a),w=h.createElement("script"),jn(w),hi(w,"link",r),h.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},v.set(C,w))}}function Vy(r,a){ta.M(r,a);var h=qo;if(h&&r){var v=nr(h).hoistableScripts,C=Zo(r),w=v.get(C);w||(w=h.querySelector(Ql(C)),w||(r=u({src:r,async:!0,type:"module"},a),(a=rs.get(C))&&xd(r,a),w=h.createElement("script"),jn(w),hi(w,"link",r),h.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},v.set(C,w))}}function Sp(r,a,h,v){var C=(C=Tt.current)?Ju(C):null;if(!C)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(a=Xo(h.href),h=nr(C).hoistableStyles,v=h.get(a),v||(v={type:"style",instance:null,count:0,state:null},h.set(a,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){r=Xo(h.href);var w=nr(C).hoistableStyles,H=w.get(r);if(H||(C=C.ownerDocument||C,H={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(r,H),(w=C.querySelector(Gl(r)))&&!w._p&&(H.instance=w,H.state.loading=5),rs.has(r)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},rs.set(r,h),w||Ky(C,r,h,H.state))),a&&v===null)throw Error(i(528,""));return H}if(a&&v!==null)throw Error(i(529,""));return null;case"script":return a=h.async,h=h.src,typeof h=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Zo(h),h=nr(C).hoistableScripts,v=h.get(a),v||(v={type:"script",instance:null,count:0,state:null},h.set(a,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Xo(r){return'href="'+Xr(r)+'"'}function Gl(r){return'link[rel="stylesheet"]['+r+"]"}function xp(r){return u({},r,{"data-precedence":r.precedence,precedence:null})}function Ky(r,a,h,v){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?v.loading=1:(a=r.createElement("link"),v.preload=a,a.addEventListener("load",function(){return v.loading|=1}),a.addEventListener("error",function(){return v.loading|=2}),hi(a,"link",h),jn(a),r.head.appendChild(a))}function Zo(r){return'[src="'+Xr(r)+'"]'}function Ql(r){return"script[async]"+r}function Tp(r,a,h){if(a.count++,a.instance===null)switch(a.type){case"style":var v=r.querySelector('style[data-href~="'+Xr(h.href)+'"]');if(v)return a.instance=v,jn(v),v;var C=u({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return v=(r.ownerDocument||r).createElement("style"),jn(v),hi(v,"style",C),tc(v,h.precedence,r),a.instance=v;case"stylesheet":C=Xo(h.href);var w=r.querySelector(Gl(C));if(w)return a.state.loading|=4,a.instance=w,jn(w),w;v=xp(h),(C=rs.get(C))&&Sd(v,C),w=(r.ownerDocument||r).createElement("link"),jn(w);var H=w;return H._p=new Promise(function(tt,yt){H.onload=tt,H.onerror=yt}),hi(w,"link",v),a.state.loading|=4,tc(w,h.precedence,r),a.instance=w;case"script":return w=Zo(h.src),(C=r.querySelector(Ql(w)))?(a.instance=C,jn(C),C):(v=h,(C=rs.get(w))&&(v=u({},h),xd(v,C)),r=r.ownerDocument||r,C=r.createElement("script"),jn(C),hi(C,"link",v),r.head.appendChild(C),a.instance=C);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(v=a.instance,a.state.loading|=4,tc(v,h.precedence,r));return a.instance}function tc(r,a,h){for(var v=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),C=v.length?v[v.length-1]:null,w=C,H=0;H<v.length;H++){var tt=v[H];if(tt.dataset.precedence===a)w=tt;else if(w!==C)break}w?w.parentNode.insertBefore(r,w.nextSibling):(a=h.nodeType===9?h.head:h,a.insertBefore(r,a.firstChild))}function Sd(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function xd(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var ec=null;function wp(r,a,h){if(ec===null){var v=new Map,C=ec=new Map;C.set(h,v)}else C=ec,v=C.get(h),v||(v=new Map,C.set(h,v));if(v.has(r))return v;for(v.set(r,null),h=h.getElementsByTagName(r),C=0;C<h.length;C++){var w=h[C];if(!(w[li]||w[sn]||r==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var H=w.getAttribute(a)||"";H=r+H;var tt=v.get(H);tt?tt.push(w):v.set(H,[w])}}return v}function Lp(r,a,h){r=r.ownerDocument||r,r.head.insertBefore(h,a==="title"?r.querySelector("head > title"):null)}function Wy(r,a,h){if(h===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return r=a.disabled,typeof a.precedence=="string"&&r==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Rp(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var jl=null;function qy(){}function Xy(r,a,h){if(jl===null)throw Error(i(475));var v=jl;if(a.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var C=Xo(h.href),w=r.querySelector(Gl(C));if(w){r=w._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(v.count++,v=nc.bind(v),r.then(v,v)),a.state.loading|=4,a.instance=w,jn(w);return}w=r.ownerDocument||r,h=xp(h),(C=rs.get(C))&&Sd(h,C),w=w.createElement("link"),jn(w);var H=w;H._p=new Promise(function(tt,yt){H.onload=tt,H.onerror=yt}),hi(w,"link",h),a.instance=w}v.stylesheets===null&&(v.stylesheets=new Map),v.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(v.count++,a=nc.bind(v),r.addEventListener("load",a),r.addEventListener("error",a))}}function Zy(){if(jl===null)throw Error(i(475));var r=jl;return r.stylesheets&&r.count===0&&Td(r,r.stylesheets),0<r.count?function(a){var h=setTimeout(function(){if(r.stylesheets&&Td(r,r.stylesheets),r.unsuspend){var v=r.unsuspend;r.unsuspend=null,v()}},6e4);return r.unsuspend=a,function(){r.unsuspend=null,clearTimeout(h)}}:null}function nc(){if(this.count--,this.count===0){if(this.stylesheets)Td(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var rc=null;function Td(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,rc=new Map,a.forEach(Jy,r),rc=null,nc.call(r))}function Jy(r,a){if(!(a.state.loading&4)){var h=rc.get(r);if(h)var v=h.get(null);else{h=new Map,rc.set(r,h);for(var C=r.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<C.length;w++){var H=C[w];(H.nodeName==="LINK"||H.getAttribute("media")!=="not all")&&(h.set(H.dataset.precedence,H),v=H)}v&&h.set(null,v)}C=a.instance,H=C.getAttribute("data-precedence"),w=h.get(H)||v,w===v&&h.set(null,C),h.set(H,C),this.count++,v=nc.bind(this),C.addEventListener("load",v),C.addEventListener("error",v),w?w.parentNode.insertBefore(C,w.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(C,r.firstChild)),a.state.loading|=4}}var zl={$$typeof:T,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function t1(r,a,h,v,C,w,H,tt){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ye(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ye(0),this.hiddenUpdates=ye(null),this.identifierPrefix=v,this.onUncaughtError=C,this.onCaughtError=w,this.onRecoverableError=H,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=tt,this.incompleteTransitions=new Map}function Ip(r,a,h,v,C,w,H,tt,yt,Pt,Jt,ce){return r=new t1(r,a,h,H,tt,yt,Pt,ce),a=1,w===!0&&(a|=24),w=oe(3,null,null,a),r.current=w,w.stateNode=r,a=Oo(),a.refCount++,r.pooledCache=a,a.refCount++,w.memoizedState={element:v,isDehydrated:h,cache:a},cf(w),r}function Dp(r){return r?(r=Gt,r):Gt}function kp(r,a,h,v,C,w){C=Dp(C),v.context===null?v.context=C:v.pendingContext=C,v=va(a),v.payload={element:h},w=w===void 0?null:w,w!==null&&(v.callback=w),h=ya(r,v,a),h!==null&&(Vi(h,r,a),yl(h,r,a))}function Bp(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var h=r.retryLane;r.retryLane=h!==0&&h<a?h:a}}function wd(r,a){Bp(r,a),(r=r.alternate)&&Bp(r,a)}function Op(r){if(r.tag===13){var a=Wt(r,67108864);a!==null&&Vi(a,r,67108864),wd(r,67108864)}}var ic=!0;function e1(r,a,h,v){var C=Y.T;Y.T=null;var w=N.p;try{N.p=2,Ld(r,a,h,v)}finally{N.p=w,Y.T=C}}function n1(r,a,h,v){var C=Y.T;Y.T=null;var w=N.p;try{N.p=8,Ld(r,a,h,v)}finally{N.p=w,Y.T=C}}function Ld(r,a,h,v){if(ic){var C=Rd(v);if(C===null)Ad(r,a,v,sc,h),Mp(r,v);else if(i1(C,r,a,h,v))v.stopPropagation();else if(Mp(r,v),a&4&&-1<r1.indexOf(r)){for(;C!==null;){var w=Br(C);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var H=Dt(w.pendingLanes);if(H!==0){var tt=w;for(tt.pendingLanes|=2,tt.entangledLanes|=2;H;){var yt=1<<31-It(H);tt.entanglements[1]|=yt,H&=~yt}Ds(w),(fr&6)===0&&(ju=Le()+500,Pl(0))}}break;case 13:tt=Wt(w,2),tt!==null&&Vi(tt,w,2),Hu(),wd(w,2)}if(w=Rd(v),w===null&&Ad(r,a,v,sc,h),w===C)break;C=w}C!==null&&v.stopPropagation()}else Ad(r,a,v,null,h)}}function Rd(r){return r=xs(r),Id(r)}var sc=null;function Id(r){if(sc=null,r=wr(r),r!==null){var a=d(r);if(a===null)r=null;else{var h=a.tag;if(h===13){if(r=s(a),r!==null)return r;r=null}else if(h===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return sc=r,null}function _p(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nn()){case En:return 2;case cn:return 8;case qe:case Ke:return 32;case Dn:return 268435456;default:return 32}default:return 32}}var Dd=!1,Ba=null,Oa=null,_a=null,Hl=new Map,Yl=new Map,Ma=[],r1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Mp(r,a){switch(r){case"focusin":case"focusout":Ba=null;break;case"dragenter":case"dragleave":Oa=null;break;case"mouseover":case"mouseout":_a=null;break;case"pointerover":case"pointerout":Hl.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yl.delete(a.pointerId)}}function $l(r,a,h,v,C,w){return r===null||r.nativeEvent!==w?(r={blockedOn:a,domEventName:h,eventSystemFlags:v,nativeEvent:w,targetContainers:[C]},a!==null&&(a=Br(a),a!==null&&Op(a)),r):(r.eventSystemFlags|=v,a=r.targetContainers,C!==null&&a.indexOf(C)===-1&&a.push(C),r)}function i1(r,a,h,v,C){switch(a){case"focusin":return Ba=$l(Ba,r,a,h,v,C),!0;case"dragenter":return Oa=$l(Oa,r,a,h,v,C),!0;case"mouseover":return _a=$l(_a,r,a,h,v,C),!0;case"pointerover":var w=C.pointerId;return Hl.set(w,$l(Hl.get(w)||null,r,a,h,v,C)),!0;case"gotpointercapture":return w=C.pointerId,Yl.set(w,$l(Yl.get(w)||null,r,a,h,v,C)),!0}return!1}function Pp(r){var a=wr(r.target);if(a!==null){var h=d(a);if(h!==null){if(a=h.tag,a===13){if(a=s(h),a!==null){r.blockedOn=a,Pe(r.priority,function(){if(h.tag===13){var v=$i();v=qt(v);var C=Wt(h,v);C!==null&&Vi(C,h,v),wd(h,v)}});return}}else if(a===3&&h.stateNode.current.memoizedState.isDehydrated){r.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}r.blockedOn=null}function ac(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var h=Rd(r.nativeEvent);if(h===null){h=r.nativeEvent;var v=new h.constructor(h.type,h);Qs=v,h.target.dispatchEvent(v),Qs=null}else return a=Br(h),a!==null&&Op(a),r.blockedOn=h,!1;a.shift()}return!0}function Np(r,a,h){ac(r)&&h.delete(a)}function s1(){Dd=!1,Ba!==null&&ac(Ba)&&(Ba=null),Oa!==null&&ac(Oa)&&(Oa=null),_a!==null&&ac(_a)&&(_a=null),Hl.forEach(Np),Yl.forEach(Np)}function oc(r,a){r.blockedOn===a&&(r.blockedOn=null,Dd||(Dd=!0,g.unstable_scheduleCallback(g.unstable_NormalPriority,s1)))}var lc=null;function Up(r){lc!==r&&(lc=r,g.unstable_scheduleCallback(g.unstable_NormalPriority,function(){lc===r&&(lc=null);for(var a=0;a<r.length;a+=3){var h=r[a],v=r[a+1],C=r[a+2];if(typeof v!="function"){if(Id(v||h)===null)continue;break}var w=Br(h);w!==null&&(r.splice(a,3),a-=3,If(w,{pending:!0,data:C,method:h.method,action:v},v,C))}}))}function Vl(r){function a(yt){return oc(yt,r)}Ba!==null&&oc(Ba,r),Oa!==null&&oc(Oa,r),_a!==null&&oc(_a,r),Hl.forEach(a),Yl.forEach(a);for(var h=0;h<Ma.length;h++){var v=Ma[h];v.blockedOn===r&&(v.blockedOn=null)}for(;0<Ma.length&&(h=Ma[0],h.blockedOn===null);)Pp(h),h.blockedOn===null&&Ma.shift();if(h=(r.ownerDocument||r).$$reactFormReplay,h!=null)for(v=0;v<h.length;v+=3){var C=h[v],w=h[v+1],H=C[Tn]||null;if(typeof w=="function")H||Up(h);else if(H){var tt=null;if(w&&w.hasAttribute("formAction")){if(C=w,H=w[Tn]||null)tt=H.formAction;else if(Id(C)!==null)continue}else tt=H.action;typeof tt=="function"?h[v+1]=tt:(h.splice(v,3),v-=3),Up(h)}}}function kd(r){this._internalRoot=r}uc.prototype.render=kd.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(i(409));var h=a.current,v=$i();kp(h,v,r,a,null,null)},uc.prototype.unmount=kd.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;kp(r.current,2,null,r,null,null),Hu(),a[$n]=null}};function uc(r){this._internalRoot=r}uc.prototype.unstable_scheduleHydration=function(r){if(r){var a=ze();r={blockedOn:null,target:r,priority:a};for(var h=0;h<Ma.length&&a!==0&&a<Ma[h].priority;h++);Ma.splice(h,0,r),h===0&&Pp(r)}};var Fp=t.version;if(Fp!=="19.1.1")throw Error(i(527,Fp,"19.1.1"));N.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=e(a),r=r!==null?o(r):null,r=r===null?null:r.stateNode,r};var a1={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cc.isDisabled&&cc.supportsFiber)try{ge=cc.inject(a1),le=cc}catch{}}return Wl.createRoot=function(r,a){if(!l(r))throw Error(i(299));var h=!1,v="",C=eg,w=ng,H=rg,tt=null;return a!=null&&(a.unstable_strictMode===!0&&(h=!0),a.identifierPrefix!==void 0&&(v=a.identifierPrefix),a.onUncaughtError!==void 0&&(C=a.onUncaughtError),a.onCaughtError!==void 0&&(w=a.onCaughtError),a.onRecoverableError!==void 0&&(H=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(tt=a.unstable_transitionCallbacks)),a=Ip(r,1,!1,null,null,h,v,C,w,H,tt,null),r[$n]=a.current,hd(r),new kd(a)},Wl.hydrateRoot=function(r,a,h){if(!l(r))throw Error(i(299));var v=!1,C="",w=eg,H=ng,tt=rg,yt=null,Pt=null;return h!=null&&(h.unstable_strictMode===!0&&(v=!0),h.identifierPrefix!==void 0&&(C=h.identifierPrefix),h.onUncaughtError!==void 0&&(w=h.onUncaughtError),h.onCaughtError!==void 0&&(H=h.onCaughtError),h.onRecoverableError!==void 0&&(tt=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(yt=h.unstable_transitionCallbacks),h.formState!==void 0&&(Pt=h.formState)),a=Ip(r,1,!0,a,h??null,v,C,w,H,tt,yt,Pt),a.context=Dp(null),h=a.current,v=$i(),v=qt(v),C=va(v),C.callback=null,ya(h,C,v),h=v,a.current.lanes=h,Fe(a,h),Ds(a),r[$n]=a.current,hd(r),new uc(a)},Wl.version="19.1.1",Wl}var Wp;function m1(){if(Wp)return _d.exports;Wp=1;function g(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(g)}catch(t){console.error(t)}}return g(),_d.exports=p1(),_d.exports}var v1=m1();/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=g=>g.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),b1=g=>g.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,i)=>i?i.toUpperCase():n.toLowerCase()),qp=g=>{const t=b1(g);return t.charAt(0).toUpperCase()+t.slice(1)},vm=(...g)=>g.filter((t,n,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===n).join(" ").trim(),E1=g=>{for(const t in g)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var C1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=In.forwardRef(({color:g="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:l="",children:d,iconNode:s,...c},e)=>In.createElement("svg",{ref:e,...C1,width:t,height:t,stroke:g,strokeWidth:i?Number(n)*24/Number(t):n,className:vm("lucide",l),...!d&&!E1(c)&&{"aria-hidden":"true"},...c},[...s.map(([o,u])=>In.createElement(o,u)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dr=(g,t)=>{const n=In.forwardRef(({className:i,...l},d)=>In.createElement(S1,{ref:d,iconNode:t,className:vm(`lucide-${y1(qp(g))}`,`lucide-${g}`,i),...l}));return n.displayName=qp(g),n};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ym=Dr("arrow-left",x1);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],bm=Dr("circle-alert",T1);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],L1=Dr("circle-check-big",w1);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],I1=Dr("download",R1);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],_c=Dr("eye-off",D1);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Mc=Dr("eye",k1);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Xp=Dr("info",B1);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],_1=Dr("lock",O1);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],P1=Dr("log-out",M1);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Em=Dr("play",N1);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],F1=Dr("plus",U1);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Q1=Dr("search",G1);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],z1=Dr("settings",j1);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Y1=Dr("shield",H1);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],V1=Dr("square-pen",$1);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],W1=Dr("trash-2",K1);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],X1=Dr("user-check",q1);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],J1=Dr("user-x",Z1);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],eb=Dr("user",tb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Zp=Dr("users",nb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ib=Dr("wifi-off",rb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],Jp=Dr("wifi",sb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ob=Dr("x",ab);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ub=Dr("zap",lb);var Ud={exports:{}},t0;function cb(){return t0||(t0=1,(function(g,t){(function(n,i){g.exports=i()})(self,(function(){return(function(){var n={63166:function(s,c,e){e.d(c,{default:function(){return pl}});var o="0.10.46-beta.0",u=e(69986),f=e.n(u);function A(R){return R?R.replace(/^\s+|\s+$/g,""):""}var p=function(R){if(!R||R.substr(0,4)=="rtmp")return"";var x=(function(D){var k="";return/[(,]format=mpd-/i.test(D)?k="mpd":/[(,]format=m3u8-/i.test(D)&&(k="m3u8"),k})(R);return x||((R=R.split("?")[0].split("#")[0]).lastIndexOf(".")>-1?R.substr(R.lastIndexOf(".")+1,R.length).toLowerCase():"")};function m(R){var x=parseInt(R,10);if(!R)return"00:00";var D=Math.floor(x/3600),k=Math.floor((x-3600*D)/60),P=x-3600*D-60*k;return k<10&&(k="0"+k),P<10&&(P="0"+P),D>0?D+":"+k+":"+P:k+":"+P}function y(R,x){if(!R)return 0;if(f().isNumber(R)&&!f().isNaN(R))return R;var D=(R=R.replace(",",".")).split(":"),k=D.length,P=0;if(R.slice(-1)==="s")P=parseFloat(R);else if(R.slice(-1)==="m")P=60*parseFloat(R);else if(R.slice(-1)==="h")P=3600*parseFloat(R);else if(k>1){var V=k-1;k===4&&(V-=1),P+=parseFloat(D[V]),P+=60*parseFloat(D[V-1]),k>=3&&(P+=3600*parseFloat(D[V-2]))}else P=parseFloat(R);return f().isNaN(P)?0:P}function b(R){var x={},D=R.split(`\r
`);D.length===1&&(D=R.split(`
`));var k=1;if(D[0].indexOf(" --> ")>0&&(k=0),D.length>k+1&&D[k+1]){var P=D[k],V=P.indexOf(" --> ");V>0&&(x.start=y(P.substr(0,V)),x.end=y(P.substr(V+5)),x.text=D.slice(k+1).join(`\r
`))}return x}var E=window.VTTCue,S={"":!0,lr:!0,rl:!0},T={start:!0,middle:!0,end:!0,left:!0,right:!0};function L(R){return typeof R=="string"&&!!T[R.toLowerCase()]&&R.toLowerCase()}function I(R){for(var x=1;x<arguments.length;x++){var D=arguments[x];for(var k in D)R[k]=D[k]}return R}E||((E=function(R,x,D){var k=this,P=/MSIE\s8\.0/.test(navigator.userAgent),V={};P?k=document.createElement("custom"):V.enumerable=!0,k.hasBeenReset=!1;var z="",at=!1,rt=R,it=x,bt=D,lt=null,ct="",ht=!0,ut="auto",st="start",gt=50,ft="middle",mt=50,vt="middle";if(Object.defineProperty(k,"id",I({},V,{get:function(){return z},set:function(At){z=""+At}})),Object.defineProperty(k,"pauseOnExit",I({},V,{get:function(){return at},set:function(At){at=!!At}})),Object.defineProperty(k,"startTime",I({},V,{get:function(){return rt},set:function(At){if(typeof At!="number")throw new TypeError("Start time must be set to a number.");rt=At,this.hasBeenReset=!0}})),Object.defineProperty(k,"endTime",I({},V,{get:function(){return it},set:function(At){if(typeof At!="number")throw new TypeError("End time must be set to a number.");it=At,this.hasBeenReset=!0}})),Object.defineProperty(k,"text",I({},V,{get:function(){return bt},set:function(At){bt=""+At,this.hasBeenReset=!0}})),Object.defineProperty(k,"region",I({},V,{get:function(){return lt},set:function(At){lt=At,this.hasBeenReset=!0}})),Object.defineProperty(k,"vertical",I({},V,{get:function(){return ct},set:function(At){var Nt=(function(Zt){return typeof Zt=="string"&&!!S[Zt.toLowerCase()]&&Zt.toLowerCase()})(At);if(Nt===!1)throw new SyntaxError("An invalid or illegal string was specified.");ct=Nt,this.hasBeenReset=!0}})),Object.defineProperty(k,"snapToLines",I({},V,{get:function(){return ht},set:function(At){ht=!!At,this.hasBeenReset=!0}})),Object.defineProperty(k,"line",I({},V,{get:function(){return ut},set:function(At){if(typeof At!="number"&&At!=="auto")throw new SyntaxError("An invalid number or illegal string was specified.");ut=At,this.hasBeenReset=!0}})),Object.defineProperty(k,"lineAlign",I({},V,{get:function(){return st},set:function(At){var Nt=L(At);if(!Nt)throw new SyntaxError("An invalid or illegal string was specified.");st=Nt,this.hasBeenReset=!0}})),Object.defineProperty(k,"position",I({},V,{get:function(){return gt},set:function(At){if(At<0||At>100)throw new Error("Position must be between 0 and 100.");gt=At,this.hasBeenReset=!0}})),Object.defineProperty(k,"positionAlign",I({},V,{get:function(){return ft},set:function(At){var Nt=L(At);if(!Nt)throw new SyntaxError("An invalid or illegal string was specified.");ft=Nt,this.hasBeenReset=!0}})),Object.defineProperty(k,"size",I({},V,{get:function(){return mt},set:function(At){if(At<0||At>100)throw new Error("Size must be between 0 and 100.");mt=At,this.hasBeenReset=!0}})),Object.defineProperty(k,"align",I({},V,{get:function(){return vt},set:function(At){var Nt=L(At);if(!Nt)throw new SyntaxError("An invalid or illegal string was specified.");vt=Nt,this.hasBeenReset=!0}})),k.displayState=void 0,P)return k}).prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)});var B=E,O={"":!0,up:!0};function _(R){return typeof R=="number"&&R>=0&&R<=100}var M=function(){var R=100,x=3,D=0,k=100,P=0,V=100,z="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return R},set:function(at){if(!_(at))throw new Error("Width must be between 0 and 100.");R=at}},lines:{enumerable:!0,get:function(){return x},set:function(at){if(typeof at!="number")throw new TypeError("Lines must be set to a number.");x=at}},regionAnchorY:{enumerable:!0,get:function(){return k},set:function(at){if(!_(at))throw new Error("RegionAnchorX must be between 0 and 100.");k=at}},regionAnchorX:{enumerable:!0,get:function(){return D},set:function(at){if(!_(at))throw new Error("RegionAnchorY must be between 0 and 100.");D=at}},viewportAnchorY:{enumerable:!0,get:function(){return V},set:function(at){if(!_(at))throw new Error("ViewportAnchorY must be between 0 and 100.");V=at}},viewportAnchorX:{enumerable:!0,get:function(){return P},set:function(at){if(!_(at))throw new Error("ViewportAnchorX must be between 0 and 100.");P=at}},scroll:{enumerable:!0,get:function(){return z},set:function(at){var rt=(function(it){return typeof it=="string"&&!!O[it.toLowerCase()]&&it.toLowerCase()})(at);if(rt===!1)throw new SyntaxError("An invalid or illegal string was specified.");z=rt}}})},U=function(){};function Q(R,x){return x===void 0&&(x=1),"rgba("+[parseInt(R.substring(0,2),16),parseInt(R.substring(2,4),16),parseInt(R.substring(4,6),16),x].join(",")+")"}var $=1;function W(R,x,D){switch(D){case"webvtt.font.color":case"webvtt.font.opacity":var k=Services.prefs.getCharPref("webvtt.font.color"),P=Services.prefs.getIntPref("webvtt.font.opacity")/100;X.fontSet=Q(k,P);break;case"webvtt.font.scale":$=Services.prefs.getIntPref("webvtt.font.scale")/100;break;case"webvtt.bg.color":case"webvtt.bg.opacity":var V=Services.prefs.getCharPref("webvtt.bg.color"),z=Services.prefs.getIntPref("webvtt.bg.opacity")/100;X.backgroundSet=Q(V,z);break;case"webvtt.edge.color":case"webvtt.edge.type":var at=Services.prefs.getIntPref("webvtt.edge.type"),rt=Services.prefs.getCharPref("webvtt.edge.color");X.edgeSet=["","0px 0px ","4px 4px 4px ","-2px -2px ","2px 2px "][at]+Q(rt)}}if(typeof Services<"u"){var X={};["webvtt.font.color","webvtt.font.opacity","webvtt.font.scale","webvtt.bg.color","webvtt.bg.opacity","webvtt.edge.color","webvtt.edge.type"].forEach((function(R){W(0,0,R),Services.prefs.addObserver(R,W,!1)}))}var et=Object.create||(function(){function R(){}return function(x){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return R.prototype=x,new R}})();function Y(R,x){this.name="ParsingError",this.code=R.code,this.message=x||R.message}function N(R){function x(k,P,V,z){return 3600*(0|k)+60*(0|P)+(0|V)+(0|z)/1e3}var D=R.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return D?D[3]?x(D[1],D[2],D[3].replace(":",""),D[4]):D[1]>59?x(D[1],D[2],0,D[4]):x(0,D[1],D[2],D[4]):null}function K(){this.values=et(null)}function Z(R,x,D,k){var P=k?R.split(k):[R];for(var V in P)if(typeof P[V]=="string"){var z=P[V].split(D);z.length===2&&x(z[0],z[1])}}function F(R,x,D){var k=R;function P(){var z=N(R);if(z===null)throw new Y(Y.Errors.BadTimeStamp,"Malformed timestamp: "+k);return R=R.replace(/^[^\sa-zA-Z-]+/,""),z}function V(){R=R.replace(/^\s+/,"")}if(V(),x.startTime=P(),V(),R.substr(0,3)!=="-->")throw new Y(Y.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+k);R=R.substr(3),V(),x.endTime=P(),V(),(function(z){var at=new K;Z(z,(function(rt,it){switch(rt){case"region":for(var bt=D.length-1;bt>=0;bt--)if(D[bt].id===it){at.set(rt,D[bt].region);break}break;case"vertical":at.alt(rt,it,["rl","lr"]);break;case"line":var lt=it.split(","),ct=lt[0];at.integer(rt,ct),at.percent(rt,ct)&&at.set("snapToLines",!1),at.alt(rt,ct,["auto"]),lt.length===2&&at.alt("lineAlign",lt[1],["start","middle","end"]);break;case"position":lt=it.split(","),at.percent(rt,lt[0]),lt.length===2&&at.alt("positionAlign",lt[1],["start","middle","end"]);break;case"size":at.percent(rt,it);break;case"align":at.alt(rt,it,["start","middle","end","left","right"])}}),/:/,/\s/)})(R)}Y.prototype=et(Error.prototype),Y.prototype.constructor=Y,Y.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},K.prototype={set:function(R,x){this.get(R)||x===""||(this.values[R]=x)},get:function(R,x,D){return D?this.has(R)?this.values[R]:x[D]:this.has(R)?this.values[R]:x},has:function(R){return R in this.values},alt:function(R,x,D){for(var k=0;k<D.length;++k)if(x===D[k]){this.set(R,x);break}},integer:function(R,x){/^-?\d+$/.test(x)&&this.set(R,parseInt(x,10))},percent:function(R,x){return!!(x.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(x=parseFloat(x))>=0&&x<=100)&&(this.set(R,x),!0)}};var q={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"","&rlm;":"","&nbsp;":""},nt={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},ot={v:"title",lang:"lang"},Ct={rt:"ruby"};function St(R,x){function D(){if(!x)return null;var ut,st=x.match(/^([^<]*)(<[^>]+>?)?/);return ut=st[1]?st[1]:st[2],x=x.substr(ut.length),ut}function k(ut){return q[ut]}function P(ut){for(;ht=ut.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)ut=ut.replace(ht[0],k);return ut}function V(ut,st){return!Ct[st.localName]||Ct[st.localName]===ut.localName}function z(ut,st){var gt=nt[ut];if(!gt)return null;var ft=R.document.createElement(gt);ft.localName=gt;var mt=ot[ut];return mt&&st&&(ft[mt]=st.trim()),ft}for(var at,rt=R.document.createElement("div"),it=rt,bt=[];(at=D())!==null;)if(at[0]!=="<")it.appendChild(R.document.createTextNode(P(at)));else{if(at[1]==="/"){bt.length&&bt[bt.length-1]===at.substr(2).replace(">","")&&(bt.pop(),it=it.parentNode);continue}var lt,ct=N(at.substr(1,at.length-2));if(ct){lt=R.document.createProcessingInstruction("timestamp",ct),it.appendChild(lt);continue}var ht=at.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!ht||!(lt=z(ht[1],ht[3]))||!V(it,lt))continue;ht[2]&&(lt.className=ht[2].substr(1).replace("."," ")),bt.push(ht[1]),it.appendChild(lt),it=lt}return rt}var Tt=[1470,1472,1475,1478,1488,1489,1490,1491,1492,1493,1494,1495,1496,1497,1498,1499,1500,1501,1502,1503,1504,1505,1506,1507,1508,1509,1510,1511,1512,1513,1514,1520,1521,1522,1523,1524,1544,1547,1549,1563,1566,1567,1568,1569,1570,1571,1572,1573,1574,1575,1576,1577,1578,1579,1580,1581,1582,1583,1584,1585,1586,1587,1588,1589,1590,1591,1592,1593,1594,1595,1596,1597,1598,1599,1600,1601,1602,1603,1604,1605,1606,1607,1608,1609,1610,1645,1646,1647,1649,1650,1651,1652,1653,1654,1655,1656,1657,1658,1659,1660,1661,1662,1663,1664,1665,1666,1667,1668,1669,1670,1671,1672,1673,1674,1675,1676,1677,1678,1679,1680,1681,1682,1683,1684,1685,1686,1687,1688,1689,1690,1691,1692,1693,1694,1695,1696,1697,1698,1699,1700,1701,1702,1703,1704,1705,1706,1707,1708,1709,1710,1711,1712,1713,1714,1715,1716,1717,1718,1719,1720,1721,1722,1723,1724,1725,1726,1727,1728,1729,1730,1731,1732,1733,1734,1735,1736,1737,1738,1739,1740,1741,1742,1743,1744,1745,1746,1747,1748,1749,1765,1766,1774,1775,1786,1787,1788,1789,1790,1791,1792,1793,1794,1795,1796,1797,1798,1799,1800,1801,1802,1803,1804,1805,1807,1808,1810,1811,1812,1813,1814,1815,1816,1817,1818,1819,1820,1821,1822,1823,1824,1825,1826,1827,1828,1829,1830,1831,1832,1833,1834,1835,1836,1837,1838,1839,1869,1870,1871,1872,1873,1874,1875,1876,1877,1878,1879,1880,1881,1882,1883,1884,1885,1886,1887,1888,1889,1890,1891,1892,1893,1894,1895,1896,1897,1898,1899,1900,1901,1902,1903,1904,1905,1906,1907,1908,1909,1910,1911,1912,1913,1914,1915,1916,1917,1918,1919,1920,1921,1922,1923,1924,1925,1926,1927,1928,1929,1930,1931,1932,1933,1934,1935,1936,1937,1938,1939,1940,1941,1942,1943,1944,1945,1946,1947,1948,1949,1950,1951,1952,1953,1954,1955,1956,1957,1969,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024,2025,2026,2036,2037,2042,2048,2049,2050,2051,2052,2053,2054,2055,2056,2057,2058,2059,2060,2061,2062,2063,2064,2065,2066,2067,2068,2069,2074,2084,2088,2096,2097,2098,2099,2100,2101,2102,2103,2104,2105,2106,2107,2108,2109,2110,2112,2113,2114,2115,2116,2117,2118,2119,2120,2121,2122,2123,2124,2125,2126,2127,2128,2129,2130,2131,2132,2133,2134,2135,2136,2142,2208,2210,2211,2212,2213,2214,2215,2216,2217,2218,2219,2220,8207,64285,64287,64288,64289,64290,64291,64292,64293,64294,64295,64296,64298,64299,64300,64301,64302,64303,64304,64305,64306,64307,64308,64309,64310,64312,64313,64314,64315,64316,64318,64320,64321,64323,64324,64326,64327,64328,64329,64330,64331,64332,64333,64334,64335,64336,64337,64338,64339,64340,64341,64342,64343,64344,64345,64346,64347,64348,64349,64350,64351,64352,64353,64354,64355,64356,64357,64358,64359,64360,64361,64362,64363,64364,64365,64366,64367,64368,64369,64370,64371,64372,64373,64374,64375,64376,64377,64378,64379,64380,64381,64382,64383,64384,64385,64386,64387,64388,64389,64390,64391,64392,64393,64394,64395,64396,64397,64398,64399,64400,64401,64402,64403,64404,64405,64406,64407,64408,64409,64410,64411,64412,64413,64414,64415,64416,64417,64418,64419,64420,64421,64422,64423,64424,64425,64426,64427,64428,64429,64430,64431,64432,64433,64434,64435,64436,64437,64438,64439,64440,64441,64442,64443,64444,64445,64446,64447,64448,64449,64467,64468,64469,64470,64471,64472,64473,64474,64475,64476,64477,64478,64479,64480,64481,64482,64483,64484,64485,64486,64487,64488,64489,64490,64491,64492,64493,64494,64495,64496,64497,64498,64499,64500,64501,64502,64503,64504,64505,64506,64507,64508,64509,64510,64511,64512,64513,64514,64515,64516,64517,64518,64519,64520,64521,64522,64523,64524,64525,64526,64527,64528,64529,64530,64531,64532,64533,64534,64535,64536,64537,64538,64539,64540,64541,64542,64543,64544,64545,64546,64547,64548,64549,64550,64551,64552,64553,64554,64555,64556,64557,64558,64559,64560,64561,64562,64563,64564,64565,64566,64567,64568,64569,64570,64571,64572,64573,64574,64575,64576,64577,64578,64579,64580,64581,64582,64583,64584,64585,64586,64587,64588,64589,64590,64591,64592,64593,64594,64595,64596,64597,64598,64599,64600,64601,64602,64603,64604,64605,64606,64607,64608,64609,64610,64611,64612,64613,64614,64615,64616,64617,64618,64619,64620,64621,64622,64623,64624,64625,64626,64627,64628,64629,64630,64631,64632,64633,64634,64635,64636,64637,64638,64639,64640,64641,64642,64643,64644,64645,64646,64647,64648,64649,64650,64651,64652,64653,64654,64655,64656,64657,64658,64659,64660,64661,64662,64663,64664,64665,64666,64667,64668,64669,64670,64671,64672,64673,64674,64675,64676,64677,64678,64679,64680,64681,64682,64683,64684,64685,64686,64687,64688,64689,64690,64691,64692,64693,64694,64695,64696,64697,64698,64699,64700,64701,64702,64703,64704,64705,64706,64707,64708,64709,64710,64711,64712,64713,64714,64715,64716,64717,64718,64719,64720,64721,64722,64723,64724,64725,64726,64727,64728,64729,64730,64731,64732,64733,64734,64735,64736,64737,64738,64739,64740,64741,64742,64743,64744,64745,64746,64747,64748,64749,64750,64751,64752,64753,64754,64755,64756,64757,64758,64759,64760,64761,64762,64763,64764,64765,64766,64767,64768,64769,64770,64771,64772,64773,64774,64775,64776,64777,64778,64779,64780,64781,64782,64783,64784,64785,64786,64787,64788,64789,64790,64791,64792,64793,64794,64795,64796,64797,64798,64799,64800,64801,64802,64803,64804,64805,64806,64807,64808,64809,64810,64811,64812,64813,64814,64815,64816,64817,64818,64819,64820,64821,64822,64823,64824,64825,64826,64827,64828,64829,64848,64849,64850,64851,64852,64853,64854,64855,64856,64857,64858,64859,64860,64861,64862,64863,64864,64865,64866,64867,64868,64869,64870,64871,64872,64873,64874,64875,64876,64877,64878,64879,64880,64881,64882,64883,64884,64885,64886,64887,64888,64889,64890,64891,64892,64893,64894,64895,64896,64897,64898,64899,64900,64901,64902,64903,64904,64905,64906,64907,64908,64909,64910,64911,64914,64915,64916,64917,64918,64919,64920,64921,64922,64923,64924,64925,64926,64927,64928,64929,64930,64931,64932,64933,64934,64935,64936,64937,64938,64939,64940,64941,64942,64943,64944,64945,64946,64947,64948,64949,64950,64951,64952,64953,64954,64955,64956,64957,64958,64959,64960,64961,64962,64963,64964,64965,64966,64967,65008,65009,65010,65011,65012,65013,65014,65015,65016,65017,65018,65019,65020,65136,65137,65138,65139,65140,65142,65143,65144,65145,65146,65147,65148,65149,65150,65151,65152,65153,65154,65155,65156,65157,65158,65159,65160,65161,65162,65163,65164,65165,65166,65167,65168,65169,65170,65171,65172,65173,65174,65175,65176,65177,65178,65179,65180,65181,65182,65183,65184,65185,65186,65187,65188,65189,65190,65191,65192,65193,65194,65195,65196,65197,65198,65199,65200,65201,65202,65203,65204,65205,65206,65207,65208,65209,65210,65211,65212,65213,65214,65215,65216,65217,65218,65219,65220,65221,65222,65223,65224,65225,65226,65227,65228,65229,65230,65231,65232,65233,65234,65235,65236,65237,65238,65239,65240,65241,65242,65243,65244,65245,65246,65247,65248,65249,65250,65251,65252,65253,65254,65255,65256,65257,65258,65259,65260,65261,65262,65263,65264,65265,65266,65267,65268,65269,65270,65271,65272,65273,65274,65275,65276,67584,67585,67586,67587,67588,67589,67592,67594,67595,67596,67597,67598,67599,67600,67601,67602,67603,67604,67605,67606,67607,67608,67609,67610,67611,67612,67613,67614,67615,67616,67617,67618,67619,67620,67621,67622,67623,67624,67625,67626,67627,67628,67629,67630,67631,67632,67633,67634,67635,67636,67637,67639,67640,67644,67647,67648,67649,67650,67651,67652,67653,67654,67655,67656,67657,67658,67659,67660,67661,67662,67663,67664,67665,67666,67667,67668,67669,67671,67672,67673,67674,67675,67676,67677,67678,67679,67840,67841,67842,67843,67844,67845,67846,67847,67848,67849,67850,67851,67852,67853,67854,67855,67856,67857,67858,67859,67860,67861,67862,67863,67864,67865,67866,67867,67872,67873,67874,67875,67876,67877,67878,67879,67880,67881,67882,67883,67884,67885,67886,67887,67888,67889,67890,67891,67892,67893,67894,67895,67896,67897,67903,67968,67969,67970,67971,67972,67973,67974,67975,67976,67977,67978,67979,67980,67981,67982,67983,67984,67985,67986,67987,67988,67989,67990,67991,67992,67993,67994,67995,67996,67997,67998,67999,68e3,68001,68002,68003,68004,68005,68006,68007,68008,68009,68010,68011,68012,68013,68014,68015,68016,68017,68018,68019,68020,68021,68022,68023,68030,68031,68096,68112,68113,68114,68115,68117,68118,68119,68121,68122,68123,68124,68125,68126,68127,68128,68129,68130,68131,68132,68133,68134,68135,68136,68137,68138,68139,68140,68141,68142,68143,68144,68145,68146,68147,68160,68161,68162,68163,68164,68165,68166,68167,68176,68177,68178,68179,68180,68181,68182,68183,68184,68192,68193,68194,68195,68196,68197,68198,68199,68200,68201,68202,68203,68204,68205,68206,68207,68208,68209,68210,68211,68212,68213,68214,68215,68216,68217,68218,68219,68220,68221,68222,68223,68352,68353,68354,68355,68356,68357,68358,68359,68360,68361,68362,68363,68364,68365,68366,68367,68368,68369,68370,68371,68372,68373,68374,68375,68376,68377,68378,68379,68380,68381,68382,68383,68384,68385,68386,68387,68388,68389,68390,68391,68392,68393,68394,68395,68396,68397,68398,68399,68400,68401,68402,68403,68404,68405,68416,68417,68418,68419,68420,68421,68422,68423,68424,68425,68426,68427,68428,68429,68430,68431,68432,68433,68434,68435,68436,68437,68440,68441,68442,68443,68444,68445,68446,68447,68448,68449,68450,68451,68452,68453,68454,68455,68456,68457,68458,68459,68460,68461,68462,68463,68464,68465,68466,68472,68473,68474,68475,68476,68477,68478,68479,68608,68609,68610,68611,68612,68613,68614,68615,68616,68617,68618,68619,68620,68621,68622,68623,68624,68625,68626,68627,68628,68629,68630,68631,68632,68633,68634,68635,68636,68637,68638,68639,68640,68641,68642,68643,68644,68645,68646,68647,68648,68649,68650,68651,68652,68653,68654,68655,68656,68657,68658,68659,68660,68661,68662,68663,68664,68665,68666,68667,68668,68669,68670,68671,68672,68673,68674,68675,68676,68677,68678,68679,68680,126464,126465,126466,126467,126469,126470,126471,126472,126473,126474,126475,126476,126477,126478,126479,126480,126481,126482,126483,126484,126485,126486,126487,126488,126489,126490,126491,126492,126493,126494,126495,126497,126498,126500,126503,126505,126506,126507,126508,126509,126510,126511,126512,126513,126514,126516,126517,126518,126519,126521,126523,126530,126535,126537,126539,126541,126542,126543,126545,126546,126548,126551,126553,126555,126557,126559,126561,126562,126564,126567,126568,126569,126570,126572,126573,126574,126575,126576,126577,126578,126580,126581,126582,126583,126585,126586,126587,126588,126590,126592,126593,126594,126595,126596,126597,126598,126599,126600,126601,126603,126604,126605,126606,126607,126608,126609,126610,126611,126612,126613,126614,126615,126616,126617,126618,126619,126625,126626,126627,126629,126630,126631,126632,126633,126635,126636,126637,126638,126639,126640,126641,126642,126643,126644,126645,126646,126647,126648,126649,126650,126651,1114109];function Kt(){}function $t(R,x,D){var k=typeof navigator<"u"&&/MSIE\s8\.0/.test(navigator.userAgent),P="rgba(255, 255, 255, 1)",V="rgba(0, 0, 0, 0.8)",z="";X!==void 0&&(P=X.fontSet,V=X.backgroundSet,z=X.edgeSet),k&&(P="rgb(255, 255, 255)",V="rgb(0, 0, 0)"),Kt.call(this),this.cue=x,this.cueDiv=St(R,x.text);var at={color:P,backgroundColor:V,textShadow:z,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};k||(at.writingMode=x.vertical===""?"horizontal-tb":x.vertical==="lr"?"vertical-lr":"vertical-rl",at.unicodeBidi="plaintext"),this.applyStyles(at,this.cueDiv),this.div=R.document.createElement("div"),at={textAlign:x.align==="middle"?"center":x.align,font:D.font,whiteSpace:"pre-line",position:"absolute"},k||(at.direction=(function(it){var bt,lt=[],ct="";if(!it||!it.childNodes)return"ltr";function ht(ft,mt){for(var vt=mt.childNodes.length-1;vt>=0;vt--)ft.push(mt.childNodes[vt])}function ut(ft){if(!ft||!ft.length)return null;var mt=ft.pop(),vt=mt.textContent||mt.innerText;if(vt){var At=vt.match(/^.*(\n|\r)/);return At?(ft.length=0,At[0]):vt}return mt.tagName==="ruby"?ut(ft):mt.childNodes?(ht(ft,mt),ut(ft)):void 0}for(ht(lt,it);ct=ut(lt);)for(var st=0;st<ct.length;st++){bt=ct.charCodeAt(st);for(var gt=0;gt<Tt.length;gt++)if(Tt[gt]===bt)return"rtl"}return"ltr"})(this.cueDiv),at.writingMode=x.vertical===""?"horizontal-tb":x.vertical==="lr"?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"),this.applyStyles(at),this.div.appendChild(this.cueDiv);var rt=0;switch(x.positionAlign){case"start":rt=x.position;break;case"middle":rt=x.position-x.size/2;break;case"end":rt=x.position-x.size}x.vertical===""?this.applyStyles({left:this.formatStyle(rt,"%"),width:this.formatStyle(x.size,"%")}):this.applyStyles({top:this.formatStyle(rt,"%"),height:this.formatStyle(x.size,"%")}),this.move=function(it){this.applyStyles({top:this.formatStyle(it.top,"px"),bottom:this.formatStyle(it.bottom,"px"),left:this.formatStyle(it.left,"px"),right:this.formatStyle(it.right,"px"),height:this.formatStyle(it.height,"px"),width:this.formatStyle(it.width,"px")})}}function Vt(R){var x,D,k,P,V=typeof navigator<"u"&&/MSIE\s8\.0/.test(navigator.userAgent);if(R.div){D=R.div.offsetHeight,k=R.div.offsetWidth,P=R.div.offsetTop;var z=(z=R.div.childNodes)&&(z=z[0])&&z.getClientRects&&z.getClientRects();R=R.div.getBoundingClientRect(),x=z?Math.max(z[0]&&z[0].height||0,R.height/z.length):0}this.left=R.left,this.right=R.right,this.top=R.top||P,this.height=R.height||D,this.bottom=R.bottom||P+(R.height||D),this.width=R.width||k,this.lineHeight=x!==void 0?x:R.lineHeight,V&&!this.lineHeight&&(this.lineHeight=13)}function ne(R,x,D,k){var P=new Vt(x),V=x.cue,z=(function(st){if(typeof st.line=="number"&&(st.snapToLines||st.line>=0&&st.line<=100))return st.line;if(!st.track||!st.track.textTrackList||!st.track.textTrackList.mediaElement)return-1;for(var gt=st.track,ft=gt.textTrackList,mt=0,vt=0;vt<ft.length&&ft[vt]!==gt;vt++)ft[vt].mode==="showing"&&mt++;return-1*++mt})(V),at=[];if(V.snapToLines){var rt;switch(V.vertical){case"":at=["+y","-y"],rt="height";break;case"rl":at=["+x","-x"],rt="width";break;case"lr":at=["-x","+x"],rt="width"}var it=P.lineHeight,bt=it*Math.round(z),lt=D[rt]+it,ct=at[0];Math.abs(bt)>lt&&(bt=bt<0?-1:1,bt*=Math.ceil(lt/it)*it),z<0&&(bt+=V.vertical===""?D.height:D.width,at=at.reverse()),P.move(ct,bt)}else{var ht=P.lineHeight/D.height*100;switch(V.lineAlign){case"middle":z-=ht/2;break;case"end":z-=ht}switch(V.vertical){case"":x.applyStyles({top:x.formatStyle(z,"%")});break;case"rl":x.applyStyles({left:x.formatStyle(z,"%")});break;case"lr":x.applyStyles({right:x.formatStyle(z,"%")})}at=["+y","-x","+x","-y"],P=new Vt(x)}var ut=(function(st,gt){for(var ft,mt=new Vt(st),vt=1,At=0;At<gt.length;At++){for(;st.overlapsOppositeAxis(D,gt[At])||st.within(D)&&st.overlapsAny(k);)st.move(gt[At]);if(st.within(D))return st;var Nt=st.intersectPercentage(D);vt>Nt&&(ft=new Vt(st),vt=Nt),st=new Vt(mt)}return ft||mt})(P,at);x.move(ut.toCSSCompatValues(D))}Kt.prototype.applyStyles=function(R,x){for(var D in x=x||this.div,R)R.hasOwnProperty(D)&&(x.style[D]=R[D])},Kt.prototype.formatStyle=function(R,x){return R===0?0:R+x},$t.prototype=et(Kt.prototype),$t.prototype.constructor=$t,Vt.prototype.move=function(R,x){switch(x=x!==void 0?x:this.lineHeight,R){case"+x":this.left+=x,this.right+=x;break;case"-x":this.left-=x,this.right-=x;break;case"+y":this.top+=x,this.bottom+=x;break;case"-y":this.top-=x,this.bottom-=x}},Vt.prototype.overlaps=function(R){return this.left<R.right&&this.right>R.left&&this.top<R.bottom&&this.bottom>R.top},Vt.prototype.overlapsAny=function(R){for(var x=0;x<R.length;x++)if(this.overlaps(R[x]))return!0;return!1},Vt.prototype.within=function(R){return this.top>=R.top&&this.bottom<=R.bottom&&this.left>=R.left&&this.right<=R.right},Vt.prototype.overlapsOppositeAxis=function(R,x){switch(x){case"+x":return this.left<R.left;case"-x":return this.right>R.right;case"+y":return this.top<R.top;case"-y":return this.bottom>R.bottom}},Vt.prototype.intersectPercentage=function(R){return Math.max(0,Math.min(this.right,R.right)-Math.max(this.left,R.left))*Math.max(0,Math.min(this.bottom,R.bottom)-Math.max(this.top,R.top))/(this.height*this.width)},Vt.prototype.toCSSCompatValues=function(R){return{top:this.top-R.top,bottom:R.bottom-this.bottom,left:this.left-R.left,right:R.right-this.right,height:this.height,width:this.width}},Vt.getSimpleBoxPosition=function(R){var x=R.div?R.div.offsetHeight:R.tagName?R.offsetHeight:0,D=R.div?R.div.offsetWidth:R.tagName?R.offsetWidth:0,k=R.div?R.div.offsetTop:R.tagName?R.offsetTop:0;return{left:(R=R.div?R.div.getBoundingClientRect():R.tagName?R.getBoundingClientRect():R).left,right:R.right,top:R.top||k,height:R.height||x,bottom:R.bottom||k+(R.height||x),width:R.width||D}},U.StringDecoder=function(){return{decode:function(R){if(!R)return"";if(typeof R!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(R))}}},U.convertCueToDOMTree=function(R,x){return R&&x?St(R,x):null},U.processCues=function(R,x,D){if(!R||!x||!D)return null;for(;D.firstChild;)D.removeChild(D.firstChild);var k=R.document.createElement("div");if(k.style.position="absolute",k.style.left="0",k.style.right="0",k.style.top="0",k.style.bottom="0",k.style.margin="1.5%",D.appendChild(k),(function(rt){for(var it=0;it<rt.length;it++)if(rt[it].hasBeenReset||!rt[it].displayState)return!0;return!1})(x)){var P=[],V=Vt.getSimpleBoxPosition(k),z={font:Math.round(.05*V.height*100)/100*$+"px sans-serif"};(function(){for(var rt,it,bt=0;bt<x.length;bt++)it=x[bt],rt=new $t(R,it,z),k.appendChild(rt.div),ne(0,rt,V,P),it.displayState=rt.div,P.push(Vt.getSimpleBoxPosition(rt))})()}else for(var at=0;at<x.length;at++)k.appendChild(x[at].displayState)},(U.Parser=function(R,x){this.window=R,this.state="INITIAL",this.buffer="",this.decoder=x||new TextDecoder("utf8"),this.regionList=[]}).prototype={reportOrThrowError:function(R){if(!(R instanceof Y))throw R;this.onparsingerror&&this.onparsingerror(R)},parse:function(R,x){var D=this;function k(){for(var rt=D.buffer,it=0;it<rt.length&&rt[it]!=="\r"&&rt[it]!==`
`;)++it;var bt=rt.substr(0,it);return rt[it]==="\r"&&++it,rt[it]===`
`&&++it,D.buffer=rt.substr(it),bt}R&&(D.buffer+=D.decoder.decode(R,{stream:!0}));try{var P;if(D.state==="INITIAL"){if(!/\r\n|\n/.test(D.buffer))return this;var V=(P=k()).match(/^WEBVTT([ \t].*)?$/);if(!V||!V[0])throw new Y(Y.Errors.BadSignature);D.state="HEADER"}for(var z=!1;D.buffer;){if(!/\r\n|\n/.test(D.buffer))return this;switch(z?z=!1:P=k(),D.state){case"HEADER":/:/.test(P)?Z(P,(function(rt,it){rt==="Region"&&(function(bt){var lt=new K;if(Z(bt,(function(ht,ut){switch(ht){case"id":lt.set(ht,ut);break;case"width":lt.percent(ht,ut);break;case"lines":lt.integer(ht,ut);break;case"regionanchor":case"viewportanchor":var st=ut.split(",");if(st.length!==2)break;var gt=new K;if(gt.percent("x",st[0]),gt.percent("y",st[1]),!gt.has("x")||!gt.has("y"))break;lt.set(ht+"X",gt.get("x")),lt.set(ht+"Y",gt.get("y"));break;case"scroll":lt.alt(ht,ut,["up"])}}),/=/,/\s/),lt.has("id")){var ct=new M;ct.width=lt.get("width",100),ct.lines=lt.get("lines",3),ct.regionAnchorX=lt.get("regionanchorX",0),ct.regionAnchorY=lt.get("regionanchorY",100),ct.viewportAnchorX=lt.get("viewportanchorX",0),ct.viewportAnchorY=lt.get("viewportanchorY",100),ct.scroll=lt.get("scroll",""),D.onregion&&D.onregion(ct),D.regionList.push({id:lt.get("id"),region:ct})}})(it)}),/:/):P||(D.state="ID");continue;case"NOTE":P||(D.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(P)){D.state="NOTE";break}if(!P)continue;if(D.cue=new B(0,0,""),D.state="CUE",P.indexOf("-->")===-1){D.cue.id=P;continue}case"CUE":try{F(P,D.cue,D.regionList)}catch(rt){D.reportOrThrowError(rt),D.cue=null,D.state="BADCUE";continue}D.state="CUETEXT";continue;case"CUETEXT":var at=P.indexOf("-->")!==-1;if(!P||at&&(z=!0)){D.oncue&&D.oncue(D.cue),D.cue=null,D.state="ID";continue}D.cue.text&&(D.cue.text+=`
`),D.cue.text+=P;continue;case"BADCUE":P||(D.state="ID");continue}}if(!x)return D.state==="CUETEXT"&&D.cue&&D.oncue&&D.oncue(D.cue),D.flush(),this}catch(rt){D.reportOrThrowError(rt),D.state==="CUETEXT"&&D.cue&&D.oncue&&D.oncue(D.cue),D.cue=null,D.state=D.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var R=this;try{if(R.buffer+=R.decoder.decode(),(R.cue||R.state==="HEADER")&&(R.buffer+=`

`,R.parse(null,!0)),R.state==="INITIAL")throw new Y(Y.Errors.BadSignature)}catch(x){R.reportOrThrowError(x)}return R.onflush&&R.onflush(),this}};var fe=U,ae=function(){var R="";screen.width&&(R+=(screen.width?screen.width:"")+" x "+(screen.height?screen.height:""));var x,D,k,P=navigator.appVersion,V=navigator.userAgent,z=navigator.appName,at=""+parseFloat(navigator.appVersion),rt=parseInt(navigator.appVersion,10);(D=V.indexOf("Opera"))!=-1&&(z="Opera",at=V.substring(D+6),(D=V.indexOf("Version"))!=-1&&(at=V.substring(D+8))),(D=V.indexOf("OPR"))!=-1?(z="Opera",at=V.substring(D+4)):(D=V.indexOf("SamsungBrowser"))!=-1?(z="SamsungBrowser",at=V.substring(D+15)):(D=V.indexOf("Edge"))!=-1?(z="Microsoft Edge",at=V.substring(D+5)):(D=V.indexOf("MSIE"))!=-1?(z="Microsoft Internet Explorer",at=V.substring(D+5),V.indexOf("Trident/")!==-1&&V.indexOf("rv:")!==-1&&(at=V.substring(V.indexOf("rv:")+3))):(D=V.indexOf("Chrome"))!=-1?(z="Chrome",at=V.substring(D+7)):(D=V.indexOf("CriOS"))!=-1?(z="Chrome",at=V.substring(D+6)):(D=V.indexOf("Firefox"))!=-1?(z="Firefox",at=V.substring(D+8)):(D=V.indexOf("FxiOS"))!=-1?(z="Firefox",at=V.substring(D+6)):(D=V.indexOf("Safari"))!=-1?(z="Safari",at=V.substring(D+7),(D=V.indexOf("Version"))!=-1&&(at=V.substring(D+8))):V.indexOf("Trident/")!==-1?(z="Microsoft Internet Explorer",at=V.substring(V.indexOf("rv:")+3)):(x=V.lastIndexOf(" ")+1)<(D=V.lastIndexOf("/"))&&(z=V.substring(x,D),at=V.substring(D+1),z.toLowerCase()==z.toUpperCase()&&(z=navigator.appName)),V.indexOf(" wv"),(k=at.indexOf(";"))!=-1&&(at=at.substring(0,k)),(k=at.indexOf(" "))!=-1&&(at=at.substring(0,k)),(k=at.indexOf(")"))!=-1&&(at=at.substring(0,k)),rt=parseInt(""+at,10),isNaN(rt)&&(at=""+parseFloat(navigator.appVersion),rt=parseInt(navigator.appVersion,10));var it=/Mobile|mini|Fennec|Android|iP(ad|od|hone)/.test(P),bt=!!navigator.cookieEnabled;navigator.cookieEnabled!==void 0||bt||(document.cookie="testcookie",bt=document.cookie.indexOf("testcookie")!=-1);var lt="-",ct=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 3.11",r:/Win16/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS XI",r:/Mac OS X 11/},{s:"Mac OS X",r:/Mac OS X 10/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(var ht in ct){var ut=ct[ht];if(ut.r.test(V)){lt=ut.s;break}}var st="-";switch(/Windows/.test(lt)&&(st=/Windows (.*)/.exec(lt)[1],lt="Windows"),lt){case"Mac OS XI":st=/Mac OS X (11[\.\_\d]+)/.exec(V)[1];break;case"Mac OS X":st=/Mac OS X (10[\.\_\d]+)/.exec(V)[1];break;case"Android":st=/Android ([\.\_\d]+)/.exec(V)[1];break;case"iOS":st=(st=/OS (\d+)_(\d+)_?(\d+)?/.exec(P))?st[1]+"."+st[2]+"."+(0|st[3]):""}return{screen:R,browser:z,browserVersion:at,browserMajorVersion:rt,mobile:it,ua:V,os:lt,osVersion:st,cookies:bt}},xe=/<sync|<\/body|<\/sami/i,Ne=/\r\n?|\n/g,Ve=/<[a-z]*[^>]*<[a-z]*/g,we=/<sync[^>]+?start[^=]*=[^0-9]*([0-9]*)["^0-9"]*/i,Le=/<br[^>]*>/gi,nn=function(R,x){return x=(((x||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join(""),R.replace(/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi,"").replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,(function(D,k){return x.indexOf("<"+k.toLowerCase()+">")>-1?D:""}))},En=function(R){return R.sort((function(x,D){var k;return(k=x.start-D.start)==0?x.end-D.end:k}))},cn=function(){var R={},x=function(D){return D.map((function(k){return new B(k.start,k.end,k.text)}))};return R.load=function(D,k,P,V){fetch(D.file).then((function(z){z.ok?z.text().then((function(at){var rt=[],it=[];if(at.indexOf("WEBVTT")>=0){OvenPlayerConsole.log("WEBVTT LOADED");var bt=new fe.Parser(window,fe.StringDecoder());it=[],bt.oncue=function(ct){it.push(ct)},bt.onflush=function(){P(it)},bt.parse(at),bt.flush()}else if(at.indexOf("SAMI")>=0){OvenPlayerConsole.log("SAMI LOADED");var lt=(function(ct,ht){var ut,st,gt,ft,mt,vt,At,Nt,Zt,me;if(At=function(){var Wt,ue,de,Gt,zt,oe,he,Se,Ee,Bt,Ft,Ae,Ce,Ge,be,Ye;for(ue=function(De){var mn;return(mn=new Error(De)).line=he,mn.context=Wt,gt.push(mn)},he=1,Ee=[],Ce={},Ae=ct;Bt=Ae.search(),!(Se<=0||Bt<0);)Se=Ae.slice(Bt+1).search(xe)+1,Wt=Se>0?Ae.slice(Bt,Bt+Se):Ae.slice(Bt),he+=((Ge=Ae.slice(0,Bt).match(Ne))!=null?Ge.length:void 0)||0,Ve.test(Wt)&&ue("ERROR_BROKEN_TAGS"),Ae=Ae.slice(Bt+Se),((Ft=+((be=Wt.match(we))!=null?parseFloat(be[1]/1e3):void 0))===null||Ft<0)&&ue("ERROR_INVALID_TIME"),(zt=ft(Wt))||ue("ERROR_INVALID_LANGUAGE"),he+=((Ye=Wt.match(Ne))!=null?Ye.length:void 0)||0,Wt=(Wt=Wt.replace(Ne,"")).replace(Le,`
`),Gt={start:Ft,text:"",contents:de=nn(Wt).trim()},zt&&(Gt.text=de),Ce[zt]||(Ce[zt]=[]),Gt.start&&Ce[zt].push(Gt);me=me||(function(){var De,mn,_e=window.navigator,He=["language","browserLanguage","systemLanguage","userLanguage"];if(Array.isArray(_e.languages)){for(De=0;De<_e.languages.length;De++)if((mn=_e.languages[De])&&mn.length)return mn}for(De=0;De<He.length;De++)if((mn=_e[He[De]])&&mn.length)return mn;return null})();var Qe=Object.keys(Ce);return Qe&&Qe.length>0&&(oe=Qe.indexOf(me)>-1?Ce[me]:Ce[Qe.filter((function(De){return De!=="undefined"}))[0]],oe=En(oe),oe=vt(oe),Ee=Ee.concat(oe)),En(Ee)},ft=function(Wt){var ue,de;if(Wt){for(ue in ut)if((de=ut[ue]).reClassName.test(Wt))return de.lang}},vt=function(Wt){var ue,de,Gt;for(ue=Wt.length;ue--;)de=Wt[ue],(Gt=Wt[ue-1])!=null&&(Gt.end=de.start),de.contents&&de.contents!=="&nbsp;"?(delete Wt[ue].contents,de.end||(de.end=de.start+st)):Wt.splice(ue,1);return Wt},gt=[],ut={KRCC:{lang:"ko",reClassName:new RegExp(`class[^=]*?=["'S]*(KRCC)['"S]?`,"i")},KOCC:{lang:"ko",reClassName:new RegExp(`class[^=]*?=["'S]*(KOCC)['"S]?`,"i")},KR:{lang:"ko",reClassName:new RegExp(`class[^=]*?=["'S]*(KR)['"S]?`,"i")},ENCC:{lang:"en",reClassName:new RegExp(`class[^=]*?=["'S]*(ENCC)['"S]?`,"i")},EGCC:{lang:"en",reClassName:new RegExp(`class[^=]*?=["'S]*(EGCC)['"S]?`,"i")},EN:{lang:"en",reClassName:new RegExp(`class[^=]*?=["'S]*(EN)['"S]?`,"i")},JPCC:{lang:"ja",reClassName:new RegExp(`class[^=]*?=["'S]*(JPCC)['"S]?`,"i")}},ht?.definedLangs)for(mt in Zt=ht.definedLangs)Nt=Zt[mt],ut[mt]=Nt;return st=ht?.duration||10,me=ht.fixedLang,ct=ct.trim(),{result:At(),errors:gt}})(at,{fixedLang:k});it=x(lt.result),P(it)}else OvenPlayerConsole.log("SRT LOADED"),rt=(function(ct){var ht=[],ut=(ct=A(ct)).split(`\r
\r
`);ut.length===1&&(ut=ct.split(`

`));for(var st=0;st<ut.length;st++)if(ut[st]!=="WEBVTT"){var gt=b(ut[st]);gt.text&&ht.push(gt)}return ht})(at),it=x(rt),P(it)})).catch((function(at){V(at)})):V(z.status)})).catch((function(z){V(z)}))},R},qe="idle",Ke="complete",Dn="paused",an="playing",ee="error",ge="loading",le="stalled",ke="adLoaded",It="adPlaying",ve="adPaused",Be="adComplete",Yn="adError",Ue="html5",$e="webrtc",Dt="dash",Te="hls",on=Ke,hn="ready",ie="destroy",Me="playlistChanged",ye="allPlaylistEnded",Fe="unstableNetwork",Xe="error",pn="stateChanged",un=Ke,qt="pause",Re="play",ze="clicked",Pe="resized",An="fullscreenChanged",sn="warning",Tn="zoomChanged",$n="adChanged",or="adTime",Qr="bufferChanged",ur="time",kr="volumeChanged",li="mute",Rr="metaChanged",wr="sourceChanged",Br="qualityLevelChanged",Yr="cueChanged",nr="captionChanged",jn="timeDisplayModeChanged",gi="p2pMode",Di="audioTrackChanged",Ht="subtitleTrackChanged",Yt={codes:""},pe=[{lang:"en",ui:{context:"About OvenPlayer",controls:{live:"Live Streaming",low_latency_live:"Sub-Second Latency Streaming",low_latency_p2p:"Sub-Second Latency P2P"},playlist:"Playlist",quality:{auto:"Auto"},setting:{title:"Settings",speed:"Speed",speedUnit:"x",source:"Source",quality:"Quality",audioTrack:"Audio",caption:"Caption",display:"Display",zoom:"Zoom",subtitleTrack:"Subtitle"}},api:{message:{muted_play:"Please touch here to turn on the sound."},error:{100:{code:100,message:"Can not load due to unknown reasons.",reason:"Can not load due to unknown reasons."},101:{code:101,message:"Can not load due to playable media not found.",reason:"Can not load due to playable media not found."},102:{code:102,message:"Flash fetching process aborted. </br><a href='http://www.adobe.com/go/getflashplayer' target='_self'><img src='http://www.adobe.com/images/shared/download_buttons/get_flash_player.gif' alt='Get Adobe Flash player'></a>",reason:"It looks like not found swf or your environment is localhost."},103:{code:103,message:"Can not load due to dash.js. Please use the latest dash.js.",reason:"dash.js version is old."},104:{code:104,message:"Can not load due to google ima for Ads. ",reason:"Please check the google ima library."},105:{code:105,message:"Error initializing DASH.",reason:"Error initializing DASH."},106:{code:106,message:"Error initializing HLS.",reason:"Error initializing HLS."},107:{code:107,message:"Error initializing DRM.",reason:"Error initializing DRM."},300:{code:300,message:"Can not play due to unknown reasons.",reason:"Can not play due to unknown reasons."},301:{code:301,message:"Fetching process aborted by user.",reason:"Fetching process aborted by user."},302:{code:302,message:"Some of the media could not be downloaded due to a network error.",reason:"Error occurred when downloading."},303:{code:303,message:"Unable to load media. This may be due to a server or network error, or due to an unsupported format.",reason:"Error occurred when decoding."},304:{code:304,message:"Media playback has been canceled. It looks like your media is corrupted or your browser does not support the features your media uses.",reason:"Media playback not supported."},305:{code:305,message:"Can not load captions due to unknown reasons.",reason:"Can not load captions due to unknown reasons."},306:{code:306,message:"Unable to load media. This may be due to a server or network error, or due to an unsupported format.",reason:"The server cannot or will not process the request."},307:{code:307,message:"Unable to load media. This may be due to a server or network error, or due to an unsupported format.",reason:"The server refused the request."},308:{code:308,message:"Unable to load media. This may be due to a server or network error, or due to an unsupported format.",reason:"The server do not accept the request."},501:{code:501,message:"Connection with low-latency(OME) server failed.",reason:"WebSocket connection failed."},502:{code:502,message:"Connection with low-latency(OME) server failed.",reason:"WebRTC addIceCandidate failed."},503:{code:503,message:"Connection with low-latency(OME) server failed.",reason:"WebRTC setRemoteDescription failed."},504:{code:504,message:"Connection with low-latency(OME) server failed.",reason:"WebRTC peer createOffer failed."},505:{code:505,message:"Connection with low-latency(OME) server failed.",reason:"WebRTC setLocalDescription failed."},506:{code:506,message:"Connection with low-latency(OME) server failed.",reason:"WebRTC internal error."},510:{code:510,message:"Network connection is unstable. Check the network connection.",reason:"Network is slow."},511:{code:511,message:"Connection with low-latency(OME) terminated unexpectedly.",reason:"Unexpected end of connection."},512:{code:512,message:"Connection with low-latency(OME) server failed.",reason:"Connection timeout."}}}},{lang:"ko",ui:{context:" ",controls:{live:"",low_latency_live:" ",low_latency_p2p:" P2P"},playlist:"",quality:{auto:""},setting:{title:"",speed:" ",speedUnit:"x",source:"",quality:"",audioTrack:"",caption:"",display:"",zoom:"",subtitleTrack:""}},api:{message:{muted_play:"  "},error:{100:{code:100,message:"       .",reason:"       ."},101:{code:101,message:"       .",reason:"Can not load due to playable media not found."},102:{code:102,message:"   . </br><a href='http://www.adobe.com/go/getflashplayer' target='_self'><img src='http://www.adobe.com/images/shared/download_buttons/get_flash_player.gif' alt='Get Adobe Flash player'></a>",reason:"It looks like not found swf or your environment is localhost."},103:{code:103,message:"DashJS     .  dash.js  .",reason:"dash.js version is old."},104:{code:104,message:"Google IMA      .",reason:"Please check the google ima library."},105:{code:105,message:"DASH    .",reason:"Error initializing DASH."},106:{code:106,message:"HLS    .",reason:"Error initializing HLS."},107:{code:107,message:"DRM    .",reason:"Error initializing DRM."},300:{code:300,message:"      .",reason:"Can not play due to unknown reasons."},301:{code:301,message:"   .",reason:"Fetching process aborted by user."},302:{code:302,message:"        .",reason:"Error occurred when downloading."},303:{code:303,message:"    .            .",reason:"Error occurred when decoding."},304:{code:304,message:"  .          .",reason:"Media playback not supported."},305:{code:305,message:"        .",reason:"Can not load captions due to unknown reasons."},306:{code:306,message:"    .            .",reason:"The server cannot or will not process the request."},307:{code:307,message:"    .            .",reason:"The server refused the request."},308:{code:308,message:"    .            .",reason:"The server do not accept the request."},501:{code:501,message:"  ",reason:"WebSocket connection failed."},502:{code:502,message:"(OME)   .",reason:"WebRTC addIceCandidate failed."},503:{code:503,message:"(OME)   .",reason:"WebRTC setRemoteDescription failed."},504:{code:504,message:"(OME)   .",reason:"WebRTC peer createOffer failed."},505:{code:505,message:"(OME)   .",reason:"WebRTC setLocalDescription failed."},506:{code:506,message:"(OME)   .",reason:"WebRTC internal error."},510:{code:510,message:"  .   .",reason:"Network is slow."},511:{code:511,message:"(OME)   .",reason:"Unexpected end of connection."},512:{code:512,message:"(OME)   .",reason:"Connection timeout."}}}},{lang:"pl",ui:{context:"O OvenPlayer",controls:{live:"Transmisja na ywo",low_latency_live:"Transmisja z niskim opnieniem",low_latency_p2p:"Transmisja z niskim opnieniem P2P"},playlist:"Playlista",quality:{auto:"Auto"},setting:{title:"Ustawienia",speed:"Prdko",speedUnit:"x",source:"rodo",quality:"Jako",audioTrack:"Audio",caption:"Podtytu",display:"Wywietlacz",zoom:"Zblienie",subtitleTrack:"Napisy"}},api:{message:{muted_play:"Nacinij tutaj, aby aktywowa dwik"},error:{100:{code:100,message:"Nie mona zaadowa z nieznanego powodu.",reason:"Can not load due to unknown reasons."},101:{code:101,message:"Nie mona zaadowa, poniewa nie znaleziono multimediw, ktry mona odtworzy.",reason:"Can not load due to playable media not found."},102:{code:102,message:"Flash fetching process aborted. </br><a href='http://www.adobe.com/go/getflashplayer' target='_self'><img src='http://www.adobe.com/images/shared/download_buttons/get_flash_player.gif' alt='Get Adobe Flash player'></a>",reason:"It looks like not found swf or your environment is localhost."},103:{code:103,message:"Nie mona zaadowa, poniewa wersja dash.js jest za stara.",reason:"dash.js version is old."},104:{code:104,message:"Can not load due to google ima for Ads. ",reason:"Please check the google ima library."},105:{code:105,message:"Nie mona zaadowa, nie znaleziono DASH.",reason:"Error initializing DASH."},106:{code:106,message:"Nie mona zaadowa, nie znaleziono hlsjs.",reason:"Error initializing HLS"},107:{code:107,message:"Nie mona zaadowa, nie znaleziono DRM.",reason:"Error initializing DRM"},300:{code:300,message:"Nie mona odtworzy z nieznanego powodu.",reason:"Can not play due to unknown reasons."},301:{code:301,message:"Proces pobierania przerwany przez uytkownika.",reason:"Fetching process aborted by user."},302:{code:302,message:"Nie udao si pobra niektrych multimediw z powodu bdu sieci.",reason:"Error occurred when downloading."},303:{code:303,message:"Nie udao si zaadowa niektrych multimediw. Moe by to spowodowane problemem z serwerem, sieci lub niewspieranym formatem.",reason:"Error occurred when decoding."},304:{code:304,message:"Odtwarzanie zostao anulowane. Wyglda na to, e plik jest uszkodzony lub Twoja przegldarka nie obsuguje tego pliku.",reason:"Media playback not supported."},305:{code:305,message:"Nie mona wczyta napisw z nieznanego powodu.",reason:"Can not load captions due to unknown reasons."},306:{code:306,message:"Nie udao si zaadowa niektrych multimediw. Moe by to spowodowane problemem z serwerem, sieci lub niewspieranym formatem.",reason:"The server cannot or will not process the request."},307:{code:307,message:"Nie udao si zaadowa niektrych multimediw. Moe by to spowodowane problemem z serwerem, sieci lub niewspieranym formatem.",reason:"The server refused the request."},308:{code:308,message:"Nie udao si zaadowa niektrych multimediw. Moe by to spowodowane problemem z serwerem, sieci lub niewspieranym formatem.",reason:"The server do not accept the request."},501:{code:501,message:"Poczenie z serwerem niskiego opnienia (OME) nie powiodo si.",reason:"WebSocket connection failed."},502:{code:502,message:"Poczenie z serwerem niskiego opnienia (OME) nie powiodo si.",reason:"WebRTC addIceCandidate failed."},503:{code:503,message:"Poczenie z serwerem niskiego opnienia (OME) nie powiodo si.",reason:"WebRTC setRemoteDescription failed."},504:{code:504,message:"Poczenie z serwerem niskiego opnienia (OME) nie powiodo si.",reason:"WebRTC peer createOffer failed."},505:{code:505,message:"Poczenie z serwerem niskiego opnienia (OME) nie powiodo si.",reason:"WebRTC setLocalDescription failed."},506:{code:506,message:"Poczenie z serwerem niskiego opnienia (OME) nie powiodo si.",reason:"WebRTC internal error."},510:{code:510,message:"Poczenie sieciowe jest niestabilne. Sprawd swoj sie.",reason:"Network is slow."},511:{code:511,message:"Poczenie z serwerem niskiego opnienia (OME) nieoczekiwanie zakoczone.",reason:"Unexpected end of connection."},512:{code:512,message:"Poczenie z serwerem niskiego opnienia (OME) nie powiodo si.",reason:"Connection timeout."}}}}],Nn=function(R){return R==="subtitles"||R==="captions"};function Xt(R){return Xt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},Xt(R)}function ar(R,x){for(var D in x)Object.prototype.hasOwnProperty.call(x,D)&&(Xt(x[D])==="object"&&x[D]!==null&&Xt(R[D])==="object"&&R[D]!==null?ar(R[D],x[D]):R[D]=x[D]);return R}var Qn=function(R){var x=R,D=[],k=function(P,V,z){var at=0,rt=P.length;for(at=0;at<rt;at++){var it=P[at];it.listener.apply(it.context||z,V)}};return x.on=function(P,V,z){return(D[P]||(D[P]=[])).push({listener:V,context:z}),x},x.trigger=function(P){if(!D)return!1;var V=[].slice.call(arguments,1),z=D[P],at=D.all;z&&k(z,V,x),at&&k(at,arguments,x)},x.off=function(P,V,z){if(!D)return!1;if(!P&&!V&&!z)return D=[],x;for(var at=P?[P]:Object.keys(D),rt=0,it=at.length;rt<it;rt++){P=at[rt];var bt=D[P];if(bt){var lt=D[P]=[];if(V||z)for(var ct=0,ht=bt.length;ct<ht;ct++){var ut=bt[ct];(V&&V!==ut.listener&&V!==ut.listener.listener&&V!==ut.listener._listener||z&&z!==ut.context)&&lt.push(ut)}lt.length||delete D[P]}}return x},x.once=function(P,V,z){var at=0,rt=function(){at++||(x.off(P,rt),V.apply(x,arguments))};return rt._listener=V,x.on(P,rt,z)},x},_n=(e(53439),function(R){var x={},D=null,k=function(P,V){var z=P.querySelectorAll(V);return z.length>1?z:z[0]};return(D=f().isElement(R)||f().every(R,(function(P){return f().isElement(P)}))?R:R==="document"?document:R==="window"?window:k(document,R))?(x.show=function(){D.style.display="block"},x.hide=function(){D.style.display="none"},x.addClass=function(P){D.classList?D.classList.add(P):D.className.split(" ").indexOf(P)===-1&&(D.className+=" "+P)},x.after=function(P){D.insertAdjacentHTML("afterend",P)},x.append=function(P){D.appendChild(P)},x.before=function(P){D.insertAdjacentHTML("beforebegin",P)},x.children=function(){return D.children||[]},x.contains=function(P){return D!==P&&D.contains(P)},x.empty=function(){D.innerHTML=""},x.find=function(P){return _n(k(D,P))},x.css=function(P,V){if(!V)return D.style[P];D.length>0?D.forEach((function(z){z.style[P]=V})):D.style[P]=V},x.removeClass=function(P){D.classList?D.classList.remove(P):D.className=D.className.replace(new RegExp("(^|\\b)"+P.split(" ").join("|")+"(\\b|$)","gi")," ")},x.removeAttribute=function(P){D.removeAttribute(P)},x.text=function(P){if(P===void 0)return D.textContent;D.textContent=P},x.html=function(P){D.innerHTML=P},x.hasClass=function(P){return D.classList?D.classList.contains(P):new RegExp("(^| )"+P+"( |$)","gi").test(D.name)},x.is=function(P){return D===P},x.offset=function(){var P=D.getBoundingClientRect();return{top:P.top+document.body.scrollTop,left:P.left+document.body.scrollLeft}},x.width=function(){return D.clientWidth},x.height=function(){return D.clientHeight},x.attr=function(P){return D.getAttribute(P)},x.replace=function(P){D.replaceWith(P)},x.remove=function(){D.length>1?D.parentElement.removeChild(D):D.remove()},x.removeChild=function(P){if(P)D.removeChild(P);else for(;D.hasChildNodes();)D.removeChild(D.firstChild)},x.get=function(){return D},x.closest=function(P){D.closest=function(z){var at=D;do{if(at.matches(z))return at;at=at.parentElement||at.parentNode}while(at!==null&&at.nodeType===1);return null};var V=D.closest(P);return V?_n(V):null},x):null}),xt=_n,Ie=function(R,x){if(R)return R.indexOf("rtmp:")==0||x=="rtmp"},Un=function(R,x){return!!R&&(R.indexOf("ws:")===0||R.indexOf("wss:")===0||x==="webrtc")},en=function(R,x){if(R)return x==="hls"||x==="m3u8"||x==="application/vnd.apple.mpegurl"||p(R)=="m3u8"},Ar=function(R,x){if(R)return x==="mpd"||x==="dash"||x==="application/dash+xml"||p(R)=="mpd"},br=function(R){if(!R)return null;var x=null;if(typeof R=="string")x=document.getElementById(R);else{if(!R.nodeType)return null;x=R}return x},ri=function(){var R={};OvenPlayerConsole.log("SupportChecker loaded.");var x=ae(),D=[{name:"html5",checkSupport:function(k){var P=document.createElement("video");if(!P.canPlayType)return!1;var V=k.file,z=k.type,at=k.overrideNative;if(!z)return!1;var rt=k.mimeType||{aac:"audio/mp4",mp4:"video/mp4",f4v:"video/mp4",m4v:"video/mp4",mov:"video/mp4",mp3:"audio/mpeg",mpeg:"audio/mpeg",ogv:"video/ogg",ogg:"video/ogg",oga:"video/ogg",vorbis:"video/ogg",webm:"video/webm",f4a:"video/aac",m3u8:"application/vnd.apple.mpegurl",m3u:"application/vnd.apple.mpegurl",hls:"application/vnd.apple.mpegurl"}[z];return!(en(V,z)&&x.os!=="iOS"||en(V,z)&&(x.browser==="Microsoft Edge"||x.os==="Android")||en(V,z)&&at||Ie(V,z)||Un(V,z)||!rt||!P.canPlayType(rt))}},{name:"webrtc",checkSupport:function(k){if(!document.createElement("video").canPlayType||Ie(P,V))return!1;var P=k.file,V=k.type;return!!Un(P,V)}},{name:"dash",checkSupport:function(k){var P=k.file,V=k.type;return!Ie(P,V)&&!(typeof(window.MediaSource||window.WebKitMediaSource)!="function"||!Ar(P,V))}},{name:"hls",checkSupport:function(k){document.createElement("video");var P,V,z,at,rt=k.file,it=k.type;return!Ie(rt,it)&&(P=(function(){if(typeof window<"u")return window.MediaSource||window.WebKitMediaSource})(),V=window.SourceBuffer||window.WebKitSourceBuffer,z=P&&typeof P.isTypeSupported=="function"&&P.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),at=!V||V.prototype&&typeof V.prototype.appendBuffer=="function"&&typeof V.prototype.remove=="function",!!z&&!!at)}},{name:"rtmp",checkSupport:function(k){var P=k.file,V=k.type;return!(!Ie(P,V)||!(function(){var z=!1;if("ActiveXObject"in window)try{z=!!new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch{z=!1}else z=!!navigator.mimeTypes["application/x-shockwave-flash"];return z})()||x.browser==="Microsoft Edge"||x.os==="Android"||x.os==="iOS"||x.browser==="Safari")}}];return R.findProviderNameBySource=function(k){OvenPlayerConsole.log("SupportChecker : findProviderNameBySource()",k);for(var P=k===Object(k)?k:{},V=0;V<D.length;V++)if(D[V].checkSupport(P))return D[V].name},R.findProviderNamesByPlaylist=function(k){OvenPlayerConsole.log("SupportChecker : findProviderNamesByPlaylist()",k);var P=[],V=k;if(V&&V.sources){for(var z=0;z<V.sources.length;z++){var at=V.sources[z];if(at){var rt=R.findProviderNameBySource(at);rt&&P.push(rt)}}return P}return null},R},$r="data:video/mp4;base64, AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw",Fn=function(R,x){x&&(x.setState(ee),x.pause(),x.trigger(Xe,R))},pi=function(R,x){var D=0;if(R)if(x.getSourceIndex()===-1){for(var k=0;k<R.length;k++)if(R[k].default){D=k;break}}else D=x.getSourceIndex();return D};function Ui(R){return{start:R.seekable.start(0),end:R.seekable.end(R.seekable.length-1)}}var jr=function(R,x,D,k,P){var V,z="admanagerLoadingTimeout",at="",rt="",it={},bt=!1,lt=!1,ct={started:!1,active:!1,isVideoEnded:!1},ht=null,ut=null,st=null,gt=null,ft=null,mt=null,vt=null,At=!1,Nt=!1,Zt=D.getBrowser(),me=Zt.os==="Android"||Zt.os==="iOS";OvenPlayerConsole.log("IMA : started ","isMobile : ",me,k);try{at=google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,rt=google.ima.AdErrorEvent.Type.AD_ERROR,google.ima.settings.setLocale(D.getLanguage()),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(!0),ut=function(de){console.log(de.getError().getVastErrorCode(),de.getError().getMessage()),lt=!0;var Gt=de.getError().getInnerError();if(Gt)try{console.log(Gt.getErrorCode(),Gt.getMessage())}catch{}x.trigger(Yn,{code:de.getError().getVastErrorCode(),message:de.getError().getMessage()}),ct.active=!1,ct.started=!0,x.play()},ht=function(de){OvenPlayerConsole.log("IMA : OnManagerLoaded ");var Gt=new google.ima.AdsRenderingSettings;Gt.restoreCustomPlaybackStateOnAdBreakComplete=!0,ft&&(OvenPlayerConsole.log("IMA : destroy adsManager----"),mt.destroy(),mt=null,ft.destroy(),ft=null),ft=de.getAdsManager(R,Gt),mt=(function(zt,oe,he,Se){var Ee={},Bt={},Ft=null,Ae=google.ima.AdEvent.Type.AD_BUFFERING,Ce=google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,Ge=google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,be=google.ima.AdErrorEvent.Type.AD_ERROR,Ye=google.ima.AdEvent.Type.ALL_ADS_COMPLETED,Qe=google.ima.AdEvent.Type.CLICK,De=google.ima.AdEvent.Type.SKIPPED,mn=google.ima.AdEvent.Type.COMPLETE,_e=google.ima.AdEvent.Type.FIRST_QUARTILE,He=google.ima.AdEvent.Type.LOADED,gn=google.ima.AdEvent.Type.MIDPOINT,Ln=google.ima.AdEvent.Type.PAUSED,kn=google.ima.AdEvent.Type.RESUMED,Wn=google.ima.AdEvent.Type.STARTED,ln=google.ima.AdEvent.Type.USER_CLOSE,fn=google.ima.AdEvent.Type.THIRD_QUARTILE,bn=!1,Ze=null;return OvenPlayerConsole.log("IMA : Listener Created"),Bt[Ce]=function(Oe){OvenPlayerConsole.log("IMA LISTENER : ",Oe.type),he.started&&(he.active=!0,oe.pause())},Bt[Ge]=function(Oe){OvenPlayerConsole.log("IMA LISTENER : ",Oe.type),he.active=!1,!he.started||oe.getPosition()!==0&&he.isVideoEnded||oe.play()},Bt[be]=function(Oe){bn=!0,Se(Oe)},Bt[Ye]=function(Oe){OvenPlayerConsole.log("IMA LISTENER : ",Oe.type),bn=!0,he.isVideoEnded&&oe.setState(Ke)},Bt[Qe]=function(Oe){OvenPlayerConsole.log(Oe.type),oe.trigger(ze,{type:"adclick"})},Bt[_e]=function(Oe){OvenPlayerConsole.log(Oe.type)},Bt[Ae]=function(Oe){OvenPlayerConsole.log("AD_BUFFERING",Oe.type)},Bt[He]=function(Oe){OvenPlayerConsole.log(Oe.type);var Bn=zt.getRemainingTime(),_r=Oe.getAd();oe.trigger(ke,{remaining:Bn,isLinear:_r.isLinear()})},Bt[gn]=function(Oe){OvenPlayerConsole.log(Oe.type)},Bt[Ln]=function(Oe){OvenPlayerConsole.log(Oe.type),oe.setState(ve)},Bt[kn]=function(Oe){OvenPlayerConsole.log(Oe.type),oe.setState(It)},Bt[Wn]=function(Oe){OvenPlayerConsole.log(Oe.type);var Bn=Oe.getAd();Ze=Bn;var _r={isLinear:Bn.isLinear(),duration:Bn.getDuration(),skipTimeOffset:Bn.getSkipTimeOffset()};oe.trigger($n,_r),Bn.isLinear()?(oe.setState(It),he.started=!0,Ft=setInterval((function(){var Jr=zt.getRemainingTime(),As=Bn.getDuration();oe.trigger(or,{duration:As,skipTimeOffset:Bn.getSkipTimeOffset(),remaining:Jr,position:As-Jr,skippable:zt.getAdSkippableState()})}),300)):oe.play()},Bt[mn]=function(Oe){OvenPlayerConsole.log(Oe.type),Oe.getAd().isLinear()&&clearInterval(Ft),oe.trigger(Be)},Bt[De]=function(Oe){OvenPlayerConsole.log(Oe.type),Oe.getAd().isLinear()&&clearInterval(Ft),oe.trigger(Be)},Bt[ln]=function(Oe){OvenPlayerConsole.log(Oe.type),Oe.getAd().isLinear()&&clearInterval(Ft),oe.trigger(Be)},Bt[fn]=function(Oe){OvenPlayerConsole.log(Oe.type)},Object.keys(Bt).forEach((function(Oe){zt.removeEventListener(Oe,Bt[Oe]),zt.addEventListener(Oe,Bt[Oe])})),Ee.setAdCompleteCallback=function(Oe){},Ee.isAllAdComplete=function(){return bn},Ee.isLinearAd=function(){return!Ze||Ze.isLinear()},Ee.destroy=function(){OvenPlayerConsole.log("IMAEventListener : destroy()"),Object.keys(Bt).forEach((function(Oe){zt.removeEventListener(Oe,Bt[Oe])}))},Ee})(ft,x,ct,ut),OvenPlayerConsole.log("IMA : created admanager and listner "),bt=!0};var Wt=((V=document.createElement("div")).setAttribute("class","op-ads"),V.setAttribute("id","op-ads"),D.getContainer().append(V),V);st=new google.ima.AdDisplayContainer(Wt,R),(gt=new google.ima.AdsLoader(st)).addEventListener(at,ht,!1),gt.addEventListener(rt,ut,!1),OvenPlayerConsole.log("IMA : adDisplayContainer initialized"),x.on(kr,(function(de){ft&&(de.mute?ft.setVolume(0):ft.setVolume(de.volume/100))}),it);var ue=function(){vt&&(OvenPlayerConsole.log("IMA : setADWillAutoPlay ","autoplayAllowed",At,"autoplayRequiresMuted",Nt),vt.setAdWillAutoPlay(At),vt.setAdWillPlayMuted(Nt),Nt&&x.trigger(sn,{message:"Please touch here to turn on the sound.",timer:1e4,iconClass:"volume-mute",onClickCallback:function(){x.setMute(!1)}}))};return it.isActive=function(){return ct.active},it.started=function(){return ct.started},it.play=function(){return ct.started?new Promise((function(de,Gt){try{ft.resume(),de()}catch(zt){Gt(zt)}})):(st.initialize(),new Promise((function(de,Gt){var zt=0,oe=function(){zt++,bt?(OvenPlayerConsole.log("IMA : ad start!"),ft.init("100%","100%",google.ima.ViewMode.NORMAL),ft.start(),ct.started=!0,de()):lt?Gt(new Error(z)):zt<150?setTimeout(oe,100):Gt(new Error(z))};(function(){OvenPlayerConsole.log("IMA : checkAutoplaySupport() ");var he=document.createElement("video");he.setAttribute("playsinline","true"),he.src=$r,he.load(),me&&x.getName()!==Dt&&R.load();var Se=function(Ee,Bt){At=Ee,Nt=Bt,he.pause(),he.remove(),ue()};return new Promise((function(Ee,Bt){if(he.play){var Ft=he.play();Ft!==void 0?Ft.then((function(){OvenPlayerConsole.log("IMA : auto play allowed."),Se(!0,!1),Ee()})).catch((function(Ae){OvenPlayerConsole.log("IMA : auto play failed",Ae.message),Se(!1,!1),Ee()})):(OvenPlayerConsole.log("IMA : promise not support"),Se(!0,!1),Ee())}else OvenPlayerConsole.log("IMA : !temporarySupportCheckVideo.play"),Se(!0,!1),Ee()}))})().then((function(){D.isAutoStart()&&!At?(OvenPlayerConsole.log("IMA : autoplayAllowed : false"),ct.started=!1,Gt(new Error("autoplayNotAllowed"))):(bt=!1,OvenPlayerConsole.log("IMA : initRequest() AutoPlay Support : ","autoplayAllowed",At,"autoplayRequiresMuted",Nt),(vt=new google.ima.AdsRequest).forceNonLinearFullSlot=!1,ue(),vt.adTagUrl=k,gt.requestAds(vt),OvenPlayerConsole.log("IMA : requestAds Complete"),oe())}))})))},it.pause=function(){ft.pause()},it.videoEndedCallback=function(de){!mt||!mt.isAllAdComplete()&&mt.isLinearAd()?lt?de():(ct.isVideoEnded=!0,gt.contentComplete()):de()},it.destroy=function(){gt&&(gt.removeEventListener(at,ht),gt.removeEventListener(rt,ut)),ft&&ft.destroy(),st&&st.destroy(),mt&&mt.destroy();var de=xt(D.getContainer()).find(".op-ads");de&&de.remove(),x.off(kr,null,it)},it}catch{return null}};function ui(R){return ui=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},ui(R)}function Zi(R,x,D){return x=Xr(x),(function(k,P){if(P&&(ui(P)=="object"||typeof P=="function"))return P;if(P!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(V){if(V===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return V})(k)})(R,za()?Reflect.construct(x,D||[],Xr(R).constructor):x.apply(R,D))}function za(){try{var R=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(za=function(){return!!R})()}function Xr(R){return Xr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(x){return x.__proto__||Object.getPrototypeOf(x)},Xr(R)}function Fi(R,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(x&&x.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),Object.defineProperty(R,"prototype",{writable:!1}),x&&Fs(R,x)}function Fs(R,x){return Fs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(D,k){return D.__proto__=k,D},Fs(R,x)}function Ha(R,x){for(var D=0;D<x.length;D++){var k=x[D];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(R,Ya(k.key),k)}}function Sr(R,x,D){return x&&Ha(R.prototype,x),Object.defineProperty(R,"prototype",{writable:!1}),R}function Ya(R){var x=(function(D){if(ui(D)!="object"||!D)return D;var k=D[Symbol.toPrimitive];if(k!==void 0){var P=k.call(D,"string");if(ui(P)!="object")return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(D)})(R);return ui(x)=="symbol"?x:x+""}function Or(R,x){if(!(R instanceof x))throw new TypeError("Cannot call a class as a function")}var os=Sr((function R(){Or(this,R),this.id=null,this.sequence=null,this.system=null,this.title=null,this.description=null,this.advertiser=null,this.pricing=null,this.survey=null,this.errorURLTemplates=[],this.impressionURLTemplates=[],this.creatives=[],this.extensions=[]})),Eo=Sr((function R(){Or(this,R),this.attributes={},this.children=[]})),$a=Sr((function R(){Or(this,R),this.name=null,this.value=null,this.attributes={}})),sa=Sr((function R(){Or(this,R),this.id=null,this.width=0,this.height=0,this.type=null,this.staticResource=null,this.htmlResource=null,this.iframeResource=null,this.altText=null,this.companionClickThroughURLTemplate=null,this.companionClickTrackingURLTemplates=[],this.trackingEvents={}})),Gs=Sr((function R(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Or(this,R),this.id=x.id||null,this.adId=x.adId||null,this.sequence=x.sequence||null,this.apiFramework=x.apiFramework||null,this.trackingEvents={}})),Va=(function(R){function x(){var D,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Or(this,x),(D=Zi(this,x,[k])).type="companion",D.variations=[],D}return Fi(x,R),Sr(x)})(Gs);function ki(R){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},D=[];for(var k in x.ASSETURI&&(x.ASSETURI=ci(x.ASSETURI)),x.CONTENTPLAYHEAD&&(x.CONTENTPLAYHEAD=ci(x.CONTENTPLAYHEAD)),x.ERRORCODE&&!/^[0-9]{3}$/.test(x.ERRORCODE)&&(x.ERRORCODE=900),x.CACHEBUSTING=Qs(Math.round(1e8*Math.random()).toString()),x.TIMESTAMP=ci(new Date().toISOString()),x.RANDOM=x.random=x.CACHEBUSTING,R){var P=R[k];if(typeof P=="string"){for(var V in x){var z=x[V],at="[".concat(V,"]"),rt="%%".concat(V,"%%");P=(P=P.replace(at,z)).replace(rt,z)}D.push(P)}}return D}function ci(R){return encodeURIComponent(R).replace(/[!'()*]/g,(function(x){return"%".concat(x.charCodeAt(0).toString(16))}))}function Qs(R){return R.length<8?xs(0,8-R.length,!1).map((function(x){return"0"})).join("")+R:R}function xs(R,x,D){for(var k=[],P=R<x,V=D?P?x+1:x-1:x,z=R;P?z<V:z>V;P?z++:z--)k.push(z);return k}var mi={track:function(R,x){ki(R,x).forEach((function(D){typeof window<"u"&&window!==null&&(new Image().src=D)}))},resolveURLTemplates:ki,encodeURIComponentRFC3986:ci,leftpad:Qs,range:xs,isNumeric:function(R){return!isNaN(parseFloat(R))&&isFinite(R)},flatten:function R(x){return x.reduce((function(D,k){return D.concat(Array.isArray(k)?R(k):k)}),[])}},cr=function(R,x){var D=R.childNodes;for(var k in D){var P=D[k];if(P.nodeName===x)return P}},Jn=function(R,x){var D=[],k=R.childNodes;for(var P in k){var V=k[P];V.nodeName===x&&D.push(V)}return D},aa=function(R,x){if(!x)return R;if(R.indexOf("//")===0){var D=location.protocol;return"".concat(D).concat(R)}return R.indexOf("://")===-1?"".concat(x.slice(0,x.lastIndexOf("/")),"/").concat(R):R},Si=function(R){return["true","TRUE","1"].indexOf(R)!==-1},wn=function(R){return R&&(R.textContent||R.text||"").trim()},vi=function(R,x,D){var k=x.getAttribute(R);k&&D.setAttribute(R,k)},Gi=function(R){if(R==null)return-1;if(mi.isNumeric(R))return parseInt(R);var x=R.split(":");if(x.length!==3)return-1;var D=x[2].split("."),k=parseInt(D[0]);D.length===2&&(k+=parseFloat("0.".concat(D[1])));var P=parseInt(60*x[1]),V=parseInt(60*x[0]*60);return isNaN(V)||isNaN(P)||isNaN(k)||P>3600||k>60?-1:V+P+k},Ts=function(R){var x=[],D=null;return R.forEach((function(k,P){if(k.sequence&&(k.sequence=parseInt(k.sequence,10)),k.sequence>1){var V=R[P-1];if(V&&V.sequence===k.sequence-1)return void(D&&D.push(k));delete k.sequence}D=[k],x.push(D)})),x},xi=function(R,x){R.errorURLTemplates=x.errorURLTemplates.concat(R.errorURLTemplates),R.impressionURLTemplates=x.impressionURLTemplates.concat(R.impressionURLTemplates),R.extensions=x.extensions.concat(R.extensions),R.creatives.forEach((function(D){if(x.trackingEvents&&x.trackingEvents[D.type])for(var k in x.trackingEvents[D.type]){var P=x.trackingEvents[D.type][k];D.trackingEvents[k]||(D.trackingEvents[k]=[]),D.trackingEvents[k]=D.trackingEvents[k].concat(P)}})),x.videoClickTrackingURLTemplates&&x.videoClickTrackingURLTemplates.length&&R.creatives.forEach((function(D){D.type==="linear"&&(D.videoClickTrackingURLTemplates=D.videoClickTrackingURLTemplates.concat(x.videoClickTrackingURLTemplates))})),x.videoCustomClickURLTemplates&&x.videoCustomClickURLTemplates.length&&R.creatives.forEach((function(D){D.type==="linear"&&(D.videoCustomClickURLTemplates=D.videoCustomClickURLTemplates.concat(x.videoCustomClickURLTemplates))})),x.videoClickThroughURLTemplate&&R.creatives.forEach((function(D){D.type==="linear"&&D.videoClickThroughURLTemplate==null&&(D.videoClickThroughURLTemplate=x.videoClickThroughURLTemplate)}))};function Ka(R,x){var D=new Va(x);return Jn(R,"Companion").forEach((function(k){var P=new sa;P.id=k.getAttribute("id")||null,P.width=k.getAttribute("width"),P.height=k.getAttribute("height"),P.companionClickTrackingURLTemplates=[],Jn(k,"HTMLResource").forEach((function(V){P.type=V.getAttribute("creativeType")||"text/html",P.htmlResource=wn(V)})),Jn(k,"IFrameResource").forEach((function(V){P.type=V.getAttribute("creativeType")||0,P.iframeResource=wn(V)})),Jn(k,"StaticResource").forEach((function(V){P.type=V.getAttribute("creativeType")||0,Jn(k,"AltText").forEach((function(z){P.altText=wn(z)})),P.staticResource=wn(V)})),Jn(k,"TrackingEvents").forEach((function(V){Jn(V,"Tracking").forEach((function(z){var at=z.getAttribute("event"),rt=wn(z);at&&rt&&(P.trackingEvents[at]==null&&(P.trackingEvents[at]=[]),P.trackingEvents[at].push(rt))}))})),Jn(k,"CompanionClickTracking").forEach((function(V){P.companionClickTrackingURLTemplates.push(wn(V))})),P.companionClickThroughURLTemplate=wn(cr(k,"CompanionClickThrough")),P.companionClickTrackingURLTemplate=wn(cr(k,"CompanionClickTracking")),D.variations.push(P)})),D}var js=(function(R){function x(){var D,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Or(this,x),(D=Zi(this,x,[k])).type="linear",D.duration=0,D.skipDelay=null,D.mediaFiles=[],D.videoClickThroughURLTemplate=null,D.videoClickTrackingURLTemplates=[],D.videoCustomClickURLTemplates=[],D.adParameters=null,D.icons=[],D}return Fi(x,R),Sr(x)})(Gs),Co=Sr((function R(){Or(this,R),this.program=null,this.height=0,this.width=0,this.xPosition=0,this.yPosition=0,this.apiFramework=null,this.offset=null,this.duration=0,this.type=null,this.staticResource=null,this.htmlResource=null,this.iframeResource=null,this.iconClickThroughURLTemplate=null,this.iconClickTrackingURLTemplates=[],this.iconViewTrackingURLTemplate=null})),oa=Sr((function R(){Or(this,R),this.id=null,this.fileURL=null,this.deliveryType="progressive",this.mimeType=null,this.codec=null,this.bitrate=0,this.minBitrate=0,this.maxBitrate=0,this.width=0,this.height=0,this.apiFramework=null,this.scalable=null,this.maintainAspectRatio=null}));function la(R,x){var D,k=new js(x);k.duration=Gi(wn(cr(R,"Duration")));var P=R.getAttribute("skipoffset");if(P==null)k.skipDelay=null;else if(P.charAt(P.length-1)==="%"&&k.duration!==-1){var V=parseInt(P,10);k.skipDelay=k.duration*(V/100)}else k.skipDelay=Gi(P);var z=cr(R,"VideoClicks");z&&(k.videoClickThroughURLTemplate=wn(cr(z,"ClickThrough")),Jn(z,"ClickTracking").forEach((function(it){k.videoClickTrackingURLTemplates.push(wn(it))})),Jn(z,"CustomClick").forEach((function(it){k.videoCustomClickURLTemplates.push(wn(it))})));var at=cr(R,"AdParameters");at&&(k.adParameters=wn(at)),Jn(R,"TrackingEvents").forEach((function(it){Jn(it,"Tracking").forEach((function(bt){var lt=bt.getAttribute("event"),ct=wn(bt);if(lt&&ct){if(lt==="progress"){if(!(D=bt.getAttribute("offset")))return;lt=D.charAt(D.length-1)==="%"?"progress-".concat(D):"progress-".concat(Math.round(Gi(D)))}k.trackingEvents[lt]==null&&(k.trackingEvents[lt]=[]),k.trackingEvents[lt].push(ct)}}))})),Jn(R,"MediaFiles").forEach((function(it){Jn(it,"MediaFile").forEach((function(bt){var lt=new oa;lt.id=bt.getAttribute("id"),lt.fileURL=wn(bt),lt.deliveryType=bt.getAttribute("delivery"),lt.codec=bt.getAttribute("codec"),lt.mimeType=bt.getAttribute("type"),lt.apiFramework=bt.getAttribute("apiFramework"),lt.bitrate=parseInt(bt.getAttribute("bitrate")||0),lt.minBitrate=parseInt(bt.getAttribute("minBitrate")||0),lt.maxBitrate=parseInt(bt.getAttribute("maxBitrate")||0),lt.width=parseInt(bt.getAttribute("width")||0),lt.height=parseInt(bt.getAttribute("height")||0);var ct=bt.getAttribute("scalable");ct&&typeof ct=="string"&&((ct=ct.toLowerCase())==="true"?lt.scalable=!0:ct==="false"&&(lt.scalable=!1));var ht=bt.getAttribute("maintainAspectRatio");ht&&typeof ht=="string"&&((ht=ht.toLowerCase())==="true"?lt.maintainAspectRatio=!0:ht==="false"&&(lt.maintainAspectRatio=!1)),k.mediaFiles.push(lt)}))}));var rt=cr(R,"Icons");return rt&&Jn(rt,"Icon").forEach((function(it){var bt=new Co;bt.program=it.getAttribute("program"),bt.height=parseInt(it.getAttribute("height")||0),bt.width=parseInt(it.getAttribute("width")||0),bt.xPosition=(function(ct){return["left","right"].indexOf(ct)!==-1?ct:parseInt(ct||0)})(it.getAttribute("xPosition")),bt.yPosition=(function(ct){return["top","bottom"].indexOf(ct)!==-1?ct:parseInt(ct||0)})(it.getAttribute("yPosition")),bt.apiFramework=it.getAttribute("apiFramework"),bt.offset=Gi(it.getAttribute("offset")),bt.duration=Gi(it.getAttribute("duration")),Jn(it,"HTMLResource").forEach((function(ct){bt.type=ct.getAttribute("creativeType")||"text/html",bt.htmlResource=wn(ct)})),Jn(it,"IFrameResource").forEach((function(ct){bt.type=ct.getAttribute("creativeType")||0,bt.iframeResource=wn(ct)})),Jn(it,"StaticResource").forEach((function(ct){bt.type=ct.getAttribute("creativeType")||0,bt.staticResource=wn(ct)}));var lt=cr(it,"IconClicks");lt&&(bt.iconClickThroughURLTemplate=wn(cr(lt,"IconClickThrough")),Jn(lt,"IconClickTracking").forEach((function(ct){bt.iconClickTrackingURLTemplates.push(wn(ct))}))),bt.iconViewTrackingURLTemplate=wn(cr(it,"IconViewTracking")),k.icons.push(bt)})),k}var ua,Zr=(function(R){function x(){var D,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Or(this,x),(D=Zi(this,x,[k])).type="nonlinear",D.variations=[],D}return Fi(x,R),Sr(x)})(Gs),Ji=Sr((function R(){Or(this,R),this.id=null,this.width=0,this.height=0,this.expandedWidth=0,this.expandedHeight=0,this.scalable=!0,this.maintainAspectRatio=!0,this.minSuggestedDuration=0,this.apiFramework="static",this.type=null,this.staticResource=null,this.htmlResource=null,this.iframeResource=null,this.nonlinearClickThroughURLTemplate=null,this.nonlinearClickTrackingURLTemplates=[],this.adParameters=null}));function zs(R,x){var D=new Zr(x);return Jn(R,"TrackingEvents").forEach((function(k){var P,V;Jn(k,"Tracking").forEach((function(z){P=z.getAttribute("event"),V=wn(z),P&&V&&(D.trackingEvents[P]==null&&(D.trackingEvents[P]=[]),D.trackingEvents[P].push(V))}))})),Jn(R,"NonLinear").forEach((function(k){var P=new Ji;P.id=k.getAttribute("id")||null,P.width=k.getAttribute("width"),P.height=k.getAttribute("height"),P.expandedWidth=k.getAttribute("expandedWidth"),P.expandedHeight=k.getAttribute("expandedHeight"),P.scalable=Si(k.getAttribute("scalable")),P.maintainAspectRatio=Si(k.getAttribute("maintainAspectRatio")),P.minSuggestedDuration=Gi(k.getAttribute("minSuggestedDuration")),P.apiFramework=k.getAttribute("apiFramework"),Jn(k,"HTMLResource").forEach((function(z){P.type=z.getAttribute("creativeType")||"text/html",P.htmlResource=wn(z)})),Jn(k,"IFrameResource").forEach((function(z){P.type=z.getAttribute("creativeType")||0,P.iframeResource=wn(z)})),Jn(k,"StaticResource").forEach((function(z){P.type=z.getAttribute("creativeType")||0,P.staticResource=wn(z)}));var V=cr(k,"AdParameters");V&&(P.adParameters=wn(V)),P.nonlinearClickThroughURLTemplate=wn(cr(k,"NonLinearClickThrough")),Jn(k,"NonLinearClickTracking").forEach((function(z){P.nonlinearClickTrackingURLTemplates.push(wn(z))})),D.variations.push(P)})),D}function ls(R){var x=R.childNodes;for(var D in x){var k=x[D];if(["Wrapper","InLine"].indexOf(k.nodeName)!==-1){if(vi("id",R,k),vi("sequence",R,k),k.nodeName==="Wrapper")return ca(k);if(k.nodeName==="InLine")return Hs(k)}}}function Hs(R){var x=R.childNodes,D=new os;for(var k in D.id=R.getAttribute("id")||null,D.sequence=R.getAttribute("sequence")||null,x){var P=x[k];switch(P.nodeName){case"Error":D.errorURLTemplates.push(wn(P));break;case"Impression":D.impressionURLTemplates.push(wn(P));break;case"Creatives":Jn(P,"Creative").forEach((function(V){var z={id:V.getAttribute("id")||null,adId:us(V),sequence:V.getAttribute("sequence")||null,apiFramework:V.getAttribute("apiFramework")||null};for(var at in V.childNodes){var rt=V.childNodes[at];switch(rt.nodeName){case"Linear":var it=la(rt,z);it&&D.creatives.push(it);break;case"NonLinearAds":var bt=zs(rt,z);bt&&D.creatives.push(bt);break;case"CompanionAds":var lt=Ka(rt,z);lt&&D.creatives.push(lt)}}}));break;case"Extensions":Wa(D.extensions,Jn(P,"Extension"));break;case"AdSystem":D.system={value:wn(P),version:P.getAttribute("version")||null};break;case"AdTitle":D.title=wn(P);break;case"Description":D.description=wn(P);break;case"Advertiser":D.advertiser=wn(P);break;case"Pricing":D.pricing={value:wn(P),model:P.getAttribute("model")||null,currency:P.getAttribute("currency")||null};break;case"Survey":D.survey=wn(P)}}return D}function ca(R){var x=Hs(R),D=cr(R,"VASTAdTagURI");if(D?x.nextWrapperURL=wn(D):(D=cr(R,"VASTAdTagURL"))&&(x.nextWrapperURL=wn(cr(D,"URL"))),x.creatives.forEach((function(k){if(["linear","nonlinear"].indexOf(k.type)!==-1){if(k.trackingEvents){x.trackingEvents||(x.trackingEvents={}),x.trackingEvents[k.type]||(x.trackingEvents[k.type]={});var P=function(z){var at=k.trackingEvents[z];x.trackingEvents[k.type][z]||(x.trackingEvents[k.type][z]=[]),at.forEach((function(rt){x.trackingEvents[k.type][z].push(rt)}))};for(var V in k.trackingEvents)P(V)}k.videoClickTrackingURLTemplates&&(x.videoClickTrackingURLTemplates||(x.videoClickTrackingURLTemplates=[]),k.videoClickTrackingURLTemplates.forEach((function(z){x.videoClickTrackingURLTemplates.push(z)}))),k.videoClickThroughURLTemplate&&(x.videoClickThroughURLTemplate=k.videoClickThroughURLTemplate),k.videoCustomClickURLTemplates&&(x.videoCustomClickURLTemplates||(x.videoCustomClickURLTemplates=[]),k.videoCustomClickURLTemplates.forEach((function(z){x.videoCustomClickURLTemplates.push(z)})))}})),x.nextWrapperURL)return x}function Wa(R,x){x.forEach((function(D){var k=new Eo,P=D.attributes,V=D.childNodes;if(D.attributes)for(var z in P){var at=P[z];at.nodeName&&at.nodeValue&&(k.attributes[at.nodeName]=at.nodeValue)}for(var rt in V){var it=V[rt],bt=wn(it);if(it.nodeName!=="#comment"&&bt!==""){var lt=new $a;if(lt.name=it.nodeName,lt.value=bt,it.attributes){var ct=it.attributes;for(var ht in ct){var ut=ct[ht];lt.attributes[ut.nodeName]=ut.nodeValue}}k.children.push(lt)}}R.push(k)}))}function us(R){return R.getAttribute("AdID")||R.getAttribute("adID")||R.getAttribute("adId")||null}function Ti(){}function Zn(){Zn.init.call(this)}function So(R){return R._maxListeners===void 0?Zn.defaultMaxListeners:R._maxListeners}function fa(R,x,D,k){var P,V,z;if(typeof D!="function")throw new TypeError('"listener" argument must be a function');if((V=R._events)?(V.newListener&&(R.emit("newListener",x,D.listener?D.listener:D),V=R._events),z=V[x]):(V=R._events=new Ti,R._eventsCount=0),z){if(typeof z=="function"?z=V[x]=k?[D,z]:[z,D]:k?z.unshift(D):z.push(D),!z.warned&&(P=So(R))&&P>0&&z.length>P){z.warned=!0;var at=new Error("Possible EventEmitter memory leak detected. "+z.length+" "+x+" listeners added. Use emitter.setMaxListeners() to increase limit");at.name="MaxListenersExceededWarning",at.emitter=R,at.type=x,at.count=z.length,(function(rt){typeof console.warn=="function"?console.warn(rt):console.log(rt)})(at)}}else z=V[x]=D,++R._eventsCount;return R}function qa(R,x,D){var k=!1;function P(){R.removeListener(x,P),k||(k=!0,D.apply(R,arguments))}return P.listener=D,P}function ws(R){var x=this._events;if(x){var D=x[R];if(typeof D=="function")return 1;if(D)return D.length}return 0}function j(R,x){for(var D=new Array(x);x--;)D[x]=R[x];return D}Ti.prototype=Object.create(null),Zn.EventEmitter=Zn,Zn.usingDomains=!1,Zn.prototype.domain=void 0,Zn.prototype._events=void 0,Zn.prototype._maxListeners=void 0,Zn.defaultMaxListeners=10,Zn.init=function(){this.domain=null,Zn.usingDomains&&(!ua.active||this instanceof ua.Domain||(this.domain=ua.active)),this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new Ti,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Zn.prototype.setMaxListeners=function(R){if(typeof R!="number"||R<0||isNaN(R))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=R,this},Zn.prototype.getMaxListeners=function(){return So(this)},Zn.prototype.emit=function(R){var x,D,k,P,V,z,at,rt=R==="error";if(z=this._events)rt=rt&&z.error==null;else if(!rt)return!1;if(at=this.domain,rt){if(x=arguments[1],!at){if(x instanceof Error)throw x;var it=new Error('Uncaught, unspecified "error" event. ('+x+")");throw it.context=x,it}return x||(x=new Error('Uncaught, unspecified "error" event')),x.domainEmitter=this,x.domain=at,x.domainThrown=!1,at.emit("error",x),!1}if(!(D=z[R]))return!1;var bt=typeof D=="function";switch(k=arguments.length){case 1:(function(lt,ct,ht){if(ct)lt.call(ht);else for(var ut=lt.length,st=j(lt,ut),gt=0;gt<ut;++gt)st[gt].call(ht)})(D,bt,this);break;case 2:(function(lt,ct,ht,ut){if(ct)lt.call(ht,ut);else for(var st=lt.length,gt=j(lt,st),ft=0;ft<st;++ft)gt[ft].call(ht,ut)})(D,bt,this,arguments[1]);break;case 3:(function(lt,ct,ht,ut,st){if(ct)lt.call(ht,ut,st);else for(var gt=lt.length,ft=j(lt,gt),mt=0;mt<gt;++mt)ft[mt].call(ht,ut,st)})(D,bt,this,arguments[1],arguments[2]);break;case 4:(function(lt,ct,ht,ut,st,gt){if(ct)lt.call(ht,ut,st,gt);else for(var ft=lt.length,mt=j(lt,ft),vt=0;vt<ft;++vt)mt[vt].call(ht,ut,st,gt)})(D,bt,this,arguments[1],arguments[2],arguments[3]);break;default:for(P=new Array(k-1),V=1;V<k;V++)P[V-1]=arguments[V];(function(lt,ct,ht,ut){if(ct)lt.apply(ht,ut);else for(var st=lt.length,gt=j(lt,st),ft=0;ft<st;++ft)gt[ft].apply(ht,ut)})(D,bt,this,P)}return!0},Zn.prototype.addListener=function(R,x){return fa(this,R,x,!1)},Zn.prototype.on=Zn.prototype.addListener,Zn.prototype.prependListener=function(R,x){return fa(this,R,x,!0)},Zn.prototype.once=function(R,x){if(typeof x!="function")throw new TypeError('"listener" argument must be a function');return this.on(R,qa(this,R,x)),this},Zn.prototype.prependOnceListener=function(R,x){if(typeof x!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(R,qa(this,R,x)),this},Zn.prototype.removeListener=function(R,x){var D,k,P,V,z;if(typeof x!="function")throw new TypeError('"listener" argument must be a function');if(!(k=this._events))return this;if(!(D=k[R]))return this;if(D===x||D.listener&&D.listener===x)--this._eventsCount==0?this._events=new Ti:(delete k[R],k.removeListener&&this.emit("removeListener",R,D.listener||x));else if(typeof D!="function"){for(P=-1,V=D.length;V-- >0;)if(D[V]===x||D[V].listener&&D[V].listener===x){z=D[V].listener,P=V;break}if(P<0)return this;if(D.length===1){if(D[0]=void 0,--this._eventsCount==0)return this._events=new Ti,this;delete k[R]}else(function(at,rt){for(var it=rt,bt=it+1,lt=at.length;bt<lt;it+=1,bt+=1)at[it]=at[bt];at.pop()})(D,P);k.removeListener&&this.emit("removeListener",R,z||x)}return this},Zn.prototype.removeAllListeners=function(R){var x,D;if(!(D=this._events))return this;if(!D.removeListener)return arguments.length===0?(this._events=new Ti,this._eventsCount=0):D[R]&&(--this._eventsCount==0?this._events=new Ti:delete D[R]),this;if(arguments.length===0){for(var k,P=Object.keys(D),V=0;V<P.length;++V)(k=P[V])!=="removeListener"&&this.removeAllListeners(k);return this.removeAllListeners("removeListener"),this._events=new Ti,this._eventsCount=0,this}if(typeof(x=D[R])=="function")this.removeListener(R,x);else if(x)do this.removeListener(R,x[x.length-1]);while(x[0]);return this},Zn.prototype.listeners=function(R){var x,D=this._events;return D&&(x=D[R])?typeof x=="function"?[x.listener||x]:(function(k){for(var P=new Array(k.length),V=0;V<P.length;++V)P[V]=k[V].listener||k[V];return P})(x):[]},Zn.listenerCount=function(R,x){return typeof R.listenerCount=="function"?R.listenerCount(x):ws.call(R,x)},Zn.prototype.listenerCount=ws,Zn.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var J=function(R,x,D){var k=typeof window.ActiveXObject=="function"?new window.ActiveXObject("Microsoft.XMLDOM"):void 0;if(!k)return D(new Error("FlashURLHandler: Microsoft.XMLDOM format not supported"));k.async=!1,request.open("GET",R),request.timeout=x.timeout||0,request.withCredentials=x.withCredentials||!1,request.send(),request.onprogress=function(){},request.onload=function(){k.loadXML(request.responseText),D(null,k)}},pt=function(){return window.XDomainRequest&&(R=new XDomainRequest),!!R;var R},Et=function(R,x,D){D(new Error("Please bundle the library for node to use the node urlHandler"))};function kt(){try{var R=new window.XMLHttpRequest;return"withCredentials"in R?R:null}catch(x){return console.log("Error in XHRURLHandler support check:",x),null}}var Lt=function(R,x,D){if(window.location.protocol==="https:"&&R.indexOf("http://")===0)return D(new Error("XHRURLHandler: Cannot go from HTTPS to HTTP."));try{var k=kt();k.open("GET",R),k.timeout=x.timeout||0,k.withCredentials=x.withCredentials||!1,k.overrideMimeType&&k.overrideMimeType("text/xml"),k.onreadystatechange=function(){k.readyState===4&&(k.status===200?D(null,k.responseXML):D(new Error("XHRURLHandler: ".concat(k.statusText))))},k.send()}catch{D(new Error("XHRURLHandler: Unexpected error"))}},jt=function(){return!!kt()},se={get:function(R,x,D){return D||(typeof x=="function"&&(D=x),x={}),typeof window>"u"||window===null?Et(R,x,D):jt()?Lt(R,x,D):pt()?J(R,x,D):D(new Error("Current context is not supported by any of the default URLHandlers. Please provide a custom URLHandler"))}},vn=Sr((function R(){Or(this,R),this.ads=[],this.errorURLTemplates=[]})),Sn={ERRORCODE:900,extensions:[]},rr=(function(R){function x(){var D;return Or(this,x),(D=Zi(this,x)).remainingAds=[],D.parentURLs=[],D.errorURLTemplates=[],D.rootErrorURLTemplates=[],D.maxWrapperDepth=null,D.URLTemplateFilters=[],D.fetchingOptions={},D}return Fi(x,R),Sr(x,[{key:"addURLTemplateFilter",value:function(D){typeof D=="function"&&this.URLTemplateFilters.push(D)}},{key:"removeURLTemplateFilter",value:function(){this.URLTemplateFilters.pop()}},{key:"countURLTemplateFilters",value:function(){return this.URLTemplateFilters.length}},{key:"clearURLTemplateFilters",value:function(){this.URLTemplateFilters=[]}},{key:"trackVastError",value:function(D,k){for(var P=arguments.length,V=new Array(P>2?P-2:0),z=2;z<P;z++)V[z-2]=arguments[z];this.emit("VAST-error",Object.assign.apply(Object,[Sn,k].concat(V))),mi.track(D,k)}},{key:"getErrorURLTemplates",value:function(){return this.rootErrorURLTemplates.concat(this.errorURLTemplates)}},{key:"fetchVAST",value:function(D,k,P){var V=this;return new Promise((function(z,at){V.URLTemplateFilters.forEach((function(rt){D=rt(D)})),V.parentURLs.push(D),V.emit("VAST-resolving",{url:D,wrapperDepth:k,originalUrl:P}),V.urlHandler.get(D,V.fetchingOptions,(function(rt,it){V.emit("VAST-resolved",{url:D,error:rt}),rt?at(rt):z(it)}))}))}},{key:"initParsingStatus",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.rootURL="",this.remainingAds=[],this.parentURLs=[],this.errorURLTemplates=[],this.rootErrorURLTemplates=[],this.maxWrapperDepth=D.wrapperLimit||10,this.fetchingOptions={timeout:D.timeout,withCredentials:D.withCredentials},this.urlHandler=D.urlhandler||se}},{key:"getRemainingAds",value:function(D){var k=this;if(this.remainingAds.length===0)return Promise.reject(new Error("No more ads are available for the given VAST"));var P=D?mi.flatten(this.remainingAds):this.remainingAds.shift();return this.errorURLTemplates=[],this.parentURLs=[],this.resolveAds(P,{wrapperDepth:0,originalUrl:this.rootURL}).then((function(V){return k.buildVASTResponse(V)}))}},{key:"getAndParseVAST",value:function(D){var k=this,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.initParsingStatus(P),this.rootURL=D,this.fetchVAST(D).then((function(V){return P.originalUrl=D,P.isRootVAST=!0,k.parse(V,P).then((function(z){return k.buildVASTResponse(z)}))}))}},{key:"parseVAST",value:function(D){var k=this,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.initParsingStatus(P),P.isRootVAST=!0,this.parse(D,P).then((function(V){return k.buildVASTResponse(V)}))}},{key:"buildVASTResponse",value:function(D){var k=new vn;return k.ads=D,k.errorURLTemplates=this.getErrorURLTemplates(),this.completeWrapperResolving(k),k}},{key:"parse",value:function(D,k){var P=k.resolveAll,V=P===void 0||P,z=k.wrapperSequence,at=z===void 0?null:z,rt=k.originalUrl,it=rt===void 0?null:rt,bt=k.wrapperDepth,lt=bt===void 0?0:bt,ct=k.isRootVAST,ht=ct!==void 0&&ct;if(!D||!D.documentElement||D.documentElement.nodeName!=="VAST")return Promise.reject(new Error("Invalid VAST XMLDocument"));var ut=[],st=D.documentElement.childNodes;for(var gt in st){var ft=st[gt];if(ft.nodeName==="Error"){var mt=wn(ft);ht?this.rootErrorURLTemplates.push(mt):this.errorURLTemplates.push(mt)}if(ft.nodeName==="Ad"){var vt=ls(ft);vt?ut.push(vt):this.trackVastError(this.getErrorURLTemplates(),{ERRORCODE:101})}}var At=ut.length,Nt=ut[At-1];return At===1&&at!=null&&Nt&&!Nt.sequence&&(Nt.sequence=at),V===!1&&(this.remainingAds=Ts(ut),ut=this.remainingAds.shift()),this.resolveAds(ut,{wrapperDepth:lt,originalUrl:it})}},{key:"resolveAds",value:function(){var D=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],P=arguments.length>1?arguments[1]:void 0,V=P.wrapperDepth,z=P.originalUrl,at=[];return k.forEach((function(rt){var it=D.resolveWrappers(rt,V,z);at.push(it)})),Promise.all(at).then((function(rt){var it=mi.flatten(rt);if(!it&&D.remainingAds.length>0){var bt=D.remainingAds.shift();return D.resolveAds(bt,{wrapperDepth:V,originalUrl:z})}return it}))}},{key:"resolveWrappers",value:function(D,k,P){var V=this;return new Promise((function(z,at){if(k++,!D.nextWrapperURL)return delete D.nextWrapperURL,z(D);if(k>=V.maxWrapperDepth||V.parentURLs.indexOf(D.nextWrapperURL)!==-1)return D.errorCode=302,delete D.nextWrapperURL,z(D);D.nextWrapperURL=aa(D.nextWrapperURL,P);var rt=D.sequence;P=D.nextWrapperURL,V.fetchVAST(D.nextWrapperURL,k,P).then((function(it){return V.parse(it,{originalUrl:P,wrapperSequence:rt,wrapperDepth:k}).then((function(bt){if(delete D.nextWrapperURL,bt.length===0)return D.creatives=[],z(D);bt.forEach((function(lt){lt&&xi(lt,D)})),z(bt)}))})).catch((function(it){D.errorCode=301,D.errorMessage=it.message,z(D)}))}))}},{key:"completeWrapperResolving",value:function(D){if(D.ads.length===0)this.trackVastError(D.errorURLTemplates,{ERRORCODE:303});else for(var k=D.ads.length-1;k>=0;k--){var P=D.ads[k];(P.errorCode||P.creatives.length===0)&&(this.trackVastError(P.errorURLTemplates.concat(D.errorURLTemplates),{ERRORCODE:P.errorCode||303},{ERRORMESSAGE:P.errorMessage||""},{extensions:P.extensions},{system:P.system}),D.ads.splice(k,1))}}}])})(Zn),xr=null,cs={data:{},length:0,getItem:function(R){return this.data[R]},setItem:function(R,x){this.data[R]=x,this.length=Object.keys(this.data).length},removeItem:function(R){delete data[R],this.length=Object.keys(this.data).length},clear:function(){this.data={},this.length=0}},fs=(function(){return Sr((function R(){Or(this,R),this.storage=this.initStorage()}),[{key:"initStorage",value:function(){if(xr)return xr;try{xr=typeof window<"u"&&window!==null?window.localStorage||window.sessionStorage:null}catch{xr=null}return xr&&!this.isStorageDisabled(xr)||(xr=cs).clear(),xr}},{key:"isStorageDisabled",value:function(R){var x="__VASTStorage__";try{if(R.setItem(x,x),R.getItem(x)!==x)return R.removeItem(x),!0}catch{return!0}return R.removeItem(x),!1}},{key:"getItem",value:function(R){return this.storage.getItem(R)}},{key:"setItem",value:function(R,x){return this.storage.setItem(R,x)}},{key:"removeItem",value:function(R){return this.storage.removeItem(R)}},{key:"clear",value:function(){return this.storage.clear()}}])})(),yi=(function(){return Sr((function R(x,D,k){Or(this,R),this.cappingFreeLunch=x||0,this.cappingMinimumTimeInterval=D||0,this.defaultOptions={withCredentials:!1,timeout:0},this.vastParser=new rr,this.storage=k||new fs,this.lastSuccessfulAd===void 0&&(this.lastSuccessfulAd=0),this.totalCalls===void 0&&(this.totalCalls=0),this.totalCallsTimeout===void 0&&(this.totalCallsTimeout=0)}),[{key:"getParser",value:function(){return this.vastParser}},{key:"lastSuccessfulAd",get:function(){return this.storage.getItem("vast-client-last-successful-ad")},set:function(R){this.storage.setItem("vast-client-last-successful-ad",R)}},{key:"totalCalls",get:function(){return this.storage.getItem("vast-client-total-calls")},set:function(R){this.storage.setItem("vast-client-total-calls",R)}},{key:"totalCallsTimeout",get:function(){return this.storage.getItem("vast-client-total-calls-timeout")},set:function(R){this.storage.setItem("vast-client-total-calls-timeout",R)}},{key:"hasRemainingAds",value:function(){return this.vastParser.remainingAds.length>0}},{key:"getNextAds",value:function(R){return this.vastParser.getRemainingAds(R)}},{key:"get",value:function(R){var x=this,D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},k=Date.now();return(D=Object.assign(this.defaultOptions,D)).hasOwnProperty("resolveAll")||(D.resolveAll=!1),this.totalCallsTimeout<k?(this.totalCalls=1,this.totalCallsTimeout=k+36e5):this.totalCalls++,new Promise((function(P,V){if(x.cappingFreeLunch>=x.totalCalls)return V(new Error("VAST call canceled  FreeLunch capping not reached yet ".concat(x.totalCalls,"/").concat(x.cappingFreeLunch)));var z=k-x.lastSuccessfulAd;if(z<0)x.lastSuccessfulAd=0;else if(z<x.cappingMinimumTimeInterval)return V(new Error("VAST call canceled  (".concat(x.cappingMinimumTimeInterval,")ms minimum interval reached")));x.vastParser.getAndParseVAST(R,D).then((function(at){return P(at)})).catch((function(at){return V(at)}))}))}}])})(),Xa=(function(R){function x(D,k,P){var V,z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;for(var at in Or(this,x),(V=Zi(this,x)).ad=k,V.creative=P,V.variation=z,V.muted=!1,V.impressed=!1,V.skippable=!1,V.trackingEvents={},V._alreadyTriggeredQuartiles={},V.emitAlwaysEvents=["creativeView","start","firstQuartile","midpoint","thirdQuartile","complete","resume","pause","rewind","skip","closeLinear","close"],V.creative.trackingEvents){var rt=V.creative.trackingEvents[at];V.trackingEvents[at]=rt.slice(0)}return V.creative instanceof js?V._initLinearTracking():V._initVariationTracking(),D&&V.on("start",(function(){D.lastSuccessfulAd=Date.now()})),V}return Fi(x,R),Sr(x,[{key:"_initLinearTracking",value:function(){this.linear=!0,this.skipDelay=this.creative.skipDelay,this.setDuration(this.creative.duration),this.clickThroughURLTemplate=this.creative.videoClickThroughURLTemplate,this.clickTrackingURLTemplates=this.creative.videoClickTrackingURLTemplates}},{key:"_initVariationTracking",value:function(){if(this.linear=!1,this.skipDelay=-1,this.variation){for(var D in this.variation.trackingEvents){var k=this.variation.trackingEvents[D];this.trackingEvents[D]?this.trackingEvents[D]=this.trackingEvents[D].concat(k.slice(0)):this.trackingEvents[D]=k.slice(0)}this.variation instanceof Ji?(this.clickThroughURLTemplate=this.variation.nonlinearClickThroughURLTemplate,this.clickTrackingURLTemplates=this.variation.nonlinearClickTrackingURLTemplates,this.setDuration(this.variation.minSuggestedDuration)):this.variation instanceof sa&&(this.clickThroughURLTemplate=this.variation.companionClickThroughURLTemplate,this.clickTrackingURLTemplates=this.variation.companionClickTrackingURLTemplates)}}},{key:"setDuration",value:function(D){this.assetDuration=D,this.quartiles={firstQuartile:Math.round(25*this.assetDuration)/100,midpoint:Math.round(50*this.assetDuration)/100,thirdQuartile:Math.round(75*this.assetDuration)/100}}},{key:"setProgress",value:function(D){var k=this,P=this.skipDelay||-1;if(P===-1||this.skippable||(P>D?this.emit("skip-countdown",P-D):(this.skippable=!0,this.emit("skip-countdown",0))),this.assetDuration>0){var V=[];if(D>0){var z=Math.round(D/this.assetDuration*100);for(var at in V.push("start"),V.push("progress-".concat(z,"%")),V.push("progress-".concat(Math.round(D))),this.quartiles)this.isQuartileReached(at,this.quartiles[at],D)&&(V.push(at),this._alreadyTriggeredQuartiles[at]=!0)}V.forEach((function(rt){k.track(rt,!0)})),D<this.progress&&this.track("rewind")}this.progress=D}},{key:"isQuartileReached",value:function(D,k,P){var V=!1;return k<=P&&!this._alreadyTriggeredQuartiles[D]&&(V=!0),V}},{key:"setMuted",value:function(D){this.muted!==D&&this.track(D?"mute":"unmute"),this.muted=D}},{key:"setPaused",value:function(D){this.paused!==D&&this.track(D?"pause":"resume"),this.paused=D}},{key:"setFullscreen",value:function(D){this.fullscreen!==D&&this.track(D?"fullscreen":"exitFullscreen"),this.fullscreen=D}},{key:"setExpand",value:function(D){this.expanded!==D&&this.track(D?"expand":"collapse"),this.expanded=D}},{key:"setSkipDelay",value:function(D){typeof D=="number"&&(this.skipDelay=D)}},{key:"trackImpression",value:function(){this.impressed||(this.impressed=!0,this.trackURLs(this.ad.impressionURLTemplates),this.track("creativeView"))}},{key:"errorWithCode",value:function(D){this.trackURLs(this.ad.errorURLTemplates,{ERRORCODE:D})}},{key:"complete",value:function(){this.track("complete")}},{key:"close",value:function(){this.track(this.linear?"closeLinear":"close")}},{key:"skip",value:function(){this.track("skip"),this.trackingEvents=[]}},{key:"click",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this.clickTrackingURLTemplates&&this.clickTrackingURLTemplates.length&&this.trackURLs(this.clickTrackingURLTemplates);var k=this.clickThroughURLTemplate||D;if(k){var P=this.linear?{CONTENTPLAYHEAD:this.progressFormatted()}:{},V=mi.resolveURLTemplates([k],P)[0];this.emit("clickthrough",V)}}},{key:"track",value:function(D){var k=arguments.length>1&&arguments[1]!==void 0&&arguments[1];D==="closeLinear"&&!this.trackingEvents[D]&&this.trackingEvents.close&&(D="close");var P=this.trackingEvents[D],V=this.emitAlwaysEvents.indexOf(D)>-1;P?(this.emit(D,""),this.trackURLs(P)):V&&this.emit(D,""),k&&(delete this.trackingEvents[D],V&&this.emitAlwaysEvents.splice(this.emitAlwaysEvents.indexOf(D),1))}},{key:"trackURLs",value:function(D){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.linear&&(this.creative&&this.creative.mediaFiles&&this.creative.mediaFiles[0]&&this.creative.mediaFiles[0].fileURL&&(k.ASSETURI=this.creative.mediaFiles[0].fileURL),k.CONTENTPLAYHEAD=this.progressFormatted()),mi.track(D,k)}},{key:"progressFormatted",value:function(){var D=parseInt(this.progress),k=D/3600;k.length<2&&(k="0".concat(k));var P=D/60%60;P.length<2&&(P="0".concat(P));var V=D%60;return V.length<2&&(V="0".concat(P)),"".concat(k,":").concat(P,":").concat(V,".").concat(parseInt(100*(this.progress-D)))}}])})(Zn),xo=function(R,x,D,k){var P,V={},z={started:!1,active:!1,isVideoEnded:!1,lang:D.getLanguage()},at=null,rt="",it=null,bt="",lt="",ct=!1,ht=D.getBrowser(),ut=ht.os==="Android"||ht.os==="iOS";(P=document.createElement("div")).setAttribute("class","op-ads"),P.setAttribute("id","op-ads"),D.getContainer().append(P),(it=document.createElement("video")).setAttribute("playsinline","true"),it.setAttribute("title","Advertisement"),it.setAttribute("class","op-ads-vast-video"),(lt=document.createElement("div")).setAttribute("class","op-ads-button"),(bt=document.createElement("div")).setAttribute("class","op-ads-textview"),lt.append(bt),P.append(it),P.append(lt),rt=P;var st=new yi,gt=null,ft=null,mt=function(vt){console.log(vt),it.style.display="none",x.trigger(Yn,{code:vt.code,message:vt.message}),z.active=!1,z.started=!0,x.play()};return V.isActive=function(){return z.active},V.started=function(){return z.started},V.play=function(){return z.started?it.play():new Promise((function(vt,At){var Nt=function(){x.metaLoaded()?(OvenPlayerConsole.log("VAST : main contents meta loaded."),(function(){OvenPlayerConsole.log("VAST : checkAutoplaySupport() ");var Zt=document.createElement("video");Zt.setAttribute("playsinline","true"),Zt.src=$r,Zt.load(),it.load(),ut&&x.getName()!==Dt&&R.load();var me=function(Wt,ue){ct=Wt,Zt.pause(),Zt.remove()};return new Promise((function(Wt,ue){if(Zt.play){var de=Zt.play();de!==void 0?de.then((function(){OvenPlayerConsole.log("VAST : auto play allowed."),me(!0),Wt()})).catch((function(Gt){OvenPlayerConsole.log("VAST : auto play failed",Gt.message),me(!1),Wt()})):(OvenPlayerConsole.log("VAST : promise not support"),me(!0),Wt())}else OvenPlayerConsole.log("VAST : !temporarySupportCheckVideo.play"),me(!0),Wt()}))})().then((function(){D.isAutoStart()&&!ct?(OvenPlayerConsole.log("VAST : autoplayAllowed : false"),z.started=!1,At(new Error("autoplayNotAllowed"))):(st.get(k).then((function(Zt){if(OvenPlayerConsole.log("VAST : initRequest()"),!(ft=Zt.ads[0]))throw{code:401,message:"File not found. Unable to find Linear/MediaFile from URI."};gt=new Xa(st,ft,ft.creatives[0]),OvenPlayerConsole.log("VAST : created ad tracker."),at=(function(Wt,ue,de,Gt,zt,oe,he){var Se={},Ee={},Bt=xt(oe),Ft=xt(zt),Ae=xt(Wt);de.on(kr,(function(be){be.mute?Wt.muted=!0:(Wt.muted=!1,Wt.volume=be.volume/100)}),Ee);var Ce=function(){Gt.active=!1,Ft.hide(),!Gt.started||de.getPosition()!==0&&Gt.isVideoEnded||(Ae.hide(),de.play()),de.trigger(Be)},Ge=function(be){Bt.hasClass("videoAdUiAction")&&(ue.skip(),Wt.pause(),Ce())};return oe.addEventListener("click",Ge,!1),Se.error=function(){OvenPlayerConsole.log("VAST : listener : error.",Wt.error),console.log("VAST : listener : error.",Wt.error);var be={},Ye=Wt.error&&Wt.error.code||0;Ye===2?(be.code=402,be.message="Timeout of MediaFile URI."):Ye===3?(be.code=405,be.message="Problem displaying MediaFile. Video player found a MediaFile with supported type but couldnt display it. MediaFile may include: unsupported codecs, different MIME type than MediaFile@type, unsupported delivery method, etc."):Ye===4?(be.code=403,be.message="Couldnt find MediaFile that is supported by this video player, based on the attributes of the MediaFile element."):(be.code=400,be.message="General Linear error. Video player is unable to display the Linear Ad."),ue.errorWithCode(be.code),he("405")},Se.canplay=function(){},Se.ended=function(){ue.complete(),Ce()},Se.click=function(be){ue.click()},Se.play=function(){ue.setPaused(!1)},Se.pause=function(){ue.setPaused(!0)},Se.timeupdate=function(be){ue.setProgress(be.target.currentTime),de.trigger(or,{duration:Wt.duration,position:Wt.currentTime})},Se.volumechange=function(be){OvenPlayerConsole.log("VAST : listener : Ad Video Volumechange."),ue.setMuted(be.target.muted)},Se.loadedmetadata=function(){OvenPlayerConsole.log("VAST : listener : Ad CONTENT LOADED ."),an===de.getState()&&de.pause(),ue.trackImpression(),de.trigger(ke,{remaining:Wt.duration,isLinear:!0}),Wt.play()},ue.on("skip",(function(){OvenPlayerConsole.log("VAST : listener : skipped")})),ue.on("mute",(function(){OvenPlayerConsole.log("VAST : listener : muted")})),ue.on("unmute",(function(){OvenPlayerConsole.log("VAST : listener : unmuted")})),ue.on("resume",(function(){OvenPlayerConsole.log("VAST : listener : vastTracker resumed."),Gt.started&&de.setState(It)})),ue.on("pause",(function(){OvenPlayerConsole.log("VAST : listener : vastTracker paused."),de.setState(ve)})),ue.on("clickthrough",(function(be){OvenPlayerConsole.log("VAST : listener : clickthrough :",be),window.open(be,"_blank")})),ue.on("skip-countdown",(function(be){be===0?(Gt.lang==="ko"?Bt.html(" <i class='op-con op-arrow-right btn-right'></i>"):Bt.html("Ad Skip<i class='op-con op-arrow-right btn-right'></i>"),Bt.addClass("videoAdUiAction")):Gt.lang==="ko"?Bt.html(parseInt(be)+1+"      ."):Bt.html("You can skip this ad in "+(parseInt(be)+1))})),ue.on("rewind",(function(){OvenPlayerConsole.log("VAST : listener : rewind")})),ue.on("start",(function(){OvenPlayerConsole.log("VAST : listener : started"),Gt.started=!0,Gt.active=!0,Ae.show(),Ft.show(),de.trigger($n,{isLinear:!0}),de.setState(It)})),ue.on("firstQuartile",(function(){OvenPlayerConsole.log("VAST : listener : firstQuartile")})),ue.on("midpoint",(function(){OvenPlayerConsole.log("VAST : listener : midpoint")})),ue.on("thirdQuartile",(function(){OvenPlayerConsole.log("VAST : listener : thirdQuartile")})),ue.on("creativeView",(function(){OvenPlayerConsole.log("VAST : listener : creativeView")})),Object.keys(Se).forEach((function(be){Wt.removeEventListener(be,Se[be]),Wt.addEventListener(be,Se[be])})),Ee.destroy=function(){OvenPlayerConsole.log("EventListener : destroy()"),oe.removeEventListener("click",Ge,!1),Object.keys(Se).forEach((function(be){Wt.removeEventListener(be,Se[be])}))},Ee})(it,gt,x,z,lt,bt,mt);var me="";ft.creatives&&ft.creatives.length>0&&ft.creatives[0].mediaFiles&&ft.creatives[0].mediaFiles.length>0&&ft.creatives[0].mediaFiles[0].fileURL&&(me=ft.creatives[0].mediaFiles[0].fileURL,OvenPlayerConsole.log("VAST : media url : ",me)),it.src=me,it.volume=R.volume,it.muted=R.muted})).catch((function(Zt){mt(Zt)})),vt())}))):setTimeout(Nt,100)};Nt()}))},V.pause=function(){it.pause()},V.videoEndedCallback=function(vt){vt(),z.isVideoEnded=!0},V.destroy=function(){at&&(at.destroy(),at=null),gt=null,st=null,rt.remove()},V},To=function(R,x,D){OvenPlayerConsole.log("[Provider] loaded. ");var k={};Qn(k);var P=R.element,V=null,z=null;R.adTagUrl&&(OvenPlayerConsole.log("[Provider] Ad Client - ",x.getAdClient()),(V=x.getAdClient()==="vast"?xo(P,k,x,R.adTagUrl):jr(P,k,x,R.adTagUrl))||console.log("Can not load due to google ima for Ads.")),z=(function(rt,it,bt,lt){var ct={};OvenPlayerConsole.log("EventListener loaded.",rt,it);var ht={},ut=-1,st=rt;return ct.canplay=function(){it.setCanSeek(!0),it.trigger("bufferFull"),OvenPlayerConsole.log("EventListener : on canplay")},ct.durationchange=function(){ct.progress(),OvenPlayerConsole.log("EventListener : on durationchange"),it.trigger("durationChanged")},ct.ended=function(){OvenPlayerConsole.log("EventListener : on ended"),st.pause(),it.getState()!==qe&&it.getState()!==Ke&&it.getState()!==ee&&(bt?bt((function(){it.setState(Ke)})):it.setState(Ke))},ct.loadeddata=function(){},ct.loadedmetadata=function(){var gt=it.getSources(),ft=it.getCurrentSource(),mt=ft>-1?gt[ft].type:"",vt={duration:it.isLive()?1/0:st.duration,type:mt};it.setMetaLoaded(),OvenPlayerConsole.log("EventListener : on loadedmetadata",vt),it.trigger(Rr,vt)},ct.pause=function(){return it.getState()!==Ke&&it.getState()!==ee&&!st.ended&&!st.error&&st.currentTime!==st.duration&&(OvenPlayerConsole.log("EventListener : on pause"),void it.setState(Dn))},ct.loadstart=function(){lt&&!lt.getConfig().showBigPlayButton&&lt.getConfig().autoStart&&it.setState(ge)},ct.play=function(){ut=-1,st.paused||it.getState()===an||it.setState(ge)},ct.playing=function(){OvenPlayerConsole.log("EventListener : on playing"),ut<0&&it.setState(an)},ct.progress=function(){var gt=st.buffered;if(!gt)return!1;var ft,mt=st.duration,vt=st.currentTime,At=(ft=(gt.length>0?gt.end(gt.length-1):0)/mt,Math.max(Math.min(ft,1),0));it.setBuffer(100*At),it.trigger(Qr,{bufferPercent:100*At,position:vt,duration:mt}),OvenPlayerConsole.log("EventListener : on progress",100*At)},ct.timeupdate=function(){var gt=st.currentTime,ft=st.duration;if(!isNaN(ft)){if(gt>ft)return st.pause(),void it.setState(Ke);var mt=it.getSources()[it.getCurrentSource()].sectionStart;mt&&gt<mt&&it.getState()===an&&it.seek(mt);var vt=it.getSources()[it.getCurrentSource()].sectionEnd;if(vt&&gt>vt&&it.getState()===an)return it.stop(),void it.setState(Ke);ft>9e15&&(ft=1/0),it.isSeeking()||st.paused||it.getState()!==le&&it.getState()!==ge&&it.getState()!==It||(function(At,Nt){return At.toFixed(2)===Nt.toFixed(2)})(ut,gt)||(ut=-1,it.setState(an)),mt&&mt>0&&(gt-=mt)<0&&(gt=0),vt&&(ft=vt),mt&&(ft-=mt),(it.getState()===an||it.isSeeking())&&it.trigger(ur,{position:gt,duration:ft})}},ct.seeking=function(){it.setSeeking(!0),OvenPlayerConsole.log("EventListener : on seeking",st.currentTime),it.trigger("seek",{position:st.currentTime})},ct.seeked=function(){it.isSeeking()&&(OvenPlayerConsole.log("EventListener : on seeked"),it.setSeeking(!1),it.trigger("seeked"))},ct.stalled=function(){OvenPlayerConsole.log("EventListener : on stalled")},ct.waiting=function(){OvenPlayerConsole.log("EventListener : on waiting",it.getState()),it.isSeeking()?it.setState(ge):it.getState()===an&&(ut=st.currentTime,it.setState(le))},ct.volumechange=function(){OvenPlayerConsole.log("EventListener : on volumechange",Math.round(100*st.volume)),it.trigger(kr,{volume:Math.round(100*st.volume),mute:st.muted})},ct.error=function(){var gt={0:300,1:301,2:302,3:303,4:304}[st.error&&st.error.code||0]||0;OvenPlayerConsole.log("EventListener : on error",gt),Fn(Yt.codes[gt],it)},Object.keys(ct).forEach((function(gt){st.removeEventListener(gt,ct[gt]),st.addEventListener(gt,ct[gt])})),ht.destroy=function(){OvenPlayerConsole.log("EventListener : destroy()"),Object.keys(ct).forEach((function(gt){st.removeEventListener(gt,ct[gt])}))},ht})(P,k,V?V.videoEndedCallback:null,x),P.playbackRate=P.defaultPlaybackRate=x.getPlaybackRate(),R.zoomFactor=1;var at=function(rt){var it=R.sources[R.currentSource];if(R.framerate=it.framerate,k.setVolume(x.getVolume()),R.framerate||x.setTimecodeMode(!0),D)D(it,rt);else{OvenPlayerConsole.log("source loaded : ",it,"lastPlayPosition : "+rt);var bt=P.src;it.file!==bt&&(P.src=it.file,(bt||bt==="")&&P.load()),k.on(Rr,(function(){rt>0&&k.seek(rt)}))}};return k.getName=function(){return R.name},k.getMse=function(){return R.mse},k.getMediaElement=function(){return R.element},k.canSeek=function(){return R.canSeek},k.setCanSeek=function(rt){R.canSeek=rt},k.isSeeking=function(){return R.seeking},k.setSeeking=function(rt){R.seeking=rt},k.setMetaLoaded=function(){R.isLoaded=!0},k.metaLoaded=function(){return R.isLoaded},k.setState=function(rt){if(R.state!==rt){var it=R.state;if(OvenPlayerConsole.log("Provider : setState()",rt),it===It&&(rt===ee||rt===qe))return!1;switch(OvenPlayerConsole.log("Provider : triggerSatatus",rt),rt){case Ke:k.trigger(un);break;case Dn:k.trigger(qt,{prevState:R.state,newstate:Dn});break;case ve:k.trigger(qt,{prevState:R.state,newstate:ve});break;case an:k.trigger(Re,{prevState:R.state,newstate:an});break;case It:k.trigger(Re,{prevState:R.state,newstate:It})}R.state=rt,k.trigger(pn,{prevstate:it,newstate:R.state})}},k.getState=function(){return R.state},k.setBuffer=function(rt){R.buffer=rt},k.getBuffer=function(){return R.buffer},k.isLive=function(){return!!R.isLive||P.duration===1/0},k.getDuration=function(){return k.isLive()?1/0:P.duration},k.getDvrWindow=function(){return R.dvrWindow},k.getPosition=function(){return P?P.currentTime:0},k.setVolume=function(rt){if(!P)return!1;P.volume=rt/100,x.setVolume(rt)},k.getVolume=function(){return x.getVolume()},k.setMute=function(rt){if(!P)return!1;if(rt===void 0){var it=x.isMute();P.muted=!it,x.setMute(!it),k.trigger(li,{mute:x.isMute()})}else P.muted=rt,x.setMute(rt),k.trigger(li,{mute:x.isMute()});return P.muted},k.getMute=function(){return x.isMute()},k.preload=function(rt,it){return R.sources=rt,R.currentSource=pi(rt,x),at(it||0),new Promise((function(bt,lt){x.isMute()&&k.setMute(!0),x.getVolume()&&k.setVolume(x.getVolume()),bt()}))},k.load=function(rt){R.sources=rt,R.currentSource=pi(rt,x),at(0)},k.play=function(){if(OvenPlayerConsole.log("Provider : play()"),!P)return!1;if(k.getState()!==an)if(V&&V.isActive()||V&&!V.started())V.play().then((function(it){OvenPlayerConsole.log("Provider : ads play success")})).catch((function(it){OvenPlayerConsole.log("Provider : ads play fail",it)}));else{var rt=P.play();rt!==void 0?rt.then((function(){OvenPlayerConsole.log("Provider : video play success")})).catch((function(it){OvenPlayerConsole.log("Provider : video play error",it.message)})):OvenPlayerConsole.log("Provider : video play success (ie)")}},k.pause=function(){if(OvenPlayerConsole.log("Provider : pause()"),!P)return!1;k.getState()===an?P.pause():k.getState()===It&&V.pause()},k.seek=function(rt){if(!P)return!1;P.currentTime=rt},k.setPlaybackRate=function(rt){return!!P&&(k.trigger("playbackRateChanged",{playbackRate:rt}),P.playbackRate=P.defaultPlaybackRate=rt)},k.getPlaybackRate=function(){return P?P.playbackRate:0},k.getZoomFactor=function(){return R.zoomFactor},k.setZoomFactor=function(rt){return k.trigger(Tn,{zoomFactor:rt}),R.zoomFactor=rt},k.getSources=function(){return P?R.sources.map((function(rt,it){var bt={file:rt.file,type:rt.type,label:rt.label,index:it,sectionStart:rt.sectionStart,sectionEnd:rt.sectionEnd,gridThumbnail:rt.gridThumbnail};return rt.lowLatency&&(bt.lowLatency=rt.lowLatency),bt})):[]},k.getCurrentSource=function(){return R.currentSource},k.setCurrentSource=function(rt,it){if(rt>-1&&R.sources&&R.sources.length>rt)return OvenPlayerConsole.log("source changed : "+rt),R.currentSource=rt,x.setSourceIndex(rt),k.setState(qe),it&&at(P.currentTime||0),R.currentSource},k.getQualityLevels=function(){return P?R.qualityLevels:[]},k.getCurrentQuality=function(){return P?R.currentQuality:null},k.setCurrentQuality=function(rt){},k.getAudioTracks=function(){return P?R.audioTracks:[]},k.getCurrentAudioTrack=function(){return P?R.currentAudioTrack:[]},k.setCurrentAudioTrack=function(rt){},k.getSubtitleTracks=function(){return P?R.subtitleTracks:[]},k.getCurrentSubtitleTrack=function(){return P?R.currentSubtitleTrack:[]},k.setCurrentSubtitleTrack=function(rt){},k.isAutoQuality=function(){},k.setAutoQuality=function(rt){},k.getFramerate=function(){return R.framerate},k.setFramerate=function(rt){return R.framerate=rt},k.seekFrame=function(rt){var it=R.framerate,bt=(P.currentTime*it+rt)/it;bt+=1e-5,k.pause(),k.seek(bt)},k.stop=function(){if(!P)return!1;for(OvenPlayerConsole.log("CORE : stop() "),P.removeAttribute("preload"),P.removeAttribute("src");P.firstChild;)P.removeChild(P.firstChild);k.pause(),k.setState(qe)},k.destroy=function(){if(!P)return!1;k.stop(),z.destroy(),V&&(V.destroy(),V=null),k.off(),OvenPlayerConsole.log("CORE : destroy() player stop, listener, event destroied")},k.super=function(rt){var it=k[rt];return function(){return it.apply(k,arguments)}},k};function ou(R){for(var x=window.atob(R),D=x.length,k=new Uint8Array(new ArrayBuffer(D)),P=0;P<D;P++)k[P]=x.charCodeAt(P);return k}function Xc(R){for(var x,D,k,P,V,z,at,rt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",it="",bt=0;bt<R.length;)P=(x=R[bt++])>>2,V=(3&x)<<4|(D=bt<R.length?R[bt++]:Number.NaN)>>4,z=(15&D)<<2|(k=bt<R.length?R[bt++]:Number.NaN)>>6,at=63&k,isNaN(D)?z=at=64:isNaN(k)&&(at=64),it+=rt.charAt(P)+rt.charAt(V)+rt.charAt(z)+rt.charAt(at);return it}var Zc=function(R,x,D){var k=To({name:Ue,element:R,mse:null,isLoaded:!1,canSeek:!1,isLive:!1,seeking:!1,state:qe,buffer:0,framerate:0,currentQuality:-1,qualityLevels:[],currentAudioTrack:-1,audioTracks:[],currentSource:-1,sources:[],adTagUrl:D,subtitleTracks:[],currentSubtitleTrack:-1},x,null),P=k.super("destroy");OvenPlayerConsole.log("HTML5 PROVIDER LOADED.");var V=null;function z(rt,it){return new Promise((function(bt,lt){if(!R.webkitKeys)try{R.webkitSetMediaKeys(new window.WebKitMediaKeys("com.apple.fps.1_0"))}catch(ht){return void lt(ht)}var ct;try{ct=R.webkitKeys.createSession("video/mp4",(function(ht){var ut=ht.id,st=ht.initData,gt=ht.cert;try{typeof ut=="string"&&(ut=(function(Nt){for(var Zt=new ArrayBuffer(2*Nt.length),me=new Uint16Array(Zt),Wt=0;Wt<Nt.length;Wt++)me[Wt]=Nt.charCodeAt(Wt);return me})(ut));var ft=0,mt=new ArrayBuffer(st.byteLength+4+ut.byteLength+4+gt.byteLength),vt=new DataView(mt);new Uint8Array(mt,ft,st.byteLength).set(st),ft+=st.byteLength,vt.setUint32(ft,ut.byteLength,!0),ft+=4;var At=new Uint16Array(mt,ft,ut.length);return At.set(ut),ft+=At.byteLength,vt.setUint32(ft,gt.byteLength,!0),ft+=4,new Uint8Array(mt,ft,gt.byteLength).set(gt),new Uint8Array(mt,0,mt.byteLength)}catch{return null}})({id:it,initData:rt,cert:V}))}catch(ht){return void lt(ht)}ct.contentId=it,ct.addEventListener("webkitkeymessage",(function(ht){var ut;(ut=ht.message,new Promise((function(st,gt){var ft=x.getConfig().hlsConfig.drmSystems["com.apple.fps"].licenseUrl,mt=new Headers({"Content-Type":"application/x-www-form-urlencoded"});x.getConfig().licenseCustomHeader&&mt.append(x.getConfig().licenseCustomHeader.key,x.getConfig().licenseCustomHeader.value),fetch(ft,{method:"POST",headers:mt,body:"spc="+Xc(ut)}).then((function(vt){vt.text().then((function(At){st(ou(At))})).catch((function(At){gt(At)}))})).catch((function(vt){gt(vt)}))}))).then((function(st){ct.update(new Uint8Array(st)),bt()})).catch((function(st){lt(st)}))})),ct.addEventListener("webkitkeyadded",(function(){})),ct.addEventListener("webkitkeyerror",(function(){var ht=ct.error;lt(ht)}))}))}function at(rt){rt.initDataType;var it,bt=rt.initData,lt=(it=new Uint16Array(bt.buffer),String.fromCharCode.apply(null,it));z(bt,lt.substring(lt.indexOf("skd://")+6)).catch((function(ct){Yt.codes[107].message="Could not add add key.",Fn(Yt.codes[107],k)}))}return x.getConfig().hlsConfig&&x.getConfig().hlsConfig.emeEnabled&&new Promise((function(rt,it){var bt;(bt=x.getConfig().hlsConfig.drmSystems["com.apple.fps"].serverCertificateUrl,new Promise((function(lt,ct){fetch(bt).then((function(ht){ht.text().then((function(ut){lt(ou(ut))})).catch((function(ut){ct(ut)}))})).catch((function(ht){ct(ht)}))}))).then((function(lt){V=lt,R.addEventListener("webkitneedkey",at,{once:!0})})).catch((function(lt){it(lt)}))})).catch((function(rt){Yt.codes[107].message="Could not load drm certificate.",Fn(Yt.codes[107],k)})),k.destroy=function(){OvenPlayerConsole.log("HTML5 : PROVIDER DESTROYED."),P()},k},Jc=function(R,x,D,k,P,V,z,at){var rt={},it={},bt=null,lt=!1,ct=null,ht=null,ut={},st=!1,gt=!1,ft=null,mt=!1;z.getConfig().webrtcConfig&&z.getConfig().webrtcConfig.recoverPacketLoss===!0&&(gt=!0);var vt=!0;z.getConfig().webrtcConfig&&z.getConfig().webrtcConfig.generatePublicCandidate===!1&&(vt=z.getConfig().webrtcConfig.generatePublicCandidate);var At=ae(),Nt=null;function Zt(Bt){var Ft=null;return ht&&Bt===ht.id?Ft=ht.peerConnection:ut[Bt]&&(Ft=ut[Bt].peerConnection),Ft}function me(Bt){Bt.statisticsTimer&&clearTimeout(Bt.statisticsTimer),Bt.status||(Bt.status={},Bt.status.lostPacketsArr=[],Bt.status.slotLength=8,Bt.status.prevPacketsLost=0,Bt.status.avg8Losses=0,Bt.status.avgMoreThanThresholdCount=0,Bt.status.threshold=40);var Ft=Bt.status.lostPacketsArr,Ae=Bt.status.slotLength,Ce=Bt.status.prevPacketsLost,Ge=Bt.status.avg8Losses,be=Bt.status.threshold;Bt.statisticsTimer=setTimeout((function(){if(!Bt.peerConnection)return!1;Bt.peerConnection.getStats().then((function(Ye){Ye&&z.getConfig().autoFallback&&Ye&&(Ye.forEach((function(Qe){if(Qe.type==="inbound-rtp"&&Qe.kind==="video"&&!Qe.isRemote){var De=parseInt(Qe.packetsLost)-parseInt(Ce);Ft.push(parseInt(Qe.packetsLost)-parseInt(Ce)),Ft.length>Ae&&Ft.shift(),Ft.length===Ae&&(Ge=f().reduce(Ft,(function(mn,_e){return mn+_e}),0)/Ae,OvenPlayerConsole.log("Last8 LOST PACKET AVG  : "+Ge,"Current Packet LOST: "+De,"Total Packet Lost: "+Qe.packetsLost,Ft),Ge>be?(Bt.status.avgMoreThanThresholdCount=Bt.status.avgMoreThanThresholdCount+1,Bt.status.avgMoreThanThresholdCount>=60&&(OvenPlayerConsole.log("NETWORK UNSTABLED!!! "),Se(Yt.codes[510]))):Bt.status.avgMoreThanThresholdCount=0),Bt.status.prevPacketsLost=Qe.packetsLost}})),me(Bt))}))}),2e3)}function Wt(Bt,Ft,Ae,Ce,Ge){var be={};if(z.getConfig().webrtcConfig&&z.getConfig().webrtcConfig.iceServers)be.iceServers=z.getConfig().webrtcConfig.iceServers,z.getConfig().webrtcConfig.iceTransportPolicy&&(be.iceTransportPolicy=z.getConfig().webrtcConfig.iceTransportPolicy);else if(Ge){be.iceServers=[];for(var Ye=0;Ye<Ge.length;Ye++){var Qe=Ge[Ye],De={};De.urls=Qe.urls;for(var mn=!1,_e=de(x),He=0;He<De.urls.length;He++)if(De.urls[He].indexOf(_e)>-1){mn=!0;break}if(!mn&&De.urls.length>0){var gn=f().clone(De.urls[0]),Ln=Gt(gn);_e&&Ln&&De.urls.push(gn.replace(Ln,_e))}De.username=Qe.username||Qe.user_name,De.credential=Qe.credential,be.iceServers.push(De)}be.iceTransportPolicy="relay"}else be=rt;OvenPlayerConsole.log("Main Peer Connection Config : ",be);var kn=null;try{kn=new RTCPeerConnection(be),R.trigger("peerConnectionPrepared",kn)}catch(ln){var Wn=Yt.codes[506];return Wn.error=ln,void Se(Wn)}ht={id:Bt,peerId:Ft,peerConnection:kn},kn.setRemoteDescription(new RTCSessionDescription(Ae)).then((function(){kn.createAnswer().then((function(ln){var fn=(function(bn){for(var Ze=bn.split(`\r
`),Oe=-1,Bn=0;Bn<Ze.length-1;Bn++)if(Ze[Bn]=Ze[Bn].toLowerCase(),Ze[Bn].indexOf("a=rtpmap")>-1&&Ze[Bn].indexOf("opus")>-1){Oe=Ze[Bn].split(" ")[0].split(":")[1];break}return Oe})(Ae.sdp);fn>-1&&(function(bn,Ze){for(var Oe=bn.split(`\r
`),Bn=!1,_r=0;_r<Oe.length-1;_r++)if(Oe[_r]=Oe[_r].toLowerCase(),Oe[_r].indexOf("a=fmtp:"+Ze)>-1){Oe[_r].indexOf("stereo=1")>-1&&(Bn=!0);break}return Bn})(Ae.sdp,fn)&&(ln.sdp=(function(bn,Ze){for(var Oe=bn.split(`\r
`),Bn=0;Bn<Oe.length-1;Bn++)if(Oe[Bn].indexOf("a=fmtp:"+Ze)>-1){Oe[Bn].indexOf("stereo=1")===-1&&(Oe[Bn]=Oe[Bn]+";stereo=1");break}return Oe.join(`\r
`)})(ln.sdp,fn)),OvenPlayerConsole.log("Local SDP",ln),Ee(bt,{id:Bt,peer_id:Ft,command:"answer",sdp:ln}),OvenPlayerConsole.log("create Host Answer : success"),kn.setLocalDescription(ln).then((function(){})).catch((function(bn){var Ze=Yt.codes[505];Ze.error=bn,Se(Ze)}))})).catch((function(ln){var fn=Yt.codes[504];fn.error=ln,Se(fn)}))})).catch((function(ln){var fn=Yt.codes[503];fn.error=ln,Se(fn)})),Ce&&oe(kn,Ce),kn.onicecandidate=function(ln){ln.candidate&&(OvenPlayerConsole.log("WebRTCLoader send candidate to server : ",ln.candidate),Ee(bt,{id:Bt,peer_id:Ft,command:"candidate",candidates:[ln.candidate]}))},kn.onconnectionstatechange=function(ln){OvenPlayerConsole.log("[on connection state change]",kn.connectionState,ln),kn.connectionState==="connected"&&k&&k()},kn.onicecandidateerror=function(ln){},kn.onicegatheringstatechange=function(ln){},kn.oniceconnectionstatechange=function(ln){OvenPlayerConsole.log("[on ice connection state change]",kn.iceConnectionState,ln),kn.iceConnectionState==="connected"&&k&&k(),(kn.iceConnectionState==="disconnected"||kn.iceConnectionState==="closed")&&(st||ht&&Se(Yt.codes[511]))},kn.ontrack=function(ln){if(OvenPlayerConsole.log("stream received."),OvenPlayerConsole.log("Recovery On Packet Loss :",gt),gt&&me(ht),D(ln),z.getConfig().webrtcConfig&&z.getConfig().webrtcConfig.playoutDelayHint)for(var fn=z.getConfig().webrtcConfig.playoutDelayHint,bn=ht.peerConnection.getReceivers(),Ze=0;Ze<bn.length;Ze++){var Oe=bn[Ze];Oe.track.kind==="audio"?(Oe.playoutDelayHint=fn,Oe.jitterBufferDelayHint=fn):Oe.playoutDelayHint=fn,OvenPlayerConsole.log("WebRTC playoutDelayHint",Oe,fn)}}}function ue(Bt,Ft){if(ct){var Ae=new RTCPeerConnection(rt);ut[Ft]={id:Ft,peerId:Bt,peerConnection:Ae},Ae.addStream(ct),Ae.createOffer((function(Ce){Ae.setLocalDescription(Ce),Ee(bt,{id:Bt,peer_id:Ft,sdp:Ce,command:"offer_p2p"})}),(function(Ce){}),{}),Ae.onicecandidate=function(Ce){Ce.candidate&&(OvenPlayerConsole.log("WebRTCLoader send candidate to server : "+Ce.candidate),Ee(bt,{id:Bt,peer_id:Ft,command:"candidate_p2p",candidates:[Ce.candidate]}))}}else setTimeout((function(){ue(Bt,Ft)}),100)}function de(Bt){var Ft,Ae="";return(Ft=Bt.match(/^(?:wss?:\/\/)?(?:[^@\n]+@)?(?:www\.)?([^:\/\n\?\=]+)/im))&&(Ae=Ft[1]),Ae}function Gt(Bt){var Ft,Ae="";return(Ft=Bt.match(new RegExp("\\b(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\b","gi")))&&(Ae=Ft[0]),Ae}function zt(Bt){var Ft=f().clone(Bt),Ae=de(x),Ce=Gt(Ft.candidate);return new Promise((function(Ge,be){Ce!==""&&Ce!==Ae||Ge(null),At.browser!=="Firefox"||Gt(Ae)?(Ft.candidate=Ft.candidate.replace(Ce,Ae),Ge(Ft)):Ge(null)}))}function oe(Bt,Ft){for(var Ae=0;Ae<Ft.length;Ae++)if(Ft[Ae]&&Ft[Ae].candidate){var Ce=Ft[Ae];if(Bt.addIceCandidate(new RTCIceCandidate(Ce)).then((function(){OvenPlayerConsole.log("addIceCandidate : success")})).catch((function(be){var Ye=Yt.codes[502];Ye.error=be,Se(Ye)})),vt){var Ge=zt(Ce);Ge&&Ge.then((function(be){be&&Bt.addIceCandidate(new RTCIceCandidate(be)).then((function(){OvenPlayerConsole.log("cloned addIceCandidate : success")})).catch((function(Ye){var Qe=Yt.codes[502];Qe.error=Ye,Se(Qe)}))}))}}}function he(){try{(bt=new WebSocket(x)).onopen=function(){lt=!0,Ee(bt,{command:"request_offer"})},bt.onmessage=function(Bt){var Ft=JSON.parse(Bt.data);if(Ft.error){var Ae=Yt.codes[501];return Ae.error=Ft.error,void Se(Ae)}if(Object.keys(Ft).length!==0||Ft.constructor!==Object)if(Ft.command!=="ping"){if(Ft.command==="offer"){var Ce=Ft.iceServers||Ft.ice_servers;Wt(Ft.id,Ft.peer_id,Ft.sdp,Ft.candidates,Ce),Ft.peer_id===0?R.trigger(gi,!1):R.trigger(gi,!0)}if(Ft.command==="request_offer_p2p"&&ue(Ft.id,Ft.peer_id),Ft.command==="answer_p2p"&&Zt(Ft.peer_id).setRemoteDescription(new RTCSessionDescription(Ft.sdp)).then((function(_e){})).catch((function(_e){var He=Yt.codes[503];He.error=_e,Se(He)})),Ft.command==="candidate"&&oe(Zt(Ft.id),Ft.candidates),Ft.command==="candidate_p2p"&&oe(Zt(Ft.peer_id),Ft.candidates),Ft.command==="notification"){if(Ft.type==="playlist"){var Ge=Ft.message.renditions;ft=Ft.message;for(var be=0;be<Ge.length;be++){var Ye=Ge[be];(Ye.video_track||Ye.audio_track)&&at.qualityLevels.push({bitrate:Ye.video_track?Ye.video_track.video.bitrate:Ye.audio_track.bitrate,height:Ye.video_track?Ye.video_track.video.height:0,width:Ye.video_track?Ye.video_track.video.width:0,index:be,label:Ye.name})}at.currentQuality=0,mt=Ft.message.auto}if(Ft.type==="rendition_changed"){var Qe=Ft.message;Ft.auto&&(mt=Ft.auto);for(var De=-1,mn=0;mn<ft.renditions.length;mn++)if(Qe.rendition_name===ft.renditions[mn].name){De=mn,at.currentQuality=mn;break}R.trigger(Br,{isAuto:mt,currentQuality:De,type:"render"})}}Ft.command==="stop"&&(ht.peerId===Ft.peer_id?(ct=null,ht.peerConnection.close(),ht=null,R.pause(),Ee(bt,{command:"request_offer"})):ut[Ft.peer_id]&&(ut[Ft.peer_id].peerConnection.close(),delete ut[Ft.peer_id]))}else Ee(bt,{command:"pong"});else OvenPlayerConsole.log("Empty Message")},bt.onclose=function(Bt){if(!st){if(k&&!lt)return void Se();var Ft=Yt.codes[501];ht&&(Ft=Yt.codes[511]),Se(Ft)}},bt.onerror=function(Bt){}}catch(Bt){Se(Bt)}}function Se(Bt){if(OvenPlayerConsole.log("WebRTC Loader closePeer()"),Bt||(st=!0),ht&&(ht.statisticsTimer&&clearTimeout(ht.statisticsTimer),ct=null,OvenPlayerConsole.log("Closing main peer connection..."),ht.peerConnection&&ht.peerConnection.close(),ht.peerConnection=null,R.trigger("peerConnectionDestroyed"),ht=null),Object.keys(ut).length>0){for(var Ft in ut){var Ae=ut[Ft].peerConnection;Ae&&(OvenPlayerConsole.log("Closing client peer connection..."),Ae.close(),Ae=null)}ut={}}bt?(OvenPlayerConsole.log("Closing websocket connection..."),OvenPlayerConsole.log("Send Signaling : Stop."),bt.readyState===1&&(st=!0,ht&&Ee(bt,{command:"stop",id:ht.id}),bt.close())):st=!1,bt=null,Bt&&(P&&P(Bt),V(Bt,R))}function Ee(Bt,Ft){Bt&&Bt.send(JSON.stringify(Ft))}return Nt=window.onbeforeunload,window.onbeforeunload=function(Bt){Nt&&Nt(Bt),OvenPlayerConsole.log("This calls auto when browser closed."),Se()},R.setCurrentQuality=function(Bt){if(!ft||!ht)return-1;var Ft=ft.renditions[Bt];return Ft&&(Ee(bt,{command:"change_rendition",id:ht.id,rendition_name:Ft.name,auto:!1}),mt=!1,at.currentQuality=Bt),at.currentQuality},R.isAutoQuality=function(){return mt},R.setAutoQuality=function(Bt){ht&&(Ee(bt,{command:"change_rendition",id:ht.id,auto:Bt}),mt=Bt)},it.connect=function(){OvenPlayerConsole.log("WebRTCLoader connecting..."),OvenPlayerConsole.log("WebRTCLoader url : "+x),he()},it.destroy=function(){st=!0,Se(),window.onbeforeunload=Nt,Nt=null},it};function Za(R){return Za=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},Za(R)}function lu(R,x){var D=Object.keys(R);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(R);x&&(k=k.filter((function(P){return Object.getOwnPropertyDescriptor(R,P).enumerable}))),D.push.apply(D,k)}return D}function wo(R){for(var x=1;x<arguments.length;x++){var D=arguments[x]!=null?arguments[x]:{};x%2?lu(Object(D),!0).forEach((function(k){Ja(R,k,D[k])})):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(D)):lu(Object(D)).forEach((function(k){Object.defineProperty(R,k,Object.getOwnPropertyDescriptor(D,k))}))}return R}function Ja(R,x,D){return(x=(function(k){var P=(function(V){if(Za(V)!="object"||!V)return V;var z=V[Symbol.toPrimitive];if(z!==void 0){var at=z.call(V,"string");if(Za(at)!="object")return at;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(V)})(k);return Za(P)=="symbol"?P:P+""})(x))in R?Object.defineProperty(R,x,{value:D,enumerable:!0,configurable:!0,writable:!0}):R[x]=D,R}var ds,Qi,uu=function(R,x,D){var k={},P=null,V=null,z=null,at=null,rt=null,it=null,bt={name:$e,element:R,mse:null,listener:null,isLoaded:!1,canSeek:!1,isLive:!1,seeking:!1,state:qe,buffer:0,framerate:0,currentQuality:-1,currentSource:-1,qualityLevels:[],sources:[],adTagUrl:D},lt=1e4,ct=0,ht=null,ut=!1;function st(){if(Un(rt.file,rt.type)){clearTimeout(ht),OvenPlayerConsole.log("WEBRTC : onBeforeLoad : ",rt),P&&(P.destroy(),P=null);var ft=null,mt=null;ct>0&&(ft=function(){clearTimeout(ht)},mt=function(){clearTimeout(ht),performance.now(),ut=!0}),P=Jc(k,rt.file,(function(vt){R.srcObject&&(R.srcObject=null),it&&(it.close(),it=null);var At=vt.streams[0];if(R.srcObject=At,At.getAudioTracks().length>0){var Nt=window.AudioContext||window.webkitAudioContext;(function(zt){var oe=/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent),he=!1;oe&&zt.state==="suspended"&&document.addEventListener("touchend",(function(){he||zt.state==="running"||(zt.resume(),he=!0)}))})(it=new Nt),it.createMediaStreamSource(At)}if(vt.receiver.track.kind==="video"&&x.getConfig().parseStream.enabled){var Zt=new Blob([`/**\r
 * Created by rock on 2025. 2\r
 */\r
\r
const OVENMEDIAENGINE_SEI_METADATA_UUID = '464d4c475241494e434f4c4f55524201';\r
\r
function removeEmulationPreventionBytes(data) {\r
  const rbsp = [];\r
  for (let i = 0; i < data.length; i++) {\r
\r
    if (i > 2 && data[i - 2] === 0x00 && data[i - 1] === 0x00 && data[i] === 0x03) {\r
      continue; // skip 0x03\r
    }\r
    rbsp.push(data[i]);\r
  }\r
  return new Uint8Array(rbsp);\r
}\r
\r
function parseSEIPayload(rbsp) {\r
\r
  const messages = [];\r
\r
  let i = 0;\r
  const rbspLength = rbsp[rbsp.length - 1] === 0x80 ? rbsp.length - 1 : rbsp.length;\r
\r
  while (i < rbspLength) {\r
\r
    let type = 0;\r
    while (rbsp[i] === 0xFF) {\r
      type += 255;\r
      i++;\r
    }\r
    type += rbsp[i++];\r
\r
    let size = 0;\r
    while (rbsp[i] === 0xFF) {\r
      size += 255;\r
      i++;\r
    }\r
    size += rbsp[i++];\r
\r
    const payload = rbsp.slice(i, i + size);\r
    i += size;\r
\r
    messages.push({ type, size, payload });\r
\r
    return { type, size, payload };\r
  }\r
\r
  return messages;\r
}\r
\r
function toHexString(byteArray, delimiter = '') {\r
  return Array.from(byteArray, byte => {\r
    return ('0' + (byte & 0xFF).toString(16)).slice(-2);\r
  }).join(delimiter);\r
}\r
\r
function toHexArray(byteArray) {\r
  return Array.from(byteArray, byte => {\r
    return ('0' + (byte & 0xFF).toString(16)).slice(-2);\r
  });\r
}\r
\r
function toUUID(byteArray) {\r
  const hexString = toHexString(byteArray);\r
  return [\r
    hexString.slice(0, 8),\r
    hexString.slice(8, 12),\r
    hexString.slice(12, 16),\r
    hexString.slice(16, 20),\r
    hexString.slice(20, 24),\r
    hexString.slice(24, 32)\r
  ].join('-');\r
}\r
\r
function toTimestamp(byteArray) {\r
  const hexString = toHexString(byteArray);\r
  return parseInt(hexString, 16);\r
}\r
\r
function toAsciiString(byteArray) {\r
  return String.fromCharCode.apply(null, byteArray);\r
}\r
\r
function findNalStartIndex(frameData, offset) {\r
  while (offset < frameData.byteLength - 4) {\r
    if ((frameData[offset] === 0x00 && frameData[offset + 1] === 0x00)\r
      && (frameData[offset + 2] === 0x01 || (frameData[offset + 2] === 0x00 && frameData[offset + 3] === 0x01))) {\r
      return offset;\r
    } else {\r
      offset += 1;\r
    }\r
  }\r
  return -1;\r
}\r
\r
function getNalus(frameData) {\r
\r
  let offset = 0;\r
  const headerSize = 1;\r
  const nalus = [];\r
\r
  while (offset < frameData.byteLength - 4) {\r
\r
    const startCodeIndex = findNalStartIndex(frameData, offset);\r
\r
    if (startCodeIndex >= offset) {\r
\r
      const startCodeLength = frameData[startCodeIndex + 2] === 0x01 ? 3 : 4;\r
      const nextStartCodeIndex = findNalStartIndex(frameData, startCodeIndex + startCodeLength + headerSize);\r
\r
      if (nextStartCodeIndex > startCodeIndex) {\r
\r
        nalus.push(frameData.subarray(startCodeIndex, nextStartCodeIndex));\r
        offset = nextStartCodeIndex;\r
      } else {\r
\r
        nalus.push(frameData.subarray(startCodeIndex));\r
        break;\r
      }\r
    } else {\r
      break;\r
    }\r
  }\r
  return nalus;\r
}\r
\r
function createReceiverTransform() {\r
  return new TransformStream({\r
    start() { },\r
    flush() { },\r
    async transform(encodedFrame, controller) {\r
\r
      const nalus = getNalus(new Uint8Array(encodedFrame.data));\r
\r
      nalus.forEach((nalu) => {\r
\r
        const startCodeLength = nalu[2] === 0x01 ? 3 : 4;\r
        const headerCodeLength = 1;\r
        const nalHeader = nalu[startCodeLength];\r
        const nalType = nalHeader & 0x1F;\r
\r
        // NAL Type SEI\r
        if (nalType === 6) {\r
\r
          const rbsp = removeEmulationPreventionBytes(nalu.subarray(startCodeLength + headerCodeLength));\r
\r
          const parsedSei = parseSEIPayload(rbsp);\r
\r
          const eventData = {\r
            nalu: nalu,\r
            sei: parsedSei\r
          };\r
\r
          const uuid = toHexString(parsedSei.payload.subarray(0, 16));\r
\r
          if (uuid === OVENMEDIAENGINE_SEI_METADATA_UUID) {\r
\r
            postMessage({\r
              action: 'sei', data: {\r
                ...eventData,\r
                registered: true,\r
                uuid: toUUID(parsedSei.payload.subarray(0, 16)),\r
                timecode: toTimestamp(parsedSei.payload.subarray(16, 24)),\r
                userdata: parsedSei.payload.subarray(24)\r
              }\r
            });\r
          } else {\r
\r
            postMessage({\r
              action: 'sei', data: {\r
                ...eventData,\r
                registered: false\r
              }\r
            });\r
          }\r
        }\r
      });\r
\r
      controller.enqueue(encodedFrame);\r
    }\r
  })\r
}\r
\r
function setupPipe({ readable, writable }, transform) {\r
  readable\r
    .pipeThrough(transform)\r
    .pipeTo(writable)\r
}\r
\r
addEventListener('rtctransform', (event) => {\r
  setupPipe(event.transformer, createReceiverTransform());\r
});\r
\r
addEventListener('message', (event) => {\r
  const { action } = event.data;\r
\r
  switch (action) {\r
    case 'rtctransform':\r
      setupPipe(event.data, createReceiverTransform())\r
      break;\r
    default:\r
      break;\r
  }\r
});\r
`],{type:"application/javascript"}),me=URL.createObjectURL(Zt),Wt=new Worker(me);if("RTCRtpScriptTransform"in window)vt.receiver.transform=new RTCRtpScriptTransform(Wt);else{var ue=vt.receiver.createEncodedStreams(),de=ue.readable,Gt=ue.writable;Wt.postMessage({action:"rtctransform",readable:de,writable:Gt},[de,Gt])}Wt.addEventListener("message",(function(zt){zt.data.action==="sei"&&k.trigger("metaData",wo(wo({},zt.data.data),{},{type:"sei"}))}))}}),mt,ft,Fn,x,bt),performance.now(),P.connect(),ct>0&&(k.once(pn,(function(vt){ut||vt.newstate===qe&&(clearTimeout(ht),gt())})),k.once(Xe,(function(){ut=!1})),ht=setTimeout((function(){if(ct>0)ut||(gt(),st());else{gt();var vt=Yt.codes[512];Fn(vt,k)}ct--}),lt))}}function gt(){P&&(P.destroy(),P=null,R.srcObject=null)}return k=To(bt,x,(function(ft){var mt=x.getConfig();mt.webrtcConfig&&(typeof mt.webrtcConfig.connectionTimeout=="number"&&mt.webrtcConfig.connectionTimeout>0&&(lt=mt.webrtcConfig.connectionTimeout),typeof mt.webrtcConfig.timeoutMaxRetry=="number"&&mt.webrtcConfig.timeoutMaxRetry>0&&(ct=mt.webrtcConfig.timeoutMaxRetry)),rt=ft,st()})),V=k.super("destroy"),z=k.super("play"),at=k.super("stop"),OvenPlayerConsole.log("WEBRTC PROVIDER LOADED."),k.removeStream=function(){R.srcObject=null},k.destroy=function(){clearTimeout(ht),gt(),OvenPlayerConsole.log("WEBRTC :  PROVIDER DESTROYED."),V()},k.play=function(){(!P||ct>0&&!ut)&&st(),z()},k.stop=function(){clearTimeout(ht),gt(),at()},k},Lo=function(R,x,D){var k=1e3;if(Math.abs(R)<k)return R+" B";var P=D,V=["k"+P,"M"+P,"G"+P,"T"+P,"P"+P,"E"+P,"Z"+P,"Y"+P],z=-1;do R/=k,++z;while(Math.abs(R)>=k&&z<V.length-1);return R.toFixed(1)+V[z]},cu=function(R,x,D){var k={},P=null,V=null,z=null,at=0,rt="";try{if(dashjs.Version<"3.0.0")throw Yt.codes[103];var it=function(ht){P.updateSettings({streaming:{abr:{autoSwitchBitrate:{video:ht}}}})},bt=function(){return P.getSettings().streaming.abr.autoSwitchBitrate.video};(P=dashjs.MediaPlayer().create()).initialize(R,null,!1),window.op_dash=P;var lt={name:Dt,element:R,mse:P,listener:null,isLoaded:!1,canSeek:!1,isLive:!1,seeking:!1,state:qe,buffer:0,framerate:0,currentQuality:-1,currentSource:-1,qualityLevels:[],sources:[],adTagUrl:D};k=To(lt,x,(function(ht,ut){OvenPlayerConsole.log("DASH : Attach File : ",ht,"lastPlayPosition : "+ut),it(!0),rt=ht.file,ht.lowLatency===!0?(P.updateSettings({streaming:{lowLatencyEnabled:ht.lowLatency}}),x.getConfig().lowLatencyMpdLiveDelay&&typeof x.getConfig().lowLatencyMpdLiveDelay=="number"&&P.updateSettings({streaming:{liveDelay:x.getConfig().lowLatencyMpdLiveDelay}})):P.updateSettings({streaming:{lowLatencyEnabled:!1,liveDelay:void 0}}),P.updateSettings({debug:{logLevel:dashjs.Debug.LOG_LEVEL_NONE}});var st=x.getConfig().dashConfig;st&&P.updateSettings(st),k.trigger("dashPrepared",P),P.attachSource(rt),at=ut})),V=k.super("play"),z=k.super("destroy"),OvenPlayerConsole.log("DASH PROVIDER LOADED."),P.on(dashjs.MediaPlayer.events.ERROR,(function(ht){var ut=Yt.codes[302];ut.error=ht,Fn(ut,k)})),P.on(dashjs.MediaPlayer.events.QUALITY_CHANGE_REQUESTED,(function(ht){ht&&ht.mediaType&&ht.mediaType==="video"&&k.trigger(Br,{isAuto:bt(),currentQuality:lt.currentQuality,type:"request"})})),P.on(dashjs.MediaPlayer.events.QUALITY_CHANGE_RENDERED,(function(ht){ht&&ht.mediaType&&ht.mediaType==="video"&&(lt.currentQuality=ht.newQuality,k.trigger(Br,{isAuto:bt(),currentQuality:ht.newQuality,type:"render"}))})),P.on(dashjs.MediaPlayer.events.PLAYBACK_METADATA_LOADED,(function(ht){OvenPlayerConsole.log("DASH : PLAYBACK_METADATA_LOADED  : ",P.getQualityFor("video"),P.getBitrateInfoListFor("video"),P.getBitrateInfoListFor("video")[P.getQualityFor("video")]);var ut=P.getBitrateInfoListFor("video");lt.currentQuality=P.getQualityFor("video");for(var st=0;st<ut.length;st++)f().findWhere(lt.qualityLevels,{bitrate:ut[st].bitrate,height:ut[st].height,width:ut[st].width})||lt.qualityLevels.push({bitrate:ut[st].bitrate,height:ut[st].height,width:ut[st].width,index:ut[st].qualityIndex,label:ut[st].width+"x"+ut[st].height+", "+Lo(ut[st].bitrate,!0,"bps")});P.isDynamic()&&(lt.isLive=!0),at&&!lt.isLive&&P.seek(at)})),k.play=function(ht){k.getState()===It||k.getState()===ve||V(ht)},k.setCurrentQuality=function(ht){return k.getState()!==an&&k.play(),lt.currentQuality=ht,bt()&&it(!1),P.setQualityFor("video",ht),lt.currentQuality},k.isAutoQuality=function(){return bt()},k.setAutoQuality=function(ht){it(ht)},k.destroy=function(){P.destroy?P.destroy():P.reset(),P=null,k.trigger("dashDestroyed"),OvenPlayerConsole.log("DASH : PROVIDER DESTROYED."),z()}}catch(ht){if(ht&&ht.code&&ht.code===103)throw ht;var ct=Yt.codes[105];throw ct.error=ht,ct}return k},fu=function(R,x,D){var k={},P=null,V=null,z=null,at=null,rt=!1;try{var it={debug:!1},bt=x.getConfig().hlsConfig;if(bt)for(var lt in bt)it[lt]=bt[lt];x.getConfig().licenseCustomHeader&&(it.licenseXhrSetup=function(ut,st,gt,ft){ut.setRequestHeader(x.getConfig().licenseCustomHeader.key,x.getConfig().licenseCustomHeader.value)}),(P=new Hls(it)).attachMedia(R);var ct={name:Te,element:R,mse:P,listener:null,isLoaded:!1,canSeek:!1,isLive:!1,seeking:!1,state:qe,buffer:0,dvrWindow:0,framerate:0,currentQuality:-1,qualityLevels:[],currentAudioTrack:-1,audioTracks:[],currentSource:-1,sources:[],adTagUrl:D,subtitleTracks:[],currentSubtitleTrack:-1};k=To(ct,x,(function(ut,st){OvenPlayerConsole.log("HLS : onExtendedLoad : ",ut,"lastPlayPosition : "+st),k.trigger("hlsPrepared",P),P.loadSource(ut.file),P.once(Hls.Events.MANIFEST_LOADED,(function(gt,ft){for(var mt=0;mt<P.levels.length;mt++){var vt=P.levels[mt];ct.qualityLevels.push({bitrate:vt.bitrate,height:vt.height,width:vt.width,index:mt,label:vt.width+"x"+vt.height+", "+Lo(vt.bitrate,!0,"bps")})}if(ct.currentQuality=P.firstLevel,P.audioTracks&&P.audioTracks.length>0)for(var At=0;At<P.audioTracks.length;At++){var Nt=P.audioTracks[At];ct.audioTracks.push({index:Nt.id,label:Nt.name}),Nt.default===!0&&(ct.currentAudioTrack=Nt.id)}if(P.subtitleTracks&&P.subtitleTracks.length>0)for(var Zt=0;Zt<P.subtitleTracks.length;Zt++){var me=P.subtitleTracks[Zt];ct.subtitleTracks.push({index:me.id,label:me.name?me.name:me.lang?me.lang:me.id})}})),P.once(Hls.Events.LEVEL_LOADED,(function(gt,ft){rt=!0,at&&(clearTimeout(at),at=null),ft.details.live?ct.isLive=!0:st&&st>=0&&k.seek(st)})),P.on(Hls.Events.LEVEL_SWITCHED,(function(gt,ft){ct.currentQuality=ft.level,k.trigger(Br,{isAuto:P.autoLevelEnabled,currentQuality:ct.currentQuality,type:"render"})})),P.on(Hls.Events.AUDIO_TRACK_SWITCHED,(function(gt,ft){ct.currentAudioTrack=ft.id,k.trigger(Di,{currentAudioTrack:ct.currentAudioTrack})})),P.on(Hls.Events.SUBTITLE_TRACK_SWITCH,(function(gt,ft){ct.currentSubtitleTrack=ft.id,k.trigger(Ht,{currentSubtitleTrack:ct.currentSubtitleTrack})})),P.on(Hls.Events.LEVEL_UPDATED,(function(gt,ft){ft&&ft.details&&(ct.dvrWindow=ft.details.totalduration)})),P.on(Hls.Events.ERROR,(function(gt,ft){if(ft&&ft.networkDetails&&ft.networkDetails.status===202)return at&&(clearTimeout(at),at=null),k.setState(ge),void(at=setTimeout((function(){P&&(k.stop(),P.stopLoad(),P.loadSource(ut.file))}),1e3));if(ft.fatal){var mt=302;ft&&ft.networkDetails&&ft.networkDetails.status===400?mt=306:ft&&ft.networkDetails&&ft.networkDetails.status===403?mt=307:ft&&ft.networkDetails&&ft.networkDetails.status===406&&(mt=308);var vt=Yt.codes[mt];vt.error=ft,Fn(vt,k)}})),k.on(pn,(function(gt){rt||gt.prevstate!==ge||gt.newstate!==qe||(at&&(clearTimeout(at),at=null),P&&P.stopLoad())}))})),k.setCurrentQuality=function(ut){return P.currentLevel=ut,ct.currentQuality=ut,ct.currentQuality},k.isAutoQuality=function(){return P.autoLevelEnabled},k.setAutoQuality=function(ut){P.currentLevel=ut?-1:P.currentLevel},k.setCurrentAudioTrack=function(ut){return P.audioTrack=ut,ct.currentAudioTrack=ut,ct.currentAudioTrack},k.setCurrentSubtitleTrack=function(ut){return P.subtitleTrack=ut,ct.currentSubtitleTrack=ut,ct.currentSubtitleTrack},k.getDuration=function(){return R.duration},V=k.super("stop"),k.stop=function(){at&&(clearTimeout(at),at=null),P&&P.stopLoad(),V()},z=k.super("destroy"),k.destroy=function(){at&&(clearTimeout(at),at=null),P&&(P.destroy(),k.trigger("hlsDestroyed")),P=null,OvenPlayerConsole.log("HLS : PROVIDER DESTROYED."),z()},OvenPlayerConsole.log("HLS PROVIDER LOADED.")}catch(ut){var ht=Yt.codes[106];throw ht.error=ut,ht}return k},da=function(R){var x={};Qn(x),OvenPlayerConsole.log("API loaded.");var D=(function(lt){var ct={},ht={playlist:[],currentIndex:0},ut=ri();OvenPlayerConsole.log("PlaylistManager loaded.");var st=function(gt){if(gt&&(gt.file||gt.host||gt.application||gt.stream)){var ft=Object.assign({},{default:!1},gt);ft.file=A(""+ft.file),ft.host&&ft.application&&ft.stream&&(ft.file=ft.host+"/"+ft.application+"/stream/"+ft.stream,delete ft.host,delete ft.application,delete ft.stream);var mt=/^[^/]+\/(?:x-)?([^/]+)$/;if(mt.test(ft.type)&&(ft.mimeType=ft.type,ft.type=ft.type.replace(mt,"$1")),Ie(ft.file)?ft.type="rtmp":Un(ft.file)?ft.type="webrtc":en(ft.file,ft.type)?ft.type="hls":Ar(ft.file,ft.type)?ft.type="dash":ft.type||(ft.type=p(ft.file)),ft.lowLatency&&(ft.lowLatency=ft.lowLatency),ft.type){switch(ft.type){case"m3u8":case"vnd.apple.mpegurl":ft.type="hls";break;case"m4a":ft.type="aac";break;case"smil":ft.type="rtmp"}return Object.keys(ft).forEach((function(vt){ft[vt]===""&&delete ft[vt]})),ft}}};return ct.initPlaylist=function(gt,ft){OvenPlayerConsole.log("PlaylistManager setPlaylist() ",gt);var mt=(f().isArray(gt)?gt:[gt]).map((function(vt){f().isArray(vt.tracks)||delete vt.tracks;var At=Object.assign({},{sources:[],tracks:[],title:""},vt);At.sources!==Object(At.sources)||f().isArray(At.sources)||(At.sources=[st(At.sources)]),f().isArray(At.sources)&&At.sources.length!==0||(At.sources=[st(At)]),f().isArray(At.sources)&&At.sources.length!==0||(vt.levels?At.sources=vt.levels:At.sources=[st(vt)]);for(var Nt=0;Nt<At.sources.length;Nt++){var Zt,me=At.sources[Nt];if(me){var Wt=me.default;me.default=!!Wt&&Wt.toString()==="true",At.sources[Nt].label||(At.sources[Nt].label=At.sources[Nt].type+"-"+Nt.toString()),Zt=st(At.sources[Nt]),ut.findProviderNameBySource(Zt)?At.sources[Nt]=Zt:At.sources[Nt]=null}}return At.sources=At.sources.filter((function(ue){return!!ue})),!At.title&&At.sources[0]&&At.sources[0].label&&(At.title=At.sources[0].label),ft.isCurrentProtocolOnly()&&(At.sources=(function(ue){if(ue){var de=At.sources[0].type;return f().filter(ue,{type:de})}})(At.sources)),f().isArray(At.tracks)||(At.tracks=[]),f().isArray(At.captions)&&(At.tracks=At.tracks.concat(At.captions),delete At.captions),At.tracks=At.tracks.map((function(ue){return!(!ue||!ue.file)&&Object.assign({},{kind:"captions",default:!1},ue)})).filter((function(ue){return!!ue})),At})).filter((function(vt){return vt.sources&&vt.sources.length>0}))||[];return ht.playlist=mt,mt},ct.getPlaylist=function(){return OvenPlayerConsole.log("PlaylistManager getPlaylist() ",ht.playlist),ht.playlist},ct.getCurrentPlayList=function(){return ht.playlist[ht.currentIndex]?ht.playlist[ht.currentIndex]:[]},ct.getCurrentPlaylistIndex=function(){return ht.currentIndex},ct.setCurrentPlaylist=function(gt){return ht.playlist[gt]&&(ht.currentIndex=gt,lt.trigger(Me,ht.currentIndex)),ht.currentIndex},ct.getCurrentSources=function(){return ht.playlist[ht.currentIndex]?(OvenPlayerConsole.log("PlaylistManager getCurrentSources() ",ht.playlist[ht.currentIndex].sources),ht.playlist[ht.currentIndex].sources):null},ct.getCurrentAdTag=function(){if(ht.playlist[ht.currentIndex])return ht.playlist[ht.currentIndex].adTagUrl||""},ct})(x),k=(function(){var lt=ri(),ct={},ht={};OvenPlayerConsole.log("ProviderController loaded.");var ut=function(gt,ft){ct[gt]||(OvenPlayerConsole.log("ProviderController _registerProvider() ",gt),ct[gt]=ft)},st={html5:function(){var gt=Zc;return ut(Ue,gt),{name:Ue,provider:gt}},webrtc:function(){var gt=uu;return ut($e,gt),{name:$e,provider:gt}},dash:function(){var gt=cu;return ut(Dt,gt),{name:Dt,provider:gt}},hls:function(){var gt=fu;return ut(Te,gt),{name:Te,provider:gt}}};return ht.loadProviders=function(gt){var ft=lt.findProviderNamesByPlaylist(gt);return OvenPlayerConsole.log("ProviderController loadProviders() ",ft),ft?Promise.all(ft.filter((function(mt){return!!st[mt]})).map((function(mt){return st[mt]()}))):Promise.reject(Yt.codes[101])},ht.findByName=function(gt){return OvenPlayerConsole.log("ProviderController findByName() ",gt),ct[gt]},ht.getProviderBySource=function(gt){var ft=lt.findProviderNameBySource(gt);return OvenPlayerConsole.log("ProviderController getProviderBySource() ",ft),ht.findByName(ft)},ht.isSameProvider=function(gt,ft){return OvenPlayerConsole.log("ProviderController isSameProvider() ",lt.findProviderNameBySource(gt),lt.findProviderNameBySource(ft)),lt.findProviderNameBySource(gt)===lt.findProviderNameBySource(ft)},ht})(),P=ae(),V=(function(lt,ct){var ht={},ut=xt(lt),st="";return OvenPlayerConsole.log("MediaManager loaded. browser : ",ct),ht.createMedia=function(gt,ft){return ht.empty(),mt=ft.isLoop(),vt=ft.isAutoStart(),(st=document.createElement("video")).setAttribute("preload","auto"),st.setAttribute("disableremoteplayback",""),st.setAttribute("webkit-playsinline","true"),st.setAttribute("playsinline","true"),mt&&st.setAttribute("loop",""),vt&&st.setAttribute("autoplay",""),ut.append(st),st;var mt,vt},ht.createAdContainer=function(){var gt=document.createElement("div");return gt.setAttribute("class","op-ads"),ut.append(gt),gt},ht.empty=function(){OvenPlayerConsole.log("MediaManager removeElement()"),ut.removeChild(st),st=null},ht.destroy=function(){ut.removeChild(),ut=null,st!=null&&st!==""&&(st.srcObject=null),st=null},ht})(R,P),z="",at="",rt="",it=function(lt){OvenPlayerConsole.log("runNextPlaylist");var ct=lt,ht=!!D.getPlaylist()[ct];at.setSourceIndex(0),at.setVolume(z.getVolume()),ht?(D.setCurrentPlaylist(ct),bt()):x.trigger(ye,null)},bt=function(lt){return k.loadProviders(D.getCurrentPlayList()).then((function(ct){if(ct.length<1)throw Yt.codes[101];z&&(z.destroy(),z=null),rt&&(rt.destroy(),rt=null),rt=(function(st,gt){var ft={},mt=[],vt=-1,At=cn(),Nt=!0;OvenPlayerConsole.log("Caption Manager >> ",gt);var Zt=function(Gt,zt){return Gt.data=zt||[],Gt.name=Gt.label||Gt.name||Gt.language,Gt.id=(function(oe,he){var Se,Ee=oe.kind||"cc";return Se=oe.default||oe.defaulttrack?"default":oe.id||Ee+he,Nt&&(me(mt.length||0),Nt=!1),Se})(Gt,mt.length),mt.push(Gt),Gt.id},me=function(Gt){vt=Gt,st.trigger(nr,vt)};if(st.getConfig().playlist&&st.getConfig().playlist.length>0){var Wt=st.getConfig().playlist[gt];if(Wt&&Wt.tracks&&Wt.tracks.length>0)for(var ue=function(){var Gt=Wt.tracks[de];Nn(Gt.kind)&&!f().findWhere(Gt,{file:Gt.file})&&At.load(Gt,Gt.lang,(function(zt){zt&&zt.length>0&&Zt(Gt,zt)}),(function(zt){var oe=Yt.codes[305];oe.error=zt,st.trigger(Xe,oe)}))},de=0;de<Wt.tracks.length;de++)ue()}return st.on(ur,(function(Gt){var zt=Gt.position;if(vt>-1&&mt[vt]){var oe=f().filter(mt[vt].data,(function(he){return zt>=he.startTime&&(!he.endTime||zt)<=he.endTime}));oe&&oe.length>0&&st.trigger(Yr,oe[0])}})),ft.flushCaptionList=function(Gt){mt=[],me(Gt)},ft.getCaptionList=function(){return mt||[]},ft.getCurrentCaption=function(){return vt},ft.setCurrentCaption=function(Gt){if(!(Gt>-2&&Gt<mt.length))return null;me(Gt)},ft.addCaption=function(Gt){Nn(Gt.kind)&&!f().findWhere(At,{file:Gt.file})&&At.load(Gt,(function(zt){zt&&zt.length>0&&Zt(Gt,zt)}),(function(zt){var oe=errors[305];oe.error=zt,st.trigger(Xe,oe)}))},ft.removeCaption=function(Gt){return Gt>-1&&Gt<mt.length?(mt.splice(Gt,1),mt):null},ft.destroy=function(){mt=[],At=null,st.off(ur,null,ft)},ft})(x,D.getCurrentPlaylistIndex()),OvenPlayerConsole.log("API : init() captions");var ht=pi(D.getCurrentSources(),at),ut=ct[ht].name;OvenPlayerConsole.log("API : init() provider",ut),z=ct[ht].provider(V.createMedia(ut,at),at,D.getCurrentAdTag()),ut==="rtmp"&&Object.assign(x,(function(st){return{externalCallbackCreep:function(gt){return gt.name&&gt.data?st.triggerEventFromExternal(gt.name,gt.data):null}}})(z)),z.on("all",(function(st,gt){if(st===Xe&&(ut===$e&&z.removeStream(),at.getConfig().autoFallback&&x.getCurrentSource()+1<x.getSources().length))return x.pause(),void x.setCurrentSource(x.getCurrentSource()+1);st===on&&it(D.getCurrentPlaylistIndex()+1),st===Rr&&at.isAutoStart()&&x.play(),x.trigger(st,gt)}))})).then((function(){z.preload(D.getCurrentSources(),lt).then((function(){})).catch((function(ct){if(ct&&ct.code&&Yt.codes[ct.code])x.trigger(Xe,Yt.codes[ct.code]);else{var ht=Yt.codes[100];ht.error=ct,x.trigger(Xe,ht)}}))})).catch((function(ct){if(ct&&ct.code&&Yt.codes[ct.code])x.trigger(Xe,Yt.codes[ct.code]);else{var ht=Yt.codes[100];ht.error=ct,x.trigger(Xe,ht)}}))};return x.init=function(lt){lt||(lt={}),lt.mediaContainer=R,lt.browser=P,at=(function(ct,ht){OvenPlayerConsole.log("Configurator loaded.",ct);var ut=(function(st){(function(Wt){Object.keys(Wt).forEach((function(ue){ue!=="id"&&(Wt[ue]=(function(de){if(de===void 0)return null;if(typeof de=="string"&&de.length<6){var Gt=de.toLowerCase();if(Gt==="true")return!0;if(Gt==="false")return!1;if(!isNaN(Number(de))&&!isNaN(parseFloat(de)))return Number(de)}return de})(Wt[ue]))}))})(st);var gt=Object.assign({},{mediaContainer:"",playbackRates:[2,1.5,1,.5,.25],playbackRate:1,mute:!1,volume:100,loop:!1,controls:!0,autoStart:!1,autoFallback:!0,timecode:!0,sourceIndex:-1,browser:"",hidePlaylistIcon:!1,rtmpBufferTime:1,rtmpBufferTimeMax:3,adClient:"googleima",currentProtocolOnly:!1,systemText:null,lang:"en",loadingRetryCount:0,expandFullScreenUI:!0,fullscreenOption:null,showBigPlayButton:!0,doubleTapToSeek:!1,showZoomSettings:!1,legacyUI:!1,parseStream:{enabled:!1}},st),ft=[];gt.systemText&&(ft=f().isArray(gt.systemText)?gt.systemText:[gt.systemText]);for(var mt=0;mt<ft.length;mt++)if(ft[mt].lang){var vt=f().findWhere(pe,{lang:ft[mt].lang});if(vt)ar(vt,ft[mt]);else{(vt=f().findWhere(pe,{lang:"en"})).lang=ft[mt].lang;var At=ar({},vt,ft[mt]);pe.push(At)}}gt.systemText=f().findWhere(pe,{lang:gt.lang});var Nt=gt.playbackRates;(Nt=Nt.filter((function(Wt){return f().isNumber(Wt)&&Wt>=.25&&Wt<=4})).map((function(Wt){return Math.round(4*Wt)/4}))).indexOf(1)<0&&Nt.push(1),Nt.sort(),gt.playbackRates=Nt,gt.rtmpBufferTime=gt.rtmpBufferTime>10?10:gt.rtmpBufferTime,gt.rtmpBufferTimeMax=gt.rtmpBufferTimeMax>50?50:gt.rtmpBufferTimeMax,gt.playbackRates.indexOf(gt.playbackRate)<0&&(gt.playbackRate=1);var Zt=gt.playlist;if(Zt)f().isArray(Zt.playlist)&&(gt.feedData=Zt,gt.playlist=Zt.playlist);else{var me=f().pick(gt,["title","description","type","image","file","sources","tracks","host","application","stream","adTagUrl"]);gt.playlist=[me]}return delete gt.duration,gt})(ct);return{getConfig:function(){return ut},getAdClient:function(){return ut.adClient},setConfig:function(st,gt){ut[st]=gt},getContainer:function(){return ut.mediaContainer},getPlaybackRate:function(){return ut.playbackRate},setPlaybackRate:function(st){return ut.playbackRate=st,st},getZoomFactor:function(){return ut.zoomFactor},setZoomFactor:function(st){return ut.zoomFactor=st,st},getQualityLabel:function(){return ut.qualityLabel},setQualityLabel:function(st){ut.qualityLabel=st},isCurrentProtocolOnly:function(){return ut.currentProtocolOnly},getSourceIndex:function(){return ut.sourceIndex},setSourceIndex:function(st){ut.sourceIndex=st},setTimecodeMode:function(st){ut.timecode!==st&&(ut.timecode=st,ht.trigger(jn,st))},isTimecodeMode:function(){return ut.timecode},getRtmpBufferTime:function(){return ut.rtmpBufferTime},getRtmpBufferTimeMax:function(){return ut.rtmpBufferTimeMax},setMute:function(st){ut.mute=st},isMute:function(){return ut.mute},getVolume:function(){return ut.volume},setVolume:function(st){ut.volume=st},isLoop:function(){return ut.loop},isAutoStart:function(){return ut.autoStart},isControls:function(){return ut.controls},getPlaybackRates:function(){return ut.playbackRates},getBrowser:function(){return ut.browser},getSystemText:function(){return ut.systemText},getLanguage:function(){return ut.lang},getPlaylist:function(){return ut.playlist},setPlaylist:function(st){return f().isArray(st)?ut.playlist=st:ut.playlist=[st],ut.playlist}}})(lt,x),OvenPlayerConsole.log("API : init()"),OvenPlayerConsole.log("API : init() config : ",at),Yt.codes=at.getSystemText().api.error,D.initPlaylist(at.getPlaylist(),at),OvenPlayerConsole.log("API : init() sources : ",D.getCurrentSources()),bt(),setTimeout((function(){x.trigger(hn)}))},x.getProviderName=function(){return z?z.getName():null},x.getProvider=function(){return z},x.getMseInstance=function(){return z?z.getMse():null},x.getConfig=function(){return OvenPlayerConsole.log("API : getConfig()",at.getConfig()),at.getConfig()},x.getBrowser=function(){return at.getBrowser()},x.setTimecodeMode=function(lt){OvenPlayerConsole.log("API : setTimecodeMode()",lt),at.setTimecodeMode(lt)},x.isTimecodeMode=function(){return OvenPlayerConsole.log("API : isTimecodeMode()"),at.isTimecodeMode()},x.getFramerate=function(){if(OvenPlayerConsole.log("API : getFramerate()"),z)return z.getFramerate()},x.seekFrame=function(lt){return z?(OvenPlayerConsole.log("API : seekFrame()",lt),z.seekFrame(lt)):null},x.getDuration=function(){return z?(OvenPlayerConsole.log("API : getDuration()",z.getDuration()),z.getDuration()):null},x.getDvrWindow=function(){return z?(OvenPlayerConsole.log("API : getDvrWindow()",z.getDvrWindow()),z.getDvrWindow()):null},x.getPosition=function(){return z?(OvenPlayerConsole.log("API : getPosition()",z.getPosition()),z.getPosition()):null},x.getVolume=function(){return z?(OvenPlayerConsole.log("API : getVolume()",z.getVolume()),z.getVolume()):null},x.setVolume=function(lt){if(!z)return null;OvenPlayerConsole.log("API : setVolume() "+lt),z.setVolume(lt)},x.setMute=function(lt){return z?(OvenPlayerConsole.log("API : setMute() "+lt),z.setMute(lt)):null},x.getMute=function(){return z?(OvenPlayerConsole.log("API : getMute() "+z.getMute()),z.getMute()):null},x.load=function(lt){return OvenPlayerConsole.log("API : load() ",lt),lt&&(at.setSourceIndex(0),z&&z.getQualityLevels().length>0&&z.setCurrentQuality(0),"sources"in lt?at.setPlaylist(lt):at.setPlaylist({sources:lt}),D.initPlaylist(at.getPlaylist(),at)),bt()},x.play=function(){if(!z)return null;OvenPlayerConsole.log("API : play() "),z.metaLoaded()||at.isAutoStart()?z.play():x.once(Rr,(function(){z.play()}))},x.pause=function(){if(!z)return null;OvenPlayerConsole.log("API : pause() "),z.pause()},x.seek=function(lt){if(!z)return null;OvenPlayerConsole.log("API : seek() "+lt),z.seek(lt)},x.setPlaybackRate=function(lt){return z?(OvenPlayerConsole.log("API : setPlaybackRate() ",lt),z.setPlaybackRate(at.setPlaybackRate(lt))):null},x.getPlaybackRate=function(){return z?(OvenPlayerConsole.log("API : getPlaybackRate() ",z.getPlaybackRate()),z.getPlaybackRate()):null},x.setZoomFactor=function(lt){return z?(OvenPlayerConsole.log("API : setZoomFactor() ",lt),z.setZoomFactor(at.setZoomFactor(lt))):null},x.getZoomFactor=function(){return z?(OvenPlayerConsole.log("API : getZoomFactor() ",z.getZoomFactor()),z.getZoomFactor()):null},x.getPlaylist=function(){return OvenPlayerConsole.log("API : getPlaylist() ",D.getPlaylist()),D.getPlaylist()},x.getCurrentPlaylist=function(){return OvenPlayerConsole.log("API : getCurrentPlaylist() ",D.getCurrentPlaylistIndex()),D.getCurrentPlaylistIndex()},x.setCurrentPlaylist=function(lt){OvenPlayerConsole.log("API : setCurrentPlaylist() ",lt),it(lt)},x.getSources=function(){return z?(OvenPlayerConsole.log("API : getSources() ",z.getSources()),z.getSources()):null},x.getCurrentSource=function(){return z?(OvenPlayerConsole.log("API : getCurrentSource() ",z.getCurrentSource()),z.getCurrentSource()):null},x.setCurrentSource=function(lt){if(!z)return null;OvenPlayerConsole.log("API : setCurrentSource() ",lt);var ct=z.getPosition();return at.setSourceIndex(lt),bt(ct).then((function(){x.trigger(wr,{currentSource:lt})})),lt},x.getQualityLevels=function(){return z?(OvenPlayerConsole.log("API : getQualityLevels() ",z.getQualityLevels()),z.getQualityLevels()):null},x.getCurrentQuality=function(){return z?(OvenPlayerConsole.log("API : getCurrentQuality() ",z.getCurrentQuality()),z.getCurrentQuality()):null},x.setCurrentQuality=function(lt){return z?(OvenPlayerConsole.log("API : setCurrentQuality() ",lt),z.setCurrentQuality(lt)):null},x.getAudioTracks=function(){return z?(OvenPlayerConsole.log("API : getAudioTracks() ",z.getAudioTracks()),z.getAudioTracks()):null},x.getCurrentAudioTrack=function(){return z?(OvenPlayerConsole.log("API : getCurrentAudioTrack() ",z.getCurrentAudioTrack()),z.getCurrentAudioTrack()):null},x.setCurrentAudioTrack=function(lt){return z?(OvenPlayerConsole.log("API : setCurrentAudioTrack() ",lt),z.setCurrentAudioTrack(lt)):null},x.getSubtitleTracks=function(){return z?(OvenPlayerConsole.log("API : getSubtitleTracks() ",z.getSubtitleTracks()),z.getSubtitleTracks()):null},x.getCurrentSubtitleTrack=function(){return z?(OvenPlayerConsole.log("API : getCurrentSubtitleTrack() ",z.getCurrentSubtitleTrack()),z.getCurrentSubtitleTrack()):null},x.setCurrentSubtitleTrack=function(lt){return z?(OvenPlayerConsole.log("API : setCurrentSubtitleTrack() ",lt),z.setCurrentSubtitleTrack(lt)):null},x.isAutoQuality=function(){return z?(OvenPlayerConsole.log("API : isAutoQuality()"),z.isAutoQuality()):null},x.setAutoQuality=function(lt){return z?(OvenPlayerConsole.log("API : setAutoQuality() ",lt),z.setAutoQuality(lt)):null},x.getCaptionList=function(){return rt?(OvenPlayerConsole.log("API : getCaptionList() ",rt.getCaptionList()),rt.getCaptionList()):null},x.getCurrentCaption=function(){return rt?(OvenPlayerConsole.log("API : getCurrentCaption() ",rt.getCurrentCaption()),rt.getCurrentCaption()):null},x.setCurrentCaption=function(lt){if(!rt)return null;OvenPlayerConsole.log("API : setCurrentCaption() ",lt),rt.setCurrentCaption(lt)},x.addCaption=function(lt){return rt?(OvenPlayerConsole.log("API : addCaption() "),rt.addCaption(lt)):null},x.removeCaption=function(lt){return rt?(OvenPlayerConsole.log("API : removeCaption() ",lt),rt.removeCaption(lt)):null},x.getBuffer=function(){if(!z)return null;OvenPlayerConsole.log("API : getBuffer() ",z.getBuffer()),z.getBuffer()},x.getState=function(){return z?(OvenPlayerConsole.log("API : getState() ",z.getState()),z.getState()):null},x.stop=function(){if(!z)return null;OvenPlayerConsole.log("API : stop() "),z.stop()},x.remove=function(){OvenPlayerConsole.log("API : remove() "),rt&&(rt.destroy(),rt=null),z&&(z.destroy(),z=null),V&&(V.destroy(),V=null),x.trigger(ie),x.off(),k=null,D=null,at=null,OvenPlayerConsole.log("API : remove() - currentProvider, providerController, playlistManager, playerConfig, api event destroed. "),dl.removePlayer(x)},x.getMediaElement=function(){return z.getMediaElement()},x.getVersion=function(){return o},x},dl=(Qi=(ds={}).playerList=[],ds.create=function(R,x){window.OvenPlayerConsole&&Object.keys(window.OvenPlayerConsole).length!==0||(window.OvenPlayerConsole={},OvenPlayerConsole.log=function(){});var D=br(R),k=da(D);return k.init(x),Qi.push(k),k},ds.getPlayerList=function(){return Qi},ds.getPlayerByContainerId=function(R){for(var x=0;x<Qi.length;x++)if(Qi[x].getContainerId()===R)return Qi[x];return null},ds.getPlayerByIndex=function(R){return Qi[R]||null},ds.removePlayer=function(R){for(var x=0;x<Qi.length;x++)Qi[x]===R&&Qi.splice(x,1)},ds.generateWebrtcUrls=function(R){return(f().isArray(R)?R:[R]).map((function(x,D){if(x.host&&Un(x.host)&&x.application&&x.stream)return{file:x.host+"/"+x.application+"/"+x.stream,type:"webrtc",label:x.label?x.label:"webrtc-"+(D+1)}}))},ds.debug=function(R){return window.OvenPlayerConsole=R?{log:window.console.log}:{log:function(){}},R},ds),hs=function(R,x){var D='<div id="'+x.id+'" class="op-setting-panel '+(x.isRoot?"animated fadeIn":"")+'" style="max-height: '+x.height+'px"><div class="op-setting-title-container"><div class="op-setting-title" tabindex="0">'+(x.isRoot?"":'<span class="op-setting-title-previcon">&lt;</span>')+'<span class="op-setting-title-title">'+x.title+'</span></div></div><div class="op-setting-item-container">';return f().forEach(x.body,(function(k){D+=tf(k,x.useCheck)})),D+="</div></div>"},tf=function(R,x){return'<div class="op-setting-item" op-panel-type="'+R.panelType+'" op-data-value="'+R.value+'">'+(x?'<span class="op-setting-item-checked '+(R.isCheck?"op-show":"")+'">&#x2713;</span>':"")+'<span class="op-setting-item-title">'+R.title+"</span>"+(R.hasNext?'<span class="op-setting-item-nexticon">&gt;</span><span class="op-setting-item-value">'+R.description+"</span>":"")+"</div>"},du=function(R,x){return'<div class="op-playlist-card '.concat(x?"active":"",'" data-index="').concat(R.index,'">')+'<div class="op-playlist-card-thumbnail '.concat(R.image?"":"empty",'">').concat(R.image?"<img src=".concat(R.image,">"):'<i class="op-con op-empty-video"></i>'," ").concat(R.duration?'<span class="op-badge">'.concat(m(R.duration),"</span>"):""," </div>")+'<div class="op-playlist-card-title">'.concat(R.title,"</div>")+"</div>"},hl={TextViewTemplate:function(R){return'<div class="textView" style="padding : 5px; background: red; position : absolute; top: 0;">'+"<h3>".concat(R,"</h3>")+'<button type="button" class="btn">button</button></div>'},ViewTemplate:function(R,x){return'<div class="ovenplayer op-wrapper" tabindex="-1" '.concat(x?'id = "'.concat(x,'"'):"",">")+'<div class="op-ratio"></div><div class="op-player op-clear"><div class="op-core-ui-wrapper op-clear"><div class="op-media-element-container op-clear"></div><div class="op-ui op-clear"></div></div></div></div>'},HelpersTemplate:function(R,x){return'<div class="op-helpers-container"></div>'},BigButtonTemplate:function(R,x){return'<div class="op-bigbutton-container ">'+"".concat(x===an?'<i class="op-con op-pause-big"></i>':"")+"".concat(x===Dn?'<i class="op-bigbutton op-con op-play-big"></i>':"")+"".concat(x===qe?'<i class="op-bigbutton op-con op-play-big"></i>':"")+"".concat(x===Ke?'<i class="op-bigbutton op-con op-replay-big"></i>':"")+"</div>"},ThumbnailTemplate:function(R,x){return'<div class="op-thumbnail-container"><div class="op-thumbnail-wrapper">'+"".concat(x.title?'<div class="op-thumbnail-header">'.concat(x.title,"</div>"):"")+"</div></div>"},WaterMarkTemplate:function(R,x){return'<div class="op-watermark-container"><div class="op-watermark">'+"".concat(x.waterMark.image?'<img src="'.concat(x.waterMark.image,'">'):"")+"".concat(x.waterMark.text?'<span class="op-watermark-text">'.concat(x.waterMark.text,"</span>"):"")+"</div></div>"},MessageBoxTemplate:function(R,x){return'<div class="op-message-box op-clear '.concat(x.dontClose===!0?"op-message-box-default-cursor":"",'">')+'<div class="op-message-container ">'+'<div class="op-message-text">'.concat(x.message)+"".concat(x.description?'<div class="op-message-description">'.concat(x.description,"</div>"):"")+"</div>"+"".concat(x.iconClass?'<div class="op-message-icon"><i class="op-con '.concat(x.iconClass,'"></i></div>'):"")+"</div></div>"},SpinnerTemplate:function(R){return'<div class="op-spinner-container"><div class="op-spinner"></div></div>'},ContextPanelTemplate:function(R){return'<div class="op-context-panel animated fadeIn"><div class="op-context-item" tabindex="1">'+'<span class="op-context-item-text">'.concat(R.context," ").concat(o,"</span>")+"</div></div>"},CaptionViewerTemplate:function(R){return'<div class="op-caption-viewer">    <div class="op-caption-text-container">        <pre class="op-caption-text"></pre>      </div></div>'},ControlsTemplate:function(R,x){return'<div class="op-controls-container op-clear"><div class="op-bottom-panel op-clear"><div class="op-gradient-bottom op-clear"></div><div class="op-controls op-clear"><div class="op-left-controls op-clear"></div><div class="op-right-controls op-clear">'+'<div class="playlist-holder op-navigators op-clear">'.concat(x?'<button class="op-button op-playlist-button"><i class="op-con op-playlist-icon"></i></button>':"","</div>")+'<div class="setting-holder op-navigators op-clear"></div><div class="fullscreen-holder op-navigators op-clear"></div></div></div><div class="op-progressbar-container op-clear"></div></div></div>'},VolumeButtonTemplate:function(R){return'<div class="op-navigators op-volume-controller"><button class="op-button op-volume-button"><i class="op-con op-volume-max"></i><i class="op-con op-volume-small"></i><i class="op-con op-volume-mute"></i></button><div class="op-volume-slider-container"><div class="op-volume-silder"><div class="op-volume-slider-bg"></div><div class="op-volume-slider-value"></div><div class="op-volume-slider-handle"></div></div></div></div>'},ProgressBarTemplate:function(R){return'<div class="op-progressbar" tabindex="0"><div class="op-progressbar-padding"></div><div class="op-progress-list"><div class="op-load-progress"></div><div class="op-play-progress op-play-background-color"></div><div class="op-hover-progress"></div></div><div class="op-progressbar-knob-container"><div class="op-progressbar-knob op-play-background-color"></div></div><span class="op-progressbar-preview"></span><span class="op-progressbar-time">00:00</span></div>'},PlayButtonTemplate:function(R){return'<div class="op-navigators op-play-controller"><button class="op-button op-play-button" type="button"><i class="op-con op-play"></i><i class="op-con op-pause" style="display: none;"></i><i class="op-con op-replay" style="display: none;"></i></button><button class="op-button op-seek-button op-seek-button-back" type="button"><i class="op-con op-seek-back"></i><span class="op-seek-back-text">10</span></button><button class="op-button op-seek-button op-seek-button-forward" type="button"><i class="op-con op-seek-forward"></i><span class="op-seek-forward-text">10</span></button></div>'},SettingButtonTemplate:function(R){return'<button class="op-button op-setting-button"><i class="op-con op-setting"></i></button>'},FrameButtonsTemplate:function(R){return'<div class="op-frame-buttons"><button class="op-button op-frame-button" op-data-value="-5"><div class="frame-icon"><span class="btn-text">-5f</span></div></button><button class="op-button op-frame-button" op-data-value="-1"><div class="frame-icon"><span class="btn-text">-1f</span></div></button><button class="op-button op-frame-button" op-data-value="+1"><div class="frame-icon reverse"><span class="btn-text">+1f</span></div></button><button class="op-button op-frame-button" op-data-value="+5"><div class="frame-icon reverse"><span class="btn-text">+5f</span></div></button></div>'},TimeDisplayTemplate:function(R,x){return'<div class="op-navigators op-time-display">'+(x.duration===1/0?'<span class="op-live-badge" disabled="disabled">'+(x.type==="webrtc"?x.isP2P?'<span class="op-live-badge-lowlatency">'.concat(R.controls.low_latency_p2p,"</span>"):'<span class="op-live-badge-lowlatency">'.concat(R.controls.low_latency_live,"</span>"):'<span class="op-live-text" title="Skip ahead to live.">'.concat(R.controls.live,"</span>"))+"</span>":'<span class="op-time-current">00:00</span><span class="op-time-separator"> / </span><span class="op-time-duration">00:00</span>')+"</div>"},FullScreenButtonTemplate:function(R){return'<button class="op-button op-fullscreen-button"><i class="op-con op-fullscreen-expand"></i><i class="op-con op-fullscreen-compress"></i></button>'},PanelsTemplate:hs,SpeedPanelTemplate:hs,ZoomPanelTemplate:hs,SourcePanelTemplate:hs,QualityPanelTemplate:hs,AudioTrackPanelTemplate:hs,SubtitleTrackPanelTemplate:hs,CaptionPanelTemplate:hs,TimeDisplayPanelTemplate:hs,PlaylistPanelTemplate:function(R,x){return'<div class="op-playlist" tabindex="0">'+'<div class="op-playlist-header">'.concat(R.playlist,' <i class="op-con op-close-icon btn-close"></i></div>')+'<div class="op-playlist-body"><div class="op-playlist-body-container"><div class="op-playlist-body-center"><div class="op-playlist-body-row"></div></div></div><div class="op-playlist-body-arrows"><i class="op-con op-arrow-left btn-left"></i><i class="op-con op-arrow-right btn-right"></i></div></div></div>'}},ir=function(R,x,D,k,P,V,z,at){var rt,it=f().isElement(R)?xt(R):R,bt={},lt=null,ct={};ct.data=k;var ht=function(ut){var st=document.createElement("div");return st.innerHTML=ut,rt=xt(st.firstChild),st.firstChild};return D&&D.systemText&&(lt=D.systemText.ui),at?it.replace(ht(hl[x+"Template"](lt,k))):it.append(ht(hl[x+"Template"](lt,k))),V&&V(rt,ct),Object.keys(P).forEach((function(ut){var st=ut.split(" "),gt=st[0].replace(/ /gi,""),ft=st[1].replace(/ /gi,""),mt="";if(mt=ft==="document"||ft==="window"||ft==="body"?xt(ft):rt.find(ft)||(rt.hasClass(ft.replace(".",""))?rt:null),!(gt&&ft&&mt))return!1;var vt=Object.keys(bt).length++,At=function(ue){return P[ut](ue,rt,ct)};bt[vt]={name:gt,target:ft,callback:At};var Nt=null;gt.indexOf("touch")>-1&&(Nt={passive:!0});var Zt=mt.get().length;if(Zt>1)for(var me=mt.get(),Wt=0;Wt<Zt;Wt++)me[Wt].addEventListener(gt,At,Nt);else mt.get().addEventListener(gt,At,Nt)})),ct.destroy=function(){Object.keys(bt).forEach((function(ut){var st=bt[ut],gt="",ft=(gt=st.target==="document"||st.target==="window"||st.target==="body"?xt(st.target):rt.find(st.target)||(rt.hasClass(st.target.replace(".",""))?rt:null)).get().length;if(ft>1)for(var mt=gt.get(),vt=0;vt<ft;vt++)mt[vt].removeEventListener(st.name,st.callback);else gt.get().removeEventListener(st.name,st.callback);delete bt[ut]})),rt&&(at?(rt.removeChild(),rt.removeAttribute("class")):rt.remove()),z&&z(ct)},ct},ha=function(R,x,D,k,P,V,z,at){var rt="",it={message:D,description:k,iconClass:V,dontClose:at},bt={"click .op-message-text":function(lt,ct,ht){lt.stopPropagation(),at||(rt&&clearTimeout(rt),z&&z(),ht.destroy())},"click .op-con":function(lt,ct,ht){lt.preventDefault(),at||(rt&&clearTimeout(rt),z&&z(),ht.destroy())}};return ir(R,"MessageBox",x.getConfig(),it,bt,(function(lt,ct){P&&(rt=setTimeout((function(){ct.destroy()}),P||5e3))}),(function(){}))},ef=function(R,x){var D,k,P=!1,V="",z="",at="",rt=null,it=x.getConfig().image||x.getConfig().title,bt=x.getConfig().waterMark&&x.getConfig().waterMark.image||x.getConfig().waterMark&&x.getConfig().waterMark.text,lt=!1;return ir(R,"Helpers",x.getConfig(),null,{},(function(ct,ht){var ut=!1,st=-1;function gt(mt){x.getConfig().showBigPlayButton&&(x.getState()!==qe&&x.getState()!==Ke||(z&&z.destroy(),V&&V.destroy(),V=(function(vt,At,Nt){var Zt={"click .op-bigbutton-container":function(me){me.preventDefault(),me.stopPropagation();var Wt=At.getState(),ue=At.getPlaylist(),de=At.getCurrentPlaylist();Wt===qe||Wt===Dn?At.play():Wt===ee?At.setCurrentSource(At.getCurrentSource()):Wt===Ke&&ue.length===de+1&&(At.seek(0),At.play())}};return ir(vt,"BigButton",At.getConfig(),Nt,Zt,(function(me,Wt,ue){}),(function(){}))})(ct,x,mt)))}function ft(){var mt=x.getMediaElement();mt&&(mt.poster=""),x.getConfig().image&&(mt.poster=x.getConfig().image),D&&D.destroy(),D=(function(vt,At,Nt){return ir(vt,"Thumbnail",At.getConfig(),Nt,{},(function(Zt,me){}),(function(){}))})(ct,x,x.getConfig())}at=(function(mt,vt){var At="";return Object.assign(ir(mt,"Spinner",vt.getConfig(),null,{},(function(Nt,Zt){At=Nt}),(function(){})),{show:function(Nt){Nt?At.show():At.hide()}})})(ct,x),(function(mt,vt,At){xt(vt.getContainerElement()),ir(mt,"CaptionViewer",vt.getConfig(),At,{},(function(Nt,Zt,me){var Wt=!1,ue=0;vt.on(nr,(function(de){de>-1?Wt=!1:(Wt=!0,Nt.find(".op-caption-text").text(""))}),me),vt.on(Yr,(function(de){if(!Wt&&de&&de.text){var Gt=de.endTime-de.startTime;ue&&clearTimeout(ue),Nt.find(".op-caption-text").html(de.text),Gt&&(ue=setTimeout((function(){Nt.find(".op-caption-text").text("")}),1e3*Gt))}}),me)}),(function(Nt){mt.find(".op-caption-text").text(""),vt.off(nr,null,Nt),vt.off(Yr,null,Nt)}))})(ct,x),x.on(hn,(function(){it&&ft(),bt&&(k&&k.destroy(),k=(function(mt,vt,At){var Nt=null,Zt=null;return ir(mt,"WaterMark",vt.getConfig(),At,{},(function(me,Wt){Nt=me.find(".op-watermark"),Zt=me.find(".op-watermark-text");var ue=vt.getConfig().waterMark,de=ue.position||"top-right",Gt=ue.y||"5%",zt=ue.x||"2.8125%";Nt.css(de.split("-")[0],Gt),Nt.css(de.split("-")[1],zt);var oe=ue.width||"auto",he=ue.height||"auto";Nt.css("width",oe),Nt.css("height",he);var Se=ue.opacity||.7;Nt.css("opacity",Se),ue.text&&ue.font&&f().each(ue.font,(function(Ee,Bt){Zt.css(Bt,Ee)}))}),(function(){}))})(ct,x,x.getConfig())),P||(gt(Dn),P=!0)}),ht),x.on(sn,(function(mt){mt.message&&(V&&V.destroy(),z&&z.destroy(),rt=ha(ct,x,mt.message,null,mt.timer,mt.iconClass,mt.onClickCallback,!1),x.once(li,(function(vt){!vt.mute&&rt&&rt.destroy()}),ht))}),ht),x.on(pn,(function(mt){mt&&mt.newstate&&(mt.newstate===qe&&z&&z.destroy(),mt.newstate===an||mt.newstate===It?(lt=!1,z&&z.destroy(),V&&V.destroy(),D&&D.destroy(),ut||at.show(!1)):mt.newstate===Ke?(at.show(!1),gt(mt.newstate)):mt.newstate===ge||mt.newstate==="adLoading"?(lt=!1,z&&z.destroy(),V&&V.destroy(),at.show(!0)):ut||at.show(!1))}),ht),x.on(wr,(function(){it&&ft()})),x.on(Br,(function(mt){if(mt.currentQuality<0)return!1;mt.isAuto?(ut=!1,at.show(!1)):mt.type==="request"?(st=mt.currentQuality,ut=!0,at.show(!0)):mt.type==="render"&&st===mt.currentQuality&&(ut=!1,at.show(!1))}),ht),x.on(Xe,(function(mt){if(mt.code===510&&(lt=!0),mt.code===101&&x.getPlaylist().length===0&&(lt=!0),!lt){var vt="",At="";V&&V.destroy(),mt&&mt.code&&mt.code>=100&&mt.code<1e3?(vt=mt.message,mt.code===100&&(At=mt.error.toString())):vt="Can not play due to unknown reasons.",OvenPlayerConsole.log("error occured : ",mt),(function(Nt,Zt,me,Wt){V&&V.destroy(),z&&z.destroy(),z=ha(ct,x,Nt,Zt,null,Wt,null,!0)})(vt,At,0,"op-warning code-"+mt.code)}}),ht),x.on(Fe,(function(mt){var vt="Because the network connection is unstable, the following media source will be played.";x.getCurrentSource()+1===x.getQualityLevels().length&&(vt="Network connection is unstable. Check the network connection."),OvenPlayerConsole.log(vt)}),ht),x.on(ye,(function(){it&&ft()}),ht)}),(function(ct){x.off(hn,null,ct),x.off(pn,null,ct),x.off(sn,null,ct),x.off(Xe,null,ct),x.off(Fe,null,ct),x.off(ye,null,ct),x.off(Me,null,ct)}))},wi=[],Li=function(){var R={},x=function(){for(var D=0;D<wi.length;D++)wi[D].data.setFront(!1);wi.length&&wi[wi.length-1].data.setFront(!0)};return R.clear=function(){f().each(wi,(function(D){D.destroy()})),wi=[],x()},R.removeLastItem=function(){wi.pop().destroy(),x()},R.add=function(D){wi.push(D),x()},R.size=function(){return wi.length},R},to={speed:"Speed",speedUnit:"x",source:"Source",quality:"Quality",audioTrack:"Audio",caption:"Caption",display:"Display",zoom:"Zoom",subtitleTrack:"Subtitle"},Al=function(R,x,D){var k=xt(x.getContainerElement()),P=Li(),V=x.getConfig();function z(rt,it){var bt={id:"panel-"+new Date().getTime(),title:"",body:[],useCheck:!0,panelType:it,height:k.height()-k.find(".op-bottom-panel").height()};if(bt.title=to[it],it==="speed")for(var lt=rt.getConfig().playbackRates,ct=rt.getPlaybackRate(),ht=0;ht<lt.length;ht++){var ut={title:lt[ht]+to.speedUnit,isCheck:ct===lt[ht],value:lt[ht],description:lt[ht],panelType:it};bt.body.push(ut)}else if(it==="zoom"){var st={title:"+5%",isCheck:!1,value:.05,description:.05,panelType:it},gt={title:"100%",isCheck:!1,value:0,description:1,panelType:it},ft={title:"-5%",isCheck:!1,value:-.05,description:-.05,panelType:it};bt.body.push(st),bt.body.push(gt),bt.body.push(ft)}else if(it==="source")for(var mt=rt.getSources(),vt=0;vt<mt.length;vt++){var At={title:mt[vt].label,isCheck:rt.getCurrentSource()===vt,value:vt,panelType:it};bt.body.push(At)}else if(it==="quality"){var Nt=rt.getQualityLevels(),Zt=rt.isAutoQuality();bt.body.push({title:V.systemText.ui.quality.auto,isCheck:Zt,value:"AUTO",panelType:it});for(var me=0;me<Nt.length;me++){var Wt={title:Nt[me].label,isCheck:!Zt&&rt.getCurrentQuality()===me,value:me,panelType:it};bt.body.push(Wt)}}else if(it==="audioTrack")for(var ue=rt.getAudioTracks(),de=0;de<ue.length;de++){var Gt={title:ue[de].label,isCheck:ue[de].index===rt.getCurrentAudioTrack(),value:ue[de].index,panelType:it};bt.body.push(Gt)}else if(it==="subtitleTrack"){var zt=rt.getSubtitleTracks();bt.body.push({title:"Off",isCheck:rt.getCurrentSubtitleTrack()===-1,value:-1,panelType:it});for(var oe=0;oe<zt.length;oe++){var he={title:zt[oe].label,isCheck:zt[oe].index===rt.getCurrentSubtitleTrack(),value:zt[oe].index,panelType:it};bt.body.push(he)}}else if(it==="caption"){var Se=rt.getCaptionList();bt.body.push({title:"Off",isCheck:rt.getCurrentCaption()===-1,value:-1,panelType:it});for(var Ee=0;Ee<Se.length;Ee++){var Bt={title:Se[Ee].label,isCheck:rt.getCurrentCaption()===Ee,value:Ee,panelType:it};bt.body.push(Bt)}}else if(it==="display")for(var Ft=["Play time","Framecode"],Ae=0;Ae<Ft.length;Ae++){var Ce={title:Ft[Ae],isCheck:rt.isTimecodeMode()?Ft[Ae]==="Play time":Ft[Ae]==="Framecode",value:Ft[Ae],panelType:it};bt.body.push(Ce)}return bt}V&&V.systemText&&Object.keys(to).forEach((function(rt){to[rt]=V.systemText.ui.setting[rt]})),D.setFront=function(rt){rt?k.find("#"+D.id).removeClass("background"):k.find("#"+D.id).addClass("background")};var at={"click .op-setting-item":function(rt,it,bt){if(rt.preventDefault(),k.find("#"+D.id).hasClass("background"))return!1;var lt=xt(rt.currentTarget).attr("op-panel-type"),ct=null;lt==="speed"?ct=(function(ht,ut,st){var gt=xt(ut.getContainerElement()),ft=Li();st.setFront=function(vt){vt?gt.find("#"+st.id).removeClass("background"):gt.find("#"+st.id).addClass("background")};var mt={"click .op-setting-item":function(vt,At,Nt){vt.preventDefault();var Zt=xt(vt.currentTarget).attr("op-data-value");ut.setPlaybackRate(parseFloat(Zt)),ft.clear()},"click .op-setting-title":function(vt,At,Nt){vt.preventDefault(),ft.removeLastItem()}};return ir(ht,"SpeedPanel",ut.getConfig(),st,mt,(function(vt,At){}),(function(vt){}))})(R,x,z(x,lt)):lt==="zoom"?ct=(function(ht,ut,st){var gt=xt(ut.getContainerElement()),ft=gt.find(".op-media-element-container"),mt=Li();st.setFront=function(At){At?gt.find("#"+st.id).removeClass("background"):gt.find("#"+st.id).addClass("background")};var vt={"click .op-setting-item":function(At,Nt,Zt){At.preventDefault();var me=xt(At.currentTarget).attr("op-data-value"),Wt=ut.getZoomFactor();(Wt=me==0?1:parseFloat(Wt)+parseFloat(me))<=0&&(Wt=0),ft.get().style.setProperty("--mediaZoom",ut.setZoomFactor(parseFloat(Wt).toFixed(2)))},"click .op-setting-title":function(At,Nt,Zt){At.preventDefault(),mt.removeLastItem()}};return ir(ht,"ZoomPanel",ut.getConfig(),st,vt,(function(At,Nt){}),(function(At){}))})(R,x,z(x,lt)):lt==="source"?ct=(function(ht,ut,st){var gt=xt(ut.getContainerElement()),ft=Li();st.setFront=function(vt){vt?gt.find("#"+st.id).removeClass("background"):gt.find("#"+st.id).addClass("background")};var mt={"click .op-setting-item":function(vt,At,Nt){vt.preventDefault();var Zt=xt(vt.currentTarget).attr("op-data-value");ut.setCurrentSource(parseInt(Zt)),ft.clear()},"click .op-setting-title":function(vt,At,Nt){vt.preventDefault(),ft.removeLastItem()}};return ir(ht,"SourcePanel",ut.getConfig(),st,mt,(function(vt,At){}),(function(vt){}))})(R,x,z(x,lt)):lt==="quality"?ct=(function(ht,ut,st){var gt=xt(ut.getContainerElement()),ft=Li();st.setFront=function(vt){vt?gt.find("#"+st.id).removeClass("background"):gt.find("#"+st.id).addClass("background")};var mt={"click .op-setting-item":function(vt,At,Nt){vt.preventDefault();var Zt=xt(vt.currentTarget).attr("op-data-value");Zt==="AUTO"?ut.setAutoQuality(!ut.isAutoQuality()):ut.setCurrentQuality(parseInt(Zt)),ft.clear()},"click .op-setting-title":function(vt,At,Nt){vt.preventDefault(),ft.removeLastItem()}};return ir(ht,"QualityPanel",ut.getConfig(),st,mt,(function(vt,At){ut.on(Br,(function(Nt){var Zt=Nt.currentQuality;Nt.type==="render"&&f().forEach(gt.find("#"+At.data.id).find(".op-setting-item").get(),(function(me){var Wt=xt(me);Wt.find(".op-setting-item-checked").hasClass("op-show")&&Wt.find(".op-setting-item-checked").removeClass("op-show"),Nt.isAuto||Zt!==parseInt(Wt.attr("op-data-value"))||Wt.find(".op-setting-item-checked").addClass("op-show"),Nt.isAuto&&Wt.attr("op-data-value")==="AUTO"&&Wt.find(".op-setting-item-checked").addClass("op-show")}))}),At)}),(function(vt){ut.off(Br,null,vt)}))})(R,x,z(x,lt)):lt==="audioTrack"?ct=(function(ht,ut,st){var gt=xt(ut.getContainerElement()),ft=Li();st.setFront=function(vt){vt?gt.find("#"+st.id).removeClass("background"):gt.find("#"+st.id).addClass("background")};var mt={"click .op-setting-item":function(vt,At,Nt){vt.preventDefault();var Zt=xt(vt.currentTarget).attr("op-data-value");ut.setCurrentAudioTrack(parseInt(Zt)),ft.clear()},"click .op-setting-title":function(vt,At,Nt){vt.preventDefault(),ft.removeLastItem()}};return ir(ht,"AudioTrackPanel",ut.getConfig(),st,mt,(function(vt,At){ut.on(Di,(function(Nt){f().forEach(gt.find("#"+At.data.id).find(".op-setting-item").get(),(function(Zt){var me=xt(Zt);me.find(".op-setting-item-checked").hasClass("op-show")&&me.find(".op-setting-item-checked").removeClass("op-show"),Nt.currentAudioTrack===parseInt(me.attr("op-data-value"))&&me.find(".op-setting-item-checked").addClass("op-show")}))}),At)}),(function(vt){ut.off(Di,null,vt)}))})(R,x,z(x,lt)):lt==="subtitleTrack"?ct=(function(ht,ut,st){var gt=xt(ut.getContainerElement()),ft=Li();st.setFront=function(vt){vt?gt.find("#"+st.id).removeClass("background"):gt.find("#"+st.id).addClass("background")};var mt={"click .op-setting-item":function(vt,At,Nt){vt.preventDefault();var Zt=xt(vt.currentTarget).attr("op-data-value");ut.setCurrentSubtitleTrack(parseInt(Zt)),ft.clear()},"click .op-setting-title":function(vt,At,Nt){vt.preventDefault(),ft.removeLastItem()}};return ir(ht,"SubtitleTrackPanel",ut.getConfig(),st,mt,(function(vt,At){ut.on(Ht,(function(Nt){f().forEach(gt.find("#"+At.data.id).find(".op-setting-item").get(),(function(Zt){var me=xt(Zt);me.find(".op-setting-item-checked").hasClass("op-show")&&me.find(".op-setting-item-checked").removeClass("op-show"),Nt.currentSubtitleTrack===parseInt(me.attr("op-data-value"))&&me.find(".op-setting-item-checked").addClass("op-show")}))}),At)}),(function(vt){ut.off(Ht,null,vt)}))})(R,x,z(x,lt)):lt==="caption"?ct=(function(ht,ut,st){var gt=xt(ut.getContainerElement()),ft=Li();st.setFront=function(vt){vt?gt.find("#"+st.id).removeClass("background"):gt.find("#"+st.id).addClass("background")};var mt={"click .op-setting-item":function(vt,At,Nt){vt.preventDefault();var Zt=xt(vt.currentTarget).attr("op-data-value");ut.setCurrentCaption(parseFloat(Zt)),ft.clear()},"click .op-setting-title":function(vt,At,Nt){vt.preventDefault(),ft.removeLastItem()}};return ir(ht,"CaptionPanel",ut.getConfig(),st,mt,(function(vt,At){}),(function(vt){}))})(R,x,z(x,lt)):lt==="display"&&(ct=(function(ht,ut,st){var gt=xt(ut.getContainerElement()),ft=Li();st.setFront=function(vt){vt?gt.find("#"+st.id).removeClass("background"):gt.find("#"+st.id).addClass("background")};var mt={"click .op-setting-item":function(vt,At,Nt){vt.preventDefault();var Zt=xt(vt.currentTarget).attr("op-data-value");ut.setTimecodeMode(Zt==="Play time"),ft.clear()},"click .op-setting-title":function(vt,At,Nt){vt.preventDefault(),ft.removeLastItem()}};return ir(ht,"TimeDisplayPanel",ut.getConfig(),st,mt,(function(vt,At){}),(function(vt){}))})(R,x,z(x,lt))),P.add(ct)},"click .op-setting-title":function(rt,it,bt){if(rt.preventDefault(),k.find("#"+D.id).hasClass("background"))return!1;P.removeLastItem()}};return ir(R,"Panels",x.getConfig(),D,at,(function(rt,it){k.find(".op-setting-panel")&&k.find(".op-setting-panel").css("max-height",k.height()-k.find(".op-bottom-panel").height()+"px"),x.on(Br,(function(bt){var lt=bt.currentQuality;bt.type==="render"&&k.find("#"+it.data.id).find(".op-setting-item")&&f().forEach(k.find("#"+it.data.id).find(".op-setting-item").get()||[],(function(ct){var ht=xt(ct);if(ht.attr("op-panel-type")==="quality"){var ut=x.getQualityLevels()[lt];ht.find(".op-setting-item-value").text(ut.width+"x"+ut.height+", "+Lo(ut.bitrate,!0,"bps"))}}))}),it),x.on(Di,(function(bt){f().forEach(k.find("#"+it.data.id).find(".op-setting-item").get()||[],(function(lt){var ct=xt(lt);ct.attr("op-panel-type")==="audioTrack"&&ct.find(".op-setting-item-value").text(x.getAudioTracks()[bt.currentAudioTrack].label)}))}),it),x.on(Ht,(function(bt){f().forEach(k.find("#"+it.data.id).find(".op-setting-item").get()||[],(function(lt){var ct=xt(lt);ct.attr("op-panel-type")==="subtitleTrack"&&(bt.currentSubtitleTrack===-1?ct.find(".op-setting-item-value").text("Off"):ct.find(".op-setting-item-value").text(x.getSubtitleTracks()[bt.currentSubtitleTrack].label))}))}),it),x.on(Tn,(function(bt){f().forEach(k.find("#"+it.data.id).find(".op-setting-item").get()||[],(function(lt){var ct=xt(lt);ct.attr("op-panel-type")==="zoom"&&ct.find(".op-setting-item-value").text(Math.round(100*bt.zoomFactor)+"%")}))}),it)}),(function(rt){x.off(Br,null,rt),x.off(Di,null,rt),x.off(Ht,null,rt),x.off(Tn,null,rt)}))},bi={speed:"Speed",speedUnit:"x",source:"Source",quality:"Quality",audioTrack:"Audio",caption:"Caption",display:"Display",zoom:"Zoom",subtitleTrack:"Subtitle"},Ro=function(R,x){var D,k="",P="",V="",z="",at="",rt="",it=!1,bt=!1,lt=!1,ct=x.getConfig().browser,ht=ct.os==="Android",ut=ct.os==="iOS",st=xt(x.getContainerElement()),gt={};it=x.getPlaylist().length>1,x.getConfig().hidePlaylistIcon===!0&&(it=!1),x.getConfig().legacyUI===!0&&(it=!0);var ft={"mouseleave .op-controls":function(mt,vt,At){mt.preventDefault(),k.setMouseDown(!1),vt.find(".op-volume-slider-container").removeClass("active")},"click .op-playlist-button":function(mt,vt,At){mt.preventDefault(),(function(Nt,Zt){var me=xt(Zt.getContainerElement()),Wt="",ue=Zt.getPlaylist(),de=ue.length,Gt=6,zt=0,oe=[];function he(Bt){var Ft,Ae,Ce=Math.ceil(de/Gt),Ge=Zt.getCurrentPlaylist();oe=ue.slice(Bt*Gt,Bt*Gt+Gt),Wt.find(".op-playlist-body-row").removeChild(),Wt.find(".op-arrow-left").removeClass("disable"),Wt.find(".op-arrow-right").removeClass("disable");for(var be=0;be<oe.length;be++){var Ye=Bt*Gt+be;oe[be].index=Ye,Wt.find(".op-playlist-body-row").get().append((Ft=du(oe[be],Ge===Ye),Ae=void 0,(Ae=document.createElement("div")).innerHTML=Ft,Ae.firstChild))}Bt===0&&Wt.find(".op-arrow-left").addClass("disable"),Bt+1===Ce&&Wt.find(".op-arrow-right").addClass("disable")}function Se(){var Bt=Zt.getCurrentPlaylist();return Math.ceil((Bt+1)/Gt)-1}me.width()>576?Gt=6:me.width()<=576&&(Gt=1);var Ee={"click .btn-close":function(Bt,Ft,Ae){Bt.preventDefault(),Ae.destroy()},"click .op-arrow-left":function(Bt,Ft,Ae){Bt.preventDefault(),xt(Bt.target).hasClass("disable")||he(--zt)},"click .op-arrow-right":function(Bt,Ft,Ae){Bt.preventDefault(),xt(Bt.target).hasClass("disable")||he(++zt)}};ir(Nt,"PlaylistPanel",Zt.getConfig(),ue,Ee,(function(Bt,Ft){Wt=Bt,he(zt=Se()),Zt.on(Pe,(function(Ae){Ae==="xsmall"&&Gt===6?(Gt=1,he(zt=Se())):Ae!=="small"&&Ae!=="medium"&&Ae!=="large"||Gt!==1||(Gt=6,he(zt=Se()))}),Ft),Zt.on(Me,(function(Ae){he(zt=Se())}),Ft),Bt.get().addEventListener("click",(function(Ae){for(var Ce=Ae.target;Ce;){if(xt(Ce).hasClass("op-playlist-card"))return void Zt.setCurrentPlaylist(parseInt(xt(Ce).attr("data-index")));Ce=Ce.parentElement}}),!0)}),(function(Bt){Zt.off(Pe,null,Bt),Zt.off(Me,null,Bt)}))})(vt,x)}};return ir(R,"Controls",x.getConfig(),it,ft,(function(mt,vt){function At(Gt,zt){z&&z.destroy(),z=(function(oe,he,Se,Ee){var Bt=xt(he.getContainerElement());he.getConfig().disableSeekUI&&oe.addClass("op-progressbar-container-disabled");var Ft=0,Ae=!1,Ce=!1,Ge=Li(),be="",Ye=0,Qe=null,De="",mn="",_e="",He="",gn="",Ln="",kn=0,Wn="",ln="",fn=he.getBrowser().mobile,bn=he.getMediaElement(),Ze=!1,Oe=!1;function Bn(We){We<0&&(We=0),We>1&&(We=1);var Mn=De.width(),yn=Mn*We;_e.css("width",yn+"px"),He.css("left",yn+"px");var tr=(Mn-kn)*We;gn.css("left",tr+"px"),Ft=yn}function _r(We){var Mn=De.width()*We;He.css("width",(We===0?We:Mn-Ft)+"px")}function Jr(We){var Mn=De.width(),yn=De.offset().left,tr=We.pageX;We.touches&&(tr=We.pageX||We.touches[0].clientX);var lr=(tr-yn)/Mn;return lr<0?0:lr>1?1:lr}function As(We,Mn){if(Ge.size()>0||We<0)return Wn.hide(),void ln.hide();Wn.show(),ln.show();var yn,tr=gs(We);yn=tr.second;var lr=Wn.width(),Ei=De.width(),ps=Ei*We,ro=Mn.pageX-De.offset().left;Mn.touches&&(ro=(Mn.pageX||Mn.touches[0].clientX)-De.offset().left);var Do=function(vs){return ro<vs/2?0:Ei-ro<vs/2?Ei-vs:ps-vs/2},io=Do(lr);if(Wn.css("left",io+"px"),he.getSources()[he.getCurrentSource()].gridThumbnail){var ko=he.getConfig().gridThumbnail.thumbnailInterval,ts=he.getConfig().gridThumbnail.originalThumbnailWidth,Vr=he.getConfig().gridThumbnail.originalThumbnailHeight,ms=he.getConfig().gridThumbnail.columnCount,so=he.getConfig().gridThumbnail.rowCount,$s=he.getConfig().gridThumbnail.resizeScale;ln.css("width",ts*$s+"px"),ln.css("height",Vr*$s+"px"),ln.css("background-size",ts*$s*ms+"px "+Vr*$s*so+"px");var Bo=Math.floor(yn/ko),yu=Math.floor(Bo/(ms*so)),Nr=Math.floor(Bo%(ms*so)/ms),Oo=Bo%(ms*so)%ms,ao=-1*Oo*ts*$s,oo=-1*Nr*Vr*$s;OvenPlayerConsole.log("Grid Thumbnail:",Bo+": "+yu+"("+Nr+", "+Oo+")");var lo=he.getSources()[he.getCurrentSource()].gridThumbnail[yu];be!==lo&&(ln.css("background-image","url("+lo+")"),be=lo),ln.css("background-position","left "+ao+"px top "+oo+"px");var pa=Do(ts*$s);ln.css("left",pa+"px")}else ln.hide()}function Ys(We){var Mn=(Ye||0)*We;if(Ze)if(Oe){var yn=Ui(bn),tr=yn.end-yn.start;Mn=yn.start+tr*We}else{var lr=he.getDvrWindow();Mn=Ye-lr+lr*We}var Ei=he.getSources()[he.getCurrentSource()].sectionStart;Ei&&Ei>0&&(Mn+=Ei),he.seek(Mn)}function gs(We){var Mn=0,yn=0;if(Ze&&!Oe)yn=(Mn=he.getDvrWindow())*(1-We),he.isTimecodeMode()?Wn.text("- "+m(yn)):Wn.text("- "+Math.round(yn*he.getFramerate()));else if(Ze&&Oe){var tr=Ui(bn);yn=(Mn=tr.end-tr.start)*(1-We),he.isTimecodeMode()?Wn.text("- "+m(yn)):Wn.text("- "+Math.round(yn*he.getFramerate()))}else yn=(Mn=he.getDuration())*We,he.isTimecodeMode()?Wn.text(m(yn)):Wn.text(Math.round(yn*he.getFramerate()));return{duration:Mn,second:yn}}Ee&&Ee.type===Te&&Ee.duration===1/0&&(Ze=!0,he.getProviderName()===Ue&&(Oe=!0));var ga={"touchstart .op-progressbar":function(We){if(Se)return!1;Ce=!0;var Mn=Jr(We);if(Mn<0)return!1;Bn(Mn),_r(0),Ys(Mn)},"touchmove .op-progressbar":function(We){if(Ce){var Mn=Jr(We);if(Mn<0)return!1;Bn(Mn),_r(0),Ys(Mn),Qe=We,As(Mn,We)}},"touchend .op-progressbar":function(We){Ce&&(Ce=!1),Bt.removeClass("op-progressbar-hover"),Wn.hide(),ln.hide()},"mouseenter .op-progressbar":function(We,Mn,yn){We.preventDefault(),fn||(Se||(Ae=!0,Wn.show()),Bt.addClass("op-progressbar-hover"))},"mouseleave .op-progressbar":function(We,Mn,yn){We.preventDefault(),Ce=!1,(Ae=!1)||(Bt.removeClass("op-progressbar-hover"),Wn.hide(),ln.hide()),_r(0)},"mousedown .op-progressbar":function(We,Mn,yn){if(We.preventDefault(),Se||fn)return!1;Ce=!0;var tr=Jr(We);if(tr<0||tr>1)return!1;Bn(tr),_r(0),Ys(tr)},"mousemove .op-progressbar":function(We,Mn,yn){if(We.preventDefault(),!Ce&&!Se&&!fn){var tr=Jr(We);_r(tr),Qe=We,As(tr,We)}if(Ce&&!fn){var lr=Jr(We);if(lr<0)return!1;Bn(lr),_r(0),Ys(lr),Qe=We,As(lr,We)}},"mouseup .op-progressbar":function(We,Mn,yn){We.preventDefault(),Ce&&!fn&&(Ce=!1,Bt.removeClass("op-progressbar-hover"))}};return he.getConfig().disableSeekUI&&(ga={}),ir(oe,"ProgressBar",he.getConfig(),null,ga,(function(We,Mn){De=We,mn=We.find(".op-load-progress"),_e=We.find(".op-play-progress"),He=We.find(".op-hover-progress"),gn=We.find(".op-progressbar-knob-container"),Ln=We.find(".op-progressbar-knob"),kn=Ln.width(),Wn=We.find(".op-progressbar-time"),ln=We.find(".op-progressbar-preview"),Ln.hide(),Se?he.on(or,(function(yn){yn&&yn.duration&&typeof yn.position=="number"&&(Bn(yn.position/yn.duration),yn.duration)}),Mn):(he.on(ur,(function(yn){if(yn&&yn.duration&&typeof yn.position=="number"){Ln.show(),Ye=yn.duration;var tr=yn.position/yn.duration;if(Ze)if(Oe){var lr=Ui(bn);tr=(yn.position-lr.start)/(lr.end-lr.start)}else Ae&&Qe&&gs(Jr(Qe)),tr=(he.getDvrWindow()-(yn.duration-yn.position))/he.getDvrWindow();Bn(tr)}}),Mn),he.on(Qr,(function(yn){var tr,lr;yn&&yn.bufferPercent&&(tr=yn.bufferPercent/100,lr=De.width()*tr,mn.css("width",lr+"px"))}),Mn))}),(function(We){Se?he.off(or,null,We):(he.off(ur,null,We),he.off(Qr,null,We))}))})(mt.find(".op-progressbar-container"),x,Gt,zt)}function Nt(){V&&V.destroy(),V=(function(Gt,zt){var oe=Li(),he={"click .op-setting-button":function(Se,Ee,Bt){Se.preventDefault();var Ft=Ee.closest(".op-controls-container");if(oe.size()>0)oe.clear();else{var Ae=(function(Ce){var Ge={id:"panel-"+new Date().getTime(),title:"Settings",body:[],isRoot:!0,panelType:""},be=Ce.getConfig();be&&be.systemText&&(Object.keys(bi).forEach((function(gs){bi[gs]=be.systemText.ui.setting[gs]})),Ge.title=be.systemText.ui.setting.title);var Ye=Ce.getSources(),Qe=Ye&&Ye.length>0?Ye[Ce.getCurrentSource()]:null,De=Ce.getQualityLevels(),mn=De&&De.length>0?De[Ce.getCurrentQuality()]:null,_e=Ce.getAudioTracks(),He=_e&&_e.length>0?_e[Ce.getCurrentAudioTrack()]:null,gn=Ce.getCaptionList(),Ln=Ce.getCurrentCaption(),kn=Ce.getFramerate(),Wn=be.showZoomSettings,ln=Ce.getSubtitleTracks(),fn=null;if(ln&&ln.length&&Ce.getCurrentSubtitleTrack()>-1&&(fn=ln[Ce.getCurrentSubtitleTrack()]),Qe){var bn={title:bi.speed,value:Ce.getPlaybackRate()+bi.speedUnit,description:Ce.getPlaybackRate()+bi.speedUnit,panelType:"speed",hasNext:!0};Ge.body.push(bn)}if(Ye&&Ye.length>1){var Ze={title:bi.source,value:Qe?Qe.label:"Default",description:Qe?Qe.label:"Default",panelType:"source",hasNext:!0};Ge.body.push(Ze)}if(De&&De.length>0){var Oe={title:bi.quality,value:mn?mn.label:"Default",description:mn?mn.label:"Default",panelType:"quality",hasNext:!0};Ge.body.push(Oe)}if(_e&&_e.length>0){var Bn={title:bi.audioTrack,value:He?He.label:"Default",description:He?He.label:"Default",panelType:"audioTrack",hasNext:!0};Ge.body.push(Bn)}if(ln&&ln.length>0){var _r={title:bi.subtitleTrack,value:fn?fn.label:"Off",description:fn?fn.label:"Off",panelType:"subtitleTrack",hasNext:!0};Ge.body.push(_r)}if(gn&&gn.length>0){var Jr={title:bi.caption,value:gn[Ln]?gn[Ln].label:"Off",description:gn[Ln]?gn[Ln].label:"Off",panelType:"caption",hasNext:!0};Ge.body.push(Jr)}if(kn>0){var As={title:bi.display,value:Ce.isTimecodeMode()?"Play time":"Framecode",description:Ce.isTimecodeMode()?"Play time":"Framecode",panelType:"display",hasNext:!0};Ge.body.push(As)}if(Wn){var Ys={title:bi.zoom,value:Math.round(100*Ce.getZoomFactor())+"%",description:Math.round(100*Ce.getZoomFactor())+"%",panelType:"zoom",hasNext:!0};Ge.body.push(Ys)}return Ge})(zt);oe.add(Al(Ft,zt,Ae))}}};return ir(Gt,"SettingButton",zt.getConfig(),null,he,(function(Se,Ee){}),(function(Se){}))})(mt.find(".setting-holder"),x)}function Zt(){rt||(rt=(function(Gt,zt){var oe=xt(zt.getContainerElement()),he="",Se="",Ee=!1,Bt=(zt.getConfig(),zt.getBrowser()),Ft=Bt.os==="iOS",Ae=(Bt.os,""),Ce=!1,Ge={onfullscreenchange:"fullscreenchange",onmozfullscreenchange:"mozfullscreenchange",onwebkitfullscreenchange:"webkitfullscreenchange",MSFullscreenChange:"MSFullscreenChange"};function be(){var He=!1,gn=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;return gn&&oe.get()===gn&&(He=!0),He}function Ye(){OvenPlayerConsole.log("FULLSCREEN STATE : ",be()),be()?(Ce&&document.body.classList.add("op-fullscreen-helper"),oe.addClass("op-fullscreen"),Ee=!0,he.hide(),Se.show()):(Ce&&document.body.classList.remove("op-fullscreen-helper"),oe.removeClass("op-fullscreen"),Ee=!1,he.show(),Se.hide())}function Qe(){OvenPlayerConsole.log("afterFullScreenChangedCallback () "),Ye(),zt.trigger(An,Ee)}function De(){Ee?(oe.removeClass("op-fullscreen"),document.body.classList.remove("op-fullscreen-helper"),Ee=!1,he.show(),Se.hide()):(document.body.classList.add("op-fullscreen-helper"),oe.addClass("op-fullscreen"),Ee=!0,he.hide(),Se.show()),zt.trigger(An,Ee)}function mn(){var He;!Ee||Ft&&!be()?Ft&&zt.getConfig().iOSFakeFullScreen?(Ce=!0,De()):(function(){var gn,Ln="",kn=oe.get(),Wn=oe.find("video")?oe.find("video").get():kn,ln=null;if(Ft){if(Wn.length>1)for(var fn=0;fn<Wn.length;fn++){var bn=Wn[fn].getAttribute("title");bn&&bn==="Advertisement"?ln=Wn[fn]:gn=Wn[fn]}else gn=Wn;ln&&zt.getState()===ke||zt.getState()===It||zt.getState()===ve?ln.webkitEnterFullScreen&&(Ln=ln.webkitEnterFullScreen(),Ee=!0):gn.webkitEnterFullScreen&&(Ln=gn.webkitEnterFullScreen(),Ee=!0)}else if(kn.requestFullscreen){var Ze=zt.getConfig().fullscreenOption;Ln=kn.requestFullscreen(Ze)}else kn.webkitRequestFullScreen?Ln=kn.webkitRequestFullScreen():kn.mozRequestFullScreen?Ln=kn.mozRequestFullScreen():kn.msRequestFullscreen&&(Ln=kn.msRequestFullscreen());Ln&&Ln.then((function(){Ee=!0,Ce=!1})).catch((function(Oe){Ce=!0,De()}))})():Ce?De():(He="",document.exitFullscreen?He=document.exitFullscreen():document.webkitExitFullscreen?He=document.webkitExitFullscreen():document.webkitExitFullScreen?He=document.webkitExitFullScreen():document.mozCancelFullScreen?He=document.mozCancelFullScreen():document.msExitFullscreen&&(He=document.msExitFullscreen()),He&&He.then((function(){Ee=!1})).catch((function(gn){})))}zt.toggleFullScreen=mn;var _e={"click .op-fullscreen-button":function(He,gn,Ln){He.preventDefault(),zt.trigger("fullscreenRequested",null),mn()}};return ir(Gt,"FullScreenButton",zt.getConfig(),null,_e,(function(He,gn){var Ln,kn;he=He.find(".op-fullscreen-expand"),Se=He.find(".op-fullscreen-compress"),Ye(),Ln=oe.get(),kn="",Ln.requestFullscreen?kn=Ge.onfullscreenchange:Ln.webkitRequestFullScreen?kn=Ge.onwebkitfullscreenchange:Ln.mozRequestFullScreen?kn=Ge.onmozfullscreenchange:Ln.msRequestFullscreen?kn=Ge.MSFullscreenChange:Object.keys(Ge).forEach((function(Wn){document[Wn]&&(kn=Ge[Wn])})),(Ae=kn)&&document.addEventListener(Ae,Qe,!1),zt.on($n,(function(Wn){var ln,fn=oe.find("video")?oe.find("video").get():oe.get();if(Wn.isLinear&&Ft&&Ee){if(fn.length>1)for(var bn=0;bn<fn.length;bn++){var Ze=fn[bn].getAttribute("title");Ze&&Ze==="Advertisement"?fn[bn]:ln=fn[bn]}else ln=fn;ln&&ln.webkitExitFullscreen&&(ln.webkitExitFullscreen(),Ee=!1)}}),gn)}),(function(He){Ae&&document.removeEventListener(Ae,Qe),zt.off($n,null,He)}))})(mt.find(".fullscreen-holder"),x))}function me(Gt){Gt.duration>9e15&&(Gt.duration=1/0);var zt=x.getSources()[x.getCurrentSource()].sectionStart,oe=x.getSources()[x.getCurrentSource()].sectionEnd;oe&&(Gt.duration=oe),zt&&(Gt.duration=Gt.duration-zt),(function(he){at&&at.destroy(),at=(function(Se,Ee,Bt){var Ft="",Ae="",Ce="",Ge=Ee.getMediaElement(),be=!1,Ye=!1,Qe=0;function De(_e){return m(_e)}var mn={"click .op-live-text":function(_e,He,gn){if(_e.preventDefault(),be&&!Ye){var Ln=Ee.getMseInstance().liveSyncPosition;Ee.seek(Ln)}else be&&Ye&&Ee.seek(Ui(Ge).end)}};return ir(Se,"TimeDisplay",Ee.getConfig(),Bt,mn,(function(_e,He){Qe=0;var gn=Ee.isTimecodeMode();Ft=_e.find(".op-time-current"),Ae=_e.find(".op-time-duration"),Ce=_e.find(".op-live-badge"),_e.find(".op-live-text"),Bt&&Bt.type===Te&&Bt.duration===1/0&&(be=!0,Ee.getProviderName()===Ue&&(Ye=!0)),Bt.duration!==1/0?(gn?Ae.text(De(Bt.duration)):(Ft.text(0),Ae.text(Math.round(Bt.duration*Ee.getFramerate())+" ("+Ee.getFramerate()+"fps)")),Ee.on(jn,(function(Ln){(gn=Ln)?(Ft.text(De(Qe)),Ae.text(De(Bt.duration))):(Ft.text(Math.round(Qe*Ee.getFramerate())),Ae.text(Math.round(Bt.duration*Ee.getFramerate())+" ("+Ee.getFramerate()+"fps)"))}),He),Ee.on(ur,(function(Ln){Qe=Ln.position,gn?Ft.text(De(Ln.position)):Ft.text(Math.round(Ln.position*Ee.getFramerate()))}),He)):be&&!Ye?Ee.on(ur,(function(Ln){Ee.getConfig().legacyUI||(Ee.getMseInstance().liveSyncPosition-Ln.position>Ee.getMseInstance().targetLatency?Ce.addClass("op-live-badge-delayed"):Ce.removeClass("op-live-badge-delayed"))}),He):be&&Ye&&Ce.addClass("op-live-badge-none")}),(function(_e){Ee.off(jn,null,_e),Ee.off(ur,null,_e)}))})(mt.find(".op-left-controls"),x,he)})(Gt),Zt(),x.getFramerate&&x.getFramerate(),Gt.duration===1/0?(OvenPlayerConsole.log("[[[[LIVE MODE]]]]"),Gt.type===Te?At(!1,Gt):z&&z.destroy()):At(!1),bt=!0}function Wt(){z&&z.destroy(),Nt(),Zt(),st.removeClass("linear-ad"),At(!1)}P=(function(Gt,zt){var oe="",he="",Se="",Ee="",Bt="",Ft="",Ae="",Ce={"click .op-play-button":function(Ge,be,Ye){Ge.preventDefault();var Qe=zt.getState(),De=zt.getPlaylist(),mn=zt.getCurrentPlaylist();Qe===qe?zt.play():Qe===an||Qe===It?zt.pause():Qe===ge||Qe===le?zt.stop():Qe===Dn||Qe===ve?zt.play():Qe===ee?zt.setCurrentSource(zt.getCurrentSource()):Qe===Ke&&De.length===mn+1&&(zt.seek(0),zt.play())},"click .op-seek-button-back":function(Ge,be,Ye){var Qe=zt.getConfig().seekControlInterval;Qe||(Qe=10);var De=zt.getPosition()-Qe;De<0&&(De=0),zt.seek(De)},"click .op-seek-button-forward":function(Ge,be,Ye){var Qe=zt.getConfig().seekControlInterval;Qe||(Qe=10);var De=zt.getPosition()+Qe;De>zt.getDuration()&&(De=zt.getDuration()),zt.seek(De)}};return ir(Gt,"PlayButton",zt.getConfig(),null,Ce,(function(Ge,be){oe=Ge.find(".op-play-button .op-play"),he=Ge.find(".op-play-button .op-pause"),Se=Ge.find(".op-play-button .op-replay"),Ee=Ge.find(".op-seek-button-back"),Bt=Ge.find(".op-seek-button-forward"),Ft=Ge.find(".op-seek-back-text"),Ae=Ge.find(".op-seek-forward-text"),zt.on(pn,(function(Qe){var De;Qe&&Qe.newstate&&(De=Qe.newstate,oe.hide(),he.hide(),Se.hide(),De===an||De===It||De===ge||De===le?he.show():De===Dn||De===ve?oe.show():De===Ke?Se.show():oe.show())}),be),zt.getConfig().showSeekControl||(Ee.hide(),Bt.hide());var Ye=zt.getConfig().seekControlInterval;Ye?(Ft.text(Ye),Ae.text(Ye)):(Ft.text(10),Ae.text(10))}),(function(Ge){zt.off(pn,null,Ge)}))})(mt.find(".op-left-controls"),x),k=(function(Gt,zt){var oe="",he="",Se="",Ee="",Bt="",Ft="",Ae="",Ce=!1,Ge=0,be=zt.getBrowser().os==="iOS"||zt.getBrowser().os==="Android";function Ye(_e){zt.getMute()&&(_e=0),(function(gn){Bt.hide(),Ft.hide(),Ae.hide(),gn>=70?Bt.show():gn<70&&gn>0?Ft.show():gn==0?Ae.show():Bt.show()})(_e);var He=Ge*_e/100;Se.css("left",He+"px"),Ee.css("width",He+"px")}function Qe(_e){var He=((_e.pageX||_e.touches[0].clientX)-he.offset().left)/70*100;return He<0&&(He=0),He>100&&(He=100),He}var De={"click .op-volume-button":function(_e,He,gn){_e.preventDefault(),be||(zt.getVolume()===0?(zt.setMute(!1),zt.setVolume(100)):zt.setMute())},"mouseenter .op-volume-button":function(_e,He,gn){_e.preventDefault(),be||oe.addClass("active")},"mouseleave .op-volume-silder":function(_e,He,gn){_e.preventDefault(),Ce=!1},"mousedown .op-volume-silder":function(_e,He,gn){_e.preventDefault(),Ce=!0,zt.setMute(!1),zt.setVolume(Qe(_e))},"mouseup .op-volume-silder":function(_e,He,gn){_e.preventDefault(),Ce=!1},"mousemove .op-volume-silder":function(_e,He,gn){if(_e.preventDefault(),!Ce)return!1;zt.setVolume(Qe(_e))},"touchstart .op-volume-button":function(_e){be&&(zt.getMute()?zt.setMute(!1):zt.setMute(!0))}},mn=ir(Gt,"VolumeButton",zt.getConfig(),null,De,(function(_e,He){oe=_e.find(".op-volume-slider-container"),zt.getBrowser().mobile&&oe.hide(),he=_e.find(".op-volume-silder"),Se=_e.find(".op-volume-slider-handle"),Ee=_e.find(".op-volume-slider-value"),Bt=_e.find(".op-volume-max"),Ft=_e.find(".op-volume-small"),Ae=_e.find(".op-volume-mute"),Ge=64,Se.css("left",Ge+"px"),Ye(zt.getVolume()),zt.on(hn,(function(){Ye(zt.getVolume())}),He),zt.on(kr,(function(gn){Ye(gn.volume)}),He),zt.on(li,(function(gn){gn.mute?Ye(0):Ye(zt.getVolume())}),He)}),(function(_e){zt.off(hn,null,_e),zt.off(kr,null,_e),zt.off(li,null,_e)}));return mn.setMouseDown=function(_e){Ce=_e},mn})(mt.find(".op-left-controls"),x);var ue=x.getPlaylist(),de=x.getCurrentPlaylist();ue&&ue[de]&&ue[de].adTagUrl||Nt(),Zt(),x.on(hn,(function(){mt.show()}),vt),x.on(Rr,(function(Gt){D=Gt.duration,gt=Gt,Gt.isP2P=lt,me(Gt)}),vt),x.on(ur,(function(Gt){(ht||x&&x.getProviderName&&x.getProviderName()==="rtmp")&&!D&&gt&&gt.duration!==Gt.duration&&(gt=Gt,me(Gt))}),vt),x.on(Pe,(function(Gt){st.find(".op-setting-panel")&&st.find(".op-setting-panel").css("max-height",st.height()-st.find(".op-bottom-panel").height()+"px")}),vt),x.on(gi,(function(Gt){lt=Gt}),vt),x.on(Re,(function(){if(!bt){var Gt="";x.getSources().length>0&&x.getSources()[x.getCurrentSource()]&&x.getSources()[x.getCurrentSource()].type&&(Gt=x.getSources()[x.getCurrentSource()].type),me({isP2P:lt,duration:x.getDuration(),type:Gt})}mt.show()}),vt),x.on(Xe,(function(Gt){mt.show()}),vt),x.on($n,(function(Gt){Gt.isLinear?(st.addClass("linear-ad"),At(!0),V&&V.destroy(),ut&&rt&&rt.destroy()):st.removeClass("linear-ad")}),vt),x.on(Be,(function(){Wt()}),vt),x.on(Yn,(function(){Wt()}),vt),x.on(wr,(function(){Wt()}),vt)}),(function(mt){x.off(Rr,null,mt),x.off(ur,null,mt),x.off(Be,null,mt),x.off($n,null,mt),x.off(gi,null,mt),x.off(Yn,null,mt),x.off(Pe,null,mt),x.off(wr,null,mt),at&&at.destroy(),P&&P.destroy(),z&&z.destroy(),rt&&rt.destroy(),k&&k.destroy()}))},hu=e(88769),Au=e.n(hu),nf=e(85072),rf=e.n(nf),sf=e(97825),af=e.n(sf),of=e(77659),Ri=e.n(of),eo=e(55056),gu=e.n(eo),pu=e(10540),mu=e.n(pu),vu=e(41113),gl=e.n(vu),Io=e(69534),ji={};ji.styleTagTransform=gl(),ji.setAttributes=gu(),ji.insert=Ri().bind(null,"head"),ji.domAPI=af(),ji.insertStyleElement=mu(),rf()(Io.A,ji),Io.A&&Io.A.locals&&Io.A.locals;var Aa,no=function(R){var x,D="",k="",P="",V="",z=null,at="",rt=!1,it=Li(),bt="",lt="",ct=null,ht={};function ut(At,Nt){if(at&&(clearTimeout(at),at=null),At){if(it.size()>0)return!1;x.addClass("op-autohide")}else x.removeClass("op-autohide"),Nt&&(at=setTimeout((function(){if(it.size()>0)return!1;x.addClass("op-autohide")}),3e3))}function st(){z.play()}function gt(At,Nt){var Zt,me=z.getDuration(),Wt=z.getPosition();Zt=Nt?Math.max(Wt-At,0):Math.min(Wt+At,me),z.seek(Zt)}function ft(At){var Nt,Zt=z.getVolume();Nt=At?Math.min(Zt+5,100):Math.max(Zt-5,0),z.setVolume(Nt)}function mt(){var At=x.width();At<576?(bt="xsmall",x.addClass("xsmall"),At<490&&x.addClass("xxsmall")):At<768?(bt="small",x.addClass("small")):At<992?(bt="medium",x.addClass("medium")):(bt="large",x.addClass("large"))}var vt={"click .ovenplayer":function(At,Nt,Zt){if(z&&z.trigger(ze,At),V)return At.preventDefault(),V.destroy(),V=null,!1;if(!xt(At.target).closest(".op-controls-container")&&!xt(At.target).closest(".op-setting-panel")){if(it.size()>0)return At.preventDefault(),it.clear(),!1;z.getDuration()===1/0||z.getBrowser().mobile||st()}},"dblclick .ovenplayer":function(At,Nt,Zt){if(z){var me=(function(zt){var oe=zt.target.getBoundingClientRect();return zt.offsetX>=.6666666666666666*oe.width?"right":zt.offsetX>=.3333333333333333*oe.width?"middle":"left"})(At),Wt=z.getPosition(),ue=z.getConfig().doubleTapToSeek;if(ue&&me=="left"){var de=Math.max(Wt-10,0);OvenPlayerConsole.log("Seeking to ".concat(de)),z.seek(de)}if(ue&&me==="right"){var Gt=Math.min(Wt+10,z.getDuration());OvenPlayerConsole.log("Seeking to ".concat(Gt)),z.seek(Gt)}me!=="middle"&&ue||(OvenPlayerConsole.log("Toggling fullscreen"),z.getConfig().expandFullScreenUI&&z.toggleFullScreen&&(xt(At.target).closest(".op-controls-container")||xt(At.target).closest(".op-setting-panel")||z.toggleFullScreen()))}},"touchstart .ovenplayer":function(At,Nt,Zt){ut(!1,!0)},"mouseenter .ovenplayer":function(At,Nt,Zt){At.preventDefault(),ut(!1,!0)},"mousemove .ovenplayer":function(At,Nt,Zt){At.preventDefault(),ut(!1,!0)},"mouseleave .ovenplayer":function(At,Nt,Zt){At.preventDefault(),ut(!0)},"keydown .ovenplayer":function(At,Nt,Zt){var me=z.getFramerate();switch(At.keyCode){case 16:At.preventDefault(),rt=!0;break;case 32:At.preventDefault(),st();break;case 37:At.preventDefault(),z.getConfig().disableSeekUI||(rt&&me?z.seekFrame(-1):gt(5,!0));break;case 39:At.preventDefault(),z.getConfig().disableSeekUI||(rt&&me?z.seekFrame(1):gt(5,!1));break;case 38:At.preventDefault(),ft(!0);break;case 40:At.preventDefault(),ft(!1)}},"keyup .ovenplayer":function(At,Nt,Zt){At.keyCode===16&&(At.preventDefault(),rt=!1)},"contextmenu .ovenplayer":function(At,Nt,Zt){if(At.stopPropagation(),!xt(At.currentTarget).find("object"))return At.preventDefault(),me=At.pageX,Wt=At.pageY,V&&(V.destroy(),V=null),V=(function(ue,de,Gt){var zt=xt(de.getContainerElement()),oe={"click .op-context-item":function(he,Se,Ee){he.preventDefault(),window.open("https://github.com/AirenSoft/OvenPlayer","_blank")}};return ir(ue,"ContextPanel",de.getConfig(),Gt,oe,(function(he,Se){var Ee=he.width(),Bt=he.height(),Ft=Math.min(Gt.pageX-zt.offset().left,zt.width()-Ee),Ae=Math.min(Gt.pageY-zt.offset().top,zt.height()-Bt);he.css("left",Ft+"px"),he.css("top",Ae+"px")}),(function(){}))})(x,z,{pageX:me,pageY:Wt}),!1;var me,Wt}};return(ht=ir(R,"View",null,R.id,vt,(function(At,Nt){x=At,D=Nt,mt(),lt=bt,ct=new(Au())(x.get(),(function(){x.removeClass("large"),x.removeClass("medium"),x.removeClass("small"),x.removeClass("xsmall"),x.removeClass("xxsmall"),mt(),bt!==lt&&(lt=bt,z&&z.trigger(Pe,lt))}))}),(function(){ct&&(ct.detach(),ct=null),P&&(P.destroy(),P=null),k&&(k.destroy(),k=null)}),!0)).getMediaElementContainer=function(){return x.find(".op-media-element-container").get()},ht.setApi=function(At){(z=At).getContainerElement=function(){return x.get()},z.getContainerId=function(){return x.get().id},z.on(hn,(function(ue){k||(k=Ro(x.find(".op-ui"),At)),Nt||x.addClass("op-no-controls"),ut(!1,!0)})),z.on(Xe,(function(ue){if(z){var de=z.getSources()||[];k&&de.length}})),z.on(ie,(function(ue){D.destroy()})),z.on(Re,(function(ue){!k&&Nt&&(k=Ro(x.find(".op-ui"),At))}));var Nt=z.getConfig()&&z.getConfig().controls;P=ef(x.find(".op-ui"),At),k=Ro(x.find(".op-ui"),At);var Zt=z.getConfig().aspectRatio;if(Zt&&Zt.split(":").length===2){var me=1*Zt.split(":")[0],Wt=1*Zt.split(":")[1]/me*100;x.find(".op-ratio").css("padding-bottom",Wt+"%")}z.showControls=function(ue,de){ue?(x.removeClass("op-no-controls"),ut(!1,!de)):x.addClass("op-no-controls")}},ht},pl=(Aa={},Object.assign(Aa,dl),Aa.create=function(R,x){var D=br(R),k=no(D),P=dl.create(k.getMediaElementContainer(),x);return k.setApi(P),OvenPlayerConsole.log("[OvenPlayer] v."+o),P},Aa)},53439:function(){(function(s){if("window"in s&&"document"in s){document.querySelectorAll||(document.querySelectorAll=function(f){var A,p=document.createElement("style"),m=[];for(document.documentElement.firstChild.appendChild(p),document._qsa=[],p.styleSheet.cssText=f+"{x-qsa:expression(document._qsa && document._qsa.push(this))}",window.scrollBy(0,0),p.parentNode.removeChild(p);document._qsa.length;)(A=document._qsa.shift()).style.removeAttribute("x-qsa"),m.push(A);return document._qsa=null,m}),document.querySelector||(document.querySelector=function(f){var A=document.querySelectorAll(f);return A.length?A[0]:null}),document.getElementsByClassName||(document.getElementsByClassName=function(f){return f=String(f).replace(/^|\s+/g,"."),document.querySelectorAll(f)}),s.Node=s.Node||function(){throw TypeError("Illegal constructor")},[["ELEMENT_NODE",1],["ATTRIBUTE_NODE",2],["TEXT_NODE",3],["CDATA_SECTION_NODE",4],["ENTITY_REFERENCE_NODE",5],["ENTITY_NODE",6],["PROCESSING_INSTRUCTION_NODE",7],["COMMENT_NODE",8],["DOCUMENT_NODE",9],["DOCUMENT_TYPE_NODE",10],["DOCUMENT_FRAGMENT_NODE",11],["NOTATION_NODE",12]].forEach((function(f){f[0]in s.Node||(s.Node[f[0]]=f[1])})),s.DOMException=s.DOMException||function(){throw TypeError("Illegal constructor")},[["INDEX_SIZE_ERR",1],["DOMSTRING_SIZE_ERR",2],["HIERARCHY_REQUEST_ERR",3],["WRONG_DOCUMENT_ERR",4],["INVALID_CHARACTER_ERR",5],["NO_DATA_ALLOWED_ERR",6],["NO_MODIFICATION_ALLOWED_ERR",7],["NOT_FOUND_ERR",8],["NOT_SUPPORTED_ERR",9],["INUSE_ATTRIBUTE_ERR",10],["INVALID_STATE_ERR",11],["SYNTAX_ERR",12],["INVALID_MODIFICATION_ERR",13],["NAMESPACE_ERR",14],["INVALID_ACCESS_ERR",15]].forEach((function(f){f[0]in s.DOMException||(s.DOMException[f[0]]=f[1])})),(function(){function f(p,m,y){if(typeof m=="function"){p==="DOMContentLoaded"&&(p="load");var b=this,E=function(S){S._timeStamp=Date.now(),S._currentTarget=b,m.call(this,S),S._currentTarget=null};this["_"+p+m]=E,this.attachEvent("on"+p,E)}}function A(p,m,y){if(typeof m=="function"){p==="DOMContentLoaded"&&(p="load");var b=this["_"+p+m];b&&(this.detachEvent("on"+p,b),this["_"+p+m]=null)}}"Element"in s&&!Element.prototype.addEventListener&&Object.defineProperty&&(Event.CAPTURING_PHASE=1,Event.AT_TARGET=2,Event.BUBBLING_PHASE=3,Object.defineProperties(Event.prototype,{CAPTURING_PHASE:{get:function(){return 1}},AT_TARGET:{get:function(){return 2}},BUBBLING_PHASE:{get:function(){return 3}},target:{get:function(){return this.srcElement}},currentTarget:{get:function(){return this._currentTarget}},eventPhase:{get:function(){return this.srcElement===this.currentTarget?Event.AT_TARGET:Event.BUBBLING_PHASE}},bubbles:{get:function(){switch(this.type){case"click":case"dblclick":case"mousedown":case"mouseup":case"mouseover":case"mousemove":case"mouseout":case"mousewheel":case"keydown":case"keypress":case"keyup":case"resize":case"scroll":case"select":case"change":case"submit":case"reset":return!0}return!1}},cancelable:{get:function(){switch(this.type){case"click":case"dblclick":case"mousedown":case"mouseup":case"mouseover":case"mouseout":case"mousewheel":case"keydown":case"keypress":case"keyup":case"submit":return!0}return!1}},timeStamp:{get:function(){return this._timeStamp}},stopPropagation:{value:function(){this.cancelBubble=!0}},preventDefault:{value:function(){this.returnValue=!1}},defaultPrevented:{get:function(){return this.returnValue===!1}}}),[Window,HTMLDocument,Element].forEach((function(p){p.prototype.addEventListener=f,p.prototype.removeEventListener=A})))})(),(function(){function f(A,p){p=p||{bubbles:!1,cancelable:!1,detail:void 0};var m=document.createEvent("CustomEvent");return m.initCustomEvent(A,p.bubbles,p.cancelable,p.detail),m}"CustomEvent"in s&&typeof s.CustomEvent=="function"||(f.prototype=s.Event.prototype,s.CustomEvent=f)})(),window.addEvent=function(f,A,p){f.addEventListener?f.addEventListener(A,p,!1):f.attachEvent&&(f["e"+A+p]=p,f[A+p]=function(){var m=window.event;m.currentTarget=f,m.preventDefault=function(){m.returnValue=!1},m.stopPropagation=function(){m.cancelBubble=!0},m.target=m.srcElement,m.timeStamp=Date.now(),f["e"+A+p].call(this,m)},f.attachEvent("on"+A,f[A+p]))},window.removeEvent=function(f,A,p){f.removeEventListener?f.removeEventListener(A,p,!1):f.detachEvent&&(f.detachEvent("on"+A,f[A+p]),f[A+p]=null,f["e"+A+p]=null)},(function(){function f(p,m){function y(S){return S.length?S.split(/\s+/g):[]}function b(S,T){var L=y(T),I=L.indexOf(S);return I!==-1&&L.splice(I,1),L.join(" ")}if(Object.defineProperties(this,{length:{get:function(){return y(p[m]).length}},item:{value:function(S){var T=y(p[m]);return 0<=S&&S<T.length?T[S]:null}},contains:{value:function(S){if((S=String(S)).length===0)throw SyntaxError();if(/\s/.test(S))throw Error("InvalidCharacterError");return y(p[m]).indexOf(S)!==-1}},add:{value:function(){var S=Array.prototype.slice.call(arguments).map(String);if(S.some((function(B){return B.length===0})))throw SyntaxError();if(S.some((function(B){return/\s/.test(B)})))throw Error("InvalidCharacterError");try{var T=p[m],L=y(T);if((S=S.filter((function(B){return L.indexOf(B)===-1}))).length===0)return;T.length===0||/\s$/.test(T)||(T+=" "),T+=S.join(" "),p[m]=T}finally{var I=y(p[m]).length;this.length!==I&&(this.length=I)}}},remove:{value:function(){var S=Array.prototype.slice.call(arguments).map(String);if(S.some((function(I){return I.length===0})))throw SyntaxError();if(S.some((function(I){return/\s/.test(I)})))throw Error("InvalidCharacterError");try{var T=p[m];S.forEach((function(I){T=b(I,T)})),p[m]=T}finally{var L=y(p[m]).length;this.length!==L&&(this.length=L)}}},toggle:{value:function(S){var T=arguments[1];try{if((S=String(S)).length===0)throw SyntaxError();if(/\s/.test(S))throw Error("InvalidCharacterError");var L=y(p[m]).indexOf(S);if(L!==-1&&(!T||T===void 0))return p[m]=b(S,p[m]),!1;if(L!==-1&&T)return!0;var I=p[m];return I.length===0||/\s$/.test(I)||(I+=" "),I+=S,p[m]=I,!0}finally{var B=y(p[m]).length;this.length!==B&&(this.length=B)}}},toString:{value:function(){return p[m]}}}),"length"in this)for(var E=0;E<100;++E)Object.defineProperty(this,String(E),{get:(function(S){return function(){return this.item(S)}})(E)});else this.length=y(p[m]).length}function A(p,m){"Element"in s&&Element.prototype&&Object.defineProperty&&Object.defineProperty(Element.prototype,p,{get:m})}"classList"in document.createElement("span")?window.getClassList=function(p){return p.classList}:(window.getClassList=function(p){return new f(p,"className")},A("classList",(function(){return new f(this,"className")}))),"relList"in document.createElement("link")?window.getRelList=function(p){return p.relList}:(window.getRelList=function(p){return new f(p,"rel")},A("relList",(function(){return new f(this,"rel")}))),(function(){if("DOMTokenList"in s){var p=document.createElement("span");"classList"in p&&(p.classList.toggle("x",!1),p.classList.contains("x")&&(s.DOMTokenList.prototype.toggle=function(m){var y=arguments[1];if(y===void 0){var b=!this.contains(m);return this[b?"add":"remove"](m),b}return this[(y=!!y)?"add":"remove"](m),y}))}})(),"previousElementSibling"in document.documentElement||A("previousElementSibling",(function(){for(var p=this.previousSibling;p&&p.nodeType!==Node.ELEMENT_NODE;)p=p.previousSibling;return p})),"nextElementSibling"in document.documentElement||A("nextElementSibling",(function(){for(var p=this.nextSibling;p&&p.nodeType!==Node.ELEMENT_NODE;)p=p.nextSibling;return p}))})(),"Element"in s&&!Element.prototype.matches&&(Element.prototype.msMatchesSelector?Element.prototype.matches=Element.prototype.msMatchesSelector:Element.prototype.oMatchesSelector?Element.prototype.matches=Element.prototype.oMatchesSelector:Element.prototype.mozMatchesSelector?Element.prototype.matches=Element.prototype.mozMatchesSelector:Element.prototype.webkitMatchesSelector?Element.prototype.matches=Element.prototype.webkitMatchesSelector:document.querySelectorAll&&(Element.prototype.matches=function(f){for(var A=(this.document||this.ownerDocument).querySelectorAll(f),p=A.length;--p>=0&&A.item(p)!==this;);return p>-1})),window.Element&&!Element.prototype.closest&&(Element.prototype.closest=function(f){var A,p=(this.document||this.ownerDocument).querySelectorAll(f),m=this;do for(A=p.length;--A>=0&&p.item(A)!==m;);while(A<0&&(m=m.parentElement));return m});var c={prepend:function(){var f=[].slice.call(arguments);f=u(f),this.insertBefore(f,this.firstChild)},append:function(){var f=[].slice.call(arguments);f=u(f),this.appendChild(f)}};o(s.Document||s.HTMLDocument,c),o(s.DocumentFragment,c),o(s.Element,c);var e={before:function(){var f=[].slice.call(arguments),A=this.parentNode;if(A){for(var p=this.previousSibling;f.indexOf(p)!==-1;)p=p.previousSibling;var m=u(f);A.insertBefore(m,p?p.nextSibling:A.firstChild)}},after:function(){var f=[].slice.call(arguments),A=this.parentNode;if(A){for(var p=this.nextSibling;f.indexOf(p)!==-1;)p=p.nextSibling;var m=u(f);A.insertBefore(m,p)}},replaceWith:function(){var f=[].slice.call(arguments),A=this.parentNode;if(A){for(var p=this.nextSibling;f.indexOf(p)!==-1;)p=p.nextSibling;var m=u(f);this.parentNode===A?A.replaceChild(m,this):A.insertBefore(m,p)}},remove:function(){this.parentNode&&this.parentNode.removeChild(this)}};o(s.DocumentType,e),o(s.Element,e),o(s.CharacterData,e)}function o(f,A){f&&Object.keys(A).forEach((function(p){if(!(p in f)&&!(p in f.prototype))try{Object.defineProperty(f.prototype,p,Object.getOwnPropertyDescriptor(A,p))}catch{f[p]=A[p]}}))}function u(f){var A=null;return f=f.map((function(p){return p instanceof Node?p:document.createTextNode(p)})),f.length===1?A=f[0]:(A=document.createDocumentFragment(),f.forEach((function(p){A.appendChild(p)}))),A}})(self)},88769:function(s,c){var e,o;o=this,(e=(function(){return o.returnExportsGlobal=(function(){var u=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(m){return window.setTimeout(m,20)};function f(){var m,y;this.q=[],this.add=function(b){this.q.push(b)},this.call=function(){for(m=0,y=this.q.length;m<y;m++)this.q[m].call()}}function A(m,y){if(m.resizedAttached){if(m.resizedAttached)return void m.resizedAttached.add(y)}else m.resizedAttached=new f,m.resizedAttached.add(y);m.resizeSensor=document.createElement("div"),m.resizeSensor.className="resize-sensor";var b="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden; opacity: 0;direction: ltr;",E="position: absolute; left: 0; top: 0; transition: 0s;";m.resizeSensor.style.cssText=b,m.resizeSensor.innerHTML='<div class="resize-sensor-expand" style="'+b+'"><div style="'+E+'"></div></div><div class="resize-sensor-shrink" style="'+b+'"><div style="'+E+' width: 200%; height: 200%"></div></div>',m.appendChild(m.resizeSensor),(function(X,et){return X.currentStyle?X.currentStyle[et]:window.getComputedStyle?window.getComputedStyle(X,null).getPropertyValue(et):X.style[et]})(m,"position")=="static"&&(m.style.position="relative");var S=m.resizeSensor.childNodes[0],T=S.childNodes[0],L=m.resizeSensor.childNodes[1],I=function(){T.style.width="100000px",T.style.height="100000px",S.scrollLeft=1e5,S.scrollTop=1e5,L.scrollLeft=1e5,L.scrollTop=1e5};I();var B,O,_,M,U=!1,Q=function(){m.resizedAttached&&(U&&(m.resizedAttached.call(),U=!1),u(Q))};u(Q);var $=function(){(_=m.offsetWidth)==B&&(M=m.offsetHeight)==O||(U=!0,B=_,O=M),I()},W=function(X,et,Y){X.attachEvent?X.attachEvent("on"+et,Y):X.addEventListener(et,Y)};W(S,"scroll",$),W(L,"scroll",$)}var p=function(m,y){var b=Object.prototype.toString.call(m),E=this._isCollectionTyped=b==="[object Array]"||b==="[object NodeList]"||b==="[object HTMLCollection]"||typeof jQuery<"u"&&m instanceof window.jQuery||typeof Elements<"u"&&m instanceof window.Elements;if(this._element=m,E)for(var S=0,T=m.length;S<T;S++)A(m[S],y);else A(m,y)};return p.prototype.detach=function(){var m=this._isCollectionTyped,y=this._element;if(m)for(var b=0,E=y.length;b<E;b++)p.detach(y[b]);else p.detach(y)},p.detach=function(m){m.resizeSensor&&(m.hasChildNodes()&&m.removeChild(m.resizeSensor),delete m.resizeSensor,delete m.resizedAttached)},p})()}).apply(c,[]))===void 0||(s.exports=e)},69986:function(s,c,e){var o,u,f;function A(p){return A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},A(p)}f=function(){var p="1.13.1",m=(typeof self>"u"?"undefined":A(self))=="object"&&self.self===self&&self||(e.g===void 0?"undefined":A(e.g))=="object"&&e.g.global===e.g&&e.g||Function("return this")()||{},y=Array.prototype,b=Object.prototype,E=typeof Symbol<"u"?Symbol.prototype:null,S=y.push,T=y.slice,L=b.toString,I=b.hasOwnProperty,B=typeof ArrayBuffer<"u",O=typeof DataView<"u",_=Array.isArray,M=Object.keys,U=Object.create,Q=B&&ArrayBuffer.isView,$=isNaN,W=isFinite,X=!{toString:null}.propertyIsEnumerable("toString"),et=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],Y=Math.pow(2,53)-1;function N(j,J){return J=J==null?j.length-1:+J,function(){for(var pt=Math.max(arguments.length-J,0),Et=Array(pt),kt=0;kt<pt;kt++)Et[kt]=arguments[kt+J];switch(J){case 0:return j.call(this,Et);case 1:return j.call(this,arguments[0],Et);case 2:return j.call(this,arguments[0],arguments[1],Et)}var Lt=Array(J+1);for(kt=0;kt<J;kt++)Lt[kt]=arguments[kt];return Lt[J]=Et,j.apply(this,Lt)}}function K(j){var J=A(j);return J==="function"||J==="object"&&!!j}function Z(j){return j===void 0}function F(j){return j===!0||j===!1||L.call(j)==="[object Boolean]"}function q(j){var J="[object "+j+"]";return function(pt){return L.call(pt)===J}}var nt=q("String"),ot=q("Number"),Ct=q("Date"),St=q("RegExp"),Tt=q("Error"),Kt=q("Symbol"),$t=q("ArrayBuffer"),Vt=q("Function"),ne=m.document&&m.document.childNodes;(typeof Int8Array>"u"?"undefined":A(Int8Array))!="object"&&typeof ne!="function"&&(Vt=function(j){return typeof j=="function"||!1});var fe=Vt,ae=q("Object"),xe=O&&ae(new DataView(new ArrayBuffer(8))),Ne=typeof Map<"u"&&ae(new Map),Ve=q("DataView"),we=xe?function(j){return j!=null&&fe(j.getInt8)&&$t(j.buffer)}:Ve,Le=_||q("Array");function nn(j,J){return j!=null&&I.call(j,J)}var En=q("Arguments");(function(){En(arguments)||(En=function(j){return nn(j,"callee")})})();var cn=En;function qe(j){return ot(j)&&$(j)}function Ke(j){return function(){return j}}function Dn(j){return function(J){var pt=j(J);return typeof pt=="number"&&pt>=0&&pt<=Y}}function an(j){return function(J){return J?.[j]}}var ee=an("byteLength"),ge=Dn(ee),le=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/,ke=B?function(j){return Q?Q(j)&&!we(j):ge(j)&&le.test(L.call(j))}:Ke(!1),It=an("length");function ve(j,J){J=(function(jt){for(var se={},vn=jt.length,Sn=0;Sn<vn;++Sn)se[jt[Sn]]=!0;return{contains:function(rr){return se[rr]},push:function(rr){return se[rr]=!0,jt.push(rr)}}})(J);var pt=et.length,Et=j.constructor,kt=fe(Et)&&Et.prototype||b,Lt="constructor";for(nn(j,Lt)&&!J.contains(Lt)&&J.push(Lt);pt--;)(Lt=et[pt])in j&&j[Lt]!==kt[Lt]&&!J.contains(Lt)&&J.push(Lt)}function Be(j){if(!K(j))return[];if(M)return M(j);var J=[];for(var pt in j)nn(j,pt)&&J.push(pt);return X&&ve(j,J),J}function Yn(j,J){var pt=Be(J),Et=pt.length;if(j==null)return!Et;for(var kt=Object(j),Lt=0;Lt<Et;Lt++){var jt=pt[Lt];if(J[jt]!==kt[jt]||!(jt in kt))return!1}return!0}function Ue(j){return j instanceof Ue?j:this instanceof Ue?void(this._wrapped=j):new Ue(j)}function $e(j){return new Uint8Array(j.buffer||j,j.byteOffset||0,ee(j))}Ue.VERSION=p,Ue.prototype.value=function(){return this._wrapped},Ue.prototype.valueOf=Ue.prototype.toJSON=Ue.prototype.value,Ue.prototype.toString=function(){return String(this._wrapped)};var Dt="[object DataView]";function Te(j,J,pt,Et){if(j===J)return j!==0||1/j==1/J;if(j==null||J==null)return!1;if(j!=j)return J!=J;var kt=A(j);return(kt==="function"||kt==="object"||A(J)=="object")&&(function Lt(jt,se,vn,Sn){jt instanceof Ue&&(jt=jt._wrapped),se instanceof Ue&&(se=se._wrapped);var rr=L.call(jt);if(rr!==L.call(se))return!1;if(xe&&rr=="[object Object]"&&we(jt)){if(!we(se))return!1;rr=Dt}switch(rr){case"[object RegExp]":case"[object String]":return""+jt==""+se;case"[object Number]":return+jt!=+jt?+se!=+se:+jt==0?1/+jt==1/se:+jt==+se;case"[object Date]":case"[object Boolean]":return+jt==+se;case"[object Symbol]":return E.valueOf.call(jt)===E.valueOf.call(se);case"[object ArrayBuffer]":case Dt:return Lt($e(jt),$e(se),vn,Sn)}var xr=rr==="[object Array]";if(!xr&&ke(jt)){if(ee(jt)!==ee(se))return!1;if(jt.buffer===se.buffer&&jt.byteOffset===se.byteOffset)return!0;xr=!0}if(!xr){if(A(jt)!="object"||A(se)!="object")return!1;var cs=jt.constructor,fs=se.constructor;if(cs!==fs&&!(fe(cs)&&cs instanceof cs&&fe(fs)&&fs instanceof fs)&&"constructor"in jt&&"constructor"in se)return!1}Sn=Sn||[];for(var yi=(vn=vn||[]).length;yi--;)if(vn[yi]===jt)return Sn[yi]===se;if(vn.push(jt),Sn.push(se),xr){if((yi=jt.length)!==se.length)return!1;for(;yi--;)if(!Te(jt[yi],se[yi],vn,Sn))return!1}else{var Xa,xo=Be(jt);if(yi=xo.length,Be(se).length!==yi)return!1;for(;yi--;)if(!nn(se,Xa=xo[yi])||!Te(jt[Xa],se[Xa],vn,Sn))return!1}return vn.pop(),Sn.pop(),!0})(j,J,pt,Et)}function on(j){if(!K(j))return[];var J=[];for(var pt in j)J.push(pt);return X&&ve(j,J),J}function hn(j){var J=It(j);return function(pt){if(pt==null)return!1;var Et=on(pt);if(It(Et))return!1;for(var kt=0;kt<J;kt++)if(!fe(pt[j[kt]]))return!1;return j!==Xe||!fe(pt[ie])}}var ie="forEach",Me=["clear","delete"],ye=["get","has","set"],Fe=Me.concat(ie,ye),Xe=Me.concat(ye),pn=["add"].concat(Me,ie,"has"),un=Ne?hn(Fe):q("Map"),qt=Ne?hn(Xe):q("WeakMap"),Re=Ne?hn(pn):q("Set"),ze=q("WeakSet");function Pe(j){for(var J=Be(j),pt=J.length,Et=Array(pt),kt=0;kt<pt;kt++)Et[kt]=j[J[kt]];return Et}function An(j){for(var J={},pt=Be(j),Et=0,kt=pt.length;Et<kt;Et++)J[j[pt[Et]]]=pt[Et];return J}function sn(j){var J=[];for(var pt in j)fe(j[pt])&&J.push(pt);return J.sort()}function Tn(j,J){return function(pt){var Et=arguments.length;if(J&&(pt=Object(pt)),Et<2||pt==null)return pt;for(var kt=1;kt<Et;kt++)for(var Lt=arguments[kt],jt=j(Lt),se=jt.length,vn=0;vn<se;vn++){var Sn=jt[vn];J&&pt[Sn]!==void 0||(pt[Sn]=Lt[Sn])}return pt}}var $n=Tn(on),or=Tn(Be),Qr=Tn(on,!0);function ur(j){if(!K(j))return{};if(U)return U(j);var J=function(){};J.prototype=j;var pt=new J;return J.prototype=null,pt}function kr(j){return K(j)?Le(j)?j.slice():$n({},j):j}function li(j){return Le(j)?j:[j]}function Rr(j){return Ue.toPath(j)}function wr(j,J){for(var pt=J.length,Et=0;Et<pt;Et++){if(j==null)return;j=j[J[Et]]}return pt?j:void 0}function Br(j,J,pt){var Et=wr(j,Rr(J));return Z(Et)?pt:Et}function Yr(j){return j}function nr(j){return j=or({},j),function(J){return Yn(J,j)}}function jn(j){return j=Rr(j),function(J){return wr(J,j)}}function gi(j,J,pt){if(J===void 0)return j;switch(pt??3){case 1:return function(Et){return j.call(J,Et)};case 3:return function(Et,kt,Lt){return j.call(J,Et,kt,Lt)};case 4:return function(Et,kt,Lt,jt){return j.call(J,Et,kt,Lt,jt)}}return function(){return j.apply(J,arguments)}}function Di(j,J,pt){return j==null?Yr:fe(j)?gi(j,J,pt):K(j)&&!Le(j)?nr(j):jn(j)}function Ht(j,J){return Di(j,J,1/0)}function Yt(j,J,pt){return Ue.iteratee!==Ht?Ue.iteratee(j,J):Di(j,J,pt)}function pe(){}function Nn(j,J){return J==null&&(J=j,j=0),j+Math.floor(Math.random()*(J-j+1))}Ue.toPath=li,Ue.iteratee=Ht;var Xt=Date.now||function(){return new Date().getTime()};function ar(j){var J=function(Lt){return j[Lt]},pt="(?:"+Be(j).join("|")+")",Et=RegExp(pt),kt=RegExp(pt,"g");return function(Lt){return Lt=Lt==null?"":""+Lt,Et.test(Lt)?Lt.replace(kt,J):Lt}}var Qn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},_n=ar(Qn),xt=ar(An(Qn)),Ie=Ue.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},Un=/(.)^/,en={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Ar=/\\|'|\r|\n|\u2028|\u2029/g;function br(j){return"\\"+en[j]}var ri=/^\s*(\w|\$)+\s*$/,$r=0;function Fn(j,J,pt,Et,kt){if(!(Et instanceof J))return j.apply(pt,kt);var Lt=ur(j.prototype),jt=j.apply(Lt,kt);return K(jt)?jt:Lt}var pi=N((function(j,J){var pt=pi.placeholder,Et=function(){for(var kt=0,Lt=J.length,jt=Array(Lt),se=0;se<Lt;se++)jt[se]=J[se]===pt?arguments[kt++]:J[se];for(;kt<arguments.length;)jt.push(arguments[kt++]);return Fn(j,Et,this,this,jt)};return Et}));pi.placeholder=Ue;var Ui=N((function(j,J,pt){if(!fe(j))throw new TypeError("Bind must be called on a function");var Et=N((function(kt){return Fn(j,Et,J,this,pt.concat(kt))}));return Et})),jr=Dn(It);function ui(j,J,pt,Et){if(Et=Et||[],J||J===0){if(J<=0)return Et.concat(j)}else J=1/0;for(var kt=Et.length,Lt=0,jt=It(j);Lt<jt;Lt++){var se=j[Lt];if(jr(se)&&(Le(se)||cn(se)))if(J>1)ui(se,J-1,pt,Et),kt=Et.length;else for(var vn=0,Sn=se.length;vn<Sn;)Et[kt++]=se[vn++];else pt||(Et[kt++]=se)}return Et}var Zi=N((function(j,J){var pt=(J=ui(J,!1,!1)).length;if(pt<1)throw new Error("bindAll must be passed function names");for(;pt--;){var Et=J[pt];j[Et]=Ui(j[Et],j)}return j})),za=N((function(j,J,pt){return setTimeout((function(){return j.apply(null,pt)}),J)})),Xr=pi(za,Ue,1);function Fi(j){return function(){return!j.apply(this,arguments)}}function Fs(j,J){var pt;return function(){return--j>0&&(pt=J.apply(this,arguments)),j<=1&&(J=null),pt}}var Ha=pi(Fs,2);function Sr(j,J,pt){J=Yt(J,pt);for(var Et,kt=Be(j),Lt=0,jt=kt.length;Lt<jt;Lt++)if(J(j[Et=kt[Lt]],Et,j))return Et}function Ya(j){return function(J,pt,Et){pt=Yt(pt,Et);for(var kt=It(J),Lt=j>0?0:kt-1;Lt>=0&&Lt<kt;Lt+=j)if(pt(J[Lt],Lt,J))return Lt;return-1}}var Or=Ya(1),os=Ya(-1);function Eo(j,J,pt,Et){for(var kt=(pt=Yt(pt,Et,1))(J),Lt=0,jt=It(j);Lt<jt;){var se=Math.floor((Lt+jt)/2);pt(j[se])<kt?Lt=se+1:jt=se}return Lt}function $a(j,J,pt){return function(Et,kt,Lt){var jt=0,se=It(Et);if(typeof Lt=="number")j>0?jt=Lt>=0?Lt:Math.max(Lt+se,jt):se=Lt>=0?Math.min(Lt+1,se):Lt+se+1;else if(pt&&Lt&&se)return Et[Lt=pt(Et,kt)]===kt?Lt:-1;if(kt!=kt)return(Lt=J(T.call(Et,jt,se),qe))>=0?Lt+jt:-1;for(Lt=j>0?jt:se-1;Lt>=0&&Lt<se;Lt+=j)if(Et[Lt]===kt)return Lt;return-1}}var sa=$a(1,Or,Eo),Gs=$a(-1,os);function Va(j,J,pt){var Et=(jr(j)?Or:Sr)(j,J,pt);if(Et!==void 0&&Et!==-1)return j[Et]}function ki(j,J,pt){var Et,kt;if(J=gi(J,pt),jr(j))for(Et=0,kt=j.length;Et<kt;Et++)J(j[Et],Et,j);else{var Lt=Be(j);for(Et=0,kt=Lt.length;Et<kt;Et++)J(j[Lt[Et]],Lt[Et],j)}return j}function ci(j,J,pt){J=Yt(J,pt);for(var Et=!jr(j)&&Be(j),kt=(Et||j).length,Lt=Array(kt),jt=0;jt<kt;jt++){var se=Et?Et[jt]:jt;Lt[jt]=J(j[se],se,j)}return Lt}function Qs(j){var J=function(pt,Et,kt,Lt){var jt=!jr(pt)&&Be(pt),se=(jt||pt).length,vn=j>0?0:se-1;for(Lt||(kt=pt[jt?jt[vn]:vn],vn+=j);vn>=0&&vn<se;vn+=j){var Sn=jt?jt[vn]:vn;kt=Et(kt,pt[Sn],Sn,pt)}return kt};return function(pt,Et,kt,Lt){var jt=arguments.length>=3;return J(pt,gi(Et,Lt,4),kt,jt)}}var xs=Qs(1),mi=Qs(-1);function cr(j,J,pt){var Et=[];return J=Yt(J,pt),ki(j,(function(kt,Lt,jt){J(kt,Lt,jt)&&Et.push(kt)})),Et}function Jn(j,J,pt){J=Yt(J,pt);for(var Et=!jr(j)&&Be(j),kt=(Et||j).length,Lt=0;Lt<kt;Lt++){var jt=Et?Et[Lt]:Lt;if(!J(j[jt],jt,j))return!1}return!0}function aa(j,J,pt){J=Yt(J,pt);for(var Et=!jr(j)&&Be(j),kt=(Et||j).length,Lt=0;Lt<kt;Lt++){var jt=Et?Et[Lt]:Lt;if(J(j[jt],jt,j))return!0}return!1}function Si(j,J,pt,Et){return jr(j)||(j=Pe(j)),(typeof pt!="number"||Et)&&(pt=0),sa(j,J,pt)>=0}var wn=N((function(j,J,pt){var Et,kt;return fe(J)?kt=J:(J=Rr(J),Et=J.slice(0,-1),J=J[J.length-1]),ci(j,(function(Lt){var jt=kt;if(!jt){if(Et&&Et.length&&(Lt=wr(Lt,Et)),Lt==null)return;jt=Lt[J]}return jt==null?jt:jt.apply(Lt,pt)}))}));function vi(j,J){return ci(j,jn(J))}function Gi(j,J,pt){var Et,kt,Lt=-1/0,jt=-1/0;if(J==null||typeof J=="number"&&A(j[0])!="object"&&j!=null)for(var se=0,vn=(j=jr(j)?j:Pe(j)).length;se<vn;se++)(Et=j[se])!=null&&Et>Lt&&(Lt=Et);else J=Yt(J,pt),ki(j,(function(Sn,rr,xr){((kt=J(Sn,rr,xr))>jt||kt===-1/0&&Lt===-1/0)&&(Lt=Sn,jt=kt)}));return Lt}function Ts(j,J,pt){if(J==null||pt)return jr(j)||(j=Pe(j)),j[Nn(j.length-1)];var Et=jr(j)?kr(j):Pe(j),kt=It(Et);J=Math.max(Math.min(J,kt),0);for(var Lt=kt-1,jt=0;jt<J;jt++){var se=Nn(jt,Lt),vn=Et[jt];Et[jt]=Et[se],Et[se]=vn}return Et.slice(0,J)}function xi(j,J){return function(pt,Et,kt){var Lt=J?[[],[]]:{};return Et=Yt(Et,kt),ki(pt,(function(jt,se){var vn=Et(jt,se,pt);j(Lt,jt,vn)})),Lt}}var Ka=xi((function(j,J,pt){nn(j,pt)?j[pt].push(J):j[pt]=[J]})),js=xi((function(j,J,pt){j[pt]=J})),Co=xi((function(j,J,pt){nn(j,pt)?j[pt]++:j[pt]=1})),oa=xi((function(j,J,pt){j[pt?0:1].push(J)}),!0),la=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function ua(j,J,pt){return J in pt}var Zr=N((function(j,J){var pt={},Et=J[0];if(j==null)return pt;fe(Et)?(J.length>1&&(Et=gi(Et,J[1])),J=on(j)):(Et=ua,J=ui(J,!1,!1),j=Object(j));for(var kt=0,Lt=J.length;kt<Lt;kt++){var jt=J[kt],se=j[jt];Et(se,jt,j)&&(pt[jt]=se)}return pt})),Ji=N((function(j,J){var pt,Et=J[0];return fe(Et)?(Et=Fi(Et),J.length>1&&(pt=J[1])):(J=ci(ui(J,!1,!1),String),Et=function(kt,Lt){return!Si(J,Lt)}),Zr(j,Et,pt)}));function zs(j,J,pt){return T.call(j,0,Math.max(0,j.length-(J==null||pt?1:J)))}function ls(j,J,pt){return j==null||j.length<1?J==null||pt?void 0:[]:J==null||pt?j[0]:zs(j,j.length-J)}function Hs(j,J,pt){return T.call(j,J==null||pt?1:J)}var ca=N((function(j,J){return J=ui(J,!0,!0),cr(j,(function(pt){return!Si(J,pt)}))})),Wa=N((function(j,J){return ca(j,J)}));function us(j,J,pt,Et){F(J)||(Et=pt,pt=J,J=!1),pt!=null&&(pt=Yt(pt,Et));for(var kt=[],Lt=[],jt=0,se=It(j);jt<se;jt++){var vn=j[jt],Sn=pt?pt(vn,jt,j):vn;J&&!pt?(jt&&Lt===Sn||kt.push(vn),Lt=Sn):pt?Si(Lt,Sn)||(Lt.push(Sn),kt.push(vn)):Si(kt,vn)||kt.push(vn)}return kt}var Ti=N((function(j){return us(ui(j,!0,!0))}));function Zn(j){for(var J=j&&Gi(j,It).length||0,pt=Array(J),Et=0;Et<J;Et++)pt[Et]=vi(j,Et);return pt}var So=N(Zn);function fa(j,J){return j._chain?Ue(J).chain():J}function qa(j){return ki(sn(j),(function(J){var pt=Ue[J]=j[J];Ue.prototype[J]=function(){var Et=[this._wrapped];return S.apply(Et,arguments),fa(this,pt.apply(Ue,Et))}})),Ue}ki(["pop","push","reverse","shift","sort","splice","unshift"],(function(j){var J=y[j];Ue.prototype[j]=function(){var pt=this._wrapped;return pt!=null&&(J.apply(pt,arguments),j!=="shift"&&j!=="splice"||pt.length!==0||delete pt[0]),fa(this,pt)}})),ki(["concat","join","slice"],(function(j){var J=y[j];Ue.prototype[j]=function(){var pt=this._wrapped;return pt!=null&&(pt=J.apply(pt,arguments)),fa(this,pt)}}));var ws=qa({__proto__:null,VERSION:p,restArguments:N,isObject:K,isNull:function(j){return j===null},isUndefined:Z,isBoolean:F,isElement:function(j){return!(!j||j.nodeType!==1)},isString:nt,isNumber:ot,isDate:Ct,isRegExp:St,isError:Tt,isSymbol:Kt,isArrayBuffer:$t,isDataView:we,isArray:Le,isFunction:fe,isArguments:cn,isFinite:function(j){return!Kt(j)&&W(j)&&!isNaN(parseFloat(j))},isNaN:qe,isTypedArray:ke,isEmpty:function(j){if(j==null)return!0;var J=It(j);return typeof J=="number"&&(Le(j)||nt(j)||cn(j))?J===0:It(Be(j))===0},isMatch:Yn,isEqual:function(j,J){return Te(j,J)},isMap:un,isWeakMap:qt,isSet:Re,isWeakSet:ze,keys:Be,allKeys:on,values:Pe,pairs:function(j){for(var J=Be(j),pt=J.length,Et=Array(pt),kt=0;kt<pt;kt++)Et[kt]=[J[kt],j[J[kt]]];return Et},invert:An,functions:sn,methods:sn,extend:$n,extendOwn:or,assign:or,defaults:Qr,create:function(j,J){var pt=ur(j);return J&&or(pt,J),pt},clone:kr,tap:function(j,J){return J(j),j},get:Br,has:function(j,J){for(var pt=(J=Rr(J)).length,Et=0;Et<pt;Et++){var kt=J[Et];if(!nn(j,kt))return!1;j=j[kt]}return!!pt},mapObject:function(j,J,pt){J=Yt(J,pt);for(var Et=Be(j),kt=Et.length,Lt={},jt=0;jt<kt;jt++){var se=Et[jt];Lt[se]=J(j[se],se,j)}return Lt},identity:Yr,constant:Ke,noop:pe,toPath:li,property:jn,propertyOf:function(j){return j==null?pe:function(J){return Br(j,J)}},matcher:nr,matches:nr,times:function(j,J,pt){var Et=Array(Math.max(0,j));J=gi(J,pt,1);for(var kt=0;kt<j;kt++)Et[kt]=J(kt);return Et},random:Nn,now:Xt,escape:_n,unescape:xt,templateSettings:Ie,template:function(j,J,pt){!J&&pt&&(J=pt),J=Qr({},J,Ue.templateSettings);var Et=RegExp([(J.escape||Un).source,(J.interpolate||Un).source,(J.evaluate||Un).source].join("|")+"|$","g"),kt=0,Lt="__p+='";j.replace(Et,(function(Sn,rr,xr,cs,fs){return Lt+=j.slice(kt,fs).replace(Ar,br),kt=fs+Sn.length,rr?Lt+=`'+
((__t=(`+rr+`))==null?'':_.escape(__t))+
'`:xr?Lt+=`'+
((__t=(`+xr+`))==null?'':__t)+
'`:cs&&(Lt+=`';
`+cs+`
__p+='`),Sn})),Lt+=`';
`;var jt,se=J.variable;if(se){if(!ri.test(se))throw new Error("variable is not a bare identifier: "+se)}else Lt=`with(obj||{}){
`+Lt+`}
`,se="obj";Lt=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+Lt+`return __p;
`;try{jt=new Function(se,"_",Lt)}catch(Sn){throw Sn.source=Lt,Sn}var vn=function(Sn){return jt.call(this,Sn,Ue)};return vn.source="function("+se+`){
`+Lt+"}",vn},result:function(j,J,pt){var Et=(J=Rr(J)).length;if(!Et)return fe(pt)?pt.call(j):pt;for(var kt=0;kt<Et;kt++){var Lt=j?.[J[kt]];Lt===void 0&&(Lt=pt,kt=Et),j=fe(Lt)?Lt.call(j):Lt}return j},uniqueId:function(j){var J=++$r+"";return j?j+J:J},chain:function(j){var J=Ue(j);return J._chain=!0,J},iteratee:Ht,partial:pi,bind:Ui,bindAll:Zi,memoize:function(j,J){var pt=function(Et){var kt=pt.cache,Lt=""+(J?J.apply(this,arguments):Et);return nn(kt,Lt)||(kt[Lt]=j.apply(this,arguments)),kt[Lt]};return pt.cache={},pt},delay:za,defer:Xr,throttle:function(j,J,pt){var Et,kt,Lt,jt,se=0;pt||(pt={});var vn=function(){se=pt.leading===!1?0:Xt(),Et=null,jt=j.apply(kt,Lt),Et||(kt=Lt=null)},Sn=function(){var rr=Xt();se||pt.leading!==!1||(se=rr);var xr=J-(rr-se);return kt=this,Lt=arguments,xr<=0||xr>J?(Et&&(clearTimeout(Et),Et=null),se=rr,jt=j.apply(kt,Lt),Et||(kt=Lt=null)):Et||pt.trailing===!1||(Et=setTimeout(vn,xr)),jt};return Sn.cancel=function(){clearTimeout(Et),se=0,Et=kt=Lt=null},Sn},debounce:function(j,J,pt){var Et,kt,Lt,jt,se,vn=function(){var rr=Xt()-kt;J>rr?Et=setTimeout(vn,J-rr):(Et=null,pt||(jt=j.apply(se,Lt)),Et||(Lt=se=null))},Sn=N((function(rr){return se=this,Lt=rr,kt=Xt(),Et||(Et=setTimeout(vn,J),pt&&(jt=j.apply(se,Lt))),jt}));return Sn.cancel=function(){clearTimeout(Et),Et=Lt=se=null},Sn},wrap:function(j,J){return pi(J,j)},negate:Fi,compose:function(){var j=arguments,J=j.length-1;return function(){for(var pt=J,Et=j[J].apply(this,arguments);pt--;)Et=j[pt].call(this,Et);return Et}},after:function(j,J){return function(){if(--j<1)return J.apply(this,arguments)}},before:Fs,once:Ha,findKey:Sr,findIndex:Or,findLastIndex:os,sortedIndex:Eo,indexOf:sa,lastIndexOf:Gs,find:Va,detect:Va,findWhere:function(j,J){return Va(j,nr(J))},each:ki,forEach:ki,map:ci,collect:ci,reduce:xs,foldl:xs,inject:xs,reduceRight:mi,foldr:mi,filter:cr,select:cr,reject:function(j,J,pt){return cr(j,Fi(Yt(J)),pt)},every:Jn,all:Jn,some:aa,any:aa,contains:Si,includes:Si,include:Si,invoke:wn,pluck:vi,where:function(j,J){return cr(j,nr(J))},max:Gi,min:function(j,J,pt){var Et,kt,Lt=1/0,jt=1/0;if(J==null||typeof J=="number"&&A(j[0])!="object"&&j!=null)for(var se=0,vn=(j=jr(j)?j:Pe(j)).length;se<vn;se++)(Et=j[se])!=null&&Et<Lt&&(Lt=Et);else J=Yt(J,pt),ki(j,(function(Sn,rr,xr){((kt=J(Sn,rr,xr))<jt||kt===1/0&&Lt===1/0)&&(Lt=Sn,jt=kt)}));return Lt},shuffle:function(j){return Ts(j,1/0)},sample:Ts,sortBy:function(j,J,pt){var Et=0;return J=Yt(J,pt),vi(ci(j,(function(kt,Lt,jt){return{value:kt,index:Et++,criteria:J(kt,Lt,jt)}})).sort((function(kt,Lt){var jt=kt.criteria,se=Lt.criteria;if(jt!==se){if(jt>se||jt===void 0)return 1;if(jt<se||se===void 0)return-1}return kt.index-Lt.index})),"value")},groupBy:Ka,indexBy:js,countBy:Co,partition:oa,toArray:function(j){return j?Le(j)?T.call(j):nt(j)?j.match(la):jr(j)?ci(j,Yr):Pe(j):[]},size:function(j){return j==null?0:jr(j)?j.length:Be(j).length},pick:Zr,omit:Ji,first:ls,head:ls,take:ls,initial:zs,last:function(j,J,pt){return j==null||j.length<1?J==null||pt?void 0:[]:J==null||pt?j[j.length-1]:Hs(j,Math.max(0,j.length-J))},rest:Hs,tail:Hs,drop:Hs,compact:function(j){return cr(j,Boolean)},flatten:function(j,J){return ui(j,J,!1)},without:Wa,uniq:us,unique:us,union:Ti,intersection:function(j){for(var J=[],pt=arguments.length,Et=0,kt=It(j);Et<kt;Et++){var Lt=j[Et];if(!Si(J,Lt)){var jt;for(jt=1;jt<pt&&Si(arguments[jt],Lt);jt++);jt===pt&&J.push(Lt)}}return J},difference:ca,unzip:Zn,transpose:Zn,zip:So,object:function(j,J){for(var pt={},Et=0,kt=It(j);Et<kt;Et++)J?pt[j[Et]]=J[Et]:pt[j[Et][0]]=j[Et][1];return pt},range:function(j,J,pt){J==null&&(J=j||0,j=0),pt||(pt=J<j?-1:1);for(var Et=Math.max(Math.ceil((J-j)/pt),0),kt=Array(Et),Lt=0;Lt<Et;Lt++,j+=pt)kt[Lt]=j;return kt},chunk:function(j,J){if(J==null||J<1)return[];for(var pt=[],Et=0,kt=j.length;Et<kt;)pt.push(T.call(j,Et,Et+=J));return pt},mixin:qa,default:Ue});return ws._=ws,ws},A(c)=="object"?s.exports=f():(u=typeof(o=f)=="function"?o.call(c,e,c,s):o)===void 0||(s.exports=u)},69534:function(s,c,e){var o=e(71354),u=e.n(o),f=e(76314),A=e.n(f),p=e(4417),m=e.n(p),y=new URL(e(85971),e.b),b=new URL(e(58233),e.b),E=new URL(e(36923),e.b),S=A()(u()),T=m()(y),L=m()(b),I=m()(E);S.push([s.id,'@charset "UTF-8";@keyframes op-spinner{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@-webkit-keyframes op-slideOutDown{from{-webkit-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0)}to{visibility:hidden;-webkit-transform:translate3d(0, 100%, 0);transform:translate3d(0, 100%, 0)}}@keyframes op-slideOutDown{from{-webkit-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0)}to{visibility:hidden;-webkit-transform:translate3d(0, 100%, 0);transform:translate3d(0, 100%, 0)}}@-webkit-keyframes op-slideInUp{from{-webkit-transform:translate3d(0, 100%, 0);transform:translate3d(0, 100%, 0);opacity:1}to{-webkit-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0)}}@keyframes op-slideInUp{from{-webkit-transform:translate3d(0, 100%, 0);transform:translate3d(0, 100%, 0);opacity:1}to{-webkit-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0)}}@font-face{font-family:"frameIcon";src:url('+T+") format('truetype');font-weight:normal;font-style:normal}@font-face{font-family:'op-icons';src:url("+L+") format('truetype');font-weight:normal;font-style:normal}@font-face{font-family:'op-seek-icons';src:url("+I+`) format('truetype');font-weight:normal;font-style:normal}:root{--op-accent-color:#50e3c2}.op-fullscreen-helper{overflow:hidden;position:fixed}.op-wrapper.ovenplayer{position:relative;max-height:100%;overflow:hidden;zoom:1 !important;width:100%;display:block;font-family:Helvetica,Arial,sans-serif;background-color:#000;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;color:#fff;font-size:14px;font-weight:100;outline:0;-webkit-touch-callout:none;user-select:none}.op-wrapper.ovenplayer *{box-sizing:inherit}.op-wrapper.ovenplayer object{width:100%;height:100%;position:absolute}.op-wrapper.ovenplayer:before,.op-wrapper.ovenplayer:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}.op-wrapper.ovenplayer *,.op-wrapper.ovenplayer *:before,.op-wrapper.ovenplayer *:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}.op-wrapper.ovenplayer.op-fullscreen{width:100vw !important;height:100vh !important;top:0;right:0;bottom:0;left:0;z-index:9999;margin:0;position:fixed}.op-wrapper.ovenplayer.op-fullscreen .op-watermark-container,.op-wrapper.ovenplayer.op-fullscreen .op-thumbnail-container{width:100vw;max-width:calc(100vh * 16 / 9);height:calc(100vw * 9 / 16);max-height:100vh;top:50%;left:50%;transform:translate(-50%, -50%)}.op-wrapper.ovenplayer.op-autohide{cursor:none}.op-wrapper.ovenplayer.op-autohide .op-bottom-panel{-webkit-animation-name:op-slideOutDown;animation-name:op-slideOutDown;-webkit-animation-duration:.2s;animation-duration:.2s;-webkit-animation-fill-mode:both;animation-fill-mode:both}.op-wrapper.ovenplayer.op-autohide .op-progressbar-container,.op-wrapper.ovenplayer.op-autohide .op-controls .op-button{cursor:none}.op-wrapper.ovenplayer.op-autohide .op-caption-text-container{bottom:25px}.op-wrapper.ovenplayer.op-no-controls .op-controls-container{display:none !important}.op-wrapper.ovenplayer .op-ratio{padding-bottom:56.25%}.op-wrapper.ovenplayer ::-webkit-scrollbar{width:5px;height:8px}.op-wrapper.ovenplayer ::-webkit-scrollbar-button:start:decrement,.op-wrapper.ovenplayer ::-webkit-scrollbar-button:end:increment{display:block;height:3px;background:#2f2f3e}.op-wrapper.ovenplayer ::-webkit-scrollbar-track{background:#2f2f3e;-webkit-border-radius:10px;border-radius:10px}.op-wrapper.ovenplayer ::-webkit-scrollbar-thumb{height:50px;width:50px;background:#606071;-webkit-border-radius:8px;border-radius:8px}.op-wrapper.ovenplayer .op-clear{color:inherit;background-color:transparent;padding:0;margin:0;float:none;font-family:Helvetica,Arial,sans-serif;font-size:1em;line-height:1em;list-style:none;text-transform:none;vertical-align:baseline;border:0;font-variant:inherit;font-stretch:inherit;-webkit-tap-highlight-color:rgba(255,255,255,0)}.op-player{position:absolute;top:0;height:100%;width:100%}.op-player .op-core-ui-wrapper{position:relative;height:100%}.op-player .op-media-element-container{position:absolute;left:0px;top:0px;width:100%;height:100%;transform:scale(var(--mediaZoom))}.op-player .op-media-element-container video{position:absolute;left:0;top:0;width:100%;height:100%}.op-player .op-media-element-container object{width:100%;height:100%}.op-ads{position:absolute;height:100%;width:100%;padding-bottom:34px;top:0}.op-ads>div{position:absolute !important;width:100% !important;height:100% !important}.op-ads>div iframe{pointer-events:auto}.op-ads video.op-ads-vast-video{background-color:#000;position:absolute;width:100%;height:100%;left:0;top:0;z-index:1}.op-ads .op-ads-button{bottom:36px;cursor:default;margin-right:4px;pointer-events:auto;position:absolute;right:0;z-index:1;width:auto !important;height:auto !important;border-radius:4px;background-color:rgba(18,18,28,0.7);min-width:155px;display:none}.op-ads .op-ads-button .op-ads-textview{color:#e6e6e6;font-weight:normal;font-size:11px;padding:6px 12px;text-align:center;display:inline-block;width:100%;vertical-align:middle}.op-ads .op-ads-button .videoAdUiAction{padding:8px 24px;cursor:pointer;direction:ltr;font-weight:normal;font-size:20px;border:1px solid rgba(255,255,255,0.5)}.op-ads .op-ads-button .videoAdUiAction:hover{border-radius:4px;border:1px solid #fff}.op-ads .op-ads-button .videoAdUiAction i{display:inline-block;width:auto}.op-button{display:inline-block;border:none;background:transparent;padding:0;color:inherit;text-align:inherit;overflow:hidden;font-weight:100;text-indent:0 !important}.op-button:focus,.op-button{outline:0}i.op-con{font-family:"op-icons","op-seek-icons";font-style:normal;font-weight:normal;speak:none;font-size:inherit;width:auto;font-size:30px;line-height:30px;display:block;text-decoration:inherit;text-align:center;font-variant:normal;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;cursor:pointer}i.op-con.disable{color:#4f4f4f}i.op-con.op-close-icon::before{content:"\\e900"}i.op-con.op-pause-big::before{content:"\\e911"}i.op-con.op-fullscreen-compress::before{content:"\\e901"}i.op-con.op-fullscreen-expand::before{content:"\\e902"}i.op-con.op-arrow-left::before{content:"\\e903"}i.op-con.op-arrow-right::before{content:"\\e909"}i.op-con.op-empty-video::before{content:"\\e904"}i.op-con.op-play::before{content:"\\e906"}i.op-con.op-replay::before{content:"\\e908"}i.op-con.op-seek-back::before{content:"\\e920"}i.op-con.op-seek-forward::before{content:"\\e921"}i.op-con.op-playlist-icon::before{content:"\\e907"}i.op-con.op-replay-big::before{content:"\\e908"}i.op-con.op-setting::before{content:"\\e90A"}i.op-con.op-pause::before{content:"\\e90C"}i.op-con.op-volume-small{display:none;margin-top:-1px}i.op-con.op-volume-small::before{content:"\\e90D"}i.op-con.op-volume-mute{display:none}i.op-con.op-volume-mute::before{content:"\\e90E"}i.op-con.op-volume-max::before{content:"\\e90F"}i.op-con.op-play-big::before{content:"\\e910"}i.op-con.op-warning::before{content:"\\e912"}.op-badge{display:inline-block;padding:.75em .714em .714em .68em;font-size:1em;line-height:1;text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:.286em;background-color:#12121c}.op-playlist{position:absolute;width:100%;height:100%;left:0;top:0;padding:2.857em;background:#000;z-index:6}.op-playlist .op-badge{position:absolute;top:.857em;right:.857em;opacity:.7}.op-playlist .btn-left{float:left;font-size:2.857em}.op-playlist .btn-right{float:right;font-size:2.857em}.op-playlist .op-playlist-header{font-size:2.857em;font-weight:bold}.op-playlist .op-playlist-header:after{display:block;content:'';clear:both}.op-playlist .op-playlist-header .op-con.op-close-icon{float:right}.op-playlist .op-playlist-body{height:100%;overflow:hidden;position:relative}.op-playlist .op-playlist-body .op-playlist-body-arrows{margin-top:-15px;position:absolute;top:50%;height:30px;-ms-transform:translateY(-50%);transform:translateY(-50%);width:100%;left:0}.op-playlist .op-playlist-body .op-playlist-body-container{width:100%;height:100%;position:relative;margin-right:auto;margin-left:auto;max-width:992px}.op-playlist .op-playlist-body .op-playlist-body-container .op-playlist-body-center{margin:0;position:absolute;top:50%;padding-right:3em;padding-left:3em;-ms-transform:translateY(-50%);transform:translateY(-50%);width:100%}.op-playlist .op-playlist-body .op-playlist-body-row{margin-right:-15px;margin-left:-15px;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}.op-playlist .op-playlist-body .op-playlist-body-row .op-playlist-card{padding-right:15px;padding-left:15px;margin:15px 0;-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%;cursor:pointer}.op-playlist .op-playlist-body .op-playlist-body-row .op-playlist-card.active{color:#50e3c2;color:var(--op-accent-color)}.op-playlist .op-playlist-body .op-playlist-body-row .op-playlist-card.active .op-playlist-card-thumbnail{border-color:#50e3c2;border-color:var(--op-accent-color)}.op-playlist .op-playlist-body .op-playlist-body-row .op-playlist-card .op-playlist-card-thumbnail{position:relative;display:block;width:100%;padding:0;overflow:hidden;border:.214em solid transparent;background-color:#000}.op-playlist .op-playlist-body .op-playlist-body-row .op-playlist-card .op-playlist-card-thumbnail img{position:absolute;top:0;bottom:0;left:0;width:100%;height:100%;border:0}.op-playlist .op-playlist-body .op-playlist-body-row .op-playlist-card .op-playlist-card-thumbnail.empty{background-color:#bababa}.op-playlist .op-playlist-body .op-playlist-body-row .op-playlist-card .op-playlist-card-thumbnail.empty>i{margin:0;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);color:#fff !important;font-size:1.6em !important}.op-playlist .op-playlist-body .op-playlist-body-row .op-playlist-card .op-playlist-card-thumbnail::before{padding-top:56.25%;display:block;content:""}.op-playlist .op-playlist-body .op-playlist-body-row .op-playlist-card .op-playlist-card-title{margin-top:.857em;font-size:1.429em;padding:2px 0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.op-message-box{position:absolute;top:0;left:0;width:100%;height:100%;z-index:4}.op-message-box .op-message-container{position:absolute;top:45%;margin-top:-35px;width:100%;padding:0 12px;text-align:center}.op-message-box .op-message-container .op-message-text{display:inline-block;background-color:rgba(18,18,28,0.3);padding:.8em 1.2em;word-wrap:break-word;max-width:80%;border-radius:4px;cursor:pointer}.op-message-box .op-message-container .op-message-text .op-message-description{font-size:12px;margin-top:12px;color:#999}.op-message-box .op-message-container .op-message-icon{display:inline-block;margin-top:12px;width:100%}.op-message-box .op-message-container .op-message-icon i.op-con{cursor:pointer;font-size:80px;width:80px;height:80px;line-height:80px;display:inline-block;text-shadow:2px 2px 7px rgba(0,0,0,0.8),0 0 1px #000}.op-message-box.op-message-box-default-cursor .op-message-container .op-message-text{cursor:default}.op-message-box.op-message-box-default-cursor .op-message-container .op-message-icon i.op-con{cursor:default}.op-bigbutton-container{cursor:pointer;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);text-align:center;z-index:5}.op-bigbutton-container .op-bigbutton{width:80px;height:80px;display:block;font-size:80px;line-height:80px;text-shadow:2px 2px 7px rgba(0,0,0,0.8),0 0 1px #000}.op-thumbnail-container{position:absolute;width:100%;height:100%;top:0;left:0;z-index:2;pointer-events:none}.op-thumbnail-container .op-thumbnail-wrapper{position:absolute;left:0;top:0;width:100%;height:100%}.op-thumbnail-container .op-thumbnail-wrapper img{width:100%;height:100%}.op-thumbnail-container .op-thumbnail-wrapper .op-thumbnail-header{position:absolute;left:1rem;top:1rem;padding:0 .5rem;font-size:2.857em;font-weight:bold;line-height:1.4;text-shadow:2px 2px 7px rgba(0,0,0,0.8),0 0 1px #000}.op-thumbnail-container .op-thumbnail-wrapper .op-thumbnail-header:after{display:block;content:'';clear:both}.op-watermark-container{position:absolute;width:100%;height:100%;top:0;left:0;z-index:3}.op-watermark-container .op-watermark{position:absolute;display:inline-block}.op-watermark-container .op-watermark img{width:100%;height:auto}.op-watermark-container .op-watermark .op-watermark-text{font-size:14px}.op-setting-panel{position:absolute;bottom:55px;right:12px;overflow-y:auto;max-height:100%;width:260px;user-select:none;background-color:rgba(28,28,28,0.9);text-shadow:0 0 2px rgba(0,0,0,0.5);z-index:8}.op-setting-panel.background{display:none}.op-setting-panel .op-setting-title,.op-setting-panel .op-setting-item{width:100%;height:38px;line-height:38px;cursor:pointer;outline:none;text-align:left}.op-setting-panel .op-setting-title-container .op-setting-title .op-setting-title-title{padding-left:12px;font-weight:bold}.op-setting-panel .op-setting-title-container .op-setting-title .op-setting-title-previcon{padding:0 0 0 12px;margin-right:-6px}.op-setting-panel .op-setting-item-container .op-setting-item:hover{background-color:rgba(255,255,255,0.1)}.op-setting-panel .op-setting-item-container .op-setting-item .op-setting-item-title{padding-left:12px}.op-setting-panel .op-setting-item-container .op-setting-item .op-setting-item-nexticon{float:right;padding-right:12px;margin-left:-6px}.op-setting-panel .op-setting-item-container .op-setting-item span.op-setting-item-value{float:right;padding-right:12px}.op-setting-panel .op-setting-item-container .op-setting-item .op-setting-item-checked{padding-left:12px;visibility:hidden}.op-setting-panel .op-setting-item-container .op-setting-item .op-setting-item-checked.op-show{visibility:visible}.op-controls-container{display:none}.op-controls-container .op-bottom-panel{position:absolute;left:0px;bottom:0px;width:100%;z-index:5;-webkit-animation-name:op-slideInUp;animation-name:op-slideInUp;-webkit-animation-duration:.5s;animation-duration:.5s;-webkit-animation-fill-mode:both;animation-fill-mode:both}.op-controls-container .op-bottom-panel .op-gradient-bottom{position:absolute;width:100%;height:100%;background-color:rgba(18,18,18,0.5);pointer-events:none}.op-controls-container .op-bottom-panel .op-progressbar-container{display:block;position:relative;width:100%;height:4px;bottom:50px}.op-controls-container .op-bottom-panel .op-progressbar-container.op-progressbar-container-disabled{cursor:default}.op-controls-container .op-bottom-panel .op-progressbar-container .op-progressbar-padding{position:absolute;width:100%;height:15px;bottom:-5px;cursor:pointer}.op-controls-container .op-bottom-panel .op-controls{position:relative;width:100%;height:50px;text-align:left;overflow:hidden}.op-controls-container .op-bottom-panel .op-controls:after{content:'';clear:both}.op-controls-container .op-bottom-panel .op-controls .op-setting-button{position:relative;margin-right:12px}.op-controls-container .op-bottom-panel .op-controls .op-playlist-button{position:relative;margin-right:12px}.op-controls-container .op-bottom-panel .op-controls .op-navigators{float:left;height:30px;line-height:30px}.op-controls-container .op-bottom-panel .op-controls .op-left-controls{position:absolute;top:0;left:0;padding:14px 0 10px 0}.op-controls-container .op-bottom-panel .op-controls .op-left-controls:after{content:'';clear:both}.op-controls-container .op-bottom-panel .op-controls .op-right-controls{position:absolute;top:0;right:0;padding:14px 0 10px 0}.op-controls-container .op-bottom-panel .op-controls .op-right-controls:after{content:'';clear:both}.op-controls-container .op-bottom-panel .op-controls .op-frame-buttons{position:relative;display:inline-block;margin-left:14px;overflow:hidden;font-weight:100;height:30px}.op-controls-container .op-bottom-panel .op-controls .op-frame-buttons .op-frame-button{margin-right:6px;position:relative;text-align:center;color:#fff}.op-controls-container .op-bottom-panel .op-controls .op-frame-buttons .op-frame-button .frame-icon{position:relative}.op-controls-container .op-bottom-panel .op-controls .op-frame-buttons .op-frame-button .frame-icon.reverse:after{content:'\\e900'}.op-controls-container .op-bottom-panel .op-controls .op-frame-buttons .op-frame-button .frame-icon:after{font-family:'frameIcon' !important;speak:none;content:'\\e901';font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;position:absolute;font-size:2.4em;left:0;line-height:30px;height:30px}.op-controls-container .op-bottom-panel .op-controls .op-frame-buttons .op-frame-button .frame-icon .btn-text{font-weight:bold;font-size:.8em;line-height:30px;height:30px}.op-progressbar{position:absolute;bottom:0;left:0;width:100%;height:100%;outline:none;margin-top:10px}.op-progressbar .op-play-background-color{background-color:#50e3c2;background-color:var(--op-accent-color)}.op-progressbar .op-progress-list{cursor:pointer;position:relative;height:100%;background:rgba(255,255,255,0.2)}.op-progressbar .op-progress-list .op-load-progress,.op-progressbar .op-progress-list .op-play-progress,.op-progressbar .op-progress-list .op-hover-progress{position:absolute;left:0;bottom:0;width:100%;height:100%}.op-progressbar .op-progress-list .op-play-progress{width:0}.op-progressbar .op-progress-list .op-load-progress{width:0;background-color:rgba(255,255,255,0.5)}.op-progressbar .op-progress-list .op-hover-progress{left:0;width:0;background-color:rgba(255,255,255,0.6)}.op-progressbar .op-progressbar-knob-container{position:absolute;top:-5px;left:0}.op-progressbar .op-progressbar-knob-container .op-progressbar-knob{width:14px;height:14px;border-radius:7px;cursor:pointer}.op-progressbar .op-progressbar-time{display:none;position:absolute;bottom:15px;left:auto;width:auto;background-color:rgba(28,28,28,0.9);border-radius:2px;padding:5px 9px;font-size:.8em;line-height:15px;user-select:none;white-space:nowrap;opacity:.7}.op-progressbar-hover .op-progressbar-time{display:inline-block}.op-on-error .op-progressbar-time{display:none}.op-progressbar-section-start,.op-progressbar-section-end{display:none;position:absolute;width:3px;height:14px;bottom:-5px;background-color:#50e3c2;background-color:var(--op-accent-color)}.op-progressbar-preview{position:absolute;display:none;bottom:50px;border:2px solid #fff;border-radius:2px;background-color:#000;z-index:9}.op-play-controller{margin-left:15px}.op-seek-button{position:relative;top:0px}.op-seek-button.op-seek-button-back{margin-left:12px}.op-seek-button.op-seek-button-forward{margin-left:6px}.op-seek-button i{padding-top:1px;font-size:26px}.op-seek-button span{position:absolute;top:10.5px;left:0;right:0;text-align:center;font-size:10px;line-height:10px;cursor:pointer}.op-volume-controller{display:inline-block;position:relative;margin-left:12px}.op-volume-controller:after{content:'';clear:both}.op-volume-controller .op-volume-button{float:left}@-webkit-keyframes slide{100%{left:0}}@keyframes slide{100%{left:0}}.op-volume-controller .op-volume-slider-container{float:left;opacity:0;position:relative;width:0px;margin-right:0;line-height:30px;height:30px;cursor:pointer;user-select:none;outline:none}.op-volume-controller .op-volume-slider-container.active{width:70px;opacity:1;margin-left:8px;-moz-transition:opacity .4s cubic-bezier(0, 0, .2, 1);-webkit-transition:opacity .4s cubic-bezier(0, 0, .2, 1);transition:opacity .4s cubic-bezier(0, 0, .2, 1)}.op-volume-controller .op-volume-slider-container .op-volume-silder{height:100%;position:relative}.op-volume-controller .op-volume-slider-container .op-volume-silder .op-volume-slider-bg,.op-volume-controller .op-volume-slider-container .op-volume-silder .op-volume-slider-value{position:absolute;display:block;left:0;top:50%;height:4px;margin-top:-2px;border-radius:10px}.op-volume-controller .op-volume-slider-container .op-volume-silder .op-volume-slider-bg{width:100%;background:#fff}.op-volume-controller .op-volume-slider-container .op-volume-silder .op-volume-slider-value{width:100%;background:#50e3c2;background:var(--op-accent-color);border-radius:10px 0 0 10px}.op-volume-controller .op-volume-slider-container .op-volume-silder .op-volume-slider-handle{position:absolute;top:50%;left:30px;width:12px;height:12px;border-radius:10px;margin-top:-6px;background:#fff}.op-time-display{float:left;position:relative;margin-left:14px;height:30px;line-height:30px;white-space:nowrap;vertical-align:top;font-size:14px;user-select:none}.op-time-display .op-live-badge{opacity:1;width:auto;display:inline-block}.op-time-display .op-live-badge:before{background:#ff0000;display:inline-block;position:relative;top:-2px;width:6px;height:6px;margin-right:5px;content:'';border-radius:6px}.op-time-display .op-live-badge.op-live-badge-delayed:before{background:#fff}.op-time-display .op-live-badge.op-live-badge-none:before{display:none}.op-time-display .op-live-badge .op-live-badge-lowlatency{display:inline-block;margin-right:5px}.op-time-display .op-live-badge .op-live-text{cursor:pointer}.op-context-panel{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;display:block;position:absolute;overflow:hidden;width:200px;padding:6px 0;z-index:8;background:rgba(28,28,28,0.9);text-shadow:0 0 2px rgba(0,0,0,0.5);font-weight:lighter;user-select:none}.op-context-panel:before,.op-context-panel:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}.op-context-panel *,.op-context-panel *:before,.op-context-panel *:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}.op-context-panel .op-context-item{width:100%;height:38px;padding-left:12px;line-height:38px;cursor:pointer;outline:none;font-size:.8em;font-weight:lighter;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.op-context-panel .op-context-item:hover{background-color:rgba(255,255,255,0.1)}.op-fullscreen-button{position:relative;margin-right:15px}.op-fullscreen-button .op-fullscreen-compress{display:none}.op-spinner-container{position:absolute;top:50%;width:64px;left:50%;margin-left:-32px;margin-top:-32px;z-index:7;display:none}.op-spinner-container .op-spinner{display:inline-block;position:relative;width:64px;height:64px;border:4px solid transparent;border-top:4px solid #50e3c2;border-top:4px solid var(--op-accent-color);border-radius:50%;animation:spin 1.2s cubic-bezier(.5, 0, .5, 1) infinite}@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}.op-caption-viewer .op-caption-text-container{position:absolute;bottom:60px;width:100%;padding:0 12px;text-align:center;-moz-transition:bottom .25s cubic-bezier(0, 0, .2, 1);-webkit-transition:bottom .25s cubic-bezier(0, 0, .2, 1);transition:bottom .25s cubic-bezier(0, 0, .2, 1)}.op-caption-viewer .op-caption-text-container .op-caption-text{color:#fff;font-size:1em;line-height:1.2em;text-shadow:2px 2px 2px gray;padding:.1em .3em;user-select:none;word-break:break-word;white-space:pre-line;border:none;background:none}.op-caption-button{width:36px}.op-caption-button>i{font-size:18px;-moz-transition:color .25s cubic-bezier(0, 0, .2, 1);-webkit-transition:color .25s cubic-bezier(0, 0, .2, 1);transition:color .25s cubic-bezier(0, 0, .2, 1)}.op-caption-active .op-caption-button>i{color:#F36446}.op-wrapper.ovenplayer.large{font-size:14px}.op-wrapper.ovenplayer.large .op-caption-text{font-size:2em;line-height:2em}.op-wrapper.ovenplayer.medium{font-size:12px}.op-wrapper.ovenplayer.medium .op-caption-text{font-size:1.4em;line-height:1.4em}.op-wrapper.ovenplayer.small{font-size:10px}.op-wrapper.ovenplayer.small .op-caption-text{font-size:1.4em;line-height:1.4em}.op-wrapper.ovenplayer.small .op-playlist{padding:1rem}.op-wrapper.ovenplayer.small .op-playlist .op-playlist-card{margin:5px 0}.op-wrapper.ovenplayer.xsmall{font-size:10px}.op-wrapper.ovenplayer.xsmall .op-bigbutton-container .op-bigbutton{width:60px;height:60px;font-size:60px;line-height:60px}.op-wrapper.ovenplayer.xsmall .op-caption-text{font-size:1.4em;line-height:1.4em}.op-wrapper.ovenplayer.xsmall .op-playlist{padding:1rem}.op-wrapper.ovenplayer.xsmall .op-playlist .op-playlist-header{font-size:2em}.op-wrapper.ovenplayer.xsmall .op-playlist .op-playlist-card{margin:5px 0;-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%;padding:0 6em}.op-wrapper.ovenplayer.xsmall .op-playlist .op-playlist-card .op-playlist-card-title{margin-top:0}.op-wrapper.ovenplayer.xsmall .op-message-box .op-message-container{top:50%;font-weight:bold}.op-wrapper.ovenplayer.xsmall .op-message-box .op-message-container .op-message-icon{margin-top:0}.op-wrapper.ovenplayer.xsmall .op-message-box .op-message-container .op-message-icon .op-con{font-size:40px;width:40px;height:40px;line-height:40px}.op-wrapper.ovenplayer.xsmall .op-ads-button{bottom:22px}.op-wrapper.ovenplayer.xsmall .op-ads-button .videoAdUiAction{padding:4px;font-size:14px}.op-wrapper.ovenplayer.xxsmall .op-left-controls{max-width:240px;overflow:hidden}.op-wrapper.ovenplayer.xxsmall .op-live-badge-lowlatency{max-width:75px}.op-wrapper.ovenplayer.linear-ad .op-bottom-panel{height:34px}.op-wrapper.ovenplayer.linear-ad .op-bottom-panel .op-controls{top:4px}.op-wrapper.ovenplayer.linear-ad .op-bottom-panel .op-controls .op-left-controls{height:30px;padding:0}.op-wrapper.ovenplayer.linear-ad .op-bottom-panel .op-controls .op-right-controls{height:30px;padding:0}.op-wrapper.ovenplayer.linear-ad .op-ads{top:0;bottom:0}.op-wrapper.ovenplayer.linear-ad .op-button i.op-con{width:24px;height:24px;font-size:24px}.op-wrapper.ovenplayer.linear-ad .op-controls-container .op-bottom-panel .op-progressbar-container{bottom:50px}@keyframes fade{from{opacity:.3}55%{opacity:1}75%{opacity:1}to{opacity:.3}}@-webkit-keyframes bounceIn{from,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215, .61, .355, 1);animation-timing-function:cubic-bezier(.215, .61, .355, 1)}0%{opacity:0;-webkit-transform:scale3d(.5, .5, .5);transform:scale3d(.5, .5, .5)}20%{-webkit-transform:scale3d(1.1, 1.1, 1.1);transform:scale3d(1.1, 1.1, 1.1)}40%{-webkit-transform:scale3d(.9, .9, .9);transform:scale3d(.9, .9, .9)}60%{opacity:1;-webkit-transform:scale3d(1.03, 1.03, 1.03);transform:scale3d(1.03, 1.03, 1.03)}80%{-webkit-transform:scale3d(.97, .97, .97);transform:scale3d(.97, .97, .97)}to{opacity:1;-webkit-transform:scale3d(1, 1, 1);transform:scale3d(1, 1, 1)}}@keyframes bounceIn{from,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215, .61, .355, 1);animation-timing-function:cubic-bezier(.215, .61, .355, 1)}0%{opacity:0;-webkit-transform:scale3d(.3, .3, .3);transform:scale3d(.3, .3, .3)}20%{-webkit-transform:scale3d(1.1, 1.1, 1.1);transform:scale3d(1.1, 1.1, 1.1)}40%{-webkit-transform:scale3d(.9, .9, .9);transform:scale3d(.9, .9, .9)}60%{opacity:1;-webkit-transform:scale3d(1.03, 1.03, 1.03);transform:scale3d(1.03, 1.03, 1.03)}80%{-webkit-transform:scale3d(.97, .97, .97);transform:scale3d(.97, .97, .97)}to{opacity:1;-webkit-transform:scale3d(1, 1, 1);transform:scale3d(1, 1, 1)}}.op-player .bounceIn{-webkit-animation-duration:.75s;animation-duration:.75s;-webkit-animation-name:bounceIn;animation-name:bounceIn}@-webkit-keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}.op-player .fadeIn{-webkit-animation-name:fadeIn;animation-name:fadeIn}.op-player .animated{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-fill-mode:both;animation-fill-mode:both}@media (prefers-reduced-motion){.op-player .animated{-webkit-animation:unset !important;animation:unset !important;-webkit-transition:none !important;transition:none !important}}@media only screen and (max-width:399px){.op-seek-button{display:none !important}}`,"",{version:3,sources:["webpack://./src/stylesheet/ovenplayer.less"],names:[],mappings:"AAAA,gBAAS,CAMT,sBACE,GACE,sBAAW,CAGb,KACE,wBAAW,CAAA,CAIf,mCACE,KACE,sCAAA,CACA,8BAAW,CAGb,GACE,iBAAA,CACA,yCAAA,CACA,iCAAW,CAAA,CAIf,2BACE,KACE,sCAAA,CACA,8BAAW,CAGb,GACE,iBAAA,CACA,yCAAA,CACA,iCAAW,CAAA,CAIf,gCACE,KACE,yCAAA,CACA,iCAAA,CACA,SAAA,CAGF,GACE,sCAAA,CACA,8BAAW,CAAA,CAIf,wBACE,KACE,yCAAA,CACA,iCAAA,CACA,SAAA,CAGF,GACE,sCAAA,CACA,8BAAW,CAAA,CAIf,WACE,uBAAA,CACA,8DAAA,CACA,kBAAA,CACA,iBAAA,CAGF,WACE,sBAAA,CACA,8DAAA,CACA,kBAAA,CACA,iBAAA,CAGF,WACE,2BAAA,CACA,8DAAA,CACA,kBAAA,CACA,iBAAA,CAOF,MACE,yBAAA,CAGF,sBACE,eAAA,CAEA,cAAA,CAGF,uBACE,iBAAA,CACA,eAAA,CAEA,eAAA,CACA,iBAAA,CACA,UAAA,CACA,aAAA,CACA,sCAAA,CACA,qBAAA,CACA,0BAAA,CACA,6BAAA,CACA,qBAAA,CACA,UAAA,CACA,cAAA,CACA,eAAA,CACA,SAAA,CAEA,0BAAA,CACA,gBAAA,CAnBF,yBAsBI,kBAAA,CAtBJ,8BA0BI,UAAA,CACA,WAAA,CACA,iBAAA,CAGF,2DAEE,0BAAA,CACA,6BAAA,CACA,qBAAA,CAGF,wFAGE,0BAAA,CACA,6BAAA,CACA,qBAAA,CAGF,qCACE,sBAAA,CACA,uBAAA,CACA,KAAA,CACA,OAAA,CACA,QAAA,CACA,MAAA,CACA,YAAA,CACA,QAAA,CACA,cAAA,CATF,0HAaI,WAAA,CACA,8BAAA,CACA,2BAAA,CACA,gBAAA,CACA,OAAA,CACA,QAAA,CACA,+BAAW,CAKf,mCACE,WAAA,CADF,oDAKI,sCAAA,CACA,8BAAA,CAEA,8BAAA,CACA,sBAAA,CACA,gCAAA,CACA,wBAAA,CAXJ,wHAgBI,WAAA,CAhBJ,8DAoBI,WAAA,CAIJ,6DAGI,uBAAA,CAjGN,iCAsGI,qBAAA,CAIF,2CACE,SAAA,CACA,UAAA,CAGF,kIAEE,aAAA,CACA,UAAA,CACA,kBAAA,CAGF,iDACE,kBAAA,CACA,0BAAA,CACA,kBAAA,CAGF,iDACE,WAAA,CACA,UAAA,CACA,kBAAA,CACA,yBAAA,CACA,iBAAA,CAjIJ,iCAqII,aAAA,CACA,4BAAA,CACA,SAAA,CACA,QAAA,CACA,UAAA,CACA,sCAAA,CACA,aAAA,CACA,eAAA,CACA,eAAA,CACA,mBAAA,CACA,uBAAA,CACA,QAAA,CACA,oBAAA,CACA,oBAAA,CACA,+CAAA,CAIJ,WACE,iBAAA,CACA,KAAA,CACA,WAAA,CACA,UAAA,CAJF,+BASI,iBAAA,CACA,WAAA,CAVJ,uCAoBI,iBAAA,CACA,QAAA,CACA,OAAA,CACA,UAAA,CACA,WAAA,CACA,iCAAiB,CAzBrB,6CA4BM,iBAAA,CACA,MAAA,CACA,KAAA,CACA,UAAA,CACA,WAAA,CAhCN,8CAoCM,UAAA,CACA,WAAA,CAiBN,QACE,iBAAA,CACA,WAAA,CACA,UAAA,CACA,mBAAA,CAEA,KAAA,CAEA,YACE,4BAAA,CACA,qBAAA,CACA,sBAAA,CAHF,mBAMI,mBAAA,CAdN,gCAmBI,qBAAA,CACA,iBAAA,CACA,UAAA,CACA,WAAA,CACA,MAAA,CACA,KAAA,CACA,SAAA,CAzBJ,uBA6BI,WAAA,CACA,cAAA,CACA,gBAAA,CACA,mBAAA,CACA,iBAAA,CACA,OAAA,CACA,SAAA,CACA,qBAAA,CACA,sBAAA,CACA,iBAAA,CACA,mCAAA,CACA,eAAA,CACA,YAAA,CAzCJ,wCA4CM,aAAA,CAEA,kBAAA,CACA,cAAA,CACA,gBAAA,CACA,iBAAA,CACA,oBAAA,CACA,UAAA,CACA,qBAAA,CApDN,wCAwDM,gBAAA,CACA,cAAA,CACA,aAAA,CACA,kBAAA,CACA,cAAA,CACA,sCAAA,CAEA,8CACE,iBAAA,CACA,qBAAA,CAjER,0CAqEQ,oBAAA,CACA,UAAA,CAWR,WACE,oBAAA,CACA,WAAA,CACA,sBAAA,CACA,SAAA,CACA,aAAA,CACA,kBAAA,CACA,eAAA,CACA,eAAA,CACA,wBAAA,CAEA,4BAEE,SAAA,CAIJ,SACE,sCAAA,CACA,iBAAA,CACA,kBAAA,CACA,UAAA,CAEA,iBAAA,CACA,UAAA,CACA,cAAA,CACA,gBAAA,CAEA,aAAA,CACA,uBAAA,CACA,iBAAA,CAGA,mBAAA,CACA,mBAAA,CAGA,kCAAA,CACA,iCAAA,CAEA,cAAA,CAEA,iBACE,aAAA,CAIA,+BACE,eAAS,CAKX,8BACE,eAAS,CAKX,wCACE,eAAS,CAKX,sCACE,eAAS,CAKX,+BACE,eAAS,CAKX,gCACE,eAAS,CAKX,gCACE,eAAS,CAKX,yBACE,eAAS,CAKX,2BACE,eAAS,CAKX,8BACE,eAAS,CAKX,iCACE,eAAS,CAKX,kCACE,eAAS,CAKX,+BACE,eAAS,CAKX,4BACE,eAAS,CAKX,0BACE,eAAS,CAIb,yBACE,YAAA,CACA,eAAA,CAEA,iCACE,eAAS,CAIb,wBACE,YAAA,CAEA,gCACE,eAAS,CAKX,+BACE,eAAS,CAKX,6BACE,eAAS,CAKX,4BACE,eAAS,CAKf,UACE,oBAAA,CACA,iCAAA,CACA,aAAA,CACA,aAAA,CACA,iBAAA,CACA,kBAAA,CACA,uBAAA,CACA,oBAAA,CACA,wBAAA,CAGF,aACE,iBAAA,CACA,UAAA,CACA,WAAA,CACA,MAAA,CACA,KAAA,CACA,eAAA,CACA,eAAA,CACA,SAAA,CARF,uBAWI,iBAAA,CACA,UAAA,CACA,YAAA,CACA,UAAA,CAdJ,uBAkBI,UAAA,CACA,iBAAA,CAnBJ,wBAuBI,WAAA,CACA,iBAAA,CAxBJ,iCA4BI,iBAAA,CACA,gBAAA,CAEA,uCACE,aAAA,CACA,UAAA,CACA,UAAA,CAlCN,uDAsCM,WAAA,CAtCN,+BA2CI,WAAA,CACA,eAAA,CACA,iBAAA,CA7CJ,wDAgDM,gBAAA,CACA,iBAAA,CACA,OAAA,CACA,WAAA,CACA,8BAAA,CACA,0BAAA,CACA,UAAA,CACA,MAAA,CAvDN,2DA2DM,UAAA,CACA,WAAA,CACA,iBAAA,CACA,iBAAA,CACA,gBAAA,CACA,eAAA,CAhEN,oFAmEQ,QAAA,CACA,iBAAA,CACA,OAAA,CACA,iBAAA,CACA,gBAAA,CACA,8BAAA,CACA,0BAAA,CACA,UAAA,CA1ER,qDA+EM,kBAAA,CACA,iBAAA,CACA,mBAAA,CACA,YAAA,CACA,kBAAA,CACA,cAAA,CApFN,uEAwFQ,kBAAA,CACA,iBAAA,CACA,aAAA,CACA,yBAAA,CACA,YAAA,CACA,mBAAA,CACA,WAAA,CACA,uBAAA,CACA,mBAAA,CACA,oBAAA,CACA,cAAA,CAEA,8EACE,aAAA,CACA,4BAAO,CAFT,0GAKI,oBAAA,CACA,mCAAc,CA1G1B,mGA+GU,iBAAA,CACA,aAAA,CACA,UAAA,CACA,SAAA,CACA,eAAA,CACA,+BAAA,CACA,qBAAA,CArHV,uGAwHY,iBAAA,CACA,KAAA,CACA,QAAA,CACA,MAAA,CACA,UAAA,CACA,WAAA,CACA,QAAA,CAGF,yGACE,wBAAA,CAEA,2GACE,QAAA,CACA,iBAAA,CACA,OAAA,CACA,QAAA,CACA,+BAAA,CACA,qBAAA,CACA,0BAAA,CAIJ,2GACE,kBAAA,CACA,aAAA,CACA,UAAS,CAlJrB,+FAuJU,iBAAA,CACA,iBAAA,CACA,aAAA,CACA,kBAAA,CACA,eAAA,CACA,sBAAA,CAcV,gBACE,iBAAA,CACA,KAAA,CACA,MAAA,CACA,UAAA,CACA,WAAA,CACA,SAAA,CANF,sCASI,iBAAA,CACA,OAAA,CACA,gBAAA,CACA,UAAA,CACA,cAAA,CACA,iBAAA,CAdJ,uDAiBM,oBAAA,CACA,mCAAA,CACA,kBAAA,CACA,oBAAA,CACA,aAAA,CACA,iBAAA,CACA,cAAA,CAvBN,+EA0BQ,cAAA,CACA,eAAA,CACA,UAAA,CA5BR,uDAkCM,oBAAA,CACA,eAAA,CACA,UAAA,CApCN,gEAuCQ,cAAA,CACA,cAAA,CACA,UAAA,CACA,WAAA,CACA,gBAAA,CACA,oBAAA,CACA,oDAAA,CAcR,qFACE,cAAA,CAGF,8FACE,cAAA,CAOF,wBACE,cAAA,CACA,iBAAA,CACA,OAAA,CACA,QAAA,CACA,+BAAA,CACA,iBAAA,CACA,SAAA,CAPF,sCAUI,UAAA,CACA,WAAA,CACA,aAAA,CACA,cAAA,CACA,gBAAA,CACA,oDAAA,CAQJ,wBACE,iBAAA,CACA,UAAA,CACA,WAAA,CAEA,KAAA,CACA,MAAA,CAEA,SAAA,CACA,mBAAA,CATF,8CAYI,iBAAA,CACA,MAAA,CACA,KAAA,CACA,UAAA,CACA,WAAA,CAhBJ,kDAmBM,UAAA,CACA,WAAA,CApBN,mEAwBM,iBAAA,CACA,SAAA,CACA,QAAA,CACA,eAAA,CACA,iBAAA,CACA,gBAAA,CACA,eAAA,CACA,oDAAA,CAEA,yEACE,aAAA,CACA,UAAA,CACA,UAAA,CAUR,wBACE,iBAAA,CACA,UAAA,CACA,WAAA,CAEA,KAAA,CACA,MAAA,CAEA,SAAA,CARF,sCAWI,iBAAA,CACA,oBAAA,CAZJ,0CAeM,UAAA,CACA,WAAA,CAhBN,yDAoBM,cAAA,CASN,kBACE,iBAAA,CACA,WAAA,CACA,UAAA,CACA,eAAA,CACA,eAAA,CACA,WAAA,CAEA,gBAAA,CACA,mCAAA,CACA,mCAAA,CACA,SAAA,CAEA,6BAGE,YAAA,CAhBJ,uEAqBI,UAAA,CACA,WAAA,CACA,gBAAA,CACA,cAAA,CACA,YAAA,CACA,eAAA,CA1BJ,wFAgCQ,iBAAA,CACA,gBAAA,CAjCR,2FAsCQ,kBAAA,CACA,iBAAA,CAQF,oEACE,sCAAA,CAhDR,qFAoDQ,iBAAA,CApDR,wFAwDQ,WAAA,CACA,kBAAA,CACA,gBAAA,CA1DR,yFA8DQ,WAAA,CACA,kBAAA,CA/DR,uFAmEQ,iBAAA,CACA,iBAAA,CApER,+FAwEQ,kBAAA,CAYR,uBACE,YAAA,CADF,wCAII,iBAAA,CACA,QAAA,CACA,UAAA,CACA,UAAA,CACA,SAAA,CAaA,mCAAA,CACA,2BAAA,CAEA,8BAAA,CACA,sBAAA,CACA,gCAAA,CACA,wBAAA,CA3BJ,4DAWM,iBAAA,CACA,UAAA,CACA,WAAA,CACA,mCAAA,CACA,mBAAA,CAfN,kEA8BM,aAAA,CACA,iBAAA,CACA,UAAA,CACA,UAAA,CACA,WAAA,CAEA,oGACE,cAAA,CArCR,0FAyCQ,iBAAA,CACA,UAAA,CACA,WAAA,CACA,WAAA,CACA,cAAA,CA7CR,qDAoDM,iBAAA,CACA,UAAA,CACA,WAAA,CACA,eAAA,CACA,eAAA,CAEA,2DACE,UAAA,CACA,UAAA,CA5DR,wEAgEQ,iBAAA,CACA,iBAAA,CAjER,yEAqEQ,iBAAA,CACA,iBAAA,CAtER,oEA0EQ,UAAA,CACA,WAAA,CACA,gBAAA,CA5ER,uEAgFQ,iBAAA,CACA,KAAA,CACA,MAAA,CACA,qBAAA,CAEA,6EACE,UAAA,CACA,UAAA,CAvFV,wEA4FQ,iBAAA,CACA,KAAA,CACA,OAAA,CACA,qBAAA,CAEA,8EACE,UAAA,CACA,UAAA,CAnGV,uEAyGQ,iBAAA,CACA,oBAAA,CACA,gBAAA,CACA,eAAA,CACA,eAAA,CACA,WAAA,CA9GR,wFAiHU,gBAAA,CACA,iBAAA,CACA,iBAAA,CACA,UAAA,CApHV,oGAuHY,iBAAA,CAGE,kHACE,eAAS,CAIb,0GACE,kCAAA,CACA,UAAA,CACA,eAAA,CACA,iBAAA,CACA,kBAAA,CACA,mBAAA,CACA,mBAAA,CAGA,kCAAA,CACA,iCAAA,CACA,iBAAA,CACA,eAAA,CACA,MAAA,CACA,gBAAA,CACA,WAAA,CA/Id,8GAmJc,gBAAA,CACA,cAAA,CACA,gBAAA,CACA,WAAA,CAkBd,gBACE,iBAAA,CACA,QAAA,CACA,MAAA,CACA,UAAA,CACA,WAAA,CACA,YAAA,CACA,eAAA,CAPF,0CAUI,wBAAA,CACA,uCAAkB,CAXtB,kCAeI,cAAA,CACA,iBAAA,CACA,WAAA,CACA,gCAAA,CAlBJ,6JAuBM,iBAAA,CACA,MAAA,CACA,QAAA,CACA,UAAA,CACA,WAAA,CA3BN,oDA+BM,OAAA,CA/BN,oDAmCM,OAAA,CACA,sCAAA,CApCN,qDAwCM,MAAA,CACA,OAAA,CACA,sCAAA,CA1CN,+CAgDI,iBAAA,CACA,QAAA,CACA,MAAA,CAlDJ,oEAqDM,UAAA,CACA,WAAA,CACA,iBAAA,CACA,cAAA,CAxDN,qCA6DI,YAAA,CACA,iBAAA,CACA,WAAA,CACA,SAAA,CACA,UAAA,CACA,mCAAA,CACA,iBAAA,CACA,eAAA,CACA,cAAA,CACA,gBAAA,CACA,gBAAA,CACA,kBAAA,CACA,UAAA,CAMJ,2CACE,oBAAA,CAGF,kCACE,YAAA,CAGF,0DAEE,YAAA,CACA,iBAAA,CACA,SAAA,CACA,WAAA,CACA,WAAA,CACA,wBAAA,CACA,uCAAkB,CAGpB,wBACE,iBAAA,CACA,YAAA,CACA,WAAA,CACA,qBAAA,CACA,iBAAA,CACA,qBAAA,CACA,SAAA,CAGF,oBACE,gBAAA,CAOF,gBAEE,iBAAA,CACA,OAAA,CAEA,oCACE,gBAAA,CAGF,uCACE,eAAA,CAVJ,kBAcI,eAAA,CACA,cAAA,CAfJ,qBAmBI,iBAAA,CACA,UAAA,CACA,MAAA,CACA,OAAA,CACA,iBAAA,CACA,cAAA,CACA,gBAAA,CACA,cAAA,CAQJ,sBACE,oBAAA,CACA,iBAAA,CACA,gBAAA,CAEA,4BACE,UAAA,CACA,UAAA,CAPJ,wCAWI,UAAA,CAGF,yBACE,KACE,MAAA,CAAA,CAIJ,iBACE,KACE,MAAA,CAAA,CAtBN,kDA4BI,UAAA,CACA,SAAA,CACA,iBAAA,CACA,SAAA,CACA,cAAA,CACA,gBAAA,CACA,WAAA,CACA,cAAA,CACA,gBAAA,CACA,YAAA,CAEA,yDACE,UAAA,CACA,SAAA,CACA,eAAA,CACA,qDAAA,CACA,wDAAA,CACA,gDAAwB,CA7C9B,oEAiDM,WAAA,CACA,iBAAA,CAlDN,qLAsDQ,iBAAA,CACA,aAAA,CACA,MAAA,CACA,OAAA,CACA,UAAA,CACA,eAAA,CACA,kBAAA,CA5DR,yFAgEQ,UAAA,CACA,eAAA,CAjER,4FAqEQ,UAAA,CACA,kBAAA,CACA,iCAAA,CACA,2BAAA,CAxER,6FA+EQ,iBAAA,CACA,OAAA,CACA,SAAA,CACA,UAAA,CACA,WAAA,CACA,kBAAA,CACA,eAAA,CACA,eAAA,CAcR,iBACE,UAAA,CACA,iBAAA,CACA,gBAAA,CACA,WAAA,CACA,gBAAA,CACA,kBAAA,CACA,kBAAA,CACA,cAAA,CACA,gBAAA,CATF,gCAiBI,SAAA,CACA,UAAA,CACA,oBAAA,CAEA,uCACE,kBAAA,CACA,oBAAA,CACA,iBAAA,CACA,QAAA,CACA,SAAA,CACA,UAAA,CACA,gBAAA,CACA,UAAA,CACA,iBAAA,CAGF,6DACE,eAAA,CAGF,0DACE,YAAA,CAtCN,0DA0CM,oBAAA,CACA,gBAAA,CA3CN,8CA+CM,cAAA,CAWN,kBACE,0BAAA,CACA,6BAAA,CACA,qBAAA,CACA,aAAA,CACA,iBAAA,CACA,eAAA,CACA,WAAA,CACA,aAAA,CACA,SAAA,CACA,6BAAA,CACA,mCAAA,CACA,mBAAA,CACA,gBAAA,CAEA,iDAEE,0BAAA,CACA,6BAAA,CACA,qBAAA,CAGF,yEAGE,0BAAA,CACA,6BAAA,CACA,qBAAA,CA3BJ,mCA+BI,UAAA,CACA,WAAA,CACA,iBAAA,CACA,gBAAA,CACA,cAAA,CACA,YAAA,CACA,cAAA,CACA,mBAAA,CACA,sBAAA,CACA,kBAAA,CACA,eAAA,CAEA,yCACE,sCAAA,CAeN,sBACE,iBAAA,CACA,iBAAA,CAFF,8CAKI,YAAA,CAQJ,sBACE,iBAAA,CACA,OAAA,CACA,UAAA,CACA,QAAA,CACA,iBAAA,CACA,gBAAA,CACA,SAAA,CACA,YAAA,CARF,kCAYI,oBAAA,CACA,iBAAA,CACA,UAAA,CACA,WAAA,CAEA,4BAAA,CACA,4BAAA,CACA,2CAAA,CACA,iBAAA,CAEA,uDAAqB,CAErB,gBACE,GACE,sBAAW,CAGb,KACE,wBAAW,CAAA,CAYnB,8CAGI,iBAAA,CACA,WAAA,CACA,UAAA,CACA,cAAA,CACA,iBAAA,CACA,qDAAA,CACA,wDAAA,CACA,gDAAwB,CAV5B,+DAaM,UAAA,CACA,aAAA,CACA,iBAAA,CACA,4BAAA,CACA,iBAAA,CACA,gBAAA,CACA,qBAAA,CACA,oBAAA,CACA,WAAA,CACA,eAAA,CAKN,mBACE,UAAA,CAGF,qBACE,cAAA,CACA,oDAAA,CACA,uDAAA,CACA,+CAAuB,CAGzB,wCACE,aAAA,CAOF,6BACE,cAAA,CADF,8CAII,aAAA,CACA,eAAA,CAKJ,8BACE,cAAA,CADF,+CAII,eAAA,CACA,iBAAA,CAIJ,6BACE,cAAA,CADF,8CAII,eAAA,CACA,iBAAA,CALJ,0CASI,YAAA,CATJ,4DAYM,YAAA,CAMN,8BACE,cAAA,CADF,oEAMM,UAAA,CACA,WAAA,CACA,cAAA,CACA,gBAAA,CATN,+CAcI,eAAA,CACA,iBAAA,CAfJ,2CAmBI,YAAA,CAnBJ,+DAsBM,aAAA,CAtBN,6DA0BM,YAAA,CACA,iBAAA,CACA,aAAA,CACA,cAAA,CACA,aAAA,CA9BN,qFAiCQ,YAAA,CAjCR,oEAwCM,OAAA,CACA,gBAAA,CAzCN,qFA4CQ,YAAA,CA5CR,6FA+CU,cAAA,CACA,UAAA,CACA,WAAA,CACA,gBAAA,CAlDV,6CAyDI,WAAA,CAzDJ,8DA4DM,WAAA,CACA,cAAA,CAKN,iDAGI,eAAA,CACA,eAAA,CAJJ,yDAQI,cAAA,CAKJ,kDAGI,WAAA,CAHJ,+DAOM,OAAA,CAPN,iFAUQ,WAAA,CACA,SAAA,CAXR,kFAeQ,WAAA,CACA,SAAA,CAhBR,yCAsBI,KAAA,CACA,QAAA,CAvBJ,qDA4BM,UAAA,CACA,WAAA,CACA,cAAA,CA9BN,mGAyCI,WAAA,CASF,gBACE,KACE,UAAA,CAMF,IACE,SAAA,CAGF,IACE,SAAA,CAGF,GACE,UAAA,CAAA,CAIJ,4BAEE,wBAME,kEAAA,CACA,0DAA2B,CAG7B,GACE,SAAA,CACA,qCAAA,CACA,6BAAW,CAGb,IACE,wCAAA,CACA,gCAAW,CAGb,IACE,qCAAA,CACA,6BAAW,CAGb,IACE,SAAA,CACA,2CAAA,CACA,mCAAW,CAGb,IACE,wCAAA,CACA,gCAAW,CAGb,GACE,SAAA,CACA,kCAAA,CACA,0BAAW,CAAA,CAIf,oBAEE,wBAME,kEAAA,CACA,0DAA2B,CAG7B,GACE,SAAA,CACA,qCAAA,CACA,6BAAW,CAGb,IACE,wCAAA,CACA,gCAAW,CAGb,IACE,qCAAA,CACA,6BAAW,CAGb,IACE,SAAA,CACA,2CAAA,CACA,mCAAW,CAGb,IACE,wCAAA,CACA,gCAAW,CAGb,GACE,SAAA,CACA,kCAAA,CACA,0BAAW,CAAA,CA9GjB,qBAmHI,+BAAA,CACA,uBAAA,CACA,+BAAA,CACA,uBAAA,CAGF,0BACE,KACE,SAAA,CAGF,GACE,SAAA,CAAA,CAIJ,kBACE,KACE,SAAA,CAGF,GACE,SAAA,CAAA,CAzIN,mBA8II,6BAAA,CACA,qBAAA,CA/IJ,qBAmJI,6BAAA,CACA,qBAAA,CACA,gCAAA,CACA,wBAAA,CAGF,gCAAA,qBAEI,kCAAA,CACA,0BAAA,CACA,kCAAA,CACA,0BAAA,CAAA,CAwBN,yCACE,gBACE,uBAAA,CAAA",sourcesContent:[`@charset "UTF-8";

/**
 * @brief   Animation
 * */

@keyframes op-spinner {
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
}

@-webkit-keyframes op-slideOutDown {
  from {
    -webkit-transform: translate3d(0, 0, 0);
    transform: translate3d(0, 0, 0);
  }

  to {
    visibility: hidden;
    -webkit-transform: translate3d(0, 100%, 0);
    transform: translate3d(0, 100%, 0);
  }
}

@keyframes op-slideOutDown {
  from {
    -webkit-transform: translate3d(0, 0, 0);
    transform: translate3d(0, 0, 0);
  }

  to {
    visibility: hidden;
    -webkit-transform: translate3d(0, 100%, 0);
    transform: translate3d(0, 100%, 0);
  }
}

@-webkit-keyframes op-slideInUp {
  from {
    -webkit-transform: translate3d(0, 100%, 0);
    transform: translate3d(0, 100%, 0);
    opacity: 1;
  }

  to {
    -webkit-transform: translate3d(0, 0, 0);
    transform: translate3d(0, 0, 0);
  }
}

@keyframes op-slideInUp {
  from {
    -webkit-transform: translate3d(0, 100%, 0);
    transform: translate3d(0, 100%, 0);
    opacity: 1;
  }

  to {
    -webkit-transform: translate3d(0, 0, 0);
    transform: translate3d(0, 0, 0);
  }
}

@font-face {
  font-family: "frameIcon";
  src: url("../assets/images/ic-player-frame-jump.ttf?rxg7gj") format('truetype');
  font-weight: normal;
  font-style: normal;
}

@font-face {
  font-family: 'op-icons';
  src: url('../assets/fonts/fontello.ttf?13010392') format('truetype');
  font-weight: normal;
  font-style: normal;
}

@font-face {
  font-family: 'op-seek-icons';
  src: url('../assets/fonts/seek-icons.ttf?13010392') format('truetype');
  font-weight: normal;
  font-style: normal;
}

/**
 * @brief   common style
 * */

:root {
  --op-accent-color: #50e3c2;
}

.op-fullscreen-helper {
  overflow: hidden;
  // for preventing scroll on iOS
  position: fixed;
}

.op-wrapper.ovenplayer {
  position: relative;
  max-height: 100%;

  overflow: hidden;
  zoom: 1 !important;
  width: 100%;
  display: block;
  font-family: Helvetica, Arial, sans-serif;
  background-color: #000;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  box-sizing: border-box;
  color: #fff;
  font-size: 14px;
  font-weight: 100;
  outline: 0;

  -webkit-touch-callout: none;
  user-select: none;

  * {
    box-sizing: inherit;
  }

  object {
    width: 100%;
    height: 100%;
    position: absolute;
  }

  &:before,
  &:after {
    -moz-box-sizing: border-box;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
  }

  & *,
  & *:before,
  & *:after {
    -moz-box-sizing: border-box;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
  }

  &.op-fullscreen {
    width: 100vw !important;
    height: 100vh !important;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    z-index: 9999;
    margin: 0;
    position: fixed;

    .op-watermark-container,
    .op-thumbnail-container {
      width: 100vw;
      max-width: calc(100vh * 16 / 9);
      height: calc(100vw * 9 / 16);
      max-height: 100vh;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }

  }

  &.op-autohide {
    cursor: none;

    .op-bottom-panel {

      -webkit-animation-name: op-slideOutDown;
      animation-name: op-slideOutDown;

      -webkit-animation-duration: 0.2s;
      animation-duration: 0.2s;
      -webkit-animation-fill-mode: both;
      animation-fill-mode: both;
    }

    .op-progressbar-container,
    .op-controls .op-button {
      cursor: none;
    }

    .op-caption-text-container {
      bottom: 25px;
    }
  }

  &.op-no-controls {

    .op-controls-container {
      display: none !important;
    }
  }

  .op-ratio {
    padding-bottom: 56.25%;
    /*16:9*/
  }

  & ::-webkit-scrollbar {
    width: 5px;
    height: 8px;
  }

  & ::-webkit-scrollbar-button:start:decrement,
  ::-webkit-scrollbar-button:end:increment {
    display: block;
    height: 3px;
    background: #2f2f3e;
  }

  & ::-webkit-scrollbar-track {
    background: #2f2f3e;
    -webkit-border-radius: 10px;
    border-radius: 10px;
  }

  & ::-webkit-scrollbar-thumb {
    height: 50px;
    width: 50px;
    background: #606071;
    -webkit-border-radius: 8px;
    border-radius: 8px;
  }

  .op-clear {
    color: inherit;
    background-color: transparent;
    padding: 0;
    margin: 0;
    float: none;
    font-family: Helvetica, Arial, sans-serif;
    font-size: 1em;
    line-height: 1em;
    list-style: none;
    text-transform: none;
    vertical-align: baseline;
    border: 0;
    font-variant: inherit;
    font-stretch: inherit;
    -webkit-tap-highlight-color: rgba(255, 255, 255, 0);
  }
}

.op-player {
  position: absolute;
  top: 0;
  height: 100%;
  width: 100%;



  .op-core-ui-wrapper {
    position: relative;
    height: 100%;
  }

  .op-media-element-container {
    /* display: block;
    height: 100%;
    width: auto;
    position : relative;*/


    position: absolute;
    left: 0px;
    top: 0px;
    width: 100%;
    height: 100%;
    transform: scale(var(--mediaZoom));

    video {
      position: absolute;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
    }

    object {
      width: 100%;
      height: 100%;
    }
  }

  .op-ui {

    /*position : absolute;
    bottom : 0px;
    left : 0px;
    width: 100%;
    height: 100%;*/
    .op-controls-container {}

    .op-helpers-container {}
  }
}

.op-ads {
  position: absolute;
  height: 100%;
  width: 100%;
  padding-bottom: 34px;
  //pointer-events: none;
  top: 0;

  &>div {
    position: absolute !important;
    width: 100% !important;
    height: 100% !important;

    iframe {
      pointer-events: auto;
    }
  }

  video.op-ads-vast-video {
    background-color: rgb(0, 0, 0);
    position: absolute;
    width: 100%;
    height: 100%;
    left: 0;
    top: 0;
    z-index: 1;
  }

  .op-ads-button {
    bottom: 36px;
    cursor: default;
    margin-right: 4px;
    pointer-events: auto;
    position: absolute;
    right: 0;
    z-index: 1;
    width: auto !important;
    height: auto !important;
    border-radius: 4px;
    background-color: rgba(18, 18, 28, 0.7);
    min-width: 155px;
    display: none;

    .op-ads-textview {
      color: #e6e6e6;
      //font-family: arial,sans-serif;
      font-weight: normal;
      font-size: 11px;
      padding: 6px 12px;
      text-align: center;
      display: inline-block;
      width: 100%;
      vertical-align: middle;
    }

    .videoAdUiAction {
      padding: 8px 24px;
      cursor: pointer;
      direction: ltr;
      font-weight: normal;
      font-size: 20px;
      border: 1px solid rgba(255, 255, 255, 0.5);

      &:hover {
        border-radius: 4px;
        border: 1px solid rgba(255, 255, 255, 1);
      }

      i {
        display: inline-block;
        width: auto;
      }
    }
  }

}

/**
 * @brief   common components
 * */

.op-button {
  display: inline-block;
  border: none;
  background: transparent;
  padding: 0;
  color: inherit;
  text-align: inherit;
  overflow: hidden;
  font-weight: 100;
  text-indent: 0 !important;

  &:focus,
  & {
    outline: 0;
  }
}

i.op-con {
  font-family: "op-icons", "op-seek-icons";
  font-style: normal;
  font-weight: normal;
  speak: none;

  font-size: inherit;
  width: auto;
  font-size: 30px;
  line-height: 30px;

  display: block;
  text-decoration: inherit;
  text-align: center;

  /* For safety - reset parent styles, that can break glyph codes*/
  font-variant: normal;
  text-transform: none;

  /* Font smoothing. That was taken from TWBS */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;

  cursor: pointer;

  &.disable {
    color: #4f4f4f;
  }

  &.op-close-icon {
    &::before {
      content: "\\e900";
    }
  }

  &.op-pause-big {
    &::before {
      content: "\\e911";
    }
  }

  &.op-fullscreen-compress {
    &::before {
      content: "\\e901";
    }
  }

  &.op-fullscreen-expand {
    &::before {
      content: "\\e902";
    }
  }

  &.op-arrow-left {
    &::before {
      content: "\\e903";
    }
  }

  &.op-arrow-right {
    &::before {
      content: "\\e909";
    }
  }

  &.op-empty-video {
    &::before {
      content: "\\e904";
    }
  }

  &.op-play {
    &::before {
      content: "\\e906";
    }
  }

  &.op-replay {
    &::before {
      content: "\\e908";
    }
  }

  &.op-seek-back {
    &::before {
      content: "\\e920";
    }
  }

  &.op-seek-forward {
    &::before {
      content: "\\e921";
    }
  }

  &.op-playlist-icon {
    &::before {
      content: "\\e907";
    }
  }

  &.op-replay-big {
    &::before {
      content: "\\e908";
    }
  }

  &.op-setting {
    &::before {
      content: "\\e90A";
    }
  }

  &.op-pause {
    &::before {
      content: "\\e90C";
    }
  }

  &.op-volume-small {
    display: none;
    margin-top: -1px;

    &::before {
      content: "\\e90D";
    }
  }

  &.op-volume-mute {
    display: none;

    &::before {
      content: "\\e90E";
    }
  }

  &.op-volume-max {
    &::before {
      content: "\\e90F";
    }
  }

  &.op-play-big {
    &::before {
      content: "\\e910";
    }
  }

  &.op-warning {
    &::before {
      content: "\\e912";
    }
  }
}

.op-badge {
  display: inline-block;
  padding: .75em .714em .714em .680em;
  font-size: 1em;
  line-height: 1;
  text-align: center;
  white-space: nowrap;
  vertical-align: baseline;
  border-radius: 0.286em;
  background-color: #12121c;
}

.op-playlist {
  position: absolute;
  width: 100%;
  height: 100%;
  left: 0;
  top: 0;
  padding: 2.857em;
  background: #000;
  z-index: 6;

  .op-badge {
    position: absolute;
    top: 0.857em;
    right: 0.857em;
    opacity: 0.7;
  }

  .btn-left {
    float: left;
    font-size: 2.857em;
  }

  .btn-right {
    float: right;
    font-size: 2.857em;
  }

  .op-playlist-header {
    font-size: 2.857em;
    font-weight: bold;

    &:after {
      display: block;
      content: '';
      clear: both;
    }

    .op-con.op-close-icon {
      float: right;
    }
  }

  .op-playlist-body {
    height: 100%;
    overflow: hidden;
    position: relative;

    .op-playlist-body-arrows {
      margin-top: -15px;
      position: absolute;
      top: 50%;
      height: 30px;
      -ms-transform: translateY(-50%);
      transform: translateY(-50%);
      width: 100%;
      left: 0;
    }

    .op-playlist-body-container {
      width: 100%;
      height: 100%;
      position: relative;
      margin-right: auto;
      margin-left: auto;
      max-width: 992px;

      .op-playlist-body-center {
        margin: 0;
        position: absolute;
        top: 50%;
        padding-right: 3em;
        padding-left: 3em;
        -ms-transform: translateY(-50%);
        transform: translateY(-50%);
        width: 100%;
      }
    }

    .op-playlist-body-row {
      margin-right: -15px;
      margin-left: -15px;
      display: -ms-flexbox;
      display: flex;
      -ms-flex-wrap: wrap;
      flex-wrap: wrap;


      .op-playlist-card {
        padding-right: 15px;
        padding-left: 15px;
        margin: 15px 0;
        -ms-flex-preferred-size: 0;
        flex-basis: 0;
        -ms-flex-positive: 1;
        flex-grow: 1;
        -ms-flex: 0 0 33.333333%;
        flex: 0 0 33.333333%;
        max-width: 33.333333%;
        cursor: pointer;

        &.active {
          color: #50e3c2;
          color: var(--op-accent-color);

          .op-playlist-card-thumbnail {
            border-color: #50e3c2;
            border-color: var(--op-accent-color);
          }
        }

        .op-playlist-card-thumbnail {
          position: relative;
          display: block;
          width: 100%;
          padding: 0;
          overflow: hidden;
          border: 0.214em solid transparent;
          background-color: #000;

          img {
            position: absolute;
            top: 0;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 0;
          }

          &.empty {
            background-color: #bababa;

            &>i {
              margin: 0;
              position: absolute;
              top: 50%;
              left: 50%;
              transform: translate(-50%, -50%);
              color: #fff !important;
              font-size: 1.6em !important;
            }
          }

          &::before {
            padding-top: 56.25%;
            display: block;
            content: "";
          }
        }

        .op-playlist-card-title {
          margin-top: 0.857em;
          font-size: 1.429em;
          padding: 2px 0;
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
        }

      }
    }

  }
}


/**
 * @brief   Message Box
 * */

.op-message-box {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 4;

  .op-message-container {
    position: absolute;
    top: 45%;
    margin-top: -35px;
    width: 100%;
    padding: 0 12px;
    text-align: center;

    .op-message-text {
      display: inline-block;
      background-color: rgba(18, 18, 28, .3);
      padding: 0.8em 1.2em;
      word-wrap: break-word;
      max-width: 80%;
      border-radius: 4px;
      cursor: pointer;

      .op-message-description {
        font-size: 12px;
        margin-top: 12px;
        color: #999;
      }
    }


    .op-message-icon {
      display: inline-block;
      margin-top: 12px;
      width: 100%;

      i.op-con {
        cursor: pointer;
        font-size: 80px;
        width: 80px;
        height: 80px;
        line-height: 80px;
        display: inline-block;
        text-shadow: 2px 2px 7px rgb(0 0 0 / 80%), 0px 0px 1px rgb(0 0 0);
      }
    }

    /*.op-message-button{
      display: inline-block;
      padding : 1em;
      margin-left : 0.4em;
      background-color: rgba(28,28,28,.4);
      cursor : pointer;
    }*/
  }
}

.op-message-box.op-message-box-default-cursor .op-message-container .op-message-text {
  cursor: default;
}

.op-message-box.op-message-box-default-cursor .op-message-container .op-message-icon i.op-con {
  cursor: default;
}

/**
 * @brief   Big button
 * */

.op-bigbutton-container {
  cursor: pointer;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
  z-index: 5;

  .op-bigbutton {
    width: 80px;
    height: 80px;
    display: block;
    font-size: 80px;
    line-height: 80px;
    text-shadow: 2px 2px 7px rgb(0 0 0 / 80%), 0px 0px 1px rgb(0 0 0);
  }
}

/**
 * @brief   Thumbnail
 * */

.op-thumbnail-container {
  position: absolute;
  width: 100%;
  height: 100%;
  //padding-bottom: 56.25%;
  top: 0;
  left: 0;
  //transform: translate(-50%, -50%);
  z-index: 2;
  pointer-events: none;

  .op-thumbnail-wrapper {
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;

    img {
      width: 100%;
      height: 100%;
    }

    .op-thumbnail-header {
      position: absolute;
      left: 1rem;
      top: 1rem;
      padding: 0 0.5rem;
      font-size: 2.857em;
      font-weight: bold;
      line-height: 1.4;
      text-shadow: 2px 2px 7px rgb(0 0 0 / 80%), 0px 0px 1px rgb(0 0 0);

      &:after {
        display: block;
        content: '';
        clear: both;
      }
    }
  }
}

/**
 * @brief   WaterMark
 * */

.op-watermark-container {
  position: absolute;
  width: 100%;
  height: 100%;
  //padding-bottom: 56.25%;
  top: 0;
  left: 0;
  //transform: translate(-50%, -50%);
  z-index: 3;

  .op-watermark {
    position: absolute;
    display: inline-block;

    img {
      width: 100%;
      height: auto;
    }

    .op-watermark-text {
      font-size: 14px;
    }
  }
}

/**
 * @brief   Setting panel
 * */

.op-setting-panel {
  position: absolute;
  bottom: 55px;
  right: 12px;
  overflow-y: auto;
  max-height: 100%;
  width: 260px;
  //font-size: 0.8em;
  user-select: none;
  background-color: rgba(28, 28, 28, .9);
  text-shadow: 0 0 2px rgba(0, 0, 0, .5);
  z-index: 8;

  &.background {
    //opacity: 0;
    //background-color: rgba(28,28,28,.0);
    display: none;
  }

  .op-setting-title,
  .op-setting-item {
    width: 100%;
    height: 38px;
    line-height: 38px;
    cursor: pointer;
    outline: none;
    text-align: left;
  }

  .op-setting-title-container {
    .op-setting-title {
      .op-setting-title-title {
        padding-left: 12px;
        font-weight: bold;
        //font-size: 0.9rem;
      }

      .op-setting-title-previcon {
        padding: 0 0 0 12px;
        margin-right: -6px;
      }

    }
  }

  .op-setting-item-container {
    .op-setting-item {
      &:hover {
        background-color: rgba(255, 255, 255, .1);
      }

      .op-setting-item-title {
        padding-left: 12px;
      }

      .op-setting-item-nexticon {
        float: right;
        padding-right: 12px;
        margin-left: -6px;
      }

      span.op-setting-item-value {
        float: right;
        padding-right: 12px;
      }

      .op-setting-item-checked {
        padding-left: 12px;
        visibility: hidden;
      }

      .op-setting-item-checked.op-show {
        visibility: visible;
      }
    }
  }
}



/**
 * @brief   Controls (container)
 * */

.op-controls-container {
  display: none;

  .op-bottom-panel {
    position: absolute;
    left: 0px;
    bottom: 0px;
    width: 100%;
    z-index: 5;

    .op-gradient-bottom {
      position: absolute;
      width: 100%;
      height: 100%;
      background-color: rgba(18, 18, 18, 0.5);
      pointer-events: none;
      /*-moz-transition: opacity .25s cubic-bezier(0.0,0.0,0.2,1);
      -webkit-transition: opacity .25s cubic-bezier(0.0,0.0,0.2,1);
      transition: opacity .25s cubic-bezier(0.0,0.0,0.2,1);*/
    }

    -webkit-animation-name: op-slideInUp;
    animation-name: op-slideInUp;

    -webkit-animation-duration: 0.5s;
    animation-duration: 0.5s;
    -webkit-animation-fill-mode: both;
    animation-fill-mode: both;

    .op-progressbar-container {
      display: block;
      position: relative;
      width: 100%;
      height: 4px;
      bottom: 50px;

      &.op-progressbar-container-disabled {
        cursor: default;
      }

      .op-progressbar-padding {
        position: absolute;
        width: 100%;
        height: 15px;
        bottom: -5px;
        cursor: pointer;
      }
    }


    /*contols container*/
    .op-controls {
      position: relative;
      width: 100%;
      height: 50px;
      text-align: left;
      overflow: hidden;

      &:after {
        content: '';
        clear: both;
      }

      .op-setting-button {
        position: relative;
        margin-right: 12px;
      }

      .op-playlist-button {
        position: relative;
        margin-right: 12px;
      }

      .op-navigators {
        float: left;
        height: 30px;
        line-height: 30px;
      }

      .op-left-controls {
        position: absolute;
        top: 0;
        left: 0;
        padding: 14px 0 10px 0;

        &:after {
          content: '';
          clear: both;
        }
      }

      .op-right-controls {
        position: absolute;
        top: 0;
        right: 0;
        padding: 14px 0 10px 0;

        &:after {
          content: '';
          clear: both;
        }
      }

      /*maybe not use*/
      .op-frame-buttons {
        position: relative;
        display: inline-block;
        margin-left: 14px;
        overflow: hidden;
        font-weight: 100;
        height: 30px;

        .op-frame-button {
          margin-right: 6px;
          position: relative;
          text-align: center;
          color: #fff;

          .frame-icon {
            position: relative;

            &.reverse {
              &:after {
                content: '\\e900';
              }
            }

            &:after {
              font-family: 'frameIcon' !important;
              speak: none;
              content: '\\e901';
              font-style: normal;
              font-weight: normal;
              font-variant: normal;
              text-transform: none;

              /* Better Font Rendering =========== */
              -webkit-font-smoothing: antialiased;
              -moz-osx-font-smoothing: grayscale;
              position: absolute;
              font-size: 2.4em;
              left: 0;
              line-height: 30px;
              height: 30px;
            }

            .btn-text {
              font-weight: bold;
              font-size: 0.8em;
              line-height: 30px;
              height: 30px;
            }

          }

        }

      }
    }
  }

}


/**
 * @brief   Progressbar
 * */

.op-progressbar {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 100%;
  outline: none;
  margin-top: 10px;

  .op-play-background-color {
    background-color: #50e3c2; // for ie 11
    background-color: var(--op-accent-color);
  }

  .op-progress-list {
    cursor: pointer;
    position: relative;
    height: 100%;
    background: rgba(255, 255, 255, 0.2);

    .op-load-progress,
    .op-play-progress,
    .op-hover-progress {
      position: absolute;
      left: 0;
      bottom: 0;
      width: 100%;
      height: 100%;
    }

    .op-play-progress {
      width: 0;
    }

    .op-load-progress {
      width: 0;
      background-color: rgba(255, 255, 255, .5);
    }

    .op-hover-progress {
      left: 0;
      width: 0;
      background-color: rgba(255, 255, 255, .6);
    }

  }

  .op-progressbar-knob-container {
    position: absolute;
    top: -5px;
    left: 0;

    .op-progressbar-knob {
      width: 14px;
      height: 14px;
      border-radius: 7px;
      cursor: pointer;
    }
  }

  .op-progressbar-time {
    display: none;
    position: absolute;
    bottom: 15px;
    left: auto;
    width: auto;
    background-color: rgba(28, 28, 28, 0.9);
    border-radius: 2px;
    padding: 5px 9px;
    font-size: 0.8em;
    line-height: 15px;
    user-select: none;
    white-space: nowrap;
    opacity: 0.7;
  }


}

.op-progressbar-hover .op-progressbar-time {
  display: inline-block;
}

.op-on-error .op-progressbar-time {
  display: none;
}

.op-progressbar-section-start,
.op-progressbar-section-end {
  display: none;
  position: absolute;
  width: 3px;
  height: 14px;
  bottom: -5px;
  background-color: #50e3c2;
  background-color: var(--op-accent-color);
}

.op-progressbar-preview {
  position: absolute;
  display: none;
  bottom: 50px;
  border: 2px solid #fff;
  border-radius: 2px;
  background-color: #000;
  z-index: 9;
}

.op-play-controller {
  margin-left: 15px;
}

/**
 * @brief   Seek button
 * */

.op-seek-button {
  //display: none;
  position: relative;
  top: 0px;

  &.op-seek-button-back {
    margin-left: 12px;
  }

  &.op-seek-button-forward {
    margin-left: 6px;
  }

  i {
    padding-top: 1px;
    font-size: 26px;
  }

  span {
    position: absolute;
    top: 10.5px;
    left: 0;
    right: 0;
    text-align: center;
    font-size: 10px;
    line-height: 10px;
    cursor: pointer;
  }
}


/**
 * @brief   Volume button
 * */
.op-volume-controller {
  display: inline-block;
  position: relative;
  margin-left: 12px;

  &:after {
    content: '';
    clear: both;
  }

  .op-volume-button {
    float: left;
  }

  @-webkit-keyframes slide {
    100% {
      left: 0;
    }
  }

  @keyframes slide {
    100% {
      left: 0;
    }
  }

  .op-volume-slider-container {
    /*display: inline-block;*/
    float: left;
    opacity: 0;
    position: relative;
    width: 0px;
    margin-right: 0;
    line-height: 30px;
    height: 30px;
    cursor: pointer;
    user-select: none;
    outline: none;

    &.active {
      width: 70px;
      opacity: 1;
      margin-left: 8px;
      -moz-transition: opacity .4s cubic-bezier(0.0, 0.0, 0.2, 1);
      -webkit-transition: opacity .4s cubic-bezier(0.0, 0.0, 0.2, 1);
      transition: opacity .4s cubic-bezier(0.0, 0.0, 0.2, 1);
    }

    .op-volume-silder {
      height: 100%;
      position: relative;

      .op-volume-slider-bg,
      .op-volume-slider-value {
        position: absolute;
        display: block;
        left: 0;
        top: 50%;
        height: 4px;
        margin-top: -2px;
        border-radius: 10px;
      }

      .op-volume-slider-bg {
        width: 100%;
        background: #fff;
      }

      .op-volume-slider-value {
        width: 100%;
        background: #50e3c2;
        background: var(--op-accent-color);
        border-radius: 10px 0 0 10px;
        //-moz-transition: width .2s cubic-bezier(0.0,0.0,0.2,1);
        //-webkit-transition: width .2s cubic-bezier(0.0,0.0,0.2,1);
        //transition: width .2s cubic-bezier(0.0,0.0,0.2,1);
      }

      .op-volume-slider-handle {
        position: absolute;
        top: 50%;
        left: 30px;
        width: 12px;
        height: 12px;
        border-radius: 10px;
        margin-top: -6px;
        background: #fff;
        //-moz-transition: left .2s cubic-bezier(0.0,0.0,0.2,1);
        //-webkit-transition: left .2s cubic-bezier(0.0,0.0,0.2,1);
        //transition: left .2s cubic-bezier(0.0,0.0,0.2,1);
      }
    }
  }
}


/**
 * @brief   Time Display
 * */

.op-time-display {
  float: left;
  position: relative;
  margin-left: 14px;
  height: 30px;
  line-height: 30px;
  white-space: nowrap;
  vertical-align: top;
  font-size: 14px;
  user-select: none;
  /*   */

  .op-time-current,
  .op-time-separator,
  .op-time-duration {}

  .op-live-badge {
    opacity: 1;
    width: auto;
    display: inline-block;

    &:before {
      background: #ff0000;
      display: inline-block;
      position: relative;
      top: -2px;
      width: 6px;
      height: 6px;
      margin-right: 5px;
      content: '';
      border-radius: 6px;
    }

    &.op-live-badge-delayed:before {
      background: #fff;
    }

    &.op-live-badge-none:before {
      display: none;
    }

    .op-live-badge-lowlatency {
      display: inline-block;
      margin-right: 5px;
    }

    .op-live-text {
      cursor: pointer;
    }
  }

}


/**
 * @brief   Context Panel
 * */

.op-context-panel {
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  box-sizing: border-box;
  display: block;
  position: absolute;
  overflow: hidden;
  width: 200px;
  padding: 6px 0;
  z-index: 8;
  background: rgba(28, 28, 28, 0.9);
  text-shadow: 0 0 2px rgba(0, 0, 0, .5);
  font-weight: lighter;
  user-select: none;

  &:before,
  &:after {
    -moz-box-sizing: border-box;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
  }

  & *,
  & *:before,
  & *:after {
    -moz-box-sizing: border-box;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
  }

  .op-context-item {
    width: 100%;
    height: 38px;
    padding-left: 12px;
    line-height: 38px;
    cursor: pointer;
    outline: none;
    font-size: 0.8em;
    font-weight: lighter;
    text-overflow: ellipsis;
    white-space: nowrap;
    overflow: hidden;

    &:hover {
      background-color: rgba(255, 255, 255, .1);
    }
  }

}






/**
 * @brief   FullScreen button
 * */

.op-fullscreen-button {
  position: relative;
  margin-right: 15px;

  .op-fullscreen-compress {
    display: none;
  }
}

/**
 * @brief   spinner
 * */

.op-spinner-container {
  position: absolute;
  top: 50%;
  width: 64px;
  left: 50%;
  margin-left: -32px;
  margin-top: -32px;
  z-index: 7;
  display: none;


  .op-spinner {
    display: inline-block;
    position: relative;
    width: 64px;
    height: 64px;

    border: 4px solid transparent;
    border-top: 4px solid #50e3c2;
    border-top: 4px solid var(--op-accent-color);
    border-radius: 50%;

    animation: spin 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;

    @keyframes spin {
      0% {
        transform: rotate(0deg);
      }

      100% {
        transform: rotate(360deg);
      }
    }
  }

}


/**
 * @brief   caption.
 * */

.op-caption-viewer {

  .op-caption-text-container {
    position: absolute;
    bottom: 60px;
    width: 100%;
    padding: 0 12px;
    text-align: center;
    -moz-transition: bottom .25s cubic-bezier(0.0, 0.0, 0.2, 1);
    -webkit-transition: bottom .25s cubic-bezier(0.0, 0.0, 0.2, 1);
    transition: bottom .25s cubic-bezier(0.0, 0.0, 0.2, 1);

    .op-caption-text {
      color: #fff;
      font-size: 1em;
      line-height: 1.2em;
      text-shadow: 2px 2px 2px gray;
      padding: .1em .3em;
      user-select: none;
      word-break: break-word;
      white-space: pre-line;
      border: none;
      background: none;
    }
  }
}

.op-caption-button {
  width: 36px;
}

.op-caption-button>i {
  font-size: 18px;
  -moz-transition: color .25s cubic-bezier(0.0, 0.0, 0.2, 1);
  -webkit-transition: color .25s cubic-bezier(0.0, 0.0, 0.2, 1);
  transition: color .25s cubic-bezier(0.0, 0.0, 0.2, 1);
}

.op-caption-active .op-caption-button>i {
  color: #F36446;
}



/*Responsive  */

.op-wrapper.ovenplayer.large {
  font-size: 14px;

  .op-caption-text {
    font-size: 2em;
    line-height: 2em;
  }

}

.op-wrapper.ovenplayer.medium {
  font-size: 12px;

  .op-caption-text {
    font-size: 1.4em;
    line-height: 1.4em;
  }
}

.op-wrapper.ovenplayer.small {
  font-size: 10px;

  .op-caption-text {
    font-size: 1.4em;
    line-height: 1.4em;
  }

  .op-playlist {
    padding: 1rem;

    .op-playlist-card {
      margin: 5px 0;
    }
  }

}

.op-wrapper.ovenplayer.xsmall {
  font-size: 10px;

  .op-bigbutton-container {

    .op-bigbutton {
      width: 60px;
      height: 60px;
      font-size: 60px;
      line-height: 60px;
    }
  }

  .op-caption-text {
    font-size: 1.4em;
    line-height: 1.4em;
  }

  .op-playlist {
    padding: 1rem;

    .op-playlist-header {
      font-size: 2em;
    }

    .op-playlist-card {
      margin: 5px 0;
      -ms-flex: 0 0 100%;
      flex: 0 0 100%;
      max-width: 100%;
      padding: 0 6em;

      .op-playlist-card-title {
        margin-top: 0;
      }
    }
  }

  .op-message-box {
    .op-message-container {
      top: 50%;
      font-weight: bold;

      .op-message-icon {
        margin-top: 0;

        .op-con {
          font-size: 40px;
          width: 40px;
          height: 40px;
          line-height: 40px;
        }
      }
    }
  }

  .op-ads-button {
    bottom: 22px;

    .videoAdUiAction {
      padding: 4px;
      font-size: 14px;
    }
  }
}

.op-wrapper.ovenplayer.xxsmall {

  .op-left-controls {
    max-width: 240px; // for small layout
    overflow: hidden; // for small layout
  }

  .op-live-badge-lowlatency {
    max-width: 75px;
  }
}

/*AD MODE*/
.op-wrapper.ovenplayer.linear-ad {

  .op-bottom-panel {
    height: 34px;

    .op-controls {

      top: 4px;

      .op-left-controls {
        height: 30px;
        padding: 0;
      }

      .op-right-controls {
        height: 30px;
        padding: 0;
      }
    }
  }

  .op-ads {
    top: 0;
    bottom: 0;
  }

  .op-button {
    i.op-con {
      width: 24px;
      height: 24px;
      font-size: 24px;
    }
  }

  .op-right-controls {
    .op-button {
      //margin-top: -2px;
    }
  }

  .op-controls-container .op-bottom-panel .op-progressbar-container {
    bottom: 50px;
  }
}

/**
 * @brief   Animation
 * */

.op-player {
  @keyframes fade {
    from {
      opacity: 0.3;
    }

    /*5% { opacity: 0.3; }*/
    /*40% { opacity: 1; }*/
    /*50% { opacity: 1; }*/
    55% {
      opacity: 1;
    }

    75% {
      opacity: 1;
    }

    to {
      opacity: 0.3;
    }
  }

  @-webkit-keyframes bounceIn {

    from,
    20%,
    40%,
    60%,
    80%,
    to {
      -webkit-animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
      animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
    }

    0% {
      opacity: 0;
      -webkit-transform: scale3d(0.5, 0.5, 0.5);
      transform: scale3d(0.5, 0.5, 0.5);
    }

    20% {
      -webkit-transform: scale3d(1.1, 1.1, 1.1);
      transform: scale3d(1.1, 1.1, 1.1);
    }

    40% {
      -webkit-transform: scale3d(0.9, 0.9, 0.9);
      transform: scale3d(0.9, 0.9, 0.9);
    }

    60% {
      opacity: 1;
      -webkit-transform: scale3d(1.03, 1.03, 1.03);
      transform: scale3d(1.03, 1.03, 1.03);
    }

    80% {
      -webkit-transform: scale3d(0.97, 0.97, 0.97);
      transform: scale3d(0.97, 0.97, 0.97);
    }

    to {
      opacity: 1;
      -webkit-transform: scale3d(1, 1, 1);
      transform: scale3d(1, 1, 1);
    }
  }

  @keyframes bounceIn {

    from,
    20%,
    40%,
    60%,
    80%,
    to {
      -webkit-animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
      animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
    }

    0% {
      opacity: 0;
      -webkit-transform: scale3d(0.3, 0.3, 0.3);
      transform: scale3d(0.3, 0.3, 0.3);
    }

    20% {
      -webkit-transform: scale3d(1.1, 1.1, 1.1);
      transform: scale3d(1.1, 1.1, 1.1);
    }

    40% {
      -webkit-transform: scale3d(0.9, 0.9, 0.9);
      transform: scale3d(0.9, 0.9, 0.9);
    }

    60% {
      opacity: 1;
      -webkit-transform: scale3d(1.03, 1.03, 1.03);
      transform: scale3d(1.03, 1.03, 1.03);
    }

    80% {
      -webkit-transform: scale3d(0.97, 0.97, 0.97);
      transform: scale3d(0.97, 0.97, 0.97);
    }

    to {
      opacity: 1;
      -webkit-transform: scale3d(1, 1, 1);
      transform: scale3d(1, 1, 1);
    }
  }

  .bounceIn {
    -webkit-animation-duration: 0.75s;
    animation-duration: 0.75s;
    -webkit-animation-name: bounceIn;
    animation-name: bounceIn;
  }

  @-webkit-keyframes fadeIn {
    from {
      opacity: 0;
    }

    to {
      opacity: 1;
    }
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
    }

    to {
      opacity: 1;
    }
  }

  .fadeIn {
    -webkit-animation-name: fadeIn;
    animation-name: fadeIn;
  }

  .animated {
    -webkit-animation-duration: 1s;
    animation-duration: 1s;
    -webkit-animation-fill-mode: both;
    animation-fill-mode: both;
  }

  @media (prefers-reduced-motion) {
    .animated {
      -webkit-animation: unset !important;
      animation: unset !important;
      -webkit-transition: none !important;
      transition: none !important;
    }
  }


  /* Pulse Shrink */
  /*.op-button {
    //display: inline-block;
    //vertical-align: middle;
    transform: translateZ(0);
    box-shadow: 0 0 1px rgba(0, 0, 0, 0);
    backface-visibility: hidden;
    -moz-osx-font-smoothing: grayscale;
    transition-duration: 0.3s;
    transition-property: transform;
  }
  .op-button:hover,
  .op-button:focus,
  .op-button:active {
    transform: scale(1.1);
  }*/
}


@media only screen and (max-width: 399px) {
  .op-seek-button {
    display: none !important;
  }
}`],sourceRoot:""}]),c.A=S},76314:function(s){s.exports=function(c){var e=[];return e.toString=function(){return this.map((function(o){var u="",f=o[5]!==void 0;return o[4]&&(u+="@supports (".concat(o[4],") {")),o[2]&&(u+="@media ".concat(o[2]," {")),f&&(u+="@layer".concat(o[5].length>0?" ".concat(o[5]):""," {")),u+=c(o),f&&(u+="}"),o[2]&&(u+="}"),o[4]&&(u+="}"),u})).join("")},e.i=function(o,u,f,A,p){typeof o=="string"&&(o=[[null,o,void 0]]);var m={};if(f)for(var y=0;y<this.length;y++){var b=this[y][0];b!=null&&(m[b]=!0)}for(var E=0;E<o.length;E++){var S=[].concat(o[E]);f&&m[S[0]]||(p!==void 0&&(S[5]===void 0||(S[1]="@layer".concat(S[5].length>0?" ".concat(S[5]):""," {").concat(S[1],"}")),S[5]=p),u&&(S[2]&&(S[1]="@media ".concat(S[2]," {").concat(S[1],"}")),S[2]=u),A&&(S[4]?(S[1]="@supports (".concat(S[4],") {").concat(S[1],"}"),S[4]=A):S[4]="".concat(A)),e.push(S))}},e}},4417:function(s){s.exports=function(c,e){return e||(e={}),c&&(c=String(c.__esModule?c.default:c),/^['"].*['"]$/.test(c)&&(c=c.slice(1,-1)),e.hash&&(c+=e.hash),/["'() \t\n]|(%20)/.test(c)||e.needQuotes?'"'.concat(c.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):c)}},71354:function(s){s.exports=function(c){var e=c[1],o=c[3];if(!o)return e;if(typeof btoa=="function"){var u=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),f="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(u),A="/*# ".concat(f," */");return[e].concat([A]).join(`
`)}return[e].join(`
`)}},85072:function(s){var c=[];function e(f){for(var A=-1,p=0;p<c.length;p++)if(c[p].identifier===f){A=p;break}return A}function o(f,A){for(var p={},m=[],y=0;y<f.length;y++){var b=f[y],E=A.base?b[0]+A.base:b[0],S=p[E]||0,T="".concat(E," ").concat(S);p[E]=S+1;var L=e(T),I={css:b[1],media:b[2],sourceMap:b[3],supports:b[4],layer:b[5]};if(L!==-1)c[L].references++,c[L].updater(I);else{var B=u(I,A);A.byIndex=y,c.splice(y,0,{identifier:T,updater:B,references:1})}m.push(T)}return m}function u(f,A){var p=A.domAPI(A);return p.update(f),function(m){if(m){if(m.css===f.css&&m.media===f.media&&m.sourceMap===f.sourceMap&&m.supports===f.supports&&m.layer===f.layer)return;p.update(f=m)}else p.remove()}}s.exports=function(f,A){var p=o(f=f||[],A=A||{});return function(m){m=m||[];for(var y=0;y<p.length;y++){var b=e(p[y]);c[b].references--}for(var E=o(m,A),S=0;S<p.length;S++){var T=e(p[S]);c[T].references===0&&(c[T].updater(),c.splice(T,1))}p=E}}},77659:function(s){var c={};s.exports=function(e,o){var u=(function(f){if(c[f]===void 0){var A=document.querySelector(f);if(window.HTMLIFrameElement&&A instanceof window.HTMLIFrameElement)try{A=A.contentDocument.head}catch{A=null}c[f]=A}return c[f]})(e);if(!u)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");u.appendChild(o)}},10540:function(s){s.exports=function(c){var e=document.createElement("style");return c.setAttributes(e,c.attributes),c.insert(e,c.options),e}},55056:function(s,c,e){s.exports=function(o){var u=e.nc;u&&o.setAttribute("nonce",u)}},97825:function(s){s.exports=function(c){if(typeof document>"u")return{update:function(){},remove:function(){}};var e=c.insertStyleElement(c);return{update:function(o){(function(u,f,A){var p="";A.supports&&(p+="@supports (".concat(A.supports,") {")),A.media&&(p+="@media ".concat(A.media," {"));var m=A.layer!==void 0;m&&(p+="@layer".concat(A.layer.length>0?" ".concat(A.layer):""," {")),p+=A.css,m&&(p+="}"),A.media&&(p+="}"),A.supports&&(p+="}");var y=A.sourceMap;y&&typeof btoa<"u"&&(p+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(y))))," */")),f.styleTagTransform(p,u,f.options)})(e,c,o)},remove:function(){(function(o){if(o.parentNode===null)return!1;o.parentNode.removeChild(o)})(e)}}}},41113:function(s){s.exports=function(c,e){if(e.styleSheet)e.styleSheet.cssText=c;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(c))}}},78624:function(s,c,e){var o=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||e.g!==void 0&&e.g||{},u="URLSearchParams"in o,f="Symbol"in o&&"iterator"in Symbol,A="FileReader"in o&&"Blob"in o&&(function(){try{return new Blob,!0}catch{return!1}})(),p="FormData"in o,m="ArrayBuffer"in o;if(m)var y=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],b=ArrayBuffer.isView||function(N){return N&&y.indexOf(Object.prototype.toString.call(N))>-1};function E(N){if(typeof N!="string"&&(N=String(N)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(N)||N==="")throw new TypeError('Invalid character in header field name: "'+N+'"');return N.toLowerCase()}function S(N){return typeof N!="string"&&(N=String(N)),N}function T(N){var K={next:function(){var Z=N.shift();return{done:Z===void 0,value:Z}}};return f&&(K[Symbol.iterator]=function(){return K}),K}function L(N){this.map={},N instanceof L?N.forEach((function(K,Z){this.append(Z,K)}),this):Array.isArray(N)?N.forEach((function(K){if(K.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+K.length);this.append(K[0],K[1])}),this):N&&Object.getOwnPropertyNames(N).forEach((function(K){this.append(K,N[K])}),this)}function I(N){if(!N._noBody)return N.bodyUsed?Promise.reject(new TypeError("Already read")):void(N.bodyUsed=!0)}function B(N){return new Promise((function(K,Z){N.onload=function(){K(N.result)},N.onerror=function(){Z(N.error)}}))}function O(N){var K=new FileReader,Z=B(K);return K.readAsArrayBuffer(N),Z}function _(N){if(N.slice)return N.slice(0);var K=new Uint8Array(N.byteLength);return K.set(new Uint8Array(N)),K.buffer}function M(){return this.bodyUsed=!1,this._initBody=function(N){var K;this.bodyUsed=this.bodyUsed,this._bodyInit=N,N?typeof N=="string"?this._bodyText=N:A&&Blob.prototype.isPrototypeOf(N)?this._bodyBlob=N:p&&FormData.prototype.isPrototypeOf(N)?this._bodyFormData=N:u&&URLSearchParams.prototype.isPrototypeOf(N)?this._bodyText=N.toString():m&&A&&(K=N)&&DataView.prototype.isPrototypeOf(K)?(this._bodyArrayBuffer=_(N.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):m&&(ArrayBuffer.prototype.isPrototypeOf(N)||b(N))?this._bodyArrayBuffer=_(N):this._bodyText=N=Object.prototype.toString.call(N):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof N=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):u&&URLSearchParams.prototype.isPrototypeOf(N)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},A&&(this.blob=function(){var N=I(this);if(N)return N;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer)return I(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer));if(A)return this.blob().then(O);throw new Error("could not read as ArrayBuffer")},this.text=function(){var N,K,Z,F,q,nt=I(this);if(nt)return nt;if(this._bodyBlob)return N=this._bodyBlob,Z=B(K=new FileReader),q=(F=/charset=([A-Za-z0-9_-]+)/.exec(N.type))?F[1]:"utf-8",K.readAsText(N,q),Z;if(this._bodyArrayBuffer)return Promise.resolve((function(ot){for(var Ct=new Uint8Array(ot),St=new Array(Ct.length),Tt=0;Tt<Ct.length;Tt++)St[Tt]=String.fromCharCode(Ct[Tt]);return St.join("")})(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},p&&(this.formData=function(){return this.text().then($)}),this.json=function(){return this.text().then(JSON.parse)},this}L.prototype.append=function(N,K){N=E(N),K=S(K);var Z=this.map[N];this.map[N]=Z?Z+", "+K:K},L.prototype.delete=function(N){delete this.map[E(N)]},L.prototype.get=function(N){return N=E(N),this.has(N)?this.map[N]:null},L.prototype.has=function(N){return this.map.hasOwnProperty(E(N))},L.prototype.set=function(N,K){this.map[E(N)]=S(K)},L.prototype.forEach=function(N,K){for(var Z in this.map)this.map.hasOwnProperty(Z)&&N.call(K,this.map[Z],Z,this)},L.prototype.keys=function(){var N=[];return this.forEach((function(K,Z){N.push(Z)})),T(N)},L.prototype.values=function(){var N=[];return this.forEach((function(K){N.push(K)})),T(N)},L.prototype.entries=function(){var N=[];return this.forEach((function(K,Z){N.push([Z,K])})),T(N)},f&&(L.prototype[Symbol.iterator]=L.prototype.entries);var U=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function Q(N,K){if(!(this instanceof Q))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var Z,F,q=(K=K||{}).body;if(N instanceof Q){if(N.bodyUsed)throw new TypeError("Already read");this.url=N.url,this.credentials=N.credentials,K.headers||(this.headers=new L(N.headers)),this.method=N.method,this.mode=N.mode,this.signal=N.signal,q||N._bodyInit==null||(q=N._bodyInit,N.bodyUsed=!0)}else this.url=String(N);if(this.credentials=K.credentials||this.credentials||"same-origin",!K.headers&&this.headers||(this.headers=new L(K.headers)),this.method=(F=(Z=K.method||this.method||"GET").toUpperCase(),U.indexOf(F)>-1?F:Z),this.mode=K.mode||this.mode||null,this.signal=K.signal||this.signal||(function(){if("AbortController"in o)return new AbortController().signal})(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&q)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(q),!(this.method!=="GET"&&this.method!=="HEAD"||K.cache!=="no-store"&&K.cache!=="no-cache")){var nt=/([?&])_=[^&]*/;nt.test(this.url)?this.url=this.url.replace(nt,"$1_="+new Date().getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+new Date().getTime()}}function $(N){var K=new FormData;return N.trim().split("&").forEach((function(Z){if(Z){var F=Z.split("="),q=F.shift().replace(/\+/g," "),nt=F.join("=").replace(/\+/g," ");K.append(decodeURIComponent(q),decodeURIComponent(nt))}})),K}function W(N,K){if(!(this instanceof W))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(K||(K={}),this.type="default",this.status=K.status===void 0?200:K.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=K.statusText===void 0?"":""+K.statusText,this.headers=new L(K.headers),this.url=K.url||"",this._initBody(N)}Q.prototype.clone=function(){return new Q(this,{body:this._bodyInit})},M.call(Q.prototype),M.call(W.prototype),W.prototype.clone=function(){return new W(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new L(this.headers),url:this.url})},W.error=function(){var N=new W(null,{status:200,statusText:""});return N.ok=!1,N.status=0,N.type="error",N};var X=[301,302,303,307,308];W.redirect=function(N,K){if(X.indexOf(K)===-1)throw new RangeError("Invalid status code");return new W(null,{status:K,headers:{location:N}})};var et=o.DOMException;try{new et}catch{(et=function(K,Z){this.message=K,this.name=Z;var F=Error(K);this.stack=F.stack}).prototype=Object.create(Error.prototype),et.prototype.constructor=et}function Y(N,K){return new Promise((function(Z,F){var q=new Q(N,K);if(q.signal&&q.signal.aborted)return F(new et("Aborted","AbortError"));var nt=new XMLHttpRequest;function ot(){nt.abort()}if(nt.onload=function(){var St,Tt,Kt={statusText:nt.statusText,headers:(St=nt.getAllResponseHeaders()||"",Tt=new L,St.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(Vt){return Vt.indexOf(`
`)===0?Vt.substr(1,Vt.length):Vt})).forEach((function(Vt){var ne=Vt.split(":"),fe=ne.shift().trim();if(fe){var ae=ne.join(":").trim();try{Tt.append(fe,ae)}catch(xe){console.warn("Response "+xe.message)}}})),Tt)};q.url.indexOf("file://")===0&&(nt.status<200||nt.status>599)?Kt.status=200:Kt.status=nt.status,Kt.url="responseURL"in nt?nt.responseURL:Kt.headers.get("X-Request-URL");var $t="response"in nt?nt.response:nt.responseText;setTimeout((function(){Z(new W($t,Kt))}),0)},nt.onerror=function(){setTimeout((function(){F(new TypeError("Network request failed"))}),0)},nt.ontimeout=function(){setTimeout((function(){F(new TypeError("Network request timed out"))}),0)},nt.onabort=function(){setTimeout((function(){F(new et("Aborted","AbortError"))}),0)},nt.open(q.method,(function(St){try{return St===""&&o.location.href?o.location.href:St}catch{return St}})(q.url),!0),q.credentials==="include"?nt.withCredentials=!0:q.credentials==="omit"&&(nt.withCredentials=!1),"responseType"in nt&&(A?nt.responseType="blob":m&&(nt.responseType="arraybuffer")),K&&typeof K.headers=="object"&&!(K.headers instanceof L||o.Headers&&K.headers instanceof o.Headers)){var Ct=[];Object.getOwnPropertyNames(K.headers).forEach((function(St){Ct.push(E(St)),nt.setRequestHeader(St,S(K.headers[St]))})),q.headers.forEach((function(St,Tt){Ct.indexOf(Tt)===-1&&nt.setRequestHeader(Tt,St)}))}else q.headers.forEach((function(St,Tt){nt.setRequestHeader(Tt,St)}));q.signal&&(q.signal.addEventListener("abort",ot),nt.onreadystatechange=function(){nt.readyState===4&&q.signal.removeEventListener("abort",ot)}),nt.send(q._bodyInit===void 0?null:q._bodyInit)}))}Y.polyfill=!0,o.fetch||(o.fetch=Y,o.Headers=L,o.Request=Q,o.Response=W)},58233:function(s){s.exports="data:font/ttf;base64,AAEAAAAPAIAAAwBwR1NVQiCLJXoAAAD8AAAAVE9TLzI/IEqpAAABUAAAAFZjbWFwvM20gQAAAagAAAJgY3Z0IAbV/wQAABq4AAAAIGZwZ22KkZBZAAAa2AAAC3BnYXNwAAAAEAAAGrAAAAAIZ2x5Zin85QoAAAQIAAARVmhlYWQXb/zlAAAVYAAAADZoaGVhCWwFkQAAFZgAAAAkaG10eEiN/+MAABW8AAAASGxvY2ElHSFKAAAWBAAAACZtYXhwATsMoQAAFiwAAAAgbmFtZcydHyEAABZMAAACzXBvc3QO9vxxAAAZHAAAAZJwcmVw5UErvAAAJkgAAACGAAEAAAAKADAAPgACREZMVAAObGF0bgAaAAQAAAAAAAAAAQAAAAQAAAAAAAAAAQAAAAFsaWdhAAgAAAABAAAAAQAEAAQAAAABAAgAAQAGAAAAAQAAAAEECAGQAAUAAAJ6ArwAAACMAnoCvAAAAeAAMQECAAACAAUDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFBmRWQAQOkA6RIDUv9qAFoDUgCWAAAAAQAAAAAAAAAAAAUAAAADAAAALAAAAAQAAAGEAAEAAAAAAH4AAwABAAAALAADAAoAAAGEAAQAUgAAAAgACAACAADpBOkK6RL//wAA6QDpBukM//8AAAAAAAAAAQAIABAAGAAAAAEAAgADAAQABQAGAAcACAAJAAoACwAMAA0ADgAPABAAEQAAAQYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAA3AAAAAAAAAARAADpAAAA6QAAAAABAADpAQAA6QEAAAACAADpAgAA6QIAAAADAADpAwAA6QMAAAAEAADpBAAA6QQAAAAFAADpBgAA6QYAAAAGAADpBwAA6QcAAAAHAADpCAAA6QgAAAAIAADpCQAA6QkAAAAJAADpCgAA6QoAAAAKAADpDAAA6QwAAAALAADpDQAA6Q0AAAAMAADpDgAA6Q4AAAANAADpDwAA6Q8AAAAOAADpEAAA6RAAAAAPAADpEQAA6REAAAAQAADpEgAA6RIAAAARAAEAAP/SA4AC6AAjABtAGCAZDwUEAEQCAQIAAGYAAAAjACMeHQMFFCsBHgEUBwkBFhUWDwEOAScJAQYjBi8BLgE3CQEmNz4BFwkBPgEDXA4TC/61AU4KAQQCCCMP/rT+sg0IBQgEEAgOAUz+shQJBywMAUwBTgkHAucCFBsM/rT+sg0IBQgEEAgOAUz+sQoBBAIIIw8BTAFOGhEOAgv+tQFOBgIAAgAAAAADQwK2AB4AOwBCQD80AQQDAUcLAQFEAAMEA28GAQQAAgAEAmAFAQABAQBUBQEAAAFWAAEAAUofHwEAHzsfOzEwJyQTEgAeARsHBRQrATIXFgcGFQ4BJic1BwYnLgE/ASMmJyYvASY+ATsBNiUWFxYGByIHBicmNScmNzY3NjIWHQE3NhceAQ8BAbIbBwMCAgEhIAGyFxANBAqxegoFBAMCBwIRDkNZAX8cBAQbDhUuUyA0AgQBAg4JGxSzFxANBAuxAT01H1UsFRERDRV4shIICCgLsAEDAgQDChkTAYQGEQ4dAQIDBAcbMk0gNgwJEg94shIIBikMsAAAAAIAAAAAA08CrgAcADsAPUA6KQEDBAQBAAMCRwADBAAEAwBtBQECAAQDAgReAAABAQBSAAAAAVgAAQABTB4dNDMmJR07HjhEGwYFFisTHgEdATc2Fx4BDwEzFhcWBgciBwYnJjUmPwE+AQEyFxYHDgEHBi4BPQEHDgEnIy4CPwEjJicmNjM3Ns4MD7MXEA4EDLB6IQYFHhEWLlMfMwIBAQETAmYjBgUOAgMFCRsUswgJBQMNEAEKsXsdBgUZEkNZARsCEwx3shIIBigNsQQRDh4BAgMEBhstWUMQEwGOVERWCAYFCQESDnizBgMCARQZCrEEEA8fAQEAAQAA/9UCzALoABUAD0AMCAEARQAAAGYcAQUVKwEeAR8BFgYHCQEWBw4BJwEmNDcBPgECngsIBAEJAgn+tAFOFQkILQz+mwoKAWcIBwLnAgUFAQocCv60/rIbEQ0CCwFlCx0KAWcHAwABAAD/agYjA1IAEwAjQCAHBgUEBAEAAUcCAQAADEgAAQENAUkBAA0KABMBEgMFFCsBMhYVESURJREUBiMhIiY1ETQ2MwR3HSoBZf6bKh370B0qKh0DUiod/vLG/TbG/vIdKiodA1odKgAAAAACAAAAAAMgAq0ADAAPABdAFA8ODQMARAEBAABmAAAADAAMAgUUKwEyFwEWFAcBBiYnETYTLQEBLwcIAdMODv4tESEBAkABdP6MAqsF/tQKIwv+1AoRFQJYIv3D7+8AAAAFAAD/yQOHAtIAEwAxAEAAUQBUAFxAWVRTUiwcBQMCAUcLAQcABgUHBmAKAQUABAAFBGAIAQAJAQIDAAJgAAMBAQNUAAMDAVgAAQMBTEFBMjIVFAEAQVFBTUtIMkAyOzk2JB4UMRUvCwcAEwERDAUUKwEeARcWBw4BBwQlLgEnJjc+ATckBSIGFQcGFRQXHgEzFxYzFjc+ATU3NjU0Jy4BJyYFJRYXFgYHIS4BNjcyJDMyNx4BHwEWDgEjIS4BNjcyNzYDFwcDIyY6AQMDATom/tH+0SY5AgEBAjkmAS/+1A0UAQIDARMMUK9XkXQNEgECAwESDYX+9AGTHQYFGRL9qBETDRdDAQxDcBYLCAMCBwISDv4uEhENFjRo0cenpwIFAjknuromOQIEBAI5Jrq6JjsBA0YTDShuN1xJDBMBAwEFARINKW03W0kNEgECAaYEEA8fAQEhIAEEYAIEBQIKGRMBISABAQP+jXV0AAAAAAEAAAAAAxwCfgA4ADVAMjgAAgIEAUcAAAQAbwAEAgRvAAEDAXAAAgMDAlIAAgIDWAADAgNMNTQvLSopHRslBQUVKxM3Njc+ARcyHgEXFgcGBwYHBiYnJicmNhYXHgEXFjc+AScmJy4BBwYPATMeAQYrAS4BPQE0Mx4BF9VbBAInZzZAdVINDhkYNDdFQYc1NhkGER0JG3dFSTo4MwwNMyp4Oj0sWW4MDgoRrAsOGgoNAQHVVgQBJSkBPWg/RkdFMzURECItLkARGAcWPkwCAicmhkVIMSkdDg8rVAEZGAENC60ZAQ0LAAABAAD/1ALWAugAFwAdQBoSAQABAUcCAQEAAW8AAABmAAAAFwAXOwMFFSsBHgEXARYUBwEGBwYrASIuATcJASYnJjYBUQgGBgFnCgr+mwgGBAYCDhQCCwFM/rIHAQMYAucBAwX+mQodC/6bCAIBFB0MAUwBTgkIEBsAAAAABAAA/8oDigLzAA8AGwCNAQAAgUB+/gEDBKIBAAvaAQUHyAEGBQRHAAkECW8AAwQLBAMLbQACCgcKAgdtAAUHBgcFBm0ABgZuDggCBAALAAQLYAwBAA0BAQoAAWAACgIHClQACgoHWAAHCgdMHBwREAEA9/aurY+OHI0cjXx6cG9tbDc2NDMXFRAbERsADwEPDwUUKwEWFx4BBwYHBi4BJyY3PgEXDgIXFjMyPgEnJicWFx4BFxY/ATY3Njc2NzYXFhcWFxYXHgE3Nh4BFxYHBgcGBwYfARYXFhcWFxYHBgcGBwYHDgEXFg4BBwYnJicmJyYGBw4BBwYnJicmJyYnJiIHBi4BJyY3Njc2NzYmJy4BJyY3Njc2NzY3NjQnJjY3NjciBwYPAQYHBg8BBicmJyYnJgcGBwYfARYGBwYHDgEWMxcWFxYXFgcGBwYeAT8BNjc2FxYXFhceATY1NzY3Njc2FxYXFj4BLwEmJyY3Njc2NzY3PgEnJicuAScmJyYvASY3Njc2NzYnJicmDwEGLgEnLgEB9yoiIBgQEjEjTTwJChMRPyYXIgYOECMYHwMOD+wMDggeBwwJBgkLDxIXGR4gDwsGCAYEBxQRG0k4BQIHBAwJAwQDExYUGxAVAgMWChQMGBQHCwENFQUtIhEVDBcTBw0MAQI0IyUeDgoFCAYEBxYTG0k4BQMIBAsJAwMLFCI0BgYUChMMGBYHDQ8WChwd9QsJBgQDAhEMEhARFQwWEwkOCw0BAQUFFQYYGSgRDRMXDRANEwkMAgMWCw8jEA4SERgTGA4RBAIhHwcJCxARFRYaGg4gCg8HBwQGAQIZDyMYCQ4FDQYKBhsHEA8LCgcFBgQMCgMFBAUQCxAOGkQyAgEUAeMBIB9ZJysVDxQ5JikoJChDASk2ERUoNxIV8wEHAxQDBQQTFhMbEBQDBBUKFAwZFAcMAQ4VBS0iEBQLFREHDAgHCQsQEhcaHiAPCgYIBgQGFBEbSTgFAwgECwkDAwsUIjQGBhQKEwwYFgcNDxUFLSIRFQ0WEwgMDQECMyMlHg4KBQgGBAcWEx5OGxwWDAgOCxQVDg0KBQYEDAoDBQQFEAsQDhpEGBsDAiEgBwkLEBEVFhoaDiAJDwYGAwQFBhMWJxENExcNEA0TCQwCAxYLDyMQCQwMERAaFAsRCwUKFg8HAwIBAgUQCxAOERUMFhMJDgsNAQEFBRUIMyQNEgAAAAIAAAAAArwCrQAKABYAHkAbDgMCAEQDAQIDAABmCwsAAAsWCxYACgAKBAUUKwEeARcRDgEmJxE2BR4BFxEUBiYnET4BAVANEQEBISABAgFvDREBIiABARECqwETDf2oERMNFwJYIgEBEw39qBETDRcCWA8TAAAAAAMAAAAAAuMCrAAVAB8AMwBDQEAOAQIEDQEAAwJHHwEBRR4BAEQFAQQBAgEEAm0AAQACAwECYAADAAADVAADAwBWAAADAEogICAzIDMhJRcZBgUYKwEeARURBgcGLwEjLgEnET4BNzM3PgEHBisBFTMyHwERFx4CBwYHBiYnJjc+ASYvASY3NgH2DRIBFA8Sv3wNEQEBEw55xAMHrQoLZGQLCpK6HysLDQ8jDSUEBhMWDRIXAwIFBgKrARMN/agiAwINnwITDQEKDhMBogMC4gjICHkByk4DQF8uMiIMChASFRlEQhgPEQoOAAAAAwAAAAADjgKsABUAIgA+ADtAOA4BAgE7NS8oBAMCDQEAAwNHIgEBRSEBAEQAAQACAwECXgADAAADVAADAwBWAAADAEohJxcZBAUYKwEeARURFA4BLwIuAScRPgE3Mzc+AQcOAQcrARUzMhYfAREFHgEUDwEXFgcOAS8BBwYuAT8BJyY+AR8BNz4BAfgNEBMZCr98DREBARMOecEICLAGBgUEZGQJBQWUAZMNEAlMThEHBygMTE8OIQwOTU8KDSAOTU4IBwKrAhIN/agNEgMInwECEg0BCg4TAaAFAuIFAgHIAgR7AcpgAhMaCkxPFw8NBQtNTwoMIQ9MTw0hDA1NTwYCAAAEAAAAAAOLAqwAFQAzAEAAVgBkQGFAMAIBAw4BBAcNAQYFPyYCAgAERwgBAwEDbwkBBwEEAQcEbQAGBQAFBgBtAAIAAnAAAQAEBQEEXgAFBgAFVAAFBQBWAAAFAEpBQRYWQVZBVklIPDo5NxYzFjMjIhcZCgUWKwEeARURFA4BLwIuAScRPgE3Mzc+AQUWFxYXFhceAQcGDwEGJyYnNDc+AScmLwEmNzQ3NgUOAQcrARUzMhYfAREXHgIHBgcGIiY2Nz4BJi8BJjU0NzYB+A0QEhkLv3wNEQEBEw55wgUJARQSCwYKBQQ0HBkaPhARDA8BGDIhFBQ2AwIBBwj+TQYGBQRkZAkFBZS7HyoLDg8iCRsUAQ8VDRIXAwIHCAKrAhIN/agNEgMInwECEg0BCg4TAaAEA0ECCgYPCgVFsFRYPwIBBAQMDxo4mEpNNgkLCQwICKEFAgHIAgR7AcpOBEFeLjIhCREdERlDQhgJCwkMBwkAAAAE//T/agP3A1IAAAAYADMANgA0QDE2NQIDAgFHBQECAgBYBAEAAAxIAAMDAVgAAQENAUkaGQIBJyUZMxozDgwBGAIYBgUUKwExFhcWFxYXFgYHDgEHIicuAicmNjc+ARcGBwYHBgcGHgEXHgEzNjc+Ajc2JyYnJicmEwURAfdxamdHSRYXTllFt2FkWk+BUwwQT1VFuFttZWNERhUPGEk6QrFdYFZMfE8KDSEgRUZdWpT+cANSATY2W11wevdWQkgBJSF3m1V151JDSRQBNDNYWmtOoZA3QEQBJCB0l1JlZWNPUCko/iD6AfQAAAT/9P9qA/cDUgAXADAANAA4AFBATQsHCgMFAgQCBQRtBgEEAwIEA2sJAQICAFgIAQAADEgAAwMBWAABAQ0BSTU1MTEZGAEANTg1ODc2MTQxNDMyJSMYMBkwDQsAFwEXDAUUKwEWFxYXFhcWBgcOAQciJy4CJyY2Nz4BFwYHBgcGBwYWFx4BFzI3PgI3NicmJy4BAxEjESERIxEB93FqZ0dJFhdOWUW3YWRaT4FTDBBPVUW4W2xlY0RHFRdLVkKwXWBWTHxQCw4fHkNFuLxGASxGA1IBNjZbXXB691ZCSAElIXebVXXnUkNJFAE0M1ZaanbuU0BFASQfc5VRZGVkT1FW/vL+XAGk/lwBpAAE//v/qAPsAxQAFQAvAD8ASgBUQFE7NAIFBAFHCAEEAgUCBAVtCQEFAwIFA2sGAQAHAQIEAAJgAAMBAQNUAAMDAVkAAQMBTUFAMDAXFgEAQEpBSjA/MD8lHxYvFy8NCgAVARUKBRQrAR4BFxYTFxYGBwYHIS4BJyY/ARI3NhcOAQcGAwcGHgEXFiU2Mz4CJyYnJi8BLgEDMhcWFxUUBicmPQE0Nz4BEx4BBgcGJy4BNzYB9hgqDWjLYxAMGBok/NYgNAcIEXq8YB0zEh8KXLOGDAkkGrQBabRaGCYMDU1lPXssCiAQBgYWAiYRFAIEEQ8SEwUMDRUTDAoLAxQBGRSr/qaoHUMXGQEBLiEjH88BP54uGQESD5f+z+QVMiQBBAMBASIxF4qqZstIEBL++QMIGtUSFQYHGtUIBA0N/qEBIywMDQgHMBQWAAAAAAEAAAABAABrmkE9Xw889QALA+gAAAAA2RzcogAAAADZHNyi//T/agYjA1IAAAAIAAIAAAAAAAAAAQAAA1L/agAABiP/9P/xBiMAAQAAAAAAAAAAAAAAAAAAABID6AAAA+gAAAPoAAAD6AAAA+gAAAYjAAAD6AAAA+gAAAPoAAAD6AAAA+gAAAPoAAAD6AAAA+gAAAPoAAAD6P/0A+j/9APo//sAAAAAAFIA0gFOAYIBuAHoAqADFANSBRwFWAXOBlAHCgeACAYIqwAAAAEAAAASAQEABQAAAAAAAgAeAC4AcwAAAJILcAAAAAAAAAASAN4AAQAAAAAAAAA1AAAAAQAAAAAAAQAIADUAAQAAAAAAAgAHAD0AAQAAAAAAAwAIAEQAAQAAAAAABAAIAEwAAQAAAAAABQALAFQAAQAAAAAABgAIAF8AAQAAAAAACgArAGcAAQAAAAAACwATAJIAAwABBAkAAABqAKUAAwABBAkAAQAQAQ8AAwABBAkAAgAOAR8AAwABBAkAAwAQAS0AAwABBAkABAAQAT0AAwABBAkABQAWAU0AAwABBAkABgAQAWMAAwABBAkACgBWAXMAAwABBAkACwAmAclDb3B5cmlnaHQgKEMpIDIwMTkgYnkgb3JpZ2luYWwgYXV0aG9ycyBAIGZvbnRlbGxvLmNvbWZvbnRlbGxvUmVndWxhcmZvbnRlbGxvZm9udGVsbG9WZXJzaW9uIDEuMGZvbnRlbGxvR2VuZXJhdGVkIGJ5IHN2ZzJ0dGYgZnJvbSBGb250ZWxsbyBwcm9qZWN0Lmh0dHA6Ly9mb250ZWxsby5jb20AQwBvAHAAeQByAGkAZwBoAHQAIAAoAEMAKQAgADIAMAAxADkAIABiAHkAIABvAHIAaQBnAGkAbgBhAGwAIABhAHUAdABoAG8AcgBzACAAQAAgAGYAbwBuAHQAZQBsAGwAbwAuAGMAbwBtAGYAbwBuAHQAZQBsAGwAbwBSAGUAZwB1AGwAYQByAGYAbwBuAHQAZQBsAGwAbwBmAG8AbgB0AGUAbABsAG8AVgBlAHIAcwBpAG8AbgAgADEALgAwAGYAbwBuAHQAZQBsAGwAbwBHAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAHMAdgBnADIAdAB0AGYAIABmAHIAbwBtACAARgBvAG4AdABlAGwAbABvACAAcAByAG8AagBlAGMAdAAuAGgAdAB0AHAAOgAvAC8AZgBvAG4AdABlAGwAbABvAC4AYwBvAG0AAAAAAgAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASAQIBAwEEAQUBBgEHAQgBCQEKAQsBDAENAQ4BDwEQAREBEgETAA9pYy1wbGF5ZXItY2xvc2UdaWMtcGxheWVyLWZ1bGxzY3JlZW4tY29tcHJlc3MbaWMtcGxheWVyLWZ1bGxzY3JlZW4tZXhwYW5kDmljLXBsYXllci1sZWZ0E2ljLXBsYXllci1ub24tdGh1bWIOaWMtcGxheWVyLXBsYXkSaWMtcGxheWVyLXBsYXlsaXN0EmljLXBsYXllci1yZS1sYXJnZQ9pYy1wbGF5ZXItcmlnaHQRaWMtcGxheWVyLXNldHRpbmcOaWMtcGxheWVyLXN0b3ASaWMtcGxheWVyLXZvbHVtZS0yFWljLXBsYXllci12b2x1bWUtbXV0ZRBpYy1wbGF5ZXItdm9sdW1lFGljLXBsYXllci1wbGF5LWxhcmdlFGljLXBsYXllci1zdG9wLWxhcmdlEWljLXBsYXllci13YXJuaW5nAAAAAAABAAH//wAPAAAAAAAAAAAAAAAAAAAAAAAYABgAGAAYA1L/agNS/2qwACwgsABVWEVZICBLuAAOUUuwBlNaWLA0G7AoWWBmIIpVWLACJWG5CAAIAGNjI2IbISGwAFmwAEMjRLIAAQBDYEItsAEssCBgZi2wAiwgZCCwwFCwBCZasigBCkNFY0VSW1ghIyEbilggsFBQWCGwQFkbILA4UFghsDhZWSCxAQpDRWNFYWSwKFBYIbEBCkNFY0UgsDBQWCGwMFkbILDAUFggZiCKimEgsApQWGAbILAgUFghsApgGyCwNlBYIbA2YBtgWVlZG7ABK1lZI7AAUFhlWVktsAMsIEUgsAQlYWQgsAVDUFiwBSNCsAYjQhshIVmwAWAtsAQsIyEjISBksQViQiCwBiNCsQEKQ0VjsQEKQ7ABYEVjsAMqISCwBkMgiiCKsAErsTAFJbAEJlFYYFAbYVJZWCNZISCwQFNYsAErGyGwQFkjsABQWGVZLbAFLLAHQyuyAAIAQ2BCLbAGLLAHI0IjILAAI0JhsAJiZrABY7ABYLAFKi2wBywgIEUgsAtDY7gEAGIgsABQWLBAYFlmsAFjYESwAWAtsAgssgcLAENFQiohsgABAENgQi2wCSywAEMjRLIAAQBDYEItsAosICBFILABKyOwAEOwBCVgIEWKI2EgZCCwIFBYIbAAG7AwUFiwIBuwQFlZI7AAUFhlWbADJSNhRESwAWAtsAssICBFILABKyOwAEOwBCVgIEWKI2EgZLAkUFiwABuwQFkjsABQWGVZsAMlI2FERLABYC2wDCwgsAAjQrILCgNFWCEbIyFZKiEtsA0ssQICRbBkYUQtsA4ssAFgICCwDENKsABQWCCwDCNCWbANQ0qwAFJYILANI0JZLbAPLCCwEGJmsAFjILgEAGOKI2GwDkNgIIpgILAOI0IjLbAQLEtUWLEEZERZJLANZSN4LbARLEtRWEtTWLEEZERZGyFZJLATZSN4LbASLLEAD0NVWLEPD0OwAWFCsA8rWbAAQ7ACJUKxDAIlQrENAiVCsAEWIyCwAyVQWLEBAENgsAQlQoqKIIojYbAOKiEjsAFhIIojYbAOKiEbsQEAQ2CwAiVCsAIlYbAOKiFZsAxDR7ANQ0dgsAJiILAAUFiwQGBZZrABYyCwC0NjuAQAYiCwAFBYsEBgWWawAWNgsQAAEyNEsAFDsAA+sgEBAUNgQi2wEywAsQACRVRYsA8jQiBFsAsjQrAKI7ABYEIgYLABYbUQEAEADgBCQopgsRIGK7ByKxsiWS2wFCyxABMrLbAVLLEBEystsBYssQITKy2wFyyxAxMrLbAYLLEEEystsBkssQUTKy2wGiyxBhMrLbAbLLEHEystsBwssQgTKy2wHSyxCRMrLbAeLACwDSuxAAJFVFiwDyNCIEWwCyNCsAojsAFgQiBgsAFhtRAQAQAOAEJCimCxEgYrsHIrGyJZLbAfLLEAHistsCAssQEeKy2wISyxAh4rLbAiLLEDHistsCMssQQeKy2wJCyxBR4rLbAlLLEGHistsCYssQceKy2wJyyxCB4rLbAoLLEJHistsCksIDywAWAtsCosIGCwEGAgQyOwAWBDsAIlYbABYLApKiEtsCsssCorsCoqLbAsLCAgRyAgsAtDY7gEAGIgsABQWLBAYFlmsAFjYCNhOCMgilVYIEcgILALQ2O4BABiILAAUFiwQGBZZrABY2AjYTgbIVktsC0sALEAAkVUWLABFrAsKrABFTAbIlktsC4sALANK7EAAkVUWLABFrAsKrABFTAbIlktsC8sIDWwAWAtsDAsALABRWO4BABiILAAUFiwQGBZZrABY7ABK7ALQ2O4BABiILAAUFiwQGBZZrABY7ABK7AAFrQAAAAAAEQ+IzixLwEVKi2wMSwgPCBHILALQ2O4BABiILAAUFiwQGBZZrABY2CwAENhOC2wMiwuFzwtsDMsIDwgRyCwC0NjuAQAYiCwAFBYsEBgWWawAWNgsABDYbABQ2M4LbA0LLECABYlIC4gR7AAI0KwAiVJiopHI0cjYSBYYhshWbABI0KyMwEBFRQqLbA1LLAAFrAEJbAEJUcjRyNhsAlDK2WKLiMgIDyKOC2wNiywABawBCWwBCUgLkcjRyNhILAEI0KwCUMrILBgUFggsEBRWLMCIAMgG7MCJgMaWUJCIyCwCEMgiiNHI0cjYSNGYLAEQ7ACYiCwAFBYsEBgWWawAWNgILABKyCKimEgsAJDYGQjsANDYWRQWLACQ2EbsANDYFmwAyWwAmIgsABQWLBAYFlmsAFjYSMgILAEJiNGYTgbI7AIQ0awAiWwCENHI0cjYWAgsARDsAJiILAAUFiwQGBZZrABY2AjILABKyOwBENgsAErsAUlYbAFJbACYiCwAFBYsEBgWWawAWOwBCZhILAEJWBkI7ADJWBkUFghGyMhWSMgILAEJiNGYThZLbA3LLAAFiAgILAFJiAuRyNHI2EjPDgtsDgssAAWILAII0IgICBGI0ewASsjYTgtsDkssAAWsAMlsAIlRyNHI2GwAFRYLiA8IyEbsAIlsAIlRyNHI2EgsAUlsAQlRyNHI2GwBiWwBSVJsAIlYbkIAAgAY2MjIFhiGyFZY7gEAGIgsABQWLBAYFlmsAFjYCMuIyAgPIo4IyFZLbA6LLAAFiCwCEMgLkcjRyNhIGCwIGBmsAJiILAAUFiwQGBZZrABYyMgIDyKOC2wOywjIC5GsAIlRlJYIDxZLrErARQrLbA8LCMgLkawAiVGUFggPFkusSsBFCstsD0sIyAuRrACJUZSWCA8WSMgLkawAiVGUFggPFkusSsBFCstsD4ssDUrIyAuRrACJUZSWCA8WS6xKwEUKy2wPyywNiuKICA8sAQjQoo4IyAuRrACJUZSWCA8WS6xKwEUK7AEQy6wKystsEAssAAWsAQlsAQmIC5HI0cjYbAJQysjIDwgLiM4sSsBFCstsEEssQgEJUKwABawBCWwBCUgLkcjRyNhILAEI0KwCUMrILBgUFggsEBRWLMCIAMgG7MCJgMaWUJCIyBHsARDsAJiILAAUFiwQGBZZrABY2AgsAErIIqKYSCwAkNgZCOwA0NhZFBYsAJDYRuwA0NgWbADJbACYiCwAFBYsEBgWWawAWNhsAIlRmE4IyA8IzgbISAgRiNHsAErI2E4IVmxKwEUKy2wQiywNSsusSsBFCstsEMssDYrISMgIDywBCNCIzixKwEUK7AEQy6wKystsEQssAAVIEewACNCsgABARUUEy6wMSotsEUssAAVIEewACNCsgABARUUEy6wMSotsEYssQABFBOwMiotsEcssDQqLbBILLAAFkUjIC4gRoojYTixKwEUKy2wSSywCCNCsEgrLbBKLLIAAEErLbBLLLIAAUErLbBMLLIBAEErLbBNLLIBAUErLbBOLLIAAEIrLbBPLLIAAUIrLbBQLLIBAEIrLbBRLLIBAUIrLbBSLLIAAD4rLbBTLLIAAT4rLbBULLIBAD4rLbBVLLIBAT4rLbBWLLIAAEArLbBXLLIAAUArLbBYLLIBAEArLbBZLLIBAUArLbBaLLIAAEMrLbBbLLIAAUMrLbBcLLIBAEMrLbBdLLIBAUMrLbBeLLIAAD8rLbBfLLIAAT8rLbBgLLIBAD8rLbBhLLIBAT8rLbBiLLA3Ky6xKwEUKy2wYyywNyuwOystsGQssDcrsDwrLbBlLLAAFrA3K7A9Ky2wZiywOCsusSsBFCstsGcssDgrsDsrLbBoLLA4K7A8Ky2waSywOCuwPSstsGossDkrLrErARQrLbBrLLA5K7A7Ky2wbCywOSuwPCstsG0ssDkrsD0rLbBuLLA6Ky6xKwEUKy2wbyywOiuwOystsHAssDorsDwrLbBxLLA6K7A9Ky2wciyzCQQCA0VYIRsjIVlCK7AIZbADJFB4sAEVMC0AS7gAyFJYsQEBjlmwAbkIAAgAY3CxAAVCsgABACqxAAVCswoCAQgqsQAFQrMOAAEIKrEABkK6AsAAAQAJKrEAB0K6AEAAAQAJKrEDAESxJAGIUViwQIhYsQNkRLEmAYhRWLoIgAABBECIY1RYsQMARFlZWVmzDAIBDCq4Af+FsASNsQIARAAA"},36923:function(s){s.exports="data:font/ttf;base64,AAEAAAAPAIAAAwBwR1NVQiCLJXoAAAD8AAAAVE9TLzI/QEsYAAABUAAAAFZjbWFwjePtyQAAAagAAAF+Y3Z0IAAAAAAAAAh4AAAADmZwZ21iLvl6AAAIiAAADgxnYXNwAAAAEAAACHAAAAAIZ2x5ZuLwowoAAAMoAAABiGhlYWQaqKjBAAAEsAAAADZoaGVhBzwDVgAABOgAAAAkaG10eAu4AAAAAAUMAAAADGxvY2EAYADEAAAFGAAAAAhtYXhwAPIOYwAABSAAAAAgbmFtZV/m2rgAAAVAAAAC5XBvc3S0mWDXAAAIKAAAAEhwcmVwfrY7tgAAFpQAAACcAAEAAAAKADAAPgACREZMVAAObGF0bgAaAAQAAAAAAAAAAQAAAAQAAAAAAAAAAQAAAAFsaWdhAAgAAAABAAAAAQAEAAQAAAABAAgAAQAGAAAAAQAAAAED6AGQAAUAAAJ6ArwAAACMAnoCvAAAAeAAMQECAAACAAUDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFBmRWQAwOkg6SEDUv9qAFoDUgCWAAAAAQAAAAAAAAAAAAUAAAADAAAALAAAAAQAAAFWAAEAAAAAAFAAAwABAAAALAADAAoAAAFWAAQAJAAAAAQABAABAADpIf//AADpIP//AAAAAQAEAAAAAQACAAABBgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAoAAAAAAAAAAIAAOkgAADpIAAAAAEAAOkhAADpIQAAAAIAAAABAAD/7wNjAy0AKQA/QDwCAQAEAwECAAJMAQEESgACAAEAAgGABQEEAAACBABpAAEDAwFZAAEBA2EAAwEDUQAAACkAKRcXGRQGBhorATUHFzUeARcWFRQHBgcGIicmJyY1NCYiBhUUFxYXFjI3Njc2NTQnJicmAguWlkx/JSUpKENGpEZDKCkTHBQyMVNWxlZTMTIvLU5QAsxhiolvBVNCQ05SRkMoKSkoQ0ZSDhMUDWNWUzEyMjFTVmNfU1EyMwABAAD/7wNjAy0AKgBDQEAVAQIDFAEAAgJMFgEDSgUBAAIBAgABgAADAAIAAwJpAAEEBAFZAAEBBGEABAEEUQEAIyIYFxMSCQgAKgEqBgYWKwEiBhUUBwYHBiInJicmNTQ3PgE3FTcnFQYHBgcGFRQXFhcWMjc2NzY1NCYDQQ0UKShDRqRGQygpJiR/TJaWXlBOLS8yMVNWxlZTMTIUAX8TDlJGQygpKShDRlJOQ0JTBW+JimEGMzJRU19jVlMxMjIxU1ZjDhMAAAEAAAABAADSnNS7Xw889QAPA+gAAAAA286yYAAAAADbzrJgAAD/7wPoAy0AAAAIAAIAAAAAAAAAAQAAA1L/agAAA+gAAAAAA+gAAQAAAAAAAAAAAAAAAAAAAAMD6AAAA+gAAAPoAAAAAAAAAGAAxAABAAAAAwArAAEAAAAAAAIADAAqAI0AAABUDgwAAAAAAAAAEgDeAAEAAAAAAAAANQAAAAEAAAAAAAEACgA1AAEAAAAAAAIABwA/AAEAAAAAAAMACgBGAAEAAAAAAAQACgBQAAEAAAAAAAUACwBaAAEAAAAAAAYACgBlAAEAAAAAAAoAKwBvAAEAAAAAAAsAEwCaAAMAAQQJAAAAagCtAAMAAQQJAAEAFAEXAAMAAQQJAAIADgErAAMAAQQJAAMAFAE5AAMAAQQJAAQAFAFNAAMAAQQJAAUAFgFhAAMAAQQJAAYAFAF3AAMAAQQJAAoAVgGLAAMAAQQJAAsAJgHhQ29weXJpZ2h0IChDKSAyMDIwIGJ5IG9yaWdpbmFsIGF1dGhvcnMgQCBmb250ZWxsby5jb21zZWVrLWljb25zUmVndWxhcnNlZWstaWNvbnNzZWVrLWljb25zVmVyc2lvbiAxLjBzZWVrLWljb25zR2VuZXJhdGVkIGJ5IHN2ZzJ0dGYgZnJvbSBGb250ZWxsbyBwcm9qZWN0Lmh0dHA6Ly9mb250ZWxsby5jb20AQwBvAHAAeQByAGkAZwBoAHQAIAAoAEMAKQAgADIAMAAyADAAIABiAHkAIABvAHIAaQBnAGkAbgBhAGwAIABhAHUAdABoAG8AcgBzACAAQAAgAGYAbwBuAHQAZQBsAGwAbwAuAGMAbwBtAHMAZQBlAGsALQBpAGMAbwBuAHMAUgBlAGcAdQBsAGEAcgBzAGUAZQBrAC0AaQBjAG8AbgBzAHMAZQBlAGsALQBpAGMAbwBuAHMAVgBlAHIAcwBpAG8AbgAgADEALgAwAHMAZQBlAGsALQBpAGMAbwBuAHMARwBlAG4AZQByAGEAdABlAGQAIABiAHkAIABzAHYAZwAyAHQAdABmACAAZgByAG8AbQAgAEYAbwBuAHQAZQBsAGwAbwAgAHAAcgBvAGoAZQBjAHQALgBoAHQAdABwADoALwAvAGYAbwBuAHQAZQBsAGwAbwAuAGMAbwBtAAAAAAIAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwECAQMBBAAMb3Atc2Vlay1iYWNrD29wLXNlZWstZm9yd2FyZAAAAAEAAf//AA8AAAAAAAAAAAAAAAAAAAAAsAAsILAAVVhFWSAgS7gADlFLsAZTWliwNBuwKFlgZiCKVViwAiVhuQgACABjYyNiGyEhsABZsABDI0SyAAEAQ2BCLbABLLAgYGYtsAIsIyEjIS2wAywgZLMDFBUAQkOwE0MgYGBCsQIUQ0KxJQNDsAJDVHggsAwjsAJDQ2FksARQeLICAgJDYEKwIWUcIbACQ0OyDhUBQhwgsAJDI0KyEwETQ2BCI7AAUFhlWbIWAQJDYEItsAQssAMrsBVDWCMhIyGwFkNDI7AAUFhlWRsgZCCwwFCwBCZasigBDUNFY0WwBkVYIbADJVlSW1ghIyEbilggsFBQWCGwQFkbILA4UFghsDhZWSCxAQ1DRWNFYWSwKFBYIbEBDUNFY0UgsDBQWCGwMFkbILDAUFggZiCKimEgsApQWGAbILAgUFghsApgGyCwNlBYIbA2YBtgWVlZG7ACJbAMQ2OwAFJYsABLsApQWCGwDEMbS7AeUFghsB5LYbgQAGOwDENjuAUAYllZZGFZsAErWVkjsABQWGVZWSBksBZDI0JZLbAFLCBFILAEJWFkILAHQ1BYsAcjQrAII0IbISFZsAFgLbAGLCMhIyGwAysgZLEHYkIgsAgjQrAGRVgbsQENQ0VjsQENQ7AAYEVjsAUqISCwCEMgiiCKsAErsTAFJbAEJlFYYFAbYVJZWCNZIVkgsEBTWLABKxshsEBZI7AAUFhlWS2wByywCUMrsgACAENgQi2wCCywCSNCIyCwACNCYbACYmawAWOwAWCwByotsAksICBFILAOQ2O4BABiILAAUFiwQGBZZrABY2BEsAFgLbAKLLIJDgBDRUIqIbIAAQBDYEItsAsssABDI0SyAAEAQ2BCLbAMLCAgRSCwASsjsABDsAQlYCBFiiNhIGQgsCBQWCGwABuwMFBYsCAbsEBZWSOwAFBYZVmwAyUjYUREsAFgLbANLCAgRSCwASsjsABDsAQlYCBFiiNhIGSwJFBYsAAbsEBZI7AAUFhlWbADJSNhRESwAWAtsA4sILAAI0KzDQwAA0VQWCEbIyFZKiEtsA8ssQICRbBkYUQtsBAssAFgICCwD0NKsABQWCCwDyNCWbAQQ0qwAFJYILAQI0JZLbARLCCwEGJmsAFjILgEAGOKI2GwEUNgIIpgILARI0IjLbASLEtUWLEEZERZJLANZSN4LbATLEtRWEtTWLEEZERZGyFZJLATZSN4LbAULLEAEkNVWLESEkOwAWFCsBErWbAAQ7ACJUKxDwIlQrEQAiVCsAEWIyCwAyVQWLEBAENgsAQlQoqKIIojYbAQKiEjsAFhIIojYbAQKiEbsQEAQ2CwAiVCsAIlYbAQKiFZsA9DR7AQQ0dgsAJiILAAUFiwQGBZZrABYyCwDkNjuAQAYiCwAFBYsEBgWWawAWNgsQAAEyNEsAFDsAA+sgEBAUNgQi2wFSwAsQACRVRYsBIjQiBFsA4jQrANI7AAYEIgYLcYGAEAEQATAEJCQopgILAUI0KwAWGxFAgrsIsrGyJZLbAWLLEAFSstsBcssQEVKy2wGCyxAhUrLbAZLLEDFSstsBossQQVKy2wGyyxBRUrLbAcLLEGFSstsB0ssQcVKy2wHiyxCBUrLbAfLLEJFSstsCssIyCwEGJmsAFjsAZgS1RYIyAusAFdGyEhWS2wLCwjILAQYmawAWOwFmBLVFgjIC6wAXEbISFZLbAtLCMgsBBiZrABY7AmYEtUWCMgLrABchshIVktsCAsALAPK7EAAkVUWLASI0IgRbAOI0KwDSOwAGBCIGCwAWG1GBgBABEAQkKKYLEUCCuwiysbIlktsCEssQAgKy2wIiyxASArLbAjLLECICstsCQssQMgKy2wJSyxBCArLbAmLLEFICstsCcssQYgKy2wKCyxByArLbApLLEIICstsCossQkgKy2wLiwgPLABYC2wLywgYLAYYCBDI7ABYEOwAiVhsAFgsC4qIS2wMCywLyuwLyotsDEsICBHICCwDkNjuAQAYiCwAFBYsEBgWWawAWNgI2E4IyCKVVggRyAgsA5DY7gEAGIgsABQWLBAYFlmsAFjYCNhOBshWS2wMiwAsQACRVRYsQ4GRUKwARawMSqxBQEVRVgwWRsiWS2wMywAsA8rsQACRVRYsQ4GRUKwARawMSqxBQEVRVgwWRsiWS2wNCwgNbABYC2wNSwAsQ4GRUKwAUVjuAQAYiCwAFBYsEBgWWawAWOwASuwDkNjuAQAYiCwAFBYsEBgWWawAWOwASuwABa0AAAAAABEPiM4sTQBFSohLbA2LCA8IEcgsA5DY7gEAGIgsABQWLBAYFlmsAFjYLAAQ2E4LbA3LC4XPC2wOCwgPCBHILAOQ2O4BABiILAAUFiwQGBZZrABY2CwAENhsAFDYzgtsDkssQIAFiUgLiBHsAAjQrACJUmKikcjRyNhIFhiGyFZsAEjQrI4AQEVFCotsDossAAWsBcjQrAEJbAEJUcjRyNhsQwAQrALQytlii4jICA8ijgtsDsssAAWsBcjQrAEJbAEJSAuRyNHI2EgsAYjQrEMAEKwC0MrILBgUFggsEBRWLMEIAUgG7MEJgUaWUJCIyCwCkMgiiNHI0cjYSNGYLAGQ7ACYiCwAFBYsEBgWWawAWNgILABKyCKimEgsARDYGQjsAVDYWRQWLAEQ2EbsAVDYFmwAyWwAmIgsABQWLBAYFlmsAFjYSMgILAEJiNGYTgbI7AKQ0awAiWwCkNHI0cjYWAgsAZDsAJiILAAUFiwQGBZZrABY2AjILABKyOwBkNgsAErsAUlYbAFJbACYiCwAFBYsEBgWWawAWOwBCZhILAEJWBkI7ADJWBkUFghGyMhWSMgILAEJiNGYThZLbA8LLAAFrAXI0IgICCwBSYgLkcjRyNhIzw4LbA9LLAAFrAXI0IgsAojQiAgIEYjR7ABKyNhOC2wPiywABawFyNCsAMlsAIlRyNHI2GwAFRYLiA8IyEbsAIlsAIlRyNHI2EgsAUlsAQlRyNHI2GwBiWwBSVJsAIlYbkIAAgAY2MjIFhiGyFZY7gEAGIgsABQWLBAYFlmsAFjYCMuIyAgPIo4IyFZLbA/LLAAFrAXI0IgsApDIC5HI0cjYSBgsCBgZrACYiCwAFBYsEBgWWawAWMjICA8ijgtsEAsIyAuRrACJUawF0NYUBtSWVggPFkusTABFCstsEEsIyAuRrACJUawF0NYUhtQWVggPFkusTABFCstsEIsIyAuRrACJUawF0NYUBtSWVggPFkjIC5GsAIlRrAXQ1hSG1BZWCA8WS6xMAEUKy2wQyywOisjIC5GsAIlRrAXQ1hQG1JZWCA8WS6xMAEUKy2wRCywOyuKICA8sAYjQoo4IyAuRrACJUawF0NYUBtSWVggPFkusTABFCuwBkMusDArLbBFLLAAFrAEJbAEJiAgIEYjR2GwDCNCLkcjRyNhsAtDKyMgPCAuIzixMAEUKy2wRiyxCgQlQrAAFrAEJbAEJSAuRyNHI2EgsAYjQrEMAEKwC0MrILBgUFggsEBRWLMEIAUgG7MEJgUaWUJCIyBHsAZDsAJiILAAUFiwQGBZZrABY2AgsAErIIqKYSCwBENgZCOwBUNhZFBYsARDYRuwBUNgWbADJbACYiCwAFBYsEBgWWawAWNhsAIlRmE4IyA8IzgbISAgRiNHsAErI2E4IVmxMAEUKy2wRyyxADorLrEwARQrLbBILLEAOyshIyAgPLAGI0IjOLEwARQrsAZDLrAwKy2wSSywABUgR7AAI0KyAAEBFRQTLrA2Ki2wSiywABUgR7AAI0KyAAEBFRQTLrA2Ki2wSyyxAAEUE7A3Ki2wTCywOSotsE0ssAAWRSMgLiBGiiNhOLEwARQrLbBOLLAKI0KwTSstsE8ssgAARistsFAssgABRistsFEssgEARistsFIssgEBRistsFMssgAARystsFQssgABRystsFUssgEARystsFYssgEBRystsFcsswAAAEMrLbBYLLMAAQBDKy2wWSyzAQAAQystsFosswEBAEMrLbBbLLMAAAFDKy2wXCyzAAEBQystsF0sswEAAUMrLbBeLLMBAQFDKy2wXyyyAABFKy2wYCyyAAFFKy2wYSyyAQBFKy2wYiyyAQFFKy2wYyyyAABIKy2wZCyyAAFIKy2wZSyyAQBIKy2wZiyyAQFIKy2wZyyzAAAARCstsGgsswABAEQrLbBpLLMBAABEKy2waiyzAQEARCstsGssswAAAUQrLbBsLLMAAQFEKy2wbSyzAQABRCstsG4sswEBAUQrLbBvLLEAPCsusTABFCstsHAssQA8K7BAKy2wcSyxADwrsEErLbByLLAAFrEAPCuwQistsHMssQE8K7BAKy2wdCyxATwrsEErLbB1LLAAFrEBPCuwQistsHYssQA9Ky6xMAEUKy2wdyyxAD0rsEArLbB4LLEAPSuwQSstsHkssQA9K7BCKy2weiyxAT0rsEArLbB7LLEBPSuwQSstsHwssQE9K7BCKy2wfSyxAD4rLrEwARQrLbB+LLEAPiuwQCstsH8ssQA+K7BBKy2wgCyxAD4rsEIrLbCBLLEBPiuwQCstsIIssQE+K7BBKy2wgyyxAT4rsEIrLbCELLEAPysusTABFCstsIUssQA/K7BAKy2whiyxAD8rsEErLbCHLLEAPyuwQistsIgssQE/K7BAKy2wiSyxAT8rsEErLbCKLLEBPyuwQistsIsssgsAA0VQWLAGG7IEAgNFWCMhGyFZWUIrsAhlsAMkUHixBQEVRVgwWS0AS7gAyFJYsQEBjlmwAbkIAAgAY3CxAAdCsQAAKrEAB0KxAAoqsQAHQrEACiqxAAdCuQAAAAsqsQAHQrkAAAALKrkAAwAARLEkAYhRWLBAiFi5AAMAZESxKAGIUVi4CACIWLkAAwAARFkbsScBiFFYugiAAAEEQIhjVFi5AAMAAERZWVlZWbEADiq4Af+FsASNsQIARLMFZAYAREQ="},85971:function(s){s.exports="data:font/ttf;base64,AAEAAAALAIAAAwAwT1MvMg8SBjMAAAC8AAAAYGNtYXAXVtKQAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5Ztiu3OUAAAF4AAAEAGhlYWQOP/c1AAAFeAAAADZoaGVhCT8FzwAABbAAAAAkaG10eDAABnQAAAXUAAAAOGxvY2EGgAWAAAAGDAAAAB5tYXhwABMARAAABiwAAAAgbmFtZZlKCfsAAAZMAAABhnBvc3QAAwAAAAAH1AAAACAAAwQAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpCQPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qn//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAIkASQN3A5oAKAAAASIGFRQOAiMiLgI1ND4CNxU3JxUOAxUUHgIzMj4CNTQmIwNVDhQwU3BAQHBTMCxNZzuamkmAYDY7ZYlOTollOxQOAeIUDkBwUzAwU3BAPGxSNARyjY1jBT5lhEtOiWU7O2WJTg4UAAEAiQBJA3cDmgAoAAABNQcXNR4DFRQOAiMiLgI1NCYjIgYVFB4CMzI+AjU0LgInAhiamjtnTSwwU3BAQHBTMBQODhQ7ZYlOTollOzZggEkDN2ONjXIENFJsPEBwUzAwU3BADhQUDk6JZTs7ZYlOS4RlPgUABACDAOQFfQKbAAYACgATACAAABMRMxUhETMhESMRAQMzEzMTMwMjARUjFTMVIxUzFSERIb3p/t06AXg6ASWaPn4BfjycQQJb9eTk9/7PAS8Cm/57MQG2/koBtv5KAbb+hAF8/koBtjGLMpgxAbcAAAQATQBJA7MDNwAFAAsAEQAXAAAlITUzNTMFITUzFTMBIzUjNSEFIzUhFSMDs/7N70T9zf7NRO8CM0TvATP83kQBM+9JRKru7qoBvKpE7u5EAAAAAAIAkQBIA4EDNwAFACwAAAEFIxEzBRM3NjQnJiIPAScmIgcGFB8BBwYUFx4BMzI2PwEXHgEzMjY3NjQvAQJR/vy8vAEE400ICAgVB01NBxUHCAhMTAgIAwoEBQoDTU0ECQUECgQICE0DN+/+7+8Bd00IFQcHB01NBwcIFQdNTQcVBwQEBARMTAQEBAQHFQdNAAEA9wBJAxoDNwACAAATCQH3AiP93QM3/on+iQAEAE0ASQOzAzcABQALABEAFwAAJSM1IRUjBSM1IzUhASE1MxUzBSE1MzUzAsREATPv/rxE7wEzAjP+zUTv/c3+ze9ESe5EqqpEARLuqkREqgAAAAACAO8ASQMRAzcABAAIAAATMxEjESEzESPviIgBmoiIAzf9EgLu/RIAAgFEAI0CvALzAAIABQAAATcXFQcnAUS8vLy8AibNzczNzQAAAwCKAEkDjwM3AAUAJQBBAAABBSMRMwU3IiYnJjY3PgE1NCYnLgE3PgEXHgMVFA4CBw4BIyciJicmNjc+ATU0JicuATc+ARceARUUBgcOASMCS/77vLwBBY4IDQMECApATEtACQgEBBMKJz8sGRktQCcCBQIwBw0DBQgKGR4fGQoIBAUTCSgwLycCBQMDN+7+7u5xCAcKFAQbc0ZFdBsEEwoKCAQRNURPKipQQzYQAQF/CAgJFAULLhwcLwsFEwkKCAQSSCwrSBEBAQAAAQAAAAAAAHFIcIdfDzz1AAsEAAAAAADU0tlPAAAAANTS2U8AAAAABX0DmgAAAAgAAgAAAAAAAAABAAADwP/AAAAGAAAAAAAFfQABAAAAAAAAAAAAAAAAAAAADgQAAAAAAAAAAAAAAAIAAAAEAACJBAAAiQYAAIMEAABNBAAAkQQAAPcEAABNBAAA7wQAAUQEAACKAAAAAAAKABQAHgBYAJIAygD0ATwBSgF0AYgBmgIAAAAAAQAAAA4AQgAEAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGljb21vb24AaQBjAG8AbQBvAG8AblZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGljb21vb24AaQBjAG8AbQBvAG8Abmljb21vb24AaQBjAG8AbQBvAG8AblJlZ3VsYXIAUgBlAGcAdQBsAGEAcmljb21vb24AaQBjAG8AbQBvAG8AbkZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA="},79306:function(s,c,e){var o=e(94901),u=e(16823),f=TypeError;s.exports=function(A){if(o(A))return A;throw new f(u(A)+" is not a function")}},35548:function(s,c,e){var o=e(33517),u=e(16823),f=TypeError;s.exports=function(A){if(o(A))return A;throw new f(u(A)+" is not a constructor")}},73506:function(s,c,e){var o=e(13925),u=String,f=TypeError;s.exports=function(A){if(o(A))return A;throw new f("Can't set "+u(A)+" as a prototype")}},97080:function(s,c,e){var o=e(94402).has;s.exports=function(u){return o(u),u}},6469:function(s,c,e){var o=e(78227),u=e(2360),f=e(24913).f,A=o("unscopables"),p=Array.prototype;p[A]===void 0&&f(p,A,{configurable:!0,value:u(null)}),s.exports=function(m){p[A][m]=!0}},57829:function(s,c,e){var o=e(68183).charAt;s.exports=function(u,f,A){return f+(A?o(u,f).length:1)}},90679:function(s,c,e){var o=e(1625),u=TypeError;s.exports=function(f,A){if(o(A,f))return f;throw new u("Incorrect invocation")}},28551:function(s,c,e){var o=e(20034),u=String,f=TypeError;s.exports=function(A){if(o(A))return A;throw new f(u(A)+" is not an object")}},77811:function(s){s.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},67394:function(s,c,e){var o=e(44576),u=e(46706),f=e(22195),A=o.ArrayBuffer,p=o.TypeError;s.exports=A&&u(A.prototype,"byteLength","get")||function(m){if(f(m)!=="ArrayBuffer")throw new p("ArrayBuffer expected");return m.byteLength}},3238:function(s,c,e){var o=e(44576),u=e(77811),f=e(67394),A=o.DataView;s.exports=function(p){if(!u||f(p)!==0)return!1;try{return new A(p),!1}catch{return!0}}},15652:function(s,c,e){var o=e(79039);s.exports=o((function(){if(typeof ArrayBuffer=="function"){var u=new ArrayBuffer(8);Object.isExtensible(u)&&Object.defineProperty(u,"a",{value:8})}}))},55169:function(s,c,e){var o=e(3238),u=TypeError;s.exports=function(f){if(o(f))throw new u("ArrayBuffer is detached");return f}},95636:function(s,c,e){var o=e(44576),u=e(79504),f=e(46706),A=e(57696),p=e(55169),m=e(67394),y=e(94483),b=e(1548),E=o.structuredClone,S=o.ArrayBuffer,T=o.DataView,L=Math.min,I=S.prototype,B=T.prototype,O=u(I.slice),_=f(I,"resizable","get"),M=f(I,"maxByteLength","get"),U=u(B.getInt8),Q=u(B.setInt8);s.exports=(b||y)&&function($,W,X){var et,Y=m($),N=W===void 0?Y:A(W),K=!_||!_($);if(p($),b&&($=E($,{transfer:[$]}),Y===N&&(X||K)))return $;if(Y>=N&&(!X||K))et=O($,0,N);else{var Z=X&&!K&&M?{maxByteLength:M($)}:void 0;et=new S(N,Z);for(var F=new T($),q=new T(et),nt=L(N,Y),ot=0;ot<nt;ot++)Q(q,ot,U(F,ot))}return b||y($),et}},94644:function(s,c,e){var o,u,f,A=e(77811),p=e(43724),m=e(44576),y=e(94901),b=e(20034),E=e(39297),S=e(36955),T=e(16823),L=e(66699),I=e(36840),B=e(62106),O=e(1625),_=e(42787),M=e(52967),U=e(78227),Q=e(33392),$=e(91181),W=$.enforce,X=$.get,et=m.Int8Array,Y=et&&et.prototype,N=m.Uint8ClampedArray,K=N&&N.prototype,Z=et&&_(et),F=Y&&_(Y),q=Object.prototype,nt=m.TypeError,ot=U("toStringTag"),Ct=Q("TYPED_ARRAY_TAG"),St="TypedArrayConstructor",Tt=A&&!!M&&S(m.opera)!=="Opera",Kt=!1,$t={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},Vt={BigInt64Array:8,BigUint64Array:8},ne=function(ae){var xe=_(ae);if(b(xe)){var Ne=X(xe);return Ne&&E(Ne,St)?Ne[St]:ne(xe)}},fe=function(ae){if(!b(ae))return!1;var xe=S(ae);return E($t,xe)||E(Vt,xe)};for(o in $t)(f=(u=m[o])&&u.prototype)?W(f)[St]=u:Tt=!1;for(o in Vt)(f=(u=m[o])&&u.prototype)&&(W(f)[St]=u);if((!Tt||!y(Z)||Z===Function.prototype)&&(Z=function(){throw new nt("Incorrect invocation")},Tt))for(o in $t)m[o]&&M(m[o],Z);if((!Tt||!F||F===q)&&(F=Z.prototype,Tt))for(o in $t)m[o]&&M(m[o].prototype,F);if(Tt&&_(K)!==F&&M(K,F),p&&!E(F,ot))for(o in Kt=!0,B(F,ot,{configurable:!0,get:function(){return b(this)?this[Ct]:void 0}}),$t)m[o]&&L(m[o],Ct,o);s.exports={NATIVE_ARRAY_BUFFER_VIEWS:Tt,TYPED_ARRAY_TAG:Kt&&Ct,aTypedArray:function(ae){if(fe(ae))return ae;throw new nt("Target is not a typed array")},aTypedArrayConstructor:function(ae){if(y(ae)&&(!M||O(Z,ae)))return ae;throw new nt(T(ae)+" is not a typed array constructor")},exportTypedArrayMethod:function(ae,xe,Ne,Ve){if(p){if(Ne)for(var we in $t){var Le=m[we];if(Le&&E(Le.prototype,ae))try{delete Le.prototype[ae]}catch{try{Le.prototype[ae]=xe}catch{}}}F[ae]&&!Ne||I(F,ae,Ne?xe:Tt&&Y[ae]||xe,Ve)}},exportTypedArrayStaticMethod:function(ae,xe,Ne){var Ve,we;if(p){if(M){if(Ne){for(Ve in $t)if((we=m[Ve])&&E(we,ae))try{delete we[ae]}catch{}}if(Z[ae]&&!Ne)return;try{return I(Z,ae,Ne?xe:Tt&&Z[ae]||xe)}catch{}}for(Ve in $t)!(we=m[Ve])||we[ae]&&!Ne||I(we,ae,xe)}},getTypedArrayConstructor:ne,isView:function(ae){if(!b(ae))return!1;var xe=S(ae);return xe==="DataView"||E($t,xe)||E(Vt,xe)},isTypedArray:fe,TypedArray:Z,TypedArrayPrototype:F}},66346:function(s,c,e){var o=e(44576),u=e(79504),f=e(43724),A=e(77811),p=e(10350),m=e(66699),y=e(62106),b=e(56279),E=e(79039),S=e(90679),T=e(91291),L=e(18014),I=e(57696),B=e(15617),O=e(88490),_=e(42787),M=e(52967),U=e(84373),Q=e(67680),$=e(23167),W=e(77740),X=e(10687),et=e(91181),Y=p.PROPER,N=p.CONFIGURABLE,K="ArrayBuffer",Z="DataView",F="prototype",q="Wrong index",nt=et.getterFor(K),ot=et.getterFor(Z),Ct=et.set,St=o[K],Tt=St,Kt=Tt&&Tt[F],$t=o[Z],Vt=$t&&$t[F],ne=Object.prototype,fe=o.Array,ae=o.RangeError,xe=u(U),Ne=u([].reverse),Ve=O.pack,we=O.unpack,Le=function(It){return[255&It]},nn=function(It){return[255&It,It>>8&255]},En=function(It){return[255&It,It>>8&255,It>>16&255,It>>24&255]},cn=function(It){return It[3]<<24|It[2]<<16|It[1]<<8|It[0]},qe=function(It){return Ve(B(It),23,4)},Ke=function(It){return Ve(It,52,8)},Dn=function(It,ve,Be){y(It[F],ve,{configurable:!0,get:function(){return Be(this)[ve]}})},an=function(It,ve,Be,Yn){var Ue=ot(It),$e=I(Be),Dt=!!Yn;if($e+ve>Ue.byteLength)throw new ae(q);var Te=Ue.bytes,on=$e+Ue.byteOffset,hn=Q(Te,on,on+ve);return Dt?hn:Ne(hn)},ee=function(It,ve,Be,Yn,Ue,$e){var Dt=ot(It),Te=I(Be),on=Yn(+Ue),hn=!!$e;if(Te+ve>Dt.byteLength)throw new ae(q);for(var ie=Dt.bytes,Me=Te+Dt.byteOffset,ye=0;ye<ve;ye++)ie[Me+ye]=on[hn?ye:ve-ye-1]};if(A){var ge=Y&&St.name!==K;E((function(){St(1)}))&&E((function(){new St(-1)}))&&!E((function(){return new St,new St(1.5),new St(NaN),St.length!==1||ge&&!N}))?ge&&N&&m(St,"name",K):((Tt=function(It){return S(this,Kt),$(new St(I(It)),this,Tt)})[F]=Kt,Kt.constructor=Tt,W(Tt,St)),M&&_(Vt)!==ne&&M(Vt,ne);var le=new $t(new Tt(2)),ke=u(Vt.setInt8);le.setInt8(0,2147483648),le.setInt8(1,2147483649),!le.getInt8(0)&&le.getInt8(1)||b(Vt,{setInt8:function(It,ve){ke(this,It,ve<<24>>24)},setUint8:function(It,ve){ke(this,It,ve<<24>>24)}},{unsafe:!0})}else Kt=(Tt=function(It){S(this,Kt);var ve=I(It);Ct(this,{type:K,bytes:xe(fe(ve),0),byteLength:ve}),f||(this.byteLength=ve,this.detached=!1)})[F],Vt=($t=function(It,ve,Be){S(this,Vt),S(It,Kt);var Yn=nt(It),Ue=Yn.byteLength,$e=T(ve);if($e<0||$e>Ue)throw new ae("Wrong offset");if($e+(Be=Be===void 0?Ue-$e:L(Be))>Ue)throw new ae("Wrong length");Ct(this,{type:Z,buffer:It,byteLength:Be,byteOffset:$e,bytes:Yn.bytes}),f||(this.buffer=It,this.byteLength=Be,this.byteOffset=$e)})[F],f&&(Dn(Tt,"byteLength",nt),Dn($t,"buffer",ot),Dn($t,"byteLength",ot),Dn($t,"byteOffset",ot)),b(Vt,{getInt8:function(It){return an(this,1,It)[0]<<24>>24},getUint8:function(It){return an(this,1,It)[0]},getInt16:function(It){var ve=an(this,2,It,arguments.length>1&&arguments[1]);return(ve[1]<<8|ve[0])<<16>>16},getUint16:function(It){var ve=an(this,2,It,arguments.length>1&&arguments[1]);return ve[1]<<8|ve[0]},getInt32:function(It){return cn(an(this,4,It,arguments.length>1&&arguments[1]))},getUint32:function(It){return cn(an(this,4,It,arguments.length>1&&arguments[1]))>>>0},getFloat32:function(It){return we(an(this,4,It,arguments.length>1&&arguments[1]),23)},getFloat64:function(It){return we(an(this,8,It,arguments.length>1&&arguments[1]),52)},setInt8:function(It,ve){ee(this,1,It,Le,ve)},setUint8:function(It,ve){ee(this,1,It,Le,ve)},setInt16:function(It,ve){ee(this,2,It,nn,ve,arguments.length>2&&arguments[2])},setUint16:function(It,ve){ee(this,2,It,nn,ve,arguments.length>2&&arguments[2])},setInt32:function(It,ve){ee(this,4,It,En,ve,arguments.length>2&&arguments[2])},setUint32:function(It,ve){ee(this,4,It,En,ve,arguments.length>2&&arguments[2])},setFloat32:function(It,ve){ee(this,4,It,qe,ve,arguments.length>2&&arguments[2])},setFloat64:function(It,ve){ee(this,8,It,Ke,ve,arguments.length>2&&arguments[2])}});X(Tt,K),X($t,Z),s.exports={ArrayBuffer:Tt,DataView:$t}},57029:function(s,c,e){var o=e(48981),u=e(35610),f=e(26198),A=e(84606),p=Math.min;s.exports=[].copyWithin||function(m,y){var b=o(this),E=f(b),S=u(m,E),T=u(y,E),L=arguments.length>2?arguments[2]:void 0,I=p((L===void 0?E:u(L,E))-T,E-S),B=1;for(T<S&&S<T+I&&(B=-1,T+=I-1,S+=I-1);I-- >0;)T in b?b[S]=b[T]:A(b,S),S+=B,T+=B;return b}},84373:function(s,c,e){var o=e(48981),u=e(35610),f=e(26198);s.exports=function(A){for(var p=o(this),m=f(p),y=arguments.length,b=u(y>1?arguments[1]:void 0,m),E=y>2?arguments[2]:void 0,S=E===void 0?m:u(E,m);S>b;)p[b++]=A;return p}},90235:function(s,c,e){var o=e(59213).forEach,u=e(34598)("forEach");s.exports=u?[].forEach:function(f){return o(this,f,arguments.length>1?arguments[1]:void 0)}},35370:function(s,c,e){var o=e(26198);s.exports=function(u,f,A){for(var p=0,m=arguments.length>2?A:o(f),y=new u(m);m>p;)y[p]=f[p++];return y}},97916:function(s,c,e){var o=e(76080),u=e(69565),f=e(48981),A=e(96319),p=e(44209),m=e(33517),y=e(26198),b=e(97040),E=e(70081),S=e(50851),T=Array;s.exports=function(L){var I=f(L),B=m(this),O=arguments.length,_=O>1?arguments[1]:void 0,M=_!==void 0;M&&(_=o(_,O>2?arguments[2]:void 0));var U,Q,$,W,X,et,Y=S(I),N=0;if(!Y||this===T&&p(Y))for(U=y(I),Q=B?new this(U):T(U);U>N;N++)et=M?_(I[N],N):I[N],b(Q,N,et);else for(Q=B?new this:[],X=(W=E(I,Y)).next;!($=u(X,W)).done;N++)et=M?A(W,_,[$.value,N],!0):$.value,b(Q,N,et);return Q.length=N,Q}},19617:function(s,c,e){var o=e(25397),u=e(35610),f=e(26198),A=function(p){return function(m,y,b){var E=o(m),S=f(E);if(S===0)return!p&&-1;var T,L=u(b,S);if(p&&y!=y){for(;S>L;)if((T=E[L++])!=T)return!0}else for(;S>L;L++)if((p||L in E)&&E[L]===y)return p||L||0;return!p&&-1}};s.exports={includes:A(!0),indexOf:A(!1)}},43839:function(s,c,e){var o=e(76080),u=e(47055),f=e(48981),A=e(26198),p=function(m){var y=m===1;return function(b,E,S){for(var T,L=f(b),I=u(L),B=A(I),O=o(E,S);B-- >0;)if(O(T=I[B],B,L))switch(m){case 0:return T;case 1:return B}return y?-1:void 0}};s.exports={findLast:p(0),findLastIndex:p(1)}},59213:function(s,c,e){var o=e(76080),u=e(79504),f=e(47055),A=e(48981),p=e(26198),m=e(1469),y=u([].push),b=function(E){var S=E===1,T=E===2,L=E===3,I=E===4,B=E===6,O=E===7,_=E===5||B;return function(M,U,Q,$){for(var W,X,et=A(M),Y=f(et),N=p(Y),K=o(U,Q),Z=0,F=$||m,q=S?F(M,N):T||O?F(M,0):void 0;N>Z;Z++)if((_||Z in Y)&&(X=K(W=Y[Z],Z,et),E))if(S)q[Z]=X;else if(X)switch(E){case 3:return!0;case 5:return W;case 6:return Z;case 2:y(q,W)}else switch(E){case 4:return!1;case 7:y(q,W)}return B?-1:L||I?I:q}};s.exports={forEach:b(0),map:b(1),filter:b(2),some:b(3),every:b(4),find:b(5),findIndex:b(6),filterReject:b(7)}},8379:function(s,c,e){var o=e(18745),u=e(25397),f=e(91291),A=e(26198),p=e(34598),m=Math.min,y=[].lastIndexOf,b=!!y&&1/[1].lastIndexOf(1,-0)<0,E=p("lastIndexOf"),S=b||!E;s.exports=S?function(T){if(b)return o(y,this,arguments)||0;var L=u(this),I=A(L);if(I===0)return-1;var B=I-1;for(arguments.length>1&&(B=m(B,f(arguments[1]))),B<0&&(B=I+B);B>=0;B--)if(B in L&&L[B]===T)return B||0;return-1}:y},70597:function(s,c,e){var o=e(79039),u=e(78227),f=e(39519),A=u("species");s.exports=function(p){return f>=51||!o((function(){var m=[];return(m.constructor={})[A]=function(){return{foo:1}},m[p](Boolean).foo!==1}))}},34598:function(s,c,e){var o=e(79039);s.exports=function(u,f){var A=[][u];return!!A&&o((function(){A.call(null,f||function(){return 1},1)}))}},80926:function(s,c,e){var o=e(79306),u=e(48981),f=e(47055),A=e(26198),p=TypeError,m="Reduce of empty array with no initial value",y=function(b){return function(E,S,T,L){var I=u(E),B=f(I),O=A(I);if(o(S),O===0&&T<2)throw new p(m);var _=b?O-1:0,M=b?-1:1;if(T<2)for(;;){if(_ in B){L=B[_],_+=M;break}if(_+=M,b?_<0:O<=_)throw new p(m)}for(;b?_>=0:O>_;_+=M)_ in B&&(L=S(L,B[_],_,I));return L}};s.exports={left:y(!1),right:y(!0)}},34527:function(s,c,e){var o=e(43724),u=e(34376),f=TypeError,A=Object.getOwnPropertyDescriptor,p=o&&!(function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(m){return m instanceof TypeError}})();s.exports=p?function(m,y){if(u(m)&&!A(m,"length").writable)throw new f("Cannot set read only .length");return m.length=y}:function(m,y){return m.length=y}},67680:function(s,c,e){var o=e(79504);s.exports=o([].slice)},74488:function(s,c,e){var o=e(67680),u=Math.floor,f=function(A,p){var m=A.length;if(m<8)for(var y,b,E=1;E<m;){for(b=E,y=A[E];b&&p(A[b-1],y)>0;)A[b]=A[--b];b!==E++&&(A[b]=y)}else for(var S=u(m/2),T=f(o(A,0,S),p),L=f(o(A,S),p),I=T.length,B=L.length,O=0,_=0;O<I||_<B;)A[O+_]=O<I&&_<B?p(T[O],L[_])<=0?T[O++]:L[_++]:O<I?T[O++]:L[_++];return A};s.exports=f},87433:function(s,c,e){var o=e(34376),u=e(33517),f=e(20034),A=e(78227)("species"),p=Array;s.exports=function(m){var y;return o(m)&&(y=m.constructor,(u(y)&&(y===p||o(y.prototype))||f(y)&&(y=y[A])===null)&&(y=void 0)),y===void 0?p:y}},1469:function(s,c,e){var o=e(87433);s.exports=function(u,f){return new(o(u))(f===0?0:f)}},37628:function(s,c,e){var o=e(26198);s.exports=function(u,f){for(var A=o(u),p=new f(A),m=0;m<A;m++)p[m]=u[A-m-1];return p}},39928:function(s,c,e){var o=e(26198),u=e(91291),f=RangeError;s.exports=function(A,p,m,y){var b=o(A),E=u(m),S=E<0?b+E:E;if(S>=b||S<0)throw new f("Incorrect index");for(var T=new p(b),L=0;L<b;L++)T[L]=L===S?y:A[L];return T}},92804:function(s){var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=c+"+/",o=c+"-_",u=function(f){for(var A={},p=0;p<64;p++)A[f.charAt(p)]=p;return A};s.exports={i2c:e,c2i:u(e),i2cUrl:o,c2iUrl:u(o)}},96319:function(s,c,e){var o=e(28551),u=e(9539);s.exports=function(f,A,p,m){try{return m?A(o(p)[0],p[1]):A(p)}catch(y){u(f,"throw",y)}}},84428:function(s,c,e){var o=e(78227)("iterator"),u=!1;try{var f=0,A={next:function(){return{done:!!f++}},return:function(){u=!0}};A[o]=function(){return this},Array.from(A,(function(){throw 2}))}catch{}s.exports=function(p,m){try{if(!m&&!u)return!1}catch{return!1}var y=!1;try{var b={};b[o]=function(){return{next:function(){return{done:y=!0}}}},p(b)}catch{}return y}},22195:function(s,c,e){var o=e(79504),u=o({}.toString),f=o("".slice);s.exports=function(A){return f(u(A),8,-1)}},36955:function(s,c,e){var o=e(92140),u=e(94901),f=e(22195),A=e(78227)("toStringTag"),p=Object,m=f((function(){return arguments})())==="Arguments";s.exports=o?f:function(y){var b,E,S;return y===void 0?"Undefined":y===null?"Null":typeof(E=(function(T,L){try{return T[L]}catch{}})(b=p(y),A))=="string"?E:m?f(b):(S=f(b))==="Object"&&u(b.callee)?"Arguments":S}},86938:function(s,c,e){var o=e(2360),u=e(62106),f=e(56279),A=e(76080),p=e(90679),m=e(64117),y=e(72652),b=e(51088),E=e(62529),S=e(87633),T=e(43724),L=e(3451).fastKey,I=e(91181),B=I.set,O=I.getterFor;s.exports={getConstructor:function(_,M,U,Q){var $=_((function(N,K){p(N,W),B(N,{type:M,index:o(null),first:null,last:null,size:0}),T||(N.size=0),m(K)||y(K,N[Q],{that:N,AS_ENTRIES:U})})),W=$.prototype,X=O(M),et=function(N,K,Z){var F,q,nt=X(N),ot=Y(N,K);return ot?ot.value=Z:(nt.last=ot={index:q=L(K,!0),key:K,value:Z,previous:F=nt.last,next:null,removed:!1},nt.first||(nt.first=ot),F&&(F.next=ot),T?nt.size++:N.size++,q!=="F"&&(nt.index[q]=ot)),N},Y=function(N,K){var Z,F=X(N),q=L(K);if(q!=="F")return F.index[q];for(Z=F.first;Z;Z=Z.next)if(Z.key===K)return Z};return f(W,{clear:function(){for(var N=X(this),K=N.first;K;)K.removed=!0,K.previous&&(K.previous=K.previous.next=null),K=K.next;N.first=N.last=null,N.index=o(null),T?N.size=0:this.size=0},delete:function(N){var K=this,Z=X(K),F=Y(K,N);if(F){var q=F.next,nt=F.previous;delete Z.index[F.index],F.removed=!0,nt&&(nt.next=q),q&&(q.previous=nt),Z.first===F&&(Z.first=q),Z.last===F&&(Z.last=nt),T?Z.size--:K.size--}return!!F},forEach:function(N){for(var K,Z=X(this),F=A(N,arguments.length>1?arguments[1]:void 0);K=K?K.next:Z.first;)for(F(K.value,K.key,this);K&&K.removed;)K=K.previous},has:function(N){return!!Y(this,N)}}),f(W,U?{get:function(N){var K=Y(this,N);return K&&K.value},set:function(N,K){return et(this,N===0?0:N,K)}}:{add:function(N){return et(this,N=N===0?0:N,N)}}),T&&u(W,"size",{configurable:!0,get:function(){return X(this).size}}),$},setStrong:function(_,M,U){var Q=M+" Iterator",$=O(M),W=O(Q);b(_,M,(function(X,et){B(this,{type:Q,target:X,state:$(X),kind:et,last:null})}),(function(){for(var X=W(this),et=X.kind,Y=X.last;Y&&Y.removed;)Y=Y.previous;return X.target&&(X.last=Y=Y?Y.next:X.state.first)?E(et==="keys"?Y.key:et==="values"?Y.value:[Y.key,Y.value],!1):(X.target=null,E(void 0,!0))}),U?"entries":"values",!U,!0),S(M)}}},91625:function(s,c,e){var o=e(79504),u=e(56279),f=e(3451).getWeakData,A=e(90679),p=e(28551),m=e(64117),y=e(20034),b=e(72652),E=e(59213),S=e(39297),T=e(91181),L=T.set,I=T.getterFor,B=E.find,O=E.findIndex,_=o([].splice),M=0,U=function(W){return W.frozen||(W.frozen=new Q)},Q=function(){this.entries=[]},$=function(W,X){return B(W.entries,(function(et){return et[0]===X}))};Q.prototype={get:function(W){var X=$(this,W);if(X)return X[1]},has:function(W){return!!$(this,W)},set:function(W,X){var et=$(this,W);et?et[1]=X:this.entries.push([W,X])},delete:function(W){var X=O(this.entries,(function(et){return et[0]===W}));return~X&&_(this.entries,X,1),!!~X}},s.exports={getConstructor:function(W,X,et,Y){var N=W((function(q,nt){A(q,K),L(q,{type:X,id:M++,frozen:null}),m(nt)||b(nt,q[Y],{that:q,AS_ENTRIES:et})})),K=N.prototype,Z=I(X),F=function(q,nt,ot){var Ct=Z(q),St=f(p(nt),!0);return St===!0?U(Ct).set(nt,ot):St[Ct.id]=ot,q};return u(K,{delete:function(q){var nt=Z(this);if(!y(q))return!1;var ot=f(q);return ot===!0?U(nt).delete(q):ot&&S(ot,nt.id)&&delete ot[nt.id]},has:function(q){var nt=Z(this);if(!y(q))return!1;var ot=f(q);return ot===!0?U(nt).has(q):ot&&S(ot,nt.id)}}),u(K,et?{get:function(q){var nt=Z(this);if(y(q)){var ot=f(q);if(ot===!0)return U(nt).get(q);if(ot)return ot[nt.id]}},set:function(q,nt){return F(this,q,nt)}}:{add:function(q){return F(this,q,!0)}}),N}}},16468:function(s,c,e){var o=e(46518),u=e(44576),f=e(79504),A=e(92796),p=e(36840),m=e(3451),y=e(72652),b=e(90679),E=e(94901),S=e(64117),T=e(20034),L=e(79039),I=e(84428),B=e(10687),O=e(23167);s.exports=function(_,M,U){var Q=_.indexOf("Map")!==-1,$=_.indexOf("Weak")!==-1,W=Q?"set":"add",X=u[_],et=X&&X.prototype,Y=X,N={},K=function(Ct){var St=f(et[Ct]);p(et,Ct,Ct==="add"?function(Tt){return St(this,Tt===0?0:Tt),this}:Ct==="delete"?function(Tt){return!($&&!T(Tt))&&St(this,Tt===0?0:Tt)}:Ct==="get"?function(Tt){return $&&!T(Tt)?void 0:St(this,Tt===0?0:Tt)}:Ct==="has"?function(Tt){return!($&&!T(Tt))&&St(this,Tt===0?0:Tt)}:function(Tt,Kt){return St(this,Tt===0?0:Tt,Kt),this})};if(A(_,!E(X)||!($||et.forEach&&!L((function(){new X().entries().next()})))))Y=U.getConstructor(M,_,Q,W),m.enable();else if(A(_,!0)){var Z=new Y,F=Z[W]($?{}:-0,1)!==Z,q=L((function(){Z.has(1)})),nt=I((function(Ct){new X(Ct)})),ot=!$&&L((function(){for(var Ct=new X,St=5;St--;)Ct[W](St,St);return!Ct.has(-0)}));nt||((Y=M((function(Ct,St){b(Ct,et);var Tt=O(new X,Ct,Y);return S(St)||y(St,Tt[W],{that:Tt,AS_ENTRIES:Q}),Tt}))).prototype=et,et.constructor=Y),(q||ot)&&(K("delete"),K("has"),Q&&K("get")),(ot||F)&&K(W),$&&et.clear&&delete et.clear}return N[_]=Y,o({global:!0,constructor:!0,forced:Y!==X},N),B(Y,_),$||U.setStrong(Y,_,Q),Y}},77740:function(s,c,e){var o=e(39297),u=e(35031),f=e(77347),A=e(24913);s.exports=function(p,m,y){for(var b=u(m),E=A.f,S=f.f,T=0;T<b.length;T++){var L=b[T];o(p,L)||y&&o(y,L)||E(p,L,S(m,L))}}},41436:function(s,c,e){var o=e(78227)("match");s.exports=function(u){var f=/./;try{"/./"[u](f)}catch{try{return f[o]=!1,"/./"[u](f)}catch{}}return!1}},12211:function(s,c,e){var o=e(79039);s.exports=!o((function(){function u(){}return u.prototype.constructor=null,Object.getPrototypeOf(new u)!==u.prototype}))},77240:function(s,c,e){var o=e(79504),u=e(67750),f=e(655),A=/"/g,p=o("".replace);s.exports=function(m,y,b,E){var S=f(u(m)),T="<"+y;return b!==""&&(T+=" "+b+'="'+p(f(E),A,"&quot;")+'"'),T+">"+S+"</"+y+">"}},62529:function(s){s.exports=function(c,e){return{value:c,done:e}}},66699:function(s,c,e){var o=e(43724),u=e(24913),f=e(6980);s.exports=o?function(A,p,m){return u.f(A,p,f(1,m))}:function(A,p,m){return A[p]=m,A}},6980:function(s){s.exports=function(c,e){return{enumerable:!(1&c),configurable:!(2&c),writable:!(4&c),value:e}}},97040:function(s,c,e){var o=e(43724),u=e(24913),f=e(6980);s.exports=function(A,p,m){o?u.f(A,p,f(0,m)):A[p]=m}},70380:function(s,c,e){var o=e(79504),u=e(79039),f=e(60533).start,A=RangeError,p=isFinite,m=Math.abs,y=Date.prototype,b=y.toISOString,E=o(y.getTime),S=o(y.getUTCDate),T=o(y.getUTCFullYear),L=o(y.getUTCHours),I=o(y.getUTCMilliseconds),B=o(y.getUTCMinutes),O=o(y.getUTCMonth),_=o(y.getUTCSeconds);s.exports=u((function(){return b.call(new Date(-50000000000001))!=="0385-07-25T07:06:39.999Z"}))||!u((function(){b.call(new Date(NaN))}))?function(){if(!p(E(this)))throw new A("Invalid time value");var M=this,U=T(M),Q=I(M),$=U<0?"-":U>9999?"+":"";return $+f(m(U),$?6:4,0)+"-"+f(O(M)+1,2,0)+"-"+f(S(M),2,0)+"T"+f(L(M),2,0)+":"+f(B(M),2,0)+":"+f(_(M),2,0)+"."+f(Q,3,0)+"Z"}:b},53640:function(s,c,e){var o=e(28551),u=e(84270),f=TypeError;s.exports=function(A){if(o(this),A==="string"||A==="default")A="string";else if(A!=="number")throw new f("Incorrect hint");return u(this,A)}},62106:function(s,c,e){var o=e(50283),u=e(24913);s.exports=function(f,A,p){return p.get&&o(p.get,A,{getter:!0}),p.set&&o(p.set,A,{setter:!0}),u.f(f,A,p)}},36840:function(s,c,e){var o=e(94901),u=e(24913),f=e(50283),A=e(39433);s.exports=function(p,m,y,b){b||(b={});var E=b.enumerable,S=b.name!==void 0?b.name:m;if(o(y)&&f(y,S,b),b.global)E?p[m]=y:A(m,y);else{try{b.unsafe?p[m]&&(E=!0):delete p[m]}catch{}E?p[m]=y:u.f(p,m,{value:y,enumerable:!1,configurable:!b.nonConfigurable,writable:!b.nonWritable})}return p}},56279:function(s,c,e){var o=e(36840);s.exports=function(u,f,A){for(var p in f)o(u,p,f[p],A);return u}},39433:function(s,c,e){var o=e(44576),u=Object.defineProperty;s.exports=function(f,A){try{u(o,f,{value:A,configurable:!0,writable:!0})}catch{o[f]=A}return A}},84606:function(s,c,e){var o=e(16823),u=TypeError;s.exports=function(f,A){if(!delete f[A])throw new u("Cannot delete property "+o(A)+" of "+o(f))}},43724:function(s,c,e){var o=e(79039);s.exports=!o((function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}))},94483:function(s,c,e){var o,u,f,A,p=e(44576),m=e(89429),y=e(1548),b=p.structuredClone,E=p.ArrayBuffer,S=p.MessageChannel,T=!1;if(y)T=function(L){b(L,{transfer:[L]})};else if(E)try{S||(o=m("worker_threads"))&&(S=o.MessageChannel),S&&(u=new S,f=new E(2),A=function(L){u.port1.postMessage(null,[L])},f.byteLength===2&&(A(f),f.byteLength===0&&(T=A)))}catch{}s.exports=T},4055:function(s,c,e){var o=e(44576),u=e(20034),f=o.document,A=u(f)&&u(f.createElement);s.exports=function(p){return A?f.createElement(p):{}}},96837:function(s){var c=TypeError;s.exports=function(e){if(e>9007199254740991)throw c("Maximum allowed index exceeded");return e}},55002:function(s){s.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},67400:function(s){s.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},79296:function(s,c,e){var o=e(4055)("span").classList,u=o&&o.constructor&&o.constructor.prototype;s.exports=u===Object.prototype?void 0:u},88727:function(s){s.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},13709:function(s,c,e){var o=e(82839).match(/firefox\/(\d+)/i);s.exports=!!o&&+o[1]},13763:function(s,c,e){var o=e(82839);s.exports=/MSIE|Trident/.test(o)},44265:function(s,c,e){var o=e(82839);s.exports=/ipad|iphone|ipod/i.test(o)&&typeof Pebble<"u"},89544:function(s,c,e){var o=e(82839);s.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(o)},38574:function(s,c,e){var o=e(84215);s.exports=o==="NODE"},7860:function(s,c,e){var o=e(82839);s.exports=/web0s(?!.*chrome)/i.test(o)},82839:function(s,c,e){var o=e(44576).navigator,u=o&&o.userAgent;s.exports=u?String(u):""},39519:function(s,c,e){var o,u,f=e(44576),A=e(82839),p=f.process,m=f.Deno,y=p&&p.versions||m&&m.version,b=y&&y.v8;b&&(u=(o=b.split("."))[0]>0&&o[0]<4?1:+(o[0]+o[1])),!u&&A&&(!(o=A.match(/Edge\/(\d+)/))||o[1]>=74)&&(o=A.match(/Chrome\/(\d+)/))&&(u=+o[1]),s.exports=u},3607:function(s,c,e){var o=e(82839).match(/AppleWebKit\/(\d+)\./);s.exports=!!o&&+o[1]},84215:function(s,c,e){var o=e(44576),u=e(82839),f=e(22195),A=function(p){return u.slice(0,p.length)===p};s.exports=A("Bun/")?"BUN":A("Cloudflare-Workers")?"CLOUDFLARE":A("Deno/")?"DENO":A("Node.js/")?"NODE":o.Bun&&typeof Bun.version=="string"?"BUN":o.Deno&&typeof Deno.version=="object"?"DENO":f(o.process)==="process"?"NODE":o.window&&o.document?"BROWSER":"REST"},16193:function(s,c,e){var o=e(79504),u=Error,f=o("".replace),A=String(new u("zxcasd").stack),p=/\n\s*at [^:]*:[^\n]*/,m=p.test(A);s.exports=function(y,b){if(m&&typeof y=="string"&&!u.prepareStackTrace)for(;b--;)y=f(y,p,"");return y}},80747:function(s,c,e){var o=e(66699),u=e(16193),f=e(24659),A=Error.captureStackTrace;s.exports=function(p,m,y,b){f&&(A?A(p,m):o(p,"stack",u(y,b)))}},24659:function(s,c,e){var o=e(79039),u=e(6980);s.exports=!o((function(){var f=new Error("a");return!("stack"in f)||(Object.defineProperty(f,"stack",u(1,7)),f.stack!==7)}))},77536:function(s,c,e){var o=e(43724),u=e(79039),f=e(28551),A=e(32603),p=Error.prototype.toString,m=u((function(){if(o){var y=Object.create(Object.defineProperty({},"name",{get:function(){return this===y}}));if(p.call(y)!=="true")return!0}return p.call({message:1,name:2})!=="2: 1"||p.call({})!=="Error"}));s.exports=m?function(){var y=f(this),b=A(y.name,"Error"),E=A(y.message);return b?E?b+": "+E:b:E}:p},46518:function(s,c,e){var o=e(44576),u=e(77347).f,f=e(66699),A=e(36840),p=e(39433),m=e(77740),y=e(92796);s.exports=function(b,E){var S,T,L,I,B,O=b.target,_=b.global,M=b.stat;if(S=_?o:M?o[O]||p(O,{}):o[O]&&o[O].prototype)for(T in E){if(I=E[T],L=b.dontCallGetSet?(B=u(S,T))&&B.value:S[T],!y(_?T:O+(M?".":"#")+T,b.forced)&&L!==void 0){if(typeof I==typeof L)continue;m(I,L)}(b.sham||L&&L.sham)&&f(I,"sham",!0),A(S,T,I,b)}}},79039:function(s){s.exports=function(c){try{return!!c()}catch{return!0}}},89228:function(s,c,e){e(27495);var o=e(69565),u=e(36840),f=e(57323),A=e(79039),p=e(78227),m=e(66699),y=p("species"),b=RegExp.prototype;s.exports=function(E,S,T,L){var I=p(E),B=!A((function(){var U={};return U[I]=function(){return 7},""[E](U)!==7})),O=B&&!A((function(){var U=!1,Q=/a/;return E==="split"&&((Q={}).constructor={},Q.constructor[y]=function(){return Q},Q.flags="",Q[I]=/./[I]),Q.exec=function(){return U=!0,null},Q[I](""),!U}));if(!B||!O||T){var _=/./[I],M=S(I,""[E],(function(U,Q,$,W,X){var et=Q.exec;return et===f||et===b.exec?B&&!X?{done:!0,value:o(_,Q,$,W)}:{done:!0,value:o(U,$,Q,W)}:{done:!1}}));u(String.prototype,E,M[0]),u(b,I,M[1])}L&&m(b[I],"sham",!0)}},70259:function(s,c,e){var o=e(34376),u=e(26198),f=e(96837),A=e(76080),p=function(m,y,b,E,S,T,L,I){for(var B,O,_=S,M=0,U=!!L&&A(L,I);M<E;)M in b&&(B=U?U(b[M],M,y):b[M],T>0&&o(B)?(O=u(B),_=p(m,y,B,O,_,T-1)-1):(f(_+1),m[_]=B),_++),M++;return _};s.exports=p},92744:function(s,c,e){var o=e(79039);s.exports=!o((function(){return Object.isExtensible(Object.preventExtensions({}))}))},18745:function(s,c,e){var o=e(40616),u=Function.prototype,f=u.apply,A=u.call;s.exports=typeof Reflect=="object"&&Reflect.apply||(o?A.bind(f):function(){return A.apply(f,arguments)})},76080:function(s,c,e){var o=e(27476),u=e(79306),f=e(40616),A=o(o.bind);s.exports=function(p,m){return u(p),m===void 0?p:f?A(p,m):function(){return p.apply(m,arguments)}}},40616:function(s,c,e){var o=e(79039);s.exports=!o((function(){var u=(function(){}).bind();return typeof u!="function"||u.hasOwnProperty("prototype")}))},30566:function(s,c,e){var o=e(79504),u=e(79306),f=e(20034),A=e(39297),p=e(67680),m=e(40616),y=Function,b=o([].concat),E=o([].join),S={};s.exports=m?y.bind:function(T){var L=u(this),I=L.prototype,B=p(arguments,1),O=function(){var _=b(B,p(arguments));return this instanceof O?(function(M,U,Q){if(!A(S,U)){for(var $=[],W=0;W<U;W++)$[W]="a["+W+"]";S[U]=y("C,a","return new C("+E($,",")+")")}return S[U](M,Q)})(L,_.length,_):L.apply(T,_)};return f(I)&&(O.prototype=I),O}},69565:function(s,c,e){var o=e(40616),u=Function.prototype.call;s.exports=o?u.bind(u):function(){return u.apply(u,arguments)}},10350:function(s,c,e){var o=e(43724),u=e(39297),f=Function.prototype,A=o&&Object.getOwnPropertyDescriptor,p=u(f,"name"),m=p&&(function(){}).name==="something",y=p&&(!o||o&&A(f,"name").configurable);s.exports={EXISTS:p,PROPER:m,CONFIGURABLE:y}},46706:function(s,c,e){var o=e(79504),u=e(79306);s.exports=function(f,A,p){try{return o(u(Object.getOwnPropertyDescriptor(f,A)[p]))}catch{}}},27476:function(s,c,e){var o=e(22195),u=e(79504);s.exports=function(f){if(o(f)==="Function")return u(f)}},79504:function(s,c,e){var o=e(40616),u=Function.prototype,f=u.call,A=o&&u.bind.bind(f,f);s.exports=o?A:function(p){return function(){return f.apply(p,arguments)}}},89429:function(s,c,e){var o=e(44576),u=e(38574);s.exports=function(f){if(u){try{return o.process.getBuiltinModule(f)}catch{}try{return Function('return require("'+f+'")')()}catch{}}}},44124:function(s,c,e){var o=e(44576);s.exports=function(u,f){var A=o[u],p=A&&A.prototype;return p&&p[f]}},97751:function(s,c,e){var o=e(44576),u=e(94901);s.exports=function(f,A){return arguments.length<2?(p=o[f],u(p)?p:void 0):o[f]&&o[f][A];var p}},1767:function(s){s.exports=function(c){return{iterator:c,next:c.next,done:!1}}},48646:function(s,c,e){var o=e(69565),u=e(28551),f=e(1767),A=e(50851);s.exports=function(p,m){m&&typeof p=="string"||u(p);var y=A(p);return f(u(y!==void 0?o(y,p):p))}},50851:function(s,c,e){var o=e(36955),u=e(55966),f=e(64117),A=e(26269),p=e(78227)("iterator");s.exports=function(m){if(!f(m))return u(m,p)||u(m,"@@iterator")||A[o(m)]}},70081:function(s,c,e){var o=e(69565),u=e(79306),f=e(28551),A=e(16823),p=e(50851),m=TypeError;s.exports=function(y,b){var E=arguments.length<2?p(y):b;if(u(E))return f(o(E,y));throw new m(A(y)+" is not iterable")}},66933:function(s,c,e){var o=e(79504),u=e(34376),f=e(94901),A=e(22195),p=e(655),m=o([].push);s.exports=function(y){if(f(y))return y;if(u(y)){for(var b=y.length,E=[],S=0;S<b;S++){var T=y[S];typeof T=="string"?m(E,T):typeof T!="number"&&A(T)!=="Number"&&A(T)!=="String"||m(E,p(T))}var L=E.length,I=!0;return function(B,O){if(I)return I=!1,O;if(u(this))return O;for(var _=0;_<L;_++)if(E[_]===B)return O}}}},55966:function(s,c,e){var o=e(79306),u=e(64117);s.exports=function(f,A){var p=f[A];return u(p)?void 0:o(p)}},83789:function(s,c,e){var o=e(79306),u=e(28551),f=e(69565),A=e(91291),p=e(1767),m="Invalid size",y=RangeError,b=TypeError,E=Math.max,S=function(T,L){this.set=T,this.size=E(L,0),this.has=o(T.has),this.keys=o(T.keys)};S.prototype={getIterator:function(){return p(u(f(this.keys,this.set)))},includes:function(T){return f(this.has,this.set,T)}},s.exports=function(T){u(T);var L=+T.size;if(L!=L)throw new b(m);var I=A(L);if(I<0)throw new y(m);return new S(T,I)}},2478:function(s,c,e){var o=e(79504),u=e(48981),f=Math.floor,A=o("".charAt),p=o("".replace),m=o("".slice),y=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,b=/\$([$&'`]|\d{1,2})/g;s.exports=function(E,S,T,L,I,B){var O=T+E.length,_=L.length,M=b;return I!==void 0&&(I=u(I),M=y),p(B,M,(function(U,Q){var $;switch(A(Q,0)){case"$":return"$";case"&":return E;case"`":return m(S,0,T);case"'":return m(S,O);case"<":$=I[m(Q,1,-1)];break;default:var W=+Q;if(W===0)return U;if(W>_){var X=f(W/10);return X===0?U:X<=_?L[X-1]===void 0?A(Q,1):L[X-1]+A(Q,1):U}$=L[W-1]}return $===void 0?"":$}))}},44576:function(s,c,e){var o=function(u){return u&&u.Math===Math&&u};s.exports=o(typeof globalThis=="object"&&globalThis)||o(typeof window=="object"&&window)||o(typeof self=="object"&&self)||o(typeof e.g=="object"&&e.g)||o(typeof this=="object"&&this)||(function(){return this})()||Function("return this")()},39297:function(s,c,e){var o=e(79504),u=e(48981),f=o({}.hasOwnProperty);s.exports=Object.hasOwn||function(A,p){return f(u(A),p)}},30421:function(s){s.exports={}},90757:function(s){s.exports=function(c,e){try{arguments.length===1?console.error(c):console.error(c,e)}catch{}}},20397:function(s,c,e){var o=e(97751);s.exports=o("document","documentElement")},35917:function(s,c,e){var o=e(43724),u=e(79039),f=e(4055);s.exports=!o&&!u((function(){return Object.defineProperty(f("div"),"a",{get:function(){return 7}}).a!==7}))},88490:function(s){var c=Array,e=Math.abs,o=Math.pow,u=Math.floor,f=Math.log,A=Math.LN2;s.exports={pack:function(p,m,y){var b,E,S,T=c(y),L=8*y-m-1,I=(1<<L)-1,B=I>>1,O=m===23?o(2,-24)-o(2,-77):0,_=p<0||p===0&&1/p<0?1:0,M=0;for((p=e(p))!=p||p===1/0?(E=p!=p?1:0,b=I):(b=u(f(p)/A),p*(S=o(2,-b))<1&&(b--,S*=2),(p+=b+B>=1?O/S:O*o(2,1-B))*S>=2&&(b++,S/=2),b+B>=I?(E=0,b=I):b+B>=1?(E=(p*S-1)*o(2,m),b+=B):(E=p*o(2,B-1)*o(2,m),b=0));m>=8;)T[M++]=255&E,E/=256,m-=8;for(b=b<<m|E,L+=m;L>0;)T[M++]=255&b,b/=256,L-=8;return T[M-1]|=128*_,T},unpack:function(p,m){var y,b=p.length,E=8*b-m-1,S=(1<<E)-1,T=S>>1,L=E-7,I=b-1,B=p[I--],O=127&B;for(B>>=7;L>0;)O=256*O+p[I--],L-=8;for(y=O&(1<<-L)-1,O>>=-L,L+=m;L>0;)y=256*y+p[I--],L-=8;if(O===0)O=1-T;else{if(O===S)return y?NaN:B?-1/0:1/0;y+=o(2,m),O-=T}return(B?-1:1)*y*o(2,O-m)}}},47055:function(s,c,e){var o=e(79504),u=e(79039),f=e(22195),A=Object,p=o("".split);s.exports=u((function(){return!A("z").propertyIsEnumerable(0)}))?function(m){return f(m)==="String"?p(m,""):A(m)}:A},23167:function(s,c,e){var o=e(94901),u=e(20034),f=e(52967);s.exports=function(A,p,m){var y,b;return f&&o(y=p.constructor)&&y!==m&&u(b=y.prototype)&&b!==m.prototype&&f(A,b),A}},33706:function(s,c,e){var o=e(79504),u=e(94901),f=e(77629),A=o(Function.toString);u(f.inspectSource)||(f.inspectSource=function(p){return A(p)}),s.exports=f.inspectSource},77584:function(s,c,e){var o=e(20034),u=e(66699);s.exports=function(f,A){o(A)&&"cause"in A&&u(f,"cause",A.cause)}},3451:function(s,c,e){var o=e(46518),u=e(79504),f=e(30421),A=e(20034),p=e(39297),m=e(24913).f,y=e(38480),b=e(10298),E=e(34124),S=e(33392),T=e(92744),L=!1,I=S("meta"),B=0,O=function(M){m(M,I,{value:{objectID:"O"+B++,weakData:{}}})},_=s.exports={enable:function(){_.enable=function(){},L=!0;var M=y.f,U=u([].splice),Q={};Q[I]=1,M(Q).length&&(y.f=function($){for(var W=M($),X=0,et=W.length;X<et;X++)if(W[X]===I){U(W,X,1);break}return W},o({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:b.f}))},fastKey:function(M,U){if(!A(M))return typeof M=="symbol"?M:(typeof M=="string"?"S":"P")+M;if(!p(M,I)){if(!E(M))return"F";if(!U)return"E";O(M)}return M[I].objectID},getWeakData:function(M,U){if(!p(M,I)){if(!E(M))return!0;if(!U)return!1;O(M)}return M[I].weakData},onFreeze:function(M){return T&&L&&E(M)&&!p(M,I)&&O(M),M}};f[I]=!0},91181:function(s,c,e){var o,u,f,A=e(58622),p=e(44576),m=e(20034),y=e(66699),b=e(39297),E=e(77629),S=e(66119),T=e(30421),L="Object already initialized",I=p.TypeError,B=p.WeakMap;if(A||E.state){var O=E.state||(E.state=new B);O.get=O.get,O.has=O.has,O.set=O.set,o=function(M,U){if(O.has(M))throw new I(L);return U.facade=M,O.set(M,U),U},u=function(M){return O.get(M)||{}},f=function(M){return O.has(M)}}else{var _=S("state");T[_]=!0,o=function(M,U){if(b(M,_))throw new I(L);return U.facade=M,y(M,_,U),U},u=function(M){return b(M,_)?M[_]:{}},f=function(M){return b(M,_)}}s.exports={set:o,get:u,has:f,enforce:function(M){return f(M)?u(M):o(M,{})},getterFor:function(M){return function(U){var Q;if(!m(U)||(Q=u(U)).type!==M)throw new I("Incompatible receiver, "+M+" required");return Q}}}},44209:function(s,c,e){var o=e(78227),u=e(26269),f=o("iterator"),A=Array.prototype;s.exports=function(p){return p!==void 0&&(u.Array===p||A[f]===p)}},34376:function(s,c,e){var o=e(22195);s.exports=Array.isArray||function(u){return o(u)==="Array"}},18727:function(s,c,e){var o=e(36955);s.exports=function(u){var f=o(u);return f==="BigInt64Array"||f==="BigUint64Array"}},94901:function(s){var c=typeof document=="object"&&document.all;s.exports=c===void 0&&c!==void 0?function(e){return typeof e=="function"||e===c}:function(e){return typeof e=="function"}},33517:function(s,c,e){var o=e(79504),u=e(79039),f=e(94901),A=e(36955),p=e(97751),m=e(33706),y=function(){},b=p("Reflect","construct"),E=/^\s*(?:class|function)\b/,S=o(E.exec),T=!E.test(y),L=function(B){if(!f(B))return!1;try{return b(y,[],B),!0}catch{return!1}},I=function(B){if(!f(B))return!1;switch(A(B)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return T||!!S(E,m(B))}catch{return!0}};I.sham=!0,s.exports=!b||u((function(){var B;return L(L.call)||!L(Object)||!L((function(){B=!0}))||B}))?I:L},16575:function(s,c,e){var o=e(39297);s.exports=function(u){return u!==void 0&&(o(u,"value")||o(u,"writable"))}},92796:function(s,c,e){var o=e(79039),u=e(94901),f=/#|\.prototype\./,A=function(E,S){var T=m[p(E)];return T===b||T!==y&&(u(S)?o(S):!!S)},p=A.normalize=function(E){return String(E).replace(f,".").toLowerCase()},m=A.data={},y=A.NATIVE="N",b=A.POLYFILL="P";s.exports=A},2087:function(s,c,e){var o=e(20034),u=Math.floor;s.exports=Number.isInteger||function(f){return!o(f)&&isFinite(f)&&u(f)===f}},64117:function(s){s.exports=function(c){return c==null}},20034:function(s,c,e){var o=e(94901);s.exports=function(u){return typeof u=="object"?u!==null:o(u)}},13925:function(s,c,e){var o=e(20034);s.exports=function(u){return o(u)||u===null}},96395:function(s){s.exports=!1},60788:function(s,c,e){var o=e(20034),u=e(22195),f=e(78227)("match");s.exports=function(A){var p;return o(A)&&((p=A[f])!==void 0?!!p:u(A)==="RegExp")}},10757:function(s,c,e){var o=e(97751),u=e(94901),f=e(1625),A=e(7040),p=Object;s.exports=A?function(m){return typeof m=="symbol"}:function(m){var y=o("Symbol");return u(y)&&f(y.prototype,p(m))}},40507:function(s,c,e){var o=e(69565);s.exports=function(u,f,A){for(var p,m,y=A?u:u.iterator,b=u.next;!(p=o(b,y)).done;)if((m=f(p.value))!==void 0)return m}},72652:function(s,c,e){var o=e(76080),u=e(69565),f=e(28551),A=e(16823),p=e(44209),m=e(26198),y=e(1625),b=e(70081),E=e(50851),S=e(9539),T=TypeError,L=function(B,O){this.stopped=B,this.result=O},I=L.prototype;s.exports=function(B,O,_){var M,U,Q,$,W,X,et,Y=_&&_.that,N=!(!_||!_.AS_ENTRIES),K=!(!_||!_.IS_RECORD),Z=!(!_||!_.IS_ITERATOR),F=!(!_||!_.INTERRUPTED),q=o(O,Y),nt=function(Ct){return M&&S(M,"normal",Ct),new L(!0,Ct)},ot=function(Ct){return N?(f(Ct),F?q(Ct[0],Ct[1],nt):q(Ct[0],Ct[1])):F?q(Ct,nt):q(Ct)};if(K)M=B.iterator;else if(Z)M=B;else{if(!(U=E(B)))throw new T(A(B)+" is not iterable");if(p(U)){for(Q=0,$=m(B);$>Q;Q++)if((W=ot(B[Q]))&&y(I,W))return W;return new L(!1)}M=b(B,U)}for(X=K?B.next:M.next;!(et=u(X,M)).done;){try{W=ot(et.value)}catch(Ct){S(M,"throw",Ct)}if(typeof W=="object"&&W&&y(I,W))return W}return new L(!1)}},9539:function(s,c,e){var o=e(69565),u=e(28551),f=e(55966);s.exports=function(A,p,m){var y,b;u(A);try{if(!(y=f(A,"return"))){if(p==="throw")throw m;return m}y=o(y,A)}catch(E){b=!0,y=E}if(p==="throw")throw m;if(b)throw y;return u(y),m}},33994:function(s,c,e){var o=e(57657).IteratorPrototype,u=e(2360),f=e(6980),A=e(10687),p=e(26269),m=function(){return this};s.exports=function(y,b,E,S){var T=b+" Iterator";return y.prototype=u(o,{next:f(+!S,E)}),A(y,T,!1,!0),p[T]=m,y}},19462:function(s,c,e){var o=e(69565),u=e(2360),f=e(66699),A=e(56279),p=e(78227),m=e(91181),y=e(55966),b=e(57657).IteratorPrototype,E=e(62529),S=e(9539),T=p("toStringTag"),L="IteratorHelper",I="WrapForValidIterator",B=m.set,O=function(U){var Q=m.getterFor(U?I:L);return A(u(b),{next:function(){var $=Q(this);if(U)return $.nextHandler();if($.done)return E(void 0,!0);try{var W=$.nextHandler();return $.returnHandlerResult?W:E(W,$.done)}catch(X){throw $.done=!0,X}},return:function(){var $=Q(this),W=$.iterator;if($.done=!0,U){var X=y(W,"return");return X?o(X,W):E(void 0,!0)}if($.inner)try{S($.inner.iterator,"normal")}catch(et){return S(W,"throw",et)}return W&&S(W,"normal"),E(void 0,!0)}})},_=O(!0),M=O(!1);f(M,T,"Iterator Helper"),s.exports=function(U,Q,$){var W=function(X,et){et?(et.iterator=X.iterator,et.next=X.next):et=X,et.type=Q?I:L,et.returnHandlerResult=!!$,et.nextHandler=U,et.counter=0,et.done=!1,B(this,et)};return W.prototype=Q?_:M,W}},51088:function(s,c,e){var o=e(46518),u=e(69565),f=e(96395),A=e(10350),p=e(94901),m=e(33994),y=e(42787),b=e(52967),E=e(10687),S=e(66699),T=e(36840),L=e(78227),I=e(26269),B=e(57657),O=A.PROPER,_=A.CONFIGURABLE,M=B.IteratorPrototype,U=B.BUGGY_SAFARI_ITERATORS,Q=L("iterator"),$="keys",W="values",X="entries",et=function(){return this};s.exports=function(Y,N,K,Z,F,q,nt){m(K,N,Z);var ot,Ct,St,Tt=function(xe){if(xe===F&&fe)return fe;if(!U&&xe&&xe in Vt)return Vt[xe];switch(xe){case $:case W:case X:return function(){return new K(this,xe)}}return function(){return new K(this)}},Kt=N+" Iterator",$t=!1,Vt=Y.prototype,ne=Vt[Q]||Vt["@@iterator"]||F&&Vt[F],fe=!U&&ne||Tt(F),ae=N==="Array"&&Vt.entries||ne;if(ae&&(ot=y(ae.call(new Y)))!==Object.prototype&&ot.next&&(f||y(ot)===M||(b?b(ot,M):p(ot[Q])||T(ot,Q,et)),E(ot,Kt,!0,!0),f&&(I[Kt]=et)),O&&F===W&&ne&&ne.name!==W&&(!f&&_?S(Vt,"name",W):($t=!0,fe=function(){return u(ne,this)})),F)if(Ct={values:Tt(W),keys:q?fe:Tt($),entries:Tt(X)},nt)for(St in Ct)(U||$t||!(St in Vt))&&T(Vt,St,Ct[St]);else o({target:N,proto:!0,forced:U||$t},Ct);return f&&!nt||Vt[Q]===fe||T(Vt,Q,fe,{name:F}),I[N]=fe,Ct}},20713:function(s,c,e){var o=e(69565),u=e(79306),f=e(28551),A=e(1767),p=e(19462),m=e(96319),y=p((function(){var b=this.iterator,E=f(o(this.next,b));if(!(this.done=!!E.done))return m(b,this.mapper,[E.value,this.counter++],!0)}));s.exports=function(b){return f(this),u(b),new y(A(this),{mapper:b})}},57657:function(s,c,e){var o,u,f,A=e(79039),p=e(94901),m=e(20034),y=e(2360),b=e(42787),E=e(36840),S=e(78227),T=e(96395),L=S("iterator"),I=!1;[].keys&&("next"in(f=[].keys())?(u=b(b(f)))!==Object.prototype&&(o=u):I=!0),!m(o)||A((function(){var B={};return o[L].call(B)!==B}))?o={}:T&&(o=y(o)),p(o[L])||E(o,L,(function(){return this})),s.exports={IteratorPrototype:o,BUGGY_SAFARI_ITERATORS:I}},26269:function(s){s.exports={}},26198:function(s,c,e){var o=e(18014);s.exports=function(u){return o(u.length)}},50283:function(s,c,e){var o=e(79504),u=e(79039),f=e(94901),A=e(39297),p=e(43724),m=e(10350).CONFIGURABLE,y=e(33706),b=e(91181),E=b.enforce,S=b.get,T=String,L=Object.defineProperty,I=o("".slice),B=o("".replace),O=o([].join),_=p&&!u((function(){return L((function(){}),"length",{value:8}).length!==8})),M=String(String).split("String"),U=s.exports=function(Q,$,W){I(T($),0,7)==="Symbol("&&($="["+B(T($),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),W&&W.getter&&($="get "+$),W&&W.setter&&($="set "+$),(!A(Q,"name")||m&&Q.name!==$)&&(p?L(Q,"name",{value:$,configurable:!0}):Q.name=$),_&&W&&A(W,"arity")&&Q.length!==W.arity&&L(Q,"length",{value:W.arity});try{W&&A(W,"constructor")&&W.constructor?p&&L(Q,"prototype",{writable:!1}):Q.prototype&&(Q.prototype=void 0)}catch{}var X=E(Q);return A(X,"source")||(X.source=O(M,typeof $=="string"?$:"")),Q};Function.prototype.toString=U((function(){return f(this)&&S(this).source||y(this)}),"toString")},72248:function(s,c,e){var o=e(79504),u=Map.prototype;s.exports={Map,set:o(u.set),get:o(u.get),has:o(u.has),remove:o(u.delete),proto:u}},53250:function(s){var c=Math.expm1,e=Math.exp;s.exports=!c||c(10)>22025.465794806718||c(10)<22025.465794806718||c(-2e-17)!==-2e-17?function(o){var u=+o;return u===0?u:u>-1e-6&&u<1e-6?u+u*u/2:e(u)-1}:c},33164:function(s,c,e){var o=e(77782),u=e(53602),f=Math.abs;s.exports=function(A,p,m,y){var b=+A,E=f(b),S=o(b);if(E<y)return S*u(E/y/p)*y*p;var T=(1+p/2220446049250313e-31)*E,L=T-(T-E);return L>m||L!=L?S*(1/0):S*L}},15617:function(s,c,e){var o=e(33164);s.exports=Math.fround||function(u){return o(u,11920928955078125e-23,34028234663852886e22,11754943508222875e-54)}},49340:function(s){var c=Math.log,e=Math.LOG10E;s.exports=Math.log10||function(o){return c(o)*e}},7740:function(s){var c=Math.log;s.exports=Math.log1p||function(e){var o=+e;return o>-1e-8&&o<1e-8?o-o*o/2:c(1+o)}},67787:function(s){var c=Math.log,e=Math.LN2;s.exports=Math.log2||function(o){return c(o)/e}},53602:function(s){var c=4503599627370496;s.exports=function(e){return e+c-c}},77782:function(s){s.exports=Math.sign||function(c){var e=+c;return e===0||e!=e?e:e<0?-1:1}},80741:function(s){var c=Math.ceil,e=Math.floor;s.exports=Math.trunc||function(o){var u=+o;return(u>0?e:c)(u)}},91955:function(s,c,e){var o,u,f,A,p,m=e(44576),y=e(93389),b=e(76080),E=e(59225).set,S=e(18265),T=e(89544),L=e(44265),I=e(7860),B=e(38574),O=m.MutationObserver||m.WebKitMutationObserver,_=m.document,M=m.process,U=m.Promise,Q=y("queueMicrotask");if(!Q){var $=new S,W=function(){var X,et;for(B&&(X=M.domain)&&X.exit();et=$.get();)try{et()}catch(Y){throw $.head&&o(),Y}X&&X.enter()};T||B||I||!O||!_?!L&&U&&U.resolve?((A=U.resolve(void 0)).constructor=U,p=b(A.then,A),o=function(){p(W)}):B?o=function(){M.nextTick(W)}:(E=b(E,m),o=function(){E(W)}):(u=!0,f=_.createTextNode(""),new O(W).observe(f,{characterData:!0}),o=function(){f.data=u=!u}),Q=function(X){$.head||o(),$.add(X)}}s.exports=Q},36043:function(s,c,e){var o=e(79306),u=TypeError,f=function(A){var p,m;this.promise=new A((function(y,b){if(p!==void 0||m!==void 0)throw new u("Bad Promise constructor");p=y,m=b})),this.resolve=o(p),this.reject=o(m)};s.exports.f=function(A){return new f(A)}},32603:function(s,c,e){var o=e(655);s.exports=function(u,f){return u===void 0?arguments.length<2?"":f:o(u)}},24149:function(s){var c=RangeError;s.exports=function(e){if(e==e)return e;throw new c("NaN is not allowed")}},60511:function(s,c,e){var o=e(60788),u=TypeError;s.exports=function(f){if(o(f))throw new u("The method doesn't accept regular expressions");return f}},50360:function(s,c,e){var o=e(44576).isFinite;s.exports=Number.isFinite||function(u){return typeof u=="number"&&o(u)}},33904:function(s,c,e){var o=e(44576),u=e(79039),f=e(79504),A=e(655),p=e(43802).trim,m=e(47452),y=f("".charAt),b=o.parseFloat,E=o.Symbol,S=E&&E.iterator,T=1/b(m+"-0")!=-1/0||S&&!u((function(){b(Object(S))}));s.exports=T?function(L){var I=p(A(L)),B=b(I);return B===0&&y(I,0)==="-"?-0:B}:b},52703:function(s,c,e){var o=e(44576),u=e(79039),f=e(79504),A=e(655),p=e(43802).trim,m=e(47452),y=o.parseInt,b=o.Symbol,E=b&&b.iterator,S=/^[+-]?0x/i,T=f(S.exec),L=y(m+"08")!==8||y(m+"0x16")!==22||E&&!u((function(){y(Object(E))}));s.exports=L?function(I,B){var O=p(A(I));return y(O,B>>>0||(T(S,O)?16:10))}:y},44213:function(s,c,e){var o=e(43724),u=e(79504),f=e(69565),A=e(79039),p=e(71072),m=e(33717),y=e(48773),b=e(48981),E=e(47055),S=Object.assign,T=Object.defineProperty,L=u([].concat);s.exports=!S||A((function(){if(o&&S({b:1},S(T({},"a",{enumerable:!0,get:function(){T(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var I={},B={},O=Symbol("assign detection"),_="abcdefghijklmnopqrst";return I[O]=7,_.split("").forEach((function(M){B[M]=M})),S({},I)[O]!==7||p(S({},B)).join("")!==_}))?function(I,B){for(var O=b(I),_=arguments.length,M=1,U=m.f,Q=y.f;_>M;)for(var $,W=E(arguments[M++]),X=U?L(p(W),U(W)):p(W),et=X.length,Y=0;et>Y;)$=X[Y++],o&&!f(Q,W,$)||(O[$]=W[$]);return O}:S},2360:function(s,c,e){var o,u=e(28551),f=e(96801),A=e(88727),p=e(30421),m=e(20397),y=e(4055),b=e(66119),E="prototype",S="script",T=b("IE_PROTO"),L=function(){},I=function(_){return"<"+S+">"+_+"</"+S+">"},B=function(_){_.write(I("")),_.close();var M=_.parentWindow.Object;return _=null,M},O=function(){try{o=new ActiveXObject("htmlfile")}catch{}var _,M,U;O=typeof document<"u"?document.domain&&o?B(o):(M=y("iframe"),U="java"+S+":",M.style.display="none",m.appendChild(M),M.src=String(U),(_=M.contentWindow.document).open(),_.write(I("document.F=Object")),_.close(),_.F):B(o);for(var Q=A.length;Q--;)delete O[E][A[Q]];return O()};p[T]=!0,s.exports=Object.create||function(_,M){var U;return _!==null?(L[E]=u(_),U=new L,L[E]=null,U[T]=_):U=O(),M===void 0?U:f.f(U,M)}},96801:function(s,c,e){var o=e(43724),u=e(48686),f=e(24913),A=e(28551),p=e(25397),m=e(71072);c.f=o&&!u?Object.defineProperties:function(y,b){A(y);for(var E,S=p(b),T=m(b),L=T.length,I=0;L>I;)f.f(y,E=T[I++],S[E]);return y}},24913:function(s,c,e){var o=e(43724),u=e(35917),f=e(48686),A=e(28551),p=e(56969),m=TypeError,y=Object.defineProperty,b=Object.getOwnPropertyDescriptor,E="enumerable",S="configurable",T="writable";c.f=o?f?function(L,I,B){if(A(L),I=p(I),A(B),typeof L=="function"&&I==="prototype"&&"value"in B&&T in B&&!B[T]){var O=b(L,I);O&&O[T]&&(L[I]=B.value,B={configurable:S in B?B[S]:O[S],enumerable:E in B?B[E]:O[E],writable:!1})}return y(L,I,B)}:y:function(L,I,B){if(A(L),I=p(I),A(B),u)try{return y(L,I,B)}catch{}if("get"in B||"set"in B)throw new m("Accessors not supported");return"value"in B&&(L[I]=B.value),L}},77347:function(s,c,e){var o=e(43724),u=e(69565),f=e(48773),A=e(6980),p=e(25397),m=e(56969),y=e(39297),b=e(35917),E=Object.getOwnPropertyDescriptor;c.f=o?E:function(S,T){if(S=p(S),T=m(T),b)try{return E(S,T)}catch{}if(y(S,T))return A(!u(f.f,S,T),S[T])}},10298:function(s,c,e){var o=e(22195),u=e(25397),f=e(38480).f,A=e(67680),p=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];s.exports.f=function(m){return p&&o(m)==="Window"?(function(y){try{return f(y)}catch{return A(p)}})(m):f(u(m))}},38480:function(s,c,e){var o=e(61828),u=e(88727).concat("length","prototype");c.f=Object.getOwnPropertyNames||function(f){return o(f,u)}},33717:function(s,c){c.f=Object.getOwnPropertySymbols},42787:function(s,c,e){var o=e(39297),u=e(94901),f=e(48981),A=e(66119),p=e(12211),m=A("IE_PROTO"),y=Object,b=y.prototype;s.exports=p?y.getPrototypeOf:function(E){var S=f(E);if(o(S,m))return S[m];var T=S.constructor;return u(T)&&S instanceof T?T.prototype:S instanceof y?b:null}},34124:function(s,c,e){var o=e(79039),u=e(20034),f=e(22195),A=e(15652),p=Object.isExtensible,m=o((function(){}));s.exports=m||A?function(y){return!!u(y)&&(!A||f(y)!=="ArrayBuffer")&&(!p||p(y))}:p},1625:function(s,c,e){var o=e(79504);s.exports=o({}.isPrototypeOf)},61828:function(s,c,e){var o=e(79504),u=e(39297),f=e(25397),A=e(19617).indexOf,p=e(30421),m=o([].push);s.exports=function(y,b){var E,S=f(y),T=0,L=[];for(E in S)!u(p,E)&&u(S,E)&&m(L,E);for(;b.length>T;)u(S,E=b[T++])&&(~A(L,E)||m(L,E));return L}},71072:function(s,c,e){var o=e(61828),u=e(88727);s.exports=Object.keys||function(f){return o(f,u)}},48773:function(s,c){var e={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,u=o&&!e.call({1:2},1);c.f=u?function(f){var A=o(this,f);return!!A&&A.enumerable}:e},42551:function(s,c,e){var o=e(96395),u=e(44576),f=e(79039),A=e(3607);s.exports=o||!f((function(){if(!(A&&A<535)){var p=Math.random();__defineSetter__.call(null,p,(function(){})),delete u[p]}}))},52967:function(s,c,e){var o=e(46706),u=e(20034),f=e(67750),A=e(73506);s.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var p,m=!1,y={};try{(p=o(Object.prototype,"__proto__","set"))(y,[]),m=y instanceof Array}catch{}return function(b,E){return f(b),A(E),u(b)&&(m?p(b,E):b.__proto__=E),b}})():void 0)},32357:function(s,c,e){var o=e(43724),u=e(79039),f=e(79504),A=e(42787),p=e(71072),m=e(25397),y=f(e(48773).f),b=f([].push),E=o&&u((function(){var T=Object.create(null);return T[2]=2,!y(T,2)})),S=function(T){return function(L){for(var I,B=m(L),O=p(B),_=E&&A(B)===null,M=O.length,U=0,Q=[];M>U;)I=O[U++],o&&!(_?I in B:y(B,I))||b(Q,T?[I,B[I]]:B[I]);return Q}};s.exports={entries:S(!0),values:S(!1)}},53179:function(s,c,e){var o=e(92140),u=e(36955);s.exports=o?{}.toString:function(){return"[object "+u(this)+"]"}},84270:function(s,c,e){var o=e(69565),u=e(94901),f=e(20034),A=TypeError;s.exports=function(p,m){var y,b;if(m==="string"&&u(y=p.toString)&&!f(b=o(y,p))||u(y=p.valueOf)&&!f(b=o(y,p))||m!=="string"&&u(y=p.toString)&&!f(b=o(y,p)))return b;throw new A("Can't convert object to primitive value")}},35031:function(s,c,e){var o=e(97751),u=e(79504),f=e(38480),A=e(33717),p=e(28551),m=u([].concat);s.exports=o("Reflect","ownKeys")||function(y){var b=f.f(p(y)),E=A.f;return E?m(b,E(y)):b}},19167:function(s,c,e){var o=e(44576);s.exports=o},1103:function(s){s.exports=function(c){try{return{error:!1,value:c()}}catch(e){return{error:!0,value:e}}}},10916:function(s,c,e){var o=e(44576),u=e(80550),f=e(94901),A=e(92796),p=e(33706),m=e(78227),y=e(84215),b=e(96395),E=e(39519),S=u&&u.prototype,T=m("species"),L=!1,I=f(o.PromiseRejectionEvent),B=A("Promise",(function(){var O=p(u),_=O!==String(u);if(!_&&E===66||b&&(!S.catch||!S.finally))return!0;if(!E||E<51||!/native code/.test(O)){var M=new u((function(Q){Q(1)})),U=function(Q){Q((function(){}),(function(){}))};if((M.constructor={})[T]=U,!(L=M.then((function(){}))instanceof U))return!0}return!(_||y!=="BROWSER"&&y!=="DENO"||I)}));s.exports={CONSTRUCTOR:B,REJECTION_EVENT:I,SUBCLASSING:L}},80550:function(s,c,e){var o=e(44576);s.exports=o.Promise},93438:function(s,c,e){var o=e(28551),u=e(20034),f=e(36043);s.exports=function(A,p){if(o(A),u(p)&&p.constructor===A)return p;var m=f.f(A);return(0,m.resolve)(p),m.promise}},90537:function(s,c,e){var o=e(80550),u=e(84428),f=e(10916).CONSTRUCTOR;s.exports=f||!u((function(A){o.all(A).then(void 0,(function(){}))}))},11056:function(s,c,e){var o=e(24913).f;s.exports=function(u,f,A){A in u||o(u,A,{configurable:!0,get:function(){return f[A]},set:function(p){f[A]=p}})}},18265:function(s){var c=function(){this.head=null,this.tail=null};c.prototype={add:function(e){var o={item:e,next:null},u=this.tail;u?u.next=o:this.head=o,this.tail=o},get:function(){var e=this.head;if(e)return(this.head=e.next)===null&&(this.tail=null),e.item}},s.exports=c},56682:function(s,c,e){var o=e(69565),u=e(28551),f=e(94901),A=e(22195),p=e(57323),m=TypeError;s.exports=function(y,b){var E=y.exec;if(f(E)){var S=o(E,y,b);return S!==null&&u(S),S}if(A(y)==="RegExp")return o(p,y,b);throw new m("RegExp#exec called on incompatible receiver")}},57323:function(s,c,e){var o,u,f=e(69565),A=e(79504),p=e(655),m=e(67979),y=e(58429),b=e(25745),E=e(2360),S=e(91181).get,T=e(83635),L=e(18814),I=b("native-string-replace",String.prototype.replace),B=RegExp.prototype.exec,O=B,_=A("".charAt),M=A("".indexOf),U=A("".replace),Q=A("".slice),$=(u=/b*/g,f(B,o=/a/,"a"),f(B,u,"a"),o.lastIndex!==0||u.lastIndex!==0),W=y.BROKEN_CARET,X=/()??/.exec("")[1]!==void 0;($||X||W||T||L)&&(O=function(et){var Y,N,K,Z,F,q,nt,ot=this,Ct=S(ot),St=p(et),Tt=Ct.raw;if(Tt)return Tt.lastIndex=ot.lastIndex,Y=f(O,Tt,St),ot.lastIndex=Tt.lastIndex,Y;var Kt=Ct.groups,$t=W&&ot.sticky,Vt=f(m,ot),ne=ot.source,fe=0,ae=St;if($t&&(Vt=U(Vt,"y",""),M(Vt,"g")===-1&&(Vt+="g"),ae=Q(St,ot.lastIndex),ot.lastIndex>0&&(!ot.multiline||ot.multiline&&_(St,ot.lastIndex-1)!==`
`)&&(ne="(?: "+ne+")",ae=" "+ae,fe++),N=new RegExp("^(?:"+ne+")",Vt)),X&&(N=new RegExp("^"+ne+"$(?!\\s)",Vt)),$&&(K=ot.lastIndex),Z=f(B,$t?N:ot,ae),$t?Z?(Z.input=Q(Z.input,fe),Z[0]=Q(Z[0],fe),Z.index=ot.lastIndex,ot.lastIndex+=Z[0].length):ot.lastIndex=0:$&&Z&&(ot.lastIndex=ot.global?Z.index+Z[0].length:K),X&&Z&&Z.length>1&&f(I,Z[0],N,(function(){for(F=1;F<arguments.length-2;F++)arguments[F]===void 0&&(Z[F]=void 0)})),Z&&Kt)for(Z.groups=q=E(null),F=0;F<Kt.length;F++)q[(nt=Kt[F])[0]]=Z[nt[1]];return Z}),s.exports=O},67979:function(s,c,e){var o=e(28551);s.exports=function(){var u=o(this),f="";return u.hasIndices&&(f+="d"),u.global&&(f+="g"),u.ignoreCase&&(f+="i"),u.multiline&&(f+="m"),u.dotAll&&(f+="s"),u.unicode&&(f+="u"),u.unicodeSets&&(f+="v"),u.sticky&&(f+="y"),f}},61034:function(s,c,e){var o=e(69565),u=e(39297),f=e(1625),A=e(67979),p=RegExp.prototype;s.exports=function(m){var y=m.flags;return y!==void 0||"flags"in p||u(m,"flags")||!f(p,m)?y:o(A,m)}},58429:function(s,c,e){var o=e(79039),u=e(44576).RegExp,f=o((function(){var m=u("a","y");return m.lastIndex=2,m.exec("abcd")!==null})),A=f||o((function(){return!u("a","y").sticky})),p=f||o((function(){var m=u("^r","gy");return m.lastIndex=2,m.exec("str")!==null}));s.exports={BROKEN_CARET:p,MISSED_STICKY:A,UNSUPPORTED_Y:f}},83635:function(s,c,e){var o=e(79039),u=e(44576).RegExp;s.exports=o((function(){var f=u(".","s");return!(f.dotAll&&f.test(`
`)&&f.flags==="s")}))},18814:function(s,c,e){var o=e(79039),u=e(44576).RegExp;s.exports=o((function(){var f=u("(?<a>b)","g");return f.exec("b").groups.a!=="b"||"b".replace(f,"$<a>c")!=="bc"}))},67750:function(s,c,e){var o=e(64117),u=TypeError;s.exports=function(f){if(o(f))throw new u("Can't call method on "+f);return f}},93389:function(s,c,e){var o=e(44576),u=e(43724),f=Object.getOwnPropertyDescriptor;s.exports=function(A){if(!u)return o[A];var p=f(o,A);return p&&p.value}},3470:function(s){s.exports=Object.is||function(c,e){return c===e?c!==0||1/c==1/e:c!=c&&e!=e}},79472:function(s,c,e){var o,u=e(44576),f=e(18745),A=e(94901),p=e(84215),m=e(82839),y=e(67680),b=e(22812),E=u.Function,S=/MSIE .\./.test(m)||p==="BUN"&&((o=u.Bun.version.split(".")).length<3||o[0]==="0"&&(o[1]<3||o[1]==="3"&&o[2]==="0"));s.exports=function(T,L){var I=L?2:1;return S?function(B,O){var _=b(arguments.length,1)>I,M=A(B)?B:E(B),U=_?y(arguments,I):[],Q=_?function(){f(M,this,U)}:M;return L?T(Q,O):T(Q)}:T}},89286:function(s,c,e){var o=e(94402),u=e(38469),f=o.Set,A=o.add;s.exports=function(p){var m=new f;return u(p,(function(y){A(m,y)})),m}},83440:function(s,c,e){var o=e(97080),u=e(94402),f=e(89286),A=e(25170),p=e(83789),m=e(38469),y=e(40507),b=u.has,E=u.remove;s.exports=function(S){var T=o(this),L=p(S),I=f(T);return A(T)<=L.size?m(T,(function(B){L.includes(B)&&E(I,B)})):y(L.getIterator(),(function(B){b(T,B)&&E(I,B)})),I}},94402:function(s,c,e){var o=e(79504),u=Set.prototype;s.exports={Set,add:o(u.add),has:o(u.has),remove:o(u.delete),proto:u}},68750:function(s,c,e){var o=e(97080),u=e(94402),f=e(25170),A=e(83789),p=e(38469),m=e(40507),y=u.Set,b=u.add,E=u.has;s.exports=function(S){var T=o(this),L=A(S),I=new y;return f(T)>L.size?m(L.getIterator(),(function(B){E(T,B)&&b(I,B)})):p(T,(function(B){L.includes(B)&&b(I,B)})),I}},64449:function(s,c,e){var o=e(97080),u=e(94402).has,f=e(25170),A=e(83789),p=e(38469),m=e(40507),y=e(9539);s.exports=function(b){var E=o(this),S=A(b);if(f(E)<=S.size)return p(E,(function(L){if(S.includes(L))return!1}),!0)!==!1;var T=S.getIterator();return m(T,(function(L){if(u(E,L))return y(T,"normal",!1)}))!==!1}},53838:function(s,c,e){var o=e(97080),u=e(25170),f=e(38469),A=e(83789);s.exports=function(p){var m=o(this),y=A(p);return!(u(m)>y.size)&&f(m,(function(b){if(!y.includes(b))return!1}),!0)!==!1}},28527:function(s,c,e){var o=e(97080),u=e(94402).has,f=e(25170),A=e(83789),p=e(40507),m=e(9539);s.exports=function(y){var b=o(this),E=A(y);if(f(b)<E.size)return!1;var S=E.getIterator();return p(S,(function(T){if(!u(b,T))return m(S,"normal",!1)}))!==!1}},38469:function(s,c,e){var o=e(79504),u=e(40507),f=e(94402),A=f.Set,p=f.proto,m=o(p.forEach),y=o(p.keys),b=y(new A).next;s.exports=function(E,S,T){return T?u({iterator:y(E),next:b},S):m(E,S)}},84916:function(s,c,e){var o=e(97751),u=function(A){return{size:A,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}},f=function(A){return{size:A,has:function(){return!0},keys:function(){throw new Error("e")}}};s.exports=function(A,p){var m=o("Set");try{new m()[A](u(0));try{return new m()[A](u(-1)),!1}catch{if(!p)return!0;try{return new m()[A](f(-1/0)),!1}catch{var y=new m;return y.add(1),y.add(2),p(y[A](f(1/0)))}}}catch{return!1}}},25170:function(s,c,e){var o=e(46706),u=e(94402);s.exports=o(u.proto,"size","get")||function(f){return f.size}},87633:function(s,c,e){var o=e(97751),u=e(62106),f=e(78227),A=e(43724),p=f("species");s.exports=function(m){var y=o(m);A&&y&&!y[p]&&u(y,p,{configurable:!0,get:function(){return this}})}},83650:function(s,c,e){var o=e(97080),u=e(94402),f=e(89286),A=e(83789),p=e(40507),m=u.add,y=u.has,b=u.remove;s.exports=function(E){var S=o(this),T=A(E).getIterator(),L=f(S);return p(T,(function(I){y(S,I)?b(L,I):m(L,I)})),L}},10687:function(s,c,e){var o=e(24913).f,u=e(39297),f=e(78227)("toStringTag");s.exports=function(A,p,m){A&&!m&&(A=A.prototype),A&&!u(A,f)&&o(A,f,{configurable:!0,value:p})}},44204:function(s,c,e){var o=e(97080),u=e(94402).add,f=e(89286),A=e(83789),p=e(40507);s.exports=function(m){var y=o(this),b=A(m).getIterator(),E=f(y);return p(b,(function(S){u(E,S)})),E}},66119:function(s,c,e){var o=e(25745),u=e(33392),f=o("keys");s.exports=function(A){return f[A]||(f[A]=u(A))}},77629:function(s,c,e){var o=e(96395),u=e(44576),f=e(39433),A="__core-js_shared__",p=s.exports=u[A]||f(A,{});(p.versions||(p.versions=[])).push({version:"3.40.0",mode:o?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.40.0/LICENSE",source:"https://github.com/zloirock/core-js"})},25745:function(s,c,e){var o=e(77629);s.exports=function(u,f){return o[u]||(o[u]=f||{})}},2293:function(s,c,e){var o=e(28551),u=e(35548),f=e(64117),A=e(78227)("species");s.exports=function(p,m){var y,b=o(p).constructor;return b===void 0||f(y=o(b)[A])?m:u(y)}},23061:function(s,c,e){var o=e(79039);s.exports=function(u){return o((function(){var f=""[u]('"');return f!==f.toLowerCase()||f.split('"').length>3}))}},68183:function(s,c,e){var o=e(79504),u=e(91291),f=e(655),A=e(67750),p=o("".charAt),m=o("".charCodeAt),y=o("".slice),b=function(E){return function(S,T){var L,I,B=f(A(S)),O=u(T),_=B.length;return O<0||O>=_?E?"":void 0:(L=m(B,O))<55296||L>56319||O+1===_||(I=m(B,O+1))<56320||I>57343?E?p(B,O):L:E?y(B,O,O+2):I-56320+(L-55296<<10)+65536}};s.exports={codeAt:b(!1),charAt:b(!0)}},83063:function(s,c,e){var o=e(82839);s.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(o)},60533:function(s,c,e){var o=e(79504),u=e(18014),f=e(655),A=e(72333),p=e(67750),m=o(A),y=o("".slice),b=Math.ceil,E=function(S){return function(T,L,I){var B,O,_=f(p(T)),M=u(L),U=_.length,Q=I===void 0?" ":f(I);return M<=U||Q===""?_:((O=m(Q,b((B=M-U)/Q.length))).length>B&&(O=y(O,0,B)),S?_+O:O+_)}};s.exports={start:E(!1),end:E(!0)}},3717:function(s,c,e){var o=e(79504),u=2147483647,f=/[^\0-\u007E]/,A=/[.\u3002\uFF0E\uFF61]/g,p="Overflow: input needs wider integers to process",m=RangeError,y=o(A.exec),b=Math.floor,E=String.fromCharCode,S=o("".charCodeAt),T=o([].join),L=o([].push),I=o("".replace),B=o("".split),O=o("".toLowerCase),_=function(Q){return Q+22+75*(Q<26)},M=function(Q,$,W){var X=0;for(Q=W?b(Q/700):Q>>1,Q+=b(Q/$);Q>455;)Q=b(Q/35),X+=36;return b(X+36*Q/(Q+38))},U=function(Q){var $=[];Q=(function($t){for(var Vt=[],ne=0,fe=$t.length;ne<fe;){var ae=S($t,ne++);if(ae>=55296&&ae<=56319&&ne<fe){var xe=S($t,ne++);(64512&xe)==56320?L(Vt,((1023&ae)<<10)+(1023&xe)+65536):(L(Vt,ae),ne--)}else L(Vt,ae)}return Vt})(Q);var W,X,et=Q.length,Y=128,N=0,K=72;for(W=0;W<Q.length;W++)(X=Q[W])<128&&L($,E(X));var Z=$.length,F=Z;for(Z&&L($,"-");F<et;){var q=u;for(W=0;W<Q.length;W++)(X=Q[W])>=Y&&X<q&&(q=X);var nt=F+1;if(q-Y>b((u-N)/nt))throw new m(p);for(N+=(q-Y)*nt,Y=q,W=0;W<Q.length;W++){if((X=Q[W])<Y&&++N>u)throw new m(p);if(X===Y){for(var ot=N,Ct=36;;){var St=Ct<=K?1:Ct>=K+26?26:Ct-K;if(ot<St)break;var Tt=ot-St,Kt=36-St;L($,E(_(St+Tt%Kt))),ot=b(Tt/Kt),Ct+=36}L($,E(_(ot))),K=M(N,nt,F===Z),N=0,F++}}N++,Y++}return T($,"")};s.exports=function(Q){var $,W,X=[],et=B(I(O(Q),A,"."),".");for($=0;$<et.length;$++)W=et[$],L(X,y(f,W)?"xn--"+U(W):W);return T(X,".")}},72333:function(s,c,e){var o=e(91291),u=e(655),f=e(67750),A=RangeError;s.exports=function(p){var m=u(f(this)),y="",b=o(p);if(b<0||b===1/0)throw new A("Wrong number of repetitions");for(;b>0;(b>>>=1)&&(m+=m))1&b&&(y+=m);return y}},18866:function(s,c,e){var o=e(43802).end,u=e(60706);s.exports=u("trimEnd")?function(){return o(this)}:"".trimEnd},60706:function(s,c,e){var o=e(10350).PROPER,u=e(79039),f=e(47452);s.exports=function(A){return u((function(){return!!f[A]()||""[A]()!==""||o&&f[A].name!==A}))}},53487:function(s,c,e){var o=e(43802).start,u=e(60706);s.exports=u("trimStart")?function(){return o(this)}:"".trimStart},43802:function(s,c,e){var o=e(79504),u=e(67750),f=e(655),A=e(47452),p=o("".replace),m=RegExp("^["+A+"]+"),y=RegExp("(^|[^"+A+"])["+A+"]+$"),b=function(E){return function(S){var T=f(u(S));return 1&E&&(T=p(T,m,"")),2&E&&(T=p(T,y,"$1")),T}};s.exports={start:b(1),end:b(2),trim:b(3)}},1548:function(s,c,e){var o=e(44576),u=e(79039),f=e(39519),A=e(84215),p=o.structuredClone;s.exports=!!p&&!u((function(){if(A==="DENO"&&f>92||A==="NODE"&&f>94||A==="BROWSER"&&f>97)return!1;var m=new ArrayBuffer(8),y=p(m,{transfer:[m]});return m.byteLength!==0||y.byteLength!==8}))},4495:function(s,c,e){var o=e(39519),u=e(79039),f=e(44576).String;s.exports=!!Object.getOwnPropertySymbols&&!u((function(){var A=Symbol("symbol detection");return!f(A)||!(Object(A)instanceof Symbol)||!Symbol.sham&&o&&o<41}))},58242:function(s,c,e){var o=e(69565),u=e(97751),f=e(78227),A=e(36840);s.exports=function(){var p=u("Symbol"),m=p&&p.prototype,y=m&&m.valueOf,b=f("toPrimitive");m&&!m[b]&&A(m,b,(function(E){return o(y,this)}),{arity:1})}},91296:function(s,c,e){var o=e(4495);s.exports=o&&!!Symbol.for&&!!Symbol.keyFor},59225:function(s,c,e){var o,u,f,A,p=e(44576),m=e(18745),y=e(76080),b=e(94901),E=e(39297),S=e(79039),T=e(20397),L=e(67680),I=e(4055),B=e(22812),O=e(89544),_=e(38574),M=p.setImmediate,U=p.clearImmediate,Q=p.process,$=p.Dispatch,W=p.Function,X=p.MessageChannel,et=p.String,Y=0,N={},K="onreadystatechange";S((function(){o=p.location}));var Z=function(ot){if(E(N,ot)){var Ct=N[ot];delete N[ot],Ct()}},F=function(ot){return function(){Z(ot)}},q=function(ot){Z(ot.data)},nt=function(ot){p.postMessage(et(ot),o.protocol+"//"+o.host)};M&&U||(M=function(ot){B(arguments.length,1);var Ct=b(ot)?ot:W(ot),St=L(arguments,1);return N[++Y]=function(){m(Ct,void 0,St)},u(Y),Y},U=function(ot){delete N[ot]},_?u=function(ot){Q.nextTick(F(ot))}:$&&$.now?u=function(ot){$.now(F(ot))}:X&&!O?(A=(f=new X).port2,f.port1.onmessage=q,u=y(A.postMessage,A)):p.addEventListener&&b(p.postMessage)&&!p.importScripts&&o&&o.protocol!=="file:"&&!S(nt)?(u=nt,p.addEventListener("message",q,!1)):u=K in I("script")?function(ot){T.appendChild(I("script"))[K]=function(){T.removeChild(this),Z(ot)}}:function(ot){setTimeout(F(ot),0)}),s.exports={set:M,clear:U}},31240:function(s,c,e){var o=e(79504);s.exports=o(1 .valueOf)},35610:function(s,c,e){var o=e(91291),u=Math.max,f=Math.min;s.exports=function(A,p){var m=o(A);return m<0?u(m+p,0):f(m,p)}},75854:function(s,c,e){var o=e(72777),u=TypeError;s.exports=function(f){var A=o(f,"number");if(typeof A=="number")throw new u("Can't convert number to bigint");return BigInt(A)}},57696:function(s,c,e){var o=e(91291),u=e(18014),f=RangeError;s.exports=function(A){if(A===void 0)return 0;var p=o(A),m=u(p);if(p!==m)throw new f("Wrong length or index");return m}},25397:function(s,c,e){var o=e(47055),u=e(67750);s.exports=function(f){return o(u(f))}},91291:function(s,c,e){var o=e(80741);s.exports=function(u){var f=+u;return f!=f||f===0?0:o(f)}},18014:function(s,c,e){var o=e(91291),u=Math.min;s.exports=function(f){var A=o(f);return A>0?u(A,9007199254740991):0}},48981:function(s,c,e){var o=e(67750),u=Object;s.exports=function(f){return u(o(f))}},58229:function(s,c,e){var o=e(99590),u=RangeError;s.exports=function(f,A){var p=o(f);if(p%A)throw new u("Wrong offset");return p}},99590:function(s,c,e){var o=e(91291),u=RangeError;s.exports=function(f){var A=o(f);if(A<0)throw new u("The argument can't be less than 0");return A}},72777:function(s,c,e){var o=e(69565),u=e(20034),f=e(10757),A=e(55966),p=e(84270),m=e(78227),y=TypeError,b=m("toPrimitive");s.exports=function(E,S){if(!u(E)||f(E))return E;var T,L=A(E,b);if(L){if(S===void 0&&(S="default"),T=o(L,E,S),!u(T)||f(T))return T;throw new y("Can't convert object to primitive value")}return S===void 0&&(S="number"),p(E,S)}},56969:function(s,c,e){var o=e(72777),u=e(10757);s.exports=function(f){var A=o(f,"string");return u(A)?A:A+""}},92140:function(s,c,e){var o={};o[e(78227)("toStringTag")]="z",s.exports=String(o)==="[object z]"},655:function(s,c,e){var o=e(36955),u=String;s.exports=function(f){if(o(f)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return u(f)}},58319:function(s){var c=Math.round;s.exports=function(e){var o=c(e);return o<0?0:o>255?255:255&o}},16823:function(s){var c=String;s.exports=function(e){try{return c(e)}catch{return"Object"}}},15823:function(s,c,e){var o=e(46518),u=e(44576),f=e(69565),A=e(43724),p=e(72805),m=e(94644),y=e(66346),b=e(90679),E=e(6980),S=e(66699),T=e(2087),L=e(18014),I=e(57696),B=e(58229),O=e(58319),_=e(56969),M=e(39297),U=e(36955),Q=e(20034),$=e(10757),W=e(2360),X=e(1625),et=e(52967),Y=e(38480).f,N=e(43251),K=e(59213).forEach,Z=e(87633),F=e(62106),q=e(24913),nt=e(77347),ot=e(35370),Ct=e(91181),St=e(23167),Tt=Ct.get,Kt=Ct.set,$t=Ct.enforce,Vt=q.f,ne=nt.f,fe=u.RangeError,ae=y.ArrayBuffer,xe=ae.prototype,Ne=y.DataView,Ve=m.NATIVE_ARRAY_BUFFER_VIEWS,we=m.TYPED_ARRAY_TAG,Le=m.TypedArray,nn=m.TypedArrayPrototype,En=m.isTypedArray,cn="BYTES_PER_ELEMENT",qe="Wrong length",Ke=function(le,ke){F(le,ke,{configurable:!0,get:function(){return Tt(this)[ke]}})},Dn=function(le){var ke;return X(xe,le)||(ke=U(le))==="ArrayBuffer"||ke==="SharedArrayBuffer"},an=function(le,ke){return En(le)&&!$(ke)&&ke in le&&T(+ke)&&ke>=0},ee=function(le,ke){return ke=_(ke),an(le,ke)?E(2,le[ke]):ne(le,ke)},ge=function(le,ke,It){return ke=_(ke),!(an(le,ke)&&Q(It)&&M(It,"value"))||M(It,"get")||M(It,"set")||It.configurable||M(It,"writable")&&!It.writable||M(It,"enumerable")&&!It.enumerable?Vt(le,ke,It):(le[ke]=It.value,le)};A?(Ve||(nt.f=ee,q.f=ge,Ke(nn,"buffer"),Ke(nn,"byteOffset"),Ke(nn,"byteLength"),Ke(nn,"length")),o({target:"Object",stat:!0,forced:!Ve},{getOwnPropertyDescriptor:ee,defineProperty:ge}),s.exports=function(le,ke,It){var ve=le.match(/\d+/)[0]/8,Be=le+(It?"Clamped":"")+"Array",Yn="get"+le,Ue="set"+le,$e=u[Be],Dt=$e,Te=Dt&&Dt.prototype,on={},hn=function(Me,ye){Vt(Me,ye,{get:function(){return(function(Fe,Xe){var pn=Tt(Fe);return pn.view[Yn](Xe*ve+pn.byteOffset,!0)})(this,ye)},set:function(Fe){return(function(Xe,pn,un){var qt=Tt(Xe);qt.view[Ue](pn*ve+qt.byteOffset,It?O(un):un,!0)})(this,ye,Fe)},enumerable:!0})};Ve?p&&(Dt=ke((function(Me,ye,Fe,Xe){return b(Me,Te),St(Q(ye)?Dn(ye)?Xe!==void 0?new $e(ye,B(Fe,ve),Xe):Fe!==void 0?new $e(ye,B(Fe,ve)):new $e(ye):En(ye)?ot(Dt,ye):f(N,Dt,ye):new $e(I(ye)),Me,Dt)})),et&&et(Dt,Le),K(Y($e),(function(Me){Me in Dt||S(Dt,Me,$e[Me])})),Dt.prototype=Te):(Dt=ke((function(Me,ye,Fe,Xe){b(Me,Te);var pn,un,qt,Re=0,ze=0;if(Q(ye)){if(!Dn(ye))return En(ye)?ot(Dt,ye):f(N,Dt,ye);pn=ye,ze=B(Fe,ve);var Pe=ye.byteLength;if(Xe===void 0){if(Pe%ve)throw new fe(qe);if((un=Pe-ze)<0)throw new fe(qe)}else if((un=L(Xe)*ve)+ze>Pe)throw new fe(qe);qt=un/ve}else qt=I(ye),pn=new ae(un=qt*ve);for(Kt(Me,{buffer:pn,byteOffset:ze,byteLength:un,length:qt,view:new Ne(pn)});Re<qt;)hn(Me,Re++)})),et&&et(Dt,Le),Te=Dt.prototype=W(nn)),Te.constructor!==Dt&&S(Te,"constructor",Dt),$t(Te).TypedArrayConstructor=Dt,we&&S(Te,we,Be);var ie=Dt!==$e;on[Be]=Dt,o({global:!0,constructor:!0,forced:ie,sham:!Ve},on),cn in Dt||S(Dt,cn,ve),cn in Te||S(Te,cn,ve),Z(Be)}):s.exports=function(){}},72805:function(s,c,e){var o=e(44576),u=e(79039),f=e(84428),A=e(94644).NATIVE_ARRAY_BUFFER_VIEWS,p=o.ArrayBuffer,m=o.Int8Array;s.exports=!A||!u((function(){m(1)}))||!u((function(){new m(-1)}))||!f((function(y){new m,new m(null),new m(1.5),new m(y)}),!0)||u((function(){return new m(new p(2),1,void 0).length!==1}))},29948:function(s,c,e){var o=e(35370),u=e(94644).getTypedArrayConstructor;s.exports=function(f,A){return o(u(f),A)}},43251:function(s,c,e){var o=e(76080),u=e(69565),f=e(35548),A=e(48981),p=e(26198),m=e(70081),y=e(50851),b=e(44209),E=e(18727),S=e(94644).aTypedArrayConstructor,T=e(75854);s.exports=function(L){var I,B,O,_,M,U,Q,$,W=f(this),X=A(L),et=arguments.length,Y=et>1?arguments[1]:void 0,N=Y!==void 0,K=y(X);if(K&&!b(K))for($=(Q=m(X,K)).next,X=[];!(U=u($,Q)).done;)X.push(U.value);for(N&&et>2&&(Y=o(Y,arguments[2])),B=p(X),O=new(S(W))(B),_=E(O),I=0;B>I;I++)M=N?Y(X[I],I):X[I],O[I]=_?T(M):+M;return O}},33392:function(s,c,e){var o=e(79504),u=0,f=Math.random(),A=o(1 .toString);s.exports=function(p){return"Symbol("+(p===void 0?"":p)+")_"+A(++u+f,36)}},67416:function(s,c,e){var o=e(79039),u=e(78227),f=e(43724),A=e(96395),p=u("iterator");s.exports=!o((function(){var m=new URL("b?a=1&b=2&c=3","https://a"),y=m.searchParams,b=new URLSearchParams("a=1&a=2&b=3"),E="";return m.pathname="c%20d",y.forEach((function(S,T){y.delete("b"),E+=T+S})),b.delete("a",2),b.delete("b",void 0),A&&(!m.toJSON||!b.has("a",1)||b.has("a",2)||!b.has("a",void 0)||b.has("b"))||!y.size&&(A||!f)||!y.sort||m.href!=="https://a/c%20d?a=1&c=3"||y.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!y[p]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("https://").host!=="xn--e1aybc"||new URL("https://a#").hash!=="#%D0%B1"||E!=="a1c3"||new URL("https://x",void 0).host!=="x"}))},7040:function(s,c,e){var o=e(4495);s.exports=o&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},48686:function(s,c,e){var o=e(43724),u=e(79039);s.exports=o&&u((function(){return Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype!==42}))},22812:function(s){var c=TypeError;s.exports=function(e,o){if(e<o)throw new c("Not enough arguments");return e}},58622:function(s,c,e){var o=e(44576),u=e(94901),f=o.WeakMap;s.exports=u(f)&&/native code/.test(String(f))},70511:function(s,c,e){var o=e(19167),u=e(39297),f=e(1951),A=e(24913).f;s.exports=function(p){var m=o.Symbol||(o.Symbol={});u(m,p)||A(m,p,{value:f.f(p)})}},1951:function(s,c,e){var o=e(78227);c.f=o},78227:function(s,c,e){var o=e(44576),u=e(25745),f=e(39297),A=e(33392),p=e(4495),m=e(7040),y=o.Symbol,b=u("wks"),E=m?y.for||y:y&&y.withoutSetter||A;s.exports=function(S){return f(b,S)||(b[S]=p&&f(y,S)?y[S]:E("Symbol."+S)),b[S]}},47452:function(s){s.exports=`	
\v\f\r \u2028\u2029\uFEFF`},14601:function(s,c,e){var o=e(97751),u=e(39297),f=e(66699),A=e(1625),p=e(52967),m=e(77740),y=e(11056),b=e(23167),E=e(32603),S=e(77584),T=e(80747),L=e(43724),I=e(96395);s.exports=function(B,O,_,M){var U="stackTraceLimit",Q=M?2:1,$=B.split("."),W=$[$.length-1],X=o.apply(null,$);if(X){var et=X.prototype;if(!I&&u(et,"cause")&&delete et.cause,!_)return X;var Y=o("Error"),N=O((function(K,Z){var F=E(M?Z:K,void 0),q=M?new X(K):new X;return F!==void 0&&f(q,"message",F),T(q,N,q.stack,2),this&&A(et,this)&&b(q,this,N),arguments.length>Q&&S(q,arguments[Q]),q}));if(N.prototype=et,W!=="Error"?p?p(N,Y):m(N,Y,{name:!0}):L&&U in X&&(y(N,X,U),y(N,X,"prepareStackTrace")),m(N,X),!I)try{et.name!==W&&f(et,"name",W),et.constructor=N}catch{}return N}}},4294:function(s,c,e){var o=e(46518),u=e(97751),f=e(18745),A=e(79039),p=e(14601),m="AggregateError",y=u(m),b=!A((function(){return y([1]).errors[0]!==1}))&&A((function(){return y([1],m,{cause:7}).cause!==7}));o({global:!0,constructor:!0,arity:2,forced:b},{AggregateError:p(m,(function(E){return function(S,T){return f(E,this,arguments)}}),b,!0)})},17145:function(s,c,e){var o=e(46518),u=e(1625),f=e(42787),A=e(52967),p=e(77740),m=e(2360),y=e(66699),b=e(6980),E=e(77584),S=e(80747),T=e(72652),L=e(32603),I=e(78227)("toStringTag"),B=Error,O=[].push,_=function(U,Q){var $,W=u(M,this);A?$=A(new B,W?f(this):M):($=W?this:m(M),y($,I,"Error")),Q!==void 0&&y($,"message",L(Q)),S($,_,$.stack,1),arguments.length>2&&E($,arguments[2]);var X=[];return T(U,O,{that:X}),y($,"errors",X),$};A?A(_,B):p(_,B,{name:!0});var M=_.prototype=m(B.prototype,{constructor:b(1,_),message:b(1,""),name:b(1,"AggregateError")});o({global:!0,constructor:!0,arity:2},{AggregateError:_})},30067:function(s,c,e){e(17145)},54743:function(s,c,e){var o=e(46518),u=e(44576),f=e(66346),A=e(87633),p="ArrayBuffer",m=f[p];o({global:!0,constructor:!0,forced:u[p]!==m},{ArrayBuffer:m}),A(p)},16573:function(s,c,e){var o=e(43724),u=e(62106),f=e(3238),A=ArrayBuffer.prototype;o&&!("detached"in A)&&u(A,"detached",{configurable:!0,get:function(){return f(this)}})},46761:function(s,c,e){var o=e(46518),u=e(94644);o({target:"ArrayBuffer",stat:!0,forced:!u.NATIVE_ARRAY_BUFFER_VIEWS},{isView:u.isView})},11745:function(s,c,e){var o=e(46518),u=e(27476),f=e(79039),A=e(66346),p=e(28551),m=e(35610),y=e(18014),b=A.ArrayBuffer,E=A.DataView,S=E.prototype,T=u(b.prototype.slice),L=u(S.getUint8),I=u(S.setUint8);o({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:f((function(){return!new b(2).slice(1,void 0).byteLength}))},{slice:function(B,O){if(T&&O===void 0)return T(p(this),B);for(var _=p(this).byteLength,M=m(B,_),U=m(O===void 0?_:O,_),Q=new b(y(U-M)),$=new E(this),W=new E(Q),X=0;M<U;)I(W,X++,L($,M++));return Q}})},77936:function(s,c,e){var o=e(46518),u=e(95636);u&&o({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return u(this,arguments.length?arguments[0]:void 0,!1)}})},78100:function(s,c,e){var o=e(46518),u=e(95636);u&&o({target:"ArrayBuffer",proto:!0},{transfer:function(){return u(this,arguments.length?arguments[0]:void 0,!0)}})},18107:function(s,c,e){var o=e(46518),u=e(48981),f=e(26198),A=e(91291),p=e(6469);o({target:"Array",proto:!0},{at:function(m){var y=u(this),b=f(y),E=A(m),S=E>=0?E:b+E;return S<0||S>=b?void 0:y[S]}}),p("at")},28706:function(s,c,e){var o=e(46518),u=e(79039),f=e(34376),A=e(20034),p=e(48981),m=e(26198),y=e(96837),b=e(97040),E=e(1469),S=e(70597),T=e(78227),L=e(39519),I=T("isConcatSpreadable"),B=L>=51||!u((function(){var _=[];return _[I]=!1,_.concat()[0]!==_})),O=function(_){if(!A(_))return!1;var M=_[I];return M!==void 0?!!M:f(_)};o({target:"Array",proto:!0,arity:1,forced:!B||!S("concat")},{concat:function(_){var M,U,Q,$,W,X=p(this),et=E(X,0),Y=0;for(M=-1,Q=arguments.length;M<Q;M++)if(O(W=M===-1?X:arguments[M]))for($=m(W),y(Y+$),U=0;U<$;U++,Y++)U in W&&b(et,Y,W[U]);else y(Y+1),b(et,Y++,W);return et.length=Y,et}})},26835:function(s,c,e){var o=e(46518),u=e(57029),f=e(6469);o({target:"Array",proto:!0},{copyWithin:u}),f("copyWithin")},88431:function(s,c,e){var o=e(46518),u=e(59213).every;o({target:"Array",proto:!0,forced:!e(34598)("every")},{every:function(f){return u(this,f,arguments.length>1?arguments[1]:void 0)}})},33771:function(s,c,e){var o=e(46518),u=e(84373),f=e(6469);o({target:"Array",proto:!0},{fill:u}),f("fill")},2008:function(s,c,e){var o=e(46518),u=e(59213).filter;o({target:"Array",proto:!0,forced:!e(70597)("filter")},{filter:function(f){return u(this,f,arguments.length>1?arguments[1]:void 0)}})},48980:function(s,c,e){var o=e(46518),u=e(59213).findIndex,f=e(6469),A="findIndex",p=!0;A in[]&&Array(1)[A]((function(){p=!1})),o({target:"Array",proto:!0,forced:p},{findIndex:function(m){return u(this,m,arguments.length>1?arguments[1]:void 0)}}),f(A)},13451:function(s,c,e){var o=e(46518),u=e(43839).findLastIndex,f=e(6469);o({target:"Array",proto:!0},{findLastIndex:function(A){return u(this,A,arguments.length>1?arguments[1]:void 0)}}),f("findLastIndex")},10838:function(s,c,e){var o=e(46518),u=e(43839).findLast,f=e(6469);o({target:"Array",proto:!0},{findLast:function(A){return u(this,A,arguments.length>1?arguments[1]:void 0)}}),f("findLast")},50113:function(s,c,e){var o=e(46518),u=e(59213).find,f=e(6469),A="find",p=!0;A in[]&&Array(1)[A]((function(){p=!1})),o({target:"Array",proto:!0,forced:p},{find:function(m){return u(this,m,arguments.length>1?arguments[1]:void 0)}}),f(A)},78350:function(s,c,e){var o=e(46518),u=e(70259),f=e(79306),A=e(48981),p=e(26198),m=e(1469);o({target:"Array",proto:!0},{flatMap:function(y){var b,E=A(this),S=p(E);return f(y),(b=m(E,0)).length=u(b,E,E,S,0,1,y,arguments.length>1?arguments[1]:void 0),b}})},46449:function(s,c,e){var o=e(46518),u=e(70259),f=e(48981),A=e(26198),p=e(91291),m=e(1469);o({target:"Array",proto:!0},{flat:function(){var y=arguments.length?arguments[0]:void 0,b=f(this),E=A(b),S=m(b,0);return S.length=u(S,b,b,E,0,y===void 0?1:p(y)),S}})},51629:function(s,c,e){var o=e(46518),u=e(90235);o({target:"Array",proto:!0,forced:[].forEach!==u},{forEach:u})},23418:function(s,c,e){var o=e(46518),u=e(97916);o({target:"Array",stat:!0,forced:!e(84428)((function(f){Array.from(f)}))},{from:u})},74423:function(s,c,e){var o=e(46518),u=e(19617).includes,f=e(79039),A=e(6469);o({target:"Array",proto:!0,forced:f((function(){return!Array(1).includes()}))},{includes:function(p){return u(this,p,arguments.length>1?arguments[1]:void 0)}}),A("includes")},25276:function(s,c,e){var o=e(46518),u=e(27476),f=e(19617).indexOf,A=e(34598),p=u([].indexOf),m=!!p&&1/p([1],1,-0)<0;o({target:"Array",proto:!0,forced:m||!A("indexOf")},{indexOf:function(y){var b=arguments.length>1?arguments[1]:void 0;return m?p(this,y,b)||0:f(this,y,b)}})},64346:function(s,c,e){e(46518)({target:"Array",stat:!0},{isArray:e(34376)})},23792:function(s,c,e){var o=e(25397),u=e(6469),f=e(26269),A=e(91181),p=e(24913).f,m=e(51088),y=e(62529),b=e(96395),E=e(43724),S="Array Iterator",T=A.set,L=A.getterFor(S);s.exports=m(Array,"Array",(function(B,O){T(this,{type:S,target:o(B),index:0,kind:O})}),(function(){var B=L(this),O=B.target,_=B.index++;if(!O||_>=O.length)return B.target=null,y(void 0,!0);switch(B.kind){case"keys":return y(_,!1);case"values":return y(O[_],!1)}return y([_,O[_]],!1)}),"values");var I=f.Arguments=f.Array;if(u("keys"),u("values"),u("entries"),!b&&E&&I.name!=="values")try{p(I,"name",{value:"values"})}catch{}},48598:function(s,c,e){var o=e(46518),u=e(79504),f=e(47055),A=e(25397),p=e(34598),m=u([].join);o({target:"Array",proto:!0,forced:f!==Object||!p("join",",")},{join:function(y){return m(A(this),y===void 0?",":y)}})},8921:function(s,c,e){var o=e(46518),u=e(8379);o({target:"Array",proto:!0,forced:u!==[].lastIndexOf},{lastIndexOf:u})},62062:function(s,c,e){var o=e(46518),u=e(59213).map;o({target:"Array",proto:!0,forced:!e(70597)("map")},{map:function(f){return u(this,f,arguments.length>1?arguments[1]:void 0)}})},31051:function(s,c,e){var o=e(46518),u=e(79039),f=e(33517),A=e(97040),p=Array;o({target:"Array",stat:!0,forced:u((function(){function m(){}return!(p.of.call(m)instanceof m)}))},{of:function(){for(var m=0,y=arguments.length,b=new(f(this)?this:p)(y);y>m;)A(b,m,arguments[m++]);return b.length=y,b}})},44114:function(s,c,e){var o=e(46518),u=e(48981),f=e(26198),A=e(34527),p=e(96837);o({target:"Array",proto:!0,arity:1,forced:e(79039)((function(){return[].push.call({length:4294967296},1)!==4294967297}))||!(function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(m){return m instanceof TypeError}})()},{push:function(m){var y=u(this),b=f(y),E=arguments.length;p(b+E);for(var S=0;S<E;S++)y[b]=arguments[S],b++;return A(y,b),b}})},18863:function(s,c,e){var o=e(46518),u=e(80926).right,f=e(34598),A=e(39519);o({target:"Array",proto:!0,forced:!e(38574)&&A>79&&A<83||!f("reduceRight")},{reduceRight:function(p){return u(this,p,arguments.length,arguments.length>1?arguments[1]:void 0)}})},72712:function(s,c,e){var o=e(46518),u=e(80926).left,f=e(34598),A=e(39519);o({target:"Array",proto:!0,forced:!e(38574)&&A>79&&A<83||!f("reduce")},{reduce:function(p){var m=arguments.length;return u(this,p,m,m>1?arguments[1]:void 0)}})},94490:function(s,c,e){var o=e(46518),u=e(79504),f=e(34376),A=u([].reverse),p=[1,2];o({target:"Array",proto:!0,forced:String(p)===String(p.reverse())},{reverse:function(){return f(this)&&(this.length=this.length),A(this)}})},34782:function(s,c,e){var o=e(46518),u=e(34376),f=e(33517),A=e(20034),p=e(35610),m=e(26198),y=e(25397),b=e(97040),E=e(78227),S=e(70597),T=e(67680),L=S("slice"),I=E("species"),B=Array,O=Math.max;o({target:"Array",proto:!0,forced:!L},{slice:function(_,M){var U,Q,$,W=y(this),X=m(W),et=p(_,X),Y=p(M===void 0?X:M,X);if(u(W)&&(U=W.constructor,(f(U)&&(U===B||u(U.prototype))||A(U)&&(U=U[I])===null)&&(U=void 0),U===B||U===void 0))return T(W,et,Y);for(Q=new(U===void 0?B:U)(O(Y-et,0)),$=0;et<Y;et++,$++)et in W&&b(Q,$,W[et]);return Q.length=$,Q}})},15086:function(s,c,e){var o=e(46518),u=e(59213).some;o({target:"Array",proto:!0,forced:!e(34598)("some")},{some:function(f){return u(this,f,arguments.length>1?arguments[1]:void 0)}})},26910:function(s,c,e){var o=e(46518),u=e(79504),f=e(79306),A=e(48981),p=e(26198),m=e(84606),y=e(655),b=e(79039),E=e(74488),S=e(34598),T=e(13709),L=e(13763),I=e(39519),B=e(3607),O=[],_=u(O.sort),M=u(O.push),U=b((function(){O.sort(void 0)})),Q=b((function(){O.sort(null)})),$=S("sort"),W=!b((function(){if(I)return I<70;if(!(T&&T>3)){if(L)return!0;if(B)return B<603;var X,et,Y,N,K="";for(X=65;X<76;X++){switch(et=String.fromCharCode(X),X){case 66:case 69:case 70:case 72:Y=3;break;case 68:case 71:Y=4;break;default:Y=2}for(N=0;N<47;N++)O.push({k:et+N,v:Y})}for(O.sort((function(Z,F){return F.v-Z.v})),N=0;N<O.length;N++)et=O[N].k.charAt(0),K.charAt(K.length-1)!==et&&(K+=et);return K!=="DGBEFHACIJK"}}));o({target:"Array",proto:!0,forced:U||!Q||!$||!W},{sort:function(X){X!==void 0&&f(X);var et=A(this);if(W)return X===void 0?_(et):_(et,X);var Y,N,K=[],Z=p(et);for(N=0;N<Z;N++)N in et&&M(K,et[N]);for(E(K,(function(F){return function(q,nt){return nt===void 0?-1:q===void 0?1:F!==void 0?+F(q,nt)||0:y(q)>y(nt)?1:-1}})(X)),Y=p(K),N=0;N<Y;)et[N]=K[N++];for(;N<Z;)m(et,N++);return et}})},87478:function(s,c,e){e(87633)("Array")},54554:function(s,c,e){var o=e(46518),u=e(48981),f=e(35610),A=e(91291),p=e(26198),m=e(34527),y=e(96837),b=e(1469),E=e(97040),S=e(84606),T=e(70597)("splice"),L=Math.max,I=Math.min;o({target:"Array",proto:!0,forced:!T},{splice:function(B,O){var _,M,U,Q,$,W,X=u(this),et=p(X),Y=f(B,et),N=arguments.length;for(N===0?_=M=0:N===1?(_=0,M=et-Y):(_=N-2,M=I(L(A(O),0),et-Y)),y(et+_-M),U=b(X,M),Q=0;Q<M;Q++)($=Y+Q)in X&&E(U,Q,X[$]);if(U.length=M,_<M){for(Q=Y;Q<et-M;Q++)W=Q+_,($=Q+M)in X?X[W]=X[$]:S(X,W);for(Q=et;Q>et-M+_;Q--)S(X,Q-1)}else if(_>M)for(Q=et-M;Q>Y;Q--)W=Q+_-1,($=Q+M-1)in X?X[W]=X[$]:S(X,W);for(Q=0;Q<_;Q++)X[Q+Y]=arguments[Q+2];return m(X,et-M+_),U}})},9678:function(s,c,e){var o=e(46518),u=e(37628),f=e(25397),A=e(6469),p=Array;o({target:"Array",proto:!0},{toReversed:function(){return u(f(this),p)}}),A("toReversed")},57145:function(s,c,e){var o=e(46518),u=e(79504),f=e(79306),A=e(25397),p=e(35370),m=e(44124),y=e(6469),b=Array,E=u(m("Array","sort"));o({target:"Array",proto:!0},{toSorted:function(S){S!==void 0&&f(S);var T=A(this),L=p(b,T);return E(L,S)}}),y("toSorted")},71658:function(s,c,e){var o=e(46518),u=e(6469),f=e(96837),A=e(26198),p=e(35610),m=e(25397),y=e(91291),b=Array,E=Math.max,S=Math.min;o({target:"Array",proto:!0},{toSpliced:function(T,L){var I,B,O,_,M=m(this),U=A(M),Q=p(T,U),$=arguments.length,W=0;for($===0?I=B=0:$===1?(I=0,B=U-Q):(I=$-2,B=S(E(y(L),0),U-Q)),O=f(U+I-B),_=b(O);W<Q;W++)_[W]=M[W];for(;W<Q+I;W++)_[W]=arguments[W-Q+2];for(;W<O;W++)_[W]=M[W+B-I];return _}}),u("toSpliced")},30237:function(s,c,e){e(6469)("flatMap")},93514:function(s,c,e){e(6469)("flat")},13609:function(s,c,e){var o=e(46518),u=e(48981),f=e(26198),A=e(34527),p=e(84606),m=e(96837);o({target:"Array",proto:!0,arity:1,forced:[].unshift(0)!==1||!(function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(y){return y instanceof TypeError}})()},{unshift:function(y){var b=u(this),E=f(b),S=arguments.length;if(S){m(E+S);for(var T=E;T--;){var L=T+S;T in b?b[L]=b[T]:p(b,L)}for(var I=0;I<S;I++)b[I]=arguments[I]}return A(b,E+S)}})},11558:function(s,c,e){var o=e(46518),u=e(39928),f=e(25397),A=Array;o({target:"Array",proto:!0},{with:function(p,m){return u(f(this),A,p,m)}})},24359:function(s,c,e){var o=e(46518),u=e(66346);o({global:!0,constructor:!0,forced:!e(77811)},{DataView:u.DataView})},38309:function(s,c,e){e(24359)},61699:function(s,c,e){var o=e(46518),u=e(79504),f=e(79039)((function(){return new Date(16e11).getYear()!==120})),A=u(Date.prototype.getFullYear);o({target:"Date",proto:!0,forced:f},{getYear:function(){return A(this)-1900}})},59089:function(s,c,e){var o=e(46518),u=e(79504),f=Date,A=u(f.prototype.getTime);o({target:"Date",stat:!0},{now:function(){return A(new f)}})},91191:function(s,c,e){var o=e(46518),u=e(79504),f=e(91291),A=Date.prototype,p=u(A.getTime),m=u(A.setFullYear);o({target:"Date",proto:!0},{setYear:function(y){p(this);var b=f(y);return m(this,b>=0&&b<=99?b+1900:b)}})},93515:function(s,c,e){e(46518)({target:"Date",proto:!0},{toGMTString:Date.prototype.toUTCString})},1688:function(s,c,e){var o=e(46518),u=e(70380);o({target:"Date",proto:!0,forced:Date.prototype.toISOString!==u},{toISOString:u})},60739:function(s,c,e){var o=e(46518),u=e(79039),f=e(48981),A=e(72777);o({target:"Date",proto:!0,arity:1,forced:u((function(){return new Date(NaN).toJSON()!==null||Date.prototype.toJSON.call({toISOString:function(){return 1}})!==1}))},{toJSON:function(p){var m=f(this),y=A(m,"number");return typeof y!="number"||isFinite(y)?m.toISOString():null}})},89572:function(s,c,e){var o=e(39297),u=e(36840),f=e(53640),A=e(78227)("toPrimitive"),p=Date.prototype;o(p,A)||u(p,A,f)},23288:function(s,c,e){var o=e(79504),u=e(36840),f=Date.prototype,A="Invalid Date",p="toString",m=o(f[p]),y=o(f.getTime);String(new Date(NaN))!==A&&u(f,p,(function(){var b=y(this);return b==b?m(this):A}))},16280:function(s,c,e){var o=e(46518),u=e(44576),f=e(18745),A=e(14601),p="WebAssembly",m=u[p],y=new Error("e",{cause:7}).cause!==7,b=function(S,T){var L={};L[S]=A(S,T,y),o({global:!0,constructor:!0,arity:1,forced:y},L)},E=function(S,T){if(m&&m[S]){var L={};L[S]=A(p+"."+S,T,y),o({target:p,stat:!0,constructor:!0,arity:1,forced:y},L)}};b("Error",(function(S){return function(T){return f(S,this,arguments)}})),b("EvalError",(function(S){return function(T){return f(S,this,arguments)}})),b("RangeError",(function(S){return function(T){return f(S,this,arguments)}})),b("ReferenceError",(function(S){return function(T){return f(S,this,arguments)}})),b("SyntaxError",(function(S){return function(T){return f(S,this,arguments)}})),b("TypeError",(function(S){return function(T){return f(S,this,arguments)}})),b("URIError",(function(S){return function(T){return f(S,this,arguments)}})),E("CompileError",(function(S){return function(T){return f(S,this,arguments)}})),E("LinkError",(function(S){return function(T){return f(S,this,arguments)}})),E("RuntimeError",(function(S){return function(T){return f(S,this,arguments)}}))},76918:function(s,c,e){var o=e(36840),u=e(77536),f=Error.prototype;f.toString!==u&&o(f,"toString",u)},36456:function(s,c,e){var o=e(46518),u=e(79504),f=e(655),A=u("".charAt),p=u("".charCodeAt),m=u(/./.exec),y=u(1 .toString),b=u("".toUpperCase),E=/[\w*+\-./@]/,S=function(T,L){for(var I=y(T,16);I.length<L;)I="0"+I;return I};o({global:!0},{escape:function(T){for(var L,I,B=f(T),O="",_=B.length,M=0;M<_;)L=A(B,M++),m(E,L)?O+=L:O+=(I=p(L,0))<256?"%"+S(I,2):"%u"+b(S(I,4));return O}})},94170:function(s,c,e){var o=e(46518),u=e(30566);o({target:"Function",proto:!0,forced:Function.bind!==u},{bind:u})},48957:function(s,c,e){var o=e(94901),u=e(20034),f=e(24913),A=e(1625),p=e(78227),m=e(50283),y=p("hasInstance"),b=Function.prototype;y in b||f.f(b,y,{value:m((function(E){if(!o(this)||!u(E))return!1;var S=this.prototype;return u(S)?A(S,E):E instanceof this}),y)})},62010:function(s,c,e){var o=e(43724),u=e(10350).EXISTS,f=e(79504),A=e(62106),p=Function.prototype,m=f(p.toString),y=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,b=f(y.exec);o&&!u&&A(p,"name",{configurable:!0,get:function(){try{return b(y,m(this))[1]}catch{return""}}})},55081:function(s,c,e){var o=e(46518),u=e(44576);o({global:!0,forced:u.globalThis!==u},{globalThis:u})},18111:function(s,c,e){var o=e(46518),u=e(44576),f=e(90679),A=e(28551),p=e(94901),m=e(42787),y=e(62106),b=e(97040),E=e(79039),S=e(39297),T=e(78227),L=e(57657).IteratorPrototype,I=e(43724),B=e(96395),O="constructor",_="Iterator",M=T("toStringTag"),U=TypeError,Q=u[_],$=B||!p(Q)||Q.prototype!==L||!E((function(){Q({})})),W=function(){if(f(this,L),m(this)===L)throw new U("Abstract class Iterator not directly constructable")},X=function(et,Y){I?y(L,et,{configurable:!0,get:function(){return Y},set:function(N){if(A(this),this===L)throw new U("You can't redefine this property");S(this,et)?this[et]=N:b(this,et,N)}}):L[et]=Y};S(L,M)||X(M,_),!$&&S(L,O)&&L[O]!==Object||X(O,W),W.prototype=L,o({global:!0,constructor:!0,forced:$},{Iterator:W})},29314:function(s,c,e){var o=e(46518),u=e(69565),f=e(28551),A=e(1767),p=e(24149),m=e(99590),y=e(19462),b=e(96395),E=y((function(){for(var S,T=this.iterator,L=this.next;this.remaining;)if(this.remaining--,S=f(u(L,T)),this.done=!!S.done)return;if(S=f(u(L,T)),!(this.done=!!S.done))return S.value}));o({target:"Iterator",proto:!0,real:!0,forced:b},{drop:function(S){f(this);var T=m(p(+S));return new E(A(this),{remaining:T})}})},81148:function(s,c,e){var o=e(46518),u=e(72652),f=e(79306),A=e(28551),p=e(1767);o({target:"Iterator",proto:!0,real:!0},{every:function(m){A(this),f(m);var y=p(this),b=0;return!u(y,(function(E,S){if(!m(E,b++))return S()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},22489:function(s,c,e){var o=e(46518),u=e(69565),f=e(79306),A=e(28551),p=e(1767),m=e(19462),y=e(96319),b=e(96395),E=m((function(){for(var S,T,L=this.iterator,I=this.predicate,B=this.next;;){if(S=A(u(B,L)),this.done=!!S.done)return;if(T=S.value,y(L,I,[T,this.counter++],!0))return T}}));o({target:"Iterator",proto:!0,real:!0,forced:b},{filter:function(S){return A(this),f(S),new E(p(this),{predicate:S})}})},20116:function(s,c,e){var o=e(46518),u=e(72652),f=e(79306),A=e(28551),p=e(1767);o({target:"Iterator",proto:!0,real:!0},{find:function(m){A(this),f(m);var y=p(this),b=0;return u(y,(function(E,S){if(m(E,b++))return S(E)}),{IS_RECORD:!0,INTERRUPTED:!0}).result}})},30531:function(s,c,e){var o=e(46518),u=e(69565),f=e(79306),A=e(28551),p=e(1767),m=e(48646),y=e(19462),b=e(9539),E=e(96395),S=y((function(){for(var T,L,I=this.iterator,B=this.mapper;;){if(L=this.inner)try{if(!(T=A(u(L.next,L.iterator))).done)return T.value;this.inner=null}catch(O){b(I,"throw",O)}if(T=A(u(this.next,I)),this.done=!!T.done)return;try{this.inner=m(B(T.value,this.counter++),!1)}catch(O){b(I,"throw",O)}}}));o({target:"Iterator",proto:!0,real:!0,forced:E},{flatMap:function(T){return A(this),f(T),new S(p(this),{mapper:T,inner:null})}})},7588:function(s,c,e){var o=e(46518),u=e(72652),f=e(79306),A=e(28551),p=e(1767);o({target:"Iterator",proto:!0,real:!0},{forEach:function(m){A(this),f(m);var y=p(this),b=0;u(y,(function(E){m(E,b++)}),{IS_RECORD:!0})}})},49603:function(s,c,e){var o=e(46518),u=e(69565),f=e(48981),A=e(1625),p=e(57657).IteratorPrototype,m=e(19462),y=e(48646),b=e(96395),E=m((function(){return u(this.next,this.iterator)}),!0);o({target:"Iterator",stat:!0,forced:b},{from:function(S){var T=y(typeof S=="string"?f(S):S,!0);return A(p,T.iterator)?T.iterator:new E(T)}})},61701:function(s,c,e){var o=e(46518),u=e(20713);o({target:"Iterator",proto:!0,real:!0,forced:e(96395)},{map:u})},18237:function(s,c,e){var o=e(46518),u=e(72652),f=e(79306),A=e(28551),p=e(1767),m=TypeError;o({target:"Iterator",proto:!0,real:!0},{reduce:function(y){A(this),f(y);var b=p(this),E=arguments.length<2,S=E?void 0:arguments[1],T=0;if(u(b,(function(L){E?(E=!1,S=L):S=y(S,L,T),T++}),{IS_RECORD:!0}),E)throw new m("Reduce of empty iterator with no initial value");return S}})},13579:function(s,c,e){var o=e(46518),u=e(72652),f=e(79306),A=e(28551),p=e(1767);o({target:"Iterator",proto:!0,real:!0},{some:function(m){A(this),f(m);var y=p(this),b=0;return u(y,(function(E,S){if(m(E,b++))return S()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},54972:function(s,c,e){var o=e(46518),u=e(69565),f=e(28551),A=e(1767),p=e(24149),m=e(99590),y=e(19462),b=e(9539),E=e(96395),S=y((function(){var T=this.iterator;if(!this.remaining--)return this.done=!0,b(T,"normal",void 0);var L=f(u(this.next,T));return(this.done=!!L.done)?void 0:L.value}));o({target:"Iterator",proto:!0,real:!0,forced:E},{take:function(T){f(this);var L=m(p(+T));return new S(A(this),{remaining:L})}})},61806:function(s,c,e){var o=e(46518),u=e(28551),f=e(72652),A=e(1767),p=[].push;o({target:"Iterator",proto:!0,real:!0},{toArray:function(){var m=[];return f(A(u(this)),p,{that:m,IS_RECORD:!0}),m}})},33110:function(s,c,e){var o=e(46518),u=e(97751),f=e(18745),A=e(69565),p=e(79504),m=e(79039),y=e(94901),b=e(10757),E=e(67680),S=e(66933),T=e(4495),L=String,I=u("JSON","stringify"),B=p(/./.exec),O=p("".charAt),_=p("".charCodeAt),M=p("".replace),U=p(1 .toString),Q=/[\uD800-\uDFFF]/g,$=/^[\uD800-\uDBFF]$/,W=/^[\uDC00-\uDFFF]$/,X=!T||m((function(){var K=u("Symbol")("stringify detection");return I([K])!=="[null]"||I({a:K})!=="{}"||I(Object(K))!=="{}"})),et=m((function(){return I("\uDF06\uD834")!=='"\\udf06\\ud834"'||I("\uDEAD")!=='"\\udead"'})),Y=function(K,Z){var F=E(arguments),q=S(Z);if(y(q)||K!==void 0&&!b(K))return F[1]=function(nt,ot){if(y(q)&&(ot=A(q,this,L(nt),ot)),!b(ot))return ot},f(I,null,F)},N=function(K,Z,F){var q=O(F,Z-1),nt=O(F,Z+1);return B($,K)&&!B(W,nt)||B(W,K)&&!B($,q)?"\\u"+U(_(K,0),16):K};I&&o({target:"JSON",stat:!0,arity:3,forced:X||et},{stringify:function(K,Z,F){var q=E(arguments),nt=f(X?Y:I,null,q);return et&&typeof nt=="string"?M(nt,Q,N):nt}})},4731:function(s,c,e){var o=e(44576);e(10687)(o.JSON,"JSON",!0)},48523:function(s,c,e){e(16468)("Map",(function(o){return function(){return o(this,arguments.length?arguments[0]:void 0)}}),e(86938))},47072:function(s,c,e){var o=e(46518),u=e(79504),f=e(79306),A=e(67750),p=e(72652),m=e(72248),y=e(96395),b=e(79039),E=m.Map,S=m.has,T=m.get,L=m.set,I=u([].push),B=y||b((function(){return E.groupBy("ab",(function(O){return O})).get("a").length!==1}));o({target:"Map",stat:!0,forced:y||B},{groupBy:function(O,_){A(O),f(_);var M=new E,U=0;return p(O,(function(Q){var $=_(Q,U++);S(M,$)?I(T(M,$),Q):L(M,$,[Q])})),M}})},36033:function(s,c,e){e(48523)},93153:function(s,c,e){var o=e(46518),u=e(7740),f=Math.acosh,A=Math.log,p=Math.sqrt,m=Math.LN2;o({target:"Math",stat:!0,forced:!f||Math.floor(f(Number.MAX_VALUE))!==710||f(1/0)!==1/0},{acosh:function(y){var b=+y;return b<1?NaN:b>9490626562425156e-8?A(b)+m:u(b-1+p(b-1)*p(b+1))}})},82326:function(s,c,e){var o=e(46518),u=Math.asinh,f=Math.log,A=Math.sqrt;o({target:"Math",stat:!0,forced:!(u&&1/u(0)>0)},{asinh:function p(m){var y=+m;return isFinite(y)&&y!==0?y<0?-p(-y):f(y+A(y*y+1)):y}})},36389:function(s,c,e){var o=e(46518),u=Math.atanh,f=Math.log;o({target:"Math",stat:!0,forced:!(u&&1/u(-0)<0)},{atanh:function(A){var p=+A;return p===0?p:f((1+p)/(1-p))/2}})},64444:function(s,c,e){var o=e(46518),u=e(77782),f=Math.abs,A=Math.pow;o({target:"Math",stat:!0},{cbrt:function(p){var m=+p;return u(m)*A(f(m),.3333333333333333)}})},8085:function(s,c,e){var o=e(46518),u=Math.floor,f=Math.log,A=Math.LOG2E;o({target:"Math",stat:!0},{clz32:function(p){var m=p>>>0;return m?31-u(f(m+.5)*A):32}})},77762:function(s,c,e){var o=e(46518),u=e(53250),f=Math.cosh,A=Math.abs,p=Math.E;o({target:"Math",stat:!0,forced:!f||f(710)===1/0},{cosh:function(m){var y=u(A(m)-1)+1;return(y+1/(y*p*p))*(p/2)}})},65070:function(s,c,e){var o=e(46518),u=e(53250);o({target:"Math",stat:!0,forced:u!==Math.expm1},{expm1:u})},60605:function(s,c,e){e(46518)({target:"Math",stat:!0},{fround:e(15617)})},39469:function(s,c,e){var o=e(46518),u=Math.hypot,f=Math.abs,A=Math.sqrt;o({target:"Math",stat:!0,arity:2,forced:!!u&&u(1/0,NaN)!==1/0},{hypot:function(p,m){for(var y,b,E=0,S=0,T=arguments.length,L=0;S<T;)L<(y=f(arguments[S++]))?(E=E*(b=L/y)*b+1,L=y):E+=y>0?(b=y/L)*b:y;return L===1/0?1/0:L*A(E)}})},72152:function(s,c,e){var o=e(46518),u=e(79039),f=Math.imul;o({target:"Math",stat:!0,forced:u((function(){return f(4294967295,5)!==-5||f.length!==2}))},{imul:function(A,p){var m=65535,y=+A,b=+p,E=m&y,S=m&b;return 0|E*S+((m&y>>>16)*S+E*(m&b>>>16)<<16>>>0)}})},75376:function(s,c,e){e(46518)({target:"Math",stat:!0},{log10:e(49340)})},56624:function(s,c,e){e(46518)({target:"Math",stat:!0},{log1p:e(7740)})},11367:function(s,c,e){e(46518)({target:"Math",stat:!0},{log2:e(67787)})},5914:function(s,c,e){e(46518)({target:"Math",stat:!0},{sign:e(77782)})},78553:function(s,c,e){var o=e(46518),u=e(79039),f=e(53250),A=Math.abs,p=Math.exp,m=Math.E;o({target:"Math",stat:!0,forced:u((function(){return Math.sinh(-2e-17)!==-2e-17}))},{sinh:function(y){var b=+y;return A(b)<1?(f(b)-f(-b))/2:(p(b-1)-p(-b-1))*(m/2)}})},98690:function(s,c,e){var o=e(46518),u=e(53250),f=Math.exp;o({target:"Math",stat:!0},{tanh:function(A){var p=+A,m=u(p),y=u(-p);return m===1/0?1:y===1/0?-1:(m-y)/(f(p)+f(-p))}})},60479:function(s,c,e){e(10687)(Math,"Math",!0)},70761:function(s,c,e){e(46518)({target:"Math",stat:!0},{trunc:e(80741)})},2892:function(s,c,e){var o=e(46518),u=e(96395),f=e(43724),A=e(44576),p=e(19167),m=e(79504),y=e(92796),b=e(39297),E=e(23167),S=e(1625),T=e(10757),L=e(72777),I=e(79039),B=e(38480).f,O=e(77347).f,_=e(24913).f,M=e(31240),U=e(43802).trim,Q="Number",$=A[Q],W=p[Q],X=$.prototype,et=A.TypeError,Y=m("".slice),N=m("".charCodeAt),K=y(Q,!$(" 0o1")||!$("0b1")||$("+0x1")),Z=function(q){var nt,ot=arguments.length<1?0:$((function(Ct){var St=L(Ct,"number");return typeof St=="bigint"?St:(function(Tt){var Kt,$t,Vt,ne,fe,ae,xe,Ne,Ve=L(Tt,"number");if(T(Ve))throw new et("Cannot convert a Symbol value to a number");if(typeof Ve=="string"&&Ve.length>2){if(Ve=U(Ve),(Kt=N(Ve,0))===43||Kt===45){if(($t=N(Ve,2))===88||$t===120)return NaN}else if(Kt===48){switch(N(Ve,1)){case 66:case 98:Vt=2,ne=49;break;case 79:case 111:Vt=8,ne=55;break;default:return+Ve}for(ae=(fe=Y(Ve,2)).length,xe=0;xe<ae;xe++)if((Ne=N(fe,xe))<48||Ne>ne)return NaN;return parseInt(fe,Vt)}}return+Ve})(St)})(q));return S(X,nt=this)&&I((function(){M(nt)}))?E(Object(ot),this,Z):ot};Z.prototype=X,K&&!u&&(X.constructor=Z),o({global:!0,constructor:!0,wrap:!0,forced:K},{Number:Z});var F=function(q,nt){for(var ot,Ct=f?B(nt):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),St=0;Ct.length>St;St++)b(nt,ot=Ct[St])&&!b(q,ot)&&_(q,ot,O(nt,ot))};u&&W&&F(p[Q],W),(K||u)&&F(p[Q],$)},45374:function(s,c,e){e(46518)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{EPSILON:Math.pow(2,-52)})},25428:function(s,c,e){e(46518)({target:"Number",stat:!0},{isFinite:e(50360)})},32637:function(s,c,e){e(46518)({target:"Number",stat:!0},{isInteger:e(2087)})},40150:function(s,c,e){e(46518)({target:"Number",stat:!0},{isNaN:function(o){return o!=o}})},59149:function(s,c,e){var o=e(46518),u=e(2087),f=Math.abs;o({target:"Number",stat:!0},{isSafeInteger:function(A){return u(A)&&f(A)<=9007199254740991}})},64601:function(s,c,e){e(46518)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MAX_SAFE_INTEGER:9007199254740991})},44435:function(s,c,e){e(46518)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MIN_SAFE_INTEGER:-9007199254740991})},87220:function(s,c,e){var o=e(46518),u=e(33904);o({target:"Number",stat:!0,forced:Number.parseFloat!==u},{parseFloat:u})},25843:function(s,c,e){var o=e(46518),u=e(52703);o({target:"Number",stat:!0,forced:Number.parseInt!==u},{parseInt:u})},62337:function(s,c,e){var o=e(46518),u=e(79504),f=e(91291),A=e(31240),p=e(72333),m=e(49340),y=e(79039),b=RangeError,E=String,S=isFinite,T=Math.abs,L=Math.floor,I=Math.pow,B=Math.round,O=u(1 .toExponential),_=u(p),M=u("".slice),U=O(-69e-12,4)==="-6.9000e-11"&&O(1.255,2)==="1.25e+0"&&O(12345,3)==="1.235e+4"&&O(25,0)==="3e+1";o({target:"Number",proto:!0,forced:!U||!(y((function(){O(1,1/0)}))&&y((function(){O(1,-1/0)})))||!!y((function(){O(1/0,1/0),O(NaN,1/0)}))},{toExponential:function(Q){var $=A(this);if(Q===void 0)return O($);var W=f(Q);if(!S($))return String($);if(W<0||W>20)throw new b("Incorrect fraction digits");if(U)return O($,W);var X,et,Y,N,K="";if($<0&&(K="-",$=-$),$===0)et=0,X=_("0",W+1);else{var Z=m($);et=L(Z);var F=I(10,et-W),q=B($/F);2*$>=(2*q+1)*F&&(q+=1),q>=I(10,W+1)&&(q/=10,et+=1),X=E(q)}return W!==0&&(X=M(X,0,1)+"."+M(X,1)),et===0?(Y="+",N="0"):(Y=et>0?"+":"-",N=E(T(et))),K+(X+"e")+Y+N}})},9868:function(s,c,e){var o=e(46518),u=e(79504),f=e(91291),A=e(31240),p=e(72333),m=e(79039),y=RangeError,b=String,E=Math.floor,S=u(p),T=u("".slice),L=u(1 .toFixed),I=function(M,U,Q){return U===0?Q:U%2==1?I(M,U-1,Q*M):I(M*M,U/2,Q)},B=function(M,U,Q){for(var $=-1,W=Q;++$<6;)W+=U*M[$],M[$]=W%1e7,W=E(W/1e7)},O=function(M,U){for(var Q=6,$=0;--Q>=0;)$+=M[Q],M[Q]=E($/U),$=$%U*1e7},_=function(M){for(var U=6,Q="";--U>=0;)if(Q!==""||U===0||M[U]!==0){var $=b(M[U]);Q=Q===""?$:Q+S("0",7-$.length)+$}return Q};o({target:"Number",proto:!0,forced:m((function(){return L(8e-5,3)!=="0.000"||L(.9,0)!=="1"||L(1.255,2)!=="1.25"||L(0xde0b6b3a7640080,0)!=="1000000000000000128"}))||!m((function(){L({})}))},{toFixed:function(M){var U,Q,$,W,X=A(this),et=f(M),Y=[0,0,0,0,0,0],N="",K="0";if(et<0||et>20)throw new y("Incorrect fraction digits");if(X!=X)return"NaN";if(X<=-1e21||X>=1e21)return b(X);if(X<0&&(N="-",X=-X),X>1e-21)if(Q=(U=(function(Z){for(var F=0,q=Z;q>=4096;)F+=12,q/=4096;for(;q>=2;)F+=1,q/=2;return F})(X*I(2,69,1))-69)<0?X*I(2,-U,1):X/I(2,U,1),Q*=4503599627370496,(U=52-U)>0){for(B(Y,0,Q),$=et;$>=7;)B(Y,1e7,0),$-=7;for(B(Y,I(10,$,1),0),$=U-1;$>=23;)O(Y,8388608),$-=23;O(Y,1<<$),B(Y,1,1),O(Y,2),K=_(Y)}else B(Y,0,Q),B(Y,1<<-U,0),K=_(Y)+S("0",et);return et>0?N+((W=K.length)<=et?"0."+S("0",et-W)+K:T(K,0,W-et)+"."+T(K,W-et)):N+K}})},80630:function(s,c,e){var o=e(46518),u=e(79504),f=e(79039),A=e(31240),p=u(1 .toPrecision);o({target:"Number",proto:!0,forced:f((function(){return p(1,void 0)!=="1"}))||!f((function(){p({})}))},{toPrecision:function(m){return m===void 0?p(A(this)):p(A(this),m)}})},69085:function(s,c,e){var o=e(46518),u=e(44213);o({target:"Object",stat:!0,arity:2,forced:Object.assign!==u},{assign:u})},59904:function(s,c,e){e(46518)({target:"Object",stat:!0,sham:!e(43724)},{create:e(2360)})},17427:function(s,c,e){var o=e(46518),u=e(43724),f=e(42551),A=e(79306),p=e(48981),m=e(24913);u&&o({target:"Object",proto:!0,forced:f},{__defineGetter__:function(y,b){m.f(p(this),y,{get:A(b),enumerable:!0,configurable:!0})}})},67945:function(s,c,e){var o=e(46518),u=e(43724),f=e(96801).f;o({target:"Object",stat:!0,forced:Object.defineProperties!==f,sham:!u},{defineProperties:f})},84185:function(s,c,e){var o=e(46518),u=e(43724),f=e(24913).f;o({target:"Object",stat:!0,forced:Object.defineProperty!==f,sham:!u},{defineProperty:f})},87607:function(s,c,e){var o=e(46518),u=e(43724),f=e(42551),A=e(79306),p=e(48981),m=e(24913);u&&o({target:"Object",proto:!0,forced:f},{__defineSetter__:function(y,b){m.f(p(this),y,{set:A(b),enumerable:!0,configurable:!0})}})},5506:function(s,c,e){var o=e(46518),u=e(32357).entries;o({target:"Object",stat:!0},{entries:function(f){return u(f)}})},52811:function(s,c,e){var o=e(46518),u=e(92744),f=e(79039),A=e(20034),p=e(3451).onFreeze,m=Object.freeze;o({target:"Object",stat:!0,forced:f((function(){m(1)})),sham:!u},{freeze:function(y){return m&&A(y)?m(p(y)):y}})},53921:function(s,c,e){var o=e(46518),u=e(72652),f=e(97040);o({target:"Object",stat:!0},{fromEntries:function(A){var p={};return u(A,(function(m,y){f(p,m,y)}),{AS_ENTRIES:!0}),p}})},83851:function(s,c,e){var o=e(46518),u=e(79039),f=e(25397),A=e(77347).f,p=e(43724);o({target:"Object",stat:!0,forced:!p||u((function(){A(1)})),sham:!p},{getOwnPropertyDescriptor:function(m,y){return A(f(m),y)}})},81278:function(s,c,e){var o=e(46518),u=e(43724),f=e(35031),A=e(25397),p=e(77347),m=e(97040);o({target:"Object",stat:!0,sham:!u},{getOwnPropertyDescriptors:function(y){for(var b,E,S=A(y),T=p.f,L=f(S),I={},B=0;L.length>B;)(E=T(S,b=L[B++]))!==void 0&&m(I,b,E);return I}})},1480:function(s,c,e){var o=e(46518),u=e(79039),f=e(10298).f;o({target:"Object",stat:!0,forced:u((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:f})},49773:function(s,c,e){var o=e(46518),u=e(4495),f=e(79039),A=e(33717),p=e(48981);o({target:"Object",stat:!0,forced:!u||f((function(){A.f(1)}))},{getOwnPropertySymbols:function(m){var y=A.f;return y?y(p(m)):[]}})},40875:function(s,c,e){var o=e(46518),u=e(79039),f=e(48981),A=e(42787),p=e(12211);o({target:"Object",stat:!0,forced:u((function(){A(1)})),sham:!p},{getPrototypeOf:function(m){return A(f(m))}})},77691:function(s,c,e){var o=e(46518),u=e(97751),f=e(79504),A=e(79306),p=e(67750),m=e(56969),y=e(72652),b=e(79039),E=Object.groupBy,S=u("Object","create"),T=f([].push);o({target:"Object",stat:!0,forced:!E||b((function(){return E("ab",(function(L){return L})).a.length!==1}))},{groupBy:function(L,I){p(L),A(I);var B=S(null),O=0;return y(L,(function(_){var M=m(I(_,O++));M in B?T(B[M],_):B[M]=[_]})),B}})},78347:function(s,c,e){e(46518)({target:"Object",stat:!0},{hasOwn:e(39297)})},94052:function(s,c,e){var o=e(46518),u=e(34124);o({target:"Object",stat:!0,forced:Object.isExtensible!==u},{isExtensible:u})},94003:function(s,c,e){var o=e(46518),u=e(79039),f=e(20034),A=e(22195),p=e(15652),m=Object.isFrozen;o({target:"Object",stat:!0,forced:p||u((function(){}))},{isFrozen:function(y){return!f(y)||!(!p||A(y)!=="ArrayBuffer")||!!m&&m(y)}})},221:function(s,c,e){var o=e(46518),u=e(79039),f=e(20034),A=e(22195),p=e(15652),m=Object.isSealed;o({target:"Object",stat:!0,forced:p||u((function(){}))},{isSealed:function(y){return!f(y)||!(!p||A(y)!=="ArrayBuffer")||!!m&&m(y)}})},29908:function(s,c,e){e(46518)({target:"Object",stat:!0},{is:e(3470)})},79432:function(s,c,e){var o=e(46518),u=e(48981),f=e(71072);o({target:"Object",stat:!0,forced:e(79039)((function(){f(1)}))},{keys:function(A){return f(u(A))}})},9220:function(s,c,e){var o=e(46518),u=e(43724),f=e(42551),A=e(48981),p=e(56969),m=e(42787),y=e(77347).f;u&&o({target:"Object",proto:!0,forced:f},{__lookupGetter__:function(b){var E,S=A(this),T=p(b);do if(E=y(S,T))return E.get;while(S=m(S))}})},7904:function(s,c,e){var o=e(46518),u=e(43724),f=e(42551),A=e(48981),p=e(56969),m=e(42787),y=e(77347).f;u&&o({target:"Object",proto:!0,forced:f},{__lookupSetter__:function(b){var E,S=A(this),T=p(b);do if(E=y(S,T))return E.set;while(S=m(S))}})},93967:function(s,c,e){var o=e(46518),u=e(20034),f=e(3451).onFreeze,A=e(92744),p=e(79039),m=Object.preventExtensions;o({target:"Object",stat:!0,forced:p((function(){m(1)})),sham:!A},{preventExtensions:function(y){return m&&u(y)?m(f(y)):y}})},63548:function(s,c,e){var o=e(43724),u=e(62106),f=e(20034),A=e(13925),p=e(48981),m=e(67750),y=Object.getPrototypeOf,b=Object.setPrototypeOf,E=Object.prototype,S="__proto__";if(o&&y&&b&&!(S in E))try{u(E,S,{configurable:!0,get:function(){return y(p(this))},set:function(T){var L=m(this);A(T)&&f(L)&&b(L,T)}})}catch{}},93941:function(s,c,e){var o=e(46518),u=e(20034),f=e(3451).onFreeze,A=e(92744),p=e(79039),m=Object.seal;o({target:"Object",stat:!0,forced:p((function(){m(1)})),sham:!A},{seal:function(y){return m&&u(y)?m(f(y)):y}})},10287:function(s,c,e){e(46518)({target:"Object",stat:!0},{setPrototypeOf:e(52967)})},26099:function(s,c,e){var o=e(92140),u=e(36840),f=e(53179);o||u(Object.prototype,"toString",f,{unsafe:!0})},16034:function(s,c,e){var o=e(46518),u=e(32357).values;o({target:"Object",stat:!0},{values:function(f){return u(f)}})},78459:function(s,c,e){var o=e(46518),u=e(33904);o({global:!0,forced:parseFloat!==u},{parseFloat:u})},58940:function(s,c,e){var o=e(46518),u=e(52703);o({global:!0,forced:parseInt!==u},{parseInt:u})},96167:function(s,c,e){var o=e(46518),u=e(69565),f=e(79306),A=e(36043),p=e(1103),m=e(72652);o({target:"Promise",stat:!0,forced:e(90537)},{allSettled:function(y){var b=this,E=A.f(b),S=E.resolve,T=E.reject,L=p((function(){var I=f(b.resolve),B=[],O=0,_=1;m(y,(function(M){var U=O++,Q=!1;_++,u(I,b,M).then((function($){Q||(Q=!0,B[U]={status:"fulfilled",value:$},--_||S(B))}),(function($){Q||(Q=!0,B[U]={status:"rejected",reason:$},--_||S(B))}))})),--_||S(B)}));return L.error&&T(L.value),E.promise}})},16499:function(s,c,e){var o=e(46518),u=e(69565),f=e(79306),A=e(36043),p=e(1103),m=e(72652);o({target:"Promise",stat:!0,forced:e(90537)},{all:function(y){var b=this,E=A.f(b),S=E.resolve,T=E.reject,L=p((function(){var I=f(b.resolve),B=[],O=0,_=1;m(y,(function(M){var U=O++,Q=!1;_++,u(I,b,M).then((function($){Q||(Q=!0,B[U]=$,--_||S(B))}),T)})),--_||S(B)}));return L.error&&T(L.value),E.promise}})},93518:function(s,c,e){var o=e(46518),u=e(69565),f=e(79306),A=e(97751),p=e(36043),m=e(1103),y=e(72652),b=e(90537),E="No one promise resolved";o({target:"Promise",stat:!0,forced:b},{any:function(S){var T=this,L=A("AggregateError"),I=p.f(T),B=I.resolve,O=I.reject,_=m((function(){var M=f(T.resolve),U=[],Q=0,$=1,W=!1;y(S,(function(X){var et=Q++,Y=!1;$++,u(M,T,X).then((function(N){Y||W||(W=!0,B(N))}),(function(N){Y||W||(Y=!0,U[et]=N,--$||O(new L(U,E)))}))})),--$||O(new L(U,E))}));return _.error&&O(_.value),I.promise}})},82003:function(s,c,e){var o=e(46518),u=e(96395),f=e(10916).CONSTRUCTOR,A=e(80550),p=e(97751),m=e(94901),y=e(36840),b=A&&A.prototype;if(o({target:"Promise",proto:!0,forced:f,real:!0},{catch:function(S){return this.then(void 0,S)}}),!u&&m(A)){var E=p("Promise").prototype.catch;b.catch!==E&&y(b,"catch",E,{unsafe:!0})}},10436:function(s,c,e){var o,u,f,A=e(46518),p=e(96395),m=e(38574),y=e(44576),b=e(69565),E=e(36840),S=e(52967),T=e(10687),L=e(87633),I=e(79306),B=e(94901),O=e(20034),_=e(90679),M=e(2293),U=e(59225).set,Q=e(91955),$=e(90757),W=e(1103),X=e(18265),et=e(91181),Y=e(80550),N=e(10916),K=e(36043),Z="Promise",F=N.CONSTRUCTOR,q=N.REJECTION_EVENT,nt=N.SUBCLASSING,ot=et.getterFor(Z),Ct=et.set,St=Y&&Y.prototype,Tt=Y,Kt=St,$t=y.TypeError,Vt=y.document,ne=y.process,fe=K.f,ae=fe,xe=!!(Vt&&Vt.createEvent&&y.dispatchEvent),Ne="unhandledrejection",Ve=function(ee){var ge;return!(!O(ee)||!B(ge=ee.then))&&ge},we=function(ee,ge){var le,ke,It,ve=ge.value,Be=ge.state===1,Yn=Be?ee.ok:ee.fail,Ue=ee.resolve,$e=ee.reject,Dt=ee.domain;try{Yn?(Be||(ge.rejection===2&&qe(ge),ge.rejection=1),Yn===!0?le=ve:(Dt&&Dt.enter(),le=Yn(ve),Dt&&(Dt.exit(),It=!0)),le===ee.promise?$e(new $t("Promise-chain cycle")):(ke=Ve(le))?b(ke,le,Ue,$e):Ue(le)):$e(ve)}catch(Te){Dt&&!It&&Dt.exit(),$e(Te)}},Le=function(ee,ge){ee.notified||(ee.notified=!0,Q((function(){for(var le,ke=ee.reactions;le=ke.get();)we(le,ee);ee.notified=!1,ge&&!ee.rejection&&En(ee)})))},nn=function(ee,ge,le){var ke,It;xe?((ke=Vt.createEvent("Event")).promise=ge,ke.reason=le,ke.initEvent(ee,!1,!0),y.dispatchEvent(ke)):ke={promise:ge,reason:le},!q&&(It=y["on"+ee])?It(ke):ee===Ne&&$("Unhandled promise rejection",le)},En=function(ee){b(U,y,(function(){var ge,le=ee.facade,ke=ee.value;if(cn(ee)&&(ge=W((function(){m?ne.emit("unhandledRejection",ke,le):nn(Ne,le,ke)})),ee.rejection=m||cn(ee)?2:1,ge.error))throw ge.value}))},cn=function(ee){return ee.rejection!==1&&!ee.parent},qe=function(ee){b(U,y,(function(){var ge=ee.facade;m?ne.emit("rejectionHandled",ge):nn("rejectionhandled",ge,ee.value)}))},Ke=function(ee,ge,le){return function(ke){ee(ge,ke,le)}},Dn=function(ee,ge,le){ee.done||(ee.done=!0,le&&(ee=le),ee.value=ge,ee.state=2,Le(ee,!0))},an=function(ee,ge,le){if(!ee.done){ee.done=!0,le&&(ee=le);try{if(ee.facade===ge)throw new $t("Promise can't be resolved itself");var ke=Ve(ge);ke?Q((function(){var It={done:!1};try{b(ke,ge,Ke(an,It,ee),Ke(Dn,It,ee))}catch(ve){Dn(It,ve,ee)}})):(ee.value=ge,ee.state=1,Le(ee,!1))}catch(It){Dn({done:!1},It,ee)}}};if(F&&(Kt=(Tt=function(ee){_(this,Kt),I(ee),b(o,this);var ge=ot(this);try{ee(Ke(an,ge),Ke(Dn,ge))}catch(le){Dn(ge,le)}}).prototype,(o=function(ee){Ct(this,{type:Z,done:!1,notified:!1,parent:!1,reactions:new X,rejection:!1,state:0,value:null})}).prototype=E(Kt,"then",(function(ee,ge){var le=ot(this),ke=fe(M(this,Tt));return le.parent=!0,ke.ok=!B(ee)||ee,ke.fail=B(ge)&&ge,ke.domain=m?ne.domain:void 0,le.state===0?le.reactions.add(ke):Q((function(){we(ke,le)})),ke.promise})),u=function(){var ee=new o,ge=ot(ee);this.promise=ee,this.resolve=Ke(an,ge),this.reject=Ke(Dn,ge)},K.f=fe=function(ee){return ee===Tt||ee===void 0?new u(ee):ae(ee)},!p&&B(Y)&&St!==Object.prototype)){f=St.then,nt||E(St,"then",(function(ee,ge){var le=this;return new Tt((function(ke,It){b(f,le,ke,It)})).then(ee,ge)}),{unsafe:!0});try{delete St.constructor}catch{}S&&S(St,Kt)}A({global:!0,constructor:!0,wrap:!0,forced:F},{Promise:Tt}),T(Tt,Z,!1,!0),L(Z)},9391:function(s,c,e){var o=e(46518),u=e(96395),f=e(80550),A=e(79039),p=e(97751),m=e(94901),y=e(2293),b=e(93438),E=e(36840),S=f&&f.prototype;if(o({target:"Promise",proto:!0,real:!0,forced:!!f&&A((function(){S.finally.call({then:function(){}},(function(){}))}))},{finally:function(L){var I=y(this,p("Promise")),B=m(L);return this.then(B?function(O){return b(I,L()).then((function(){return O}))}:L,B?function(O){return b(I,L()).then((function(){throw O}))}:L)}}),!u&&m(f)){var T=p("Promise").prototype.finally;S.finally!==T&&E(S,"finally",T,{unsafe:!0})}},3362:function(s,c,e){e(10436),e(16499),e(82003),e(7743),e(51481),e(40280)},7743:function(s,c,e){var o=e(46518),u=e(69565),f=e(79306),A=e(36043),p=e(1103),m=e(72652);o({target:"Promise",stat:!0,forced:e(90537)},{race:function(y){var b=this,E=A.f(b),S=E.reject,T=p((function(){var L=f(b.resolve);m(y,(function(I){u(L,b,I).then(E.resolve,S)}))}));return T.error&&S(T.value),E.promise}})},51481:function(s,c,e){var o=e(46518),u=e(36043);o({target:"Promise",stat:!0,forced:e(10916).CONSTRUCTOR},{reject:function(f){var A=u.f(this);return(0,A.reject)(f),A.promise}})},40280:function(s,c,e){var o=e(46518),u=e(97751),f=e(96395),A=e(80550),p=e(10916).CONSTRUCTOR,m=e(93438),y=u("Promise"),b=f&&!p;o({target:"Promise",stat:!0,forced:f||p},{resolve:function(E){return m(b&&this===y?A:this,E)}})},31689:function(s,c,e){var o=e(46518),u=e(44576),f=e(18745),A=e(67680),p=e(36043),m=e(79306),y=e(1103),b=u.Promise,E=!1;o({target:"Promise",stat:!0,forced:!b||!b.try||y((function(){b.try((function(S){E=S===8}),8)})).error||!E},{try:function(S){var T=arguments.length>1?A(arguments,1):[],L=p.f(this),I=y((function(){return f(m(S),void 0,T)}));return(I.error?L.reject:L.resolve)(I.value),L.promise}})},14628:function(s,c,e){var o=e(46518),u=e(36043);o({target:"Promise",stat:!0},{withResolvers:function(){var f=u.f(this);return{promise:f.promise,resolve:f.resolve,reject:f.reject}}})},39796:function(s,c,e){var o=e(46518),u=e(18745),f=e(79306),A=e(28551);o({target:"Reflect",stat:!0,forced:!e(79039)((function(){Reflect.apply((function(){}))}))},{apply:function(p,m,y){return u(f(p),m,A(y))}})},60825:function(s,c,e){var o=e(46518),u=e(97751),f=e(18745),A=e(30566),p=e(35548),m=e(28551),y=e(20034),b=e(2360),E=e(79039),S=u("Reflect","construct"),T=Object.prototype,L=[].push,I=E((function(){function _(){}return!(S((function(){}),[],_)instanceof _)})),B=!E((function(){S((function(){}))})),O=I||B;o({target:"Reflect",stat:!0,forced:O,sham:O},{construct:function(_,M){p(_),m(M);var U=arguments.length<3?_:p(arguments[2]);if(B&&!I)return S(_,M,U);if(_===U){switch(M.length){case 0:return new _;case 1:return new _(M[0]);case 2:return new _(M[0],M[1]);case 3:return new _(M[0],M[1],M[2]);case 4:return new _(M[0],M[1],M[2],M[3])}var Q=[null];return f(L,Q,M),new(f(A,_,Q))}var $=U.prototype,W=b(y($)?$:T),X=f(_,W,M);return y(X)?X:W}})},87411:function(s,c,e){var o=e(46518),u=e(43724),f=e(28551),A=e(56969),p=e(24913);o({target:"Reflect",stat:!0,forced:e(79039)((function(){Reflect.defineProperty(p.f({},1,{value:1}),1,{value:2})})),sham:!u},{defineProperty:function(m,y,b){f(m);var E=A(y);f(b);try{return p.f(m,E,b),!0}catch{return!1}}})},21211:function(s,c,e){var o=e(46518),u=e(28551),f=e(77347).f;o({target:"Reflect",stat:!0},{deleteProperty:function(A,p){var m=f(u(A),p);return!(m&&!m.configurable)&&delete A[p]}})},9065:function(s,c,e){var o=e(46518),u=e(43724),f=e(28551),A=e(77347);o({target:"Reflect",stat:!0,sham:!u},{getOwnPropertyDescriptor:function(p,m){return A.f(f(p),m)}})},86565:function(s,c,e){var o=e(46518),u=e(28551),f=e(42787);o({target:"Reflect",stat:!0,sham:!e(12211)},{getPrototypeOf:function(A){return f(u(A))}})},40888:function(s,c,e){var o=e(46518),u=e(69565),f=e(20034),A=e(28551),p=e(16575),m=e(77347),y=e(42787);o({target:"Reflect",stat:!0},{get:function b(E,S){var T,L,I=arguments.length<3?E:arguments[2];return A(E)===I?E[S]:(T=m.f(E,S))?p(T)?T.value:T.get===void 0?void 0:u(T.get,I):f(L=y(E))?b(L,S,I):void 0}})},32812:function(s,c,e){e(46518)({target:"Reflect",stat:!0},{has:function(o,u){return u in o}})},84634:function(s,c,e){var o=e(46518),u=e(28551),f=e(34124);o({target:"Reflect",stat:!0},{isExtensible:function(A){return u(A),f(A)}})},71137:function(s,c,e){e(46518)({target:"Reflect",stat:!0},{ownKeys:e(35031)})},30985:function(s,c,e){var o=e(46518),u=e(97751),f=e(28551);o({target:"Reflect",stat:!0,sham:!e(92744)},{preventExtensions:function(A){f(A);try{var p=u("Object","preventExtensions");return p&&p(A),!0}catch{return!1}}})},34873:function(s,c,e){var o=e(46518),u=e(28551),f=e(73506),A=e(52967);A&&o({target:"Reflect",stat:!0},{setPrototypeOf:function(p,m){u(p),f(m);try{return A(p,m),!0}catch{return!1}}})},34268:function(s,c,e){var o=e(46518),u=e(69565),f=e(28551),A=e(20034),p=e(16575),m=e(79039),y=e(24913),b=e(77347),E=e(42787),S=e(6980);o({target:"Reflect",stat:!0,forced:m((function(){var T=function(){},L=y.f(new T,"a",{configurable:!0});return Reflect.set(T.prototype,"a",1,L)!==!1}))},{set:function T(L,I,B){var O,_,M,U=arguments.length<4?L:arguments[3],Q=b.f(f(L),I);if(!Q){if(A(_=E(L)))return T(_,I,B,U);Q=S(0)}if(p(Q)){if(Q.writable===!1||!A(U))return!1;if(O=b.f(U,I)){if(O.get||O.set||O.writable===!1)return!1;O.value=B,y.f(U,I,O)}else y.f(U,I,S(0,B))}else{if((M=Q.set)===void 0)return!1;u(M,U,B)}return!0}})},15472:function(s,c,e){var o=e(46518),u=e(44576),f=e(10687);o({global:!0},{Reflect:{}}),f(u.Reflect,"Reflect",!0)},84864:function(s,c,e){var o=e(43724),u=e(44576),f=e(79504),A=e(92796),p=e(23167),m=e(66699),y=e(2360),b=e(38480).f,E=e(1625),S=e(60788),T=e(655),L=e(61034),I=e(58429),B=e(11056),O=e(36840),_=e(79039),M=e(39297),U=e(91181).enforce,Q=e(87633),$=e(78227),W=e(83635),X=e(18814),et=$("match"),Y=u.RegExp,N=Y.prototype,K=u.SyntaxError,Z=f(N.exec),F=f("".charAt),q=f("".replace),nt=f("".indexOf),ot=f("".slice),Ct=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,St=/a/g,Tt=/a/g,Kt=new Y(St)!==St,$t=I.MISSED_STICKY,Vt=I.UNSUPPORTED_Y;if(A("RegExp",o&&(!Kt||$t||W||X||_((function(){return Tt[et]=!1,Y(St)!==St||Y(Tt)===Tt||String(Y(St,"i"))!=="/a/i"}))))){for(var ne=function(xe,Ne){var Ve,we,Le,nn,En,cn,qe=E(N,this),Ke=S(xe),Dn=Ne===void 0,an=[],ee=xe;if(!qe&&Ke&&Dn&&xe.constructor===ne)return xe;if((Ke||E(N,xe))&&(xe=xe.source,Dn&&(Ne=L(ee))),xe=xe===void 0?"":T(xe),Ne=Ne===void 0?"":T(Ne),ee=xe,W&&"dotAll"in St&&(we=!!Ne&&nt(Ne,"s")>-1)&&(Ne=q(Ne,/s/g,"")),Ve=Ne,$t&&"sticky"in St&&(Le=!!Ne&&nt(Ne,"y")>-1)&&Vt&&(Ne=q(Ne,/y/g,"")),X&&(nn=(function(ge){for(var le,ke=ge.length,It=0,ve="",Be=[],Yn=y(null),Ue=!1,$e=!1,Dt=0,Te="";It<=ke;It++){if((le=F(ge,It))==="\\")le+=F(ge,++It);else if(le==="]")Ue=!1;else if(!Ue)switch(!0){case le==="[":Ue=!0;break;case le==="(":if(ve+=le,ot(ge,It+1,It+3)==="?:")continue;Z(Ct,ot(ge,It+1))&&(It+=2,$e=!0),Dt++;continue;case(le===">"&&$e):if(Te===""||M(Yn,Te))throw new K("Invalid capture group name");Yn[Te]=!0,Be[Be.length]=[Te,Dt],$e=!1,Te="";continue}$e?Te+=le:ve+=le}return[ve,Be]})(xe),xe=nn[0],an=nn[1]),En=p(Y(xe,Ne),qe?this:N,ne),(we||Le||an.length)&&(cn=U(En),we&&(cn.dotAll=!0,cn.raw=ne((function(ge){for(var le,ke=ge.length,It=0,ve="",Be=!1;It<=ke;It++)(le=F(ge,It))!=="\\"?Be||le!=="."?(le==="["?Be=!0:le==="]"&&(Be=!1),ve+=le):ve+="[\\s\\S]":ve+=le+F(ge,++It);return ve})(xe),Ve)),Le&&(cn.sticky=!0),an.length&&(cn.groups=an)),xe!==ee)try{m(En,"source",ee===""?"(?:)":ee)}catch{}return En},fe=b(Y),ae=0;fe.length>ae;)B(ne,Y,fe[ae++]);N.constructor=ne,ne.prototype=N,O(u,"RegExp",ne,{constructor:!0})}Q("RegExp")},57465:function(s,c,e){var o=e(43724),u=e(83635),f=e(22195),A=e(62106),p=e(91181).get,m=RegExp.prototype,y=TypeError;o&&u&&A(m,"dotAll",{configurable:!0,get:function(){if(this!==m){if(f(this)==="RegExp")return!!p(this).dotAll;throw new y("Incompatible receiver, RegExp required")}}})},27495:function(s,c,e){var o=e(46518),u=e(57323);o({target:"RegExp",proto:!0,forced:/./.exec!==u},{exec:u})},69479:function(s,c,e){var o=e(44576),u=e(43724),f=e(62106),A=e(67979),p=e(79039),m=o.RegExp,y=m.prototype;u&&p((function(){var b=!0;try{m(".","d")}catch{b=!1}var E={},S="",T=b?"dgimsy":"gimsy",L=function(O,_){Object.defineProperty(E,O,{get:function(){return S+=_,!0}})},I={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var B in b&&(I.hasIndices="d"),I)L(B,I[B]);return Object.getOwnPropertyDescriptor(y,"flags").get.call(E)!==T||S!==T}))&&f(y,"flags",{configurable:!0,get:A})},87745:function(s,c,e){var o=e(43724),u=e(58429).MISSED_STICKY,f=e(22195),A=e(62106),p=e(91181).get,m=RegExp.prototype,y=TypeError;o&&u&&A(m,"sticky",{configurable:!0,get:function(){if(this!==m){if(f(this)==="RegExp")return!!p(this).sticky;throw new y("Incompatible receiver, RegExp required")}}})},90906:function(s,c,e){e(27495);var o,u,f=e(46518),A=e(69565),p=e(94901),m=e(28551),y=e(655),b=(o=!1,(u=/[ac]/).exec=function(){return o=!0,/./.exec.apply(this,arguments)},u.test("abc")===!0&&o),E=/./.test;f({target:"RegExp",proto:!0,forced:!b},{test:function(S){var T=m(this),L=y(S),I=T.exec;if(!p(I))return A(E,T,L);var B=A(I,T,L);return B!==null&&(m(B),!0)}})},38781:function(s,c,e){var o=e(10350).PROPER,u=e(36840),f=e(28551),A=e(655),p=e(79039),m=e(61034),y="toString",b=RegExp.prototype,E=b[y],S=p((function(){return E.call({source:"a",flags:"b"})!=="/a/b"})),T=o&&E.name!==y;(S||T)&&u(b,y,(function(){var L=f(this);return"/"+A(L.source)+"/"+A(m(L))}),{unsafe:!0})},92405:function(s,c,e){e(16468)("Set",(function(o){return function(){return o(this,arguments.length?arguments[0]:void 0)}}),e(86938))},17642:function(s,c,e){var o=e(46518),u=e(83440);o({target:"Set",proto:!0,real:!0,forced:!e(84916)("difference",(function(f){return f.size===0}))},{difference:u})},58004:function(s,c,e){var o=e(46518),u=e(79039),f=e(68750);o({target:"Set",proto:!0,real:!0,forced:!e(84916)("intersection",(function(A){return A.size===2&&A.has(1)&&A.has(2)}))||u((function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"}))},{intersection:f})},33853:function(s,c,e){var o=e(46518),u=e(64449);o({target:"Set",proto:!0,real:!0,forced:!e(84916)("isDisjointFrom",(function(f){return!f}))},{isDisjointFrom:u})},45876:function(s,c,e){var o=e(46518),u=e(53838);o({target:"Set",proto:!0,real:!0,forced:!e(84916)("isSubsetOf",(function(f){return f}))},{isSubsetOf:u})},32475:function(s,c,e){var o=e(46518),u=e(28527);o({target:"Set",proto:!0,real:!0,forced:!e(84916)("isSupersetOf",(function(f){return!f}))},{isSupersetOf:u})},31415:function(s,c,e){e(92405)},15024:function(s,c,e){var o=e(46518),u=e(83650);o({target:"Set",proto:!0,real:!0,forced:!e(84916)("symmetricDifference")},{symmetricDifference:u})},31698:function(s,c,e){var o=e(46518),u=e(44204);o({target:"Set",proto:!0,real:!0,forced:!e(84916)("union")},{union:u})},89907:function(s,c,e){var o=e(46518),u=e(77240);o({target:"String",proto:!0,forced:e(23061)("anchor")},{anchor:function(f){return u(this,"a","name",f)}})},67357:function(s,c,e){var o=e(46518),u=e(79504),f=e(67750),A=e(91291),p=e(655),m=e(79039),y=u("".charAt);o({target:"String",proto:!0,forced:m((function(){return"".at(-2)!=="\uD842"}))},{at:function(b){var E=p(f(this)),S=E.length,T=A(b),L=T>=0?T:S+T;return L<0||L>=S?void 0:y(E,L)}})},11898:function(s,c,e){var o=e(46518),u=e(77240);o({target:"String",proto:!0,forced:e(23061)("big")},{big:function(){return u(this,"big","","")}})},35490:function(s,c,e){var o=e(46518),u=e(77240);o({target:"String",proto:!0,forced:e(23061)("blink")},{blink:function(){return u(this,"blink","","")}})},5745:function(s,c,e){var o=e(46518),u=e(77240);o({target:"String",proto:!0,forced:e(23061)("bold")},{bold:function(){return u(this,"b","","")}})},23860:function(s,c,e){var o=e(46518),u=e(68183).codeAt;o({target:"String",proto:!0},{codePointAt:function(f){return u(this,f)}})},99449:function(s,c,e){var o,u=e(46518),f=e(27476),A=e(77347).f,p=e(18014),m=e(655),y=e(60511),b=e(67750),E=e(41436),S=e(96395),T=f("".slice),L=Math.min,I=E("endsWith");u({target:"String",proto:!0,forced:!(!S&&!I&&(o=A(String.prototype,"endsWith"),o&&!o.writable)||I)},{endsWith:function(B){var O=m(b(this));y(B);var _=arguments.length>1?arguments[1]:void 0,M=O.length,U=_===void 0?M:L(p(_),M),Q=m(B);return T(O,U-Q.length,U)===Q}})},94298:function(s,c,e){var o=e(46518),u=e(77240);o({target:"String",proto:!0,forced:e(23061)("fixed")},{fixed:function(){return u(this,"tt","","")}})},60268:function(s,c,e){var o=e(46518),u=e(77240);o({target:"String",proto:!0,forced:e(23061)("fontcolor")},{fontcolor:function(f){return u(this,"font","color",f)}})},69546:function(s,c,e){var o=e(46518),u=e(77240);o({target:"String",proto:!0,forced:e(23061)("fontsize")},{fontsize:function(f){return u(this,"font","size",f)}})},27337:function(s,c,e){var o=e(46518),u=e(79504),f=e(35610),A=RangeError,p=String.fromCharCode,m=String.fromCodePoint,y=u([].join);o({target:"String",stat:!0,arity:1,forced:!!m&&m.length!==1},{fromCodePoint:function(b){for(var E,S=[],T=arguments.length,L=0;T>L;){if(E=+arguments[L++],f(E,1114111)!==E)throw new A(E+" is not a valid code point");S[L]=E<65536?p(E):p(55296+((E-=65536)>>10),E%1024+56320)}return y(S,"")}})},21699:function(s,c,e){var o=e(46518),u=e(79504),f=e(60511),A=e(67750),p=e(655),m=e(41436),y=u("".indexOf);o({target:"String",proto:!0,forced:!m("includes")},{includes:function(b){return!!~y(p(A(this)),p(f(b)),arguments.length>1?arguments[1]:void 0)}})},42043:function(s,c,e){var o=e(46518),u=e(79504),f=e(67750),A=e(655),p=u("".charCodeAt);o({target:"String",proto:!0},{isWellFormed:function(){for(var m=A(f(this)),y=m.length,b=0;b<y;b++){var E=p(m,b);if((63488&E)==55296&&(E>=56320||++b>=y||(64512&p(m,b))!=56320))return!1}return!0}})},20781:function(s,c,e){var o=e(46518),u=e(77240);o({target:"String",proto:!0,forced:e(23061)("italics")},{italics:function(){return u(this,"i","","")}})},47764:function(s,c,e){var o=e(68183).charAt,u=e(655),f=e(91181),A=e(51088),p=e(62529),m="String Iterator",y=f.set,b=f.getterFor(m);A(String,"String",(function(E){y(this,{type:m,string:u(E),index:0})}),(function(){var E,S=b(this),T=S.string,L=S.index;return L>=T.length?p(void 0,!0):(E=o(T,L),S.index+=E.length,p(E,!1))}))},50778:function(s,c,e){var o=e(46518),u=e(77240);o({target:"String",proto:!0,forced:e(23061)("link")},{link:function(f){return u(this,"a","href",f)}})},28543:function(s,c,e){var o=e(46518),u=e(69565),f=e(27476),A=e(33994),p=e(62529),m=e(67750),y=e(18014),b=e(655),E=e(28551),S=e(64117),T=e(22195),L=e(60788),I=e(61034),B=e(55966),O=e(36840),_=e(79039),M=e(78227),U=e(2293),Q=e(57829),$=e(56682),W=e(91181),X=e(96395),et=M("matchAll"),Y="RegExp String",N=Y+" Iterator",K=W.set,Z=W.getterFor(N),F=RegExp.prototype,q=TypeError,nt=f("".indexOf),ot=f("".matchAll),Ct=!!ot&&!_((function(){ot("a",/./)})),St=A((function(Kt,$t,Vt,ne){K(this,{type:N,regexp:Kt,string:$t,global:Vt,unicode:ne,done:!1})}),Y,(function(){var Kt=Z(this);if(Kt.done)return p(void 0,!0);var $t=Kt.regexp,Vt=Kt.string,ne=$($t,Vt);return ne===null?(Kt.done=!0,p(void 0,!0)):Kt.global?(b(ne[0])===""&&($t.lastIndex=Q(Vt,y($t.lastIndex),Kt.unicode)),p(ne,!1)):(Kt.done=!0,p(ne,!1))})),Tt=function(Kt){var $t,Vt,ne,fe=E(this),ae=b(Kt),xe=U(fe,RegExp),Ne=b(I(fe));return $t=new xe(xe===RegExp?fe.source:fe,Ne),Vt=!!~nt(Ne,"g"),ne=!!~nt(Ne,"u"),$t.lastIndex=y(fe.lastIndex),new St($t,ae,Vt,ne)};o({target:"String",proto:!0,forced:Ct},{matchAll:function(Kt){var $t,Vt,ne,fe,ae=m(this);if(S(Kt)){if(Ct)return ot(ae,Kt)}else{if(L(Kt)&&($t=b(m(I(Kt))),!~nt($t,"g")))throw new q("`.matchAll` does not allow non-global regexes");if(Ct)return ot(ae,Kt);if((ne=B(Kt,et))===void 0&&X&&T(Kt)==="RegExp"&&(ne=Tt),ne)return u(ne,Kt,ae)}return Vt=b(ae),fe=new RegExp(Kt,"g"),X?u(Tt,fe,Vt):fe[et](Vt)}}),X||et in F||O(F,et,Tt)},71761:function(s,c,e){var o=e(69565),u=e(89228),f=e(28551),A=e(64117),p=e(18014),m=e(655),y=e(67750),b=e(55966),E=e(57829),S=e(56682);u("match",(function(T,L,I){return[function(B){var O=y(this),_=A(B)?void 0:b(B,T);return _?o(_,B,O):new RegExp(B)[T](m(O))},function(B){var O=f(this),_=m(B),M=I(L,O,_);if(M.done)return M.value;if(!O.global)return S(O,_);var U=O.unicode;O.lastIndex=0;for(var Q,$=[],W=0;(Q=S(O,_))!==null;){var X=m(Q[0]);$[W]=X,X===""&&(O.lastIndex=E(_,p(O.lastIndex),U)),W++}return W===0?null:$}]}))},35701:function(s,c,e){var o=e(46518),u=e(60533).end;o({target:"String",proto:!0,forced:e(83063)},{padEnd:function(f){return u(this,f,arguments.length>1?arguments[1]:void 0)}})},68156:function(s,c,e){var o=e(46518),u=e(60533).start;o({target:"String",proto:!0,forced:e(83063)},{padStart:function(f){return u(this,f,arguments.length>1?arguments[1]:void 0)}})},85906:function(s,c,e){var o=e(46518),u=e(79504),f=e(25397),A=e(48981),p=e(655),m=e(26198),y=u([].push),b=u([].join);o({target:"String",stat:!0},{raw:function(E){var S=f(A(E).raw),T=m(S);if(!T)return"";for(var L=arguments.length,I=[],B=0;;){if(y(I,p(S[B++])),B===T)return b(I,"");B<L&&y(I,p(arguments[B]))}}})},42781:function(s,c,e){e(46518)({target:"String",proto:!0},{repeat:e(72333)})},79978:function(s,c,e){var o=e(46518),u=e(69565),f=e(79504),A=e(67750),p=e(94901),m=e(64117),y=e(60788),b=e(655),E=e(55966),S=e(61034),T=e(2478),L=e(78227),I=e(96395),B=L("replace"),O=TypeError,_=f("".indexOf),M=f("".replace),U=f("".slice),Q=Math.max;o({target:"String",proto:!0},{replaceAll:function($,W){var X,et,Y,N,K,Z,F,q,nt,ot,Ct=A(this),St=0,Tt="";if(!m($)){if((X=y($))&&(et=b(A(S($))),!~_(et,"g")))throw new O("`.replaceAll` does not allow non-global regexes");if(Y=E($,B))return u(Y,$,Ct,W);if(I&&X)return M(b(Ct),$,W)}for(N=b(Ct),K=b($),(Z=p(W))||(W=b(W)),F=K.length,q=Q(1,F),nt=_(N,K);nt!==-1;)ot=Z?b(W(K,nt,N)):T(K,N,nt,[],void 0,W),Tt+=U(N,St,nt)+ot,St=nt+F,nt=nt+q>N.length?-1:_(N,K,nt+q);return St<N.length&&(Tt+=U(N,St)),Tt}})},25440:function(s,c,e){var o=e(18745),u=e(69565),f=e(79504),A=e(89228),p=e(79039),m=e(28551),y=e(94901),b=e(64117),E=e(91291),S=e(18014),T=e(655),L=e(67750),I=e(57829),B=e(55966),O=e(2478),_=e(56682),M=e(78227)("replace"),U=Math.max,Q=Math.min,$=f([].concat),W=f([].push),X=f("".indexOf),et=f("".slice),Y="a".replace(/./,"$0")==="$0",N=!!/./[M]&&/./[M]("a","$0")==="";A("replace",(function(K,Z,F){var q=N?"$":"$0";return[function(nt,ot){var Ct=L(this),St=b(nt)?void 0:B(nt,M);return St?u(St,nt,Ct,ot):u(Z,T(Ct),nt,ot)},function(nt,ot){var Ct=m(this),St=T(nt);if(typeof ot=="string"&&X(ot,q)===-1&&X(ot,"$<")===-1){var Tt=F(Z,Ct,St,ot);if(Tt.done)return Tt.value}var Kt=y(ot);Kt||(ot=T(ot));var $t,Vt=Ct.global;Vt&&($t=Ct.unicode,Ct.lastIndex=0);for(var ne,fe=[];(ne=_(Ct,St))!==null&&(W(fe,ne),Vt);)T(ne[0])===""&&(Ct.lastIndex=I(St,S(Ct.lastIndex),$t));for(var ae,xe="",Ne=0,Ve=0;Ve<fe.length;Ve++){for(var we,Le=T((ne=fe[Ve])[0]),nn=U(Q(E(ne.index),St.length),0),En=[],cn=1;cn<ne.length;cn++)W(En,(ae=ne[cn])===void 0?ae:String(ae));var qe=ne.groups;if(Kt){var Ke=$([Le],En,nn,St);qe!==void 0&&W(Ke,qe),we=T(o(ot,void 0,Ke))}else we=O(Le,St,nn,En,qe,ot);nn>=Ne&&(xe+=et(St,Ne,nn)+we,Ne=nn+Le.length)}return xe+et(St,Ne)}]}),!!p((function(){var K=/./;return K.exec=function(){var Z=[];return Z.groups={a:"7"},Z},"".replace(K,"$<a>")!=="7"}))||!Y||N)},5746:function(s,c,e){var o=e(69565),u=e(89228),f=e(28551),A=e(64117),p=e(67750),m=e(3470),y=e(655),b=e(55966),E=e(56682);u("search",(function(S,T,L){return[function(I){var B=p(this),O=A(I)?void 0:b(I,S);return O?o(O,I,B):new RegExp(I)[S](y(B))},function(I){var B=f(this),O=y(I),_=L(T,B,O);if(_.done)return _.value;var M=B.lastIndex;m(M,0)||(B.lastIndex=0);var U=E(B,O);return m(B.lastIndex,M)||(B.lastIndex=M),U===null?-1:U.index}]}))},89195:function(s,c,e){var o=e(46518),u=e(77240);o({target:"String",proto:!0,forced:e(23061)("small")},{small:function(){return u(this,"small","","")}})},90744:function(s,c,e){var o=e(69565),u=e(79504),f=e(89228),A=e(28551),p=e(64117),m=e(67750),y=e(2293),b=e(57829),E=e(18014),S=e(655),T=e(55966),L=e(56682),I=e(58429),B=e(79039),O=I.UNSUPPORTED_Y,_=Math.min,M=u([].push),U=u("".slice),Q=!B((function(){var W=/(?:)/,X=W.exec;W.exec=function(){return X.apply(this,arguments)};var et="ab".split(W);return et.length!==2||et[0]!=="a"||et[1]!=="b"})),$="abbc".split(/(b)*/)[1]==="c"||"test".split(/(?:)/,-1).length!==4||"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||".".split(/()()/).length>1||"".split(/.?/).length;f("split",(function(W,X,et){var Y="0".split(void 0,0).length?function(N,K){return N===void 0&&K===0?[]:o(X,this,N,K)}:X;return[function(N,K){var Z=m(this),F=p(N)?void 0:T(N,W);return F?o(F,N,Z,K):o(Y,S(Z),N,K)},function(N,K){var Z=A(this),F=S(N);if(!$){var q=et(Y,Z,F,K,Y!==X);if(q.done)return q.value}var nt=y(Z,RegExp),ot=Z.unicode,Ct=(Z.ignoreCase?"i":"")+(Z.multiline?"m":"")+(Z.unicode?"u":"")+(O?"g":"y"),St=new nt(O?"^(?:"+Z.source+")":Z,Ct),Tt=K===void 0?4294967295:K>>>0;if(Tt===0)return[];if(F.length===0)return L(St,F)===null?[F]:[];for(var Kt=0,$t=0,Vt=[];$t<F.length;){St.lastIndex=O?0:$t;var ne,fe=L(St,O?U(F,$t):F);if(fe===null||(ne=_(E(St.lastIndex+(O?$t:0)),F.length))===Kt)$t=b(F,$t,ot);else{if(M(Vt,U(F,Kt,$t)),Vt.length===Tt)return Vt;for(var ae=1;ae<=fe.length-1;ae++)if(M(Vt,fe[ae]),Vt.length===Tt)return Vt;$t=Kt=ne}}return M(Vt,U(F,Kt)),Vt}]}),$||!Q,O)},11392:function(s,c,e){var o,u=e(46518),f=e(27476),A=e(77347).f,p=e(18014),m=e(655),y=e(60511),b=e(67750),E=e(41436),S=e(96395),T=f("".slice),L=Math.min,I=E("startsWith");u({target:"String",proto:!0,forced:!(!S&&!I&&(o=A(String.prototype,"startsWith"),o&&!o.writable)||I)},{startsWith:function(B){var O=m(b(this));y(B);var _=p(L(arguments.length>1?arguments[1]:void 0,O.length)),M=m(B);return T(O,_,_+M.length)===M}})},46276:function(s,c,e){var o=e(46518),u=e(77240);o({target:"String",proto:!0,forced:e(23061)("strike")},{strike:function(){return u(this,"strike","","")}})},48718:function(s,c,e){var o=e(46518),u=e(77240);o({target:"String",proto:!0,forced:e(23061)("sub")},{sub:function(){return u(this,"sub","","")}})},50375:function(s,c,e){var o=e(46518),u=e(79504),f=e(67750),A=e(91291),p=e(655),m=u("".slice),y=Math.max,b=Math.min;o({target:"String",proto:!0,forced:!"".substr||"ab".substr(-1)!=="b"},{substr:function(E,S){var T,L,I=p(f(this)),B=I.length,O=A(E);return O===1/0&&(O=0),O<0&&(O=y(B+O,0)),(T=S===void 0?B:A(S))<=0||T===1/0||O>=(L=b(O+T,B))?"":m(I,O,L)}})},16308:function(s,c,e){var o=e(46518),u=e(77240);o({target:"String",proto:!0,forced:e(23061)("sup")},{sup:function(){return u(this,"sup","","")}})},67438:function(s,c,e){var o=e(46518),u=e(69565),f=e(79504),A=e(67750),p=e(655),m=e(79039),y=Array,b=f("".charAt),E=f("".charCodeAt),S=f([].join),T="".toWellFormed,L=T&&m((function(){return u(T,1)!=="1"}));o({target:"String",proto:!0,forced:L},{toWellFormed:function(){var I=p(A(this));if(L)return u(T,I);for(var B=I.length,O=y(B),_=0;_<B;_++){var M=E(I,_);(63488&M)!=55296?O[_]=b(I,_):M>=56320||_+1>=B||(64512&E(I,_+1))!=56320?O[_]="":(O[_]=b(I,_),O[++_]=b(I,_))}return S(O,"")}})},39202:function(s,c,e){e(33313);var o=e(46518),u=e(18866);o({target:"String",proto:!0,name:"trimEnd",forced:"".trimEnd!==u},{trimEnd:u})},58934:function(s,c,e){var o=e(46518),u=e(53487);o({target:"String",proto:!0,name:"trimStart",forced:"".trimLeft!==u},{trimLeft:u})},33313:function(s,c,e){var o=e(46518),u=e(18866);o({target:"String",proto:!0,name:"trimEnd",forced:"".trimRight!==u},{trimRight:u})},43359:function(s,c,e){e(58934);var o=e(46518),u=e(53487);o({target:"String",proto:!0,name:"trimStart",forced:"".trimStart!==u},{trimStart:u})},42762:function(s,c,e){var o=e(46518),u=e(43802).trim;o({target:"String",proto:!0,forced:e(60706)("trim")},{trim:function(){return u(this)}})},66412:function(s,c,e){e(70511)("asyncIterator")},6761:function(s,c,e){var o=e(46518),u=e(44576),f=e(69565),A=e(79504),p=e(96395),m=e(43724),y=e(4495),b=e(79039),E=e(39297),S=e(1625),T=e(28551),L=e(25397),I=e(56969),B=e(655),O=e(6980),_=e(2360),M=e(71072),U=e(38480),Q=e(10298),$=e(33717),W=e(77347),X=e(24913),et=e(96801),Y=e(48773),N=e(36840),K=e(62106),Z=e(25745),F=e(66119),q=e(30421),nt=e(33392),ot=e(78227),Ct=e(1951),St=e(70511),Tt=e(58242),Kt=e(10687),$t=e(91181),Vt=e(59213).forEach,ne=F("hidden"),fe="Symbol",ae="prototype",xe=$t.set,Ne=$t.getterFor(fe),Ve=Object[ae],we=u.Symbol,Le=we&&we[ae],nn=u.RangeError,En=u.TypeError,cn=u.QObject,qe=W.f,Ke=X.f,Dn=Q.f,an=Y.f,ee=A([].push),ge=Z("symbols"),le=Z("op-symbols"),ke=Z("wks"),It=!cn||!cn[ae]||!cn[ae].findChild,ve=function(ie,Me,ye){var Fe=qe(Ve,Me);Fe&&delete Ve[Me],Ke(ie,Me,ye),Fe&&ie!==Ve&&Ke(Ve,Me,Fe)},Be=m&&b((function(){return _(Ke({},"a",{get:function(){return Ke(this,"a",{value:7}).a}})).a!==7}))?ve:Ke,Yn=function(ie,Me){var ye=ge[ie]=_(Le);return xe(ye,{type:fe,tag:ie,description:Me}),m||(ye.description=Me),ye},Ue=function(ie,Me,ye){ie===Ve&&Ue(le,Me,ye),T(ie);var Fe=I(Me);return T(ye),E(ge,Fe)?(ye.enumerable?(E(ie,ne)&&ie[ne][Fe]&&(ie[ne][Fe]=!1),ye=_(ye,{enumerable:O(0,!1)})):(E(ie,ne)||Ke(ie,ne,O(1,_(null))),ie[ne][Fe]=!0),Be(ie,Fe,ye)):Ke(ie,Fe,ye)},$e=function(ie,Me){T(ie);var ye=L(Me),Fe=M(ye).concat(hn(ye));return Vt(Fe,(function(Xe){m&&!f(Dt,ye,Xe)||Ue(ie,Xe,ye[Xe])})),ie},Dt=function(ie){var Me=I(ie),ye=f(an,this,Me);return!(this===Ve&&E(ge,Me)&&!E(le,Me))&&(!(ye||!E(this,Me)||!E(ge,Me)||E(this,ne)&&this[ne][Me])||ye)},Te=function(ie,Me){var ye=L(ie),Fe=I(Me);if(ye!==Ve||!E(ge,Fe)||E(le,Fe)){var Xe=qe(ye,Fe);return!Xe||!E(ge,Fe)||E(ye,ne)&&ye[ne][Fe]||(Xe.enumerable=!0),Xe}},on=function(ie){var Me=Dn(L(ie)),ye=[];return Vt(Me,(function(Fe){E(ge,Fe)||E(q,Fe)||ee(ye,Fe)})),ye},hn=function(ie){var Me=ie===Ve,ye=Dn(Me?le:L(ie)),Fe=[];return Vt(ye,(function(Xe){!E(ge,Xe)||Me&&!E(Ve,Xe)||ee(Fe,ge[Xe])})),Fe};y||(we=function(){if(S(Le,this))throw new En("Symbol is not a constructor");var ie=arguments.length&&arguments[0]!==void 0?B(arguments[0]):void 0,Me=nt(ie),ye=function(Fe){var Xe=this===void 0?u:this;Xe===Ve&&f(ye,le,Fe),E(Xe,ne)&&E(Xe[ne],Me)&&(Xe[ne][Me]=!1);var pn=O(1,Fe);try{Be(Xe,Me,pn)}catch(un){if(!(un instanceof nn))throw un;ve(Xe,Me,pn)}};return m&&It&&Be(Ve,Me,{configurable:!0,set:ye}),Yn(Me,ie)},N(Le=we[ae],"toString",(function(){return Ne(this).tag})),N(we,"withoutSetter",(function(ie){return Yn(nt(ie),ie)})),Y.f=Dt,X.f=Ue,et.f=$e,W.f=Te,U.f=Q.f=on,$.f=hn,Ct.f=function(ie){return Yn(ot(ie),ie)},m&&(K(Le,"description",{configurable:!0,get:function(){return Ne(this).description}}),p||N(Ve,"propertyIsEnumerable",Dt,{unsafe:!0}))),o({global:!0,constructor:!0,wrap:!0,forced:!y,sham:!y},{Symbol:we}),Vt(M(ke),(function(ie){St(ie)})),o({target:fe,stat:!0,forced:!y},{useSetter:function(){It=!0},useSimple:function(){It=!1}}),o({target:"Object",stat:!0,forced:!y,sham:!m},{create:function(ie,Me){return Me===void 0?_(ie):$e(_(ie),Me)},defineProperty:Ue,defineProperties:$e,getOwnPropertyDescriptor:Te}),o({target:"Object",stat:!0,forced:!y},{getOwnPropertyNames:on}),Tt(),Kt(we,fe),q[ne]=!0},89463:function(s,c,e){var o=e(46518),u=e(43724),f=e(44576),A=e(79504),p=e(39297),m=e(94901),y=e(1625),b=e(655),E=e(62106),S=e(77740),T=f.Symbol,L=T&&T.prototype;if(u&&m(T)&&(!("description"in L)||T().description!==void 0)){var I={},B=function(){var W=arguments.length<1||arguments[0]===void 0?void 0:b(arguments[0]),X=y(L,this)?new T(W):W===void 0?T():T(W);return W===""&&(I[X]=!0),X};S(B,T),B.prototype=L,L.constructor=B;var O=String(T("description detection"))==="Symbol(description detection)",_=A(L.valueOf),M=A(L.toString),U=/^Symbol\((.*)\)[^)]+$/,Q=A("".replace),$=A("".slice);E(L,"description",{configurable:!0,get:function(){var W=_(this);if(p(I,W))return"";var X=M(W),et=O?$(X,7,-1):Q(X,U,"$1");return et===""?void 0:et}}),o({global:!0,constructor:!0,forced:!0},{Symbol:B})}},81510:function(s,c,e){var o=e(46518),u=e(97751),f=e(39297),A=e(655),p=e(25745),m=e(91296),y=p("string-to-symbol-registry"),b=p("symbol-to-string-registry");o({target:"Symbol",stat:!0,forced:!m},{for:function(E){var S=A(E);if(f(y,S))return y[S];var T=u("Symbol")(S);return y[S]=T,b[T]=S,T}})},60193:function(s,c,e){e(70511)("hasInstance")},92168:function(s,c,e){e(70511)("isConcatSpreadable")},2259:function(s,c,e){e(70511)("iterator")},52675:function(s,c,e){e(6761),e(81510),e(97812),e(33110),e(49773)},97812:function(s,c,e){var o=e(46518),u=e(39297),f=e(10757),A=e(16823),p=e(25745),m=e(91296),y=p("symbol-to-string-registry");o({target:"Symbol",stat:!0,forced:!m},{keyFor:function(b){if(!f(b))throw new TypeError(A(b)+" is not a symbol");if(u(y,b))return y[b]}})},83142:function(s,c,e){e(70511)("matchAll")},86964:function(s,c,e){e(70511)("match")},83237:function(s,c,e){e(70511)("replace")},61833:function(s,c,e){e(70511)("search")},67947:function(s,c,e){e(70511)("species")},31073:function(s,c,e){e(70511)("split")},45700:function(s,c,e){var o=e(70511),u=e(58242);o("toPrimitive"),u()},78125:function(s,c,e){var o=e(97751),u=e(70511),f=e(10687);u("toStringTag"),f(o("Symbol"),"Symbol")},20326:function(s,c,e){e(70511)("unscopables")},48140:function(s,c,e){var o=e(94644),u=e(26198),f=e(91291),A=o.aTypedArray;(0,o.exportTypedArrayMethod)("at",(function(p){var m=A(this),y=u(m),b=f(p),E=b>=0?b:y+b;return E<0||E>=y?void 0:m[E]}))},81630:function(s,c,e){var o=e(79504),u=e(94644),f=o(e(57029)),A=u.aTypedArray;(0,u.exportTypedArrayMethod)("copyWithin",(function(p,m){return f(A(this),p,m,arguments.length>2?arguments[2]:void 0)}))},72170:function(s,c,e){var o=e(94644),u=e(59213).every,f=o.aTypedArray;(0,o.exportTypedArrayMethod)("every",(function(A){return u(f(this),A,arguments.length>1?arguments[1]:void 0)}))},75044:function(s,c,e){var o=e(94644),u=e(84373),f=e(75854),A=e(36955),p=e(69565),m=e(79504),y=e(79039),b=o.aTypedArray,E=o.exportTypedArrayMethod,S=m("".slice);E("fill",(function(T){var L=arguments.length;b(this);var I=S(A(this),0,3)==="Big"?f(T):+T;return p(u,this,I,L>1?arguments[1]:void 0,L>2?arguments[2]:void 0)}),y((function(){var T=0;return new Int8Array(2).fill({valueOf:function(){return T++}}),T!==1})))},69539:function(s,c,e){var o=e(94644),u=e(59213).filter,f=e(29948),A=o.aTypedArray;(0,o.exportTypedArrayMethod)("filter",(function(p){var m=u(A(this),p,arguments.length>1?arguments[1]:void 0);return f(this,m)}))},89955:function(s,c,e){var o=e(94644),u=e(59213).findIndex,f=o.aTypedArray;(0,o.exportTypedArrayMethod)("findIndex",(function(A){return u(f(this),A,arguments.length>1?arguments[1]:void 0)}))},91134:function(s,c,e){var o=e(94644),u=e(43839).findLastIndex,f=o.aTypedArray;(0,o.exportTypedArrayMethod)("findLastIndex",(function(A){return u(f(this),A,arguments.length>1?arguments[1]:void 0)}))},21903:function(s,c,e){var o=e(94644),u=e(43839).findLast,f=o.aTypedArray;(0,o.exportTypedArrayMethod)("findLast",(function(A){return u(f(this),A,arguments.length>1?arguments[1]:void 0)}))},31694:function(s,c,e){var o=e(94644),u=e(59213).find,f=o.aTypedArray;(0,o.exportTypedArrayMethod)("find",(function(A){return u(f(this),A,arguments.length>1?arguments[1]:void 0)}))},34594:function(s,c,e){e(15823)("Float32",(function(o){return function(u,f,A){return o(this,u,f,A)}}))},29833:function(s,c,e){e(15823)("Float64",(function(o){return function(u,f,A){return o(this,u,f,A)}}))},33206:function(s,c,e){var o=e(94644),u=e(59213).forEach,f=o.aTypedArray;(0,o.exportTypedArrayMethod)("forEach",(function(A){u(f(this),A,arguments.length>1?arguments[1]:void 0)}))},48345:function(s,c,e){var o=e(72805);(0,e(94644).exportTypedArrayStaticMethod)("from",e(43251),o)},44496:function(s,c,e){var o=e(94644),u=e(19617).includes,f=o.aTypedArray;(0,o.exportTypedArrayMethod)("includes",(function(A){return u(f(this),A,arguments.length>1?arguments[1]:void 0)}))},66651:function(s,c,e){var o=e(94644),u=e(19617).indexOf,f=o.aTypedArray;(0,o.exportTypedArrayMethod)("indexOf",(function(A){return u(f(this),A,arguments.length>1?arguments[1]:void 0)}))},72107:function(s,c,e){e(15823)("Int16",(function(o){return function(u,f,A){return o(this,u,f,A)}}))},95477:function(s,c,e){e(15823)("Int32",(function(o){return function(u,f,A){return o(this,u,f,A)}}))},46594:function(s,c,e){e(15823)("Int8",(function(o){return function(u,f,A){return o(this,u,f,A)}}))},12887:function(s,c,e){var o=e(44576),u=e(79039),f=e(79504),A=e(94644),p=e(23792),m=e(78227)("iterator"),y=o.Uint8Array,b=f(p.values),E=f(p.keys),S=f(p.entries),T=A.aTypedArray,L=A.exportTypedArrayMethod,I=y&&y.prototype,B=!u((function(){I[m].call([1])})),O=!!I&&I.values&&I[m]===I.values&&I.values.name==="values",_=function(){return b(T(this))};L("entries",(function(){return S(T(this))}),B),L("keys",(function(){return E(T(this))}),B),L("values",_,B||!O,{name:"values"}),L(m,_,B||!O,{name:"values"})},19369:function(s,c,e){var o=e(94644),u=e(79504),f=o.aTypedArray,A=o.exportTypedArrayMethod,p=u([].join);A("join",(function(m){return p(f(this),m)}))},66812:function(s,c,e){var o=e(94644),u=e(18745),f=e(8379),A=o.aTypedArray;(0,o.exportTypedArrayMethod)("lastIndexOf",(function(p){var m=arguments.length;return u(f,A(this),m>1?[p,arguments[1]]:[p])}))},8995:function(s,c,e){var o=e(94644),u=e(59213).map,f=o.aTypedArray,A=o.getTypedArrayConstructor;(0,o.exportTypedArrayMethod)("map",(function(p){return u(f(this),p,arguments.length>1?arguments[1]:void 0,(function(m,y){return new(A(m))(y)}))}))},52568:function(s,c,e){var o=e(94644),u=e(72805),f=o.aTypedArrayConstructor;(0,o.exportTypedArrayStaticMethod)("of",(function(){for(var A=0,p=arguments.length,m=new(f(this))(p);p>A;)m[A]=arguments[A++];return m}),u)},36072:function(s,c,e){var o=e(94644),u=e(80926).right,f=o.aTypedArray;(0,o.exportTypedArrayMethod)("reduceRight",(function(A){var p=arguments.length;return u(f(this),A,p,p>1?arguments[1]:void 0)}))},31575:function(s,c,e){var o=e(94644),u=e(80926).left,f=o.aTypedArray;(0,o.exportTypedArrayMethod)("reduce",(function(A){var p=arguments.length;return u(f(this),A,p,p>1?arguments[1]:void 0)}))},88747:function(s,c,e){var o=e(94644),u=o.aTypedArray,f=o.exportTypedArrayMethod,A=Math.floor;f("reverse",(function(){for(var p,m=this,y=u(m).length,b=A(y/2),E=0;E<b;)p=m[E],m[E++]=m[--y],m[y]=p;return m}))},28845:function(s,c,e){var o=e(44576),u=e(69565),f=e(94644),A=e(26198),p=e(58229),m=e(48981),y=e(79039),b=o.RangeError,E=o.Int8Array,S=E&&E.prototype,T=S&&S.set,L=f.aTypedArray,I=f.exportTypedArrayMethod,B=!y((function(){var _=new Uint8ClampedArray(2);return u(T,_,{length:1,0:3},1),_[1]!==3})),O=B&&f.NATIVE_ARRAY_BUFFER_VIEWS&&y((function(){var _=new E(2);return _.set(1),_.set("2",1),_[0]!==0||_[1]!==2}));I("set",(function(_){L(this);var M=p(arguments.length>1?arguments[1]:void 0,1),U=m(_);if(B)return u(T,this,U,M);var Q=this.length,$=A(U),W=0;if($+M>Q)throw new b("Wrong length");for(;W<$;)this[M+W]=U[W++]}),!B||O)},29423:function(s,c,e){var o=e(94644),u=e(79039),f=e(67680),A=o.aTypedArray,p=o.getTypedArrayConstructor;(0,o.exportTypedArrayMethod)("slice",(function(m,y){for(var b=f(A(this),m,y),E=p(this),S=0,T=b.length,L=new E(T);T>S;)L[S]=b[S++];return L}),u((function(){new Int8Array(1).slice()})))},57301:function(s,c,e){var o=e(94644),u=e(59213).some,f=o.aTypedArray;(0,o.exportTypedArrayMethod)("some",(function(A){return u(f(this),A,arguments.length>1?arguments[1]:void 0)}))},373:function(s,c,e){var o=e(44576),u=e(27476),f=e(79039),A=e(79306),p=e(74488),m=e(94644),y=e(13709),b=e(13763),E=e(39519),S=e(3607),T=m.aTypedArray,L=m.exportTypedArrayMethod,I=o.Uint16Array,B=I&&u(I.prototype.sort),O=!(!B||f((function(){B(new I(2),null)}))&&f((function(){B(new I(2),{})}))),_=!!B&&!f((function(){if(E)return E<74;if(y)return y<67;if(b)return!0;if(S)return S<602;var M,U,Q=new I(516),$=Array(516);for(M=0;M<516;M++)U=M%4,Q[M]=515-M,$[M]=M-2*U+3;for(B(Q,(function(W,X){return(W/4|0)-(X/4|0)})),M=0;M<516;M++)if(Q[M]!==$[M])return!0}));L("sort",(function(M){return M!==void 0&&A(M),_?B(this,M):p(T(this),(function(U){return function(Q,$){return U!==void 0?+U(Q,$)||0:$!=$?-1:Q!=Q?1:Q===0&&$===0?1/Q>0&&1/$<0?1:-1:Q>$}})(M))}),!_||O)},86614:function(s,c,e){var o=e(94644),u=e(18014),f=e(35610),A=o.aTypedArray,p=o.getTypedArrayConstructor;(0,o.exportTypedArrayMethod)("subarray",(function(m,y){var b=A(this),E=b.length,S=f(m,E);return new(p(b))(b.buffer,b.byteOffset+S*b.BYTES_PER_ELEMENT,u((y===void 0?E:f(y,E))-S))}))},41405:function(s,c,e){var o=e(44576),u=e(18745),f=e(94644),A=e(79039),p=e(67680),m=o.Int8Array,y=f.aTypedArray,b=f.exportTypedArrayMethod,E=[].toLocaleString,S=!!m&&A((function(){E.call(new m(1))}));b("toLocaleString",(function(){return u(E,S?p(y(this)):y(this),p(arguments))}),A((function(){return[1,2].toLocaleString()!==new m([1,2]).toLocaleString()}))||!A((function(){m.prototype.toLocaleString.call([1,2])})))},37467:function(s,c,e){var o=e(37628),u=e(94644),f=u.aTypedArray,A=u.exportTypedArrayMethod,p=u.getTypedArrayConstructor;A("toReversed",(function(){return o(f(this),p(this))}))},44732:function(s,c,e){var o=e(94644),u=e(79504),f=e(79306),A=e(35370),p=o.aTypedArray,m=o.getTypedArrayConstructor,y=o.exportTypedArrayMethod,b=u(o.TypedArrayPrototype.sort);y("toSorted",(function(E){E!==void 0&&f(E);var S=p(this),T=A(m(S),S);return b(T,E)}))},33684:function(s,c,e){var o=e(94644).exportTypedArrayMethod,u=e(79039),f=e(44576),A=e(79504),p=f.Uint8Array,m=p&&p.prototype||{},y=[].toString,b=A([].join);u((function(){y.call({})}))&&(y=function(){return b(this)});var E=m.toString!==y;o("toString",y,E)},3690:function(s,c,e){e(15823)("Uint16",(function(o){return function(u,f,A){return o(this,u,f,A)}}))},61740:function(s,c,e){e(15823)("Uint32",(function(o){return function(u,f,A){return o(this,u,f,A)}}))},21489:function(s,c,e){e(15823)("Uint8",(function(o){return function(u,f,A){return o(this,u,f,A)}}))},22134:function(s,c,e){e(15823)("Uint8",(function(o){return function(u,f,A){return o(this,u,f,A)}}),!0)},79577:function(s,c,e){var o=e(39928),u=e(94644),f=e(18727),A=e(91291),p=e(75854),m=u.aTypedArray,y=u.getTypedArrayConstructor,b=u.exportTypedArrayMethod,E=!!(function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(S){return S===8}})();b("with",function(S,T){var L=m(this),I=A(S),B=f(L)?p(T):+T;return o(L,y(L),I,B)},!E)},88267:function(s,c,e){var o=e(46518),u=e(79504),f=e(655),A=String.fromCharCode,p=u("".charAt),m=u(/./.exec),y=u("".slice),b=/^[\da-f]{2}$/i,E=/^[\da-f]{4}$/i;o({global:!0},{unescape:function(S){for(var T,L,I=f(S),B="",O=I.length,_=0;_<O;){if((T=p(I,_++))==="%"){if(p(I,_)==="u"){if(L=y(I,_+1,_+5),m(E,L)){B+=A(parseInt(L,16)),_+=5;continue}}else if(L=y(I,_,_+2),m(b,L)){B+=A(parseInt(L,16)),_+=2;continue}}B+=T}return B}})},65746:function(s,c,e){var o,u=e(92744),f=e(44576),A=e(79504),p=e(56279),m=e(3451),y=e(16468),b=e(91625),E=e(20034),S=e(91181).enforce,T=e(79039),L=e(58622),I=Object,B=Array.isArray,O=I.isExtensible,_=I.isFrozen,M=I.isSealed,U=I.freeze,Q=I.seal,$=!f.ActiveXObject&&"ActiveXObject"in f,W=function(F){return function(){return F(this,arguments.length?arguments[0]:void 0)}},X=y("WeakMap",W,b),et=X.prototype,Y=A(et.set);if(L)if($){o=b.getConstructor(W,"WeakMap",!0),m.enable();var N=A(et.delete),K=A(et.has),Z=A(et.get);p(et,{delete:function(F){if(E(F)&&!O(F)){var q=S(this);return q.frozen||(q.frozen=new o),N(this,F)||q.frozen.delete(F)}return N(this,F)},has:function(F){if(E(F)&&!O(F)){var q=S(this);return q.frozen||(q.frozen=new o),K(this,F)||q.frozen.has(F)}return K(this,F)},get:function(F){if(E(F)&&!O(F)){var q=S(this);return q.frozen||(q.frozen=new o),K(this,F)?Z(this,F):q.frozen.get(F)}return Z(this,F)},set:function(F,q){if(E(F)&&!O(F)){var nt=S(this);nt.frozen||(nt.frozen=new o),K(this,F)?Y(this,F,q):nt.frozen.set(F,q)}else Y(this,F,q);return this}})}else u&&T((function(){var F=U([]);return Y(new X,F,1),!_(F)}))&&p(et,{set:function(F,q){var nt;return B(F)&&(_(F)?nt=U:M(F)&&(nt=Q)),Y(this,F,q),nt&&nt(F),this}})},73772:function(s,c,e){e(65746)},5240:function(s,c,e){e(16468)("WeakSet",(function(o){return function(){return o(this,arguments.length?arguments[0]:void 0)}}),e(91625))},30958:function(s,c,e){e(5240)},2945:function(s,c,e){var o=e(46518),u=e(44576),f=e(97751),A=e(79504),p=e(69565),m=e(79039),y=e(655),b=e(22812),E=e(92804).c2i,S=/[^\d+/a-z]/i,T=/[\t\n\f\r ]+/g,L=/[=]{1,2}$/,I=f("atob"),B=String.fromCharCode,O=A("".charAt),_=A("".replace),M=A(S.exec),U=!!I&&!m((function(){return I("aGk=")!=="hi"})),Q=U&&m((function(){return I(" ")!==""})),$=U&&!m((function(){I("a")})),W=U&&!m((function(){I()})),X=U&&I.length!==1;o({global:!0,bind:!0,enumerable:!0,forced:!U||Q||$||W||X},{atob:function(et){if(b(arguments.length,1),U&&!Q&&!$)return p(I,u,et);var Y,N,K,Z=_(y(et),T,""),F="",q=0,nt=0;if(Z.length%4==0&&(Z=_(Z,L,"")),(Y=Z.length)%4==1||M(S,Z))throw new(f("DOMException"))("The string is not correctly encoded","InvalidCharacterError");for(;q<Y;)N=O(Z,q++),K=nt%4?64*K+E[N]:E[N],nt++%4&&(F+=B(255&K>>(-2*nt&6)));return F}})},42207:function(s,c,e){var o=e(46518),u=e(44576),f=e(97751),A=e(79504),p=e(69565),m=e(79039),y=e(655),b=e(22812),E=e(92804).i2c,S=f("btoa"),T=A("".charAt),L=A("".charCodeAt),I=!!S&&!m((function(){return S("hi")!=="aGk="})),B=I&&!m((function(){S()})),O=I&&m((function(){return S(null)!=="bnVsbA=="})),_=I&&S.length!==1;o({global:!0,bind:!0,enumerable:!0,forced:!I||B||O||_},{btoa:function(M){if(b(arguments.length,1),I)return p(S,u,y(M));for(var U,Q,$=y(M),W="",X=0,et=E;T($,X)||(et="=",X%1);){if((Q=L($,X+=.75))>255)throw new(f("DOMException"))("The string contains characters outside of the Latin1 range","InvalidCharacterError");W+=T(et,63&(U=U<<8|Q)>>8-X%1*8)}return W}})},86368:function(s,c,e){var o=e(46518),u=e(44576),f=e(59225).clear;o({global:!0,bind:!0,enumerable:!0,forced:u.clearImmediate!==f},{clearImmediate:f})},23500:function(s,c,e){var o=e(44576),u=e(67400),f=e(79296),A=e(90235),p=e(66699),m=function(b){if(b&&b.forEach!==A)try{p(b,"forEach",A)}catch{b.forEach=A}};for(var y in u)u[y]&&m(o[y]&&o[y].prototype);m(f)},62953:function(s,c,e){var o=e(44576),u=e(67400),f=e(79296),A=e(23792),p=e(66699),m=e(10687),y=e(78227)("iterator"),b=A.values,E=function(T,L){if(T){if(T[y]!==b)try{p(T,y,b)}catch{T[y]=b}if(m(T,L,!0),u[L]){for(var I in A)if(T[I]!==A[I])try{p(T,I,A[I])}catch{T[I]=A[I]}}}};for(var S in u)E(o[S]&&o[S].prototype,S);E(f,"DOMTokenList")},55815:function(s,c,e){var o=e(46518),u=e(97751),f=e(89429),A=e(79039),p=e(2360),m=e(6980),y=e(24913).f,b=e(36840),E=e(62106),S=e(39297),T=e(90679),L=e(28551),I=e(77536),B=e(32603),O=e(55002),_=e(16193),M=e(91181),U=e(43724),Q=e(96395),$="DOMException",W="DATA_CLONE_ERR",X=u("Error"),et=u($)||(function(){try{new(u("MessageChannel")||f("worker_threads").MessageChannel)().port1.postMessage(new WeakMap)}catch(Le){if(Le.name===W&&Le.code===25)return Le.constructor}})(),Y=et&&et.prototype,N=X.prototype,K=M.set,Z=M.getterFor($),F="stack"in new X($),q=function(Le){return S(O,Le)&&O[Le].m?O[Le].c:0},nt=function(){T(this,ot);var Le=arguments.length,nn=B(Le<1?void 0:arguments[0]),En=B(Le<2?void 0:arguments[1],"Error"),cn=q(En);if(K(this,{type:$,name:En,message:nn,code:cn}),U||(this.name=En,this.message=nn,this.code=cn),F){var qe=new X(nn);qe.name=$,y(this,"stack",m(1,_(qe.stack,1)))}},ot=nt.prototype=p(N),Ct=function(Le){return{enumerable:!0,configurable:!0,get:Le}},St=function(Le){return Ct((function(){return Z(this)[Le]}))};U&&(E(ot,"code",St("code")),E(ot,"message",St("message")),E(ot,"name",St("name"))),y(ot,"constructor",m(1,nt));var Tt=A((function(){return!(new et instanceof X)})),Kt=Tt||A((function(){return N.toString!==I||String(new et(1,2))!=="2: 1"})),$t=Tt||A((function(){return new et(1,"DataCloneError").code!==25})),Vt=Tt||et[W]!==25||Y[W]!==25,ne=Q?Kt||$t||Vt:Tt;o({global:!0,constructor:!0,forced:ne},{DOMException:ne?nt:et});var fe=u($),ae=fe.prototype;for(var xe in Kt&&(Q||et===fe)&&b(ae,"toString",I),$t&&U&&et===fe&&E(ae,"code",Ct((function(){return q(L(this).name)}))),O)if(S(O,xe)){var Ne=O[xe],Ve=Ne.s,we=m(6,Ne.c);S(fe,Ve)||y(fe,Ve,we),S(ae,Ve)||y(ae,Ve,we)}},64979:function(s,c,e){var o=e(46518),u=e(44576),f=e(97751),A=e(6980),p=e(24913).f,m=e(39297),y=e(90679),b=e(23167),E=e(32603),S=e(55002),T=e(16193),L=e(43724),I=e(96395),B="DOMException",O=f("Error"),_=f(B),M=function(){y(this,U);var q=arguments.length,nt=E(q<1?void 0:arguments[0]),ot=E(q<2?void 0:arguments[1],"Error"),Ct=new _(nt,ot),St=new O(nt);return St.name=B,p(Ct,"stack",A(1,T(St.stack,1))),b(Ct,this,M),Ct},U=M.prototype=_.prototype,Q="stack"in new O(B),$="stack"in new _(1,2),W=_&&L&&Object.getOwnPropertyDescriptor(u,B),X=!(!W||W.writable&&W.configurable),et=Q&&!X&&!$;o({global:!0,constructor:!0,forced:I||et},{DOMException:et?M:_});var Y=f(B),N=Y.prototype;if(N.constructor!==Y){for(var K in I||p(N,"constructor",A(1,Y)),S)if(m(S,K)){var Z=S[K],F=Z.s;m(Y,F)||p(Y,F,A(6,Z.c))}}},79739:function(s,c,e){var o=e(97751),u="DOMException";e(10687)(o(u),u)},59848:function(s,c,e){e(86368),e(29309)},122:function(s,c,e){var o=e(46518),u=e(44576),f=e(91955),A=e(79306),p=e(22812),m=e(79039),y=e(43724);o({global:!0,enumerable:!0,dontCallGetSet:!0,forced:m((function(){return y&&Object.getOwnPropertyDescriptor(u,"queueMicrotask").value.length!==1}))},{queueMicrotask:function(b){p(arguments.length,1),f(A(b))}})},13611:function(s,c,e){var o=e(46518),u=e(44576),f=e(62106),A=e(43724),p=TypeError,m=Object.defineProperty,y=u.self!==u;try{if(A){var b=Object.getOwnPropertyDescriptor(u,"self");!y&&b&&b.get&&b.enumerable||f(u,"self",{get:function(){return u},set:function(E){if(this!==u)throw new p("Illegal invocation");m(u,"self",{value:E,writable:!0,configurable:!0,enumerable:!0})},configurable:!0,enumerable:!0})}else o({global:!0,simple:!0,forced:y},{self:u})}catch{}},29309:function(s,c,e){var o=e(46518),u=e(44576),f=e(59225).set,A=e(79472),p=u.setImmediate?A(f,!1):f;o({global:!0,bind:!0,enumerable:!0,forced:u.setImmediate!==p},{setImmediate:p})},15575:function(s,c,e){var o=e(46518),u=e(44576),f=e(79472)(u.setInterval,!0);o({global:!0,bind:!0,forced:u.setInterval!==f},{setInterval:f})},24599:function(s,c,e){var o=e(46518),u=e(44576),f=e(79472)(u.setTimeout,!0);o({global:!0,bind:!0,forced:u.setTimeout!==f},{setTimeout:f})},71678:function(s,c,e){var o,u=e(96395),f=e(46518),A=e(44576),p=e(97751),m=e(79504),y=e(79039),b=e(33392),E=e(94901),S=e(33517),T=e(64117),L=e(20034),I=e(10757),B=e(72652),O=e(28551),_=e(36955),M=e(39297),U=e(97040),Q=e(66699),$=e(26198),W=e(22812),X=e(61034),et=e(72248),Y=e(94402),N=e(38469),K=e(94483),Z=e(24659),F=e(1548),q=A.Object,nt=A.Array,ot=A.Date,Ct=A.Error,St=A.TypeError,Tt=A.PerformanceMark,Kt=p("DOMException"),$t=et.Map,Vt=et.has,ne=et.get,fe=et.set,ae=Y.Set,xe=Y.add,Ne=Y.has,Ve=p("Object","keys"),we=m([].push),Le=m((!0).valueOf),nn=m(1 .valueOf),En=m("".valueOf),cn=m(ot.prototype.getTime),qe=b("structuredClone"),Ke="DataCloneError",Dn="Transferring",an=function(Dt){return!y((function(){var Te=new A.Set([7]),on=Dt(Te),hn=Dt(q(7));return on===Te||!on.has(7)||!L(hn)||+hn!=7}))&&Dt},ee=function(Dt,Te){return!y((function(){var on=new Te,hn=Dt({a:on,b:on});return!(hn&&hn.a===hn.b&&hn.a instanceof Te&&hn.a.stack===on.stack)}))},ge=A.structuredClone,le=u||!ee(ge,Ct)||!ee(ge,Kt)||(o=ge,!!y((function(){var Dt=o(new A.AggregateError([1],qe,{cause:3}));return Dt.name!=="AggregateError"||Dt.errors[0]!==1||Dt.message!==qe||Dt.cause!==3}))),ke=!ge&&an((function(Dt){return new Tt(qe,{detail:Dt}).detail})),It=an(ge)||ke,ve=function(Dt){throw new Kt("Uncloneable type: "+Dt,Ke)},Be=function(Dt,Te){throw new Kt((Te||"Cloning")+" of "+Dt+" cannot be properly polyfilled in this engine",Ke)},Yn=function(Dt,Te){return It||Be(Te),It(Dt)},Ue=function(Dt,Te,on){if(Vt(Te,Dt))return ne(Te,Dt);var hn,ie,Me,ye,Fe,Xe;if((on||_(Dt))==="SharedArrayBuffer")hn=It?It(Dt):Dt;else{var pn=A.DataView;pn||E(Dt.slice)||Be("ArrayBuffer");try{if(E(Dt.slice)&&!Dt.resizable)hn=Dt.slice(0);else for(ie=Dt.byteLength,Me=("maxByteLength"in Dt)?{maxByteLength:Dt.maxByteLength}:void 0,hn=new ArrayBuffer(ie,Me),ye=new pn(Dt),Fe=new pn(hn),Xe=0;Xe<ie;Xe++)Fe.setUint8(Xe,ye.getUint8(Xe))}catch{throw new Kt("ArrayBuffer is detached",Ke)}}return fe(Te,Dt,hn),hn},$e=function(Dt,Te){if(I(Dt)&&ve("Symbol"),!L(Dt))return Dt;if(Te){if(Vt(Te,Dt))return ne(Te,Dt)}else Te=new $t;var on,hn,ie,Me,ye,Fe,Xe,pn,un=_(Dt);switch(un){case"Array":ie=nt($(Dt));break;case"Object":ie={};break;case"Map":ie=new $t;break;case"Set":ie=new ae;break;case"RegExp":ie=new RegExp(Dt.source,X(Dt));break;case"Error":switch(hn=Dt.name){case"AggregateError":ie=new(p(hn))([]);break;case"EvalError":case"RangeError":case"ReferenceError":case"SuppressedError":case"SyntaxError":case"TypeError":case"URIError":ie=new(p(hn));break;case"CompileError":case"LinkError":case"RuntimeError":ie=new(p("WebAssembly",hn));break;default:ie=new Ct}break;case"DOMException":ie=new Kt(Dt.message,Dt.name);break;case"ArrayBuffer":case"SharedArrayBuffer":ie=Ue(Dt,Te,un);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float16Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":Fe=un==="DataView"?Dt.byteLength:Dt.length,ie=(function(qt,Re,ze,Pe,An){var sn=A[Re];return L(sn)||Be(Re),new sn(Ue(qt.buffer,An),ze,Pe)})(Dt,un,Dt.byteOffset,Fe,Te);break;case"DOMQuad":try{ie=new DOMQuad($e(Dt.p1,Te),$e(Dt.p2,Te),$e(Dt.p3,Te),$e(Dt.p4,Te))}catch{ie=Yn(Dt,un)}break;case"File":if(It)try{ie=It(Dt),_(ie)!==un&&(ie=void 0)}catch{}if(!ie)try{ie=new File([Dt],Dt.name,Dt)}catch{}ie||Be(un);break;case"FileList":if(Me=(function(){var qt;try{qt=new A.DataTransfer}catch{try{qt=new A.ClipboardEvent("").clipboardData}catch{}}return qt&&qt.items&&qt.files?qt:null})()){for(ye=0,Fe=$(Dt);ye<Fe;ye++)Me.items.add($e(Dt[ye],Te));ie=Me.files}else ie=Yn(Dt,un);break;case"ImageData":try{ie=new ImageData($e(Dt.data,Te),Dt.width,Dt.height,{colorSpace:Dt.colorSpace})}catch{ie=Yn(Dt,un)}break;default:if(It)ie=It(Dt);else switch(un){case"BigInt":ie=q(Dt.valueOf());break;case"Boolean":ie=q(Le(Dt));break;case"Number":ie=q(nn(Dt));break;case"String":ie=q(En(Dt));break;case"Date":ie=new ot(cn(Dt));break;case"Blob":try{ie=Dt.slice(0,Dt.size,Dt.type)}catch{Be(un)}break;case"DOMPoint":case"DOMPointReadOnly":on=A[un];try{ie=on.fromPoint?on.fromPoint(Dt):new on(Dt.x,Dt.y,Dt.z,Dt.w)}catch{Be(un)}break;case"DOMRect":case"DOMRectReadOnly":on=A[un];try{ie=on.fromRect?on.fromRect(Dt):new on(Dt.x,Dt.y,Dt.width,Dt.height)}catch{Be(un)}break;case"DOMMatrix":case"DOMMatrixReadOnly":on=A[un];try{ie=on.fromMatrix?on.fromMatrix(Dt):new on(Dt)}catch{Be(un)}break;case"AudioData":case"VideoFrame":E(Dt.clone)||Be(un);try{ie=Dt.clone()}catch{ve(un)}break;case"CropTarget":case"CryptoKey":case"FileSystemDirectoryHandle":case"FileSystemFileHandle":case"FileSystemHandle":case"GPUCompilationInfo":case"GPUCompilationMessage":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":Be(un);default:ve(un)}}switch(fe(Te,Dt,ie),un){case"Array":case"Object":for(Xe=Ve(Dt),ye=0,Fe=$(Xe);ye<Fe;ye++)pn=Xe[ye],U(ie,pn,$e(Dt[pn],Te));break;case"Map":Dt.forEach((function(qt,Re){fe(ie,$e(Re,Te),$e(qt,Te))}));break;case"Set":Dt.forEach((function(qt){xe(ie,$e(qt,Te))}));break;case"Error":Q(ie,"message",$e(Dt.message,Te)),M(Dt,"cause")&&Q(ie,"cause",$e(Dt.cause,Te)),hn==="AggregateError"?ie.errors=$e(Dt.errors,Te):hn==="SuppressedError"&&(ie.error=$e(Dt.error,Te),ie.suppressed=$e(Dt.suppressed,Te));case"DOMException":Z&&Q(ie,"stack",$e(Dt.stack,Te))}return ie};f({global:!0,enumerable:!0,sham:!F,forced:le},{structuredClone:function(Dt){var Te,on,hn=W(arguments.length,1)>1&&!T(arguments[1])?O(arguments[1]):void 0,ie=hn?hn.transfer:void 0;ie!==void 0&&(on=(function(ye,Fe){if(!L(ye))throw new St("Transfer option cannot be converted to a sequence");var Xe=[];B(ye,(function(Tn){we(Xe,O(Tn))}));for(var pn,un,qt,Re,ze,Pe=0,An=$(Xe),sn=new ae;Pe<An;){if(pn=Xe[Pe++],(un=_(pn))==="ArrayBuffer"?Ne(sn,pn):Vt(Fe,pn))throw new Kt("Duplicate transferable",Ke);if(un!=="ArrayBuffer"){if(F)Re=ge(pn,{transfer:[pn]});else switch(un){case"ImageBitmap":qt=A.OffscreenCanvas,S(qt)||Be(un,Dn);try{(ze=new qt(pn.width,pn.height)).getContext("bitmaprenderer").transferFromImageBitmap(pn),Re=ze.transferToImageBitmap()}catch{}break;case"AudioData":case"VideoFrame":E(pn.clone)&&E(pn.close)||Be(un,Dn);try{Re=pn.clone(),pn.close()}catch{}break;case"MediaSourceHandle":case"MessagePort":case"MIDIAccess":case"OffscreenCanvas":case"ReadableStream":case"RTCDataChannel":case"TransformStream":case"WebTransportReceiveStream":case"WebTransportSendStream":case"WritableStream":Be(un,Dn)}if(Re===void 0)throw new Kt("This object cannot be transferred: "+un,Ke);fe(Fe,pn,Re)}else xe(sn,pn)}return sn})(ie,Te=new $t));var Me=$e(Dt,Te);return on&&(function(ye){N(ye,(function(Fe){F?It(Fe,{transfer:[Fe]}):E(Fe.transfer)?Fe.transfer():K?K(Fe):Be("ArrayBuffer",Dn)}))})(on),Me}})},76031:function(s,c,e){e(15575),e(24599)},98406:function(s,c,e){e(23792),e(27337);var o=e(46518),u=e(44576),f=e(93389),A=e(97751),p=e(69565),m=e(79504),y=e(43724),b=e(67416),E=e(36840),S=e(62106),T=e(56279),L=e(10687),I=e(33994),B=e(91181),O=e(90679),_=e(94901),M=e(39297),U=e(76080),Q=e(36955),$=e(28551),W=e(20034),X=e(655),et=e(2360),Y=e(6980),N=e(70081),K=e(50851),Z=e(62529),F=e(22812),q=e(78227),nt=e(74488),ot=q("iterator"),Ct="URLSearchParams",St=Ct+"Iterator",Tt=B.set,Kt=B.getterFor(Ct),$t=B.getterFor(St),Vt=f("fetch"),ne=f("Request"),fe=f("Headers"),ae=ne&&ne.prototype,xe=fe&&fe.prototype,Ne=u.TypeError,Ve=u.encodeURIComponent,we=String.fromCharCode,Le=A("String","fromCodePoint"),nn=parseInt,En=m("".charAt),cn=m([].join),qe=m([].push),Ke=m("".replace),Dn=m([].shift),an=m([].splice),ee=m("".split),ge=m("".slice),le=m(/./.exec),ke=/\+/g,It=/^[0-9a-f]+$/i,ve=function(qt,Re){var ze=ge(qt,Re,Re+2);return le(It,ze)?nn(ze,16):NaN},Be=function(qt){for(var Re=0,ze=128;ze>0&&qt&ze;ze>>=1)Re++;return Re},Yn=function(qt){var Re=null;switch(qt.length){case 1:Re=qt[0];break;case 2:Re=(31&qt[0])<<6|63&qt[1];break;case 3:Re=(15&qt[0])<<12|(63&qt[1])<<6|63&qt[2];break;case 4:Re=(7&qt[0])<<18|(63&qt[1])<<12|(63&qt[2])<<6|63&qt[3]}return Re>1114111?null:Re},Ue=function(qt){for(var Re=(qt=Ke(qt,ke," ")).length,ze="",Pe=0;Pe<Re;){var An=En(qt,Pe);if(An==="%"){if(En(qt,Pe+1)==="%"||Pe+3>Re){ze+="%",Pe++;continue}var sn=ve(qt,Pe+1);if(sn!=sn){ze+=An,Pe++;continue}Pe+=2;var Tn=Be(sn);if(Tn===0)An=we(sn);else{if(Tn===1||Tn>4){ze+="",Pe++;continue}for(var $n=[sn],or=1;or<Tn&&!(3+ ++Pe>Re||En(qt,Pe)!=="%");){var Qr=ve(qt,Pe+1);if(Qr!=Qr){Pe+=3;break}if(Qr>191||Qr<128)break;qe($n,Qr),Pe+=2,or++}if($n.length!==Tn){ze+="";continue}var ur=Yn($n);ur===null?ze+="":An=Le(ur)}}ze+=An,Pe++}return ze},$e=/[!'()~]|%20/g,Dt={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},Te=function(qt){return Dt[qt]},on=function(qt){return Ke(Ve(qt),$e,Te)},hn=I((function(qt,Re){Tt(this,{type:St,target:Kt(qt).entries,index:0,kind:Re})}),Ct,(function(){var qt=$t(this),Re=qt.target,ze=qt.index++;if(!Re||ze>=Re.length)return qt.target=null,Z(void 0,!0);var Pe=Re[ze];switch(qt.kind){case"keys":return Z(Pe.key,!1);case"values":return Z(Pe.value,!1)}return Z([Pe.key,Pe.value],!1)}),!0),ie=function(qt){this.entries=[],this.url=null,qt!==void 0&&(W(qt)?this.parseObject(qt):this.parseQuery(typeof qt=="string"?En(qt,0)==="?"?ge(qt,1):qt:X(qt)))};ie.prototype={type:Ct,bindURL:function(qt){this.url=qt,this.update()},parseObject:function(qt){var Re,ze,Pe,An,sn,Tn,$n,or=this.entries,Qr=K(qt);if(Qr)for(ze=(Re=N(qt,Qr)).next;!(Pe=p(ze,Re)).done;){if(sn=(An=N($(Pe.value))).next,(Tn=p(sn,An)).done||($n=p(sn,An)).done||!p(sn,An).done)throw new Ne("Expected sequence with length 2");qe(or,{key:X(Tn.value),value:X($n.value)})}else for(var ur in qt)M(qt,ur)&&qe(or,{key:ur,value:X(qt[ur])})},parseQuery:function(qt){if(qt)for(var Re,ze,Pe=this.entries,An=ee(qt,"&"),sn=0;sn<An.length;)(Re=An[sn++]).length&&(ze=ee(Re,"="),qe(Pe,{key:Ue(Dn(ze)),value:Ue(cn(ze,"="))}))},serialize:function(){for(var qt,Re=this.entries,ze=[],Pe=0;Pe<Re.length;)qt=Re[Pe++],qe(ze,on(qt.key)+"="+on(qt.value));return cn(ze,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var Me=function(){O(this,ye);var qt=Tt(this,new ie(arguments.length>0?arguments[0]:void 0));y||(this.size=qt.entries.length)},ye=Me.prototype;if(T(ye,{append:function(qt,Re){var ze=Kt(this);F(arguments.length,2),qe(ze.entries,{key:X(qt),value:X(Re)}),y||this.length++,ze.updateURL()},delete:function(qt){for(var Re=Kt(this),ze=F(arguments.length,1),Pe=Re.entries,An=X(qt),sn=ze<2?void 0:arguments[1],Tn=sn===void 0?sn:X(sn),$n=0;$n<Pe.length;){var or=Pe[$n];if(or.key!==An||Tn!==void 0&&or.value!==Tn)$n++;else if(an(Pe,$n,1),Tn!==void 0)break}y||(this.size=Pe.length),Re.updateURL()},get:function(qt){var Re=Kt(this).entries;F(arguments.length,1);for(var ze=X(qt),Pe=0;Pe<Re.length;Pe++)if(Re[Pe].key===ze)return Re[Pe].value;return null},getAll:function(qt){var Re=Kt(this).entries;F(arguments.length,1);for(var ze=X(qt),Pe=[],An=0;An<Re.length;An++)Re[An].key===ze&&qe(Pe,Re[An].value);return Pe},has:function(qt){for(var Re=Kt(this).entries,ze=F(arguments.length,1),Pe=X(qt),An=ze<2?void 0:arguments[1],sn=An===void 0?An:X(An),Tn=0;Tn<Re.length;){var $n=Re[Tn++];if($n.key===Pe&&(sn===void 0||$n.value===sn))return!0}return!1},set:function(qt,Re){var ze=Kt(this);F(arguments.length,1);for(var Pe,An=ze.entries,sn=!1,Tn=X(qt),$n=X(Re),or=0;or<An.length;or++)(Pe=An[or]).key===Tn&&(sn?an(An,or--,1):(sn=!0,Pe.value=$n));sn||qe(An,{key:Tn,value:$n}),y||(this.size=An.length),ze.updateURL()},sort:function(){var qt=Kt(this);nt(qt.entries,(function(Re,ze){return Re.key>ze.key?1:-1})),qt.updateURL()},forEach:function(qt){for(var Re,ze=Kt(this).entries,Pe=U(qt,arguments.length>1?arguments[1]:void 0),An=0;An<ze.length;)Pe((Re=ze[An++]).value,Re.key,this)},keys:function(){return new hn(this,"keys")},values:function(){return new hn(this,"values")},entries:function(){return new hn(this,"entries")}},{enumerable:!0}),E(ye,ot,ye.entries,{name:"entries"}),E(ye,"toString",(function(){return Kt(this).serialize()}),{enumerable:!0}),y&&S(ye,"size",{get:function(){return Kt(this).entries.length},configurable:!0,enumerable:!0}),L(Me,Ct),o({global:!0,constructor:!0,forced:!b},{URLSearchParams:Me}),!b&&_(fe)){var Fe=m(xe.has),Xe=m(xe.set),pn=function(qt){if(W(qt)){var Re,ze=qt.body;if(Q(ze)===Ct)return Re=qt.headers?new fe(qt.headers):new fe,Fe(Re,"content-type")||Xe(Re,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),et(qt,{body:Y(0,X(ze)),headers:Y(0,Re)})}return qt};if(_(Vt)&&o({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(qt){return Vt(qt,arguments.length>1?pn(arguments[1]):{})}}),_(ne)){var un=function(qt){return O(this,ae),new ne(qt,arguments.length>1?pn(arguments[1]):{})};ae.constructor=un,un.prototype=ae,o({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:un})}}s.exports={URLSearchParams:Me,getState:Kt}},14603:function(s,c,e){var o=e(36840),u=e(79504),f=e(655),A=e(22812),p=URLSearchParams,m=p.prototype,y=u(m.append),b=u(m.delete),E=u(m.forEach),S=u([].push),T=new p("a=1&a=2&b=3");T.delete("a",1),T.delete("b",void 0),T+""!="a=2"&&o(m,"delete",(function(L){var I=arguments.length,B=I<2?void 0:arguments[1];if(I&&B===void 0)return b(this,L);var O=[];E(this,(function(et,Y){S(O,{key:Y,value:et})})),A(I,1);for(var _,M=f(L),U=f(B),Q=0,$=0,W=!1,X=O.length;Q<X;)_=O[Q++],W||_.key===M?(W=!0,b(this,_.key)):$++;for(;$<X;)(_=O[$++]).key===M&&_.value===U||y(this,_.key,_.value)}),{enumerable:!0,unsafe:!0})},47566:function(s,c,e){var o=e(36840),u=e(79504),f=e(655),A=e(22812),p=URLSearchParams,m=p.prototype,y=u(m.getAll),b=u(m.has),E=new p("a=1");!E.has("a",2)&&E.has("a",void 0)||o(m,"has",(function(S){var T=arguments.length,L=T<2?void 0:arguments[1];if(T&&L===void 0)return b(this,S);var I=y(this,S);A(T,1);for(var B=f(L),O=0;O<I.length;)if(I[O++]===B)return!0;return!1}),{enumerable:!0,unsafe:!0})},48408:function(s,c,e){e(98406)},98721:function(s,c,e){var o=e(43724),u=e(79504),f=e(62106),A=URLSearchParams.prototype,p=u(A.forEach);o&&!("size"in A)&&f(A,"size",{get:function(){var m=0;return p(this,(function(){m++})),m},configurable:!0,enumerable:!0})},2222:function(s,c,e){var o=e(46518),u=e(97751),f=e(79039),A=e(22812),p=e(655),m=e(67416),y=u("URL"),b=m&&f((function(){y.canParse()})),E=f((function(){return y.canParse.length!==1}));o({target:"URL",stat:!0,forced:!b||E},{canParse:function(S){var T=A(arguments.length,1),L=p(S),I=T<2||arguments[1]===void 0?void 0:p(arguments[1]);try{return!!new y(L,I)}catch{return!1}}})},45806:function(s,c,e){e(47764);var o,u=e(46518),f=e(43724),A=e(67416),p=e(44576),m=e(76080),y=e(79504),b=e(36840),E=e(62106),S=e(90679),T=e(39297),L=e(44213),I=e(97916),B=e(67680),O=e(68183).codeAt,_=e(3717),M=e(655),U=e(10687),Q=e(22812),$=e(98406),W=e(91181),X=W.set,et=W.getterFor("URL"),Y=$.URLSearchParams,N=$.getState,K=p.URL,Z=p.TypeError,F=p.parseInt,q=Math.floor,nt=Math.pow,ot=y("".charAt),Ct=y(/./.exec),St=y([].join),Tt=y(1 .toString),Kt=y([].pop),$t=y([].push),Vt=y("".replace),ne=y([].shift),fe=y("".split),ae=y("".slice),xe=y("".toLowerCase),Ne=y([].unshift),Ve="Invalid scheme",we="Invalid host",Le="Invalid port",nn=/[a-z]/i,En=/[\d+-.a-z]/i,cn=/\d/,qe=/^0x/i,Ke=/^[0-7]+$/,Dn=/^\d+$/,an=/^[\da-f]+$/i,ee=/[\0\t\n\r #%/:<>?@[\\\]^|]/,ge=/[\0\t\n\r #/:<>?@[\\\]^|]/,le=/^[\u0000-\u0020]+/,ke=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,It=/[\t\n\r]/g,ve=function(Ht){var Yt,pe,Nn,Xt;if(typeof Ht=="number"){for(Yt=[],pe=0;pe<4;pe++)Ne(Yt,Ht%256),Ht=q(Ht/256);return St(Yt,".")}if(typeof Ht=="object"){for(Yt="",Nn=(function(ar){for(var Qn=null,_n=1,xt=null,Ie=0,Un=0;Un<8;Un++)ar[Un]!==0?(Ie>_n&&(Qn=xt,_n=Ie),xt=null,Ie=0):(xt===null&&(xt=Un),++Ie);return Ie>_n?xt:Qn})(Ht),pe=0;pe<8;pe++)Xt&&Ht[pe]===0||(Xt&&(Xt=!1),Nn===pe?(Yt+=pe?":":"::",Xt=!0):(Yt+=Tt(Ht[pe],16),pe<7&&(Yt+=":")));return"["+Yt+"]"}return Ht},Be={},Yn=L({},Be,{" ":1,'"':1,"<":1,">":1,"`":1}),Ue=L({},Yn,{"#":1,"?":1,"{":1,"}":1}),$e=L({},Ue,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Dt=function(Ht,Yt){var pe=O(Ht,0);return pe>32&&pe<127&&!T(Yt,Ht)?Ht:encodeURIComponent(Ht)},Te={ftp:21,file:null,http:80,https:443,ws:80,wss:443},on=function(Ht,Yt){var pe;return Ht.length===2&&Ct(nn,ot(Ht,0))&&((pe=ot(Ht,1))===":"||!Yt&&pe==="|")},hn=function(Ht){var Yt;return Ht.length>1&&on(ae(Ht,0,2))&&(Ht.length===2||(Yt=ot(Ht,2))==="/"||Yt==="\\"||Yt==="?"||Yt==="#")},ie=function(Ht){return Ht==="."||xe(Ht)==="%2e"},Me={},ye={},Fe={},Xe={},pn={},un={},qt={},Re={},ze={},Pe={},An={},sn={},Tn={},$n={},or={},Qr={},ur={},kr={},li={},Rr={},wr={},Br=function(Ht,Yt,pe){var Nn,Xt,ar,Qn=M(Ht);if(Yt){if(Xt=this.parse(Qn))throw new Z(Xt);this.searchParams=null}else{if(pe!==void 0&&(Nn=new Br(pe,!0)),Xt=this.parse(Qn,null,Nn))throw new Z(Xt);(ar=N(new Y)).bindURL(this),this.searchParams=ar}};Br.prototype={type:"URL",parse:function(Ht,Yt,pe){var Nn,Xt,ar,Qn,_n,xt=this,Ie=Yt||Me,Un=0,en="",Ar=!1,br=!1,ri=!1;for(Ht=M(Ht),Yt||(xt.scheme="",xt.username="",xt.password="",xt.host=null,xt.port=null,xt.path=[],xt.query=null,xt.fragment=null,xt.cannotBeABaseURL=!1,Ht=Vt(Ht,le,""),Ht=Vt(Ht,ke,"$1")),Ht=Vt(Ht,It,""),Nn=I(Ht);Un<=Nn.length;){switch(Xt=Nn[Un],Ie){case Me:if(!Xt||!Ct(nn,Xt)){if(Yt)return Ve;Ie=Fe;continue}en+=xe(Xt),Ie=ye;break;case ye:if(Xt&&(Ct(En,Xt)||Xt==="+"||Xt==="-"||Xt==="."))en+=xe(Xt);else{if(Xt!==":"){if(Yt)return Ve;en="",Ie=Fe,Un=0;continue}if(Yt&&(xt.isSpecial()!==T(Te,en)||en==="file"&&(xt.includesCredentials()||xt.port!==null)||xt.scheme==="file"&&!xt.host))return;if(xt.scheme=en,Yt)return void(xt.isSpecial()&&Te[xt.scheme]===xt.port&&(xt.port=null));en="",xt.scheme==="file"?Ie=$n:xt.isSpecial()&&pe&&pe.scheme===xt.scheme?Ie=Xe:xt.isSpecial()?Ie=Re:Nn[Un+1]==="/"?(Ie=pn,Un++):(xt.cannotBeABaseURL=!0,$t(xt.path,""),Ie=li)}break;case Fe:if(!pe||pe.cannotBeABaseURL&&Xt!=="#")return Ve;if(pe.cannotBeABaseURL&&Xt==="#"){xt.scheme=pe.scheme,xt.path=B(pe.path),xt.query=pe.query,xt.fragment="",xt.cannotBeABaseURL=!0,Ie=wr;break}Ie=pe.scheme==="file"?$n:un;continue;case Xe:if(Xt!=="/"||Nn[Un+1]!=="/"){Ie=un;continue}Ie=ze,Un++;break;case pn:if(Xt==="/"){Ie=Pe;break}Ie=kr;continue;case un:if(xt.scheme=pe.scheme,Xt===o)xt.username=pe.username,xt.password=pe.password,xt.host=pe.host,xt.port=pe.port,xt.path=B(pe.path),xt.query=pe.query;else if(Xt==="/"||Xt==="\\"&&xt.isSpecial())Ie=qt;else if(Xt==="?")xt.username=pe.username,xt.password=pe.password,xt.host=pe.host,xt.port=pe.port,xt.path=B(pe.path),xt.query="",Ie=Rr;else{if(Xt!=="#"){xt.username=pe.username,xt.password=pe.password,xt.host=pe.host,xt.port=pe.port,xt.path=B(pe.path),xt.path.length--,Ie=kr;continue}xt.username=pe.username,xt.password=pe.password,xt.host=pe.host,xt.port=pe.port,xt.path=B(pe.path),xt.query=pe.query,xt.fragment="",Ie=wr}break;case qt:if(!xt.isSpecial()||Xt!=="/"&&Xt!=="\\"){if(Xt!=="/"){xt.username=pe.username,xt.password=pe.password,xt.host=pe.host,xt.port=pe.port,Ie=kr;continue}Ie=Pe}else Ie=ze;break;case Re:if(Ie=ze,Xt!=="/"||ot(en,Un+1)!=="/")continue;Un++;break;case ze:if(Xt!=="/"&&Xt!=="\\"){Ie=Pe;continue}break;case Pe:if(Xt==="@"){Ar&&(en="%40"+en),Ar=!0,ar=I(en);for(var $r=0;$r<ar.length;$r++){var Fn=ar[$r];if(Fn!==":"||ri){var pi=Dt(Fn,$e);ri?xt.password+=pi:xt.username+=pi}else ri=!0}en=""}else if(Xt===o||Xt==="/"||Xt==="?"||Xt==="#"||Xt==="\\"&&xt.isSpecial()){if(Ar&&en==="")return"Invalid authority";Un-=I(en).length+1,en="",Ie=An}else en+=Xt;break;case An:case sn:if(Yt&&xt.scheme==="file"){Ie=Qr;continue}if(Xt!==":"||br){if(Xt===o||Xt==="/"||Xt==="?"||Xt==="#"||Xt==="\\"&&xt.isSpecial()){if(xt.isSpecial()&&en==="")return we;if(Yt&&en===""&&(xt.includesCredentials()||xt.port!==null))return;if(Qn=xt.parseHost(en))return Qn;if(en="",Ie=ur,Yt)return;continue}Xt==="["?br=!0:Xt==="]"&&(br=!1),en+=Xt}else{if(en==="")return we;if(Qn=xt.parseHost(en))return Qn;if(en="",Ie=Tn,Yt===sn)return}break;case Tn:if(!Ct(cn,Xt)){if(Xt===o||Xt==="/"||Xt==="?"||Xt==="#"||Xt==="\\"&&xt.isSpecial()||Yt){if(en!==""){var Ui=F(en,10);if(Ui>65535)return Le;xt.port=xt.isSpecial()&&Ui===Te[xt.scheme]?null:Ui,en=""}if(Yt)return;Ie=ur;continue}return Le}en+=Xt;break;case $n:if(xt.scheme="file",Xt==="/"||Xt==="\\")Ie=or;else{if(!pe||pe.scheme!=="file"){Ie=kr;continue}switch(Xt){case o:xt.host=pe.host,xt.path=B(pe.path),xt.query=pe.query;break;case"?":xt.host=pe.host,xt.path=B(pe.path),xt.query="",Ie=Rr;break;case"#":xt.host=pe.host,xt.path=B(pe.path),xt.query=pe.query,xt.fragment="",Ie=wr;break;default:hn(St(B(Nn,Un),""))||(xt.host=pe.host,xt.path=B(pe.path),xt.shortenPath()),Ie=kr;continue}}break;case or:if(Xt==="/"||Xt==="\\"){Ie=Qr;break}pe&&pe.scheme==="file"&&!hn(St(B(Nn,Un),""))&&(on(pe.path[0],!0)?$t(xt.path,pe.path[0]):xt.host=pe.host),Ie=kr;continue;case Qr:if(Xt===o||Xt==="/"||Xt==="\\"||Xt==="?"||Xt==="#"){if(!Yt&&on(en))Ie=kr;else if(en===""){if(xt.host="",Yt)return;Ie=ur}else{if(Qn=xt.parseHost(en))return Qn;if(xt.host==="localhost"&&(xt.host=""),Yt)return;en="",Ie=ur}continue}en+=Xt;break;case ur:if(xt.isSpecial()){if(Ie=kr,Xt!=="/"&&Xt!=="\\")continue}else if(Yt||Xt!=="?")if(Yt||Xt!=="#"){if(Xt!==o&&(Ie=kr,Xt!=="/"))continue}else xt.fragment="",Ie=wr;else xt.query="",Ie=Rr;break;case kr:if(Xt===o||Xt==="/"||Xt==="\\"&&xt.isSpecial()||!Yt&&(Xt==="?"||Xt==="#")){if((_n=xe(_n=en))===".."||_n==="%2e."||_n===".%2e"||_n==="%2e%2e"?(xt.shortenPath(),Xt==="/"||Xt==="\\"&&xt.isSpecial()||$t(xt.path,"")):ie(en)?Xt==="/"||Xt==="\\"&&xt.isSpecial()||$t(xt.path,""):(xt.scheme==="file"&&!xt.path.length&&on(en)&&(xt.host&&(xt.host=""),en=ot(en,0)+":"),$t(xt.path,en)),en="",xt.scheme==="file"&&(Xt===o||Xt==="?"||Xt==="#"))for(;xt.path.length>1&&xt.path[0]==="";)ne(xt.path);Xt==="?"?(xt.query="",Ie=Rr):Xt==="#"&&(xt.fragment="",Ie=wr)}else en+=Dt(Xt,Ue);break;case li:Xt==="?"?(xt.query="",Ie=Rr):Xt==="#"?(xt.fragment="",Ie=wr):Xt!==o&&(xt.path[0]+=Dt(Xt,Be));break;case Rr:Yt||Xt!=="#"?Xt!==o&&(Xt==="'"&&xt.isSpecial()?xt.query+="%27":xt.query+=Xt==="#"?"%23":Dt(Xt,Be)):(xt.fragment="",Ie=wr);break;case wr:Xt!==o&&(xt.fragment+=Dt(Xt,Yn))}Un++}},parseHost:function(Ht){var Yt,pe,Nn;if(ot(Ht,0)==="["){if(ot(Ht,Ht.length-1)!=="]"||(Yt=(function(Xt){var ar,Qn,_n,xt,Ie,Un,en,Ar=[0,0,0,0,0,0,0,0],br=0,ri=null,$r=0,Fn=function(){return ot(Xt,$r)};if(Fn()===":"){if(ot(Xt,1)!==":")return;$r+=2,ri=++br}for(;Fn();){if(br===8)return;if(Fn()!==":"){for(ar=Qn=0;Qn<4&&Ct(an,Fn());)ar=16*ar+F(Fn(),16),$r++,Qn++;if(Fn()==="."){if(Qn===0||($r-=Qn,br>6))return;for(_n=0;Fn();){if(xt=null,_n>0){if(!(Fn()==="."&&_n<4))return;$r++}if(!Ct(cn,Fn()))return;for(;Ct(cn,Fn());){if(Ie=F(Fn(),10),xt===null)xt=Ie;else{if(xt===0)return;xt=10*xt+Ie}if(xt>255)return;$r++}Ar[br]=256*Ar[br]+xt,++_n!=2&&_n!==4||br++}if(_n!==4)return;break}if(Fn()===":"){if($r++,!Fn())return}else if(Fn())return;Ar[br++]=ar}else{if(ri!==null)return;$r++,ri=++br}}if(ri!==null)for(Un=br-ri,br=7;br!==0&&Un>0;)en=Ar[br],Ar[br--]=Ar[ri+Un-1],Ar[ri+--Un]=en;else if(br!==8)return;return Ar})(ae(Ht,1,-1)),!Yt))return we;this.host=Yt}else if(this.isSpecial()){if(Ht=_(Ht),Ct(ee,Ht)||(Yt=(function(Xt){var ar,Qn,_n,xt,Ie,Un,en,Ar=fe(Xt,".");if(Ar.length&&Ar[Ar.length-1]===""&&Ar.length--,(ar=Ar.length)>4)return Xt;for(Qn=[],_n=0;_n<ar;_n++){if((xt=Ar[_n])==="")return Xt;if(Ie=10,xt.length>1&&ot(xt,0)==="0"&&(Ie=Ct(qe,xt)?16:8,xt=ae(xt,Ie===8?1:2)),xt==="")Un=0;else{if(!Ct(Ie===10?Dn:Ie===8?Ke:an,xt))return Xt;Un=F(xt,Ie)}$t(Qn,Un)}for(_n=0;_n<ar;_n++)if(Un=Qn[_n],_n===ar-1){if(Un>=nt(256,5-ar))return null}else if(Un>255)return null;for(en=Kt(Qn),_n=0;_n<Qn.length;_n++)en+=Qn[_n]*nt(256,3-_n);return en})(Ht),Yt===null))return we;this.host=Yt}else{if(Ct(ge,Ht))return we;for(Yt="",pe=I(Ht),Nn=0;Nn<pe.length;Nn++)Yt+=Dt(pe[Nn],Be);this.host=Yt}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||this.scheme==="file"},includesCredentials:function(){return this.username!==""||this.password!==""},isSpecial:function(){return T(Te,this.scheme)},shortenPath:function(){var Ht=this.path,Yt=Ht.length;!Yt||this.scheme==="file"&&Yt===1&&on(Ht[0],!0)||Ht.length--},serialize:function(){var Ht=this,Yt=Ht.scheme,pe=Ht.username,Nn=Ht.password,Xt=Ht.host,ar=Ht.port,Qn=Ht.path,_n=Ht.query,xt=Ht.fragment,Ie=Yt+":";return Xt!==null?(Ie+="//",Ht.includesCredentials()&&(Ie+=pe+(Nn?":"+Nn:"")+"@"),Ie+=ve(Xt),ar!==null&&(Ie+=":"+ar)):Yt==="file"&&(Ie+="//"),Ie+=Ht.cannotBeABaseURL?Qn[0]:Qn.length?"/"+St(Qn,"/"):"",_n!==null&&(Ie+="?"+_n),xt!==null&&(Ie+="#"+xt),Ie},setHref:function(Ht){var Yt=this.parse(Ht);if(Yt)throw new Z(Yt);this.searchParams.update()},getOrigin:function(){var Ht=this.scheme,Yt=this.port;if(Ht==="blob")try{return new Yr(Ht.path[0]).origin}catch{return"null"}return Ht!=="file"&&this.isSpecial()?Ht+"://"+ve(this.host)+(Yt!==null?":"+Yt:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(Ht){this.parse(M(Ht)+":",Me)},getUsername:function(){return this.username},setUsername:function(Ht){var Yt=I(M(Ht));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var pe=0;pe<Yt.length;pe++)this.username+=Dt(Yt[pe],$e)}},getPassword:function(){return this.password},setPassword:function(Ht){var Yt=I(M(Ht));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var pe=0;pe<Yt.length;pe++)this.password+=Dt(Yt[pe],$e)}},getHost:function(){var Ht=this.host,Yt=this.port;return Ht===null?"":Yt===null?ve(Ht):ve(Ht)+":"+Yt},setHost:function(Ht){this.cannotBeABaseURL||this.parse(Ht,An)},getHostname:function(){var Ht=this.host;return Ht===null?"":ve(Ht)},setHostname:function(Ht){this.cannotBeABaseURL||this.parse(Ht,sn)},getPort:function(){var Ht=this.port;return Ht===null?"":M(Ht)},setPort:function(Ht){this.cannotHaveUsernamePasswordPort()||((Ht=M(Ht))===""?this.port=null:this.parse(Ht,Tn))},getPathname:function(){var Ht=this.path;return this.cannotBeABaseURL?Ht[0]:Ht.length?"/"+St(Ht,"/"):""},setPathname:function(Ht){this.cannotBeABaseURL||(this.path=[],this.parse(Ht,ur))},getSearch:function(){var Ht=this.query;return Ht?"?"+Ht:""},setSearch:function(Ht){(Ht=M(Ht))===""?this.query=null:(ot(Ht,0)==="?"&&(Ht=ae(Ht,1)),this.query="",this.parse(Ht,Rr)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var Ht=this.fragment;return Ht?"#"+Ht:""},setHash:function(Ht){(Ht=M(Ht))!==""?(ot(Ht,0)==="#"&&(Ht=ae(Ht,1)),this.fragment="",this.parse(Ht,wr)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Yr=function(Ht){var Yt=S(this,nr),pe=Q(arguments.length,1)>1?arguments[1]:void 0,Nn=X(Yt,new Br(Ht,!1,pe));f||(Yt.href=Nn.serialize(),Yt.origin=Nn.getOrigin(),Yt.protocol=Nn.getProtocol(),Yt.username=Nn.getUsername(),Yt.password=Nn.getPassword(),Yt.host=Nn.getHost(),Yt.hostname=Nn.getHostname(),Yt.port=Nn.getPort(),Yt.pathname=Nn.getPathname(),Yt.search=Nn.getSearch(),Yt.searchParams=Nn.getSearchParams(),Yt.hash=Nn.getHash())},nr=Yr.prototype,jn=function(Ht,Yt){return{get:function(){return et(this)[Ht]()},set:Yt&&function(pe){return et(this)[Yt](pe)},configurable:!0,enumerable:!0}};if(f&&(E(nr,"href",jn("serialize","setHref")),E(nr,"origin",jn("getOrigin")),E(nr,"protocol",jn("getProtocol","setProtocol")),E(nr,"username",jn("getUsername","setUsername")),E(nr,"password",jn("getPassword","setPassword")),E(nr,"host",jn("getHost","setHost")),E(nr,"hostname",jn("getHostname","setHostname")),E(nr,"port",jn("getPort","setPort")),E(nr,"pathname",jn("getPathname","setPathname")),E(nr,"search",jn("getSearch","setSearch")),E(nr,"searchParams",jn("getSearchParams")),E(nr,"hash",jn("getHash","setHash"))),b(nr,"toJSON",(function(){return et(this).serialize()}),{enumerable:!0}),b(nr,"toString",(function(){return et(this).serialize()}),{enumerable:!0}),K){var gi=K.createObjectURL,Di=K.revokeObjectURL;gi&&b(Yr,"createObjectURL",m(gi,K)),Di&&b(Yr,"revokeObjectURL",m(Di,K))}U(Yr,"URL"),u({global:!0,constructor:!0,forced:!A,sham:!f},{URL:Yr})},3296:function(s,c,e){e(45806)},45781:function(s,c,e){var o=e(46518),u=e(97751),f=e(22812),A=e(655),p=e(67416),m=u("URL");o({target:"URL",stat:!0,forced:!p},{parse:function(y){var b=f(arguments.length,1),E=A(y),S=b<2||arguments[1]===void 0?void 0:A(arguments[1]);try{return new m(E,S)}catch{return null}}})},27208:function(s,c,e){var o=e(46518),u=e(69565);o({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return u(URL.prototype.toString,this)}})},84315:function(s,c,e){e(52675),e(89463),e(66412),e(60193),e(92168),e(2259),e(86964),e(83142),e(83237),e(61833),e(67947),e(31073),e(45700),e(78125),e(20326),e(16280),e(76918),e(30067),e(4294),e(18107),e(28706),e(26835),e(88431),e(33771),e(2008),e(50113),e(48980),e(10838),e(13451),e(46449),e(78350),e(51629),e(23418),e(74423),e(25276),e(64346),e(23792),e(48598),e(8921),e(62062),e(31051),e(44114),e(72712),e(18863),e(94490),e(34782),e(15086),e(26910),e(87478),e(54554),e(9678),e(57145),e(71658),e(93514),e(30237),e(13609),e(11558),e(54743),e(46761),e(11745),e(38309),e(16573),e(78100),e(77936),e(61699),e(59089),e(91191),e(93515),e(1688),e(60739),e(89572),e(23288),e(36456),e(94170),e(48957),e(62010),e(55081),e(18111),e(29314),e(81148),e(22489),e(20116),e(30531),e(7588),e(49603),e(61701),e(18237),e(13579),e(54972),e(61806),e(33110),e(4731),e(36033),e(47072),e(93153),e(82326),e(36389),e(64444),e(8085),e(77762),e(65070),e(60605),e(39469),e(72152),e(75376),e(56624),e(11367),e(5914),e(78553),e(98690),e(60479),e(70761),e(2892),e(45374),e(25428),e(32637),e(40150),e(59149),e(64601),e(44435),e(87220),e(25843),e(62337),e(9868),e(80630),e(69085),e(59904),e(17427),e(67945),e(84185),e(87607),e(5506),e(52811),e(53921),e(83851),e(81278),e(1480),e(40875),e(77691),e(78347),e(29908),e(94052),e(94003),e(221),e(79432),e(9220),e(7904),e(93967),e(63548),e(93941),e(10287),e(26099),e(16034),e(78459),e(58940),e(3362),e(96167),e(93518),e(9391),e(31689),e(14628),e(39796),e(60825),e(87411),e(21211),e(40888),e(9065),e(86565),e(32812),e(84634),e(71137),e(30985),e(34268),e(34873),e(15472),e(84864),e(57465),e(27495),e(69479),e(87745),e(90906),e(38781),e(31415),e(17642),e(58004),e(33853),e(45876),e(32475),e(15024),e(31698),e(67357),e(23860),e(99449),e(27337),e(21699),e(42043),e(47764),e(71761),e(28543),e(35701),e(68156),e(85906),e(42781),e(25440),e(79978),e(5746),e(90744),e(11392),e(50375),e(67438),e(42762),e(39202),e(43359),e(89907),e(11898),e(35490),e(5745),e(94298),e(60268),e(69546),e(20781),e(50778),e(89195),e(46276),e(48718),e(16308),e(34594),e(29833),e(46594),e(72107),e(95477),e(21489),e(22134),e(3690),e(61740),e(48140),e(81630),e(72170),e(75044),e(69539),e(31694),e(89955),e(21903),e(91134),e(33206),e(48345),e(44496),e(66651),e(12887),e(19369),e(66812),e(8995),e(52568),e(31575),e(36072),e(88747),e(28845),e(29423),e(57301),e(373),e(86614),e(41405),e(37467),e(44732),e(33684),e(79577),e(88267),e(73772),e(30958),e(2945),e(42207),e(23500),e(62953),e(55815),e(64979),e(79739),e(59848),e(122),e(13611),e(71678),e(76031),e(3296),e(2222),e(45781),e(27208),e(48408),e(14603),e(47566),e(98721),e(19167)}},i={};function l(s){var c=i[s];if(c!==void 0)return c.exports;var e=i[s]={id:s,exports:{}};return n[s].call(e.exports,e,e.exports,l),e.exports}l.m=n,l.n=function(s){var c=s&&s.__esModule?function(){return s.default}:function(){return s};return l.d(c,{a:c}),c},l.d=function(s,c){for(var e in c)l.o(c,e)&&!l.o(s,e)&&Object.defineProperty(s,e,{enumerable:!0,get:c[e]})},l.g=(function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}})(),l.o=function(s,c){return Object.prototype.hasOwnProperty.call(s,c)},l.b=document.baseURI||self.location.href,l.nc=void 0,l(84315),l(78624);var d=l(63166);return d.default})()}))})(Ud)),Ud.exports}var fb=cb();const db=l1(fb),je=Number.isFinite||function(g){return typeof g=="number"&&isFinite(g)},hb=Number.isSafeInteger||function(g){return typeof g=="number"&&Math.abs(g)<=Ab},Ab=Number.MAX_SAFE_INTEGER||9007199254740991;let rn=(function(g){return g.NETWORK_ERROR="networkError",g.MEDIA_ERROR="mediaError",g.KEY_SYSTEM_ERROR="keySystemError",g.MUX_ERROR="muxError",g.OTHER_ERROR="otherError",g})({}),_t=(function(g){return g.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",g.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",g.KEY_SYSTEM_NO_SESSION="keySystemNoSession",g.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",g.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",g.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",g.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",g.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",g.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",g.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",g.KEY_SYSTEM_DESTROY_MEDIA_KEYS_ERROR="keySystemDestroyMediaKeysError",g.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR="keySystemDestroyCloseSessionError",g.KEY_SYSTEM_DESTROY_REMOVE_SESSION_ERROR="keySystemDestroyRemoveSessionError",g.MANIFEST_LOAD_ERROR="manifestLoadError",g.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",g.MANIFEST_PARSING_ERROR="manifestParsingError",g.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",g.LEVEL_EMPTY_ERROR="levelEmptyError",g.LEVEL_LOAD_ERROR="levelLoadError",g.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",g.LEVEL_PARSING_ERROR="levelParsingError",g.LEVEL_SWITCH_ERROR="levelSwitchError",g.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",g.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",g.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",g.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",g.FRAG_LOAD_ERROR="fragLoadError",g.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",g.FRAG_DECRYPT_ERROR="fragDecryptError",g.FRAG_PARSING_ERROR="fragParsingError",g.FRAG_GAP="fragGap",g.REMUX_ALLOC_ERROR="remuxAllocError",g.KEY_LOAD_ERROR="keyLoadError",g.KEY_LOAD_TIMEOUT="keyLoadTimeOut",g.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",g.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",g.BUFFER_APPEND_ERROR="bufferAppendError",g.BUFFER_APPENDING_ERROR="bufferAppendingError",g.BUFFER_STALLED_ERROR="bufferStalledError",g.BUFFER_FULL_ERROR="bufferFullError",g.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",g.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",g.ASSET_LIST_LOAD_ERROR="assetListLoadError",g.ASSET_LIST_LOAD_TIMEOUT="assetListLoadTimeout",g.ASSET_LIST_PARSING_ERROR="assetListParsingError",g.INTERSTITIAL_ASSET_ITEM_ERROR="interstitialAssetItemError",g.INTERNAL_EXCEPTION="internalException",g.INTERNAL_ABORTED="aborted",g.ATTACH_MEDIA_ERROR="attachMediaError",g.UNKNOWN="unknown",g})({}),G=(function(g){return g.MEDIA_ATTACHING="hlsMediaAttaching",g.MEDIA_ATTACHED="hlsMediaAttached",g.MEDIA_DETACHING="hlsMediaDetaching",g.MEDIA_DETACHED="hlsMediaDetached",g.MEDIA_ENDED="hlsMediaEnded",g.STALL_RESOLVED="hlsStallResolved",g.BUFFER_RESET="hlsBufferReset",g.BUFFER_CODECS="hlsBufferCodecs",g.BUFFER_CREATED="hlsBufferCreated",g.BUFFER_APPENDING="hlsBufferAppending",g.BUFFER_APPENDED="hlsBufferAppended",g.BUFFER_EOS="hlsBufferEos",g.BUFFERED_TO_END="hlsBufferedToEnd",g.BUFFER_FLUSHING="hlsBufferFlushing",g.BUFFER_FLUSHED="hlsBufferFlushed",g.MANIFEST_LOADING="hlsManifestLoading",g.MANIFEST_LOADED="hlsManifestLoaded",g.MANIFEST_PARSED="hlsManifestParsed",g.LEVEL_SWITCHING="hlsLevelSwitching",g.LEVEL_SWITCHED="hlsLevelSwitched",g.LEVEL_LOADING="hlsLevelLoading",g.LEVEL_LOADED="hlsLevelLoaded",g.LEVEL_UPDATED="hlsLevelUpdated",g.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",g.LEVELS_UPDATED="hlsLevelsUpdated",g.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",g.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",g.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",g.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",g.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",g.AUDIO_TRACK_UPDATED="hlsAudioTrackUpdated",g.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",g.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",g.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",g.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",g.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",g.SUBTITLE_TRACK_UPDATED="hlsSubtitleTrackUpdated",g.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",g.CUES_PARSED="hlsCuesParsed",g.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",g.INIT_PTS_FOUND="hlsInitPtsFound",g.FRAG_LOADING="hlsFragLoading",g.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",g.FRAG_LOADED="hlsFragLoaded",g.FRAG_DECRYPTED="hlsFragDecrypted",g.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",g.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",g.FRAG_PARSING_METADATA="hlsFragParsingMetadata",g.FRAG_PARSED="hlsFragParsed",g.FRAG_BUFFERED="hlsFragBuffered",g.FRAG_CHANGED="hlsFragChanged",g.FPS_DROP="hlsFpsDrop",g.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",g.MAX_AUTO_LEVEL_UPDATED="hlsMaxAutoLevelUpdated",g.ERROR="hlsError",g.DESTROYING="hlsDestroying",g.KEY_LOADING="hlsKeyLoading",g.KEY_LOADED="hlsKeyLoaded",g.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",g.BACK_BUFFER_REACHED="hlsBackBufferReached",g.STEERING_MANIFEST_LOADED="hlsSteeringManifestLoaded",g.ASSET_LIST_LOADING="hlsAssetListLoading",g.ASSET_LIST_LOADED="hlsAssetListLoaded",g.INTERSTITIALS_UPDATED="hlsInterstitialsUpdated",g.INTERSTITIALS_BUFFERED_TO_BOUNDARY="hlsInterstitialsBufferedToBoundary",g.INTERSTITIAL_ASSET_PLAYER_CREATED="hlsInterstitialAssetPlayerCreated",g.INTERSTITIAL_STARTED="hlsInterstitialStarted",g.INTERSTITIAL_ASSET_STARTED="hlsInterstitialAssetStarted",g.INTERSTITIAL_ASSET_ENDED="hlsInterstitialAssetEnded",g.INTERSTITIAL_ASSET_ERROR="hlsInterstitialAssetError",g.INTERSTITIAL_ENDED="hlsInterstitialEnded",g.INTERSTITIALS_PRIMARY_RESUMED="hlsInterstitialsPrimaryResumed",g.PLAYOUT_LIMIT_REACHED="hlsPlayoutLimitReached",g.EVENT_CUE_ENTER="hlsEventCueEnter",g})({});var Kn={MANIFEST:"manifest",LEVEL:"level",AUDIO_TRACK:"audioTrack",SUBTITLE_TRACK:"subtitleTrack"},Je={MAIN:"main",AUDIO:"audio",SUBTITLE:"subtitle"};class Jo{constructor(t,n=0,i=0){this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=t,this.alpha_=t?Math.exp(Math.log(.5)/t):0,this.estimate_=n,this.totalWeight_=i}sample(t,n){const i=Math.pow(this.alpha_,t);this.estimate_=n*(1-i)+i*this.estimate_,this.totalWeight_+=t}getTotalWeight(){return this.totalWeight_}getEstimate(){if(this.alpha_){const t=1-Math.pow(this.alpha_,this.totalWeight_);if(t)return this.estimate_/t}return this.estimate_}}class gb{constructor(t,n,i,l=100){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=i,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new Jo(t),this.fast_=new Jo(n),this.defaultTTFB_=l,this.ttfb_=new Jo(t)}update(t,n){const{slow_:i,fast_:l,ttfb_:d}=this;i.halfLife!==t&&(this.slow_=new Jo(t,i.getEstimate(),i.getTotalWeight())),l.halfLife!==n&&(this.fast_=new Jo(n,l.getEstimate(),l.getTotalWeight())),d.halfLife!==t&&(this.ttfb_=new Jo(t,d.getEstimate(),d.getTotalWeight()))}sample(t,n){t=Math.max(t,this.minDelayMs_);const i=8*n,l=t/1e3,d=i/l;this.fast_.sample(l,d),this.slow_.sample(l,d)}sampleTTFB(t){const n=t/1e3,i=Math.sqrt(2)*Math.exp(-Math.pow(n,2)/2);this.ttfb_.sample(i,Math.max(t,5))}canEstimate(){return this.fast_.getTotalWeight()>=this.minWeight_}getEstimate(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}getEstimateTTFB(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}get defaultEstimate(){return this.defaultEstimate_}destroy(){}}function pb(g,t,n){return(t=vb(t))in g?Object.defineProperty(g,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):g[t]=n,g}function yr(){return yr=Object.assign?Object.assign.bind():function(g){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(g[i]=n[i])}return g},yr.apply(null,arguments)}function e0(g,t){var n=Object.keys(g);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(g);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(g,l).enumerable})),n.push.apply(n,i)}return n}function vr(g){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?e0(Object(n),!0).forEach(function(i){pb(g,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(n)):e0(Object(n)).forEach(function(i){Object.defineProperty(g,i,Object.getOwnPropertyDescriptor(n,i))})}return g}function mb(g,t){if(typeof g!="object"||!g)return g;var n=g[Symbol.toPrimitive];if(n!==void 0){var i=n.call(g,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(g)}function vb(g){var t=mb(g,"string");return typeof t=="symbol"?t:t+""}class as{constructor(t,n){this.trace=void 0,this.debug=void 0,this.log=void 0,this.warn=void 0,this.info=void 0,this.error=void 0;const i=`[${t}]:`;this.trace=Fa,this.debug=n.debug.bind(null,i),this.log=n.log.bind(null,i),this.warn=n.warn.bind(null,i),this.info=n.info.bind(null,i),this.error=n.error.bind(null,i)}}const Fa=function(){},yb={trace:Fa,debug:Fa,log:Fa,warn:Fa,info:Fa,error:Fa};function uh(){return yr({},yb)}function bb(g,t){const n=self.console[g];return n?n.bind(self.console,`${t?"["+t+"] ":""}[${g}] >`):Fa}function n0(g,t,n){return t[g]?t[g].bind(t):bb(g,n)}const ch=uh();function Eb(g,t,n){const i=uh();if(typeof console=="object"&&g===!0||typeof g=="object"){const l=["debug","log","info","warn","error"];l.forEach(d=>{i[d]=n0(d,g,n)});try{i.log(`Debug logs enabled for "${t}" in hls.js version 1.6.11`)}catch{return uh()}l.forEach(d=>{ch[d]=n0(d,g)})}else yr(ch,i);return i}const hr=ch;function Qa(g=!0){return typeof self>"u"?void 0:(g||!self.MediaSource)&&self.ManagedMediaSource||self.MediaSource||self.WebKitMediaSource}function Cb(g){return typeof self<"u"&&g===self.ManagedMediaSource}function Cm(g,t){const n=Object.keys(g),i=Object.keys(t),l=n.length,d=i.length;return!l||!d||l===d&&!n.some(s=>i.indexOf(s)===-1)}function Xi(g,t=!1){if(typeof TextDecoder<"u"){const o=new TextDecoder("utf-8").decode(g);if(t){const u=o.indexOf("\0");return u!==-1?o.substring(0,u):o}return o.replace(/\0/g,"")}const n=g.length;let i,l,d,s="",c=0;for(;c<n;){if(i=g[c++],i===0&&t)return s;if(i===0||i===3)continue;switch(i>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:s+=String.fromCharCode(i);break;case 12:case 13:l=g[c++],s+=String.fromCharCode((i&31)<<6|l&63);break;case 14:l=g[c++],d=g[c++],s+=String.fromCharCode((i&15)<<12|(l&63)<<6|(d&63)<<0);break}}return s}function Wi(g){let t="";for(let n=0;n<g.length;n++){let i=g[n].toString(16);i.length<2&&(i="0"+i),t+=i}return t}function Sm(g){return Uint8Array.from(g.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer}function Sb(g){return g&&g.__esModule&&Object.prototype.hasOwnProperty.call(g,"default")?g.default:g}var Fd={exports:{}},r0;function xb(){return r0||(r0=1,(function(g,t){(function(n){var i=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,l=/^(?=([^\/?#]*))\1([^]*)$/,d=/(?:\/|^)\.(?=\/)/g,s=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,c={buildAbsoluteURL:function(e,o,u){if(u=u||{},e=e.trim(),o=o.trim(),!o){if(!u.alwaysNormalize)return e;var f=c.parseURL(e);if(!f)throw new Error("Error trying to parse base URL.");return f.path=c.normalizePath(f.path),c.buildURLFromParts(f)}var A=c.parseURL(o);if(!A)throw new Error("Error trying to parse relative URL.");if(A.scheme)return u.alwaysNormalize?(A.path=c.normalizePath(A.path),c.buildURLFromParts(A)):o;var p=c.parseURL(e);if(!p)throw new Error("Error trying to parse base URL.");if(!p.netLoc&&p.path&&p.path[0]!=="/"){var m=l.exec(p.path);p.netLoc=m[1],p.path=m[2]}p.netLoc&&!p.path&&(p.path="/");var y={scheme:p.scheme,netLoc:A.netLoc,path:null,params:A.params,query:A.query,fragment:A.fragment};if(!A.netLoc&&(y.netLoc=p.netLoc,A.path[0]!=="/"))if(!A.path)y.path=p.path,A.params||(y.params=p.params,A.query||(y.query=p.query));else{var b=p.path,E=b.substring(0,b.lastIndexOf("/")+1)+A.path;y.path=c.normalizePath(E)}return y.path===null&&(y.path=u.alwaysNormalize?c.normalizePath(A.path):A.path),c.buildURLFromParts(y)},parseURL:function(e){var o=i.exec(e);return o?{scheme:o[1]||"",netLoc:o[2]||"",path:o[3]||"",params:o[4]||"",query:o[5]||"",fragment:o[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(d,"");e.length!==(e=e.replace(s,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}};g.exports=c})()})(Fd)),Fd.exports}var Dh=xb();class kh{constructor(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}}var Cr={AUDIO:"audio",VIDEO:"video",AUDIOVIDEO:"audiovideo"};class xm{constructor(t){this._byteRange=null,this._url=null,this._stats=null,this._streams=null,this.base=void 0,this.relurl=void 0,typeof t=="string"&&(t={url:t}),this.base=t,wb(this,"stats")}setByteRange(t,n){const i=t.split("@",2);let l;i.length===1?l=n?.byteRangeEndOffset||0:l=parseInt(i[1]),this._byteRange=[l,parseInt(i[0])+l]}get baseurl(){return this.base.url}get byteRange(){return this._byteRange===null?[]:this._byteRange}get byteRangeStartOffset(){return this.byteRange[0]}get byteRangeEndOffset(){return this.byteRange[1]}get elementaryStreams(){return this._streams===null&&(this._streams={[Cr.AUDIO]:null,[Cr.VIDEO]:null,[Cr.AUDIOVIDEO]:null}),this._streams}set elementaryStreams(t){this._streams=t}get hasStats(){return this._stats!==null}get hasStreams(){return this._streams!==null}get stats(){return this._stats===null&&(this._stats=new kh),this._stats}set stats(t){this._stats=t}get url(){return!this._url&&this.baseurl&&this.relurl&&(this._url=Dh.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""}set url(t){this._url=t}clearElementaryStreamInfo(){const{elementaryStreams:t}=this;t[Cr.AUDIO]=null,t[Cr.VIDEO]=null,t[Cr.AUDIOVIDEO]=null}}function qr(g){return g.sn!=="initSegment"}class Gd extends xm{constructor(t,n){super(n),this._decryptdata=null,this._programDateTime=null,this._ref=null,this._bitrate=void 0,this.rawProgramDateTime=null,this.tagList=[],this.duration=0,this.sn=0,this.levelkeys=void 0,this.type=void 0,this.loader=null,this.keyLoader=null,this.level=-1,this.cc=0,this.startPTS=void 0,this.endPTS=void 0,this.startDTS=void 0,this.endDTS=void 0,this.start=0,this.playlistOffset=0,this.deltaPTS=void 0,this.maxStartPTS=void 0,this.minEndPTS=void 0,this.data=void 0,this.bitrateTest=!1,this.title=null,this.initSegment=null,this.endList=void 0,this.gap=void 0,this.urlId=0,this.type=t}get byteLength(){if(this.hasStats){const t=this.stats.total;if(t)return t}if(this.byteRange.length){const t=this.byteRange[0],n=this.byteRange[1];if(je(t)&&je(n))return n-t}return null}get bitrate(){return this.byteLength?this.byteLength*8/this.duration:this._bitrate?this._bitrate:null}set bitrate(t){this._bitrate=t}get decryptdata(){const{levelkeys:t}=this;if(!t&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){const n=this.levelkeys.identity;if(n)this._decryptdata=n.getDecryptData(this.sn);else{const i=Object.keys(this.levelkeys);if(i.length===1){const l=this._decryptdata=this.levelkeys[i[0]]||null;if(l)return l.getDecryptData(this.sn)}}}return this._decryptdata}get end(){return this.start+this.duration}get endProgramDateTime(){if(this.programDateTime===null)return null;const t=je(this.duration)?this.duration:0;return this.programDateTime+t*1e3}get encrypted(){var t;if((t=this._decryptdata)!=null&&t.encrypted)return!0;if(this.levelkeys){var n;const i=Object.keys(this.levelkeys),l=i.length;if(l>1||l===1&&(n=this.levelkeys[i[0]])!=null&&n.encrypted)return!0}return!1}get programDateTime(){return this._programDateTime===null&&this.rawProgramDateTime&&(this.programDateTime=Date.parse(this.rawProgramDateTime)),this._programDateTime}set programDateTime(t){if(!je(t)){this._programDateTime=this.rawProgramDateTime=null;return}this._programDateTime=t}get ref(){return qr(this)?(this._ref||(this._ref={base:this.base,start:this.start,duration:this.duration,sn:this.sn,programDateTime:this.programDateTime}),this._ref):null}addStart(t){this.setStart(this.start+t)}setStart(t){this.start=t,this._ref&&(this._ref.start=t)}setDuration(t){this.duration=t,this._ref&&(this._ref.duration=t)}setKeyFormat(t){if(this.levelkeys){const n=this.levelkeys[t];n&&!this._decryptdata&&(this._decryptdata=n.getDecryptData(this.sn))}}abortRequests(){var t,n;(t=this.loader)==null||t.abort(),(n=this.keyLoader)==null||n.abort()}setElementaryStreamInfo(t,n,i,l,d,s=!1){const{elementaryStreams:c}=this,e=c[t];if(!e){c[t]={startPTS:n,endPTS:i,startDTS:l,endDTS:d,partial:s};return}e.startPTS=Math.min(e.startPTS,n),e.endPTS=Math.max(e.endPTS,i),e.startDTS=Math.min(e.startDTS,l),e.endDTS=Math.max(e.endDTS,d)}}class Tb extends xm{constructor(t,n,i,l,d){super(i),this.fragOffset=0,this.duration=0,this.gap=!1,this.independent=!1,this.relurl=void 0,this.fragment=void 0,this.index=void 0,this.duration=t.decimalFloatingPoint("DURATION"),this.gap=t.bool("GAP"),this.independent=t.bool("INDEPENDENT"),this.relurl=t.enumeratedString("URI"),this.fragment=n,this.index=l;const s=t.enumeratedString("BYTERANGE");s&&this.setByteRange(s,d),d&&(this.fragOffset=d.fragOffset+d.duration)}get start(){return this.fragment.start+this.fragOffset}get end(){return this.start+this.duration}get loaded(){const{elementaryStreams:t}=this;return!!(t.audio||t.video||t.audiovideo)}}function Tm(g,t){const n=Object.getPrototypeOf(g);if(n){const i=Object.getOwnPropertyDescriptor(n,t);return i||Tm(n,t)}}function wb(g,t){const n=Tm(g,t);n&&(n.enumerable=!0,Object.defineProperty(g,t,n))}const i0=Math.pow(2,32)-1,Lb=[].push,wm={video:1,audio:2,id3:3,text:4};function ei(g){return String.fromCharCode.apply(null,g)}function Lm(g,t){const n=g[t]<<8|g[t+1];return n<0?65536+n:n}function On(g,t){const n=Rm(g,t);return n<0?4294967296+n:n}function s0(g,t){let n=On(g,t);return n*=Math.pow(2,32),n+=On(g,t+4),n}function Rm(g,t){return g[t]<<24|g[t+1]<<16|g[t+2]<<8|g[t+3]}function Rb(g){const t=g.byteLength;for(let n=0;n<t;){const i=On(g,n);if(i>8&&g[n+4]===109&&g[n+5]===111&&g[n+6]===111&&g[n+7]===102)return!0;n=i>1?n+i:t}return!1}function Hn(g,t){const n=[];if(!t.length)return n;const i=g.byteLength;for(let l=0;l<i;){const d=On(g,l),s=ei(g.subarray(l+4,l+8)),c=d>1?l+d:i;if(s===t[0])if(t.length===1)n.push(g.subarray(l+8,c));else{const e=Hn(g.subarray(l+8,c),t.slice(1));e.length&&Lb.apply(n,e)}l=c}return n}function Ib(g){const t=[],n=g[0];let i=8;const l=On(g,i);i+=4;let d=0,s=0;n===0?(d=On(g,i),s=On(g,i+4),i+=8):(d=s0(g,i),s=s0(g,i+8),i+=16),i+=2;let c=g.length+s;const e=Lm(g,i);i+=2;for(let o=0;o<e;o++){let u=i;const f=On(g,u);u+=4;const A=f&2147483647;if((f&2147483648)>>>31===1)return hr.warn("SIDX has hierarchical references (not supported)"),null;const m=On(g,u);u+=4,t.push({referenceSize:A,subsegmentDuration:m,info:{duration:m/l,start:c,end:c+A-1}}),c+=A,u+=4,i=u}return{earliestPresentationTime:d,timescale:l,version:n,referencesCount:e,references:t}}function Im(g){const t=[],n=Hn(g,["moov","trak"]);for(let l=0;l<n.length;l++){const d=n[l],s=Hn(d,["tkhd"])[0];if(s){let c=s[0];const e=On(s,c===0?12:20),o=Hn(d,["mdia","mdhd"])[0];if(o){c=o[0];const u=On(o,c===0?12:20),f=Hn(d,["mdia","hdlr"])[0];if(f){const A=ei(f.subarray(8,12)),p={soun:Cr.AUDIO,vide:Cr.VIDEO}[A],m=Hn(d,["mdia","minf","stbl","stsd"])[0],y=Db(m);p?(t[e]={timescale:u,type:p,stsd:y},t[p]=vr({timescale:u,id:e},y)):t[e]={timescale:u,type:A,stsd:y}}}}}return Hn(g,["moov","mvex","trex"]).forEach(l=>{const d=On(l,4),s=t[d];s&&(s.default={duration:On(l,12),flags:On(l,20)})}),t}function Db(g){const t=g.subarray(8),n=t.subarray(86),i=ei(t.subarray(4,8));let l=i,d;const s=i==="enca"||i==="encv";if(s){const o=Hn(t,[i])[0].subarray(i==="enca"?28:78);Hn(o,["sinf"]).forEach(f=>{const A=Hn(f,["schm"])[0];if(A){const p=ei(A.subarray(4,8));if(p==="cbcs"||p==="cenc"){const m=Hn(f,["frma"])[0];m&&(l=ei(m))}}})}const c=l;switch(l){case"avc1":case"avc2":case"avc3":case"avc4":{const e=Hn(n,["avcC"])[0];e&&e.length>3&&(l+="."+dc(e[1])+dc(e[2])+dc(e[3]),d=fc(c==="avc1"?"dva1":"dvav",n));break}case"mp4a":{const e=Hn(t,[i])[0],o=Hn(e.subarray(28),["esds"])[0];if(o&&o.length>7){let u=4;if(o[u++]!==3)break;u=Qd(o,u),u+=2;const f=o[u++];if(f&128&&(u+=2),f&64&&(u+=o[u++]),o[u++]!==4)break;u=Qd(o,u);const A=o[u++];if(A===64)l+="."+dc(A);else break;if(u+=12,o[u++]!==5)break;u=Qd(o,u);const p=o[u++];let m=(p&248)>>3;m===31&&(m+=1+((p&7)<<3)+((o[u]&224)>>5)),l+="."+m}break}case"hvc1":case"hev1":{const e=Hn(n,["hvcC"])[0];if(e&&e.length>12){const o=e[1],u=["","A","B","C"][o>>6],f=o&31,A=On(e,2),p=(o&32)>>5?"H":"L",m=e[12],y=e.subarray(6,12);l+="."+u+f,l+="."+kb(A).toString(16).toUpperCase(),l+="."+p+m;let b="";for(let E=y.length;E--;){const S=y[E];(S||b)&&(b="."+S.toString(16).toUpperCase()+b)}l+=b}d=fc(c=="hev1"?"dvhe":"dvh1",n);break}case"dvh1":case"dvhe":case"dvav":case"dva1":case"dav1":{l=fc(l,n)||l;break}case"vp09":{const e=Hn(n,["vpcC"])[0];if(e&&e.length>6){const o=e[4],u=e[5],f=e[6]>>4&15;l+="."+Os(o)+"."+Os(u)+"."+Os(f)}break}case"av01":{const e=Hn(n,["av1C"])[0];if(e&&e.length>2){const o=e[1]>>>5,u=e[1]&31,f=e[2]>>>7?"H":"M",A=(e[2]&64)>>6,p=(e[2]&32)>>5,m=o===2&&A?p?12:10:A?10:8,y=(e[2]&16)>>4,b=(e[2]&8)>>3,E=(e[2]&4)>>2,S=e[2]&3;l+="."+o+"."+Os(u)+f+"."+Os(m)+"."+y+"."+b+E+S+"."+Os(1)+"."+Os(1)+"."+Os(1)+"."+0,d=fc("dav1",n)}break}}return{codec:l,encrypted:s,supplemental:d}}function fc(g,t){const n=Hn(t,["dvvC"]),i=n.length?n[0]:Hn(t,["dvcC"])[0];if(i){const l=i[2]>>1&127,d=i[2]<<5&32|i[3]>>3&31;return g+"."+Os(l)+"."+Os(d)}}function kb(g){let t=0;for(let n=0;n<32;n++)t|=(g>>n&1)<<31-n;return t>>>0}function Qd(g,t){const n=t+5;for(;g[t++]&128&&t<n;);return t}function dc(g){return("0"+g.toString(16).toUpperCase()).slice(-2)}function Os(g){return(g<10?"0":"")+g}function Bb(g,t){if(!g||!t)return;const n=t.keyId;n&&t.isCommonEncryption&&Hn(g,["moov","trak"]).forEach(l=>{const s=Hn(l,["mdia","minf","stbl","stsd"])[0].subarray(8);let c=Hn(s,["enca"]);const e=c.length>0;e||(c=Hn(s,["encv"])),c.forEach(o=>{const u=e?o.subarray(28):o.subarray(78);Hn(u,["sinf"]).forEach(A=>{const p=Dm(A);if(p){const m=p.subarray(8,24);m.some(y=>y!==0)||(hr.log(`[eme] Patching keyId in 'enc${e?"a":"v"}>sinf>>tenc' box: ${Wi(m)} -> ${Wi(n)}`),p.set(n,8))}})})})}function Dm(g){const t=Hn(g,["schm"])[0];if(t){const n=ei(t.subarray(4,8));if(n==="cbcs"||n==="cenc")return Hn(g,["schi","tenc"])[0]}return null}function Ob(g,t,n){const i={},l=Hn(g,["moof","traf"]);for(let d=0;d<l.length;d++){const s=l[d],c=Hn(s,["tfhd"])[0],e=On(c,4),o=t[e];if(!o)continue;i[e]||(i[e]={start:NaN,duration:0,sampleCount:0,timescale:o.timescale,type:o.type});const u=i[e],f=Hn(s,["tfdt"])[0];if(f){const T=f[0];let L=On(f,4);T===1&&(L===i0?n.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"):(L*=i0+1,L+=On(f,8))),je(L)&&(!je(u.start)||L<u.start)&&(u.start=L)}const A=o.default,p=On(c,0)|A?.flags;let m=A?.duration||0;p&8&&(p&2?m=On(c,12):m=On(c,8));const y=Hn(s,["trun"]);let b=u.start||0,E=0,S=m;for(let T=0;T<y.length;T++){const L=y[T],I=On(L,4),B=u.sampleCount;u.sampleCount+=I;const O=L[3]&1,_=L[3]&4,M=L[2]&1,U=L[2]&2,Q=L[2]&4,$=L[2]&8;let W=8,X=I;for(O&&(W+=4),_&&I&&(!(L[W+1]&1)&&u.keyFrameIndex===void 0&&(u.keyFrameIndex=B),W+=4,M?(S=On(L,W),W+=4):S=m,U&&(W+=4),$&&(W+=4),b+=S,E+=S,X--);X--;)M?(S=On(L,W),W+=4):S=m,U&&(W+=4),Q&&(L[W+1]&1||u.keyFrameIndex===void 0&&(u.keyFrameIndex=u.sampleCount-(X+1),u.keyFrameStart=b),W+=4),$&&(W+=4),b+=S,E+=S;!E&&m&&(E+=m*I)}u.duration+=E}if(!Object.keys(i).some(d=>i[d].duration)){let d=1/0,s=0;const c=Hn(g,["sidx"]);for(let e=0;e<c.length;e++){const o=Ib(c[e]);if(o!=null&&o.references){d=Math.min(d,o.earliestPresentationTime/o.timescale);const u=o.references.reduce((f,A)=>f+A.info.duration||0,0);s=Math.max(s,u+o.earliestPresentationTime/o.timescale)}}s&&je(s)&&Object.keys(i).forEach(e=>{i[e].duration||(i[e].duration=s*i[e].timescale-i[e].start)})}return i}function _b(g){const t={valid:null,remainder:null},n=Hn(g,["moof"]);if(n.length<2)return t.remainder=g,t;const i=n[n.length-1];return t.valid=g.slice(0,i.byteOffset-8),t.remainder=g.slice(i.byteOffset-8),t}function ss(g,t){const n=new Uint8Array(g.length+t.length);return n.set(g),n.set(t,g.length),n}function a0(g,t){const n=[],i=t.samples,l=t.timescale,d=t.id;let s=!1;return Hn(i,["moof"]).map(e=>{const o=e.byteOffset-8;Hn(e,["traf"]).map(f=>{const A=Hn(f,["tfdt"]).map(p=>{const m=p[0];let y=On(p,4);return m===1&&(y*=Math.pow(2,32),y+=On(p,8)),y/l})[0];return A!==void 0&&(g=A),Hn(f,["tfhd"]).map(p=>{const m=On(p,4),y=On(p,0)&16777215,b=(y&1)!==0,E=(y&2)!==0,S=(y&8)!==0;let T=0;const L=(y&16)!==0;let I=0;const B=(y&32)!==0;let O=8;m===d&&(b&&(O+=8),E&&(O+=4),S&&(T=On(p,O),O+=4),L&&(I=On(p,O),O+=4),B&&(O+=4),t.type==="video"&&(s=$c(t.codec)),Hn(f,["trun"]).map(_=>{const M=_[0],U=On(_,0)&16777215,Q=(U&1)!==0;let $=0;const W=(U&4)!==0,X=(U&256)!==0;let et=0;const Y=(U&512)!==0;let N=0;const K=(U&1024)!==0,Z=(U&2048)!==0;let F=0;const q=On(_,4);let nt=8;Q&&($=On(_,nt),nt+=4),W&&(nt+=4);let ot=$+o;for(let Ct=0;Ct<q;Ct++){if(X?(et=On(_,nt),nt+=4):et=T,Y?(N=On(_,nt),nt+=4):N=I,K&&(nt+=4),Z&&(M===0?F=On(_,nt):F=Rm(_,nt),nt+=4),t.type===Cr.VIDEO){let St=0;for(;St<N;){const Tt=On(i,ot);if(ot+=4,Mb(s,i[ot])){const Kt=i.subarray(ot,ot+Tt);Bh(Kt,s?2:1,g+F/l,n)}ot+=Tt,St+=Tt+4}}g+=et/l}}))})})}),n}function $c(g){if(!g)return!1;const t=g.substring(0,4);return t==="hvc1"||t==="hev1"||t==="dvh1"||t==="dvhe"}function Mb(g,t){if(g){const n=t>>1&63;return n===39||n===40}else return(t&31)===6}function Bh(g,t,n,i){const l=km(g);let d=0;d+=t;let s=0,c=0,e=0;for(;d<l.length;){s=0;do{if(d>=l.length)break;e=l[d++],s+=e}while(e===255);c=0;do{if(d>=l.length)break;e=l[d++],c+=e}while(e===255);const o=l.length-d;let u=d;if(c<o)d+=c;else if(c>o){hr.error(`Malformed SEI payload. ${c} is too small, only ${o} bytes left to parse.`);break}if(s===4){if(l[u++]===181){const A=Lm(l,u);if(u+=2,A===49){const p=On(l,u);if(u+=4,p===1195456820){const m=l[u++];if(m===3){const y=l[u++],b=31&y,E=64&y,S=E?2+b*3:0,T=new Uint8Array(S);if(E){T[0]=y;for(let L=1;L<S;L++)T[L]=l[u++]}i.push({type:m,payloadType:s,pts:n,bytes:T})}}}}}else if(s===5&&c>16){const f=[];for(let m=0;m<16;m++){const y=l[u++].toString(16);f.push(y.length==1?"0"+y:y),(m===3||m===5||m===7||m===9)&&f.push("-")}const A=c-16,p=new Uint8Array(A);for(let m=0;m<A;m++)p[m]=l[u++];i.push({payloadType:s,pts:n,uuid:f.join(""),userData:Xi(p),userDataBytes:p})}}}function km(g){const t=g.byteLength,n=[];let i=1;for(;i<t-2;)g[i]===0&&g[i+1]===0&&g[i+2]===3?(n.push(i+2),i+=2):i++;if(n.length===0)return g;const l=t-n.length,d=new Uint8Array(l);let s=0;for(i=0;i<l;s++,i++)s===n[0]&&(s++,n.shift()),d[i]=g[s];return d}function Pb(g){const t=g[0];let n="",i="",l=0,d=0,s=0,c=0,e=0,o=0;if(t===0){for(;ei(g.subarray(o,o+1))!=="\0";)n+=ei(g.subarray(o,o+1)),o+=1;for(n+=ei(g.subarray(o,o+1)),o+=1;ei(g.subarray(o,o+1))!=="\0";)i+=ei(g.subarray(o,o+1)),o+=1;i+=ei(g.subarray(o,o+1)),o+=1,l=On(g,12),d=On(g,16),c=On(g,20),e=On(g,24),o=28}else if(t===1){o+=4,l=On(g,o),o+=4;const f=On(g,o);o+=4;const A=On(g,o);for(o+=4,s=2**32*f+A,hb(s)||(s=Number.MAX_SAFE_INTEGER,hr.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),c=On(g,o),o+=4,e=On(g,o),o+=4;ei(g.subarray(o,o+1))!=="\0";)n+=ei(g.subarray(o,o+1)),o+=1;for(n+=ei(g.subarray(o,o+1)),o+=1;ei(g.subarray(o,o+1))!=="\0";)i+=ei(g.subarray(o,o+1)),o+=1;i+=ei(g.subarray(o,o+1)),o+=1}const u=g.subarray(o,g.byteLength);return{schemeIdUri:n,value:i,timeScale:l,presentationTime:s,presentationTimeDelta:d,eventDuration:c,id:e,payload:u}}function Nb(g,...t){const n=t.length;let i=8,l=n;for(;l--;)i+=t[l].byteLength;const d=new Uint8Array(i);for(d[0]=i>>24&255,d[1]=i>>16&255,d[2]=i>>8&255,d[3]=i&255,d.set(g,4),l=0,i=8;l<n;l++)d.set(t[l],i),i+=t[l].byteLength;return d}function Ub(g,t,n){if(g.byteLength!==16)throw new RangeError("Invalid system id");let i,l;i=0,l=new Uint8Array;let d;i>0?(d=new Uint8Array(4),t.length>0&&new DataView(d.buffer).setUint32(0,t.length,!1)):d=new Uint8Array;const s=new Uint8Array(4);return n.byteLength>0&&new DataView(s.buffer).setUint32(0,n.byteLength,!1),Nb([112,115,115,104],new Uint8Array([i,0,0,0]),g,d,l,s,n)}const Bm=()=>/\(Windows.+Firefox\//i.test(navigator.userAgent),cl={audio:{a3ds:1,"ac-3":.95,"ac-4":1,alac:.9,alaw:1,dra1:1,"dts+":1,"dts-":1,dtsc:1,dtse:1,dtsh:1,"ec-3":.9,enca:1,fLaC:.9,flac:.9,FLAC:.9,g719:1,g726:1,m4ae:1,mha1:1,mha2:1,mhm1:1,mhm2:1,mlpa:1,mp4a:1,"raw ":1,Opus:1,opus:1,samr:1,sawb:1,sawp:1,sevc:1,sqcp:1,ssmv:1,twos:1,ulaw:1},video:{avc1:1,avc2:1,avc3:1,avc4:1,avcp:1,av01:.8,dav1:.8,drac:1,dva1:1,dvav:1,dvh1:.7,dvhe:.7,encv:1,hev1:.75,hvc1:.75,mjp2:1,mp4v:1,mvc1:1,mvc2:1,mvc3:1,mvc4:1,resv:1,rv60:1,s263:1,svc1:1,svc2:1,"vc-1":1,vp08:1,vp09:.9},text:{stpp:1,wvtt:1}};function Oh(g,t){const n=cl[t];return!!n&&!!n[g.slice(0,4)]}function fh(g,t,n=!0){return!g.split(",").some(i=>!_h(i,t,n))}function _h(g,t,n=!0){var i;const l=Qa(n);return(i=l?.isTypeSupported(eu(g,t)))!=null?i:!1}function eu(g,t){return`${t}/mp4;codecs=${g}`}function o0(g){if(g){const t=g.substring(0,4);return cl.video[t]}return 2}function Pc(g){const t=Bm();return g.split(",").reduce((n,i)=>{const d=t&&$c(i)?9:cl.video[i];return d?(d*2+n)/(n?3:2):(cl.audio[i]+n)/(n?2:1)},0)}const jd={};function Fb(g,t=!0){if(jd[g])return jd[g];const n={flac:["flac","fLaC","FLAC"],opus:["opus","Opus"],"mp4a.40.34":["mp3"]}[g];for(let l=0;l<n.length;l++){var i;if(_h(n[l],"audio",t))return jd[g]=n[l],n[l];if(n[l]==="mp3"&&(i=Qa(t))!=null&&i.isTypeSupported("audio/mpeg"))return""}return g}const Gb=/flac|opus|mp4a\.40\.34/i;function Nc(g,t=!0){return g.replace(Gb,n=>Fb(n.toLowerCase(),t))}function Qb(g,t){const n=[];if(g){const i=g.split(",");for(let l=0;l<i.length;l++)Oh(i[l],"video")||n.push(i[l])}return t&&n.push(t),n.join(",")}function wc(g,t){if(g&&(g.length>4||["ac-3","ec-3","alac","fLaC","Opus"].indexOf(g)!==-1)&&(l0(g,"audio")||l0(g,"video")))return g;if(t){const n=t.split(",");if(n.length>1){if(g){for(let i=n.length;i--;)if(n[i].substring(0,4)===g.substring(0,4))return n[i]}return n[0]}}return t||g}function l0(g,t){return Oh(g,t)&&_h(g,t)}function jb(g){const t=g.split(",");for(let n=0;n<t.length;n++){const i=t[n].split(".");i.length>2&&i[0]==="avc1"&&(t[n]=`avc1.${parseInt(i[1]).toString(16)}${("000"+parseInt(i[2]).toString(16)).slice(-4)}`)}return t.join(",")}function zb(g){if(g.startsWith("av01.")){const t=g.split("."),n=["0","111","01","01","01","0"];for(let i=t.length;i>4&&i<10;i++)t[i]=n[i-4];return t.join(".")}return g}function u0(g){const t=Qa(g)||{isTypeSupported:()=>!1};return{mpeg:t.isTypeSupported("audio/mpeg"),mp3:t.isTypeSupported('audio/mp4; codecs="mp3"'),ac3:t.isTypeSupported('audio/mp4; codecs="ac-3"')}}function dh(g){return g.replace(/^.+codecs=["']?([^"']+).*$/,"$1")}const Hb={supported:!0,powerEfficient:!0,smooth:!0},Yb={supported:!1,smooth:!1,powerEfficient:!1},Om={supported:!0,configurations:[],decodingInfoResults:[Hb]};function _m(g,t){return{supported:!1,configurations:t,decodingInfoResults:[Yb],error:g}}function $b(g,t,n,i,l,d){const s=g.videoCodec,c=g.audioCodec?g.audioGroups:null,e=d?.audioCodec,o=d?.channels,u=o?parseInt(o):e?1/0:2;let f=null;if(c!=null&&c.length)try{c.length===1&&c[0]?f=t.groups[c[0]].channels:f=c.reduce((A,p)=>{if(p){const m=t.groups[p];if(!m)throw new Error(`Audio track group ${p} not found`);Object.keys(m.channels).forEach(y=>{A[y]=(A[y]||0)+m.channels[y]})}return A},{2:0})}catch{return!0}return s!==void 0&&(s.split(",").some(A=>$c(A))||g.width>1920&&g.height>1088||g.height>1920&&g.width>1088||g.frameRate>Math.max(i,30)||g.videoRange!=="SDR"&&g.videoRange!==n||g.bitrate>Math.max(l,8e6))||!!f&&je(u)&&Object.keys(f).some(A=>parseInt(A)>u)}function Mm(g,t,n,i={}){const l=g.videoCodec;if(!l&&!g.audioCodec||!n)return Promise.resolve(Om);const d=[],s=Vb(g),c=s.length,e=Kb(g,t,c>0),o=e.length;for(let u=c||1*o||1;u--;){const f={type:"media-source"};if(c&&(f.video=s[u%c]),o){f.audio=e[u%o];const A=f.audio.bitrate;f.video&&A&&(f.video.bitrate-=A)}d.push(f)}if(l){const u=navigator.userAgent;if(l.split(",").some(f=>$c(f))&&Bm())return Promise.resolve(_m(new Error(`Overriding Windows Firefox HEVC MediaCapabilities result based on user-agent string: (${u})`),d))}return Promise.all(d.map(u=>{const f=qb(u);return i[f]||(i[f]=n.decodingInfo(u))})).then(u=>({supported:!u.some(f=>!f.supported),configurations:d,decodingInfoResults:u})).catch(u=>({supported:!1,configurations:d,decodingInfoResults:[],error:u}))}function Vb(g){var t;const n=(t=g.videoCodec)==null?void 0:t.split(","),i=Pm(g),l=g.width||640,d=g.height||480,s=g.frameRate||30,c=g.videoRange.toLowerCase();return n?n.map(e=>{const o={contentType:eu(zb(e),"video"),width:l,height:d,bitrate:i,framerate:s};return c!=="sdr"&&(o.transferFunction=c),o}):[]}function Kb(g,t,n){var i;const l=(i=g.audioCodec)==null?void 0:i.split(","),d=Pm(g);return l&&g.audioGroups?g.audioGroups.reduce((s,c)=>{var e;const o=c?(e=t.groups[c])==null?void 0:e.tracks:null;return o?o.reduce((u,f)=>{if(f.groupId===c){const A=parseFloat(f.channels||"");l.forEach(p=>{const m={contentType:eu(p,"audio"),bitrate:n?Wb(p,d):d};A&&(m.channels=""+A),u.push(m)})}return u},s):s},[]):[]}function Wb(g,t){if(t<=1)return 1;let n=128e3;return g==="ec-3"?n=768e3:g==="ac-3"&&(n=64e4),Math.min(t/2,n)}function Pm(g){return Math.ceil(Math.max(g.bitrate*.9,g.averageBitrate)/1e3)*1e3||1}function qb(g){let t="";const{audio:n,video:i}=g;if(i){const l=dh(i.contentType);t+=`${l}_r${i.height}x${i.width}f${Math.ceil(i.framerate)}${i.transferFunction||"sd"}_${Math.ceil(i.bitrate/1e5)}`}if(n){const l=dh(n.contentType);t+=`${i?"_":""}${l}_c${n.channels}`}return t}const hh=["NONE","TYPE-0","TYPE-1",null];function Xb(g){return hh.indexOf(g)>-1}const Uc=["SDR","PQ","HLG"];function Zb(g){return!!g&&Uc.indexOf(g)>-1}var Lc={No:"",Yes:"YES",v2:"v2"};function c0(g){const{canSkipUntil:t,canSkipDateRanges:n,age:i}=g,l=i<t/2;return t&&l?n?Lc.v2:Lc.Yes:Lc.No}class f0{constructor(t,n,i){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=t,this.part=n,this.skip=i}addDirectives(t){const n=new self.URL(t);return this.msn!==void 0&&n.searchParams.set("_HLS_msn",this.msn.toString()),this.part!==void 0&&n.searchParams.set("_HLS_part",this.part.toString()),this.skip&&n.searchParams.set("_HLS_skip",this.skip),n.href}}class nu{constructor(t){if(this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.url=void 0,this.frameRate=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.supplemental=void 0,this.videoCodec=void 0,this.width=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.supportedPromise=void 0,this.supportedResult=void 0,this._avgBitrate=0,this._audioGroups=void 0,this._subtitleGroups=void 0,this._urlId=0,this.url=[t.url],this._attrs=[t.attrs],this.bitrate=t.bitrate,t.details&&(this.details=t.details),this.id=t.id||0,this.name=t.name,this.width=t.width||0,this.height=t.height||0,this.frameRate=t.attrs.optionalFloat("FRAME-RATE",0),this._avgBitrate=t.attrs.decimalInteger("AVERAGE-BANDWIDTH"),this.audioCodec=t.audioCodec,this.videoCodec=t.videoCodec,this.codecSet=[t.videoCodec,t.audioCodec].filter(i=>!!i).map(i=>i.substring(0,4)).join(","),"supplemental"in t){var n;this.supplemental=t.supplemental;const i=(n=t.supplemental)==null?void 0:n.videoCodec;i&&i!==t.videoCodec&&(this.codecSet+=`,${i.substring(0,4)}`)}this.addGroupId("audio",t.attrs.AUDIO),this.addGroupId("text",t.attrs.SUBTITLES)}get maxBitrate(){return Math.max(this.realBitrate,this.bitrate)}get averageBitrate(){return this._avgBitrate||this.realBitrate||this.bitrate}get attrs(){return this._attrs[0]}get codecs(){return this.attrs.CODECS||""}get pathwayId(){return this.attrs["PATHWAY-ID"]||"."}get videoRange(){return this.attrs["VIDEO-RANGE"]||"SDR"}get score(){return this.attrs.optionalFloat("SCORE",0)}get uri(){return this.url[0]||""}hasAudioGroup(t){return d0(this._audioGroups,t)}hasSubtitleGroup(t){return d0(this._subtitleGroups,t)}get audioGroups(){return this._audioGroups}get subtitleGroups(){return this._subtitleGroups}addGroupId(t,n){if(n){if(t==="audio"){let i=this._audioGroups;i||(i=this._audioGroups=[]),i.indexOf(n)===-1&&i.push(n)}else if(t==="text"){let i=this._subtitleGroups;i||(i=this._subtitleGroups=[]),i.indexOf(n)===-1&&i.push(n)}}}get urlId(){return 0}set urlId(t){}get audioGroupIds(){return this.audioGroups?[this.audioGroupId]:void 0}get textGroupIds(){return this.subtitleGroups?[this.textGroupId]:void 0}get audioGroupId(){var t;return(t=this.audioGroups)==null?void 0:t[0]}get textGroupId(){var t;return(t=this.subtitleGroups)==null?void 0:t[0]}addFallback(){}}function d0(g,t){return!t||!g?!1:g.indexOf(t)!==-1}function Jb(){if(typeof matchMedia=="function"){const g=matchMedia("(dynamic-range: high)"),t=matchMedia("bad query");if(g.media!==t.media)return g.matches===!0}return!1}function tE(g,t){let n=!1,i=[];if(g&&(n=g!=="SDR",i=[g]),t){i=t.allowedVideoRanges||Uc.slice(0);const l=i.join("")!=="SDR"&&!t.videoCodec;n=t.preferHDR!==void 0?t.preferHDR:l&&Jb(),n||(i=["SDR"])}return{preferHDR:n,allowedVideoRanges:i}}const eE=g=>{const t=new WeakSet;return(n,i)=>{if(g&&(i=g(n,i)),typeof i=="object"&&i!==null){if(t.has(i))return;t.add(i)}return i}},Lr=(g,t)=>JSON.stringify(g,eE(t));function nE(g,t,n,i,l){const d=Object.keys(g),s=i?.channels,c=i?.audioCodec,e=l?.videoCodec,o=s&&parseInt(s)===2;let u=!1,f=!1,A=1/0,p=1/0,m=1/0,y=1/0,b=0,E=[];const{preferHDR:S,allowedVideoRanges:T}=tE(t,l);for(let _=d.length;_--;){const M=g[d[_]];u||(u=M.channels[2]>0),A=Math.min(A,M.minHeight),p=Math.min(p,M.minFramerate),m=Math.min(m,M.minBitrate),T.filter(Q=>M.videoRanges[Q]>0).length>0&&(f=!0)}A=je(A)?A:0,p=je(p)?p:0;const L=Math.max(1080,A),I=Math.max(30,p);m=je(m)?m:n,n=Math.max(m,n),f||(t=void 0);const B=d.length>1;return{codecSet:d.reduce((_,M)=>{const U=g[M];if(M===_)return _;if(E=f?T.filter(Q=>U.videoRanges[Q]>0):[],B){if(U.minBitrate>n)return ks(M,`min bitrate of ${U.minBitrate} > current estimate of ${n}`),_;if(!U.hasDefaultAudio)return ks(M,"no renditions with default or auto-select sound found"),_;if(c&&M.indexOf(c.substring(0,4))%5!==0)return ks(M,`audio codec preference "${c}" not found`),_;if(s&&!o){if(!U.channels[s])return ks(M,`no renditions with ${s} channel sound found (channels options: ${Object.keys(U.channels)})`),_}else if((!c||o)&&u&&U.channels[2]===0)return ks(M,"no renditions with stereo sound found"),_;if(U.minHeight>L)return ks(M,`min resolution of ${U.minHeight} > maximum of ${L}`),_;if(U.minFramerate>I)return ks(M,`min framerate of ${U.minFramerate} > maximum of ${I}`),_;if(!E.some(Q=>U.videoRanges[Q]>0))return ks(M,`no variants with VIDEO-RANGE of ${Lr(E)} found`),_;if(e&&M.indexOf(e.substring(0,4))%5!==0)return ks(M,`video codec preference "${e}" not found`),_;if(U.maxScore<b)return ks(M,`max score of ${U.maxScore} < selected max of ${b}`),_}return _&&(Pc(M)>=Pc(_)||U.fragmentError>g[_].fragmentError)?_:(y=U.minIndex,b=U.maxScore,M)},void 0),videoRanges:E,preferHDR:S,minFramerate:p,minBitrate:m,minIndex:y}}function ks(g,t){hr.log(`[abr] start candidates with "${g}" ignored because ${t}`)}function Nm(g){return g.reduce((t,n)=>{let i=t.groups[n.groupId];i||(i=t.groups[n.groupId]={tracks:[],channels:{2:0},hasDefault:!1,hasAutoSelect:!1}),i.tracks.push(n);const l=n.channels||"2";return i.channels[l]=(i.channels[l]||0)+1,i.hasDefault=i.hasDefault||n.default,i.hasAutoSelect=i.hasAutoSelect||n.autoselect,i.hasDefault&&(t.hasDefaultAudio=!0),i.hasAutoSelect&&(t.hasAutoSelectAudio=!0),t},{hasDefaultAudio:!1,hasAutoSelectAudio:!1,groups:{}})}function rE(g,t,n,i){return g.slice(n,i+1).reduce((l,d,s)=>{if(!d.codecSet)return l;const c=d.audioGroups;let e=l[d.codecSet];e||(l[d.codecSet]=e={minBitrate:1/0,minHeight:1/0,minFramerate:1/0,minIndex:s,maxScore:0,videoRanges:{SDR:0},channels:{2:0},hasDefaultAudio:!c,fragmentError:0}),e.minBitrate=Math.min(e.minBitrate,d.bitrate);const o=Math.min(d.height,d.width);return e.minHeight=Math.min(e.minHeight,o),e.minFramerate=Math.min(e.minFramerate,d.frameRate),e.minIndex=Math.min(e.minIndex,s),e.maxScore=Math.max(e.maxScore,d.score),e.fragmentError+=d.fragmentError,e.videoRanges[d.videoRange]=(e.videoRanges[d.videoRange]||0)+1,c&&c.forEach(u=>{if(!u)return;const f=t.groups[u];f&&(e.hasDefaultAudio=e.hasDefaultAudio||t.hasDefaultAudio?f.hasDefault:f.hasAutoSelect||!t.hasDefaultAudio&&!t.hasAutoSelectAudio,Object.keys(f.channels).forEach(A=>{e.channels[A]=(e.channels[A]||0)+f.channels[A]}))}),l},{})}function h0(g){if(!g)return g;const{lang:t,assocLang:n,characteristics:i,channels:l,audioCodec:d}=g;return{lang:t,assocLang:n,characteristics:i,channels:l,audioCodec:d}}function Ms(g,t,n){if("attrs"in g){const i=t.indexOf(g);if(i!==-1)return i}for(let i=0;i<t.length;i++){const l=t[i];if(yo(g,l,n))return i}return-1}function yo(g,t,n){const{groupId:i,name:l,lang:d,assocLang:s,default:c}=g,e=g.forced;return(i===void 0||t.groupId===i)&&(l===void 0||t.name===l)&&(d===void 0||iE(d,t.lang))&&(d===void 0||t.assocLang===s)&&(c===void 0||t.default===c)&&(e===void 0||t.forced===e)&&(!("characteristics"in g)||sE(g.characteristics||"",t.characteristics))&&(n===void 0||n(g,t))}function iE(g,t="--"){return g.length===t.length?g===t:g.startsWith(t)||t.startsWith(g)}function sE(g,t=""){const n=g.split(","),i=t.split(",");return n.length===i.length&&!n.some(l=>i.indexOf(l)===-1)}function vo(g,t){const{audioCodec:n,channels:i}=g;return(n===void 0||(t.audioCodec||"").substring(0,4)===n.substring(0,4))&&(i===void 0||i===(t.channels||"2"))}function aE(g,t,n,i,l){const d=t[i],c=t.reduce((A,p,m)=>{const y=p.uri;return(A[y]||(A[y]=[])).push(m),A},{})[d.uri];c.length>1&&(i=Math.max.apply(Math,c));const e=d.videoRange,o=d.frameRate,u=d.codecSet.substring(0,4),f=A0(t,i,A=>{if(A.videoRange!==e||A.frameRate!==o||A.codecSet.substring(0,4)!==u)return!1;const p=A.audioGroups,m=n.filter(y=>!p||p.indexOf(y.groupId)!==-1);return Ms(g,m,l)>-1});return f>-1?f:A0(t,i,A=>{const p=A.audioGroups,m=n.filter(y=>!p||p.indexOf(y.groupId)!==-1);return Ms(g,m,l)>-1})}function A0(g,t,n){for(let i=t;i>-1;i--)if(n(g[i]))return i;for(let i=t+1;i<g.length;i++)if(n(g[i]))return i;return-1}function Fc(g,t){var n;return!!g&&g!==((n=t.loadLevelObj)==null?void 0:n.uri)}class oE extends as{constructor(t){super("abr",t.logger),this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=-1,this.firstSelection=-1,this._nextAutoLevel=-1,this.nextAutoLevelKey="",this.audioTracksByGroup=null,this.codecTiers=null,this.timer=-1,this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.rebufferNotice=-1,this.supportedCache={},this.bwEstimator=void 0,this._abandonRulesCheck=n=>{var i;const{fragCurrent:l,partCurrent:d,hls:s}=this,{autoLevelEnabled:c,media:e}=s;if(!l||!e)return;const o=performance.now(),u=d?d.stats:l.stats,f=d?d.duration:l.duration,A=o-u.loading.start,p=s.minAutoLevel,m=l.level,y=this._nextAutoLevel;if(u.aborted||u.loaded&&u.loaded===u.total||m<=p){this.clearTimer(),this._nextAutoLevel=-1;return}if(!c)return;const b=y>-1&&y!==m,E=!!n||b;if(!E&&(e.paused||!e.playbackRate||!e.readyState))return;const S=s.mainForwardBufferInfo;if(!E&&S===null)return;const T=this.bwEstimator.getEstimateTTFB(),L=Math.abs(e.playbackRate);if(A<=Math.max(T,1e3*(f/(L*2))))return;const I=S?S.len/L:0,B=u.loading.first?u.loading.first-u.loading.start:-1,O=u.loaded&&B>-1,_=this.getBwEstimate(),M=s.levels,U=M[m],Q=Math.max(u.loaded,Math.round(f*(l.bitrate||U.averageBitrate)/8));let $=O?A-B:A;$<1&&O&&($=Math.min(A,u.loaded*8/_));const W=O?u.loaded*1e3/$:0,X=T/1e3,et=W?(Q-u.loaded)/W:Q*8/_+X;if(et<=I)return;const Y=W?W*8:_,N=((i=n?.details||this.hls.latestLevelDetails)==null?void 0:i.live)===!0,K=this.hls.config.abrBandWidthUpFactor;let Z=Number.POSITIVE_INFINITY,F;for(F=m-1;F>p;F--){const Ct=M[F].maxBitrate,St=!M[F].details||N;if(Z=this.getTimeToLoadFrag(X,Y,f*Ct,St),Z<Math.min(I,f+X))break}if(Z>=et||Z>f*10)return;O?this.bwEstimator.sample(A-Math.min(T,B),u.loaded):this.bwEstimator.sampleTTFB(A);const q=M[F].maxBitrate;this.getBwEstimate()*K>q&&this.resetEstimator(q);const nt=this.findBestLevel(q,p,F,0,I,1,1);nt>-1&&(F=nt),this.warn(`Fragment ${l.sn}${d?" part "+d.index:""} of level ${m} is loading too slowly;
      Fragment duration: ${l.duration.toFixed(3)}
      Time to underbuffer: ${I.toFixed(3)} s
      Estimated load time for current fragment: ${et.toFixed(3)} s
      Estimated load time for down switch fragment: ${Z.toFixed(3)} s
      TTFB estimate: ${B|0} ms
      Current BW estimate: ${je(_)?_|0:"Unknown"} bps
      New BW estimate: ${this.getBwEstimate()|0} bps
      Switching to level ${F} @ ${q|0} bps`),s.nextLoadLevel=s.nextAutoLevel=F,this.clearTimer();const ot=()=>{if(this.clearTimer(),this.fragCurrent===l&&this.hls.loadLevel===F&&F>0){const Ct=this.getStarvationDelay();if(this.warn(`Aborting inflight request ${F>0?"and switching down":""}
      Fragment duration: ${l.duration.toFixed(3)} s
      Time to underbuffer: ${Ct.toFixed(3)} s`),l.abortRequests(),this.fragCurrent=this.partCurrent=null,F>p){let St=this.findBestLevel(this.hls.levels[p].bitrate,p,F,0,Ct,1,1);St===-1&&(St=p),this.hls.nextLoadLevel=this.hls.nextAutoLevel=St,this.resetEstimator(this.hls.levels[St].bitrate)}}};b||et>Z*2?ot():this.timer=self.setInterval(ot,Z*1e3),s.trigger(G.FRAG_LOAD_EMERGENCY_ABORTED,{frag:l,part:d,stats:u})},this.hls=t,this.bwEstimator=this.initEstimator(),this.registerListeners()}resetEstimator(t){t&&(this.log(`setting initial bwe to ${t}`),this.hls.config.abrEwmaDefaultEstimate=t),this.firstSelection=-1,this.bwEstimator=this.initEstimator()}initEstimator(){const t=this.hls.config;return new gb(t.abrEwmaSlowVoD,t.abrEwmaFastVoD,t.abrEwmaDefaultEstimate)}registerListeners(){const{hls:t}=this;t.on(G.MANIFEST_LOADING,this.onManifestLoading,this),t.on(G.FRAG_LOADING,this.onFragLoading,this),t.on(G.FRAG_LOADED,this.onFragLoaded,this),t.on(G.FRAG_BUFFERED,this.onFragBuffered,this),t.on(G.LEVEL_SWITCHING,this.onLevelSwitching,this),t.on(G.LEVEL_LOADED,this.onLevelLoaded,this),t.on(G.LEVELS_UPDATED,this.onLevelsUpdated,this),t.on(G.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),t.on(G.ERROR,this.onError,this)}unregisterListeners(){const{hls:t}=this;t&&(t.off(G.MANIFEST_LOADING,this.onManifestLoading,this),t.off(G.FRAG_LOADING,this.onFragLoading,this),t.off(G.FRAG_LOADED,this.onFragLoaded,this),t.off(G.FRAG_BUFFERED,this.onFragBuffered,this),t.off(G.LEVEL_SWITCHING,this.onLevelSwitching,this),t.off(G.LEVEL_LOADED,this.onLevelLoaded,this),t.off(G.LEVELS_UPDATED,this.onLevelsUpdated,this),t.off(G.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),t.off(G.ERROR,this.onError,this))}destroy(){this.unregisterListeners(),this.clearTimer(),this.hls=this._abandonRulesCheck=this.supportedCache=null,this.fragCurrent=this.partCurrent=null}onManifestLoading(t,n){this.lastLoadedFragLevel=-1,this.firstSelection=-1,this.lastLevelLoadSec=0,this.supportedCache={},this.fragCurrent=this.partCurrent=null,this.onLevelsUpdated(),this.clearTimer()}onLevelsUpdated(){this.lastLoadedFragLevel>-1&&this.fragCurrent&&(this.lastLoadedFragLevel=this.fragCurrent.level),this._nextAutoLevel=-1,this.onMaxAutoLevelUpdated(),this.codecTiers=null,this.audioTracksByGroup=null}onMaxAutoLevelUpdated(){this.firstSelection=-1,this.nextAutoLevelKey=""}onFragLoading(t,n){const i=n.frag;if(!this.ignoreFragment(i)){if(!i.bitrateTest){var l;this.fragCurrent=i,this.partCurrent=(l=n.part)!=null?l:null}this.clearTimer(),this.timer=self.setInterval(this._abandonRulesCheck,100)}}onLevelSwitching(t,n){this.clearTimer()}onError(t,n){if(!n.fatal)switch(n.details){case _t.BUFFER_ADD_CODEC_ERROR:case _t.BUFFER_APPEND_ERROR:this.lastLoadedFragLevel=-1,this.firstSelection=-1;break;case _t.FRAG_LOAD_TIMEOUT:{const i=n.frag,{fragCurrent:l,partCurrent:d}=this;if(i&&l&&i.sn===l.sn&&i.level===l.level){const s=performance.now(),c=d?d.stats:i.stats,e=s-c.loading.start,o=c.loading.first?c.loading.first-c.loading.start:-1;if(c.loaded&&o>-1){const f=this.bwEstimator.getEstimateTTFB();this.bwEstimator.sample(e-Math.min(f,o),c.loaded)}else this.bwEstimator.sampleTTFB(e)}break}}}getTimeToLoadFrag(t,n,i,l){const d=t+i/n,s=l?t+this.lastLevelLoadSec:0;return d+s}onLevelLoaded(t,n){const i=this.hls.config,{loading:l}=n.stats,d=l.end-l.first;je(d)&&(this.lastLevelLoadSec=d/1e3),n.details.live?this.bwEstimator.update(i.abrEwmaSlowLive,i.abrEwmaFastLive):this.bwEstimator.update(i.abrEwmaSlowVoD,i.abrEwmaFastVoD),this.timer>-1&&this._abandonRulesCheck(n.levelInfo)}onFragLoaded(t,{frag:n,part:i}){const l=i?i.stats:n.stats;if(n.type===Je.MAIN&&this.bwEstimator.sampleTTFB(l.loading.first-l.loading.start),!this.ignoreFragment(n)){if(this.clearTimer(),n.level===this._nextAutoLevel&&(this._nextAutoLevel=-1),this.firstSelection=-1,this.hls.config.abrMaxWithRealBitrate){const d=i?i.duration:n.duration,s=this.hls.levels[n.level],c=(s.loaded?s.loaded.bytes:0)+l.loaded,e=(s.loaded?s.loaded.duration:0)+d;s.loaded={bytes:c,duration:e},s.realBitrate=Math.round(8*c/e)}if(n.bitrateTest){const d={stats:l,frag:n,part:i,id:n.type};this.onFragBuffered(G.FRAG_BUFFERED,d),n.bitrateTest=!1}else this.lastLoadedFragLevel=n.level}}onFragBuffered(t,n){const{frag:i,part:l}=n,d=l!=null&&l.stats.loaded?l.stats:i.stats;if(d.aborted||this.ignoreFragment(i))return;const s=d.parsing.end-d.loading.start-Math.min(d.loading.first-d.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(s,d.loaded),d.bwEstimate=this.getBwEstimate(),i.bitrateTest?this.bitrateTestDelay=s/1e3:this.bitrateTestDelay=0}ignoreFragment(t){return t.type!==Je.MAIN||t.sn==="initSegment"}clearTimer(){this.timer>-1&&(self.clearInterval(this.timer),this.timer=-1)}get firstAutoLevel(){const{maxAutoLevel:t,minAutoLevel:n}=this.hls,i=this.getBwEstimate(),l=this.hls.config.maxStarvationDelay,d=this.findBestLevel(i,n,t,0,l,1,1);if(d>-1)return d;const s=this.hls.firstLevel,c=Math.min(Math.max(s,n),t);return this.warn(`Could not find best starting auto level. Defaulting to first in playlist ${s} clamped to ${c}`),c}get forcedAutoLevel(){return this.nextAutoLevelKey?-1:this._nextAutoLevel}get nextAutoLevel(){const t=this.forcedAutoLevel,i=this.bwEstimator.canEstimate(),l=this.lastLoadedFragLevel>-1;if(t!==-1&&(!i||!l||this.nextAutoLevelKey===this.getAutoLevelKey()))return t;const d=i&&l?this.getNextABRAutoLevel():this.firstAutoLevel;if(t!==-1){const s=this.hls.levels;if(s.length>Math.max(t,d)&&s[t].loadError<=s[d].loadError)return t}return this._nextAutoLevel=d,this.nextAutoLevelKey=this.getAutoLevelKey(),d}getAutoLevelKey(){return`${this.getBwEstimate()}_${this.getStarvationDelay().toFixed(2)}`}getNextABRAutoLevel(){const{fragCurrent:t,partCurrent:n,hls:i}=this;if(i.levels.length<=1)return i.loadLevel;const{maxAutoLevel:l,config:d,minAutoLevel:s}=i,c=n?n.duration:t?t.duration:0,e=this.getBwEstimate(),o=this.getStarvationDelay();let u=d.abrBandWidthFactor,f=d.abrBandWidthUpFactor;if(o){const b=this.findBestLevel(e,s,l,o,0,u,f);if(b>=0)return this.rebufferNotice=-1,b}let A=c?Math.min(c,d.maxStarvationDelay):d.maxStarvationDelay;if(!o){const b=this.bitrateTestDelay;b&&(A=(c?Math.min(c,d.maxLoadingDelay):d.maxLoadingDelay)-b,this.info(`bitrate test took ${Math.round(1e3*b)}ms, set first fragment max fetchDuration to ${Math.round(1e3*A)} ms`),u=f=1)}const p=this.findBestLevel(e,s,l,o,A,u,f);if(this.rebufferNotice!==p&&(this.rebufferNotice=p,this.info(`${o?"rebuffering expected":"buffer is empty"}, optimal quality level ${p}`)),p>-1)return p;const m=i.levels[s],y=i.loadLevelObj;return y&&m?.bitrate<y.bitrate?s:i.loadLevel}getStarvationDelay(){const t=this.hls,n=t.media;if(!n)return 1/0;const i=n&&n.playbackRate!==0?Math.abs(n.playbackRate):1,l=t.mainForwardBufferInfo;return(l?l.len:0)/i}getBwEstimate(){return this.bwEstimator.canEstimate()?this.bwEstimator.getEstimate():this.hls.config.abrEwmaDefaultEstimate}findBestLevel(t,n,i,l,d,s,c){var e;const o=l+d,u=this.lastLoadedFragLevel,f=u===-1?this.hls.firstLevel:u,{fragCurrent:A,partCurrent:p}=this,{levels:m,allAudioTracks:y,loadLevel:b,config:E}=this.hls;if(m.length===1)return 0;const S=m[f],T=!!((e=this.hls.latestLevelDetails)!=null&&e.live),L=b===-1||u===-1;let I,B="SDR",O=S?.frameRate||0;const{audioPreference:_,videoPreference:M}=E,U=this.audioTracksByGroup||(this.audioTracksByGroup=Nm(y));let Q=-1;if(L){if(this.firstSelection!==-1)return this.firstSelection;const Y=this.codecTiers||(this.codecTiers=rE(m,U,n,i)),N=nE(Y,B,t,_,M),{codecSet:K,videoRanges:Z,minFramerate:F,minBitrate:q,minIndex:nt,preferHDR:ot}=N;Q=nt,I=K,B=ot?Z[Z.length-1]:Z[0],O=F,t=Math.max(t,q),this.log(`picked start tier ${Lr(N)}`)}else I=S?.codecSet,B=S?.videoRange;const $=p?p.duration:A?A.duration:0,W=this.bwEstimator.getEstimateTTFB()/1e3,X=[];for(let Y=i;Y>=n;Y--){var et;const N=m[Y],K=Y>f;if(!N)continue;if(E.useMediaCapabilities&&!N.supportedResult&&!N.supportedPromise){const St=navigator.mediaCapabilities;typeof St?.decodingInfo=="function"&&$b(N,U,B,O,t,_)?(N.supportedPromise=Mm(N,U,St,this.supportedCache),N.supportedPromise.then(Tt=>{if(!this.hls)return;N.supportedResult=Tt;const Kt=this.hls.levels,$t=Kt.indexOf(N);Tt.error?this.warn(`MediaCapabilities decodingInfo error: "${Tt.error}" for level ${$t} ${Lr(Tt)}`):Tt.supported?Tt.decodingInfoResults.some(Vt=>Vt.smooth===!1||Vt.powerEfficient===!1)&&this.log(`MediaCapabilities decodingInfo for level ${$t} not smooth or powerEfficient: ${Lr(Tt)}`):(this.warn(`Unsupported MediaCapabilities decodingInfo result for level ${$t} ${Lr(Tt)}`),$t>-1&&Kt.length>1&&(this.log(`Removing unsupported level ${$t}`),this.hls.removeLevel($t),this.hls.loadLevel===-1&&(this.hls.nextLoadLevel=0)))}).catch(Tt=>{this.warn(`Error handling MediaCapabilities decodingInfo: ${Tt}`)})):N.supportedResult=Om}if((I&&N.codecSet!==I||B&&N.videoRange!==B||K&&O>N.frameRate||!K&&O>0&&O<N.frameRate||(et=N.supportedResult)!=null&&(et=et.decodingInfoResults)!=null&&et.some(St=>St.smooth===!1))&&(!L||Y!==Q)){X.push(Y);continue}const Z=N.details,F=(p?Z?.partTarget:Z?.averagetargetduration)||$;let q;K?q=c*t:q=s*t;const nt=$&&l>=$*2&&d===0?N.averageBitrate:N.maxBitrate,ot=this.getTimeToLoadFrag(W,q,nt*F,Z===void 0);if(q>=nt&&(Y===u||N.loadError===0&&N.fragmentError===0)&&(ot<=W||!je(ot)||T&&!this.bitrateTestDelay||ot<o)){const St=this.forcedAutoLevel;return Y!==b&&(St===-1||St!==b)&&(X.length&&this.trace(`Skipped level(s) ${X.join(",")} of ${i} max with CODECS and VIDEO-RANGE:"${m[X[0]].codecs}" ${m[X[0]].videoRange}; not compatible with "${I}" ${B}`),this.info(`switch candidate:${f}->${Y} adjustedbw(${Math.round(q)})-bitrate=${Math.round(q-nt)} ttfb:${W.toFixed(1)} avgDuration:${F.toFixed(1)} maxFetchDuration:${o.toFixed(1)} fetchDuration:${ot.toFixed(1)} firstSelection:${L} codecSet:${N.codecSet} videoRange:${N.videoRange} hls.loadLevel:${b}`)),L&&(this.firstSelection=Y),Y}}return-1}set nextAutoLevel(t){const n=this.deriveNextAutoLevel(t);this._nextAutoLevel!==n&&(this.nextAutoLevelKey="",this._nextAutoLevel=n)}deriveNextAutoLevel(t){const{maxAutoLevel:n,minAutoLevel:i}=this.hls;return Math.min(Math.max(t,i),n)}}const Um={search:function(g,t){let n=0,i=g.length-1,l=null,d=null;for(;n<=i;){l=(n+i)/2|0,d=g[l];const s=t(d);if(s>0)n=l+1;else if(s<0)i=l-1;else return d}return null}};function lE(g,t,n){if(t===null||!Array.isArray(g)||!g.length||!je(t))return null;const i=g[0].programDateTime;if(t<(i||0))return null;const l=g[g.length-1].endProgramDateTime;if(t>=(l||0))return null;for(let d=0;d<g.length;++d){const s=g[d];if(cE(t,n,s))return s}return null}function bo(g,t,n=0,i=0,l=.005){let d=null;if(g){d=t[1+g.sn-t[0].sn]||null;const c=g.endDTS-n;c>0&&c<15e-7&&(n+=15e-7),d&&g.level!==d.level&&d.end<=g.end&&(d=t[2+g.sn-t[0].sn]||null)}else n===0&&t[0].start===0&&(d=t[0]);if(d&&((!g||g.level===d.level)&&g0(n,i,d)===0||uE(d,g,Math.min(l,i))))return d;const s=Um.search(t,g0.bind(null,n,i));return s&&(s!==g||!d)?s:d}function uE(g,t,n){if(t&&t.start===0&&t.level<g.level&&(t.endPTS||0)>0){const i=t.tagList.reduce((l,d)=>(d[0]==="INF"&&(l+=parseFloat(d[1])),l),n);return g.start<=i}return!1}function g0(g=0,t=0,n){if(n.start<=g&&n.start+n.duration>g)return 0;const i=Math.min(t,n.duration+(n.deltaPTS?n.deltaPTS:0));return n.start+n.duration-i<=g?1:n.start-i>g&&n.start?-1:0}function cE(g,t,n){const i=Math.min(t,n.duration+(n.deltaPTS?n.deltaPTS:0))*1e3;return(n.endProgramDateTime||0)-i>g}function Fm(g,t,n){if(g&&g.startCC<=t&&g.endCC>=t){let i=g.fragments;const{fragmentHint:l}=g;l&&(i=i.concat(l));let d;return Um.search(i,s=>s.cc<t?1:s.cc>t?-1:(d=s,s.end<=n?1:s.start>n?-1:0)),d||null}return null}function Gc(g){switch(g.details){case _t.FRAG_LOAD_TIMEOUT:case _t.KEY_LOAD_TIMEOUT:case _t.LEVEL_LOAD_TIMEOUT:case _t.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function p0(g,t){const n=Gc(t);return g.default[`${n?"timeout":"error"}Retry`]}function Mh(g,t){const n=g.backoff==="linear"?1:Math.pow(2,t);return Math.min(n*g.retryDelayMs,g.maxRetryDelayMs)}function m0(g){return vr(vr({},g),{errorRetry:null,timeoutRetry:null})}function Qc(g,t,n,i){if(!g)return!1;const l=i?.code,d=t<g.maxNumRetry&&(fE(l)||!!n);return g.shouldRetry?g.shouldRetry(g,t,n,i,d):d}function fE(g){return Ah(g)||!!g&&(g<400||g>499)}function Ah(g){return g===0&&navigator.onLine===!1}var Ai={DoNothing:0,SendAlternateToPenaltyBox:2,RemoveAlternatePermanently:3,RetryRequest:5},Ki={None:0,MoveAllAlternatesMatchingHost:1,MoveAllAlternatesMatchingHDCP:2,MoveAllAlternatesMatchingKey:4};class dE extends as{constructor(t){super("error-controller",t.logger),this.hls=void 0,this.playlistError=0,this.hls=t,this.registerListeners()}registerListeners(){const t=this.hls;t.on(G.ERROR,this.onError,this),t.on(G.MANIFEST_LOADING,this.onManifestLoading,this),t.on(G.LEVEL_UPDATED,this.onLevelUpdated,this)}unregisterListeners(){const t=this.hls;t&&(t.off(G.ERROR,this.onError,this),t.off(G.ERROR,this.onErrorOut,this),t.off(G.MANIFEST_LOADING,this.onManifestLoading,this),t.off(G.LEVEL_UPDATED,this.onLevelUpdated,this))}destroy(){this.unregisterListeners(),this.hls=null}startLoad(t){}stopLoad(){this.playlistError=0}getVariantLevelIndex(t){return t?.type===Je.MAIN?t.level:this.getVariantIndex()}getVariantIndex(){var t;const n=this.hls,i=n.currentLevel;return(t=n.loadLevelObj)!=null&&t.details||i===-1?n.loadLevel:i}variantHasKey(t,n){if(t){var i;if((i=t.details)!=null&&i.hasKey(n))return!0;const l=t.audioGroups;if(l)return this.hls.allAudioTracks.filter(s=>l.indexOf(s.groupId)>=0).some(s=>{var c;return(c=s.details)==null?void 0:c.hasKey(n)})}return!1}onManifestLoading(){this.playlistError=0}onLevelUpdated(){this.playlistError=0}onError(t,n){var i;if(n.fatal)return;const l=this.hls,d=n.context;switch(n.details){case _t.FRAG_LOAD_ERROR:case _t.FRAG_LOAD_TIMEOUT:case _t.KEY_LOAD_ERROR:case _t.KEY_LOAD_TIMEOUT:n.errorAction=this.getFragRetryOrSwitchAction(n);return;case _t.FRAG_PARSING_ERROR:if((i=n.frag)!=null&&i.gap){n.errorAction=al();return}case _t.FRAG_GAP:case _t.FRAG_DECRYPT_ERROR:{n.errorAction=this.getFragRetryOrSwitchAction(n),n.errorAction.action=Ai.SendAlternateToPenaltyBox;return}case _t.LEVEL_EMPTY_ERROR:case _t.LEVEL_PARSING_ERROR:{var s;const e=n.parent===Je.MAIN?n.level:l.loadLevel;n.details===_t.LEVEL_EMPTY_ERROR&&((s=n.context)!=null&&(s=s.levelDetails)!=null&&s.live)?n.errorAction=this.getPlaylistRetryOrSwitchAction(n,e):(n.levelRetry=!1,n.errorAction=this.getLevelSwitchAction(n,e))}return;case _t.LEVEL_LOAD_ERROR:case _t.LEVEL_LOAD_TIMEOUT:typeof d?.level=="number"&&(n.errorAction=this.getPlaylistRetryOrSwitchAction(n,d.level));return;case _t.AUDIO_TRACK_LOAD_ERROR:case _t.AUDIO_TRACK_LOAD_TIMEOUT:case _t.SUBTITLE_LOAD_ERROR:case _t.SUBTITLE_TRACK_LOAD_TIMEOUT:if(d){const e=l.loadLevelObj;if(e&&(d.type===Kn.AUDIO_TRACK&&e.hasAudioGroup(d.groupId)||d.type===Kn.SUBTITLE_TRACK&&e.hasSubtitleGroup(d.groupId))){n.errorAction=this.getPlaylistRetryOrSwitchAction(n,l.loadLevel),n.errorAction.action=Ai.SendAlternateToPenaltyBox,n.errorAction.flags=Ki.MoveAllAlternatesMatchingHost;return}}return;case _t.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:n.errorAction={action:Ai.SendAlternateToPenaltyBox,flags:Ki.MoveAllAlternatesMatchingHDCP};return;case _t.KEY_SYSTEM_SESSION_UPDATE_FAILED:case _t.KEY_SYSTEM_STATUS_INTERNAL_ERROR:case _t.KEY_SYSTEM_NO_SESSION:n.errorAction={action:Ai.SendAlternateToPenaltyBox,flags:Ki.MoveAllAlternatesMatchingKey};return;case _t.BUFFER_ADD_CODEC_ERROR:case _t.REMUX_ALLOC_ERROR:case _t.BUFFER_APPEND_ERROR:if(!n.errorAction){var c;n.errorAction=this.getLevelSwitchAction(n,(c=n.level)!=null?c:l.loadLevel)}return;case _t.INTERNAL_EXCEPTION:case _t.BUFFER_APPENDING_ERROR:case _t.BUFFER_FULL_ERROR:case _t.LEVEL_SWITCH_ERROR:case _t.BUFFER_STALLED_ERROR:case _t.BUFFER_SEEK_OVER_HOLE:case _t.BUFFER_NUDGE_ON_STALL:n.errorAction=al();return}n.type===rn.KEY_SYSTEM_ERROR&&(n.levelRetry=!1,n.errorAction=al())}getPlaylistRetryOrSwitchAction(t,n){const i=this.hls,l=p0(i.config.playlistLoadPolicy,t),d=this.playlistError++;if(Qc(l,d,Gc(t),t.response))return{action:Ai.RetryRequest,flags:Ki.None,retryConfig:l,retryCount:d};const c=this.getLevelSwitchAction(t,n);return l&&(c.retryConfig=l,c.retryCount=d),c}getFragRetryOrSwitchAction(t){const n=this.hls,i=this.getVariantLevelIndex(t.frag),l=n.levels[i],{fragLoadPolicy:d,keyLoadPolicy:s}=n.config,c=p0(t.details.startsWith("key")?s:d,t),e=n.levels.reduce((u,f)=>u+f.fragmentError,0);if(l&&(t.details!==_t.FRAG_GAP&&l.fragmentError++,Qc(c,e,Gc(t),t.response)))return{action:Ai.RetryRequest,flags:Ki.None,retryConfig:c,retryCount:e};const o=this.getLevelSwitchAction(t,i);return c&&(o.retryConfig=c,o.retryCount=e),o}getLevelSwitchAction(t,n){const i=this.hls;n==null&&(n=i.loadLevel);const l=this.hls.levels[n];if(l){var d,s;const o=t.details;l.loadError++,o===_t.BUFFER_APPEND_ERROR&&l.fragmentError++;let u=-1;const{levels:f,loadLevel:A,minAutoLevel:p,maxAutoLevel:m}=i;!i.autoLevelEnabled&&!i.config.preserveManualLevelOnError&&(i.loadLevel=-1);const y=(d=t.frag)==null?void 0:d.type,E=(y===Je.AUDIO&&o===_t.FRAG_PARSING_ERROR||t.sourceBufferName==="audio"&&(o===_t.BUFFER_ADD_CODEC_ERROR||o===_t.BUFFER_APPEND_ERROR))&&f.some(({audioCodec:B})=>l.audioCodec!==B),T=t.sourceBufferName==="video"&&(o===_t.BUFFER_ADD_CODEC_ERROR||o===_t.BUFFER_APPEND_ERROR)&&f.some(({codecSet:B,audioCodec:O})=>l.codecSet!==B&&l.audioCodec===O),{type:L,groupId:I}=(s=t.context)!=null?s:{};for(let B=f.length;B--;){const O=(B+A)%f.length;if(O!==A&&O>=p&&O<=m&&f[O].loadError===0){var c,e;const _=f[O];if(o===_t.FRAG_GAP&&y===Je.MAIN&&t.frag){const M=f[O].details;if(M){const U=bo(t.frag,M.fragments,t.frag.start);if(U!=null&&U.gap)continue}}else{if(L===Kn.AUDIO_TRACK&&_.hasAudioGroup(I)||L===Kn.SUBTITLE_TRACK&&_.hasSubtitleGroup(I))continue;if(y===Je.AUDIO&&(c=l.audioGroups)!=null&&c.some(M=>_.hasAudioGroup(M))||y===Je.SUBTITLE&&(e=l.subtitleGroups)!=null&&e.some(M=>_.hasSubtitleGroup(M))||E&&l.audioCodec===_.audioCodec||T&&l.codecSet===_.codecSet||!E&&l.codecSet!==_.codecSet)continue}u=O;break}}if(u>-1&&i.loadLevel!==u)return t.levelRetry=!0,this.playlistError=0,{action:Ai.SendAlternateToPenaltyBox,flags:Ki.None,nextAutoLevel:u}}return{action:Ai.SendAlternateToPenaltyBox,flags:Ki.MoveAllAlternatesMatchingHost}}onErrorOut(t,n){var i;switch((i=n.errorAction)==null?void 0:i.action){case Ai.DoNothing:break;case Ai.SendAlternateToPenaltyBox:this.sendAlternateToPenaltyBox(n),!n.errorAction.resolved&&n.details!==_t.FRAG_GAP?n.fatal=!0:/MediaSource readyState: ended/.test(n.error.message)&&(this.warn(`MediaSource ended after "${n.sourceBufferName}" sourceBuffer append error. Attempting to recover from media error.`),this.hls.recoverMediaError());break}if(n.fatal){this.hls.stopLoad();return}}sendAlternateToPenaltyBox(t){const n=this.hls,i=t.errorAction;if(!i)return;const{flags:l}=i,d=i.nextAutoLevel;switch(l){case Ki.None:this.switchLevel(t,d);break;case Ki.MoveAllAlternatesMatchingHDCP:{const e=this.getVariantLevelIndex(t.frag),o=n.levels[e],u=o?.attrs["HDCP-LEVEL"];if(i.hdcpLevel=u,u){n.maxHdcpLevel=hh[hh.indexOf(u)-1],i.resolved=!0,this.warn(`Restricting playback to HDCP-LEVEL of "${n.maxHdcpLevel}" or lower`);break}}case Ki.MoveAllAlternatesMatchingKey:{const e=t.decryptdata;if(e){const o=this.hls.levels;for(let u=o.length;u--;)if(this.variantHasKey(o[u],e)){var s,c;this.log(`Banned key found in level ${u} (${o[u].bitrate}bps) or audio group "${(s=o[u].audioGroups)==null?void 0:s.join(",")}" (${(c=t.frag)==null?void 0:c.type} fragment) ${Wi(e.keyId||[])}`),o[u].fragmentError++,o[u].loadError++,this.log(`Removing level ${u} with key error (${t.error})`),this.hls.removeLevel(u)}o.length&&(i.resolved=!0)}break}}i.resolved||this.switchLevel(t,d)}switchLevel(t,n){if(n!==void 0&&t.errorAction&&(this.warn(`switching to level ${n} after ${t.details}`),this.hls.nextAutoLevel=n,t.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel,t.details===_t.BUFFER_ADD_CODEC_ERROR&&t.mimeType&&t.sourceBufferName!=="audiovideo")){const i=dh(t.mimeType),l=this.hls.levels;for(let d=l.length;d--;)l[d][`${t.sourceBufferName}Codec`]===i&&(this.log(`Removing level ${d} for ${t.details} ("${i}" not supported)`),this.hls.removeLevel(d))}}}function al(g){const t={action:Ai.DoNothing,flags:Ki.None};return g&&(t.resolved=!0),t}var ni={NOT_LOADED:"NOT_LOADED",APPENDING:"APPENDING",PARTIAL:"PARTIAL",OK:"OK"};class hE{constructor(t){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=t,this._registerListeners()}_registerListeners(){const{hls:t}=this;t&&(t.on(G.MANIFEST_LOADING,this.onManifestLoading,this),t.on(G.BUFFER_APPENDED,this.onBufferAppended,this),t.on(G.FRAG_BUFFERED,this.onFragBuffered,this),t.on(G.FRAG_LOADED,this.onFragLoaded,this))}_unregisterListeners(){const{hls:t}=this;t&&(t.off(G.MANIFEST_LOADING,this.onManifestLoading,this),t.off(G.BUFFER_APPENDED,this.onBufferAppended,this),t.off(G.FRAG_BUFFERED,this.onFragBuffered,this),t.off(G.FRAG_LOADED,this.onFragLoaded,this))}destroy(){this._unregisterListeners(),this.hls=this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}getAppendedFrag(t,n){const i=this.activePartLists[n];if(i)for(let l=i.length;l--;){const d=i[l];if(!d)break;if(d.start<=t&&t<=d.end&&d.loaded)return d}return this.getBufferedFrag(t,n)}getBufferedFrag(t,n){return this.getFragAtPos(t,n,!0)}getFragAtPos(t,n,i){const{fragments:l}=this,d=Object.keys(l);for(let s=d.length;s--;){const c=l[d[s]];if(c?.body.type===n&&(!i||c.buffered)){const e=c.body;if(e.start<=t&&t<=e.end)return e}}return null}detectEvictedFragments(t,n,i,l,d){this.timeRanges&&(this.timeRanges[t]=n);const s=l?.fragment.sn||-1;Object.keys(this.fragments).forEach(c=>{const e=this.fragments[c];if(!e||s>=e.body.sn)return;if(!e.buffered&&(!e.loaded||d)){e.body.type===i&&this.removeFragment(e.body);return}const o=e.range[t];if(o){if(o.time.length===0){this.removeFragment(e.body);return}o.time.some(u=>{const f=!this.isTimeBuffered(u.startPTS,u.endPTS,n);return f&&this.removeFragment(e.body),f})}})}detectPartialFragments(t){const n=this.timeRanges;if(!n||t.frag.sn==="initSegment")return;const i=t.frag,l=tl(i),d=this.fragments[l];if(!d||d.buffered&&i.gap)return;const s=!i.relurl;Object.keys(n).forEach(c=>{const e=i.elementaryStreams[c];if(!e)return;const o=n[c],u=s||e.partial===!0;d.range[c]=this.getBufferedTimes(i,t.part,u,o)}),d.loaded=null,Object.keys(d.range).length?(d.buffered=!0,(d.body.endList=i.endList||d.body.endList)&&(this.endListFragments[d.body.type]=d),hc(d)||this.removeParts(i.sn-1,i.type)):this.removeFragment(d.body)}removeParts(t,n){const i=this.activePartLists[n];i&&(this.activePartLists[n]=v0(i,l=>l.fragment.sn>=t))}fragBuffered(t,n){const i=tl(t);let l=this.fragments[i];!l&&n&&(l=this.fragments[i]={body:t,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},t.gap&&(this.hasGaps=!0)),l&&(l.loaded=null,l.buffered=!0)}getBufferedTimes(t,n,i,l){const d={time:[],partial:i},s=t.start,c=t.end,e=t.minEndPTS||c,o=t.maxStartPTS||s;for(let u=0;u<l.length;u++){const f=l.start(u)-this.bufferPadding,A=l.end(u)+this.bufferPadding;if(o>=f&&e<=A){d.time.push({startPTS:Math.max(s,l.start(u)),endPTS:Math.min(c,l.end(u))});break}else if(s<A&&c>f){const p=Math.max(s,l.start(u)),m=Math.min(c,l.end(u));m>p&&(d.partial=!0,d.time.push({startPTS:p,endPTS:m}))}else if(c<=f)break}return d}getPartialFragment(t){let n=null,i,l,d,s=0;const{bufferPadding:c,fragments:e}=this;return Object.keys(e).forEach(o=>{const u=e[o];u&&hc(u)&&(l=u.body.start-c,d=u.body.end+c,t>=l&&t<=d&&(i=Math.min(t-l,d-t),s<=i&&(n=u.body,s=i)))}),n}isEndListAppended(t){const n=this.endListFragments[t];return n!==void 0&&(n.buffered||hc(n))}getState(t){const n=tl(t),i=this.fragments[n];return i?i.buffered?hc(i)?ni.PARTIAL:ni.OK:ni.APPENDING:ni.NOT_LOADED}isTimeBuffered(t,n,i){let l,d;for(let s=0;s<i.length;s++){if(l=i.start(s)-this.bufferPadding,d=i.end(s)+this.bufferPadding,t>=l&&n<=d)return!0;if(n<=l)return!1}return!1}onManifestLoading(){this.removeAllFragments()}onFragLoaded(t,n){if(n.frag.sn==="initSegment"||n.frag.bitrateTest)return;const i=n.frag,l=n.part?null:n,d=tl(i);this.fragments[d]={body:i,appendedPTS:null,loaded:l,buffered:!1,range:Object.create(null)}}onBufferAppended(t,n){const{frag:i,part:l,timeRanges:d,type:s}=n;if(i.sn==="initSegment")return;const c=i.type;if(l){let o=this.activePartLists[c];o||(this.activePartLists[c]=o=[]),o.push(l)}this.timeRanges=d;const e=d[s];this.detectEvictedFragments(s,e,c,l)}onFragBuffered(t,n){this.detectPartialFragments(n)}hasFragment(t){const n=tl(t);return!!this.fragments[n]}hasFragments(t){const{fragments:n}=this,i=Object.keys(n);if(!t)return i.length>0;for(let l=i.length;l--;){const d=n[i[l]];if(d?.body.type===t)return!0}return!1}hasParts(t){var n;return!!((n=this.activePartLists[t])!=null&&n.length)}removeFragmentsInRange(t,n,i,l,d){l&&!this.hasGaps||Object.keys(this.fragments).forEach(s=>{const c=this.fragments[s];if(!c)return;const e=c.body;e.type!==i||l&&!e.gap||e.start<n&&e.end>t&&(c.buffered||d)&&this.removeFragment(e)})}removeFragment(t){const n=tl(t);t.clearElementaryStreamInfo();const i=this.activePartLists[t.type];if(i){const l=t.sn;this.activePartLists[t.type]=v0(i,d=>d.fragment.sn!==l)}delete this.fragments[n],t.endList&&delete this.endListFragments[t.type]}removeAllFragments(){var t;this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1;const n=(t=this.hls)==null||(t=t.latestLevelDetails)==null?void 0:t.partList;n&&n.forEach(i=>i.clearElementaryStreamInfo())}}function hc(g){var t,n,i;return g.buffered&&!!(g.body.gap||(t=g.range.video)!=null&&t.partial||(n=g.range.audio)!=null&&n.partial||(i=g.range.audiovideo)!=null&&i.partial)}function tl(g){return`${g.type}_${g.level}_${g.sn}`}function v0(g,t){return g.filter(n=>{const i=t(n);return i||n.clearElementaryStreamInfo(),i})}var ja={cbc:0,ctr:1};class AE{constructor(t,n,i){this.subtle=void 0,this.aesIV=void 0,this.aesMode=void 0,this.subtle=t,this.aesIV=n,this.aesMode=i}decrypt(t,n){switch(this.aesMode){case ja.cbc:return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},n,t);case ja.ctr:return this.subtle.decrypt({name:"AES-CTR",counter:this.aesIV,length:64},n,t);default:throw new Error(`[AESCrypto] invalid aes mode ${this.aesMode}`)}}}function gE(g){const t=g.byteLength,n=t&&new DataView(g.buffer).getUint8(t-1);return n?g.slice(0,t-n):g}class pE{constructor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}uint8ArrayToUint32Array_(t){const n=new DataView(t),i=new Uint32Array(4);for(let l=0;l<4;l++)i[l]=n.getUint32(l*4);return i}initTable(){const t=this.sBox,n=this.invSBox,i=this.subMix,l=i[0],d=i[1],s=i[2],c=i[3],e=this.invSubMix,o=e[0],u=e[1],f=e[2],A=e[3],p=new Uint32Array(256);let m=0,y=0,b=0;for(b=0;b<256;b++)b<128?p[b]=b<<1:p[b]=b<<1^283;for(b=0;b<256;b++){let E=y^y<<1^y<<2^y<<3^y<<4;E=E>>>8^E&255^99,t[m]=E,n[E]=m;const S=p[m],T=p[S],L=p[T];let I=p[E]*257^E*16843008;l[m]=I<<24|I>>>8,d[m]=I<<16|I>>>16,s[m]=I<<8|I>>>24,c[m]=I,I=L*16843009^T*65537^S*257^m*16843008,o[E]=I<<24|I>>>8,u[E]=I<<16|I>>>16,f[E]=I<<8|I>>>24,A[E]=I,m?(m=S^p[p[p[L^S]]],y^=p[p[y]]):m=y=1}}expandKey(t){const n=this.uint8ArrayToUint32Array_(t);let i=!0,l=0;for(;l<n.length&&i;)i=n[l]===this.key[l],l++;if(i)return;this.key=n;const d=this.keySize=n.length;if(d!==4&&d!==6&&d!==8)throw new Error("Invalid aes key size="+d);const s=this.ksRows=(d+6+1)*4;let c,e;const o=this.keySchedule=new Uint32Array(s),u=this.invKeySchedule=new Uint32Array(s),f=this.sBox,A=this.rcon,p=this.invSubMix,m=p[0],y=p[1],b=p[2],E=p[3];let S,T;for(c=0;c<s;c++){if(c<d){S=o[c]=n[c];continue}T=S,c%d===0?(T=T<<8|T>>>24,T=f[T>>>24]<<24|f[T>>>16&255]<<16|f[T>>>8&255]<<8|f[T&255],T^=A[c/d|0]<<24):d>6&&c%d===4&&(T=f[T>>>24]<<24|f[T>>>16&255]<<16|f[T>>>8&255]<<8|f[T&255]),o[c]=S=(o[c-d]^T)>>>0}for(e=0;e<s;e++)c=s-e,e&3?T=o[c]:T=o[c-4],e<4||c<=4?u[e]=T:u[e]=m[f[T>>>24]]^y[f[T>>>16&255]]^b[f[T>>>8&255]]^E[f[T&255]],u[e]=u[e]>>>0}networkToHostOrderSwap(t){return t<<24|(t&65280)<<8|(t&16711680)>>8|t>>>24}decrypt(t,n,i){const l=this.keySize+6,d=this.invKeySchedule,s=this.invSBox,c=this.invSubMix,e=c[0],o=c[1],u=c[2],f=c[3],A=this.uint8ArrayToUint32Array_(i);let p=A[0],m=A[1],y=A[2],b=A[3];const E=new Int32Array(t),S=new Int32Array(E.length);let T,L,I,B,O,_,M,U,Q,$,W,X,et,Y;const N=this.networkToHostOrderSwap;for(;n<E.length;){for(Q=N(E[n]),$=N(E[n+1]),W=N(E[n+2]),X=N(E[n+3]),O=Q^d[0],_=X^d[1],M=W^d[2],U=$^d[3],et=4,Y=1;Y<l;Y++)T=e[O>>>24]^o[_>>16&255]^u[M>>8&255]^f[U&255]^d[et],L=e[_>>>24]^o[M>>16&255]^u[U>>8&255]^f[O&255]^d[et+1],I=e[M>>>24]^o[U>>16&255]^u[O>>8&255]^f[_&255]^d[et+2],B=e[U>>>24]^o[O>>16&255]^u[_>>8&255]^f[M&255]^d[et+3],O=T,_=L,M=I,U=B,et=et+4;T=s[O>>>24]<<24^s[_>>16&255]<<16^s[M>>8&255]<<8^s[U&255]^d[et],L=s[_>>>24]<<24^s[M>>16&255]<<16^s[U>>8&255]<<8^s[O&255]^d[et+1],I=s[M>>>24]<<24^s[U>>16&255]<<16^s[O>>8&255]<<8^s[_&255]^d[et+2],B=s[U>>>24]<<24^s[O>>16&255]<<16^s[_>>8&255]<<8^s[M&255]^d[et+3],S[n]=N(T^p),S[n+1]=N(B^m),S[n+2]=N(I^y),S[n+3]=N(L^b),p=Q,m=$,y=W,b=X,n=n+4}return S.buffer}}class mE{constructor(t,n,i){this.subtle=void 0,this.key=void 0,this.aesMode=void 0,this.subtle=t,this.key=n,this.aesMode=i}expandKey(){const t=vE(this.aesMode);return this.subtle.importKey("raw",this.key,{name:t},!1,["encrypt","decrypt"])}}function vE(g){switch(g){case ja.cbc:return"AES-CBC";case ja.ctr:return"AES-CTR";default:throw new Error(`[FastAESKey] invalid aes mode ${g}`)}}const yE=16;class Ph{constructor(t,{removePKCS7Padding:n=!0}={}){if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.enableSoftwareAES=void 0,this.enableSoftwareAES=t.enableSoftwareAES,this.removePKCS7Padding=n,n)try{const i=self.crypto;i&&(this.subtle=i.subtle||i.webkitSubtle)}catch{}this.useSoftware=!this.subtle}destroy(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}isSync(){return this.useSoftware}flush(){const{currentResult:t,remainderData:n}=this;if(!t||n)return this.reset(),null;const i=new Uint8Array(t);return this.reset(),this.removePKCS7Padding?gE(i):i}reset(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}decrypt(t,n,i,l){return this.useSoftware?new Promise((d,s)=>{const c=ArrayBuffer.isView(t)?t:new Uint8Array(t);this.softwareDecrypt(c,n,i,l);const e=this.flush();e?d(e.buffer):s(new Error("[softwareDecrypt] Failed to decrypt data"))}):this.webCryptoDecrypt(new Uint8Array(t),n,i,l)}softwareDecrypt(t,n,i,l){const{currentIV:d,currentResult:s,remainderData:c}=this;if(l!==ja.cbc||n.byteLength!==16)return hr.warn("SoftwareDecrypt: can only handle AES-128-CBC"),null;this.logOnce("JS AES decrypt"),c&&(t=ss(c,t),this.remainderData=null);const e=this.getValidChunk(t);if(!e.length)return null;d&&(i=d);let o=this.softwareDecrypter;o||(o=this.softwareDecrypter=new pE),o.expandKey(n);const u=s;return this.currentResult=o.decrypt(e.buffer,0,i),this.currentIV=e.slice(-16).buffer,u||null}webCryptoDecrypt(t,n,i,l){if(this.key!==n||!this.fastAesKey){if(!this.subtle)return Promise.resolve(this.onWebCryptoError(t,n,i,l));this.key=n,this.fastAesKey=new mE(this.subtle,n,l)}return this.fastAesKey.expandKey().then(d=>this.subtle?(this.logOnce("WebCrypto AES decrypt"),new AE(this.subtle,new Uint8Array(i),l).decrypt(t.buffer,d)):Promise.reject(new Error("web crypto not initialized"))).catch(d=>(hr.warn(`[decrypter]: WebCrypto Error, disable WebCrypto API, ${d.name}: ${d.message}`),this.onWebCryptoError(t,n,i,l)))}onWebCryptoError(t,n,i,l){const d=this.enableSoftwareAES;if(d){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(t,n,i,l);const s=this.flush();if(s)return s.buffer}throw new Error("WebCrypto"+(d?" and softwareDecrypt":"")+": failed to decrypt data")}getValidChunk(t){let n=t;const i=t.length-t.length%yE;return i!==t.length&&(n=t.slice(0,i),this.remainderData=t.slice(i)),n}logOnce(t){this.logEnabled&&(hr.log(`[decrypter]: ${t}`),this.logEnabled=!1)}}const y0=Math.pow(2,17);class bE{constructor(t){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=t}destroy(){this.loader&&(this.loader.destroy(),this.loader=null)}abort(){this.loader&&this.loader.abort()}load(t,n){const i=t.url;if(!i)return Promise.reject(new ra({type:rn.NETWORK_ERROR,details:_t.FRAG_LOAD_ERROR,fatal:!1,frag:t,error:new Error(`Fragment does not have a ${i?"part list":"url"}`),networkDetails:null}));this.abort();const l=this.config,d=l.fLoader,s=l.loader;return new Promise((c,e)=>{if(this.loader&&this.loader.destroy(),t.gap)if(t.tagList.some(m=>m[0]==="GAP")){e(E0(t));return}else t.gap=!1;const o=this.loader=d?new d(l):new s(l),u=b0(t);t.loader=o;const f=m0(l.fragLoadPolicy.default),A={loadPolicy:f,timeout:f.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:t.sn==="initSegment"?1/0:y0};t.stats=o.stats;const p={onSuccess:(m,y,b,E)=>{this.resetLoader(t,o);let S=m.data;b.resetIV&&t.decryptdata&&(t.decryptdata.iv=new Uint8Array(S.slice(0,16)),S=S.slice(16)),c({frag:t,part:null,payload:S,networkDetails:E})},onError:(m,y,b,E)=>{this.resetLoader(t,o),e(new ra({type:rn.NETWORK_ERROR,details:_t.FRAG_LOAD_ERROR,fatal:!1,frag:t,response:vr({url:i,data:void 0},m),error:new Error(`HTTP Error ${m.code} ${m.text}`),networkDetails:b,stats:E}))},onAbort:(m,y,b)=>{this.resetLoader(t,o),e(new ra({type:rn.NETWORK_ERROR,details:_t.INTERNAL_ABORTED,fatal:!1,frag:t,error:new Error("Aborted"),networkDetails:b,stats:m}))},onTimeout:(m,y,b)=>{this.resetLoader(t,o),e(new ra({type:rn.NETWORK_ERROR,details:_t.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t,error:new Error(`Timeout after ${A.timeout}ms`),networkDetails:b,stats:m}))}};n&&(p.onProgress=(m,y,b,E)=>n({frag:t,part:null,payload:b,networkDetails:E})),o.load(u,A,p)})}loadPart(t,n,i){this.abort();const l=this.config,d=l.fLoader,s=l.loader;return new Promise((c,e)=>{if(this.loader&&this.loader.destroy(),t.gap||n.gap){e(E0(t,n));return}const o=this.loader=d?new d(l):new s(l),u=b0(t,n);t.loader=o;const f=m0(l.fragLoadPolicy.default),A={loadPolicy:f,timeout:f.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:y0};n.stats=o.stats,o.load(u,A,{onSuccess:(p,m,y,b)=>{this.resetLoader(t,o),this.updateStatsFromPart(t,n);const E={frag:t,part:n,payload:p.data,networkDetails:b};i(E),c(E)},onError:(p,m,y,b)=>{this.resetLoader(t,o),e(new ra({type:rn.NETWORK_ERROR,details:_t.FRAG_LOAD_ERROR,fatal:!1,frag:t,part:n,response:vr({url:u.url,data:void 0},p),error:new Error(`HTTP Error ${p.code} ${p.text}`),networkDetails:y,stats:b}))},onAbort:(p,m,y)=>{t.stats.aborted=n.stats.aborted,this.resetLoader(t,o),e(new ra({type:rn.NETWORK_ERROR,details:_t.INTERNAL_ABORTED,fatal:!1,frag:t,part:n,error:new Error("Aborted"),networkDetails:y,stats:p}))},onTimeout:(p,m,y)=>{this.resetLoader(t,o),e(new ra({type:rn.NETWORK_ERROR,details:_t.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t,part:n,error:new Error(`Timeout after ${A.timeout}ms`),networkDetails:y,stats:p}))}})})}updateStatsFromPart(t,n){const i=t.stats,l=n.stats,d=l.total;if(i.loaded+=l.loaded,d){const e=Math.round(t.duration/n.duration),o=Math.min(Math.round(i.loaded/d),e),f=(e-o)*Math.round(i.loaded/o);i.total=i.loaded+f}else i.total=Math.max(i.loaded,i.total);const s=i.loading,c=l.loading;s.start?s.first+=c.first-c.start:(s.start=c.start,s.first=c.first),s.end=c.end}resetLoader(t,n){t.loader=null,this.loader===n&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),n.destroy()}}function b0(g,t=null){const n=t||g,i={frag:g,part:t,responseType:"arraybuffer",url:n.url,headers:{},rangeStart:0,rangeEnd:0},l=n.byteRangeStartOffset,d=n.byteRangeEndOffset;if(je(l)&&je(d)){var s;let c=l,e=d;if(g.sn==="initSegment"&&EE((s=g.decryptdata)==null?void 0:s.method)){const o=d-l;o%16&&(e=d+(16-o%16)),l!==0&&(i.resetIV=!0,c=l-16)}i.rangeStart=c,i.rangeEnd=e}return i}function E0(g,t){const n=new Error(`GAP ${g.gap?"tag":"attribute"} found`),i={type:rn.MEDIA_ERROR,details:_t.FRAG_GAP,fatal:!1,frag:g,error:n,networkDetails:null};return t&&(i.part=t),(t||g).stats.aborted=!0,new ra(i)}function EE(g){return g==="AES-128"||g==="AES-256"}class ra extends Error{constructor(t){super(t.error.message),this.data=void 0,this.data=t}}class Gm extends as{constructor(t,n){super(t,n),this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}destroy(){this.onHandlerDestroying(),this.onHandlerDestroyed()}onHandlerDestroying(){this.clearNextTick(),this.clearInterval()}onHandlerDestroyed(){}hasInterval(){return!!this._tickInterval}hasNextTick(){return!!this._tickTimer}setInterval(t){return this._tickInterval?!1:(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,t),!0)}clearInterval(){return this._tickInterval?(self.clearInterval(this._tickInterval),this._tickInterval=null,!0):!1}clearNextTick(){return this._tickTimer?(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0):!1}tick(){this._tickCallCount++,this._tickCallCount===1&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}tickImmediate(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}doTick(){}}class Nh{constructor(t,n,i,l=0,d=-1,s=!1){this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing=Ac(),this.buffering={audio:Ac(),video:Ac(),audiovideo:Ac()},this.level=t,this.sn=n,this.id=i,this.size=l,this.part=d,this.partial=s}}function Ac(){return{start:0,executeStart:0,executeEnd:0,end:0}}const C0={length:0,start:()=>0,end:()=>0};class Pn{static isBuffered(t,n){if(t){const i=Pn.getBuffered(t);for(let l=i.length;l--;)if(n>=i.start(l)&&n<=i.end(l))return!0}return!1}static bufferedRanges(t){if(t){const n=Pn.getBuffered(t);return Pn.timeRangesToArray(n)}return[]}static timeRangesToArray(t){const n=[];for(let i=0;i<t.length;i++)n.push({start:t.start(i),end:t.end(i)});return n}static bufferInfo(t,n,i){if(t){const l=Pn.bufferedRanges(t);if(l.length)return Pn.bufferedInfo(l,n,i)}return{len:0,start:n,end:n,bufferedIndex:-1}}static bufferedInfo(t,n,i){n=Math.max(0,n),t.length>1&&t.sort((u,f)=>u.start-f.start||f.end-u.end);let l=-1,d=[];if(i)for(let u=0;u<t.length;u++){n>=t[u].start&&n<=t[u].end&&(l=u);const f=d.length;if(f){const A=d[f-1].end;t[u].start-A<i?t[u].end>A&&(d[f-1].end=t[u].end):d.push(t[u])}else d.push(t[u])}else d=t;let s=0,c,e=n,o=n;for(let u=0;u<d.length;u++){const f=d[u].start,A=d[u].end;if(l===-1&&n>=f&&n<=A&&(l=u),n+i>=f&&n<A)e=f,o=A,s=o-n;else if(n+i<f){c=f;break}}return{len:s,start:e||0,end:o||0,nextStart:c,buffered:t,bufferedIndex:l}}static getBuffered(t){try{return t.buffered||C0}catch(n){return hr.log("failed to get media.buffered",n),C0}}}const Qm=/\{\$([a-zA-Z0-9-_]+)\}/g;function S0(g){return Qm.test(g)}function gh(g,t){if(g.variableList!==null||g.hasVariableRefs){const n=g.variableList;return t.replace(Qm,i=>{const l=i.substring(2,i.length-1),d=n?.[l];return d===void 0?(g.playlistParsingError||(g.playlistParsingError=new Error(`Missing preceding EXT-X-DEFINE tag for Variable Reference: "${l}"`)),i):d})}return t}function x0(g,t,n){let i=g.variableList;i||(g.variableList=i={});let l,d;if("QUERYPARAM"in t){l=t.QUERYPARAM;try{const s=new self.URL(n).searchParams;if(s.has(l))d=s.get(l);else throw new Error(`"${l}" does not match any query parameter in URI: "${n}"`)}catch(s){g.playlistParsingError||(g.playlistParsingError=new Error(`EXT-X-DEFINE QUERYPARAM: ${s.message}`))}}else l=t.NAME,d=t.VALUE;l in i?g.playlistParsingError||(g.playlistParsingError=new Error(`EXT-X-DEFINE duplicate Variable Name declarations: "${l}"`)):i[l]=d||""}function CE(g,t,n){const i=t.IMPORT;if(n&&i in n){let l=g.variableList;l||(g.variableList=l={}),l[i]=n[i]}else g.playlistParsingError||(g.playlistParsingError=new Error(`EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "${i}"`))}const SE=/^(\d+)x(\d+)$/,T0=/(.+?)=(".*?"|.*?)(?:,|$)/g;class Pr{constructor(t,n){typeof t=="string"&&(t=Pr.parseAttrList(t,n)),yr(this,t)}get clientAttrs(){return Object.keys(this).filter(t=>t.substring(0,2)==="X-")}decimalInteger(t){const n=parseInt(this[t],10);return n>Number.MAX_SAFE_INTEGER?1/0:n}hexadecimalInteger(t){if(this[t]){let n=(this[t]||"0x").slice(2);n=(n.length&1?"0":"")+n;const i=new Uint8Array(n.length/2);for(let l=0;l<n.length/2;l++)i[l]=parseInt(n.slice(l*2,l*2+2),16);return i}return null}hexadecimalIntegerAsNumber(t){const n=parseInt(this[t],16);return n>Number.MAX_SAFE_INTEGER?1/0:n}decimalFloatingPoint(t){return parseFloat(this[t])}optionalFloat(t,n){const i=this[t];return i?parseFloat(i):n}enumeratedString(t){return this[t]}enumeratedStringList(t,n){const i=this[t];return(i?i.split(/[ ,]+/):[]).reduce((l,d)=>(l[d.toLowerCase()]=!0,l),n)}bool(t){return this[t]==="YES"}decimalResolution(t){const n=SE.exec(this[t]);if(n!==null)return{width:parseInt(n[1],10),height:parseInt(n[2],10)}}static parseAttrList(t,n){let i;const l={};for(T0.lastIndex=0;(i=T0.exec(t))!==null;){const s=i[1].trim();let c=i[2];const e=c.indexOf('"')===0&&c.lastIndexOf('"')===c.length-1;let o=!1;if(e)c=c.slice(1,-1);else switch(s){case"IV":case"SCTE35-CMD":case"SCTE35-IN":case"SCTE35-OUT":o=!0}if(n&&(e||o))c=gh(n,c);else if(!o&&!e)switch(s){case"CLOSED-CAPTIONS":if(c==="NONE")break;case"ALLOWED-CPC":case"CLASS":case"ASSOC-LANGUAGE":case"AUDIO":case"BYTERANGE":case"CHANNELS":case"CHARACTERISTICS":case"CODECS":case"DATA-ID":case"END-DATE":case"GROUP-ID":case"ID":case"IMPORT":case"INSTREAM-ID":case"KEYFORMAT":case"KEYFORMATVERSIONS":case"LANGUAGE":case"NAME":case"PATHWAY-ID":case"QUERYPARAM":case"RECENTLY-REMOVED-DATERANGES":case"SERVER-URI":case"STABLE-RENDITION-ID":case"STABLE-VARIANT-ID":case"START-DATE":case"SUBTITLES":case"SUPPLEMENTAL-CODECS":case"URI":case"VALUE":case"VIDEO":case"X-ASSET-LIST":case"X-ASSET-URI":hr.warn(`${t}: attribute ${s} is missing quotes`)}l[s]=c}return l}}const xE="com.apple.hls.interstitial";function TE(g){return g!=="ID"&&g!=="CLASS"&&g!=="CUE"&&g!=="START-DATE"&&g!=="DURATION"&&g!=="END-DATE"&&g!=="END-ON-NEXT"}function wE(g){return g==="SCTE35-OUT"||g==="SCTE35-IN"||g==="SCTE35-CMD"}class jm{constructor(t,n,i=0){var l;if(this.attr=void 0,this.tagAnchor=void 0,this.tagOrder=void 0,this._startDate=void 0,this._endDate=void 0,this._dateAtEnd=void 0,this._cue=void 0,this._badValueForSameId=void 0,this.tagAnchor=n?.tagAnchor||null,this.tagOrder=(l=n?.tagOrder)!=null?l:i,n){const d=n.attr;for(const s in d)if(Object.prototype.hasOwnProperty.call(t,s)&&t[s]!==d[s]){hr.warn(`DATERANGE tag attribute: "${s}" does not match for tags with ID: "${t.ID}"`),this._badValueForSameId=s;break}t=yr(new Pr({}),d,t)}if(this.attr=t,n?(this._startDate=n._startDate,this._cue=n._cue,this._endDate=n._endDate,this._dateAtEnd=n._dateAtEnd):this._startDate=new Date(t["START-DATE"]),"END-DATE"in this.attr){const d=n?.endDate||new Date(this.attr["END-DATE"]);je(d.getTime())&&(this._endDate=d)}}get id(){return this.attr.ID}get class(){return this.attr.CLASS}get cue(){const t=this._cue;return t===void 0?this._cue=this.attr.enumeratedStringList(this.attr.CUE?"CUE":"X-CUE",{pre:!1,post:!1,once:!1}):t}get startTime(){const{tagAnchor:t}=this;return t===null||t.programDateTime===null?(hr.warn(`Expected tagAnchor Fragment with PDT set for DateRange "${this.id}": ${t}`),NaN):t.start+(this.startDate.getTime()-t.programDateTime)/1e3}get startDate(){return this._startDate}get endDate(){const t=this._endDate||this._dateAtEnd;if(t)return t;const n=this.duration;return n!==null?this._dateAtEnd=new Date(this._startDate.getTime()+n*1e3):null}get duration(){if("DURATION"in this.attr){const t=this.attr.decimalFloatingPoint("DURATION");if(je(t))return t}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}get plannedDuration(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}get endOnNext(){return this.attr.bool("END-ON-NEXT")}get isInterstitial(){return this.class===xE}get isValid(){return!!this.id&&!this._badValueForSameId&&je(this.startDate.getTime())&&(this.duration===null||this.duration>=0)&&(!this.endOnNext||!!this.class)&&(!this.attr.CUE||!this.cue.pre&&!this.cue.post||this.cue.pre!==this.cue.post)&&(!this.isInterstitial||"X-ASSET-URI"in this.attr||"X-ASSET-LIST"in this.attr)}}const LE=10;class RE{constructor(t){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.dateRangeTagCount=0,this.live=!0,this.requestScheduled=-1,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.appliedTimelineOffset=void 0,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=t}reloaded(t){if(!t){this.advanced=!0,this.updated=!0;return}const n=this.lastPartSn-t.lastPartSn,i=this.lastPartIndex-t.lastPartIndex;this.updated=this.endSN!==t.endSN||!!i||!!n||!this.live,this.advanced=this.endSN>t.endSN||n>0||n===0&&i>0,this.updated||this.advanced?this.misses=Math.floor(t.misses*.6):this.misses=t.misses+1}hasKey(t){return this.encryptedFragments.some(n=>{let i=n.decryptdata;return i||(n.setKeyFormat(t.keyFormat),i=n.decryptdata),!!i&&t.matches(i)})}get hasProgramDateTime(){return this.fragments.length?je(this.fragments[this.fragments.length-1].programDateTime):!1}get levelTargetDuration(){return this.averagetargetduration||this.targetduration||LE}get drift(){const t=this.driftEndTime-this.driftStartTime;return t>0?(this.driftEnd-this.driftStart)*1e3/t:1}get edge(){return this.partEnd||this.fragmentEnd}get partEnd(){var t;return(t=this.partList)!=null&&t.length?this.partList[this.partList.length-1].end:this.fragmentEnd}get fragmentEnd(){return this.fragments.length?this.fragments[this.fragments.length-1].end:0}get fragmentStart(){return this.fragments.length?this.fragments[0].start:0}get age(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}get lastPartIndex(){var t;return(t=this.partList)!=null&&t.length?this.partList[this.partList.length-1].index:-1}get maxPartIndex(){const t=this.partList;if(t){const n=this.lastPartIndex;if(n!==-1){for(let i=t.length;i--;)if(t[i].index>n)return t[i].index;return n}}return 0}get lastPartSn(){var t;return(t=this.partList)!=null&&t.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}get expired(){if(this.live&&this.age&&this.misses<3){const t=this.partEnd-this.fragmentStart;return this.age>Math.max(t,this.totalduration)+this.levelTargetDuration}return!1}}function zm(g,t){return g.length===t.length?!g.some((n,i)=>n!==t[i]):!1}function w0(g,t){return!g&&!t?!0:!g||!t?!1:zm(g,t)}function ol(g){return g==="AES-128"||g==="AES-256"||g==="AES-256-CTR"}function Uh(g){switch(g){case"AES-128":case"AES-256":return ja.cbc;case"AES-256-CTR":return ja.ctr;default:throw new Error(`invalid full segment method ${g}`)}}function Fh(g){return Uint8Array.from(atob(g),t=>t.charCodeAt(0))}function ph(g){return Uint8Array.from(unescape(encodeURIComponent(g)),t=>t.charCodeAt(0))}function IE(g){const t=ph(g).subarray(0,16),n=new Uint8Array(16);return n.set(t,16-t.length),n}function DE(g){const t=function(i,l,d){const s=i[l];i[l]=i[d],i[d]=s};t(g,0,3),t(g,1,2),t(g,4,5),t(g,6,7)}function kE(g){const t=g.split(":");let n=null;if(t[0]==="data"&&t.length===2){const i=t[1].split(";"),l=i[i.length-1].split(",");if(l.length===2){const d=l[0]==="base64",s=l[1];d?(i.splice(-1,1),n=Fh(s)):n=IE(s)}}return n}const jc=typeof self<"u"?self:void 0;var Gr={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},Pi={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.streamingkeydelivery",PLAYREADY:"com.microsoft.playready",WIDEVINE:"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"};function Rc(g){switch(g){case Pi.FAIRPLAY:return Gr.FAIRPLAY;case Pi.PLAYREADY:return Gr.PLAYREADY;case Pi.WIDEVINE:return Gr.WIDEVINE;case Pi.CLEARKEY:return Gr.CLEARKEY}}function zd(g){switch(g){case Gr.FAIRPLAY:return Pi.FAIRPLAY;case Gr.PLAYREADY:return Pi.PLAYREADY;case Gr.WIDEVINE:return Pi.WIDEVINE;case Gr.CLEARKEY:return Pi.CLEARKEY}}function Xl(g){const{drmSystems:t,widevineLicenseUrl:n}=g,i=t?[Gr.FAIRPLAY,Gr.WIDEVINE,Gr.PLAYREADY,Gr.CLEARKEY].filter(l=>!!t[l]):[];return!i[Gr.WIDEVINE]&&n&&i.push(Gr.WIDEVINE),i}const Hm=(function(g){return jc!=null&&(g=jc.navigator)!=null&&g.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null})();function BE(g,t,n,i){let l;switch(g){case Gr.FAIRPLAY:l=["cenc","sinf"];break;case Gr.WIDEVINE:case Gr.PLAYREADY:l=["cenc"];break;case Gr.CLEARKEY:l=["cenc","keyids"];break;default:throw new Error(`Unknown key-system: ${g}`)}return OE(l,t,n,i)}function OE(g,t,n,i){return[{initDataTypes:g,persistentState:i.persistentState||"optional",distinctiveIdentifier:i.distinctiveIdentifier||"optional",sessionTypes:i.sessionTypes||[i.sessionType||"temporary"],audioCapabilities:t.map(d=>({contentType:`audio/mp4; codecs=${d}`,robustness:i.audioRobustness||"",encryptionScheme:i.audioEncryptionScheme||null})),videoCapabilities:n.map(d=>({contentType:`video/mp4; codecs=${d}`,robustness:i.videoRobustness||"",encryptionScheme:i.videoEncryptionScheme||null}))}]}function _E(g){var t;return!!g&&(g.sessionType==="persistent-license"||!!((t=g.sessionTypes)!=null&&t.some(n=>n==="persistent-license")))}function ME(g){const t=new Uint16Array(g.buffer,g.byteOffset,g.byteLength/2),n=String.fromCharCode.apply(null,Array.from(t)),i=n.substring(n.indexOf("<"),n.length),s=new DOMParser().parseFromString(i,"text/xml").getElementsByTagName("KID")[0];if(s){const c=s.childNodes[0]?s.childNodes[0].nodeValue:s.getAttribute("VALUE");if(c){const e=Fh(c).subarray(0,16);return DE(e),e}}return null}let gc={};class Vc{static clearKeyUriToKeyIdMap(){gc={}}constructor(t,n,i,l=[1],d=null,s){this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=t,this.uri=n,this.keyFormat=i,this.keyFormatVersions=l,this.iv=d,this.encrypted=t?t!=="NONE":!1,this.isCommonEncryption=this.encrypted&&!ol(t),s!=null&&s.startsWith("0x")&&(this.keyId=new Uint8Array(Sm(s)))}matches(t){return t.uri===this.uri&&t.method===this.method&&t.encrypted===this.encrypted&&t.keyFormat===this.keyFormat&&zm(t.keyFormatVersions,this.keyFormatVersions)&&w0(t.iv,this.iv)&&w0(t.keyId,this.keyId)}isSupported(){if(this.method){if(ol(this.method)||this.method==="NONE")return!0;if(this.keyFormat==="identity")return this.method==="SAMPLE-AES";switch(this.keyFormat){case Pi.FAIRPLAY:case Pi.WIDEVINE:case Pi.PLAYREADY:case Pi.CLEARKEY:return["SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)!==-1}}return!1}getDecryptData(t){if(!this.encrypted||!this.uri)return null;if(ol(this.method)&&this.uri&&!this.iv){typeof t!="number"&&(hr.warn(`missing IV for initialization segment with method="${this.method}" - compliance issue`),t=0);const i=PE(t);return new Vc(this.method,this.uri,"identity",this.keyFormatVersions,i)}if(this.pssh&&this.keyId)return this;const n=kE(this.uri);if(n)switch(this.keyFormat){case Pi.WIDEVINE:if(this.pssh=n,!this.keyId&&n.length>=22){const i=n.length-22;this.keyId=n.subarray(i,i+16)}break;case Pi.PLAYREADY:{const i=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=Ub(i,null,n),this.keyId=ME(n);break}default:{let i=n.subarray(0,16);if(i.length!==16){const l=new Uint8Array(16);l.set(i,16-i.length),i=l}this.keyId=i;break}}if(!this.keyId||this.keyId.byteLength!==16){let i=gc[this.uri];if(!i){const l=Object.keys(gc).length%Number.MAX_SAFE_INTEGER;i=new Uint8Array(16),new DataView(i.buffer,12,4).setUint32(0,l),gc[this.uri]=i}this.keyId=i}return this}}function PE(g){const t=new Uint8Array(16);for(let n=12;n<16;n++)t[n]=g>>8*(15-n)&255;return t}const L0=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,R0=/#EXT-X-MEDIA:(.*)/g,NE=/^#EXT(?:INF|-X-TARGETDURATION):/m,Hd=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[^\r\n]*)/.source,/#.*/.source].join("|"),"g"),UE=new RegExp([/#EXT-X-(PROGRAM-DATE-TIME|BYTERANGE|DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP|INDEPENDENT-SEGMENTS)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|"));class Ps{static findGroup(t,n){for(let i=0;i<t.length;i++){const l=t[i];if(l.id===n)return l}}static resolve(t,n){return Dh.buildAbsoluteURL(n,t,{alwaysNormalize:!0})}static isMediaPlaylist(t){return NE.test(t)}static parseMasterPlaylist(t,n){const i=S0(t),l={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:i},d=[];L0.lastIndex=0;let s;for(;(s=L0.exec(t))!=null;)if(s[1]){var c;const o=new Pr(s[1],l),u=gh(l,s[2]),f={attrs:o,bitrate:o.decimalInteger("BANDWIDTH")||o.decimalInteger("AVERAGE-BANDWIDTH"),name:o.NAME,url:Ps.resolve(u,n)},A=o.decimalResolution("RESOLUTION");A&&(f.width=A.width,f.height=A.height),k0(o.CODECS,f);const p=o["SUPPLEMENTAL-CODECS"];p&&(f.supplemental={},k0(p,f.supplemental)),(c=f.unknownCodecs)!=null&&c.length||d.push(f),l.levels.push(f)}else if(s[3]){const o=s[3],u=s[4];switch(o){case"SESSION-DATA":{const f=new Pr(u,l),A=f["DATA-ID"];A&&(l.sessionData===null&&(l.sessionData={}),l.sessionData[A]=f);break}case"SESSION-KEY":{const f=I0(u,n,l);f.encrypted&&f.isSupported()?(l.sessionKeys===null&&(l.sessionKeys=[]),l.sessionKeys.push(f)):hr.warn(`[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "${u}"`);break}case"DEFINE":{{const f=new Pr(u,l);x0(l,f,n)}break}case"CONTENT-STEERING":{const f=new Pr(u,l);l.contentSteering={uri:Ps.resolve(f["SERVER-URI"],n),pathwayId:f["PATHWAY-ID"]||"."};break}case"START":{l.startTimeOffset=D0(u);break}}}const e=d.length>0&&d.length<l.levels.length;return l.levels=e?d:l.levels,l.levels.length===0&&(l.playlistParsingError=new Error("no levels found in manifest")),l}static parseMasterPlaylistMedia(t,n,i){let l;const d={},s=i.levels,c={AUDIO:s.map(o=>({id:o.attrs.AUDIO,audioCodec:o.audioCodec})),SUBTITLES:s.map(o=>({id:o.attrs.SUBTITLES,textCodec:o.textCodec})),"CLOSED-CAPTIONS":[]};let e=0;for(R0.lastIndex=0;(l=R0.exec(t))!==null;){const o=new Pr(l[1],i),u=o.TYPE;if(u){const f=c[u],A=d[u]||[];d[u]=A;const p=o.LANGUAGE,m=o["ASSOC-LANGUAGE"],y=o.CHANNELS,b=o.CHARACTERISTICS,E=o["INSTREAM-ID"],S={attrs:o,bitrate:0,id:e++,groupId:o["GROUP-ID"]||"",name:o.NAME||p||"",type:u,default:o.bool("DEFAULT"),autoselect:o.bool("AUTOSELECT"),forced:o.bool("FORCED"),lang:p,url:o.URI?Ps.resolve(o.URI,n):""};if(m&&(S.assocLang=m),y&&(S.channels=y),b&&(S.characteristics=b),E&&(S.instreamId=E),f!=null&&f.length){const T=Ps.findGroup(f,S.groupId)||f[0];B0(S,T,"audioCodec"),B0(S,T,"textCodec")}A.push(S)}}return d}static parseLevelPlaylist(t,n,i,l,d,s){var c;const e={url:n},o=new RE(n),u=o.fragments,f=[];let A=null,p=0,m=0,y=0,b=0,E=0,S=null,T=new Gd(l,e),L,I,B,O=-1,_=!1,M=null,U;if(Hd.lastIndex=0,o.m3u8=t,o.hasVariableRefs=S0(t),((c=Hd.exec(t))==null?void 0:c[0])!=="#EXTM3U")return o.playlistParsingError=new Error("Missing format identifier #EXTM3U"),o;for(;(L=Hd.exec(t))!==null;){_&&(_=!1,T=new Gd(l,e),T.playlistOffset=y,T.setStart(y),T.sn=p,T.cc=b,E&&(T.bitrate=E),T.level=i,A&&(T.initSegment=A,A.rawProgramDateTime&&(T.rawProgramDateTime=A.rawProgramDateTime,A.rawProgramDateTime=null),M&&(T.setByteRange(M),M=null)));const X=L[1];if(X){T.duration=parseFloat(X);const et=(" "+L[2]).slice(1);T.title=et||null,T.tagList.push(et?["INF",X,et]:["INF",X])}else if(L[3]){if(je(T.duration)){T.playlistOffset=y,T.setStart(y),B&&_0(T,B,o),T.sn=p,T.level=i,T.cc=b,u.push(T);const et=(" "+L[3]).slice(1);T.relurl=gh(o,et),mh(T,S,f),S=T,y+=T.duration,p++,m=0,_=!0}}else{if(L=L[0].match(UE),!L){hr.warn("No matches on slow regex match for level playlist!");continue}for(I=1;I<L.length&&L[I]===void 0;I++);const et=(" "+L[I]).slice(1),Y=(" "+L[I+1]).slice(1),N=L[I+2]?(" "+L[I+2]).slice(1):null;switch(et){case"BYTERANGE":S?T.setByteRange(Y,S):T.setByteRange(Y);break;case"PROGRAM-DATE-TIME":T.rawProgramDateTime=Y,T.tagList.push(["PROGRAM-DATE-TIME",Y]),O===-1&&(O=u.length);break;case"PLAYLIST-TYPE":o.type&&ea(o,et,L),o.type=Y.toUpperCase();break;case"MEDIA-SEQUENCE":o.startSN!==0?ea(o,et,L):u.length>0&&M0(o,et,L),p=o.startSN=parseInt(Y);break;case"SKIP":{o.skippedSegments&&ea(o,et,L);const K=new Pr(Y,o),Z=K.decimalInteger("SKIPPED-SEGMENTS");if(je(Z)){o.skippedSegments+=Z;for(let q=Z;q--;)u.push(null);p+=Z}const F=K.enumeratedString("RECENTLY-REMOVED-DATERANGES");F&&(o.recentlyRemovedDateranges=(o.recentlyRemovedDateranges||[]).concat(F.split("	")));break}case"TARGETDURATION":o.targetduration!==0&&ea(o,et,L),o.targetduration=Math.max(parseInt(Y),1);break;case"VERSION":o.version!==null&&ea(o,et,L),o.version=parseInt(Y);break;case"INDEPENDENT-SEGMENTS":break;case"ENDLIST":o.live||ea(o,et,L),o.live=!1;break;case"#":(Y||N)&&T.tagList.push(N?[Y,N]:[Y]);break;case"DISCONTINUITY":b++,T.tagList.push(["DIS"]);break;case"GAP":T.gap=!0,T.tagList.push([et]);break;case"BITRATE":T.tagList.push([et,Y]),E=parseInt(Y)*1e3,je(E)?T.bitrate=E:E=0;break;case"DATERANGE":{const K=new Pr(Y,o),Z=new jm(K,o.dateRanges[K.ID],o.dateRangeTagCount);o.dateRangeTagCount++,Z.isValid||o.skippedSegments?o.dateRanges[Z.id]=Z:hr.warn(`Ignoring invalid DATERANGE tag: "${Y}"`),T.tagList.push(["EXT-X-DATERANGE",Y]);break}case"DEFINE":{{const K=new Pr(Y,o);"IMPORT"in K?CE(o,K,s):x0(o,K,n)}break}case"DISCONTINUITY-SEQUENCE":o.startCC!==0?ea(o,et,L):u.length>0&&M0(o,et,L),o.startCC=b=parseInt(Y);break;case"KEY":{const K=I0(Y,n,o);if(K.isSupported()){if(K.method==="NONE"){B=void 0;break}B||(B={});const Z=B[K.keyFormat];Z!=null&&Z.matches(K)||(Z&&(B=yr({},B)),B[K.keyFormat]=K)}else hr.warn(`[Keys] Ignoring invalid EXT-X-KEY tag: "${Y}"`);break}case"START":o.startTimeOffset=D0(Y);break;case"MAP":{const K=new Pr(Y,o);if(T.duration){const Z=new Gd(l,e);O0(Z,K,i,B),A=Z,T.initSegment=A,A.rawProgramDateTime&&!T.rawProgramDateTime&&(T.rawProgramDateTime=A.rawProgramDateTime)}else{const Z=T.byteRangeEndOffset;if(Z){const F=T.byteRangeStartOffset;M=`${Z-F}@${F}`}else M=null;O0(T,K,i,B),A=T,_=!0}A.cc=b;break}case"SERVER-CONTROL":{U&&ea(o,et,L),U=new Pr(Y),o.canBlockReload=U.bool("CAN-BLOCK-RELOAD"),o.canSkipUntil=U.optionalFloat("CAN-SKIP-UNTIL",0),o.canSkipDateRanges=o.canSkipUntil>0&&U.bool("CAN-SKIP-DATERANGES"),o.partHoldBack=U.optionalFloat("PART-HOLD-BACK",0),o.holdBack=U.optionalFloat("HOLD-BACK",0);break}case"PART-INF":{o.partTarget&&ea(o,et,L);const K=new Pr(Y);o.partTarget=K.decimalFloatingPoint("PART-TARGET");break}case"PART":{let K=o.partList;K||(K=o.partList=[]);const Z=m>0?K[K.length-1]:void 0,F=m++,q=new Pr(Y,o),nt=new Tb(q,T,e,F,Z);K.push(nt),T.duration+=nt.duration;break}case"PRELOAD-HINT":{const K=new Pr(Y,o);o.preloadHint=K;break}case"RENDITION-REPORT":{const K=new Pr(Y,o);o.renditionReports=o.renditionReports||[],o.renditionReports.push(K);break}default:hr.warn(`line parsed but not handled: ${L}`);break}}}S&&!S.relurl?(u.pop(),y-=S.duration,o.partList&&(o.fragmentHint=S)):o.partList&&(mh(T,S,f),T.cc=b,o.fragmentHint=T,B&&_0(T,B,o)),o.targetduration||(o.playlistParsingError=new Error("#EXT-X-TARGETDURATION is required"));const Q=u.length,$=u[0],W=u[Q-1];if(y+=o.skippedSegments*o.targetduration,y>0&&Q&&W){o.averagetargetduration=y/Q;const X=W.sn;o.endSN=X!=="initSegment"?X:0,o.live||(W.endList=!0),O>0&&(GE(u,O),$&&f.unshift($))}return o.fragmentHint&&(y+=o.fragmentHint.duration),o.totalduration=y,f.length&&o.dateRangeTagCount&&$&&Ym(f,o),o.endCC=b,o}}function Ym(g,t){let n=g.length;if(!n)if(t.hasProgramDateTime){const c=t.fragments[t.fragments.length-1];g.push(c),n++}else return;const i=g[n-1],l=t.live?1/0:t.totalduration,d=Object.keys(t.dateRanges);for(let c=d.length;c--;){const e=t.dateRanges[d[c]],o=e.startDate.getTime();e.tagAnchor=i.ref;for(let u=n;u--;){var s;if(((s=g[u])==null?void 0:s.sn)<t.startSN)break;const f=FE(t,o,g,u,l);if(f!==-1){e.tagAnchor=t.fragments[f].ref;break}}}}function FE(g,t,n,i,l){const d=n[i];if(d){const c=d.programDateTime;if(t>=c||i===0){var s;const e=(((s=n[i+1])==null?void 0:s.start)||l)-d.start;if(t<=c+e*1e3){const o=n[i].sn-g.startSN;if(o<0)return-1;const u=g.fragments;if(u.length>n.length){const A=(n[i+1]||u[u.length-1]).sn-g.startSN;for(let p=A;p>o;p--){const m=u[p].programDateTime;if(t>=m&&t<m+u[p].duration*1e3)return p}}return o}}}return-1}function I0(g,t,n){var i,l;const d=new Pr(g,n),s=(i=d.METHOD)!=null?i:"",c=d.URI,e=d.hexadecimalInteger("IV"),o=d.KEYFORMATVERSIONS,u=(l=d.KEYFORMAT)!=null?l:"identity";c&&d.IV&&!e&&hr.error(`Invalid IV: ${d.IV}`);const f=c?Ps.resolve(c,t):"",A=(o||"1").split("/").map(Number).filter(Number.isFinite);return new Vc(s,f,u,A,e,d.KEYID)}function D0(g){const n=new Pr(g).decimalFloatingPoint("TIME-OFFSET");return je(n)?n:null}function k0(g,t){let n=(g||"").split(/[ ,]+/).filter(i=>i);["video","audio","text"].forEach(i=>{const l=n.filter(d=>Oh(d,i));l.length&&(t[`${i}Codec`]=l.map(d=>d.split("/")[0]).join(","),n=n.filter(d=>l.indexOf(d)===-1))}),t.unknownCodecs=n}function B0(g,t,n){const i=t[n];i&&(g[n]=i)}function GE(g,t){let n=g[t];for(let i=t;i--;){const l=g[i];if(!l)return;l.programDateTime=n.programDateTime-l.duration*1e3,n=l}}function mh(g,t,n){g.rawProgramDateTime?n.push(g):t!=null&&t.programDateTime&&(g.programDateTime=t.endProgramDateTime)}function O0(g,t,n,i){g.relurl=t.URI,t.BYTERANGE&&g.setByteRange(t.BYTERANGE),g.level=n,g.sn="initSegment",i&&(g.levelkeys=i),g.initSegment=null}function _0(g,t,n){g.levelkeys=t;const{encryptedFragments:i}=n;(!i.length||i[i.length-1].levelkeys!==t)&&Object.keys(t).some(l=>t[l].isCommonEncryption)&&i.push(g)}function ea(g,t,n){g.playlistParsingError=new Error(`#EXT-X-${t} must not appear more than once (${n[0]})`)}function M0(g,t,n){g.playlistParsingError=new Error(`#EXT-X-${t} must appear before the first Media Segment (${n[0]})`)}function Yd(g,t){const n=t.startPTS;if(je(n)){let i=0,l;t.sn>g.sn?(i=n-g.start,l=g):(i=g.start-n,l=t),l.duration!==i&&l.setDuration(i)}else t.sn>g.sn?g.cc===t.cc&&g.minEndPTS?t.setStart(g.start+(g.minEndPTS-g.start)):t.setStart(g.start+g.duration):t.setStart(Math.max(g.start-t.duration,0))}function $m(g,t,n,i,l,d,s){i-n<=0&&(s.warn("Fragment should have a positive duration",t),i=n+t.duration,d=l+t.duration);let e=n,o=i;const u=t.startPTS,f=t.endPTS;if(je(u)){const E=Math.abs(u-n);g&&E>g.totalduration?s.warn(`media timestamps and playlist times differ by ${E}s for level ${t.level} ${g.url}`):je(t.deltaPTS)?t.deltaPTS=Math.max(E,t.deltaPTS):t.deltaPTS=E,e=Math.max(n,u),n=Math.min(n,u),l=t.startDTS!==void 0?Math.min(l,t.startDTS):l,o=Math.min(i,f),i=Math.max(i,f),d=t.endDTS!==void 0?Math.max(d,t.endDTS):d}const A=n-t.start;t.start!==0&&t.setStart(n),t.setDuration(i-t.start),t.startPTS=n,t.maxStartPTS=e,t.startDTS=l,t.endPTS=i,t.minEndPTS=o,t.endDTS=d;const p=t.sn;if(!g||p<g.startSN||p>g.endSN)return 0;let m;const y=p-g.startSN,b=g.fragments;for(b[y]=t,m=y;m>0;m--)Yd(b[m],b[m-1]);for(m=y;m<b.length-1;m++)Yd(b[m],b[m+1]);return g.fragmentHint&&Yd(b[b.length-1],g.fragmentHint),g.PTSKnown=g.alignedSliding=!0,A}function QE(g,t,n){if(g===t)return;let i=null;const l=g.fragments;for(let u=l.length-1;u>=0;u--){const f=l[u].initSegment;if(f){i=f;break}}g.fragmentHint&&delete g.fragmentHint.endPTS;let d;HE(g,t,(u,f,A,p)=>{if((!t.startCC||t.skippedSegments)&&f.cc!==u.cc){const m=u.cc-f.cc;for(let y=A;y<p.length;y++)p[y].cc+=m;t.endCC=p[p.length-1].cc}je(u.startPTS)&&je(u.endPTS)&&(f.setStart(f.startPTS=u.startPTS),f.startDTS=u.startDTS,f.maxStartPTS=u.maxStartPTS,f.endPTS=u.endPTS,f.endDTS=u.endDTS,f.minEndPTS=u.minEndPTS,f.setDuration(u.endPTS-u.startPTS),f.duration&&(d=f),t.PTSKnown=t.alignedSliding=!0),u.hasStreams&&(f.elementaryStreams=u.elementaryStreams),f.loader=u.loader,u.hasStats&&(f.stats=u.stats),u.initSegment&&(f.initSegment=u.initSegment,i=u.initSegment)});const s=t.fragments,c=t.fragmentHint?s.concat(t.fragmentHint):s;if(i&&c.forEach(u=>{var f;u&&(!u.initSegment||u.initSegment.relurl===((f=i)==null?void 0:f.relurl))&&(u.initSegment=i)}),t.skippedSegments){if(t.deltaUpdateFailed=s.some(u=>!u),t.deltaUpdateFailed){n.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(let u=t.skippedSegments;u--;)s.shift();t.startSN=s[0].sn}else{t.canSkipDateRanges&&(t.dateRanges=jE(g.dateRanges,t,n));const u=g.fragments.filter(f=>f.rawProgramDateTime);if(g.hasProgramDateTime&&!t.hasProgramDateTime)for(let f=1;f<c.length;f++)c[f].programDateTime===null&&mh(c[f],c[f-1],u);Ym(u,t)}t.endCC=s[s.length-1].cc}if(!t.startCC){var e;const u=Wm(g,t.startSN-1);t.startCC=(e=u?.cc)!=null?e:s[0].cc}zE(g.partList,t.partList,(u,f)=>{f.elementaryStreams=u.elementaryStreams,f.stats=u.stats}),d?$m(t,d,d.startPTS,d.endPTS,d.startDTS,d.endDTS,n):Vm(g,t),s.length&&(t.totalduration=t.edge-s[0].start),t.driftStartTime=g.driftStartTime,t.driftStart=g.driftStart;const o=t.advancedDateTime;if(t.advanced&&o){const u=t.edge;t.driftStart||(t.driftStartTime=o,t.driftStart=u),t.driftEndTime=o,t.driftEnd=u}else t.driftEndTime=g.driftEndTime,t.driftEnd=g.driftEnd,t.advancedDateTime=g.advancedDateTime;t.requestScheduled===-1&&(t.requestScheduled=g.requestScheduled)}function jE(g,t,n){const{dateRanges:i,recentlyRemovedDateranges:l}=t,d=yr({},g);l&&l.forEach(e=>{delete d[e]});const c=Object.keys(d).length;return c?(Object.keys(i).forEach(e=>{const o=d[e],u=new jm(i[e].attr,o);u.isValid?(d[e]=u,o||(u.tagOrder+=c)):n.warn(`Ignoring invalid Playlist Delta Update DATERANGE tag: "${Lr(i[e].attr)}"`)}),d):i}function zE(g,t,n){if(g&&t){let i=0;for(let l=0,d=g.length;l<=d;l++){const s=g[l],c=t[l+i];s&&c&&s.index===c.index&&s.fragment.sn===c.fragment.sn?n(s,c):i--}}}function HE(g,t,n){const i=t.skippedSegments,l=Math.max(g.startSN,t.startSN)-t.startSN,d=(g.fragmentHint?1:0)+(i?t.endSN:Math.min(g.endSN,t.endSN))-t.startSN,s=t.startSN-g.startSN,c=t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments,e=g.fragmentHint?g.fragments.concat(g.fragmentHint):g.fragments;for(let o=l;o<=d;o++){const u=e[s+o];let f=c[o];if(i&&!f&&u&&(f=t.fragments[o]=u),u&&f){n(u,f,o,c);const A=u.relurl,p=f.relurl;if(A&&YE(A,p)){t.playlistParsingError=P0(`media sequence mismatch ${f.sn}:`,g,t,u,f);return}else if(u.cc!==f.cc){t.playlistParsingError=P0(`discontinuity sequence mismatch (${u.cc}!=${f.cc})`,g,t,u,f);return}}}}function P0(g,t,n,i,l){return new Error(`${g} ${l.url}
Playlist starting @${t.startSN}
${t.m3u8}

Playlist starting @${n.startSN}
${n.m3u8}`)}function Vm(g,t,n=!0){const i=t.startSN+t.skippedSegments-g.startSN,l=g.fragments,d=i>=0;let s=0;if(d&&i<l.length)s=l[i].start;else if(d&&t.startSN===g.endSN+1)s=g.fragmentEnd;else if(d&&n)s=g.fragmentStart+i*t.levelTargetDuration;else if(!t.skippedSegments&&t.fragmentStart===0)s=g.fragmentStart;else return;vh(t,s)}function vh(g,t){if(t){const n=g.fragments;for(let i=g.skippedSegments;i<n.length;i++)n[i].addStart(t);g.fragmentHint&&g.fragmentHint.addStart(t)}}function Km(g,t=1/0){let n=1e3*g.targetduration;if(g.updated){const i=g.fragments;if(i.length&&n*4>t){const d=i[i.length-1].duration*1e3;d<n&&(n=d)}}else n/=2;return Math.round(n)}function Wm(g,t,n){if(!g)return null;let i=g.fragments[t-g.startSN];return i||(i=g.fragmentHint,i&&i.sn===t)?i:t<g.startSN&&n&&n.sn===t?n:null}function N0(g,t,n){return g?qm(g.partList,t,n):null}function qm(g,t,n){if(g)for(let i=g.length;i--;){const l=g[i];if(l.index===n&&l.fragment.sn===t)return l}return null}function Xm(g){g.forEach((t,n)=>{var i;(i=t.details)==null||i.fragments.forEach(l=>{l.level=n,l.initSegment&&(l.initSegment.level=n)})})}function YE(g,t){return g!==t&&t?U0(g)!==U0(t):!1}function U0(g){return g.replace(/\?[^?]*$/,"")}function Zl(g,t){for(let i=0,l=g.length;i<l;i++){var n;if(((n=g[i])==null?void 0:n.cc)===t)return g[i]}return null}function $E(g,t){return!!(g&&t.startCC<g.endCC&&t.endCC>g.startCC)}function F0(g,t){const n=g.start+t;g.startPTS=n,g.setStart(n),g.endPTS=n+g.duration}function Zm(g,t){const n=t.fragments;for(let i=0,l=n.length;i<l;i++)F0(n[i],g);t.fragmentHint&&F0(t.fragmentHint,g),t.alignedSliding=!0}function VE(g,t){g&&(Jm(t,g),t.alignedSliding||zc(t,g),!t.alignedSliding&&!t.skippedSegments&&Vm(g,t,!1))}function Jm(g,t){if(!$E(t,g))return;const n=Math.min(t.endCC,g.endCC),i=Zl(t.fragments,n),l=Zl(g.fragments,n);if(!i||!l)return;hr.log(`Aligning playlist at start of dicontinuity sequence ${n}`);const d=i.start-l.start;Zm(d,g)}function zc(g,t){if(!g.hasProgramDateTime||!t.hasProgramDateTime)return;const n=g.fragments,i=t.fragments;if(!n.length||!i.length)return;let l,d;const s=Math.min(t.endCC,g.endCC);t.startCC<s&&g.startCC<s&&(l=Zl(i,s),d=Zl(n,s)),(!l||!d)&&(l=i[Math.floor(i.length/2)],d=Zl(n,l.cc)||n[Math.floor(n.length/2)]);const c=l.programDateTime,e=d.programDateTime;if(!c||!e)return;const o=(e-c)/1e3-(d.start-l.start);Zm(o,g)}function Ii(g,t,n){Ni(g,t,n),g.addEventListener(t,n)}function Ni(g,t,n){g.removeEventListener(t,n)}const KE={toString:function(g){let t="";const n=g.length;for(let i=0;i<n;i++)t+=`[${g.start(i).toFixed(3)}-${g.end(i).toFixed(3)}]`;return t}},te={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"};class Gh extends Gm{constructor(t,n,i,l,d){super(l,t.logger),this.hls=void 0,this.fragPrevious=null,this.fragCurrent=null,this.fragmentTracker=void 0,this.transmuxer=null,this._state=te.STOPPED,this.playlistType=void 0,this.media=null,this.mediaBuffer=null,this.config=void 0,this.bitrateTest=!1,this.lastCurrentTime=0,this.nextLoadPosition=0,this.startPosition=0,this.startTimeOffset=null,this.retryDate=0,this.levels=null,this.fragmentLoader=void 0,this.keyLoader=void 0,this.levelLastLoaded=null,this.startFragRequested=!1,this.decrypter=void 0,this.initPTS=[],this.buffering=!0,this.loadingParts=!1,this.loopSn=void 0,this.onMediaSeeking=()=>{const{config:s,fragCurrent:c,media:e,mediaBuffer:o,state:u}=this,f=e?e.currentTime:0,A=Pn.bufferInfo(o||e,f,s.maxBufferHole),p=!A.len;if(this.log(`Media seeking to ${je(f)?f.toFixed(3):f}, state: ${u}, ${p?"out of":"in"} buffer`),this.state===te.ENDED)this.resetLoadingState();else if(c){const m=s.maxFragLookUpTolerance,y=c.start-m,b=c.start+c.duration+m;if(p||b<A.start||y>A.end){const E=f>b;(f<y||E)&&(E&&c.loader&&(this.log(`Cancelling fragment load for seek (sn: ${c.sn})`),c.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}if(e){this.fragmentTracker.removeFragmentsInRange(f,1/0,this.playlistType,!0);const m=this.lastCurrentTime;if(f>m&&(this.lastCurrentTime=f),!this.loadingParts){const y=Math.max(A.end,f),b=this.shouldLoadParts(this.getLevelDetails(),y);b&&(this.log(`LL-Part loading ON after seeking to ${f.toFixed(2)} with buffer @${y.toFixed(2)}`),this.loadingParts=b)}}this.hls.hasEnoughToStart||(this.log(`Setting ${p?"startPosition":"nextLoadPosition"} to ${f} for seek without enough to start`),this.nextLoadPosition=f,p&&(this.startPosition=f)),p&&this.state===te.IDLE&&this.tickImmediate()},this.onMediaEnded=()=>{this.log("setting startPosition to 0 because media ended"),this.startPosition=this.lastCurrentTime=0},this.playlistType=d,this.hls=t,this.fragmentLoader=new bE(t.config),this.keyLoader=i,this.fragmentTracker=n,this.config=t.config,this.decrypter=new Ph(t.config)}registerListeners(){const{hls:t}=this;t.on(G.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(G.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(G.MANIFEST_LOADING,this.onManifestLoading,this),t.on(G.MANIFEST_LOADED,this.onManifestLoaded,this),t.on(G.ERROR,this.onError,this)}unregisterListeners(){const{hls:t}=this;t.off(G.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(G.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(G.MANIFEST_LOADING,this.onManifestLoading,this),t.off(G.MANIFEST_LOADED,this.onManifestLoaded,this),t.off(G.ERROR,this.onError,this)}doTick(){this.onTickEnd()}onTickEnd(){}startLoad(t){}stopLoad(){if(this.state===te.STOPPED)return;this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);const t=this.fragCurrent;t!=null&&t.loader&&(t.abortRequests(),this.fragmentTracker.removeFragment(t)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=te.STOPPED}get startPositionValue(){const{nextLoadPosition:t,startPosition:n}=this;return n===-1&&t?t:n}get bufferingEnabled(){return this.buffering}pauseBuffering(){this.buffering=!1}resumeBuffering(){this.buffering=!0}get inFlightFrag(){return{frag:this.fragCurrent,state:this.state}}_streamEnded(t,n){if(n.live||!this.media)return!1;const i=t.end||0,l=this.config.timelineOffset||0;if(i<=l)return!1;const d=t.buffered;this.config.maxBufferHole&&d&&d.length>1&&(t=Pn.bufferedInfo(d,t.start,0));const s=t.nextStart;if(s&&s>l&&s<n.edge||this.media.currentTime<t.start)return!1;const e=n.partList;if(e!=null&&e.length){const u=e[e.length-1];return Pn.isBuffered(this.media,u.start+u.duration/2)}const o=n.fragments[n.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(o)}getLevelDetails(){if(this.levels&&this.levelLastLoaded!==null)return this.levelLastLoaded.details}get timelineOffset(){const t=this.config.timelineOffset;if(t){var n;return((n=this.getLevelDetails())==null?void 0:n.appliedTimelineOffset)||t}return 0}onMediaAttached(t,n){const i=this.media=this.mediaBuffer=n.media;Ii(i,"seeking",this.onMediaSeeking),Ii(i,"ended",this.onMediaEnded);const l=this.config;this.levels&&l.autoStartLoad&&this.state===te.STOPPED&&this.startLoad(l.startPosition)}onMediaDetaching(t,n){const i=!!n.transferMedia,l=this.media;if(l!==null){if(l.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),Ni(l,"seeking",this.onMediaSeeking),Ni(l,"ended",this.onMediaEnded),this.keyLoader&&!i&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loopSn=void 0,i){this.resetLoadingState(),this.resetTransmuxer();return}this.loadingParts=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}}onManifestLoading(){this.initPTS=[],this.levels=this.levelLastLoaded=this.fragCurrent=null,this.lastCurrentTime=this.startPosition=0,this.startFragRequested=!1}onError(t,n){}onManifestLoaded(t,n){this.startTimeOffset=n.startTimeOffset}onHandlerDestroying(){this.stopLoad(),this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null),super.onHandlerDestroying(),this.hls=this.onMediaSeeking=this.onMediaEnded=null}onHandlerDestroyed(){this.state=te.STOPPED,this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,super.onHandlerDestroyed()}loadFragment(t,n,i){this.startFragRequested=!0,this._loadFragForPlayback(t,n,i)}_loadFragForPlayback(t,n,i){const l=d=>{const s=d.frag;if(this.fragContextChanged(s)){this.warn(`${s.type} sn: ${s.sn}${d.part?" part: "+d.part.index:""} of ${this.fragInfo(s,!1,d.part)}) was dropped during download.`),this.fragmentTracker.removeFragment(s);return}s.stats.chunkCount++,this._handleFragmentLoadProgress(d)};this._doFragLoad(t,n,i,l).then(d=>{if(!d)return;const s=this.state,c=d.frag;if(this.fragContextChanged(c)){(s===te.FRAG_LOADING||!this.fragCurrent&&s===te.PARSING)&&(this.fragmentTracker.removeFragment(c),this.state=te.IDLE);return}"payload"in d&&(this.log(`Loaded ${c.type} sn: ${c.sn} of ${this.playlistLabel()} ${c.level}`),this.hls.trigger(G.FRAG_LOADED,d)),this._handleFragmentLoadComplete(d)}).catch(d=>{this.state===te.STOPPED||this.state===te.ERROR||(this.warn(`Frag error: ${d?.message||d}`),this.resetFragmentLoading(t))})}clearTrackerIfNeeded(t){var n;const{fragmentTracker:i}=this;if(i.getState(t)===ni.APPENDING){const d=t.type,s=this.getFwdBufferInfo(this.mediaBuffer,d),c=Math.max(t.duration,s?s.len:this.config.maxBufferLength),e=this.backtrackFragment;((e?t.sn-e.sn:0)===1||this.reduceMaxBufferLength(c,t.duration))&&i.removeFragment(t)}else((n=this.mediaBuffer)==null?void 0:n.buffered.length)===0?i.removeAllFragments():i.hasParts(t.type)&&(i.detectPartialFragments({frag:t,part:null,stats:t.stats,id:t.type}),i.getState(t)===ni.PARTIAL&&i.removeFragment(t))}checkLiveUpdate(t){if(t.updated&&!t.live){const n=t.fragments[t.fragments.length-1];this.fragmentTracker.detectPartialFragments({frag:n,part:null,stats:n.stats,id:n.type})}t.fragments[0]||(t.deltaUpdateFailed=!0)}waitForLive(t){const n=t.details;return n?.live&&n.type!=="EVENT"&&(this.levelLastLoaded!==t||n.expired)}flushMainBuffer(t,n,i=null){if(!(t-n))return;const l={startOffset:t,endOffset:n,type:i};this.hls.trigger(G.BUFFER_FLUSHING,l)}_loadInitSegment(t,n){this._doFragLoad(t,n).then(i=>{const l=i?.frag;if(!l||this.fragContextChanged(l)||!this.levels)throw new Error("init load aborted");return i}).then(i=>{const{hls:l}=this,{frag:d,payload:s}=i,c=d.decryptdata;if(s&&s.byteLength>0&&c!=null&&c.key&&c.iv&&ol(c.method)){const e=self.performance.now();return this.decrypter.decrypt(new Uint8Array(s),c.key.buffer,c.iv.buffer,Uh(c.method)).catch(o=>{throw l.trigger(G.ERROR,{type:rn.MEDIA_ERROR,details:_t.FRAG_DECRYPT_ERROR,fatal:!1,error:o,reason:o.message,frag:d}),o}).then(o=>{const u=self.performance.now();return l.trigger(G.FRAG_DECRYPTED,{frag:d,payload:o,stats:{tstart:e,tdecrypt:u}}),i.payload=o,this.completeInitSegmentLoad(i)})}return this.completeInitSegmentLoad(i)}).catch(i=>{this.state===te.STOPPED||this.state===te.ERROR||(this.warn(i),this.resetFragmentLoading(t))})}completeInitSegmentLoad(t){const{levels:n}=this;if(!n)throw new Error("init load aborted, missing levels");const i=t.frag.stats;this.state!==te.STOPPED&&(this.state=te.IDLE),t.frag.data=new Uint8Array(t.payload),i.parsing.start=i.buffering.start=self.performance.now(),i.parsing.end=i.buffering.end=self.performance.now(),this.tick()}unhandledEncryptionError(t,n){var i,l;const d=t.tracks;if(d&&!n.encrypted&&((i=d.audio)!=null&&i.encrypted||(l=d.video)!=null&&l.encrypted)&&(!this.config.emeEnabled||!this.keyLoader.emeController)){const s=this.media,c=new Error(`Encrypted track with no key in ${this.fragInfo(n)} (media ${s?"attached mediaKeys: "+s.mediaKeys:"detached"})`);return this.warn(c.message),!s||s.mediaKeys?!1:(this.hls.trigger(G.ERROR,{type:rn.KEY_SYSTEM_ERROR,details:_t.KEY_SYSTEM_NO_KEYS,fatal:!1,error:c,frag:n}),this.resetTransmuxer(),!0)}return!1}fragContextChanged(t){const{fragCurrent:n}=this;return!t||!n||t.sn!==n.sn||t.level!==n.level}fragBufferedComplete(t,n){const i=this.mediaBuffer?this.mediaBuffer:this.media;if(this.log(`Buffered ${t.type} sn: ${t.sn}${n?" part: "+n.index:""} of ${this.fragInfo(t,!1,n)} > buffer:${i?KE.toString(Pn.getBuffered(i)):"(detached)"})`),qr(t)){var l;if(t.type!==Je.SUBTITLE){const s=t.elementaryStreams;if(!Object.keys(s).some(c=>!!s[c])){this.state=te.IDLE;return}}const d=(l=this.levels)==null?void 0:l[t.level];d!=null&&d.fragmentError&&(this.log(`Resetting level fragment error count of ${d.fragmentError} on frag buffered`),d.fragmentError=0)}this.state=te.IDLE}_handleFragmentLoadComplete(t){const{transmuxer:n}=this;if(!n)return;const{frag:i,part:l,partsLoaded:d}=t,s=!d||d.length===0||d.some(e=>!e),c=new Nh(i.level,i.sn,i.stats.chunkCount+1,0,l?l.index:-1,!s);n.flush(c)}_handleFragmentLoadProgress(t){}_doFragLoad(t,n,i=null,l){var d;this.fragCurrent=t;const s=n.details;if(!this.levels||!s)throw new Error(`frag load aborted, missing level${s?"":" detail"}s`);let c=null;if(t.encrypted&&!((d=t.decryptdata)!=null&&d.key)){if(this.log(`Loading key for ${t.sn} of [${s.startSN}-${s.endSN}], ${this.playlistLabel()} ${t.level}`),this.state=te.KEY_LOADING,this.fragCurrent=t,c=this.keyLoader.load(t).then(A=>{if(!this.fragContextChanged(A.frag))return this.hls.trigger(G.KEY_LOADED,A),this.state===te.KEY_LOADING&&(this.state=te.IDLE),A}),this.hls.trigger(G.KEY_LOADING,{frag:t}),this.fragCurrent===null)return this.log("context changed in KEY_LOADING"),Promise.resolve(null)}else t.encrypted||(c=this.keyLoader.loadClear(t,s.encryptedFragments,this.startFragRequested),c&&this.log("[eme] blocking frag load until media-keys acquired"));const e=this.fragPrevious;if(qr(t)&&(!e||t.sn!==e.sn)){const A=this.shouldLoadParts(n.details,t.end);A!==this.loadingParts&&(this.log(`LL-Part loading ${A?"ON":"OFF"} loading sn ${e?.sn}->${t.sn}`),this.loadingParts=A)}if(i=Math.max(t.start,i||0),this.loadingParts&&qr(t)){const A=s.partList;if(A&&l){i>s.fragmentEnd&&s.fragmentHint&&(t=s.fragmentHint);const p=this.getNextPart(A,t,i);if(p>-1){const m=A[p];t=this.fragCurrent=m.fragment,this.log(`Loading ${t.type} sn: ${t.sn} part: ${m.index} (${p}/${A.length-1}) of ${this.fragInfo(t,!1,m)}) cc: ${t.cc} [${s.startSN}-${s.endSN}], target: ${parseFloat(i.toFixed(3))}`),this.nextLoadPosition=m.start+m.duration,this.state=te.FRAG_LOADING;let y;return c?y=c.then(b=>!b||this.fragContextChanged(b.frag)?null:this.doFragPartsLoad(t,m,n,l)).catch(b=>this.handleFragLoadError(b)):y=this.doFragPartsLoad(t,m,n,l).catch(b=>this.handleFragLoadError(b)),this.hls.trigger(G.FRAG_LOADING,{frag:t,part:m,targetBufferTime:i}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):y}else if(!t.url||this.loadedEndOfParts(A,i))return Promise.resolve(null)}}if(qr(t)&&this.loadingParts){var o;this.log(`LL-Part loading OFF after next part miss @${i.toFixed(2)} Check buffer at sn: ${t.sn} loaded parts: ${(o=s.partList)==null?void 0:o.filter(A=>A.loaded).map(A=>`[${A.start}-${A.end}]`)}`),this.loadingParts=!1}else if(!t.url)return Promise.resolve(null);this.log(`Loading ${t.type} sn: ${t.sn} of ${this.fragInfo(t,!1)}) cc: ${t.cc} ${"["+s.startSN+"-"+s.endSN+"]"}, target: ${parseFloat(i.toFixed(3))}`),je(t.sn)&&!this.bitrateTest&&(this.nextLoadPosition=t.start+t.duration),this.state=te.FRAG_LOADING;const u=this.config.progressive;let f;return u&&c?f=c.then(A=>!A||this.fragContextChanged(A.frag)?null:this.fragmentLoader.load(t,l)).catch(A=>this.handleFragLoadError(A)):f=Promise.all([this.fragmentLoader.load(t,u?l:void 0),c]).then(([A])=>(!u&&l&&l(A),A)).catch(A=>this.handleFragLoadError(A)),this.hls.trigger(G.FRAG_LOADING,{frag:t,targetBufferTime:i}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):f}doFragPartsLoad(t,n,i,l){return new Promise((d,s)=>{var c;const e=[],o=(c=i.details)==null?void 0:c.partList,u=f=>{this.fragmentLoader.loadPart(t,f,l).then(A=>{e[f.index]=A;const p=A.part;this.hls.trigger(G.FRAG_LOADED,A);const m=N0(i.details,t.sn,f.index+1)||qm(o,t.sn,f.index+1);if(m)u(m);else return d({frag:t,part:p,partsLoaded:e})}).catch(s)};u(n)})}handleFragLoadError(t){if("data"in t){const n=t.data;n.frag&&n.details===_t.INTERNAL_ABORTED?this.handleFragLoadAborted(n.frag,n.part):n.frag&&n.type===rn.KEY_SYSTEM_ERROR?(n.frag.abortRequests(),this.resetFragmentLoading(n.frag)):this.hls.trigger(G.ERROR,n)}else this.hls.trigger(G.ERROR,{type:rn.OTHER_ERROR,details:_t.INTERNAL_EXCEPTION,err:t,error:t,fatal:!0});return null}_handleTransmuxerFlush(t){const n=this.getCurrentContext(t);if(!n||this.state!==te.PARSING){!this.fragCurrent&&this.state!==te.STOPPED&&this.state!==te.ERROR&&(this.state=te.IDLE);return}const{frag:i,part:l,level:d}=n,s=self.performance.now();i.stats.parsing.end=s,l&&(l.stats.parsing.end=s);const c=this.getLevelDetails(),o=c&&i.sn>c.endSN||this.shouldLoadParts(c,i.end);o!==this.loadingParts&&(this.log(`LL-Part loading ${o?"ON":"OFF"} after parsing segment ending @${i.end.toFixed(2)}`),this.loadingParts=o),this.updateLevelTiming(i,l,d,t.partial)}shouldLoadParts(t,n){if(this.config.lowLatencyMode){if(!t)return this.loadingParts;if(t.partList){var i;const d=t.partList[0];if(d.fragment.type===Je.SUBTITLE)return!1;const s=d.end+(((i=t.fragmentHint)==null?void 0:i.duration)||0);if(n>=s){var l;if((this.hls.hasEnoughToStart?((l=this.media)==null?void 0:l.currentTime)||this.lastCurrentTime:this.getLoadPosition())>d.start-d.fragment.duration)return!0}}}return!1}getCurrentContext(t){const{levels:n,fragCurrent:i}=this,{level:l,sn:d,part:s}=t;if(!(n!=null&&n[l]))return this.warn(`Levels object was unset while buffering fragment ${d} of ${this.playlistLabel()} ${l}. The current chunk will not be buffered.`),null;const c=n[l],e=c.details,o=s>-1?N0(e,d,s):null,u=o?o.fragment:Wm(e,d,i);return u?(i&&i!==u&&(u.stats=i.stats),{frag:u,part:o,level:c}):null}bufferFragmentData(t,n,i,l,d){if(this.state!==te.PARSING)return;const{data1:s,data2:c}=t;let e=s;if(c&&(e=ss(s,c)),!e.length)return;const o=this.initPTS[n.cc],u=o?-o.baseTime/o.timescale:void 0,f={type:t.type,frag:n,part:i,chunkMeta:l,offset:u,parent:n.type,data:e};if(this.hls.trigger(G.BUFFER_APPENDING,f),t.dropped&&t.independent&&!i){if(d)return;this.flushBufferGap(n)}}flushBufferGap(t){const n=this.media;if(!n)return;if(!Pn.isBuffered(n,n.currentTime)){this.flushMainBuffer(0,t.start);return}const i=n.currentTime,l=Pn.bufferInfo(n,i,0),d=t.duration,s=Math.min(this.config.maxFragLookUpTolerance*2,d*.25),c=Math.max(Math.min(t.start-s,l.end-s),i+s);t.start-c>s&&this.flushMainBuffer(c,t.start)}getFwdBufferInfo(t,n){var i;const l=this.getLoadPosition();if(!je(l))return null;const s=this.lastCurrentTime>l||(i=this.media)!=null&&i.paused?0:this.config.maxBufferHole;return this.getFwdBufferInfoAtPos(t,l,n,s)}getFwdBufferInfoAtPos(t,n,i,l){const d=Pn.bufferInfo(t,n,l);if(d.len===0&&d.nextStart!==void 0){const s=this.fragmentTracker.getBufferedFrag(n,i);if(s&&(d.nextStart<=s.end||s.gap)){const c=Math.max(Math.min(d.nextStart,s.end)-n,l);return Pn.bufferInfo(t,n,c)}}return d}getMaxBufferLength(t){const{config:n}=this;let i;return t?i=Math.max(8*n.maxBufferSize/t,n.maxBufferLength):i=n.maxBufferLength,Math.min(i,n.maxMaxBufferLength)}reduceMaxBufferLength(t,n){const i=this.config,l=Math.max(Math.min(t-n,i.maxBufferLength),n),d=Math.max(t-n*3,i.maxMaxBufferLength/2,l);return d>=l?(i.maxMaxBufferLength=d,this.warn(`Reduce max buffer length to ${d}s`),!0):!1}getAppendedFrag(t,n=Je.MAIN){const i=this.fragmentTracker?this.fragmentTracker.getAppendedFrag(t,n):null;return i&&"fragment"in i?i.fragment:i}getNextFragment(t,n){const i=n.fragments,l=i.length;if(!l)return null;const{config:d}=this,s=i[0].start,c=d.lowLatencyMode&&!!n.partList;let e=null;if(n.live){const f=d.initialLiveManifestSize;if(l<f)return this.warn(`Not enough fragments to start playback (have: ${l}, need: ${f})`),null;if(!n.PTSKnown&&!this.startFragRequested&&this.startPosition===-1||t<s){var o;c&&!this.loadingParts&&(this.log("LL-Part loading ON for initial live fragment"),this.loadingParts=!0),e=this.getInitialLiveFragment(n);const A=this.hls.startPosition,p=this.hls.liveSyncPosition,m=e?(A!==-1&&A>=s?A:p)||e.start:t;this.log(`Setting startPosition to ${m} to match start frag at live edge. mainStart: ${A} liveSyncPosition: ${p} frag.start: ${(o=e)==null?void 0:o.start}`),this.startPosition=this.nextLoadPosition=m}}else t<=s&&(e=i[0]);if(!e){const f=this.loadingParts?n.partEnd:n.fragmentEnd;e=this.getFragmentAtPosition(t,f,n)}let u=this.filterReplacedPrimary(e,n);if(!u&&e){const f=e.sn-n.startSN;u=this.filterReplacedPrimary(i[f+1]||null,n)}return this.mapToInitFragWhenRequired(u)}isLoopLoading(t,n){const i=this.fragmentTracker.getState(t);return(i===ni.OK||i===ni.PARTIAL&&!!t.gap)&&this.nextLoadPosition>n}getNextFragmentLoopLoading(t,n,i,l,d){let s=null;if(t.gap&&(s=this.getNextFragment(this.nextLoadPosition,n),s&&!s.gap&&i.nextStart)){const c=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,i.nextStart,l,0);if(c!==null&&i.len+c.len>=d){const e=s.sn;return this.loopSn!==e&&(this.log(`buffer full after gaps in "${l}" playlist starting at sn: ${e}`),this.loopSn=e),null}}return this.loopSn=void 0,s}get primaryPrefetch(){if(G0(this.config)){var t;if((t=this.hls.interstitialsManager)==null||(t=t.playingItem)==null?void 0:t.event)return!0}return!1}filterReplacedPrimary(t,n){if(!t)return t;if(G0(this.config)&&t.type!==Je.SUBTITLE){const i=this.hls.interstitialsManager,l=i?.bufferingItem;if(l){const s=l.event;if(s){if(s.appendInPlace||Math.abs(t.start-l.start)>1||l.start===0)return null}else if(t.end<=l.start&&n?.live===!1||t.start>l.end&&l.nextEvent&&(l.nextEvent.appendInPlace||t.start-l.end>1))return null}const d=i?.playerQueue;if(d)for(let s=d.length;s--;){const c=d[s].interstitial;if(c.appendInPlace&&t.start>=c.startTime&&t.end<=c.resumeTime)return null}}return t}mapToInitFragWhenRequired(t){return t!=null&&t.initSegment&&!t.initSegment.data&&!this.bitrateTest?t.initSegment:t}getNextPart(t,n,i){let l=-1,d=!1,s=!0;for(let c=0,e=t.length;c<e;c++){const o=t[c];if(s=s&&!o.independent,l>-1&&i<o.start)break;const u=o.loaded;u?l=-1:(d||(o.independent||s)&&o.fragment===n)&&(o.fragment!==n&&this.warn(`Need buffer at ${i} but next unloaded part starts at ${o.start}`),l=c),d=u}return l}loadedEndOfParts(t,n){let i;for(let l=t.length;l--;){if(i=t[l],!i.loaded)return!1;if(n>i.start)return!0}return!1}getInitialLiveFragment(t){const n=t.fragments,i=this.fragPrevious;let l=null;if(i){if(t.hasProgramDateTime&&(this.log(`Live playlist, switching playlist, load frag with same PDT: ${i.programDateTime}`),l=lE(n,i.endProgramDateTime,this.config.maxFragLookUpTolerance)),!l){const d=i.sn+1;if(d>=t.startSN&&d<=t.endSN){const s=n[d-t.startSN];i.cc===s.cc&&(l=s,this.log(`Live playlist, switching playlist, load frag with next SN: ${l.sn}`))}l||(l=Fm(t,i.cc,i.end),l&&this.log(`Live playlist, switching playlist, load frag with same CC: ${l.sn}`))}}else{const d=this.hls.liveSyncPosition;d!==null&&(l=this.getFragmentAtPosition(d,this.bitrateTest?t.fragmentEnd:t.edge,t))}return l}getFragmentAtPosition(t,n,i){const{config:l}=this;let{fragPrevious:d}=this,{fragments:s,endSN:c}=i;const{fragmentHint:e}=i,{maxFragLookUpTolerance:o}=l,u=i.partList,f=!!(this.loadingParts&&u!=null&&u.length&&e);f&&!this.bitrateTest&&u[u.length-1].fragment.sn===e.sn&&(s=s.concat(e),c=e.sn);let A;if(t<n){var p;const y=t<this.lastCurrentTime||t>n-o||(p=this.media)!=null&&p.paused||!this.startFragRequested?0:o;A=bo(d,s,t,y)}else A=s[s.length-1];if(A){const m=A.sn-i.startSN,y=this.fragmentTracker.getState(A);if((y===ni.OK||y===ni.PARTIAL&&A.gap)&&(d=A),d&&A.sn===d.sn&&(!f||u[0].fragment.sn>A.sn||!i.live)&&A.level===d.level){const E=s[m+1];A.sn<c&&this.fragmentTracker.getState(E)!==ni.OK?A=E:A=null}}return A}alignPlaylists(t,n,i){const l=t.fragments.length;if(!l)return this.warn("No fragments in live playlist"),0;const d=t.fragmentStart,s=!n,c=t.alignedSliding&&je(d);if(s||!c&&!d){VE(i,t);const e=t.fragmentStart;return this.log(`Live playlist sliding: ${e.toFixed(2)} start-sn: ${n?n.startSN:"na"}->${t.startSN} fragments: ${l}`),e}return d}waitForCdnTuneIn(t){return t.live&&t.canBlockReload&&t.partTarget&&t.tuneInGoal>Math.max(t.partHoldBack,t.partTarget*3)}setStartPosition(t,n){let i=this.startPosition;i<n&&(i=-1);const l=this.timelineOffset;if(i===-1){const d=this.startTimeOffset!==null,s=d?this.startTimeOffset:t.startTimeOffset;s!==null&&je(s)?(i=n+s,s<0&&(i+=t.edge),i=Math.min(Math.max(n,i),n+t.totalduration),this.log(`Setting startPosition to ${i} for start time offset ${s} found in ${d?"multivariant":"media"} playlist`),this.startPosition=i):t.live?(i=this.hls.liveSyncPosition||n,this.log(`Setting startPosition to -1 to start at live edge ${i}`),this.startPosition=-1):(this.log("setting startPosition to 0 by default"),this.startPosition=i=0),this.lastCurrentTime=i+l}this.nextLoadPosition=i+l}getLoadPosition(){var t;const{media:n}=this;let i=0;return(t=this.hls)!=null&&t.hasEnoughToStart&&n?i=n.currentTime:this.nextLoadPosition>=0&&(i=this.nextLoadPosition),i}handleFragLoadAborted(t,n){this.transmuxer&&t.type===this.playlistType&&qr(t)&&t.stats.aborted&&(this.log(`Fragment ${t.sn}${n?" part "+n.index:""} of ${this.playlistLabel()} ${t.level} was aborted`),this.resetFragmentLoading(t))}resetFragmentLoading(t){(!this.fragCurrent||!this.fragContextChanged(t)&&this.state!==te.FRAG_LOADING_WAITING_RETRY)&&(this.state=te.IDLE)}onFragmentOrKeyLoadError(t,n){var i;if(n.chunkMeta&&!n.frag){const E=this.getCurrentContext(n.chunkMeta);E&&(n.frag=E.frag)}const l=n.frag;if(!l||l.type!==t||!this.levels)return;if(this.fragContextChanged(l)){var d;this.warn(`Frag load error must match current frag to retry ${l.url} > ${(d=this.fragCurrent)==null?void 0:d.url}`);return}const s=n.details===_t.FRAG_GAP;s&&this.fragmentTracker.fragBuffered(l,!0);const c=n.errorAction;if(!c){this.state=te.ERROR;return}const{action:e,flags:o,retryCount:u=0,retryConfig:f}=c,A=!!f,p=A&&e===Ai.RetryRequest,m=A&&!c.resolved&&o===Ki.MoveAllAlternatesMatchingHost,y=(i=this.hls.latestLevelDetails)==null?void 0:i.live;if(!p&&m&&qr(l)&&!l.endList&&y)this.resetFragmentErrors(t),this.treatAsGap(l),c.resolved=!0;else if((p||m)&&u<f.maxNumRetry){var b;const E=Ah((b=n.response)==null?void 0:b.code),S=Mh(f,u);if(this.resetStartWhenNotLoaded(),this.retryDate=self.performance.now()+S,this.state=te.FRAG_LOADING_WAITING_RETRY,c.resolved=!0,E){this.log("Waiting for connection (offline)"),this.retryDate=1/0,n.reason="offline";return}this.warn(`Fragment ${l.sn} of ${t} ${l.level} errored with ${n.details}, retrying loading ${u+1}/${f.maxNumRetry} in ${S}ms`)}else if(f)if(this.resetFragmentErrors(t),u<f.maxNumRetry)!s&&e!==Ai.RemoveAlternatePermanently&&(c.resolved=!0);else{this.warn(`${n.details} reached or exceeded max retry (${u})`);return}else e===Ai.SendAlternateToPenaltyBox?this.state=te.WAITING_LEVEL:this.state=te.ERROR;this.tickImmediate()}checkRetryDate(){const t=self.performance.now(),n=this.retryDate,i=n===1/0;(!n||t>=n||i&&!Ah(0))&&(i&&this.log("Connection restored (online)"),this.resetStartWhenNotLoaded(),this.state=te.IDLE)}reduceLengthAndFlushBuffer(t){if(this.state===te.PARSING||this.state===te.PARSED){const n=t.frag,i=t.parent,l=this.getFwdBufferInfo(this.mediaBuffer,i),d=l&&l.len>.5;d&&this.reduceMaxBufferLength(l.len,n?.duration||10);const s=!d;return s&&this.warn(`Buffer full error while media.currentTime (${this.getLoadPosition()}) is not buffered, flush ${i} buffer`),n&&(this.fragmentTracker.removeFragment(n),this.nextLoadPosition=n.start),this.resetLoadingState(),s}return!1}resetFragmentErrors(t){t===Je.AUDIO&&(this.fragCurrent=null),this.hls.hasEnoughToStart||(this.startFragRequested=!1),this.state!==te.STOPPED&&(this.state=te.IDLE)}afterBufferFlushed(t,n,i){if(!t)return;const l=Pn.getBuffered(t);this.fragmentTracker.detectEvictedFragments(n,l,i),this.state===te.ENDED&&this.resetLoadingState()}resetLoadingState(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state!==te.STOPPED&&(this.state=te.IDLE)}resetStartWhenNotLoaded(){if(!this.hls.hasEnoughToStart){this.startFragRequested=!1;const t=this.levelLastLoaded,n=t?t.details:null;n!=null&&n.live?(this.log("resetting startPosition for live start"),this.startPosition=-1,this.setStartPosition(n,n.fragmentStart),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}resetWhenMissingContext(t){this.log(`Loading context changed while buffering sn ${t.sn} of ${this.playlistLabel()} ${t.level===-1?"<removed>":t.level}. This chunk will not be buffered.`),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(),this.resetLoadingState()}removeUnbufferedFrags(t=0){this.fragmentTracker.removeFragmentsInRange(t,1/0,this.playlistType,!1,!0)}updateLevelTiming(t,n,i,l){const d=i.details;if(!d){this.warn("level.details undefined");return}if(!Object.keys(t.elementaryStreams).reduce((e,o)=>{const u=t.elementaryStreams[o];if(u){const f=u.endPTS-u.startPTS;if(f<=0)return this.warn(`Could not parse fragment ${t.sn} ${o} duration reliably (${f})`),e||!1;const A=l?0:$m(d,t,u.startPTS,u.endPTS,u.startDTS,u.endDTS,this);return this.hls.trigger(G.LEVEL_PTS_UPDATED,{details:d,level:i,drift:A,type:o,frag:t,start:u.startPTS,end:u.endPTS}),!0}return e},!1)){var c;if(i.fragmentError===0&&this.treatAsGap(t,i),((c=this.transmuxer)==null?void 0:c.error)===null){const e=new Error(`Found no media in fragment ${t.sn} of ${this.playlistLabel()} ${t.level} resetting transmuxer to fallback to playlist timing`);if(this.warn(e.message),this.hls.trigger(G.ERROR,{type:rn.MEDIA_ERROR,details:_t.FRAG_PARSING_ERROR,fatal:!1,error:e,frag:t,reason:`Found no media in msn ${t.sn} of ${this.playlistLabel()} "${i.url}"`}),!this.hls)return;this.resetTransmuxer()}}this.state=te.PARSED,this.log(`Parsed ${t.type} sn: ${t.sn}${n?" part: "+n.index:""} of ${this.fragInfo(t,!1,n)})`),this.hls.trigger(G.FRAG_PARSED,{frag:t,part:n})}playlistLabel(){return this.playlistType===Je.MAIN?"level":"track"}fragInfo(t,n=!0,i){var l,d;return`${this.playlistLabel()} ${t.level} (${i?"part":"frag"}:[${((l=n&&!i?t.startPTS:(i||t).start)!=null?l:NaN).toFixed(3)}-${((d=n&&!i?t.endPTS:(i||t).end)!=null?d:NaN).toFixed(3)}]${i&&t.type==="main"?"INDEPENDENT="+(i.independent?"YES":"NO"):""}`}treatAsGap(t,n){n&&n.fragmentError++,t.gap=!0,this.fragmentTracker.removeFragment(t),this.fragmentTracker.fragBuffered(t,!0)}resetTransmuxer(){var t;(t=this.transmuxer)==null||t.reset()}recoverWorkerError(t){t.event==="demuxerWorker"&&(this.fragmentTracker.removeAllFragments(),this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null),this.resetStartWhenNotLoaded(),this.resetLoadingState())}set state(t){const n=this._state;n!==t&&(this._state=t,this.log(`${n}->${t}`))}get state(){return this._state}}function G0(g){return!!g.interstitialsController&&g.enableInterstitialPlayback!==!1}class tv{constructor(){this.chunks=[],this.dataLength=0}push(t){this.chunks.push(t),this.dataLength+=t.length}flush(){const{chunks:t,dataLength:n}=this;let i;if(t.length)t.length===1?i=t[0]:i=WE(t,n);else return new Uint8Array(0);return this.reset(),i}reset(){this.chunks.length=0,this.dataLength=0}}function WE(g,t){const n=new Uint8Array(t);let i=0;for(let l=0;l<g.length;l++){const d=g[l];n.set(d,i),i+=d.length}return n}var $d={exports:{}},Q0;function qE(){return Q0||(Q0=1,(function(g){var t=Object.prototype.hasOwnProperty,n="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(n=!1));function l(e,o,u){this.fn=e,this.context=o,this.once=u||!1}function d(e,o,u,f,A){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new l(u,f||e,A),m=n?n+o:o;return e._events[m]?e._events[m].fn?e._events[m]=[e._events[m],p]:e._events[m].push(p):(e._events[m]=p,e._eventsCount++),e}function s(e,o){--e._eventsCount===0?e._events=new i:delete e._events[o]}function c(){this._events=new i,this._eventsCount=0}c.prototype.eventNames=function(){var o=[],u,f;if(this._eventsCount===0)return o;for(f in u=this._events)t.call(u,f)&&o.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(u)):o},c.prototype.listeners=function(o){var u=n?n+o:o,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var A=0,p=f.length,m=new Array(p);A<p;A++)m[A]=f[A].fn;return m},c.prototype.listenerCount=function(o){var u=n?n+o:o,f=this._events[u];return f?f.fn?1:f.length:0},c.prototype.emit=function(o,u,f,A,p,m){var y=n?n+o:o;if(!this._events[y])return!1;var b=this._events[y],E=arguments.length,S,T;if(b.fn){switch(b.once&&this.removeListener(o,b.fn,void 0,!0),E){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,u),!0;case 3:return b.fn.call(b.context,u,f),!0;case 4:return b.fn.call(b.context,u,f,A),!0;case 5:return b.fn.call(b.context,u,f,A,p),!0;case 6:return b.fn.call(b.context,u,f,A,p,m),!0}for(T=1,S=new Array(E-1);T<E;T++)S[T-1]=arguments[T];b.fn.apply(b.context,S)}else{var L=b.length,I;for(T=0;T<L;T++)switch(b[T].once&&this.removeListener(o,b[T].fn,void 0,!0),E){case 1:b[T].fn.call(b[T].context);break;case 2:b[T].fn.call(b[T].context,u);break;case 3:b[T].fn.call(b[T].context,u,f);break;case 4:b[T].fn.call(b[T].context,u,f,A);break;default:if(!S)for(I=1,S=new Array(E-1);I<E;I++)S[I-1]=arguments[I];b[T].fn.apply(b[T].context,S)}}return!0},c.prototype.on=function(o,u,f){return d(this,o,u,f,!1)},c.prototype.once=function(o,u,f){return d(this,o,u,f,!0)},c.prototype.removeListener=function(o,u,f,A){var p=n?n+o:o;if(!this._events[p])return this;if(!u)return s(this,p),this;var m=this._events[p];if(m.fn)m.fn===u&&(!A||m.once)&&(!f||m.context===f)&&s(this,p);else{for(var y=0,b=[],E=m.length;y<E;y++)(m[y].fn!==u||A&&!m[y].once||f&&m[y].context!==f)&&b.push(m[y]);b.length?this._events[p]=b.length===1?b[0]:b:s(this,p)}return this},c.prototype.removeAllListeners=function(o){var u;return o?(u=n?n+o:o,this._events[u]&&s(this,u)):(this._events=new i,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,g.exports=c})($d)),$d.exports}var XE=qE(),Qh=Sb(XE);const ru="1.6.11",fl={};function ZE(){return typeof __HLS_WORKER_BUNDLE__=="function"}function JE(){const g=fl[ru];if(g)return g.clientCount++,g;const t=new self.Blob([`var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(${__HLS_WORKER_BUNDLE__.toString()})(true);`],{type:"text/javascript"}),n=self.URL.createObjectURL(t),l={worker:new self.Worker(n),objectURL:n,clientCount:1};return fl[ru]=l,l}function tC(g){const t=fl[g];if(t)return t.clientCount++,t;const n=new self.URL(g,self.location.href).href,l={worker:new self.Worker(n),scriptURL:n,clientCount:1};return fl[g]=l,l}function eC(g){const t=fl[g||ru];if(t&&t.clientCount--===1){const{worker:i,objectURL:l}=t;delete fl[g||ru],l&&self.URL.revokeObjectURL(l),i.terminate()}}function ev(g,t){return t+10<=g.length&&g[t]===51&&g[t+1]===68&&g[t+2]===73&&g[t+3]<255&&g[t+4]<255&&g[t+6]<128&&g[t+7]<128&&g[t+8]<128&&g[t+9]<128}function jh(g,t){return t+10<=g.length&&g[t]===73&&g[t+1]===68&&g[t+2]===51&&g[t+3]<255&&g[t+4]<255&&g[t+6]<128&&g[t+7]<128&&g[t+8]<128&&g[t+9]<128}function Kc(g,t){let n=0;return n=(g[t]&127)<<21,n|=(g[t+1]&127)<<14,n|=(g[t+2]&127)<<7,n|=g[t+3]&127,n}function iu(g,t){const n=t;let i=0;for(;jh(g,t);){i+=10;const l=Kc(g,t+6);i+=l,ev(g,t+10)&&(i+=10),t+=i}if(i>0)return g.subarray(n,n+i)}function nC(g,t,n,i){const l=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],d=t[n+2],s=d>>2&15;if(s>12){const p=new Error(`invalid ADTS sampling index:${s}`);g.emit(G.ERROR,G.ERROR,{type:rn.MEDIA_ERROR,details:_t.FRAG_PARSING_ERROR,fatal:!0,error:p,reason:p.message});return}const c=(d>>6&3)+1,e=t[n+3]>>6&3|(d&1)<<2,o="mp4a.40."+c,u=l[s];let f=s;(c===5||c===29)&&(f-=3);const A=[c<<3|(f&14)>>1,(f&1)<<7|e<<3];return hr.log(`manifest codec:${i}, parsed codec:${o}, channels:${e}, rate:${u} (ADTS object type:${c} sampling index:${s})`),{config:A,samplerate:u,channelCount:e,codec:o,parsedCodec:o,manifestCodec:i}}function nv(g,t){return g[t]===255&&(g[t+1]&246)===240}function rv(g,t){return g[t+1]&1?7:9}function zh(g,t){return(g[t+3]&3)<<11|g[t+4]<<3|(g[t+5]&224)>>>5}function rC(g,t){return t+5<g.length}function Hc(g,t){return t+1<g.length&&nv(g,t)}function iC(g,t){return rC(g,t)&&nv(g,t)&&zh(g,t)<=g.length-t}function sC(g,t){if(Hc(g,t)){const n=rv(g,t);if(t+n>=g.length)return!1;const i=zh(g,t);if(i<=n)return!1;const l=t+i;return l===g.length||Hc(g,l)}return!1}function iv(g,t,n,i,l){if(!g.samplerate){const d=nC(t,n,i,l);if(!d)return;yr(g,d)}}function sv(g){return 1024*9e4/g}function aC(g,t){const n=rv(g,t);if(t+n<=g.length){const i=zh(g,t)-n;if(i>0)return{headerLength:n,frameLength:i}}}function av(g,t,n,i,l){const d=sv(g.samplerate),s=i+l*d,c=aC(t,n);let e;if(c){const{frameLength:f,headerLength:A}=c,p=A+f,m=Math.max(0,n+p-t.length);m?(e=new Uint8Array(p-A),e.set(t.subarray(n+A,t.length),0)):e=t.subarray(n+A,n+p);const y={unit:e,pts:s};return m||g.samples.push(y),{sample:y,length:p,missing:m}}const o=t.length-n;return e=new Uint8Array(o),e.set(t.subarray(n,t.length),0),{sample:{unit:e,pts:s},length:o,missing:-1}}function oC(g,t){return jh(g,t)&&Kc(g,t+6)+10<=g.length-t}function lC(g){return g instanceof ArrayBuffer?g:g.byteOffset==0&&g.byteLength==g.buffer.byteLength?g.buffer:new Uint8Array(g).buffer}function Vd(g,t=0,n=1/0){return uC(g,t,n,Uint8Array)}function uC(g,t,n,i){const l=cC(g);let d=1;"BYTES_PER_ELEMENT"in i&&(d=i.BYTES_PER_ELEMENT);const s=fC(g)?g.byteOffset:0,c=(s+g.byteLength)/d,e=(s+t)/d,o=Math.floor(Math.max(0,Math.min(e,c))),u=Math.floor(Math.min(o+Math.max(n,0),c));return new i(l,o,u-o)}function cC(g){return g instanceof ArrayBuffer?g:g.buffer}function fC(g){return g&&g.buffer instanceof ArrayBuffer&&g.byteLength!==void 0&&g.byteOffset!==void 0}function dC(g){const t={key:g.type,description:"",data:"",mimeType:null,pictureType:null},n=3;if(g.size<2)return;if(g.data[0]!==n){console.log("Ignore frame with unrecognized character encoding");return}const i=g.data.subarray(1).indexOf(0);if(i===-1)return;const l=Xi(Vd(g.data,1,i)),d=g.data[2+i],s=g.data.subarray(3+i).indexOf(0);if(s===-1)return;const c=Xi(Vd(g.data,3+i,s));let e;return l==="-->"?e=Xi(Vd(g.data,4+i+s)):e=lC(g.data.subarray(4+i+s)),t.mimeType=l,t.pictureType=d,t.description=c,t.data=e,t}function hC(g){if(g.size<2)return;const t=Xi(g.data,!0),n=new Uint8Array(g.data.subarray(t.length+1));return{key:g.type,info:t,data:n.buffer}}function AC(g){if(g.size<2)return;if(g.type==="TXXX"){let n=1;const i=Xi(g.data.subarray(n),!0);n+=i.length+1;const l=Xi(g.data.subarray(n));return{key:g.type,info:i,data:l}}const t=Xi(g.data.subarray(1));return{key:g.type,info:"",data:t}}function gC(g){if(g.type==="WXXX"){if(g.size<2)return;let n=1;const i=Xi(g.data.subarray(n),!0);n+=i.length+1;const l=Xi(g.data.subarray(n));return{key:g.type,info:i,data:l}}const t=Xi(g.data);return{key:g.type,info:"",data:t}}function pC(g){return g.type==="PRIV"?hC(g):g.type[0]==="W"?gC(g):g.type==="APIC"?dC(g):AC(g)}function mC(g){const t=String.fromCharCode(g[0],g[1],g[2],g[3]),n=Kc(g,4),i=10;return{type:t,size:n,data:g.subarray(i,i+n)}}const pc=10,vC=10;function ov(g){let t=0;const n=[];for(;jh(g,t);){const i=Kc(g,t+6);g[t+5]>>6&1&&(t+=pc),t+=pc;const l=t+i;for(;t+vC<l;){const d=mC(g.subarray(t)),s=pC(d);s&&n.push(s),t+=d.size+pc}ev(g,t)&&(t+=pc)}return n}function lv(g){return g&&g.key==="PRIV"&&g.info==="com.apple.streaming.transportStreamTimestamp"}function yC(g){if(g.data.byteLength===8){const t=new Uint8Array(g.data),n=t[3]&1;let i=(t[4]<<23)+(t[5]<<15)+(t[6]<<7)+t[7];return i/=45,n&&(i+=4772185884e-2),Math.round(i)}}function Hh(g){const t=ov(g);for(let n=0;n<t.length;n++){const i=t[n];if(lv(i))return yC(i)}}let qi=(function(g){return g.audioId3="org.id3",g.dateRange="com.apple.quicktime.HLS",g.emsg="https://aomedia.org/emsg/ID3",g.misbklv="urn:misb:KLV:bin:1910.1",g})({});function _s(g="",t=9e4){return{type:g,id:-1,pid:-1,inputTimeScale:t,sequenceNumber:-1,samples:[],dropped:0}}class Yh{constructor(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}resetInitSegment(t,n,i,l){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}resetTimeStamp(t){this.initPTS=t,this.resetContiguity()}resetContiguity(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}canParse(t,n){return!1}appendFrame(t,n,i){}demux(t,n){this.cachedData&&(t=ss(this.cachedData,t),this.cachedData=null);let i=iu(t,0),l=i?i.length:0,d;const s=this._audioTrack,c=this._id3Track,e=i?Hh(i):void 0,o=t.length;for((this.basePTS===null||this.frameIndex===0&&je(e))&&(this.basePTS=bC(e,n,this.initPTS),this.lastPTS=this.basePTS),this.lastPTS===null&&(this.lastPTS=this.basePTS),i&&i.length>0&&c.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:i,type:qi.audioId3,duration:Number.POSITIVE_INFINITY});l<o;){if(this.canParse(t,l)){const u=this.appendFrame(s,t,l);u?(this.frameIndex++,this.lastPTS=u.sample.pts,l+=u.length,d=l):l=o}else oC(t,l)?(i=iu(t,l),c.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:i,type:qi.audioId3,duration:Number.POSITIVE_INFINITY}),l+=i.length,d=l):l++;if(l===o&&d!==o){const u=t.slice(d);this.cachedData?this.cachedData=ss(this.cachedData,u):this.cachedData=u}}return{audioTrack:s,videoTrack:_s(),id3Track:c,textTrack:_s()}}demuxSampleAes(t,n,i){return Promise.reject(new Error(`[${this}] This demuxer does not support Sample-AES decryption`))}flush(t){const n=this.cachedData;return n&&(this.cachedData=null,this.demux(n,0)),{audioTrack:this._audioTrack,videoTrack:_s(),id3Track:this._id3Track,textTrack:_s()}}destroy(){this.cachedData=null,this._audioTrack=this._id3Track=void 0}}const bC=(g,t,n)=>{if(je(g))return g*90;const i=n?n.baseTime*9e4/n.timescale:0;return t*9e4+i};let mc=null;const EC=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],CC=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],SC=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],xC=[0,1,1,4];function uv(g,t,n,i,l){if(n+24>t.length)return;const d=cv(t,n);if(d&&n+d.frameLength<=t.length){const s=d.samplesPerFrame*9e4/d.sampleRate,c=i+l*s,e={unit:t.subarray(n,n+d.frameLength),pts:c,dts:c};return g.config=[],g.channelCount=d.channelCount,g.samplerate=d.sampleRate,g.samples.push(e),{sample:e,length:d.frameLength,missing:0}}}function cv(g,t){const n=g[t+1]>>3&3,i=g[t+1]>>1&3,l=g[t+2]>>4&15,d=g[t+2]>>2&3;if(n!==1&&l!==0&&l!==15&&d!==3){const s=g[t+2]>>1&1,c=g[t+3]>>6,e=n===3?3-i:i===3?3:4,o=EC[e*14+l-1]*1e3,f=CC[(n===3?0:n===2?1:2)*3+d],A=c===3?1:2,p=SC[n][i],m=xC[i],y=p*8*m,b=Math.floor(p*o/f+s)*m;if(mc===null){const T=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);mc=T?parseInt(T[1]):0}return!!mc&&mc<=87&&i===2&&o>=224e3&&c===0&&(g[t+3]=g[t+3]|128),{sampleRate:f,channelCount:A,frameLength:b,samplesPerFrame:y}}}function $h(g,t){return g[t]===255&&(g[t+1]&224)===224&&(g[t+1]&6)!==0}function fv(g,t){return t+1<g.length&&$h(g,t)}function TC(g,t){return $h(g,t)&&4<=g.length-t}function dv(g,t){if(t+1<g.length&&$h(g,t)){const i=cv(g,t);let l=4;i!=null&&i.frameLength&&(l=i.frameLength);const d=t+l;return d===g.length||fv(g,d)}return!1}class wC extends Yh{constructor(t,n){super(),this.observer=void 0,this.config=void 0,this.observer=t,this.config=n}resetInitSegment(t,n,i,l){super.resetInitSegment(t,n,i,l),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:n,duration:l,inputTimeScale:9e4,dropped:0}}static probe(t,n){if(!t)return!1;const i=iu(t,0);let l=i?.length||0;if(dv(t,l))return!1;for(let d=t.length;l<d;l++)if(sC(t,l))return n.log("ADTS sync word found !"),!0;return!1}canParse(t,n){return iC(t,n)}appendFrame(t,n,i){iv(t,this.observer,n,i,t.manifestCodec);const l=av(t,n,i,this.basePTS,this.frameIndex);if(l&&l.missing===0)return l}}const hv=(g,t)=>{let n=0,i=5;t+=i;const l=new Uint32Array(1),d=new Uint32Array(1),s=new Uint8Array(1);for(;i>0;){s[0]=g[t];const c=Math.min(i,8),e=8-c;d[0]=4278190080>>>24+e<<e,l[0]=(s[0]&d[0])>>e,n=n?n<<c|l[0]:l[0],t+=1,i-=c}return n};class LC extends Yh{constructor(t){super(),this.observer=void 0,this.observer=t}resetInitSegment(t,n,i,l){super.resetInitSegment(t,n,i,l),this._audioTrack={container:"audio/ac-3",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"ac3",samples:[],manifestCodec:n,duration:l,inputTimeScale:9e4,dropped:0}}canParse(t,n){return n+64<t.length}appendFrame(t,n,i){const l=Av(t,n,i,this.basePTS,this.frameIndex);if(l!==-1)return{sample:t.samples[t.samples.length-1],length:l,missing:0}}static probe(t){if(!t)return!1;const n=iu(t,0);if(!n)return!1;const i=n.length;return t[i]===11&&t[i+1]===119&&Hh(n)!==void 0&&hv(t,i)<16}}function Av(g,t,n,i,l){if(n+8>t.length||t[n]!==11||t[n+1]!==119)return-1;const d=t[n+4]>>6;if(d>=3)return-1;const c=[48e3,44100,32e3][d],e=t[n+4]&63,u=[64,69,96,64,70,96,80,87,120,80,88,120,96,104,144,96,105,144,112,121,168,112,122,168,128,139,192,128,140,192,160,174,240,160,175,240,192,208,288,192,209,288,224,243,336,224,244,336,256,278,384,256,279,384,320,348,480,320,349,480,384,417,576,384,418,576,448,487,672,448,488,672,512,557,768,512,558,768,640,696,960,640,697,960,768,835,1152,768,836,1152,896,975,1344,896,976,1344,1024,1114,1536,1024,1115,1536,1152,1253,1728,1152,1254,1728,1280,1393,1920,1280,1394,1920][e*3+d]*2;if(n+u>t.length)return-1;const f=t[n+6]>>5;let A=0;f===2?A+=2:(f&1&&f!==1&&(A+=2),f&4&&(A+=2));const p=(t[n+6]<<8|t[n+7])>>12-A&1,y=[2,1,2,3,3,4,4,5][f]+p,b=t[n+5]>>3,E=t[n+5]&7,S=new Uint8Array([d<<6|b<<1|E>>2,(E&3)<<6|f<<3|p<<2|e>>4,e<<4&224]),T=1536/c*9e4,L=i+l*T,I=t.subarray(n,n+u);return g.config=S,g.channelCount=y,g.samplerate=c,g.samples.push({unit:I,pts:L}),u}class RC extends Yh{resetInitSegment(t,n,i,l){super.resetInitSegment(t,n,i,l),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:n,duration:l,inputTimeScale:9e4,dropped:0}}static probe(t){if(!t)return!1;const n=iu(t,0);let i=n?.length||0;if(n&&t[i]===11&&t[i+1]===119&&Hh(n)!==void 0&&hv(t,i)<=16)return!1;for(let l=t.length;i<l;i++)if(dv(t,i))return hr.log("MPEG Audio sync word found !"),!0;return!1}canParse(t,n){return TC(t,n)}appendFrame(t,n,i){if(this.basePTS!==null)return uv(t,n,i,this.basePTS,this.frameIndex)}}const IC=/\/emsg[-/]ID3/i;class DC{constructor(t,n){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=n}resetTimeStamp(){}resetInitSegment(t,n,i,l){const d=this.videoTrack=_s("video",1),s=this.audioTrack=_s("audio",1),c=this.txtTrack=_s("text",1);if(this.id3Track=_s("id3",1),this.timeOffset=0,!(t!=null&&t.byteLength))return;const e=Im(t);if(e.video){const{id:o,timescale:u,codec:f,supplemental:A}=e.video;d.id=o,d.timescale=c.timescale=u,d.codec=f,d.supplemental=A}if(e.audio){const{id:o,timescale:u,codec:f}=e.audio;s.id=o,s.timescale=u,s.codec=f}c.id=wm.text,d.sampleDuration=0,d.duration=s.duration=l}resetContiguity(){this.remainderData=null}static probe(t){return Rb(t)}demux(t,n){this.timeOffset=n;let i=t;const l=this.videoTrack,d=this.txtTrack;if(this.config.progressive){this.remainderData&&(i=ss(this.remainderData,t));const c=_b(i);this.remainderData=c.remainder,l.samples=c.valid||new Uint8Array}else l.samples=i;const s=this.extractID3Track(l,n);return d.samples=a0(n,l),{videoTrack:l,audioTrack:this.audioTrack,id3Track:s,textTrack:this.txtTrack}}flush(){const t=this.timeOffset,n=this.videoTrack,i=this.txtTrack;n.samples=this.remainderData||new Uint8Array,this.remainderData=null;const l=this.extractID3Track(n,this.timeOffset);return i.samples=a0(t,n),{videoTrack:n,audioTrack:_s(),id3Track:l,textTrack:_s()}}extractID3Track(t,n){const i=this.id3Track;if(t.samples.length){const l=Hn(t.samples,["emsg"]);l&&l.forEach(d=>{const s=Pb(d);if(IC.test(s.schemeIdUri)){const c=j0(s,n);let e=s.eventDuration===4294967295?Number.POSITIVE_INFINITY:s.eventDuration/s.timeScale;e<=.001&&(e=Number.POSITIVE_INFINITY);const o=s.payload;i.samples.push({data:o,len:o.byteLength,dts:c,pts:c,type:qi.emsg,duration:e})}else if(this.config.enableEmsgKLVMetadata&&s.schemeIdUri.startsWith("urn:misb:KLV:bin:1910.1")){const c=j0(s,n);i.samples.push({data:s.payload,len:s.payload.byteLength,dts:c,pts:c,type:qi.misbklv,duration:Number.POSITIVE_INFINITY})}})}return i}demuxSampleAes(t,n,i){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}destroy(){this.config=null,this.remainderData=null,this.videoTrack=this.audioTrack=this.id3Track=this.txtTrack=void 0}}function j0(g,t){return je(g.presentationTime)?g.presentationTime/g.timeScale:t+g.presentationTimeDelta/g.timeScale}class kC{constructor(t,n,i){this.keyData=void 0,this.decrypter=void 0,this.keyData=i,this.decrypter=new Ph(n,{removePKCS7Padding:!1})}decryptBuffer(t){return this.decrypter.decrypt(t,this.keyData.key.buffer,this.keyData.iv.buffer,ja.cbc)}decryptAacSample(t,n,i){const l=t[n].unit;if(l.length<=16)return;const d=l.subarray(16,l.length-l.length%16),s=d.buffer.slice(d.byteOffset,d.byteOffset+d.length);this.decryptBuffer(s).then(c=>{const e=new Uint8Array(c);l.set(e,16),this.decrypter.isSync()||this.decryptAacSamples(t,n+1,i)}).catch(i)}decryptAacSamples(t,n,i){for(;;n++){if(n>=t.length){i();return}if(!(t[n].unit.length<32)&&(this.decryptAacSample(t,n,i),!this.decrypter.isSync()))return}}getAvcEncryptedData(t){const n=Math.floor((t.length-48)/160)*16+16,i=new Int8Array(n);let l=0;for(let d=32;d<t.length-16;d+=160,l+=16)i.set(t.subarray(d,d+16),l);return i}getAvcDecryptedUnit(t,n){const i=new Uint8Array(n);let l=0;for(let d=32;d<t.length-16;d+=160,l+=16)t.set(i.subarray(l,l+16),d);return t}decryptAvcSample(t,n,i,l,d){const s=km(d.data),c=this.getAvcEncryptedData(s);this.decryptBuffer(c.buffer).then(e=>{d.data=this.getAvcDecryptedUnit(s,e),this.decrypter.isSync()||this.decryptAvcSamples(t,n,i+1,l)}).catch(l)}decryptAvcSamples(t,n,i,l){if(t instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;n++,i=0){if(n>=t.length){l();return}const d=t[n].units;for(;!(i>=d.length);i++){const s=d[i];if(!(s.data.length<=48||s.type!==1&&s.type!==5)&&(this.decryptAvcSample(t,n,i,l,s),!this.decrypter.isSync()))return}}}}class gv{constructor(){this.VideoSample=null}createVideoSample(t,n,i){return{key:t,frame:!1,pts:n,dts:i,units:[],length:0}}getLastNalUnit(t){var n;let i=this.VideoSample,l;if((!i||i.units.length===0)&&(i=t[t.length-1]),(n=i)!=null&&n.units){const d=i.units;l=d[d.length-1]}return l}pushAccessUnit(t,n){if(t.units.length&&t.frame){if(t.pts===void 0){const i=n.samples,l=i.length;if(l){const d=i[l-1];t.pts=d.pts,t.dts=d.dts}else{n.dropped++;return}}n.samples.push(t)}}parseNALu(t,n,i){const l=n.byteLength;let d=t.naluState||0;const s=d,c=[];let e=0,o,u,f,A=-1,p=0;for(d===-1&&(A=0,p=this.getNALuType(n,0),d=0,e=1);e<l;){if(o=n[e++],!d){d=o?0:1;continue}if(d===1){d=o?0:2;continue}if(!o)d=3;else if(o===1){if(u=e-d-1,A>=0){const m={data:n.subarray(A,u),type:p};c.push(m)}else{const m=this.getLastNalUnit(t.samples);m&&(s&&e<=4-s&&m.state&&(m.data=m.data.subarray(0,m.data.byteLength-s)),u>0&&(m.data=ss(m.data,n.subarray(0,u)),m.state=0))}e<l?(f=this.getNALuType(n,e),A=e,p=f,d=0):d=-1}else d=0}if(A>=0&&d>=0){const m={data:n.subarray(A,l),type:p,state:d};c.push(m)}if(c.length===0){const m=this.getLastNalUnit(t.samples);m&&(m.data=ss(m.data,n))}return t.naluState=d,c}}class Jl{constructor(t){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=t,this.bytesAvailable=t.byteLength,this.word=0,this.bitsAvailable=0}loadWord(){const t=this.data,n=this.bytesAvailable,i=t.byteLength-n,l=new Uint8Array(4),d=Math.min(4,n);if(d===0)throw new Error("no bytes available");l.set(t.subarray(i,i+d)),this.word=new DataView(l.buffer).getUint32(0),this.bitsAvailable=d*8,this.bytesAvailable-=d}skipBits(t){let n;t=Math.min(t,this.bytesAvailable*8+this.bitsAvailable),this.bitsAvailable>t?(this.word<<=t,this.bitsAvailable-=t):(t-=this.bitsAvailable,n=t>>3,t-=n<<3,this.bytesAvailable-=n,this.loadWord(),this.word<<=t,this.bitsAvailable-=t)}readBits(t){let n=Math.min(this.bitsAvailable,t);const i=this.word>>>32-n;if(t>32&&hr.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=n,this.bitsAvailable>0)this.word<<=n;else if(this.bytesAvailable>0)this.loadWord();else throw new Error("no bits available");return n=t-n,n>0&&this.bitsAvailable?i<<n|this.readBits(n):i}skipLZ(){let t;for(t=0;t<this.bitsAvailable;++t)if((this.word&2147483648>>>t)!==0)return this.word<<=t,this.bitsAvailable-=t,t;return this.loadWord(),t+this.skipLZ()}skipUEG(){this.skipBits(1+this.skipLZ())}skipEG(){this.skipBits(1+this.skipLZ())}readUEG(){const t=this.skipLZ();return this.readBits(t+1)-1}readEG(){const t=this.readUEG();return 1&t?1+t>>>1:-1*(t>>>1)}readBoolean(){return this.readBits(1)===1}readUByte(){return this.readBits(8)}readUShort(){return this.readBits(16)}readUInt(){return this.readBits(32)}}class BC extends gv{parsePES(t,n,i,l){const d=this.parseNALu(t,i.data,l);let s=this.VideoSample,c,e=!1;i.data=null,s&&d.length&&!t.audFound&&(this.pushAccessUnit(s,t),s=this.VideoSample=this.createVideoSample(!1,i.pts,i.dts)),d.forEach(o=>{var u,f;switch(o.type){case 1:{let y=!1;c=!0;const b=o.data;if(e&&b.length>4){const E=this.readSliceType(b);(E===2||E===4||E===7||E===9)&&(y=!0)}if(y){var A;(A=s)!=null&&A.frame&&!s.key&&(this.pushAccessUnit(s,t),s=this.VideoSample=null)}s||(s=this.VideoSample=this.createVideoSample(!0,i.pts,i.dts)),s.frame=!0,s.key=y;break}case 5:c=!0,(u=s)!=null&&u.frame&&!s.key&&(this.pushAccessUnit(s,t),s=this.VideoSample=null),s||(s=this.VideoSample=this.createVideoSample(!0,i.pts,i.dts)),s.key=!0,s.frame=!0;break;case 6:{c=!0,Bh(o.data,1,i.pts,n.samples);break}case 7:{var p,m;c=!0,e=!0;const y=o.data,b=this.readSPS(y);if(!t.sps||t.width!==b.width||t.height!==b.height||((p=t.pixelRatio)==null?void 0:p[0])!==b.pixelRatio[0]||((m=t.pixelRatio)==null?void 0:m[1])!==b.pixelRatio[1]){t.width=b.width,t.height=b.height,t.pixelRatio=b.pixelRatio,t.sps=[y];const E=y.subarray(1,4);let S="avc1.";for(let T=0;T<3;T++){let L=E[T].toString(16);L.length<2&&(L="0"+L),S+=L}t.codec=S}break}case 8:c=!0,t.pps=[o.data];break;case 9:c=!0,t.audFound=!0,(f=s)!=null&&f.frame&&(this.pushAccessUnit(s,t),s=null),s||(s=this.VideoSample=this.createVideoSample(!1,i.pts,i.dts));break;case 12:c=!0;break;default:c=!1;break}s&&c&&s.units.push(o)}),l&&s&&(this.pushAccessUnit(s,t),this.VideoSample=null)}getNALuType(t,n){return t[n]&31}readSliceType(t){const n=new Jl(t);return n.readUByte(),n.readUEG(),n.readUEG()}skipScalingList(t,n){let i=8,l=8,d;for(let s=0;s<t;s++)l!==0&&(d=n.readEG(),l=(i+d+256)%256),i=l===0?i:l}readSPS(t){const n=new Jl(t);let i=0,l=0,d=0,s=0,c,e,o;const u=n.readUByte.bind(n),f=n.readBits.bind(n),A=n.readUEG.bind(n),p=n.readBoolean.bind(n),m=n.skipBits.bind(n),y=n.skipEG.bind(n),b=n.skipUEG.bind(n),E=this.skipScalingList.bind(this);u();const S=u();if(f(5),m(3),u(),b(),S===100||S===110||S===122||S===244||S===44||S===83||S===86||S===118||S===128){const _=A();if(_===3&&m(1),b(),b(),m(1),p())for(e=_!==3?8:12,o=0;o<e;o++)p()&&(o<6?E(16,n):E(64,n))}b();const T=A();if(T===0)A();else if(T===1)for(m(1),y(),y(),c=A(),o=0;o<c;o++)y();b(),m(1);const L=A(),I=A(),B=f(1);B===0&&m(1),m(1),p()&&(i=A(),l=A(),d=A(),s=A());let O=[1,1];if(p()&&p())switch(u()){case 1:O=[1,1];break;case 2:O=[12,11];break;case 3:O=[10,11];break;case 4:O=[16,11];break;case 5:O=[40,33];break;case 6:O=[24,11];break;case 7:O=[20,11];break;case 8:O=[32,11];break;case 9:O=[80,33];break;case 10:O=[18,11];break;case 11:O=[15,11];break;case 12:O=[64,33];break;case 13:O=[160,99];break;case 14:O=[4,3];break;case 15:O=[3,2];break;case 16:O=[2,1];break;case 255:{O=[u()<<8|u(),u()<<8|u()];break}}return{width:Math.ceil((L+1)*16-i*2-l*2),height:(2-B)*(I+1)*16-(B?2:4)*(d+s),pixelRatio:O}}}class OC extends gv{constructor(...t){super(...t),this.initVPS=null}parsePES(t,n,i,l){const d=this.parseNALu(t,i.data,l);let s=this.VideoSample,c,e=!1;i.data=null,s&&d.length&&!t.audFound&&(this.pushAccessUnit(s,t),s=this.VideoSample=this.createVideoSample(!1,i.pts,i.dts)),d.forEach(o=>{var u,f;switch(o.type){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:s||(s=this.VideoSample=this.createVideoSample(!1,i.pts,i.dts)),s.frame=!0,c=!0;break;case 16:case 17:case 18:case 21:if(c=!0,e){var A;(A=s)!=null&&A.frame&&!s.key&&(this.pushAccessUnit(s,t),s=this.VideoSample=null)}s||(s=this.VideoSample=this.createVideoSample(!0,i.pts,i.dts)),s.key=!0,s.frame=!0;break;case 19:case 20:c=!0,(u=s)!=null&&u.frame&&!s.key&&(this.pushAccessUnit(s,t),s=this.VideoSample=null),s||(s=this.VideoSample=this.createVideoSample(!0,i.pts,i.dts)),s.key=!0,s.frame=!0;break;case 39:c=!0,Bh(o.data,2,i.pts,n.samples);break;case 32:c=!0,t.vps||(typeof t.params!="object"&&(t.params={}),t.params=yr(t.params,this.readVPS(o.data)),this.initVPS=o.data),t.vps=[o.data];break;case 33:if(c=!0,e=!0,t.vps!==void 0&&t.vps[0]!==this.initVPS&&t.sps!==void 0&&!this.matchSPS(t.sps[0],o.data)&&(this.initVPS=t.vps[0],t.sps=t.pps=void 0),!t.sps){const p=this.readSPS(o.data);t.width=p.width,t.height=p.height,t.pixelRatio=p.pixelRatio,t.codec=p.codecString,t.sps=[],typeof t.params!="object"&&(t.params={});for(const m in p.params)t.params[m]=p.params[m]}this.pushParameterSet(t.sps,o.data,t.vps),s||(s=this.VideoSample=this.createVideoSample(!0,i.pts,i.dts)),s.key=!0;break;case 34:if(c=!0,typeof t.params=="object"){if(!t.pps){t.pps=[];const p=this.readPPS(o.data);for(const m in p)t.params[m]=p[m]}this.pushParameterSet(t.pps,o.data,t.vps)}break;case 35:c=!0,t.audFound=!0,(f=s)!=null&&f.frame&&(this.pushAccessUnit(s,t),s=null),s||(s=this.VideoSample=this.createVideoSample(!1,i.pts,i.dts));break;default:c=!1;break}s&&c&&s.units.push(o)}),l&&s&&(this.pushAccessUnit(s,t),this.VideoSample=null)}pushParameterSet(t,n,i){(i&&i[0]===this.initVPS||!i&&!t.length)&&t.push(n)}getNALuType(t,n){return(t[n]&126)>>>1}ebsp2rbsp(t){const n=new Uint8Array(t.byteLength);let i=0;for(let l=0;l<t.byteLength;l++)l>=2&&t[l]===3&&t[l-1]===0&&t[l-2]===0||(n[i]=t[l],i++);return new Uint8Array(n.buffer,0,i)}pushAccessUnit(t,n){super.pushAccessUnit(t,n),this.initVPS&&(this.initVPS=null)}readVPS(t){const n=new Jl(t);n.readUByte(),n.readUByte(),n.readBits(4),n.skipBits(2),n.readBits(6);const i=n.readBits(3),l=n.readBoolean();return{numTemporalLayers:i+1,temporalIdNested:l}}readSPS(t){const n=new Jl(this.ebsp2rbsp(t));n.readUByte(),n.readUByte(),n.readBits(4);const i=n.readBits(3);n.readBoolean();const l=n.readBits(2),d=n.readBoolean(),s=n.readBits(5),c=n.readUByte(),e=n.readUByte(),o=n.readUByte(),u=n.readUByte(),f=n.readUByte(),A=n.readUByte(),p=n.readUByte(),m=n.readUByte(),y=n.readUByte(),b=n.readUByte(),E=n.readUByte(),S=[],T=[];for(let we=0;we<i;we++)S.push(n.readBoolean()),T.push(n.readBoolean());if(i>0)for(let we=i;we<8;we++)n.readBits(2);for(let we=0;we<i;we++)S[we]&&(n.readUByte(),n.readUByte(),n.readUByte(),n.readUByte(),n.readUByte(),n.readUByte(),n.readUByte(),n.readUByte(),n.readUByte(),n.readUByte(),n.readUByte()),T[we]&&n.readUByte();n.readUEG();const L=n.readUEG();L==3&&n.skipBits(1);const I=n.readUEG(),B=n.readUEG(),O=n.readBoolean();let _=0,M=0,U=0,Q=0;O&&(_+=n.readUEG(),M+=n.readUEG(),U+=n.readUEG(),Q+=n.readUEG());const $=n.readUEG(),W=n.readUEG(),X=n.readUEG(),et=n.readBoolean();for(let we=et?0:i;we<=i;we++)n.skipUEG(),n.skipUEG(),n.skipUEG();if(n.skipUEG(),n.skipUEG(),n.skipUEG(),n.skipUEG(),n.skipUEG(),n.skipUEG(),n.readBoolean()&&n.readBoolean())for(let Le=0;Le<4;Le++)for(let nn=0;nn<(Le===3?2:6);nn++)if(!n.readBoolean())n.readUEG();else{const cn=Math.min(64,1<<4+(Le<<1));Le>1&&n.readEG();for(let qe=0;qe<cn;qe++)n.readEG()}n.readBoolean(),n.readBoolean(),n.readBoolean()&&(n.readUByte(),n.skipUEG(),n.skipUEG(),n.readBoolean());const K=n.readUEG();let Z=0;for(let we=0;we<K;we++){let Le=!1;if(we!==0&&(Le=n.readBoolean()),Le){we===K&&n.readUEG(),n.readBoolean(),n.readUEG();let nn=0;for(let En=0;En<=Z;En++){const cn=n.readBoolean();let qe=!1;cn||(qe=n.readBoolean()),(cn||qe)&&nn++}Z=nn}else{const nn=n.readUEG(),En=n.readUEG();Z=nn+En;for(let cn=0;cn<nn;cn++)n.readUEG(),n.readBoolean();for(let cn=0;cn<En;cn++)n.readUEG(),n.readBoolean()}}if(n.readBoolean()){const we=n.readUEG();for(let Le=0;Le<we;Le++){for(let nn=0;nn<X+4;nn++)n.readBits(1);n.readBits(1)}}let q=0,nt=1,ot=1,Ct=!0,St=1,Tt=0;n.readBoolean(),n.readBoolean();let Kt=!1;if(n.readBoolean()){if(n.readBoolean()){const Ke=n.readUByte(),Dn=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],an=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1];Ke>0&&Ke<16?(nt=Dn[Ke-1],ot=an[Ke-1]):Ke===255&&(nt=n.readBits(16),ot=n.readBits(16))}if(n.readBoolean()&&n.readBoolean(),n.readBoolean()&&(n.readBits(3),n.readBoolean(),n.readBoolean()&&(n.readUByte(),n.readUByte(),n.readUByte())),n.readBoolean()&&(n.readUEG(),n.readUEG()),n.readBoolean(),n.readBoolean(),n.readBoolean(),Kt=n.readBoolean(),Kt&&(n.skipUEG(),n.skipUEG(),n.skipUEG(),n.skipUEG()),n.readBoolean()&&(St=n.readBits(32),Tt=n.readBits(32),n.readBoolean()&&n.readUEG(),n.readBoolean())){const an=n.readBoolean(),ee=n.readBoolean();let ge=!1;(an||ee)&&(ge=n.readBoolean(),ge&&(n.readUByte(),n.readBits(5),n.readBoolean(),n.readBits(5)),n.readBits(4),n.readBits(4),ge&&n.readBits(4),n.readBits(5),n.readBits(5),n.readBits(5));for(let le=0;le<=i;le++){Ct=n.readBoolean();const ke=Ct||n.readBoolean();let It=!1;ke?n.readEG():It=n.readBoolean();const ve=It?1:n.readUEG()+1;if(an)for(let Be=0;Be<ve;Be++)n.readUEG(),n.readUEG(),ge&&(n.readUEG(),n.readUEG()),n.skipBits(1);if(ee)for(let Be=0;Be<ve;Be++)n.readUEG(),n.readUEG(),ge&&(n.readUEG(),n.readUEG()),n.skipBits(1)}}n.readBoolean()&&(n.readBoolean(),n.readBoolean(),n.readBoolean(),q=n.readUEG())}let Vt=I,ne=B;if(O){let we=1,Le=1;L===1?we=Le=2:L==2&&(we=2),Vt=I-we*M-we*_,ne=B-Le*Q-Le*U}const fe=l?["A","B","C"][l]:"",ae=c<<24|e<<16|o<<8|u;let xe=0;for(let we=0;we<32;we++)xe=(xe|(ae>>we&1)<<31-we)>>>0;let Ne=xe.toString(16);return s===1&&Ne==="2"&&(Ne="6"),{codecString:`hvc1.${fe}${s}.${Ne}.${d?"H":"L"}${E}.B0`,params:{general_tier_flag:d,general_profile_idc:s,general_profile_space:l,general_profile_compatibility_flags:[c,e,o,u],general_constraint_indicator_flags:[f,A,p,m,y,b],general_level_idc:E,bit_depth:$+8,bit_depth_luma_minus8:$,bit_depth_chroma_minus8:W,min_spatial_segmentation_idc:q,chroma_format_idc:L,frame_rate:{fixed:Ct,fps:Tt/St}},width:Vt,height:ne,pixelRatio:[nt,ot]}}readPPS(t){const n=new Jl(this.ebsp2rbsp(t));n.readUByte(),n.readUByte(),n.skipUEG(),n.skipUEG(),n.skipBits(2),n.skipBits(3),n.skipBits(2),n.skipUEG(),n.skipUEG(),n.skipEG(),n.skipBits(2),n.readBoolean()&&n.skipUEG(),n.skipEG(),n.skipEG(),n.skipBits(4);const l=n.readBoolean(),d=n.readBoolean();let s=1;return d&&l?s=0:d?s=3:l&&(s=2),{parallelismType:s}}matchSPS(t,n){return String.fromCharCode.apply(null,t).substr(3)===String.fromCharCode.apply(null,n).substr(3)}}const oi=188;class Ga{constructor(t,n,i,l){this.logger=void 0,this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._pmtId=-1,this._videoTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.remainderData=null,this.videoParser=void 0,this.observer=t,this.config=n,this.typeSupported=i,this.logger=l,this.videoParser=null}static probe(t,n){const i=Ga.syncOffset(t);return i>0&&n.warn(`MPEG2-TS detected but first sync word found @ offset ${i}`),i!==-1}static syncOffset(t){const n=t.length;let i=Math.min(oi*5,n-oi)+1,l=0;for(;l<i;){let d=!1,s=-1,c=0;for(let e=l;e<n;e+=oi)if(t[e]===71&&(n-e===oi||t[e+oi]===71)){if(c++,s===-1&&(s=e,s!==0&&(i=Math.min(s+oi*99,t.length-oi)+1)),d||(d=yh(t,e)===0),d&&c>1&&(s===0&&c>2||e+oi>i))return s}else{if(c)return-1;break}l++}return-1}static createTrack(t,n){return{container:t==="video"||t==="audio"?"video/mp2t":void 0,type:t,id:wm[t],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:t==="audio"?n:void 0}}resetInitSegment(t,n,i,l){this.pmtParsed=!1,this._pmtId=-1,this._videoTrack=Ga.createTrack("video"),this._videoTrack.duration=l,this._audioTrack=Ga.createTrack("audio",l),this._id3Track=Ga.createTrack("id3"),this._txtTrack=Ga.createTrack("text"),this._audioTrack.segmentCodec="aac",this.videoParser=null,this.aacOverFlow=null,this.remainderData=null,this.audioCodec=n,this.videoCodec=i}resetTimeStamp(){}resetContiguity(){const{_audioTrack:t,_videoTrack:n,_id3Track:i}=this;t&&(t.pesData=null),n&&(n.pesData=null),i&&(i.pesData=null),this.aacOverFlow=null,this.remainderData=null}demux(t,n,i=!1,l=!1){i||(this.sampleAes=null);let d;const s=this._videoTrack,c=this._audioTrack,e=this._id3Track,o=this._txtTrack;let u=s.pid,f=s.pesData,A=c.pid,p=e.pid,m=c.pesData,y=e.pesData,b=null,E=this.pmtParsed,S=this._pmtId,T=t.length;if(this.remainderData&&(t=ss(this.remainderData,t),T=t.length,this.remainderData=null),T<oi&&!l)return this.remainderData=t,{audioTrack:c,videoTrack:s,id3Track:e,textTrack:o};const L=Math.max(0,Ga.syncOffset(t));T-=(T-L)%oi,T<t.byteLength&&!l&&(this.remainderData=new Uint8Array(t.buffer,T,t.buffer.byteLength-T));let I=0;for(let O=L;O<T;O+=oi)if(t[O]===71){const _=!!(t[O+1]&64),M=yh(t,O),U=(t[O+3]&48)>>4;let Q;if(U>1){if(Q=O+5+t[O+4],Q===O+oi)continue}else Q=O+4;switch(M){case u:_&&(f&&(d=el(f,this.logger))&&(this.readyVideoParser(s.segmentCodec),this.videoParser!==null&&this.videoParser.parsePES(s,o,d,!1)),f={data:[],size:0}),f&&(f.data.push(t.subarray(Q,O+oi)),f.size+=O+oi-Q);break;case A:if(_){if(m&&(d=el(m,this.logger)))switch(c.segmentCodec){case"aac":this.parseAACPES(c,d);break;case"mp3":this.parseMPEGPES(c,d);break;case"ac3":this.parseAC3PES(c,d);break}m={data:[],size:0}}m&&(m.data.push(t.subarray(Q,O+oi)),m.size+=O+oi-Q);break;case p:_&&(y&&(d=el(y,this.logger))&&this.parseID3PES(e,d),y={data:[],size:0}),y&&(y.data.push(t.subarray(Q,O+oi)),y.size+=O+oi-Q);break;case 0:_&&(Q+=t[Q]+1),S=this._pmtId=_C(t,Q);break;case S:{_&&(Q+=t[Q]+1);const $=MC(t,Q,this.typeSupported,i,this.observer,this.logger);u=$.videoPid,u>0&&(s.pid=u,s.segmentCodec=$.segmentVideoCodec),A=$.audioPid,A>0&&(c.pid=A,c.segmentCodec=$.segmentAudioCodec),p=$.id3Pid,p>0&&(e.pid=p),b!==null&&!E&&(this.logger.warn(`MPEG-TS PMT found at ${O} after unknown PID '${b}'. Backtracking to sync byte @${L} to parse all TS packets.`),b=null,O=L-188),E=this.pmtParsed=!0;break}case 17:case 8191:break;default:b=M;break}}else I++;I>0&&bh(this.observer,new Error(`Found ${I} TS packet/s that do not start with 0x47`),void 0,this.logger),s.pesData=f,c.pesData=m,e.pesData=y;const B={audioTrack:c,videoTrack:s,id3Track:e,textTrack:o};return l&&this.extractRemainingSamples(B),B}flush(){const{remainderData:t}=this;this.remainderData=null;let n;return t?n=this.demux(t,-1,!1,!0):n={videoTrack:this._videoTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(n),this.sampleAes?this.decrypt(n,this.sampleAes):n}extractRemainingSamples(t){const{audioTrack:n,videoTrack:i,id3Track:l,textTrack:d}=t,s=i.pesData,c=n.pesData,e=l.pesData;let o;if(s&&(o=el(s,this.logger))?(this.readyVideoParser(i.segmentCodec),this.videoParser!==null&&(this.videoParser.parsePES(i,d,o,!0),i.pesData=null)):i.pesData=s,c&&(o=el(c,this.logger))){switch(n.segmentCodec){case"aac":this.parseAACPES(n,o);break;case"mp3":this.parseMPEGPES(n,o);break;case"ac3":this.parseAC3PES(n,o);break}n.pesData=null}else c!=null&&c.size&&this.logger.log("last AAC PES packet truncated,might overlap between fragments"),n.pesData=c;e&&(o=el(e,this.logger))?(this.parseID3PES(l,o),l.pesData=null):l.pesData=e}demuxSampleAes(t,n,i){const l=this.demux(t,i,!0,!this.config.progressive),d=this.sampleAes=new kC(this.observer,this.config,n);return this.decrypt(l,d)}readyVideoParser(t){this.videoParser===null&&(t==="avc"?this.videoParser=new BC:t==="hevc"&&(this.videoParser=new OC))}decrypt(t,n){return new Promise(i=>{const{audioTrack:l,videoTrack:d}=t;l.samples&&l.segmentCodec==="aac"?n.decryptAacSamples(l.samples,0,()=>{d.samples?n.decryptAvcSamples(d.samples,0,0,()=>{i(t)}):i(t)}):d.samples&&n.decryptAvcSamples(d.samples,0,0,()=>{i(t)})})}destroy(){this.observer&&this.observer.removeAllListeners(),this.config=this.logger=this.observer=null,this.aacOverFlow=this.videoParser=this.remainderData=this.sampleAes=null,this._videoTrack=this._audioTrack=this._id3Track=this._txtTrack=void 0}parseAACPES(t,n){let i=0;const l=this.aacOverFlow;let d=n.data;if(l){this.aacOverFlow=null;const f=l.missing,A=l.sample.unit.byteLength;if(f===-1)d=ss(l.sample.unit,d);else{const p=A-f;l.sample.unit.set(d.subarray(0,f),p),t.samples.push(l.sample),i=l.missing}}let s,c;for(s=i,c=d.length;s<c-1&&!Hc(d,s);s++);if(s!==i){let f;const A=s<c-1;if(A?f=`AAC PES did not start with ADTS header,offset:${s}`:f="No ADTS header found in AAC PES",bh(this.observer,new Error(f),A,this.logger),!A)return}iv(t,this.observer,d,s,this.audioCodec);let e;if(n.pts!==void 0)e=n.pts;else if(l){const f=sv(t.samplerate);e=l.sample.pts+f}else{this.logger.warn("[tsdemuxer]: AAC PES unknown PTS");return}let o=0,u;for(;s<c;)if(u=av(t,d,s,e,o),s+=u.length,u.missing){this.aacOverFlow=u;break}else for(o++;s<c-1&&!Hc(d,s);s++);}parseMPEGPES(t,n){const i=n.data,l=i.length;let d=0,s=0;const c=n.pts;if(c===void 0){this.logger.warn("[tsdemuxer]: MPEG PES unknown PTS");return}for(;s<l;)if(fv(i,s)){const e=uv(t,i,s,c,d);if(e)s+=e.length,d++;else break}else s++}parseAC3PES(t,n){{const i=n.data,l=n.pts;if(l===void 0){this.logger.warn("[tsdemuxer]: AC3 PES unknown PTS");return}const d=i.length;let s=0,c=0,e;for(;c<d&&(e=Av(t,i,c,l,s++))>0;)c+=e}}parseID3PES(t,n){if(n.pts===void 0){this.logger.warn("[tsdemuxer]: ID3 PES unknown PTS");return}const i=yr({},n,{type:this._videoTrack?qi.emsg:qi.audioId3,duration:Number.POSITIVE_INFINITY});t.samples.push(i)}}function yh(g,t){return((g[t+1]&31)<<8)+g[t+2]}function _C(g,t){return(g[t+10]&31)<<8|g[t+11]}function MC(g,t,n,i,l,d){const s={audioPid:-1,videoPid:-1,id3Pid:-1,segmentVideoCodec:"avc",segmentAudioCodec:"aac"},c=(g[t+1]&15)<<8|g[t+2],e=t+3+c-4,o=(g[t+10]&15)<<8|g[t+11];for(t+=12+o;t<e;){const u=yh(g,t),f=(g[t+3]&15)<<8|g[t+4];switch(g[t]){case 207:if(!i){Kd("ADTS AAC",d);break}case 15:s.audioPid===-1&&(s.audioPid=u);break;case 21:s.id3Pid===-1&&(s.id3Pid=u);break;case 219:if(!i){Kd("H.264",d);break}case 27:s.videoPid===-1&&(s.videoPid=u);break;case 3:case 4:!n.mpeg&&!n.mp3?d.log("MPEG audio found, not supported in this browser"):s.audioPid===-1&&(s.audioPid=u,s.segmentAudioCodec="mp3");break;case 193:if(!i){Kd("AC-3",d);break}case 129:n.ac3?s.audioPid===-1&&(s.audioPid=u,s.segmentAudioCodec="ac3"):d.log("AC-3 audio found, not supported in this browser");break;case 6:if(s.audioPid===-1&&f>0){let A=t+5,p=f;for(;p>2;){switch(g[A]){case 106:n.ac3!==!0?d.log("AC-3 audio found, not supported in this browser for now"):(s.audioPid=u,s.segmentAudioCodec="ac3");break}const y=g[A+1]+2;A+=y,p-=y}}break;case 194:case 135:return bh(l,new Error("Unsupported EC-3 in M2TS found"),void 0,d),s;case 36:s.videoPid===-1&&(s.videoPid=u,s.segmentVideoCodec="hevc",d.log("HEVC in M2TS found"));break}t+=f+5}return s}function bh(g,t,n,i){i.warn(`parsing error: ${t.message}`),g.emit(G.ERROR,G.ERROR,{type:rn.MEDIA_ERROR,details:_t.FRAG_PARSING_ERROR,fatal:!1,levelRetry:n,error:t,reason:t.message})}function Kd(g,t){t.log(`${g} with AES-128-CBC encryption found in unencrypted stream`)}function el(g,t){let n=0,i,l,d,s,c;const e=g.data;if(!g||g.size===0)return null;for(;e[0].length<19&&e.length>1;)e[0]=ss(e[0],e[1]),e.splice(1,1);if(i=e[0],(i[0]<<16)+(i[1]<<8)+i[2]===1){if(l=(i[4]<<8)+i[5],l&&l>g.size-6)return null;const u=i[7];u&192&&(s=(i[9]&14)*536870912+(i[10]&255)*4194304+(i[11]&254)*16384+(i[12]&255)*128+(i[13]&254)/2,u&64?(c=(i[14]&14)*536870912+(i[15]&255)*4194304+(i[16]&254)*16384+(i[17]&255)*128+(i[18]&254)/2,s-c>60*9e4&&(t.warn(`${Math.round((s-c)/9e4)}s delta between PTS and DTS, align them`),s=c)):c=s),d=i[8];let f=d+9;if(g.size<=f)return null;g.size-=f;const A=new Uint8Array(g.size);for(let p=0,m=e.length;p<m;p++){i=e[p];let y=i.byteLength;if(f)if(f>y){f-=y;continue}else i=i.subarray(f),y-=f,f=0;A.set(i,n),n+=y}return l&&(l-=d+3),{data:A,pts:s,dts:c,len:l}}return null}class PC{static getSilentFrame(t,n){switch(t){case"mp4a.40.2":if(n===1)return new Uint8Array([0,200,0,128,35,128]);if(n===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(n===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(n===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(n===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(n===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(n===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(n===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(n===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);break}}}const Na=Math.pow(2,32)-1;class Ot{static init(){Ot.types={avc1:[],avcC:[],hvc1:[],hvcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],dac3:[],"ac-3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};let t;for(t in Ot.types)Ot.types.hasOwnProperty(t)&&(Ot.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);const n=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),i=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);Ot.HDLR_TYPES={video:n,audio:i};const l=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),d=new Uint8Array([0,0,0,0,0,0,0,0]);Ot.STTS=Ot.STSC=Ot.STCO=d,Ot.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),Ot.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),Ot.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),Ot.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);const s=new Uint8Array([105,115,111,109]),c=new Uint8Array([97,118,99,49]),e=new Uint8Array([0,0,0,1]);Ot.FTYP=Ot.box(Ot.types.ftyp,s,e,s,c),Ot.DINF=Ot.box(Ot.types.dinf,Ot.box(Ot.types.dref,l))}static box(t,...n){let i=8,l=n.length;const d=l;for(;l--;)i+=n[l].byteLength;const s=new Uint8Array(i);for(s[0]=i>>24&255,s[1]=i>>16&255,s[2]=i>>8&255,s[3]=i&255,s.set(t,4),l=0,i=8;l<d;l++)s.set(n[l],i),i+=n[l].byteLength;return s}static hdlr(t){return Ot.box(Ot.types.hdlr,Ot.HDLR_TYPES[t])}static mdat(t){return Ot.box(Ot.types.mdat,t)}static mdhd(t,n){n*=t;const i=Math.floor(n/(Na+1)),l=Math.floor(n%(Na+1));return Ot.box(Ot.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,t&255,i>>24,i>>16&255,i>>8&255,i&255,l>>24,l>>16&255,l>>8&255,l&255,85,196,0,0]))}static mdia(t){return Ot.box(Ot.types.mdia,Ot.mdhd(t.timescale||0,t.duration||0),Ot.hdlr(t.type),Ot.minf(t))}static mfhd(t){return Ot.box(Ot.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,t&255]))}static minf(t){return t.type==="audio"?Ot.box(Ot.types.minf,Ot.box(Ot.types.smhd,Ot.SMHD),Ot.DINF,Ot.stbl(t)):Ot.box(Ot.types.minf,Ot.box(Ot.types.vmhd,Ot.VMHD),Ot.DINF,Ot.stbl(t))}static moof(t,n,i){return Ot.box(Ot.types.moof,Ot.mfhd(t),Ot.traf(i,n))}static moov(t){let n=t.length;const i=[];for(;n--;)i[n]=Ot.trak(t[n]);return Ot.box.apply(null,[Ot.types.moov,Ot.mvhd(t[0].timescale||0,t[0].duration||0)].concat(i).concat(Ot.mvex(t)))}static mvex(t){let n=t.length;const i=[];for(;n--;)i[n]=Ot.trex(t[n]);return Ot.box.apply(null,[Ot.types.mvex,...i])}static mvhd(t,n){n*=t;const i=Math.floor(n/(Na+1)),l=Math.floor(n%(Na+1)),d=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,t&255,i>>24,i>>16&255,i>>8&255,i&255,l>>24,l>>16&255,l>>8&255,l&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return Ot.box(Ot.types.mvhd,d)}static sdtp(t){const n=t.samples||[],i=new Uint8Array(4+n.length);let l,d;for(l=0;l<n.length;l++)d=n[l].flags,i[l+4]=d.dependsOn<<4|d.isDependedOn<<2|d.hasRedundancy;return Ot.box(Ot.types.sdtp,i)}static stbl(t){return Ot.box(Ot.types.stbl,Ot.stsd(t),Ot.box(Ot.types.stts,Ot.STTS),Ot.box(Ot.types.stsc,Ot.STSC),Ot.box(Ot.types.stsz,Ot.STSZ),Ot.box(Ot.types.stco,Ot.STCO))}static avc1(t){let n=[],i=[],l,d,s;for(l=0;l<t.sps.length;l++)d=t.sps[l],s=d.byteLength,n.push(s>>>8&255),n.push(s&255),n=n.concat(Array.prototype.slice.call(d));for(l=0;l<t.pps.length;l++)d=t.pps[l],s=d.byteLength,i.push(s>>>8&255),i.push(s&255),i=i.concat(Array.prototype.slice.call(d));const c=Ot.box(Ot.types.avcC,new Uint8Array([1,n[3],n[4],n[5],255,224|t.sps.length].concat(n).concat([t.pps.length]).concat(i))),e=t.width,o=t.height,u=t.pixelRatio[0],f=t.pixelRatio[1];return Ot.box(Ot.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,e>>8&255,e&255,o>>8&255,o&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),c,Ot.box(Ot.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),Ot.box(Ot.types.pasp,new Uint8Array([u>>24,u>>16&255,u>>8&255,u&255,f>>24,f>>16&255,f>>8&255,f&255])))}static esds(t){const n=t.config;return new Uint8Array([0,0,0,0,3,25,0,1,0,4,17,64,21,0,0,0,0,0,0,0,0,0,0,0,5,2,...n,6,1,2])}static audioStsd(t){const n=t.samplerate||0;return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount||0,0,16,0,0,0,0,n>>8&255,n&255,0,0])}static mp4a(t){return Ot.box(Ot.types.mp4a,Ot.audioStsd(t),Ot.box(Ot.types.esds,Ot.esds(t)))}static mp3(t){return Ot.box(Ot.types[".mp3"],Ot.audioStsd(t))}static ac3(t){return Ot.box(Ot.types["ac-3"],Ot.audioStsd(t),Ot.box(Ot.types.dac3,t.config))}static stsd(t){const{segmentCodec:n}=t;if(t.type==="audio"){if(n==="aac")return Ot.box(Ot.types.stsd,Ot.STSD,Ot.mp4a(t));if(n==="ac3"&&t.config)return Ot.box(Ot.types.stsd,Ot.STSD,Ot.ac3(t));if(n==="mp3"&&t.codec==="mp3")return Ot.box(Ot.types.stsd,Ot.STSD,Ot.mp3(t))}else if(t.pps&&t.sps){if(n==="avc")return Ot.box(Ot.types.stsd,Ot.STSD,Ot.avc1(t));if(n==="hevc"&&t.vps)return Ot.box(Ot.types.stsd,Ot.STSD,Ot.hvc1(t))}else throw new Error("video track missing pps or sps");throw new Error(`unsupported ${t.type} segment codec (${n}/${t.codec})`)}static tkhd(t){const n=t.id,i=(t.duration||0)*(t.timescale||0),l=t.width||0,d=t.height||0,s=Math.floor(i/(Na+1)),c=Math.floor(i%(Na+1));return Ot.box(Ot.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,n>>24&255,n>>16&255,n>>8&255,n&255,0,0,0,0,s>>24,s>>16&255,s>>8&255,s&255,c>>24,c>>16&255,c>>8&255,c&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,l>>8&255,l&255,0,0,d>>8&255,d&255,0,0]))}static traf(t,n){const i=Ot.sdtp(t),l=t.id,d=Math.floor(n/(Na+1)),s=Math.floor(n%(Na+1));return Ot.box(Ot.types.traf,Ot.box(Ot.types.tfhd,new Uint8Array([0,0,0,0,l>>24,l>>16&255,l>>8&255,l&255])),Ot.box(Ot.types.tfdt,new Uint8Array([1,0,0,0,d>>24,d>>16&255,d>>8&255,d&255,s>>24,s>>16&255,s>>8&255,s&255])),Ot.trun(t,i.length+16+20+8+16+8+8),i)}static trak(t){return t.duration=t.duration||4294967295,Ot.box(Ot.types.trak,Ot.tkhd(t),Ot.mdia(t))}static trex(t){const n=t.id;return Ot.box(Ot.types.trex,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,n&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}static trun(t,n){const i=t.samples||[],l=i.length,d=12+16*l,s=new Uint8Array(d);let c,e,o,u,f,A;for(n+=8+d,s.set([t.type==="video"?1:0,0,15,1,l>>>24&255,l>>>16&255,l>>>8&255,l&255,n>>>24&255,n>>>16&255,n>>>8&255,n&255],0),c=0;c<l;c++)e=i[c],o=e.duration,u=e.size,f=e.flags,A=e.cts,s.set([o>>>24&255,o>>>16&255,o>>>8&255,o&255,u>>>24&255,u>>>16&255,u>>>8&255,u&255,f.isLeading<<2|f.dependsOn,f.isDependedOn<<6|f.hasRedundancy<<4|f.paddingValue<<1|f.isNonSync,f.degradPrio&61440,f.degradPrio&15,A>>>24&255,A>>>16&255,A>>>8&255,A&255],12+16*c);return Ot.box(Ot.types.trun,s)}static initSegment(t){Ot.types||Ot.init();const n=Ot.moov(t);return ss(Ot.FTYP,n)}static hvc1(t){const n=t.params,i=[t.vps,t.sps,t.pps],l=4,d=new Uint8Array([1,n.general_profile_space<<6|(n.general_tier_flag?32:0)|n.general_profile_idc,n.general_profile_compatibility_flags[0],n.general_profile_compatibility_flags[1],n.general_profile_compatibility_flags[2],n.general_profile_compatibility_flags[3],n.general_constraint_indicator_flags[0],n.general_constraint_indicator_flags[1],n.general_constraint_indicator_flags[2],n.general_constraint_indicator_flags[3],n.general_constraint_indicator_flags[4],n.general_constraint_indicator_flags[5],n.general_level_idc,240|n.min_spatial_segmentation_idc>>8,255&n.min_spatial_segmentation_idc,252|n.parallelismType,252|n.chroma_format_idc,248|n.bit_depth_luma_minus8,248|n.bit_depth_chroma_minus8,0,parseInt(n.frame_rate.fps),l-1|n.temporal_id_nested<<2|n.num_temporal_layers<<3|(n.frame_rate.fixed?64:0),i.length]);let s=d.length;for(let m=0;m<i.length;m+=1){s+=3;for(let y=0;y<i[m].length;y+=1)s+=2+i[m][y].length}const c=new Uint8Array(s);c.set(d,0),s=d.length;const e=i.length-1;for(let m=0;m<i.length;m+=1){c.set(new Uint8Array([32+m|(m===e?128:0),0,i[m].length]),s),s+=3;for(let y=0;y<i[m].length;y+=1)c.set(new Uint8Array([i[m][y].length>>8,i[m][y].length&255]),s),s+=2,c.set(i[m][y],s),s+=i[m][y].length}const o=Ot.box(Ot.types.hvcC,c),u=t.width,f=t.height,A=t.pixelRatio[0],p=t.pixelRatio[1];return Ot.box(Ot.types.hvc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,u>>8&255,u&255,f>>8&255,f&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),o,Ot.box(Ot.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),Ot.box(Ot.types.pasp,new Uint8Array([A>>24,A>>16&255,A>>8&255,A&255,p>>24,p>>16&255,p>>8&255,p&255])))}}Ot.types=void 0;Ot.HDLR_TYPES=void 0;Ot.STTS=void 0;Ot.STSC=void 0;Ot.STCO=void 0;Ot.STSZ=void 0;Ot.VMHD=void 0;Ot.SMHD=void 0;Ot.STSD=void 0;Ot.FTYP=void 0;Ot.DINF=void 0;const pv=9e4;function Vh(g,t,n=1,i=!1){const l=g*t*n;return i?Math.round(l):l}function NC(g,t,n=1,i=!1){return Vh(g,t,1/n,i)}function ql(g,t=!1){return Vh(g,1e3,1/pv,t)}function UC(g,t=1){return Vh(g,pv,1/t)}const FC=10*1e3,GC=1024,QC=1152,jC=1536;let nl=null,Wd=null;function z0(g,t,n,i){return{duration:t,size:n,cts:i,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:g?2:1,isNonSync:g?0:1}}}class Ic extends as{constructor(t,n,i,l){if(super("mp4-remuxer",l),this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextVideoTs=null,this.nextAudioTs=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.videoTrackConfig=void 0,this.observer=t,this.config=n,this.typeSupported=i,this.ISGenerated=!1,nl===null){const s=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);nl=s?parseInt(s[1]):0}if(Wd===null){const d=navigator.userAgent.match(/Safari\/(\d+)/i);Wd=d?parseInt(d[1]):0}}destroy(){this.config=this.videoTrackConfig=this._initPTS=this._initDTS=null}resetTimeStamp(t){this.log("initPTS & initDTS reset"),this._initPTS=this._initDTS=t}resetNextTimestamp(){this.log("reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}resetInitSegment(){this.log("ISGenerated flag reset"),this.ISGenerated=!1,this.videoTrackConfig=void 0}getVideoStartPts(t){let n=!1;const i=t[0].pts,l=t.reduce((d,s)=>{let c=s.pts,e=c-d;return e<-4294967296&&(n=!0,c=is(c,i),e=c-d),e>0?d:c},i);return n&&this.debug("PTS rollover detected"),l}remux(t,n,i,l,d,s,c,e){let o,u,f,A,p,m,y=d,b=d;const E=t.pid>-1,S=n.pid>-1,T=n.samples.length,L=t.samples.length>0,I=c&&T>0||T>1;if((!E||L)&&(!S||I)||this.ISGenerated||c){if(this.ISGenerated){var O,_,M,U;const X=this.videoTrackConfig;(X&&(n.width!==X.width||n.height!==X.height||((O=n.pixelRatio)==null?void 0:O[0])!==((_=X.pixelRatio)==null?void 0:_[0])||((M=n.pixelRatio)==null?void 0:M[1])!==((U=X.pixelRatio)==null?void 0:U[1]))||!X&&I||this.nextAudioTs===null&&L)&&this.resetInitSegment()}this.ISGenerated||(f=this.generateIS(t,n,d,s));const Q=this.isVideoContiguous;let $=-1,W;if(I&&($=zC(n.samples),!Q&&this.config.forceKeyFrameOnDiscontinuity))if(m=!0,$>0){this.warn(`Dropped ${$} out of ${T} video samples due to a missing keyframe`);const X=this.getVideoStartPts(n.samples);n.samples=n.samples.slice($),n.dropped+=$,b+=(n.samples[0].pts-X)/n.inputTimeScale,W=b}else $===-1&&(this.warn(`No keyframe found out of ${T} video samples`),m=!1);if(this.ISGenerated){if(L&&I){const X=this.getVideoStartPts(n.samples),Y=(is(t.samples[0].pts,X)-X)/n.inputTimeScale;y+=Math.max(0,Y),b+=Math.max(0,-Y)}if(L){if(t.samplerate||(this.warn("regenerate InitSegment as audio detected"),f=this.generateIS(t,n,d,s)),u=this.remuxAudio(t,y,this.isAudioContiguous,s,S||I||e===Je.AUDIO?b:void 0),I){const X=u?u.endPTS-u.startPTS:0;n.inputTimeScale||(this.warn("regenerate InitSegment as video detected"),f=this.generateIS(t,n,d,s)),o=this.remuxVideo(n,b,Q,X)}}else I&&(o=this.remuxVideo(n,b,Q,0));o&&(o.firstKeyFrame=$,o.independent=$!==-1,o.firstKeyFramePTS=W)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(i.samples.length&&(p=mv(i,d,this._initPTS,this._initDTS)),l.samples.length&&(A=vv(l,d,this._initPTS))),{audio:u,video:o,initSegment:f,independent:m,text:A,id3:p}}generateIS(t,n,i,l){const d=t.samples,s=n.samples,c=this.typeSupported,e={},o=this._initPTS;let u=!o||l,f="audio/mp4",A,p,m,y=-1;if(u&&(A=p=1/0),t.config&&d.length){switch(t.timescale=t.samplerate,t.segmentCodec){case"mp3":c.mpeg?(f="audio/mpeg",t.codec=""):c.mp3&&(t.codec="mp3");break;case"ac3":t.codec="ac-3";break}e.audio={id:"audio",container:f,codec:t.codec,initSegment:t.segmentCodec==="mp3"&&c.mpeg?new Uint8Array(0):Ot.initSegment([t]),metadata:{channelCount:t.channelCount}},u&&(y=t.id,m=t.inputTimeScale,!o||m!==o.timescale?A=p=d[0].pts-Math.round(m*i):u=!1)}if(n.sps&&n.pps&&s.length){if(n.timescale=n.inputTimeScale,e.video={id:"main",container:"video/mp4",codec:n.codec,initSegment:Ot.initSegment([n]),metadata:{width:n.width,height:n.height}},u)if(y=n.id,m=n.inputTimeScale,!o||m!==o.timescale){const b=this.getVideoStartPts(s),E=Math.round(m*i);p=Math.min(p,is(s[0].dts,b)-E),A=Math.min(A,b-E)}else u=!1;this.videoTrackConfig={width:n.width,height:n.height,pixelRatio:n.pixelRatio}}if(Object.keys(e).length)return this.ISGenerated=!0,u?(o&&this.warn(`Timestamps at playlist time: ${l?"":"~"}${i} ${A/m} != initPTS: ${o.baseTime/o.timescale} (${o.baseTime}/${o.timescale}) trackId: ${o.trackId}`),this.log(`Found initPTS at playlist time: ${i} offset: ${A/m} (${A}/${m}) trackId: ${y}`),this._initPTS={baseTime:A,timescale:m,trackId:y},this._initDTS={baseTime:p,timescale:m,trackId:y}):A=m=void 0,{tracks:e,initPTS:A,timescale:m,trackId:y}}remuxVideo(t,n,i,l){const d=t.inputTimeScale,s=t.samples,c=[],e=s.length,o=this._initPTS,u=o.baseTime*d/o.timescale;let f=this.nextVideoTs,A=8,p=this.videoSampleDuration,m,y,b=Number.POSITIVE_INFINITY,E=Number.NEGATIVE_INFINITY,S=!1;if(!i||f===null){const q=u+n*d,nt=s[0].pts-is(s[0].dts,s[0].pts);nl&&f!==null&&Math.abs(q-nt-(f+u))<15e3?i=!0:f=q-nt-u}const T=f+u;for(let q=0;q<e;q++){const nt=s[q];nt.pts=is(nt.pts,T),nt.dts=is(nt.dts,T),nt.dts<s[q>0?q-1:q].dts&&(S=!0)}S&&s.sort(function(q,nt){const ot=q.dts-nt.dts,Ct=q.pts-nt.pts;return ot||Ct}),m=s[0].dts,y=s[s.length-1].dts;const L=y-m,I=L?Math.round(L/(e-1)):p||t.inputTimeScale/30;if(i){const q=m-T,nt=q>I,ot=q<-1;if((nt||ot)&&(nt?this.warn(`${(t.segmentCodec||"").toUpperCase()}: ${ql(q,!0)} ms (${q}dts) hole between fragments detected at ${n.toFixed(3)}`):this.warn(`${(t.segmentCodec||"").toUpperCase()}: ${ql(-q,!0)} ms (${q}dts) overlapping between fragments detected at ${n.toFixed(3)}`),!ot||T>=s[0].pts||nl)){m=T;const Ct=s[0].pts-q;if(nt)s[0].dts=m,s[0].pts=Ct;else{let St=!0;for(let Tt=0;Tt<s.length&&!(s[Tt].dts>Ct&&St);Tt++){const Kt=s[Tt].pts;if(s[Tt].dts-=q,s[Tt].pts-=q,Tt<s.length-1){const $t=s[Tt+1].pts,Vt=s[Tt].pts,ne=$t<=Vt,fe=$t<=Kt;St=ne==fe}}}this.log(`Video: Initial PTS/DTS adjusted: ${ql(Ct,!0)}/${ql(m,!0)}, delta: ${ql(q,!0)} ms`)}}m=Math.max(0,m);let B=0,O=0,_=m;for(let q=0;q<e;q++){const nt=s[q],ot=nt.units,Ct=ot.length;let St=0;for(let Tt=0;Tt<Ct;Tt++)St+=ot[Tt].data.length;O+=St,B+=Ct,nt.length=St,nt.dts<_?(nt.dts=_,_+=I/4|0||1):_=nt.dts,b=Math.min(nt.pts,b),E=Math.max(nt.pts,E)}y=s[e-1].dts;const M=O+4*B+8;let U;try{U=new Uint8Array(M)}catch(q){this.observer.emit(G.ERROR,G.ERROR,{type:rn.MUX_ERROR,details:_t.REMUX_ALLOC_ERROR,fatal:!1,error:q,bytes:M,reason:`fail allocating video mdat ${M}`});return}const Q=new DataView(U.buffer);Q.setUint32(0,M),U.set(Ot.types.mdat,4);let $=!1,W=Number.POSITIVE_INFINITY,X=Number.POSITIVE_INFINITY,et=Number.NEGATIVE_INFINITY,Y=Number.NEGATIVE_INFINITY;for(let q=0;q<e;q++){const nt=s[q],ot=nt.units;let Ct=0;for(let Kt=0,$t=ot.length;Kt<$t;Kt++){const Vt=ot[Kt],ne=Vt.data,fe=Vt.data.byteLength;Q.setUint32(A,fe),A+=4,U.set(ne,A),A+=fe,Ct+=4+fe}let St;if(q<e-1)p=s[q+1].dts-nt.dts,St=s[q+1].pts-nt.pts;else{const Kt=this.config,$t=q>0?nt.dts-s[q-1].dts:I;if(St=q>0?nt.pts-s[q-1].pts:I,Kt.stretchShortVideoTrack&&this.nextAudioTs!==null){const Vt=Math.floor(Kt.maxBufferHole*d),ne=(l?b+l*d:this.nextAudioTs+u)-nt.pts;ne>Vt?(p=ne-$t,p<0?p=$t:$=!0,this.log(`It is approximately ${ne/90} ms to the next segment; using duration ${p/90} ms for the last video frame.`)):p=$t}else p=$t}const Tt=Math.round(nt.pts-nt.dts);W=Math.min(W,p),et=Math.max(et,p),X=Math.min(X,St),Y=Math.max(Y,St),c.push(z0(nt.key,p,Ct,Tt))}if(c.length){if(nl){if(nl<70){const q=c[0].flags;q.dependsOn=2,q.isNonSync=0}}else if(Wd&&Y-X<et-W&&I/et<.025&&c[0].cts===0){this.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");let q=m;for(let nt=0,ot=c.length;nt<ot;nt++){const Ct=q+c[nt].duration,St=q+c[nt].cts;if(nt<ot-1){const Tt=Ct+c[nt+1].cts;c[nt].duration=Tt-St}else c[nt].duration=nt?c[nt-1].duration:I;c[nt].cts=0,q=Ct}}}p=$||!p?I:p;const N=y+p;this.nextVideoTs=f=N-u,this.videoSampleDuration=p,this.isVideoContiguous=!0;const F={data1:Ot.moof(t.sequenceNumber++,m,yr(t,{samples:c})),data2:U,startPTS:(b-u)/d,endPTS:(E+p-u)/d,startDTS:(m-u)/d,endDTS:f/d,type:"video",hasAudio:!1,hasVideo:!0,nb:c.length,dropped:t.dropped};return t.samples=[],t.dropped=0,F}getSamplesPerFrame(t){switch(t.segmentCodec){case"mp3":return QC;case"ac3":return jC;default:return GC}}remuxAudio(t,n,i,l,d){const s=t.inputTimeScale,c=t.samplerate?t.samplerate:s,e=s/c,o=this.getSamplesPerFrame(t),u=o*e,f=this._initPTS,A=t.segmentCodec==="mp3"&&this.typeSupported.mpeg,p=[],m=d!==void 0;let y=t.samples,b=A?0:8,E=this.nextAudioTs||-1;const S=f.baseTime*s/f.timescale,T=S+n*s;if(this.isAudioContiguous=i=i||y.length&&E>0&&(l&&Math.abs(T-(E+S))<9e3||Math.abs(is(y[0].pts,T)-(E+S))<20*u),y.forEach(function(Y){Y.pts=is(Y.pts,T)}),!i||E<0){if(y=y.filter(Y=>Y.pts>=0),!y.length)return;d===0?E=0:l&&!m?E=Math.max(0,T-S):E=y[0].pts-S}if(t.segmentCodec==="aac"){const Y=this.config.maxAudioFramesDrift;for(let N=0,K=E+S;N<y.length;N++){const Z=y[N],F=Z.pts,q=F-K,nt=Math.abs(1e3*q/s);if(q<=-Y*u&&m)N===0&&(this.warn(`Audio frame @ ${(F/s).toFixed(3)}s overlaps marker by ${Math.round(1e3*q/s)} ms.`),this.nextAudioTs=E=F-S,K=F);else if(q>=Y*u&&nt<FC&&m){let ot=Math.round(q/u);for(K=F-ot*u;K<0&&ot&&u;)ot--,K+=u;N===0&&(this.nextAudioTs=E=K-S),this.warn(`Injecting ${ot} audio frames @ ${((K-S)/s).toFixed(3)}s due to ${Math.round(1e3*q/s)} ms gap.`);for(let Ct=0;Ct<ot;Ct++){let St=PC.getSilentFrame(t.parsedCodec||t.manifestCodec||t.codec,t.channelCount);St||(this.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),St=Z.unit.subarray()),y.splice(N,0,{unit:St,pts:K}),K+=u,N++}}Z.pts=K,K+=u}}let L=null,I=null,B,O=0,_=y.length;for(;_--;)O+=y[_].unit.byteLength;for(let Y=0,N=y.length;Y<N;Y++){const K=y[Y],Z=K.unit;let F=K.pts;if(I!==null){const nt=p[Y-1];nt.duration=Math.round((F-I)/e)}else if(i&&t.segmentCodec==="aac"&&(F=E+S),L=F,O>0){O+=b;try{B=new Uint8Array(O)}catch(nt){this.observer.emit(G.ERROR,G.ERROR,{type:rn.MUX_ERROR,details:_t.REMUX_ALLOC_ERROR,fatal:!1,error:nt,bytes:O,reason:`fail allocating audio mdat ${O}`});return}A||(new DataView(B.buffer).setUint32(0,O),B.set(Ot.types.mdat,4))}else return;B.set(Z,b);const q=Z.byteLength;b+=q,p.push(z0(!0,o,q,0)),I=F}const M=p.length;if(!M)return;const U=p[p.length-1];E=I-S,this.nextAudioTs=E+e*U.duration;const Q=A?new Uint8Array(0):Ot.moof(t.sequenceNumber++,L/e,yr({},t,{samples:p}));t.samples=[];const $=(L-S)/s,W=E/s,et={data1:Q,data2:B,startPTS:$,endPTS:W,startDTS:$,endDTS:W,type:"audio",hasAudio:!0,hasVideo:!1,nb:M};return this.isAudioContiguous=!0,et}}function is(g,t){let n;if(t===null)return g;for(t<g?n=-8589934592:n=8589934592;Math.abs(g-t)>4294967296;)g+=n;return g}function zC(g){for(let t=0;t<g.length;t++)if(g[t].key)return t;return-1}function mv(g,t,n,i){const l=g.samples.length;if(!l)return;const d=g.inputTimeScale;for(let c=0;c<l;c++){const e=g.samples[c];e.pts=is(e.pts-n.baseTime*d/n.timescale,t*d)/d,e.dts=is(e.dts-i.baseTime*d/i.timescale,t*d)/d}const s=g.samples;return g.samples=[],{samples:s}}function vv(g,t,n){const i=g.samples.length;if(!i)return;const l=g.inputTimeScale;for(let s=0;s<i;s++){const c=g.samples[s];c.pts=is(c.pts-n.baseTime*l/n.timescale,t*l)/l}g.samples.sort((s,c)=>s.pts-c.pts);const d=g.samples;return g.samples=[],{samples:d}}class HC extends as{constructor(t,n,i,l){super("passthrough-remuxer",l),this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null,this.isVideoContiguous=!1}destroy(){}resetTimeStamp(t){this.lastEndTime=null;const n=this.initPTS;n&&t&&n.baseTime===t.baseTime&&n.timescale===t.timescale||(this.initPTS=t)}resetNextTimestamp(){this.isVideoContiguous=!1,this.lastEndTime=null}resetInitSegment(t,n,i,l){this.audioCodec=n,this.videoCodec=i,this.generateInitSegment(t,l),this.emitInitSegment=!0}generateInitSegment(t,n){let{audioCodec:i,videoCodec:l}=this;if(!(t!=null&&t.byteLength)){this.initTracks=void 0,this.initData=void 0;return}const{audio:d,video:s}=this.initData=Im(t);if(n)Bb(t,n);else{const e=d||s;e!=null&&e.encrypted&&this.warn(`Init segment with encrypted track with has no key ("${e.codec}")!`)}d&&(i=H0(d,Cr.AUDIO,this)),s&&(l=H0(s,Cr.VIDEO,this));const c={};d&&s?c.audiovideo={container:"video/mp4",codec:i+","+l,supplemental:s.supplemental,encrypted:s.encrypted,initSegment:t,id:"main"}:d?c.audio={container:"audio/mp4",codec:i,encrypted:d.encrypted,initSegment:t,id:"audio"}:s?c.video={container:"video/mp4",codec:l,supplemental:s.supplemental,encrypted:s.encrypted,initSegment:t,id:"main"}:this.warn("initSegment does not contain moov or trak boxes."),this.initTracks=c}remux(t,n,i,l,d,s){var c,e;let{initPTS:o,lastEndTime:u}=this;const f={audio:void 0,video:void 0,text:l,id3:i,initSegment:void 0};je(u)||(u=this.lastEndTime=d||0);const A=n.samples;if(!A.length)return f;const p={initPTS:void 0,timescale:void 0,trackId:void 0};let m=this.initData;if((c=m)!=null&&c.length||(this.generateInitSegment(A),m=this.initData),!((e=m)!=null&&e.length))return this.warn("Failed to generate initSegment."),f;this.emitInitSegment&&(p.tracks=this.initTracks,this.emitInitSegment=!1);const y=Ob(A,m,this),b=m.audio?y[m.audio.id]:null,E=m.video?y[m.video.id]:null,S=vc(E,1/0),T=vc(b,1/0),L=vc(E,0,!0),I=vc(b,0,!0);let B=d,O=0;const _=b&&(!E||!o&&T<S||o&&o.trackId===m.audio.id),M=_?b:E;if(M){const K=M.timescale,Z=M.start-d*K,F=_?m.audio.id:m.video.id;B=M.start/K,O=_?I-T:L-S,(s||!o)&&(YC(o,B,d,O)||K!==o.timescale)&&(o&&this.warn(`Timestamps at playlist time: ${s?"":"~"}${d} ${Z/K} != initPTS: ${o.baseTime/o.timescale} (${o.baseTime}/${o.timescale}) trackId: ${o.trackId}`),this.log(`Found initPTS at playlist time: ${d} offset: ${B-d} (${Z}/${K}) trackId: ${F}`),o=null,p.initPTS=Z,p.timescale=K,p.trackId=F)}else this.warn(`No audio or video samples found for initPTS at playlist time: ${d}`);o?(p.initPTS=o.baseTime,p.timescale=o.timescale,p.trackId=o.trackId):((!p.timescale||p.trackId===void 0||p.initPTS===void 0)&&(this.warn("Could not set initPTS"),p.initPTS=B,p.timescale=1,p.trackId=-1),this.initPTS=o={baseTime:p.initPTS,timescale:p.timescale,trackId:p.trackId});const U=B-o.baseTime/o.timescale,Q=U+O;O>0?this.lastEndTime=Q:(this.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());const $=!!m.audio,W=!!m.video;let X="";$&&(X+="audio"),W&&(X+="video");const et=(m.audio?m.audio.encrypted:!1)||(m.video?m.video.encrypted:!1),Y={data1:A,startPTS:U,startDTS:U,endPTS:Q,endDTS:Q,type:X,hasAudio:$,hasVideo:W,nb:1,dropped:0,encrypted:et};f.audio=$&&!W?Y:void 0,f.video=W?Y:void 0;const N=E?.sampleCount;if(N){const K=E.keyFrameIndex,Z=K!==-1;Y.nb=N,Y.dropped=K===0||this.isVideoContiguous?0:Z?K:N,Y.independent=Z,Y.firstKeyFrame=K,Z&&E.keyFrameStart&&(Y.firstKeyFramePTS=(E.keyFrameStart-o.baseTime)/o.timescale),this.isVideoContiguous||(f.independent=Z),this.isVideoContiguous||(this.isVideoContiguous=Z),Y.dropped&&this.warn(`fmp4 does not start with IDR: firstIDR ${K}/${N} dropped: ${Y.dropped} start: ${Y.firstKeyFramePTS||"NA"}`)}return f.initSegment=p,f.id3=mv(i,d,o,o),l.samples.length&&(f.text=vv(l,d,o)),f}}function vc(g,t,n=!1){return g?.start!==void 0?(g.start+(n?g.duration:0))/g.timescale:t}function YC(g,t,n,i){if(g===null)return!0;const l=Math.max(i,1),d=t-g.baseTime/g.timescale;return Math.abs(d-n)>l}function H0(g,t,n){const i=g.codec;return i&&i.length>4?i:t===Cr.AUDIO?i==="ec-3"||i==="ac-3"||i==="alac"?i:i==="fLaC"||i==="Opus"?Nc(i,!1):(n.warn(`Unhandled audio codec "${i}" in mp4 MAP`),i||"mp4a"):(n.warn(`Unhandled video codec "${i}" in mp4 MAP`),i||"avc1")}let ia;try{ia=self.performance.now.bind(self.performance)}catch{ia=Date.now}const Dc=[{demux:DC,remux:HC},{demux:Ga,remux:Ic},{demux:wC,remux:Ic},{demux:RC,remux:Ic}];Dc.splice(2,0,{demux:LC,remux:Ic});class Y0{constructor(t,n,i,l,d,s){this.asyncResult=!1,this.logger=void 0,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=t,this.typeSupported=n,this.config=i,this.id=d,this.logger=s}configure(t){this.transmuxConfig=t,this.decrypter&&this.decrypter.reset()}push(t,n,i,l){const d=i.transmuxing;d.executeStart=ia();let s=new Uint8Array(t);const{currentTransmuxState:c,transmuxConfig:e}=this;l&&(this.currentTransmuxState=l);const{contiguous:o,discontinuity:u,trackSwitch:f,accurateTimeOffset:A,timeOffset:p,initSegmentChange:m}=l||c,{audioCodec:y,videoCodec:b,defaultInitPts:E,duration:S,initSegmentData:T}=e,L=$C(s,n);if(L&&ol(L.method)){const _=this.getDecrypter(),M=Uh(L.method);if(_.isSync()){let U=_.softwareDecrypt(s,L.key.buffer,L.iv.buffer,M);if(i.part>-1){const $=_.flush();U=$&&$.buffer}if(!U)return d.executeEnd=ia(),qd(i);s=new Uint8Array(U)}else return this.asyncResult=!0,this.decryptionPromise=_.webCryptoDecrypt(s,L.key.buffer,L.iv.buffer,M).then(U=>{const Q=this.push(U,null,i);return this.decryptionPromise=null,Q}),this.decryptionPromise}const I=this.needsProbing(u,f);if(I){const _=this.configureTransmuxer(s);if(_)return this.logger.warn(`[transmuxer] ${_.message}`),this.observer.emit(G.ERROR,G.ERROR,{type:rn.MEDIA_ERROR,details:_t.FRAG_PARSING_ERROR,fatal:!1,error:_,reason:_.message}),d.executeEnd=ia(),qd(i)}(u||f||m||I)&&this.resetInitSegment(T,y,b,S,n),(u||m||I)&&this.resetInitialTimestamp(E),o||this.resetContiguity();const B=this.transmux(s,L,p,A,i);this.asyncResult=su(B);const O=this.currentTransmuxState;return O.contiguous=!0,O.discontinuity=!1,O.trackSwitch=!1,d.executeEnd=ia(),B}flush(t){const n=t.transmuxing;n.executeStart=ia();const{decrypter:i,currentTransmuxState:l,decryptionPromise:d}=this;if(d)return this.asyncResult=!0,d.then(()=>this.flush(t));const s=[],{timeOffset:c}=l;if(i){const f=i.flush();f&&s.push(this.push(f.buffer,null,t))}const{demuxer:e,remuxer:o}=this;if(!e||!o){n.executeEnd=ia();const f=[qd(t)];return this.asyncResult?Promise.resolve(f):f}const u=e.flush(c);return su(u)?(this.asyncResult=!0,u.then(f=>(this.flushRemux(s,f,t),s))):(this.flushRemux(s,u,t),this.asyncResult?Promise.resolve(s):s)}flushRemux(t,n,i){const{audioTrack:l,videoTrack:d,id3Track:s,textTrack:c}=n,{accurateTimeOffset:e,timeOffset:o}=this.currentTransmuxState;this.logger.log(`[transmuxer.ts]: Flushed ${this.id} sn: ${i.sn}${i.part>-1?" part: "+i.part:""} of ${this.id===Je.MAIN?"level":"track"} ${i.level}`);const u=this.remuxer.remux(l,d,s,c,o,e,!0,this.id);t.push({remuxResult:u,chunkMeta:i}),i.transmuxing.executeEnd=ia()}resetInitialTimestamp(t){const{demuxer:n,remuxer:i}=this;!n||!i||(n.resetTimeStamp(t),i.resetTimeStamp(t))}resetContiguity(){const{demuxer:t,remuxer:n}=this;!t||!n||(t.resetContiguity(),n.resetNextTimestamp())}resetInitSegment(t,n,i,l,d){const{demuxer:s,remuxer:c}=this;!s||!c||(s.resetInitSegment(t,n,i,l),c.resetInitSegment(t,n,i,d))}destroy(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}transmux(t,n,i,l,d){let s;return n&&n.method==="SAMPLE-AES"?s=this.transmuxSampleAes(t,n,i,l,d):s=this.transmuxUnencrypted(t,i,l,d),s}transmuxUnencrypted(t,n,i,l){const{audioTrack:d,videoTrack:s,id3Track:c,textTrack:e}=this.demuxer.demux(t,n,!1,!this.config.progressive);return{remuxResult:this.remuxer.remux(d,s,c,e,n,i,!1,this.id),chunkMeta:l}}transmuxSampleAes(t,n,i,l,d){return this.demuxer.demuxSampleAes(t,n,i).then(s=>({remuxResult:this.remuxer.remux(s.audioTrack,s.videoTrack,s.id3Track,s.textTrack,i,l,!1,this.id),chunkMeta:d}))}configureTransmuxer(t){const{config:n,observer:i,typeSupported:l}=this;let d;for(let f=0,A=Dc.length;f<A;f++){var s;if((s=Dc[f].demux)!=null&&s.probe(t,this.logger)){d=Dc[f];break}}if(!d)return new Error("Failed to find demuxer by probing fragment data");const c=this.demuxer,e=this.remuxer,o=d.remux,u=d.demux;(!e||!(e instanceof o))&&(this.remuxer=new o(i,n,l,this.logger)),(!c||!(c instanceof u))&&(this.demuxer=new u(i,n,l,this.logger),this.probe=u.probe)}needsProbing(t,n){return!this.demuxer||!this.remuxer||t||n}getDecrypter(){let t=this.decrypter;return t||(t=this.decrypter=new Ph(this.config)),t}}function $C(g,t){let n=null;return g.byteLength>0&&t?.key!=null&&t.iv!==null&&t.method!=null&&(n=t),n}const qd=g=>({remuxResult:{},chunkMeta:g});function su(g){return"then"in g&&g.then instanceof Function}class VC{constructor(t,n,i,l,d){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=t,this.videoCodec=n,this.initSegmentData=i,this.duration=l,this.defaultInitPts=d||null}}class KC{constructor(t,n,i,l,d,s){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=t,this.contiguous=n,this.accurateTimeOffset=i,this.trackSwitch=l,this.timeOffset=d,this.initSegmentChange=s}}let $0=0;class yv{constructor(t,n,i,l){this.error=null,this.hls=void 0,this.id=void 0,this.instanceNo=$0++,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0,this.onWorkerMessage=e=>{const o=e.data,u=this.hls;if(!(!u||!(o!=null&&o.event)||o.instanceNo!==this.instanceNo))switch(o.event){case"init":{var f;const A=(f=this.workerContext)==null?void 0:f.objectURL;A&&self.URL.revokeObjectURL(A);break}case"transmuxComplete":{this.handleTransmuxComplete(o.data);break}case"flush":{this.onFlush(o.data);break}case"workerLog":{u.logger[o.data.logType]&&u.logger[o.data.logType](o.data.message);break}default:{o.data=o.data||{},o.data.frag=this.frag,o.data.part=this.part,o.data.id=this.id,u.trigger(o.event,o.data);break}}},this.onWorkerError=e=>{if(!this.hls)return;const o=new Error(`${e.message}  (${e.filename}:${e.lineno})`);this.hls.config.enableWorker=!1,this.hls.logger.warn(`Error in "${this.id}" Web Worker, fallback to inline`),this.hls.trigger(G.ERROR,{type:rn.OTHER_ERROR,details:_t.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:o})};const d=t.config;this.hls=t,this.id=n,this.useWorker=!!d.enableWorker,this.onTransmuxComplete=i,this.onFlush=l;const s=(e,o)=>{o=o||{},o.frag=this.frag||void 0,e===G.ERROR&&(o=o,o.parent=this.id,o.part=this.part,this.error=o.error),this.hls.trigger(e,o)};this.observer=new Qh,this.observer.on(G.FRAG_DECRYPTED,s),this.observer.on(G.ERROR,s);const c=u0(d.preferManagedMediaSource);if(this.useWorker&&typeof Worker<"u"){const e=this.hls.logger;if(d.workerPath||ZE()){try{d.workerPath?(e.log(`loading Web Worker ${d.workerPath} for "${n}"`),this.workerContext=tC(d.workerPath)):(e.log(`injecting Web Worker for "${n}"`),this.workerContext=JE());const{worker:u}=this.workerContext;u.addEventListener("message",this.onWorkerMessage),u.addEventListener("error",this.onWorkerError),u.postMessage({instanceNo:this.instanceNo,cmd:"init",typeSupported:c,id:n,config:Lr(d)})}catch(u){e.warn(`Error setting up "${n}" Web Worker, fallback to inline`,u),this.terminateWorker(),this.error=null,this.transmuxer=new Y0(this.observer,c,d,"",n,t.logger)}return}}this.transmuxer=new Y0(this.observer,c,d,"",n,t.logger)}reset(){if(this.frag=null,this.part=null,this.workerContext){const t=this.instanceNo;this.instanceNo=$0++;const n=this.hls.config,i=u0(n.preferManagedMediaSource);this.workerContext.worker.postMessage({instanceNo:this.instanceNo,cmd:"reset",resetNo:t,typeSupported:i,id:this.id,config:Lr(n)})}}terminateWorker(){if(this.workerContext){const{worker:t}=this.workerContext;this.workerContext=null,t.removeEventListener("message",this.onWorkerMessage),t.removeEventListener("error",this.onWorkerError),eC(this.hls.config.workerPath)}}destroy(){if(this.workerContext)this.terminateWorker(),this.onWorkerMessage=this.onWorkerError=null;else{const n=this.transmuxer;n&&(n.destroy(),this.transmuxer=null)}const t=this.observer;t&&t.removeAllListeners(),this.frag=null,this.part=null,this.observer=null,this.hls=null}push(t,n,i,l,d,s,c,e,o,u){var f,A;o.transmuxing.start=self.performance.now();const{instanceNo:p,transmuxer:m}=this,y=s?s.start:d.start,b=d.decryptdata,E=this.frag,S=!(E&&d.cc===E.cc),T=!(E&&o.level===E.level),L=E?o.sn-E.sn:-1,I=this.part?o.part-this.part.index:-1,B=L===0&&o.id>1&&o.id===E?.stats.chunkCount,O=!T&&(L===1||L===0&&(I===1||B&&I<=0)),_=self.performance.now();(T||L||d.stats.parsing.start===0)&&(d.stats.parsing.start=_),s&&(I||!O)&&(s.stats.parsing.start=_);const M=!(E&&((f=d.initSegment)==null?void 0:f.url)===((A=E.initSegment)==null?void 0:A.url)),U=new KC(S,O,e,T,y,M);if(!O||S||M){this.hls.logger.log(`[transmuxer-interface]: Starting new transmux session for ${d.type} sn: ${o.sn}${o.part>-1?" part: "+o.part:""} ${this.id===Je.MAIN?"level":"track"}: ${o.level} id: ${o.id}
        discontinuity: ${S}
        trackSwitch: ${T}
        contiguous: ${O}
        accurateTimeOffset: ${e}
        timeOffset: ${y}
        initSegmentChange: ${M}`);const Q=new VC(i,l,n,c,u);this.configureTransmuxer(Q)}if(this.frag=d,this.part=s,this.workerContext)this.workerContext.worker.postMessage({instanceNo:p,cmd:"demux",data:t,decryptdata:b,chunkMeta:o,state:U},t instanceof ArrayBuffer?[t]:[]);else if(m){const Q=m.push(t,b,o,U);su(Q)?Q.then($=>{this.handleTransmuxComplete($)}).catch($=>{this.transmuxerError($,o,"transmuxer-interface push error")}):this.handleTransmuxComplete(Q)}}flush(t){t.transmuxing.start=self.performance.now();const{instanceNo:n,transmuxer:i}=this;if(this.workerContext)this.workerContext.worker.postMessage({instanceNo:n,cmd:"flush",chunkMeta:t});else if(i){const l=i.flush(t);su(l)?l.then(d=>{this.handleFlushResult(d,t)}).catch(d=>{this.transmuxerError(d,t,"transmuxer-interface flush error")}):this.handleFlushResult(l,t)}}transmuxerError(t,n,i){this.hls&&(this.error=t,this.hls.trigger(G.ERROR,{type:rn.MEDIA_ERROR,details:_t.FRAG_PARSING_ERROR,chunkMeta:n,frag:this.frag||void 0,part:this.part||void 0,fatal:!1,error:t,err:t,reason:i}))}handleFlushResult(t,n){t.forEach(i=>{this.handleTransmuxComplete(i)}),this.onFlush(n)}configureTransmuxer(t){const{instanceNo:n,transmuxer:i}=this;this.workerContext?this.workerContext.worker.postMessage({instanceNo:n,cmd:"configure",config:t}):i&&i.configure(t)}handleTransmuxComplete(t){t.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(t)}}const V0=100;class WC extends Gh{constructor(t,n,i){super(t,n,i,"audio-stream-controller",Je.AUDIO),this.mainAnchor=null,this.mainFragLoading=null,this.audioOnly=!1,this.bufferedTrack=null,this.switchingTrack=null,this.trackId=-1,this.waitingData=null,this.mainDetails=null,this.flushing=!1,this.bufferFlushed=!1,this.cachedTrackLoadedData=null,this.registerListeners()}onHandlerDestroying(){this.unregisterListeners(),super.onHandlerDestroying(),this.resetItem()}resetItem(){this.mainDetails=this.mainAnchor=this.mainFragLoading=this.bufferedTrack=this.switchingTrack=this.waitingData=this.cachedTrackLoadedData=null}registerListeners(){super.registerListeners();const{hls:t}=this;t.on(G.LEVEL_LOADED,this.onLevelLoaded,this),t.on(G.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),t.on(G.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.on(G.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.on(G.BUFFER_RESET,this.onBufferReset,this),t.on(G.BUFFER_CREATED,this.onBufferCreated,this),t.on(G.BUFFER_FLUSHING,this.onBufferFlushing,this),t.on(G.BUFFER_FLUSHED,this.onBufferFlushed,this),t.on(G.INIT_PTS_FOUND,this.onInitPtsFound,this),t.on(G.FRAG_LOADING,this.onFragLoading,this),t.on(G.FRAG_BUFFERED,this.onFragBuffered,this)}unregisterListeners(){const{hls:t}=this;t&&(super.unregisterListeners(),t.off(G.LEVEL_LOADED,this.onLevelLoaded,this),t.off(G.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),t.off(G.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.off(G.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.off(G.BUFFER_RESET,this.onBufferReset,this),t.off(G.BUFFER_CREATED,this.onBufferCreated,this),t.off(G.BUFFER_FLUSHING,this.onBufferFlushing,this),t.off(G.BUFFER_FLUSHED,this.onBufferFlushed,this),t.off(G.INIT_PTS_FOUND,this.onInitPtsFound,this),t.off(G.FRAG_LOADING,this.onFragLoading,this),t.off(G.FRAG_BUFFERED,this.onFragBuffered,this))}onInitPtsFound(t,{frag:n,id:i,initPTS:l,timescale:d,trackId:s}){if(i===Je.MAIN){const c=n.cc,e=this.fragCurrent;if(this.initPTS[c]={baseTime:l,timescale:d,trackId:s},this.log(`InitPTS for cc: ${c} found from main: ${l/d} (${l}/${d}) trackId: ${s}`),this.mainAnchor=n,this.state===te.WAITING_INIT_PTS){const o=this.waitingData;(!o&&!this.loadingParts||o&&o.frag.cc!==c)&&this.syncWithAnchor(n,o?.frag)}else!this.hls.hasEnoughToStart&&e&&e.cc!==c?(e.abortRequests(),this.syncWithAnchor(n,e)):this.state===te.IDLE&&this.tick()}}getLoadPosition(){return!this.startFragRequested&&this.nextLoadPosition>=0?this.nextLoadPosition:super.getLoadPosition()}syncWithAnchor(t,n){var i;const l=((i=this.mainFragLoading)==null?void 0:i.frag)||null;if(n&&l?.cc===n.cc)return;const d=(l||t).cc,s=this.getLevelDetails(),c=this.getLoadPosition(),e=Fm(s,d,c);e&&(this.log(`Syncing with main frag at ${e.start} cc ${e.cc}`),this.startFragRequested=!1,this.nextLoadPosition=e.start,this.resetLoadingState(),this.state===te.IDLE&&this.doTickIdle())}startLoad(t,n){if(!this.levels){this.startPosition=t,this.state=te.STOPPED;return}const i=this.lastCurrentTime;this.stopLoad(),this.setInterval(V0),i>0&&t===-1?(this.log(`Override startPosition with lastCurrentTime @${i.toFixed(3)}`),t=i,this.state=te.IDLE):this.state=te.WAITING_TRACK,this.nextLoadPosition=this.lastCurrentTime=t+this.timelineOffset,this.startPosition=n?-1:t,this.tick()}doTick(){switch(this.state){case te.IDLE:this.doTickIdle();break;case te.WAITING_TRACK:{const{levels:t,trackId:n}=this,i=t?.[n],l=i?.details;if(l&&!this.waitForLive(i)){if(this.waitForCdnTuneIn(l))break;this.state=te.WAITING_INIT_PTS}break}case te.FRAG_LOADING_WAITING_RETRY:{this.checkRetryDate();break}case te.WAITING_INIT_PTS:{const t=this.waitingData;if(t){const{frag:n,part:i,cache:l,complete:d}=t,s=this.mainAnchor;if(this.initPTS[n.cc]!==void 0){this.waitingData=null,this.state=te.FRAG_LOADING;const c=l.flush().buffer,e={frag:n,part:i,payload:c,networkDetails:null};this._handleFragmentLoadProgress(e),d&&super._handleFragmentLoadComplete(e)}else s&&s.cc!==t.frag.cc&&this.syncWithAnchor(s,t.frag)}else this.state=te.IDLE}}this.onTickEnd()}resetLoadingState(){const t=this.waitingData;t&&(this.fragmentTracker.removeFragment(t.frag),this.waitingData=null),super.resetLoadingState()}onTickEnd(){const{media:t}=this;t!=null&&t.readyState&&(this.lastCurrentTime=t.currentTime)}doTickIdle(){var t;const{hls:n,levels:i,media:l,trackId:d}=this,s=n.config;if(!this.buffering||!l&&!this.primaryPrefetch&&(this.startFragRequested||!s.startFragPrefetch)||!(i!=null&&i[d]))return;const c=i[d],e=c.details;if(!e||this.waitForLive(c)||this.waitForCdnTuneIn(e)){this.state=te.WAITING_TRACK,this.startFragRequested=!1;return}const o=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&o&&(this.bufferFlushed=!1,this.afterBufferFlushed(o,Cr.AUDIO,Je.AUDIO));const u=this.getFwdBufferInfo(o,Je.AUDIO);if(u===null)return;if(!this.switchingTrack&&this._streamEnded(u,e)){n.trigger(G.BUFFER_EOS,{type:"audio"}),this.state=te.ENDED;return}const f=u.len,A=n.maxBufferLength,p=e.fragments,m=p[0].start,y=this.getLoadPosition(),b=this.flushing?y:u.end;if(this.switchingTrack&&l){const T=y;e.PTSKnown&&T<m&&(u.end>m||u.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),l.currentTime=m+.05)}if(f>=A&&!this.switchingTrack&&b<p[p.length-1].start)return;let E=this.getNextFragment(b,e);if(E&&this.isLoopLoading(E,b)&&(E=this.getNextFragmentLoopLoading(E,e,u,Je.MAIN,A)),!E){this.bufferFlushed=!0;return}let S=((t=this.mainFragLoading)==null?void 0:t.frag)||null;if(!this.audioOnly&&this.startFragRequested&&S&&qr(E)&&!E.endList&&(!e.live||!this.loadingParts&&b<this.hls.liveSyncPosition)&&(this.fragmentTracker.getState(S)===ni.OK&&(this.mainFragLoading=S=null),S&&qr(S))){if(E.start>S.end){const L=this.fragmentTracker.getFragAtPos(b,Je.MAIN);L&&L.end>S.end&&(S=L,this.mainFragLoading={frag:L,targetBufferTime:null})}if(E.start>S.end)return}this.loadFragment(E,c,b)}onMediaDetaching(t,n){this.bufferFlushed=this.flushing=!1,super.onMediaDetaching(t,n)}onAudioTracksUpdated(t,{audioTracks:n}){this.resetTransmuxer(),this.levels=n.map(i=>new nu(i))}onAudioTrackSwitching(t,n){const i=!!n.url;this.trackId=n.id;const{fragCurrent:l}=this;l&&(l.abortRequests(),this.removeUnbufferedFrags(l.start)),this.resetLoadingState(),i?(this.switchingTrack=n,this.flushAudioIfNeeded(n),this.state!==te.STOPPED&&(this.setInterval(V0),this.state=te.IDLE,this.tick())):(this.resetTransmuxer(),this.switchingTrack=null,this.bufferedTrack=n,this.clearInterval())}onManifestLoading(){super.onManifestLoading(),this.bufferFlushed=this.flushing=this.audioOnly=!1,this.resetItem(),this.trackId=-1}onLevelLoaded(t,n){this.mainDetails=n.details;const i=this.cachedTrackLoadedData;i&&(this.cachedTrackLoadedData=null,this.onAudioTrackLoaded(G.AUDIO_TRACK_LOADED,i))}onAudioTrackLoaded(t,n){var i;const{levels:l}=this,{details:d,id:s,groupId:c,track:e}=n;if(!l){this.warn(`Audio tracks reset while loading track ${s} "${e.name}" of "${c}"`);return}const o=this.mainDetails;if(!o||d.endCC>o.endCC||o.expired){this.cachedTrackLoadedData=n,this.state!==te.STOPPED&&(this.state=te.WAITING_TRACK);return}this.cachedTrackLoadedData=null,this.log(`Audio track ${s} "${e.name}" of "${c}" loaded [${d.startSN},${d.endSN}]${d.lastPartSn?`[part-${d.lastPartSn}-${d.lastPartIndex}]`:""},duration:${d.totalduration}`);const u=l[s];let f=0;if(d.live||(i=u.details)!=null&&i.live){if(this.checkLiveUpdate(d),d.deltaUpdateFailed)return;if(u.details){var A;f=this.alignPlaylists(d,u.details,(A=this.levelLastLoaded)==null?void 0:A.details)}d.alignedSliding||(Jm(d,o),d.alignedSliding||zc(d,o),f=d.fragmentStart)}u.details=d,this.levelLastLoaded=u,this.startFragRequested||this.setStartPosition(o,f),this.hls.trigger(G.AUDIO_TRACK_UPDATED,{details:d,id:s,groupId:n.groupId}),this.state===te.WAITING_TRACK&&!this.waitForCdnTuneIn(d)&&(this.state=te.IDLE),this.tick()}_handleFragmentLoadProgress(t){var n;const i=t.frag,{part:l,payload:d}=t,{config:s,trackId:c,levels:e}=this;if(!e){this.warn(`Audio tracks were reset while fragment load was in progress. Fragment ${i.sn} of level ${i.level} will not be buffered`);return}const o=e[c];if(!o){this.warn("Audio track is undefined on fragment load progress");return}const u=o.details;if(!u){this.warn("Audio track details undefined on fragment load progress"),this.removeUnbufferedFrags(i.start);return}const f=s.defaultAudioCodec||o.audioCodec||"mp4a.40.2";let A=this.transmuxer;A||(A=this.transmuxer=new yv(this.hls,Je.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));const p=this.initPTS[i.cc],m=(n=i.initSegment)==null?void 0:n.data;if(p!==void 0){const b=l?l.index:-1,E=b!==-1,S=new Nh(i.level,i.sn,i.stats.chunkCount,d.byteLength,b,E);A.push(d,m,f,"",i,l,u.totalduration,!1,S,p)}else{this.log(`Unknown video PTS for cc ${i.cc}, waiting for video PTS before demuxing audio frag ${i.sn} of [${u.startSN} ,${u.endSN}],track ${c}`);const{cache:y}=this.waitingData=this.waitingData||{frag:i,part:l,cache:new tv,complete:!1};y.push(new Uint8Array(d)),this.state!==te.STOPPED&&(this.state=te.WAITING_INIT_PTS)}}_handleFragmentLoadComplete(t){if(this.waitingData){this.waitingData.complete=!0;return}super._handleFragmentLoadComplete(t)}onBufferReset(){this.mediaBuffer=null}onBufferCreated(t,n){this.bufferFlushed=this.flushing=!1;const i=n.tracks.audio;i&&(this.mediaBuffer=i.buffer||null)}onFragLoading(t,n){!this.audioOnly&&n.frag.type===Je.MAIN&&qr(n.frag)&&(this.mainFragLoading=n,this.state===te.IDLE&&this.tick())}onFragBuffered(t,n){const{frag:i,part:l}=n;if(i.type!==Je.AUDIO){!this.audioOnly&&i.type===Je.MAIN&&!i.elementaryStreams.video&&!i.elementaryStreams.audiovideo&&(this.audioOnly=!0,this.mainFragLoading=null);return}if(this.fragContextChanged(i)){this.warn(`Fragment ${i.sn}${l?" p: "+l.index:""} of level ${i.level} finished buffering, but was aborted. state: ${this.state}, audioSwitch: ${this.switchingTrack?this.switchingTrack.name:"false"}`);return}if(qr(i)){this.fragPrevious=i;const d=this.switchingTrack;d&&(this.bufferedTrack=d,this.switchingTrack=null,this.hls.trigger(G.AUDIO_TRACK_SWITCHED,vr({},d)))}this.fragBufferedComplete(i,l),this.media&&this.tick()}onError(t,n){var i;if(n.fatal){this.state=te.ERROR;return}switch(n.details){case _t.FRAG_GAP:case _t.FRAG_PARSING_ERROR:case _t.FRAG_DECRYPT_ERROR:case _t.FRAG_LOAD_ERROR:case _t.FRAG_LOAD_TIMEOUT:case _t.KEY_LOAD_ERROR:case _t.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Je.AUDIO,n);break;case _t.AUDIO_TRACK_LOAD_ERROR:case _t.AUDIO_TRACK_LOAD_TIMEOUT:case _t.LEVEL_PARSING_ERROR:!n.levelRetry&&this.state===te.WAITING_TRACK&&((i=n.context)==null?void 0:i.type)===Kn.AUDIO_TRACK&&(this.state=te.IDLE);break;case _t.BUFFER_ADD_CODEC_ERROR:case _t.BUFFER_APPEND_ERROR:if(n.parent!=="audio")return;this.reduceLengthAndFlushBuffer(n)||this.resetLoadingState();break;case _t.BUFFER_FULL_ERROR:if(n.parent!=="audio")return;this.reduceLengthAndFlushBuffer(n)&&(this.bufferedTrack=null,super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"));break;case _t.INTERNAL_EXCEPTION:this.recoverWorkerError(n);break}}onBufferFlushing(t,{type:n}){n!==Cr.VIDEO&&(this.flushing=!0)}onBufferFlushed(t,{type:n}){if(n!==Cr.VIDEO){this.flushing=!1,this.bufferFlushed=!0,this.state===te.ENDED&&(this.state=te.IDLE);const i=this.mediaBuffer||this.media;i&&(this.afterBufferFlushed(i,n,Je.AUDIO),this.tick())}}_handleTransmuxComplete(t){var n;const i="audio",{hls:l}=this,{remuxResult:d,chunkMeta:s}=t,c=this.getCurrentContext(s);if(!c){this.resetWhenMissingContext(s);return}const{frag:e,part:o,level:u}=c,{details:f}=u,{audio:A,text:p,id3:m,initSegment:y}=d;if(this.fragContextChanged(e)||!f){this.fragmentTracker.removeFragment(e);return}if(this.state=te.PARSING,this.switchingTrack&&A&&this.completeAudioSwitch(this.switchingTrack),y!=null&&y.tracks){const b=e.initSegment||e;if(this.unhandledEncryptionError(y,e))return;this._bufferInitSegment(u,y.tracks,b,s),l.trigger(G.FRAG_PARSING_INIT_SEGMENT,{frag:b,id:i,tracks:y.tracks})}if(A){const{startPTS:b,endPTS:E,startDTS:S,endDTS:T}=A;o&&(o.elementaryStreams[Cr.AUDIO]={startPTS:b,endPTS:E,startDTS:S,endDTS:T}),e.setElementaryStreamInfo(Cr.AUDIO,b,E,S,T),this.bufferFragmentData(A,e,o,s)}if(m!=null&&(n=m.samples)!=null&&n.length){const b=yr({id:i,frag:e,details:f},m);l.trigger(G.FRAG_PARSING_METADATA,b)}if(p){const b=yr({id:i,frag:e,details:f},p);l.trigger(G.FRAG_PARSING_USERDATA,b)}}_bufferInitSegment(t,n,i,l){if(this.state!==te.PARSING||(n.video&&delete n.video,n.audiovideo&&delete n.audiovideo,!n.audio))return;const d=n.audio;d.id=Je.AUDIO;const s=t.audioCodec;this.log(`Init audio buffer, container:${d.container}, codecs[level/parsed]=[${s}/${d.codec}]`),s&&s.split(",").length===1&&(d.levelCodec=s),this.hls.trigger(G.BUFFER_CODECS,n);const c=d.initSegment;if(c!=null&&c.byteLength){const e={type:"audio",frag:i,part:null,chunkMeta:l,parent:i.type,data:c};this.hls.trigger(G.BUFFER_APPENDING,e)}this.tickImmediate()}loadFragment(t,n,i){const l=this.fragmentTracker.getState(t);if(this.switchingTrack||l===ni.NOT_LOADED||l===ni.PARTIAL){var d;if(!qr(t))this._loadInitSegment(t,n);else if((d=n.details)!=null&&d.live&&!this.initPTS[t.cc]){this.log(`Waiting for video PTS in continuity counter ${t.cc} of live stream before loading audio fragment ${t.sn} of level ${this.trackId}`),this.state=te.WAITING_INIT_PTS;const s=this.mainDetails;s&&s.fragmentStart!==n.details.fragmentStart&&zc(n.details,s)}else super.loadFragment(t,n,i)}else this.clearTrackerIfNeeded(t)}flushAudioIfNeeded(t){if(this.media&&this.bufferedTrack){const{name:n,lang:i,assocLang:l,characteristics:d,audioCodec:s,channels:c}=this.bufferedTrack;yo({name:n,lang:i,assocLang:l,characteristics:d,audioCodec:s,channels:c},t,vo)||(Fc(t.url,this.hls)?(this.log("Switching audio track : flushing all audio"),super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"),this.bufferedTrack=null):this.bufferedTrack=t)}}completeAudioSwitch(t){const{hls:n}=this;this.flushAudioIfNeeded(t),this.bufferedTrack=t,this.switchingTrack=null,n.trigger(G.AUDIO_TRACK_SWITCHED,vr({},t))}}class Kh extends as{constructor(t,n){super(n,t.logger),this.hls=void 0,this.canLoad=!1,this.timer=-1,this.hls=t}destroy(){this.clearTimer(),this.hls=this.log=this.warn=null}clearTimer(){this.timer!==-1&&(self.clearTimeout(this.timer),this.timer=-1)}startLoad(){this.canLoad=!0,this.loadPlaylist()}stopLoad(){this.canLoad=!1,this.clearTimer()}switchParams(t,n,i){const l=n?.renditionReports;if(l){let d=-1;for(let s=0;s<l.length;s++){const c=l[s];let e;try{e=new self.URL(c.URI,n.url).href}catch(o){this.warn(`Could not construct new URL for Rendition Report: ${o}`),e=c.URI||""}if(e===t){d=s;break}else e===t.substring(0,e.length)&&(d=s)}if(d!==-1){const s=l[d],c=parseInt(s["LAST-MSN"])||n.lastPartSn;let e=parseInt(s["LAST-PART"])||n.lastPartIndex;if(this.hls.config.lowLatencyMode){const u=Math.min(n.age-n.partTarget,n.targetduration);e>=0&&u>n.partTarget&&(e+=1)}const o=i&&c0(i);return new f0(c,e>=0?e:void 0,o)}}}loadPlaylist(t){this.clearTimer()}loadingPlaylist(t,n){this.clearTimer()}shouldLoadPlaylist(t){return this.canLoad&&!!t&&!!t.url&&(!t.details||t.details.live)}getUrlWithDirectives(t,n){if(n)try{return n.addDirectives(t)}catch(i){this.warn(`Could not construct new URL with HLS Delivery Directives: ${i}`)}return t}playlistLoaded(t,n,i){const{details:l,stats:d}=n,s=self.performance.now(),c=d.loading.first?Math.max(0,s-d.loading.first):0;l.advancedDateTime=Date.now()-c;const e=this.hls.config.timelineOffset;if(e!==l.appliedTimelineOffset){const u=Math.max(e||0,0);l.appliedTimelineOffset=u,l.fragments.forEach(f=>{f.setStart(f.playlistOffset+u)})}if(l.live||i!=null&&i.live){const u="levelInfo"in n?n.levelInfo:n.track;if(l.reloaded(i),i&&l.fragments.length>0){QE(i,l,this);const S=l.playlistParsingError;if(S){this.warn(S);const T=this.hls;if(!T.config.ignorePlaylistParsingErrors){var o;const{networkDetails:L}=n;T.trigger(G.ERROR,{type:rn.NETWORK_ERROR,details:_t.LEVEL_PARSING_ERROR,fatal:!1,url:l.url,error:S,reason:S.message,level:n.level||void 0,parent:(o=l.fragments[0])==null?void 0:o.type,networkDetails:L,stats:d});return}l.playlistParsingError=null}}l.requestScheduled===-1&&(l.requestScheduled=d.loading.start);const f=this.hls.mainForwardBufferInfo,A=f?f.end-f.len:0,p=(l.edge-A)*1e3,m=Km(l,p);if(l.requestScheduled+m<s?l.requestScheduled=s:l.requestScheduled+=m,this.log(`live playlist ${t} ${l.advanced?"REFRESHED "+l.lastPartSn+"-"+l.lastPartIndex:l.updated?"UPDATED":"MISSED"}`),!this.canLoad||!l.live)return;let y,b,E;if(l.canBlockReload&&l.endSN&&l.advanced){const S=this.hls.config.lowLatencyMode,T=l.lastPartSn,L=l.endSN,I=l.lastPartIndex,B=I!==-1,O=T===L;B?O?(b=L+1,E=S?0:I):(b=T,E=S?I+1:l.maxPartIndex):b=L+1;const _=l.age,M=_+l.ageHeader;let U=Math.min(M-l.partTarget,l.targetduration*1.5);if(U>0){if(M>l.targetduration*3)this.log(`Playlist last advanced ${_.toFixed(2)}s ago. Omitting segment and part directives.`),b=void 0,E=void 0;else if(i!=null&&i.tuneInGoal&&M-l.partTarget>i.tuneInGoal)this.warn(`CDN Tune-in goal increased from: ${i.tuneInGoal} to: ${U} with playlist age: ${l.age}`),U=0;else{const Q=Math.floor(U/l.targetduration);if(b+=Q,E!==void 0){const $=Math.round(U%l.targetduration/l.partTarget);E+=$}this.log(`CDN Tune-in age: ${l.ageHeader}s last advanced ${_.toFixed(2)}s goal: ${U} skip sn ${Q} to part ${E}`)}l.tuneInGoal=U}if(y=this.getDeliveryDirectives(l,n.deliveryDirectives,b,E),S||!O){l.requestScheduled=s,this.loadingPlaylist(u,y);return}}else(l.canBlockReload||l.canSkipUntil)&&(y=this.getDeliveryDirectives(l,n.deliveryDirectives,b,E));y&&b!==void 0&&l.canBlockReload&&(l.requestScheduled=d.loading.first+Math.max(m-c*2,m/2)),this.scheduleLoading(u,y,l)}else this.clearTimer()}scheduleLoading(t,n,i){const l=i||t.details;if(!l){this.loadingPlaylist(t,n);return}const d=self.performance.now(),s=l.requestScheduled;if(d>=s){this.loadingPlaylist(t,n);return}const c=s-d;this.log(`reload live playlist ${t.name||t.bitrate+"bps"} in ${Math.round(c)} ms`),this.clearTimer(),this.timer=self.setTimeout(()=>this.loadingPlaylist(t,n),c)}getDeliveryDirectives(t,n,i,l){let d=c0(t);return n!=null&&n.skip&&t.deltaUpdateFailed&&(i=n.msn,l=n.part,d=Lc.No),new f0(i,l,d)}checkRetry(t){const n=t.details,i=Gc(t),l=t.errorAction,{action:d,retryCount:s=0,retryConfig:c}=l||{},e=!!l&&!!c&&(d===Ai.RetryRequest||!l.resolved&&d===Ai.SendAlternateToPenaltyBox);if(e){var o;if(s>=c.maxNumRetry)return!1;if(i&&(o=t.context)!=null&&o.deliveryDirectives)this.warn(`Retrying playlist loading ${s+1}/${c.maxNumRetry} after "${n}" without delivery-directives`),this.loadPlaylist();else{const u=Mh(c,s);this.clearTimer(),this.timer=self.setTimeout(()=>this.loadPlaylist(),u),this.warn(`Retrying playlist loading ${s+1}/${c.maxNumRetry} after "${n}" in ${u}ms`)}t.levelRetry=!0,l.resolved=!0}return e}}function bv(g,t){if(g.length!==t.length)return!1;for(let n=0;n<g.length;n++)if(!au(g[n].attrs,t[n].attrs))return!1;return!0}function au(g,t,n){const i=g["STABLE-RENDITION-ID"];return i&&!n?i===t["STABLE-RENDITION-ID"]:!(n||["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED","ASSOC-LANGUAGE"]).some(l=>g[l]!==t[l])}function Eh(g,t){return t.label.toLowerCase()===g.name.toLowerCase()&&(!t.language||t.language.toLowerCase()===(g.lang||"").toLowerCase())}class qC extends Kh{constructor(t){super(t,"audio-track-controller"),this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.registerListeners()}registerListeners(){const{hls:t}=this;t.on(G.MANIFEST_LOADING,this.onManifestLoading,this),t.on(G.MANIFEST_PARSED,this.onManifestParsed,this),t.on(G.LEVEL_LOADING,this.onLevelLoading,this),t.on(G.LEVEL_SWITCHING,this.onLevelSwitching,this),t.on(G.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.on(G.ERROR,this.onError,this)}unregisterListeners(){const{hls:t}=this;t.off(G.MANIFEST_LOADING,this.onManifestLoading,this),t.off(G.MANIFEST_PARSED,this.onManifestParsed,this),t.off(G.LEVEL_LOADING,this.onLevelLoading,this),t.off(G.LEVEL_SWITCHING,this.onLevelSwitching,this),t.off(G.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.off(G.ERROR,this.onError,this)}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,super.destroy()}onManifestLoading(){this.tracks=[],this.tracksInGroup=[],this.groupIds=null,this.currentTrack=null,this.trackId=-1,this.selectDefaultTrack=!0}onManifestParsed(t,n){this.tracks=n.audioTracks||[]}onAudioTrackLoaded(t,n){const{id:i,groupId:l,details:d}=n,s=this.tracksInGroup[i];if(!s||s.groupId!==l){this.warn(`Audio track with id:${i} and group:${l} not found in active group ${s?.groupId}`);return}const c=s.details;s.details=n.details,this.log(`Audio track ${i} "${s.name}" lang:${s.lang} group:${l} loaded [${d.startSN}-${d.endSN}]`),i===this.trackId&&this.playlistLoaded(i,n,c)}onLevelLoading(t,n){this.switchLevel(n.level)}onLevelSwitching(t,n){this.switchLevel(n.level)}switchLevel(t){const n=this.hls.levels[t];if(!n)return;const i=n.audioGroups||null,l=this.groupIds;let d=this.currentTrack;if(!i||l?.length!==i?.length||i!=null&&i.some(c=>l?.indexOf(c)===-1)){this.groupIds=i,this.trackId=-1,this.currentTrack=null;const c=this.tracks.filter(A=>!i||i.indexOf(A.groupId)!==-1);if(c.length)this.selectDefaultTrack&&!c.some(A=>A.default)&&(this.selectDefaultTrack=!1),c.forEach((A,p)=>{A.id=p});else if(!d&&!this.tracksInGroup.length)return;this.tracksInGroup=c;const e=this.hls.config.audioPreference;if(!d&&e){const A=Ms(e,c,vo);if(A>-1)d=c[A];else{const p=Ms(e,this.tracks);d=this.tracks[p]}}let o=this.findTrackId(d);o===-1&&d&&(o=this.findTrackId(null));const u={audioTracks:c};this.log(`Updating audio tracks, ${c.length} track(s) found in group(s): ${i?.join(",")}`),this.hls.trigger(G.AUDIO_TRACKS_UPDATED,u);const f=this.trackId;if(o!==-1&&f===-1)this.setAudioTrack(o);else if(c.length&&f===-1){var s;const A=new Error(`No audio track selected for current audio group-ID(s): ${(s=this.groupIds)==null?void 0:s.join(",")} track count: ${c.length}`);this.warn(A.message),this.hls.trigger(G.ERROR,{type:rn.MEDIA_ERROR,details:_t.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:A})}}}onError(t,n){n.fatal||!n.context||n.context.type===Kn.AUDIO_TRACK&&n.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(n.context.groupId)!==-1)&&this.checkRetry(n)}get allAudioTracks(){return this.tracks}get audioTracks(){return this.tracksInGroup}get audioTrack(){return this.trackId}set audioTrack(t){this.selectDefaultTrack=!1,this.setAudioTrack(t)}setAudioOption(t){const n=this.hls;if(n.config.audioPreference=t,t){const i=this.allAudioTracks;if(this.selectDefaultTrack=!1,i.length){const l=this.currentTrack;if(l&&yo(t,l,vo))return l;const d=Ms(t,this.tracksInGroup,vo);if(d>-1){const s=this.tracksInGroup[d];return this.setAudioTrack(d),s}else if(l){let s=n.loadLevel;s===-1&&(s=n.firstAutoLevel);const c=aE(t,n.levels,i,s,vo);if(c===-1)return null;n.nextLoadLevel=c}if(t.channels||t.audioCodec){const s=Ms(t,i);if(s>-1)return i[s]}}}return null}setAudioTrack(t){const n=this.tracksInGroup;if(t<0||t>=n.length){this.warn(`Invalid audio track id: ${t}`);return}this.selectDefaultTrack=!1;const i=this.currentTrack,l=n[t],d=l.details&&!l.details.live;if(t===this.trackId&&l===i&&d||(this.log(`Switching to audio-track ${t} "${l.name}" lang:${l.lang} group:${l.groupId} channels:${l.channels}`),this.trackId=t,this.currentTrack=l,this.hls.trigger(G.AUDIO_TRACK_SWITCHING,vr({},l)),d))return;const s=this.switchParams(l.url,i?.details,l.details);this.loadPlaylist(s)}findTrackId(t){const n=this.tracksInGroup;for(let i=0;i<n.length;i++){const l=n[i];if(!(this.selectDefaultTrack&&!l.default)&&(!t||yo(t,l,vo)))return i}if(t){const{name:i,lang:l,assocLang:d,characteristics:s,audioCodec:c,channels:e}=t;for(let o=0;o<n.length;o++){const u=n[o];if(yo({name:i,lang:l,assocLang:d,characteristics:s,audioCodec:c,channels:e},u,vo))return o}for(let o=0;o<n.length;o++){const u=n[o];if(au(t.attrs,u.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return o}for(let o=0;o<n.length;o++){const u=n[o];if(au(t.attrs,u.attrs,["LANGUAGE"]))return o}}return-1}loadPlaylist(t){super.loadPlaylist();const n=this.currentTrack;this.shouldLoadPlaylist(n)&&Fc(n.url,this.hls)&&this.scheduleLoading(n,t)}loadingPlaylist(t,n){super.loadingPlaylist(t,n);const i=t.id,l=t.groupId,d=this.getUrlWithDirectives(t.url,n),s=t.details,c=s?.age;this.log(`Loading audio-track ${i} "${t.name}" lang:${t.lang} group:${l}${n?.msn!==void 0?" at sn "+n.msn+" part "+n.part:""}${c&&s.live?" age "+c.toFixed(1)+(s.type&&" "+s.type||""):""} ${d}`),this.hls.trigger(G.AUDIO_TRACK_LOADING,{url:d,id:i,groupId:l,deliveryDirectives:n||null,track:t})}}class XC{constructor(t){this.tracks=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.tracks=t}destroy(){this.tracks=this.queues=null}append(t,n,i){if(this.queues===null||this.tracks===null)return;const l=this.queues[n];l.push(t),l.length===1&&!i&&this.executeNext(n)}appendBlocker(t){return new Promise(n=>{const i={label:"async-blocker",execute:n,onStart:()=>{},onComplete:()=>{},onError:()=>{}};this.append(i,t)})}prependBlocker(t){return new Promise(n=>{if(this.queues){const i={label:"async-blocker-prepend",execute:n,onStart:()=>{},onComplete:()=>{},onError:()=>{}};this.queues[t].unshift(i)}})}removeBlockers(){this.queues!==null&&[this.queues.video,this.queues.audio,this.queues.audiovideo].forEach(t=>{var n;const i=(n=t[0])==null?void 0:n.label;(i==="async-blocker"||i==="async-blocker-prepend")&&(t[0].execute(),t.splice(0,1))})}unblockAudio(t){if(this.queues===null)return;this.queues.audio[0]===t&&this.shiftAndExecuteNext("audio")}executeNext(t){if(this.queues===null||this.tracks===null)return;const n=this.queues[t];if(n.length){const l=n[0];try{l.execute()}catch(d){var i;if(l.onError(d),this.queues===null||this.tracks===null)return;const s=(i=this.tracks[t])==null?void 0:i.buffer;s!=null&&s.updating||this.shiftAndExecuteNext(t)}}}shiftAndExecuteNext(t){this.queues!==null&&(this.queues[t].shift(),this.executeNext(t))}current(t){var n;return((n=this.queues)==null?void 0:n[t][0])||null}toString(){const{queues:t,tracks:n}=this;return t===null||n===null?"<destroyed>":`
${this.list("video")}
${this.list("audio")}
${this.list("audiovideo")}}`}list(t){var n,i;return(n=this.queues)!=null&&n[t]||(i=this.tracks)!=null&&i[t]?`${t}: (${this.listSbInfo(t)}) ${this.listOps(t)}`:""}listSbInfo(t){var n;const i=(n=this.tracks)==null?void 0:n[t],l=i?.buffer;return l?`SourceBuffer${l.updating?" updating":""}${i.ended?" ended":""}${i.ending?" ending":""}`:"none"}listOps(t){var n;return((n=this.queues)==null?void 0:n[t].map(i=>i.label).join(", "))||""}}const K0=/(avc[1234]|hvc1|hev1|dvh[1e]|vp09|av01)(?:\.[^.,]+)+/,Ev="HlsJsTrackRemovedError";class ZC extends Error{constructor(t){super(t),this.name=Ev}}class JC extends as{constructor(t,n){super("buffer-controller",t.logger),this.hls=void 0,this.fragmentTracker=void 0,this.details=null,this._objectUrl=null,this.operationQueue=null,this.bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.blockedAudioAppend=null,this.lastVideoAppendEnd=0,this.appendSource=void 0,this.transferData=void 0,this.overrides=void 0,this.appendErrors={audio:0,video:0,audiovideo:0},this.tracks={},this.sourceBuffers=[[null,null],[null,null]],this._onEndStreaming=i=>{var l;this.hls&&((l=this.mediaSource)==null?void 0:l.readyState)==="open"&&this.hls.pauseBuffering()},this._onStartStreaming=i=>{this.hls&&this.hls.resumeBuffering()},this._onMediaSourceOpen=i=>{const{media:l,mediaSource:d}=this;i&&this.log("Media source opened"),!(!l||!d)&&(d.removeEventListener("sourceopen",this._onMediaSourceOpen),l.removeEventListener("emptied",this._onMediaEmptied),this.updateDuration(),this.hls.trigger(G.MEDIA_ATTACHED,{media:l,mediaSource:d}),this.mediaSource!==null&&this.checkPendingTracks())},this._onMediaSourceClose=()=>{this.log("Media source closed")},this._onMediaSourceEnded=()=>{this.log("Media source ended")},this._onMediaEmptied=()=>{const{mediaSrc:i,_objectUrl:l}=this;i!==l&&this.error(`Media element src was set while attaching MediaSource (${l} > ${i})`)},this.hls=t,this.fragmentTracker=n,this.appendSource=Cb(Qa(t.config.preferManagedMediaSource)),this.initTracks(),this.registerListeners()}hasSourceTypes(){return Object.keys(this.tracks).length>0}destroy(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=this.blockedAudioAppend=null,this.transferData=this.overrides=void 0,this.operationQueue&&(this.operationQueue.destroy(),this.operationQueue=null),this.hls=this.fragmentTracker=null,this._onMediaSourceOpen=this._onMediaSourceClose=null,this._onMediaSourceEnded=null,this._onStartStreaming=this._onEndStreaming=null}registerListeners(){const{hls:t}=this;t.on(G.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(G.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(G.MANIFEST_LOADING,this.onManifestLoading,this),t.on(G.MANIFEST_PARSED,this.onManifestParsed,this),t.on(G.BUFFER_RESET,this.onBufferReset,this),t.on(G.BUFFER_APPENDING,this.onBufferAppending,this),t.on(G.BUFFER_CODECS,this.onBufferCodecs,this),t.on(G.BUFFER_EOS,this.onBufferEos,this),t.on(G.BUFFER_FLUSHING,this.onBufferFlushing,this),t.on(G.LEVEL_UPDATED,this.onLevelUpdated,this),t.on(G.FRAG_PARSED,this.onFragParsed,this),t.on(G.FRAG_CHANGED,this.onFragChanged,this),t.on(G.ERROR,this.onError,this)}unregisterListeners(){const{hls:t}=this;t.off(G.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(G.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(G.MANIFEST_LOADING,this.onManifestLoading,this),t.off(G.MANIFEST_PARSED,this.onManifestParsed,this),t.off(G.BUFFER_RESET,this.onBufferReset,this),t.off(G.BUFFER_APPENDING,this.onBufferAppending,this),t.off(G.BUFFER_CODECS,this.onBufferCodecs,this),t.off(G.BUFFER_EOS,this.onBufferEos,this),t.off(G.BUFFER_FLUSHING,this.onBufferFlushing,this),t.off(G.LEVEL_UPDATED,this.onLevelUpdated,this),t.off(G.FRAG_PARSED,this.onFragParsed,this),t.off(G.FRAG_CHANGED,this.onFragChanged,this),t.off(G.ERROR,this.onError,this)}transferMedia(){const{media:t,mediaSource:n}=this;if(!t)return null;const i={};if(this.operationQueue){const d=this.isUpdating();d||this.operationQueue.removeBlockers();const s=this.isQueued();(d||s)&&this.warn(`Transfering MediaSource with${s?" operations in queue":""}${d?" updating SourceBuffer(s)":""} ${this.operationQueue}`),this.operationQueue.destroy()}const l=this.transferData;return!this.sourceBufferCount&&l&&l.mediaSource===n?yr(i,l.tracks):this.sourceBuffers.forEach(d=>{const[s]=d;s&&(i[s]=yr({},this.tracks[s]),this.removeBuffer(s)),d[0]=d[1]=null}),{media:t,mediaSource:n,tracks:i}}initTracks(){const t={};this.sourceBuffers=[[null,null],[null,null]],this.tracks=t,this.resetQueue(),this.resetAppendErrors(),this.lastMpegAudioChunk=this.blockedAudioAppend=null,this.lastVideoAppendEnd=0}onManifestLoading(){this.bufferCodecEventsTotal=0,this.details=null}onManifestParsed(t,n){var i;let l=2;(n.audio&&!n.video||!n.altAudio)&&(l=1),this.bufferCodecEventsTotal=l,this.log(`${l} bufferCodec event(s) expected.`),(i=this.transferData)!=null&&i.mediaSource&&this.sourceBufferCount&&l&&this.bufferCreated()}onMediaAttaching(t,n){const i=this.media=n.media;this.transferData=this.overrides=void 0;const l=Qa(this.appendSource);if(l){const d=!!n.mediaSource;(d||n.overrides)&&(this.transferData=n,this.overrides=n.overrides);const s=this.mediaSource=n.mediaSource||new l;if(this.assignMediaSource(s),d)this._objectUrl=i.src,this.attachTransferred();else{const c=this._objectUrl=self.URL.createObjectURL(s);if(this.appendSource)try{i.removeAttribute("src");const e=self.ManagedMediaSource;i.disableRemotePlayback=i.disableRemotePlayback||e&&s instanceof e,W0(i),tS(i,c),i.load()}catch{i.src=c}else i.src=c}i.addEventListener("emptied",this._onMediaEmptied)}}assignMediaSource(t){var n,i;this.log(`${((n=this.transferData)==null?void 0:n.mediaSource)===t?"transferred":"created"} media source: ${(i=t.constructor)==null?void 0:i.name}`),t.addEventListener("sourceopen",this._onMediaSourceOpen),t.addEventListener("sourceended",this._onMediaSourceEnded),t.addEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(t.addEventListener("startstreaming",this._onStartStreaming),t.addEventListener("endstreaming",this._onEndStreaming))}attachTransferred(){const t=this.media,n=this.transferData;if(!n||!t)return;const i=this.tracks,l=n.tracks,d=l?Object.keys(l):null,s=d?d.length:0,c=()=>{Promise.resolve().then(()=>{this.media&&this.mediaSourceOpenOrEnded&&this._onMediaSourceOpen()})};if(l&&d&&s){if(!this.tracksReady){this.hls.config.startFragPrefetch=!0,this.log("attachTransferred: waiting for SourceBuffer track info");return}if(this.log(`attachTransferred: (bufferCodecEventsTotal ${this.bufferCodecEventsTotal})
required tracks: ${Lr(i,(e,o)=>e==="initSegment"?void 0:o)};
transfer tracks: ${Lr(l,(e,o)=>e==="initSegment"?void 0:o)}}`),!Cm(l,i)){n.mediaSource=null,n.tracks=void 0;const e=t.currentTime,o=this.details,u=Math.max(e,o?.fragments[0].start||0);if(u-e>1){this.log(`attachTransferred: waiting for playback to reach new tracks start time ${e} -> ${u}`);return}this.warn(`attachTransferred: resetting MediaSource for incompatible tracks ("${Object.keys(l)}"->"${Object.keys(i)}") start time: ${u} currentTime: ${e}`),this.onMediaDetaching(G.MEDIA_DETACHING,{}),this.onMediaAttaching(G.MEDIA_ATTACHING,n),t.currentTime=u;return}this.transferData=void 0,d.forEach(e=>{const o=e,u=l[o];if(u){const f=u.buffer;if(f){const A=this.fragmentTracker,p=u.id;if(A.hasFragments(p)||A.hasParts(p)){const b=Pn.getBuffered(f);A.detectEvictedFragments(o,b,p,null,!0)}const m=Xd(o),y=[o,f];this.sourceBuffers[m]=y,f.updating&&this.operationQueue&&this.operationQueue.prependBlocker(o),this.trackSourceBuffer(o,u)}}}),c(),this.bufferCreated()}else this.log("attachTransferred: MediaSource w/o SourceBuffers"),c()}get mediaSourceOpenOrEnded(){var t;const n=(t=this.mediaSource)==null?void 0:t.readyState;return n==="open"||n==="ended"}onMediaDetaching(t,n){const i=!!n.transferMedia;this.transferData=this.overrides=void 0;const{media:l,mediaSource:d,_objectUrl:s}=this;if(d){if(this.log(`media source ${i?"transferring":"detaching"}`),i)this.sourceBuffers.forEach(([c])=>{c&&this.removeBuffer(c)}),this.resetQueue();else{if(this.mediaSourceOpenOrEnded){const c=d.readyState==="open";try{const e=d.sourceBuffers;for(let o=e.length;o--;)c&&e[o].abort(),d.removeSourceBuffer(e[o]);c&&d.endOfStream()}catch(e){this.warn(`onMediaDetaching: ${e.message} while calling endOfStream`)}}this.sourceBufferCount&&this.onBufferReset()}d.removeEventListener("sourceopen",this._onMediaSourceOpen),d.removeEventListener("sourceended",this._onMediaSourceEnded),d.removeEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(d.removeEventListener("startstreaming",this._onStartStreaming),d.removeEventListener("endstreaming",this._onEndStreaming)),this.mediaSource=null,this._objectUrl=null}l&&(l.removeEventListener("emptied",this._onMediaEmptied),i||(s&&self.URL.revokeObjectURL(s),this.mediaSrc===s?(l.removeAttribute("src"),this.appendSource&&W0(l),l.load()):this.warn("media|source.src was changed by a third party - skip cleanup")),this.media=null),this.hls.trigger(G.MEDIA_DETACHED,n)}onBufferReset(){this.sourceBuffers.forEach(([t])=>{t&&this.resetBuffer(t)}),this.initTracks()}resetBuffer(t){var n;const i=(n=this.tracks[t])==null?void 0:n.buffer;if(this.removeBuffer(t),i)try{var l;(l=this.mediaSource)!=null&&l.sourceBuffers.length&&this.mediaSource.removeSourceBuffer(i)}catch(d){this.warn(`onBufferReset ${t}`,d)}delete this.tracks[t]}removeBuffer(t){this.removeBufferListeners(t),this.sourceBuffers[Xd(t)]=[null,null];const n=this.tracks[t];n&&(n.buffer=void 0)}resetQueue(){this.operationQueue&&this.operationQueue.destroy(),this.operationQueue=new XC(this.tracks)}onBufferCodecs(t,n){const i=this.tracks,l=Object.keys(n);this.log(`BUFFER_CODECS: "${l}" (current SB count ${this.sourceBufferCount})`);const d="audiovideo"in n&&(i.audio||i.video)||i.audiovideo&&("audio"in n||"video"in n),s=!d&&this.sourceBufferCount&&this.media&&l.some(c=>!i[c]);if(d||s){this.warn(`Unsupported transition between "${Object.keys(i)}" and "${l}" SourceBuffers`);return}l.forEach(c=>{var e,o;const u=n[c],{id:f,codec:A,levelCodec:p,container:m,metadata:y,supplemental:b}=u;let E=i[c];const S=(e=this.transferData)==null||(e=e.tracks)==null?void 0:e[c],T=S!=null&&S.buffer?S:E,L=T?.pendingCodec||T?.codec,I=T?.levelCodec;E||(E=i[c]={buffer:void 0,listeners:[],codec:A,supplemental:b,container:m,levelCodec:p,metadata:y,id:f});const B=wc(L,I),O=B?.replace(K0,"$1");let _=wc(A,p);const M=(o=_)==null?void 0:o.replace(K0,"$1");_&&B&&O!==M&&(c.slice(0,5)==="audio"&&(_=Nc(_,this.appendSource)),this.log(`switching codec ${L} to ${_}`),_!==(E.pendingCodec||E.codec)&&(E.pendingCodec=_),E.container=m,this.appendChangeType(c,m,_))}),(this.tracksReady||this.sourceBufferCount)&&(n.tracks=this.sourceBufferTracks),!this.sourceBufferCount&&this.mediaSourceOpenOrEnded&&this.checkPendingTracks()}get sourceBufferTracks(){return Object.keys(this.tracks).reduce((t,n)=>{const i=this.tracks[n];return t[n]={id:i.id,container:i.container,codec:i.codec,levelCodec:i.levelCodec},t},{})}appendChangeType(t,n,i){const l=`${n};codecs=${i}`,d={label:`change-type=${l}`,execute:()=>{const s=this.tracks[t];if(s){const c=s.buffer;c!=null&&c.changeType&&(this.log(`changing ${t} sourceBuffer type to ${l}`),c.changeType(l),s.codec=i,s.container=n)}this.shiftAndExecuteNext(t)},onStart:()=>{},onComplete:()=>{},onError:s=>{this.warn(`Failed to change ${t} SourceBuffer type`,s)}};this.append(d,t,this.isPending(this.tracks[t]))}blockAudio(t){var n;const i=t.start,l=i+t.duration*.05;if(((n=this.fragmentTracker.getAppendedFrag(i,Je.MAIN))==null?void 0:n.gap)===!0)return;const s={label:"block-audio",execute:()=>{var c;const e=this.tracks.video;(this.lastVideoAppendEnd>l||e!=null&&e.buffer&&Pn.isBuffered(e.buffer,l)||((c=this.fragmentTracker.getAppendedFrag(l,Je.MAIN))==null?void 0:c.gap)===!0)&&(this.blockedAudioAppend=null,this.shiftAndExecuteNext("audio"))},onStart:()=>{},onComplete:()=>{},onError:c=>{this.warn("Error executing block-audio operation",c)}};this.blockedAudioAppend={op:s,frag:t},this.append(s,"audio",!0)}unblockAudio(){const{blockedAudioAppend:t,operationQueue:n}=this;t&&n&&(this.blockedAudioAppend=null,n.unblockAudio(t.op))}onBufferAppending(t,n){const{tracks:i}=this,{data:l,type:d,parent:s,frag:c,part:e,chunkMeta:o,offset:u}=n,f=o.buffering[d],{sn:A,cc:p}=c,m=self.performance.now();f.start=m;const y=c.stats.buffering,b=e?e.stats.buffering:null;y.start===0&&(y.start=m),b&&b.start===0&&(b.start=m);const E=i.audio;let S=!1;d==="audio"&&E?.container==="audio/mpeg"&&(S=!this.lastMpegAudioChunk||o.id===1||this.lastMpegAudioChunk.sn!==o.sn,this.lastMpegAudioChunk=o);const T=i.video,L=T?.buffer;if(L&&A!=="initSegment"){const O=e||c,_=this.blockedAudioAppend;if(d==="audio"&&s!=="main"&&!this.blockedAudioAppend&&!(T.ending||T.ended)){const U=O.start+O.duration*.05,Q=L.buffered,$=this.currentOp("video");!Q.length&&!$?this.blockAudio(O):!$&&!Pn.isBuffered(L,U)&&this.lastVideoAppendEnd<U&&this.blockAudio(O)}else if(d==="video"){const M=O.end;if(_){const U=_.frag.start;(M>U||M<this.lastVideoAppendEnd||Pn.isBuffered(L,U))&&this.unblockAudio()}this.lastVideoAppendEnd=M}}const I=(e||c).start,B={label:`append-${d}`,execute:()=>{var O;f.executeStart=self.performance.now();const _=(O=this.tracks[d])==null?void 0:O.buffer;_&&(S?this.updateTimestampOffset(_,I,.1,d,A,p):u!==void 0&&je(u)&&this.updateTimestampOffset(_,u,1e-6,d,A,p)),this.appendExecutor(l,d)},onStart:()=>{},onComplete:()=>{const O=self.performance.now();f.executeEnd=f.end=O,y.first===0&&(y.first=O),b&&b.first===0&&(b.first=O);const _={};this.sourceBuffers.forEach(([M,U])=>{M&&(_[M]=Pn.getBuffered(U))}),this.appendErrors[d]=0,d==="audio"||d==="video"?this.appendErrors.audiovideo=0:(this.appendErrors.audio=0,this.appendErrors.video=0),this.hls.trigger(G.BUFFER_APPENDED,{type:d,frag:c,part:e,chunkMeta:o,parent:c.type,timeRanges:_})},onError:O=>{var _;const M={type:rn.MEDIA_ERROR,parent:c.type,details:_t.BUFFER_APPEND_ERROR,sourceBufferName:d,frag:c,part:e,chunkMeta:o,error:O,err:O,fatal:!1},U=(_=this.media)==null?void 0:_.error;if(O.code===DOMException.QUOTA_EXCEEDED_ERR||O.name=="QuotaExceededError"||"quota"in O)M.details=_t.BUFFER_FULL_ERROR;else if(O.code===DOMException.INVALID_STATE_ERR&&this.mediaSourceOpenOrEnded&&!U)M.errorAction=al(!0);else if(O.name===Ev&&this.sourceBufferCount===0)M.errorAction=al(!0);else{const Q=++this.appendErrors[d];this.warn(`Failed ${Q}/${this.hls.config.appendErrorMaxRetry} times to append segment in "${d}" sourceBuffer (${U||"no media error"})`),(Q>=this.hls.config.appendErrorMaxRetry||U)&&(M.fatal=!0)}this.hls.trigger(G.ERROR,M)}};this.append(B,d,this.isPending(this.tracks[d]))}getFlushOp(t,n,i){return this.log(`queuing "${t}" remove ${n}-${i}`),{label:"remove",execute:()=>{this.removeExecutor(t,n,i)},onStart:()=>{},onComplete:()=>{this.hls.trigger(G.BUFFER_FLUSHED,{type:t})},onError:l=>{this.warn(`Failed to remove ${n}-${i} from "${t}" SourceBuffer`,l)}}}onBufferFlushing(t,n){const{type:i,startOffset:l,endOffset:d}=n;i?this.append(this.getFlushOp(i,l,d),i):this.sourceBuffers.forEach(([s])=>{s&&this.append(this.getFlushOp(s,l,d),s)})}onFragParsed(t,n){const{frag:i,part:l}=n,d=[],s=l?l.elementaryStreams:i.elementaryStreams;s[Cr.AUDIOVIDEO]?d.push("audiovideo"):(s[Cr.AUDIO]&&d.push("audio"),s[Cr.VIDEO]&&d.push("video"));const c=()=>{const e=self.performance.now();i.stats.buffering.end=e,l&&(l.stats.buffering.end=e);const o=l?l.stats:i.stats;this.hls.trigger(G.FRAG_BUFFERED,{frag:i,part:l,stats:o,id:i.type})};d.length===0&&this.warn(`Fragments must have at least one ElementaryStreamType set. type: ${i.type} level: ${i.level} sn: ${i.sn}`),this.blockBuffers(c,d).catch(e=>{this.warn(`Fragment buffered callback ${e}`),this.stepOperationQueue(this.sourceBufferTypes)})}onFragChanged(t,n){this.trimBuffers()}get bufferedToEnd(){return this.sourceBufferCount>0&&!this.sourceBuffers.some(([t])=>{if(t){const n=this.tracks[t];if(n)return!n.ended||n.ending}return!1})}onBufferEos(t,n){var i;this.sourceBuffers.forEach(([s])=>{if(s){const c=this.tracks[s];(!n.type||n.type===s)&&(c.ending=!0,c.ended||(c.ended=!0,this.log(`${s} buffer reached EOS`)))}});const l=((i=this.overrides)==null?void 0:i.endOfStream)!==!1;this.sourceBufferCount>0&&!this.sourceBuffers.some(([s])=>{var c;return s&&!((c=this.tracks[s])!=null&&c.ended)})?l?(this.log("Queueing EOS"),this.blockUntilOpen(()=>{this.tracksEnded();const{mediaSource:s}=this;if(!s||s.readyState!=="open"){s&&this.log(`Could not call mediaSource.endOfStream(). mediaSource.readyState: ${s.readyState}`);return}this.log("Calling mediaSource.endOfStream()"),s.endOfStream(),this.hls.trigger(G.BUFFERED_TO_END,void 0)})):(this.tracksEnded(),this.hls.trigger(G.BUFFERED_TO_END,void 0)):n.type==="video"&&this.unblockAudio()}tracksEnded(){this.sourceBuffers.forEach(([t])=>{if(t!==null){const n=this.tracks[t];n&&(n.ending=!1)}})}onLevelUpdated(t,{details:n}){n.fragments.length&&(this.details=n,this.updateDuration())}updateDuration(){this.blockUntilOpen(()=>{const t=this.getDurationAndRange();t&&this.updateMediaSource(t)})}onError(t,n){if(n.details===_t.BUFFER_APPEND_ERROR&&n.frag){var i;const l=(i=n.errorAction)==null?void 0:i.nextAutoLevel;je(l)&&l!==n.frag.level&&this.resetAppendErrors()}}resetAppendErrors(){this.appendErrors={audio:0,video:0,audiovideo:0}}trimBuffers(){const{hls:t,details:n,media:i}=this;if(!i||n===null||!this.sourceBufferCount)return;const l=t.config,d=i.currentTime,s=n.levelTargetDuration,c=n.live&&l.liveBackBufferLength!==null?l.liveBackBufferLength:l.backBufferLength;if(je(c)&&c>=0){const o=Math.max(c,s),u=Math.floor(d/s)*s-o;this.flushBackBuffer(d,s,u)}const e=l.frontBufferFlushThreshold;if(je(e)&&e>0){const o=Math.max(l.maxBufferLength,e),u=Math.max(o,s),f=Math.floor(d/s)*s+u;this.flushFrontBuffer(d,s,f)}}flushBackBuffer(t,n,i){this.sourceBuffers.forEach(([l,d])=>{if(d){const c=Pn.getBuffered(d);if(c.length>0&&i>c.start(0)){var s;this.hls.trigger(G.BACK_BUFFER_REACHED,{bufferEnd:i});const e=this.tracks[l];if((s=this.details)!=null&&s.live)this.hls.trigger(G.LIVE_BACK_BUFFER_REACHED,{bufferEnd:i});else if(e!=null&&e.ended){this.log(`Cannot flush ${l} back buffer while SourceBuffer is in ended state`);return}this.hls.trigger(G.BUFFER_FLUSHING,{startOffset:0,endOffset:i,type:l})}}})}flushFrontBuffer(t,n,i){this.sourceBuffers.forEach(([l,d])=>{if(d){const s=Pn.getBuffered(d),c=s.length;if(c<2)return;const e=s.start(c-1),o=s.end(c-1);if(i>e||t>=e&&t<=o)return;this.hls.trigger(G.BUFFER_FLUSHING,{startOffset:e,endOffset:1/0,type:l})}})}getDurationAndRange(){var t;const{details:n,mediaSource:i}=this;if(!n||!this.media||i?.readyState!=="open")return null;const l=n.edge;if(n.live&&this.hls.config.liveDurationInfinity){if(n.fragments.length&&i.setLiveSeekableRange){const o=Math.max(0,n.fragmentStart),u=Math.max(o,l);return{duration:1/0,start:o,end:u}}return{duration:1/0}}const d=(t=this.overrides)==null?void 0:t.duration;if(d)return je(d)?{duration:d}:null;const s=this.media.duration,c=je(i.duration)?i.duration:0;return l>c&&l>s||!je(s)?{duration:l}:null}updateMediaSource({duration:t,start:n,end:i}){const l=this.mediaSource;!this.media||!l||l.readyState!=="open"||(l.duration!==t&&(je(t)&&this.log(`Updating MediaSource duration to ${t.toFixed(3)}`),l.duration=t),n!==void 0&&i!==void 0&&(this.log(`MediaSource duration is set to ${l.duration}. Setting seekable range to ${n}-${i}.`),l.setLiveSeekableRange(n,i)))}get tracksReady(){const t=this.pendingTrackCount;return t>0&&(t>=this.bufferCodecEventsTotal||this.isPending(this.tracks.audiovideo))}checkPendingTracks(){const{bufferCodecEventsTotal:t,pendingTrackCount:n,tracks:i}=this;if(this.log(`checkPendingTracks (pending: ${n} codec events expected: ${t}) ${Lr(i)}`),this.tracksReady){var l;const d=(l=this.transferData)==null?void 0:l.tracks;d&&Object.keys(d).length?this.attachTransferred():this.createSourceBuffers()}}bufferCreated(){if(this.sourceBufferCount){const t={};this.sourceBuffers.forEach(([n,i])=>{if(n){const l=this.tracks[n];t[n]={buffer:i,container:l.container,codec:l.codec,supplemental:l.supplemental,levelCodec:l.levelCodec,id:l.id,metadata:l.metadata}}}),this.hls.trigger(G.BUFFER_CREATED,{tracks:t}),this.log(`SourceBuffers created. Running queue: ${this.operationQueue}`),this.sourceBuffers.forEach(([n])=>{this.executeNext(n)})}else{const t=new Error("could not create source buffer for media codec(s)");this.hls.trigger(G.ERROR,{type:rn.MEDIA_ERROR,details:_t.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:t,reason:t.message})}}createSourceBuffers(){const{tracks:t,sourceBuffers:n,mediaSource:i}=this;if(!i)throw new Error("createSourceBuffers called when mediaSource was null");for(const d in t){const s=d,c=t[s];if(this.isPending(c)){const e=this.getTrackCodec(c,s),o=`${c.container};codecs=${e}`;c.codec=e,this.log(`creating sourceBuffer(${o})${this.currentOp(s)?" Queued":""} ${Lr(c)}`);try{const u=i.addSourceBuffer(o),f=Xd(s),A=[s,u];n[f]=A,c.buffer=u}catch(u){var l;this.error(`error while trying to add sourceBuffer: ${u.message}`),this.shiftAndExecuteNext(s),(l=this.operationQueue)==null||l.removeBlockers(),delete this.tracks[s],this.hls.trigger(G.ERROR,{type:rn.MEDIA_ERROR,details:_t.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:u,sourceBufferName:s,mimeType:o,parent:c.id});return}this.trackSourceBuffer(s,c)}}this.bufferCreated()}getTrackCodec(t,n){const i=t.supplemental;let l=t.codec;i&&(n==="video"||n==="audiovideo")&&fh(i,"video")&&(l=Qb(l,i));const d=wc(l,t.levelCodec);return d?n.slice(0,5)==="audio"?Nc(d,this.appendSource):d:""}trackSourceBuffer(t,n){const i=n.buffer;if(!i)return;const l=this.getTrackCodec(n,t);this.tracks[t]={buffer:i,codec:l,container:n.container,levelCodec:n.levelCodec,supplemental:n.supplemental,metadata:n.metadata,id:n.id,listeners:[]},this.removeBufferListeners(t),this.addBufferListener(t,"updatestart",this.onSBUpdateStart),this.addBufferListener(t,"updateend",this.onSBUpdateEnd),this.addBufferListener(t,"error",this.onSBUpdateError),this.appendSource&&this.addBufferListener(t,"bufferedchange",(d,s)=>{const c=s.removedRanges;c!=null&&c.length&&this.hls.trigger(G.BUFFER_FLUSHED,{type:d})})}get mediaSrc(){var t,n;const i=((t=this.media)==null||(n=t.querySelector)==null?void 0:n.call(t,"source"))||this.media;return i?.src}onSBUpdateStart(t){const n=this.currentOp(t);n&&n.onStart()}onSBUpdateEnd(t){var n;if(((n=this.mediaSource)==null?void 0:n.readyState)==="closed"){this.resetBuffer(t);return}const i=this.currentOp(t);i&&(i.onComplete(),this.shiftAndExecuteNext(t))}onSBUpdateError(t,n){var i;const l=new Error(`${t} SourceBuffer error. MediaSource readyState: ${(i=this.mediaSource)==null?void 0:i.readyState}`);this.error(`${l}`,n),this.hls.trigger(G.ERROR,{type:rn.MEDIA_ERROR,details:_t.BUFFER_APPENDING_ERROR,sourceBufferName:t,error:l,fatal:!1});const d=this.currentOp(t);d&&d.onError(l)}updateTimestampOffset(t,n,i,l,d,s){const c=n-t.timestampOffset;Math.abs(c)>=i&&(this.log(`Updating ${l} SourceBuffer timestampOffset to ${n} (sn: ${d} cc: ${s})`),t.timestampOffset=n)}removeExecutor(t,n,i){const{media:l,mediaSource:d}=this,s=this.tracks[t],c=s?.buffer;if(!l||!d||!c){this.warn(`Attempting to remove from the ${t} SourceBuffer, but it does not exist`),this.shiftAndExecuteNext(t);return}const e=je(l.duration)?l.duration:1/0,o=je(d.duration)?d.duration:1/0,u=Math.max(0,n),f=Math.min(i,e,o);f>u&&(!s.ending||s.ended)?(s.ended=!1,this.log(`Removing [${u},${f}] from the ${t} SourceBuffer`),c.remove(u,f)):this.shiftAndExecuteNext(t)}appendExecutor(t,n){const i=this.tracks[n],l=i?.buffer;if(!l)throw new ZC(`Attempting to append to the ${n} SourceBuffer, but it does not exist`);i.ending=!1,i.ended=!1,l.appendBuffer(t)}blockUntilOpen(t){if(this.isUpdating()||this.isQueued())this.blockBuffers(t).catch(n=>{this.warn(`SourceBuffer blocked callback ${n}`),this.stepOperationQueue(this.sourceBufferTypes)});else try{t()}catch(n){this.warn(`Callback run without blocking ${this.operationQueue} ${n}`)}}isUpdating(){return this.sourceBuffers.some(([t,n])=>t&&n.updating)}isQueued(){return this.sourceBuffers.some(([t])=>t&&!!this.currentOp(t))}isPending(t){return!!t&&!t.buffer}blockBuffers(t,n=this.sourceBufferTypes){if(!n.length)return this.log("Blocking operation requested, but no SourceBuffers exist"),Promise.resolve().then(t);const{operationQueue:i}=this,l=n.map(s=>this.appendBlocker(s));return n.length>1&&!!this.blockedAudioAppend&&this.unblockAudio(),Promise.all(l).then(s=>{i===this.operationQueue&&(t(),this.stepOperationQueue(this.sourceBufferTypes))})}stepOperationQueue(t){t.forEach(n=>{var i;const l=(i=this.tracks[n])==null?void 0:i.buffer;!l||l.updating||this.shiftAndExecuteNext(n)})}append(t,n,i){this.operationQueue&&this.operationQueue.append(t,n,i)}appendBlocker(t){if(this.operationQueue)return this.operationQueue.appendBlocker(t)}currentOp(t){return this.operationQueue?this.operationQueue.current(t):null}executeNext(t){t&&this.operationQueue&&this.operationQueue.executeNext(t)}shiftAndExecuteNext(t){this.operationQueue&&this.operationQueue.shiftAndExecuteNext(t)}get pendingTrackCount(){return Object.keys(this.tracks).reduce((t,n)=>t+(this.isPending(this.tracks[n])?1:0),0)}get sourceBufferCount(){return this.sourceBuffers.reduce((t,[n])=>t+(n?1:0),0)}get sourceBufferTypes(){return this.sourceBuffers.map(([t])=>t).filter(t=>!!t)}addBufferListener(t,n,i){const l=this.tracks[t];if(!l)return;const d=l.buffer;if(!d)return;const s=i.bind(this,t);l.listeners.push({event:n,listener:s}),d.addEventListener(n,s)}removeBufferListeners(t){const n=this.tracks[t];if(!n)return;const i=n.buffer;i&&(n.listeners.forEach(l=>{i.removeEventListener(l.event,l.listener)}),n.listeners.length=0)}}function W0(g){const t=g.querySelectorAll("source");[].slice.call(t).forEach(n=>{g.removeChild(n)})}function tS(g,t){const n=self.document.createElement("source");n.type="video/mp4",n.src=t,g.appendChild(n)}function Xd(g){return g==="audio"?1:0}class Wh{constructor(t){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=t,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}setStreamController(t){this.streamController=t}destroy(){this.hls&&this.unregisterListener(),this.timer&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}registerListeners(){const{hls:t}=this;t.on(G.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),t.on(G.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(G.MANIFEST_PARSED,this.onManifestParsed,this),t.on(G.LEVELS_UPDATED,this.onLevelsUpdated,this),t.on(G.BUFFER_CODECS,this.onBufferCodecs,this),t.on(G.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListener(){const{hls:t}=this;t.off(G.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),t.off(G.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(G.MANIFEST_PARSED,this.onManifestParsed,this),t.off(G.LEVELS_UPDATED,this.onLevelsUpdated,this),t.off(G.BUFFER_CODECS,this.onBufferCodecs,this),t.off(G.MEDIA_DETACHING,this.onMediaDetaching,this)}onFpsDropLevelCapping(t,n){const i=this.hls.levels[n.droppedLevel];this.isLevelAllowed(i)&&this.restrictedLevels.push({bitrate:i.bitrate,height:i.height,width:i.width})}onMediaAttaching(t,n){this.media=n.media instanceof HTMLVideoElement?n.media:null,this.clientRect=null,this.timer&&this.hls.levels.length&&this.detectPlayerSize()}onManifestParsed(t,n){const i=this.hls;this.restrictedLevels=[],this.firstLevel=n.firstLevel,i.config.capLevelToPlayerSize&&n.video&&this.startCapping()}onLevelsUpdated(t,n){this.timer&&je(this.autoLevelCapping)&&this.detectPlayerSize()}onBufferCodecs(t,n){this.hls.config.capLevelToPlayerSize&&n.video&&this.startCapping()}onMediaDetaching(){this.stopCapping(),this.media=null}detectPlayerSize(){if(this.media){if(this.mediaHeight<=0||this.mediaWidth<=0){this.clientRect=null;return}const t=this.hls.levels;if(t.length){const n=this.hls,i=this.getMaxLevel(t.length-1);i!==this.autoLevelCapping&&n.logger.log(`Setting autoLevelCapping to ${i}: ${t[i].height}p@${t[i].bitrate} for media ${this.mediaWidth}x${this.mediaHeight}`),n.autoLevelCapping=i,n.autoLevelEnabled&&n.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=n.autoLevelCapping}}}getMaxLevel(t){const n=this.hls.levels;if(!n.length)return-1;const i=n.filter((l,d)=>this.isLevelAllowed(l)&&d<=t);return this.clientRect=null,Wh.getMaxLevelByMediaSize(i,this.mediaWidth,this.mediaHeight)}startCapping(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}stopCapping(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}getDimensions(){if(this.clientRect)return this.clientRect;const t=this.media,n={width:0,height:0};if(t){const i=t.getBoundingClientRect();n.width=i.width,n.height=i.height,!n.width&&!n.height&&(n.width=i.right-i.left||t.width||0,n.height=i.bottom-i.top||t.height||0)}return this.clientRect=n,n}get mediaWidth(){return this.getDimensions().width*this.contentScaleFactor}get mediaHeight(){return this.getDimensions().height*this.contentScaleFactor}get contentScaleFactor(){let t=1;if(!this.hls.config.ignoreDevicePixelRatio)try{t=self.devicePixelRatio}catch{}return Math.min(t,this.hls.config.maxDevicePixelRatio)}isLevelAllowed(t){return!this.restrictedLevels.some(i=>t.bitrate===i.bitrate&&t.width===i.width&&t.height===i.height)}static getMaxLevelByMediaSize(t,n,i){if(!(t!=null&&t.length))return-1;const l=(c,e)=>e?c.width!==e.width||c.height!==e.height:!0;let d=t.length-1;const s=Math.max(n,i);for(let c=0;c<t.length;c+=1){const e=t[c];if((e.width>=s||e.height>=s)&&l(e,t[c+1])){d=c;break}}return d}}const eS={MANIFEST:"m",AUDIO:"a",VIDEO:"v",MUXED:"av",INIT:"i",CAPTION:"c",TIMED_TEXT:"tt",KEY:"k",OTHER:"o"},Mi=eS,nS={HLS:"h"},rS=nS;class Ns{constructor(t,n){Array.isArray(t)&&(t=t.map(i=>i instanceof Ns?i:new Ns(i))),this.value=t,this.params=n}}const iS="Dict";function sS(g){return Array.isArray(g)?JSON.stringify(g):g instanceof Map?"Map{}":g instanceof Set?"Set{}":typeof g=="object"?JSON.stringify(g):String(g)}function aS(g,t,n,i){return new Error(`failed to ${g} "${sS(t)}" as ${n}`,{cause:i})}function Us(g,t,n){return aS("serialize",g,t,n)}class Cv{constructor(t){this.description=t}}const q0="Bare Item",oS="Boolean";function lS(g){if(typeof g!="boolean")throw Us(g,oS);return g?"?1":"?0"}function uS(g){return btoa(String.fromCharCode(...g))}const cS="Byte Sequence";function fS(g){if(ArrayBuffer.isView(g)===!1)throw Us(g,cS);return`:${uS(g)}:`}const dS="Integer";function hS(g){return g<-999999999999999||999999999999999<g}function Sv(g){if(hS(g))throw Us(g,dS);return g.toString()}function AS(g){return`@${Sv(g.getTime()/1e3)}`}function xv(g,t){if(g<0)return-xv(-g,t);const n=Math.pow(10,t);if(Math.abs(g*n%1-.5)<Number.EPSILON){const l=Math.floor(g*n);return(l%2===0?l:l+1)/n}else return Math.round(g*n)/n}const gS="Decimal";function pS(g){const t=xv(g,3);if(Math.floor(Math.abs(t)).toString().length>12)throw Us(g,gS);const n=t.toString();return n.includes(".")?n:`${n}.0`}const mS="String",vS=/[\x00-\x1f\x7f]+/;function yS(g){if(vS.test(g))throw Us(g,mS);return`"${g.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`}function bS(g){return g.description||g.toString().slice(7,-1)}const ES="Token";function X0(g){const t=bS(g);if(/^([a-zA-Z*])([!#$%&'*+\-.^_`|~\w:/]*)$/.test(t)===!1)throw Us(t,ES);return t}function Ch(g){switch(typeof g){case"number":if(!je(g))throw Us(g,q0);return Number.isInteger(g)?Sv(g):pS(g);case"string":return yS(g);case"symbol":return X0(g);case"boolean":return lS(g);case"object":if(g instanceof Date)return AS(g);if(g instanceof Uint8Array)return fS(g);if(g instanceof Cv)return X0(g);default:throw Us(g,q0)}}const CS="Key";function Sh(g){if(/^[a-z*][a-z0-9\-_.*]*$/.test(g)===!1)throw Us(g,CS);return g}function qh(g){return g==null?"":Object.entries(g).map(([t,n])=>n===!0?`;${Sh(t)}`:`;${Sh(t)}=${Ch(n)}`).join("")}function Tv(g){return g instanceof Ns?`${Ch(g.value)}${qh(g.params)}`:Ch(g)}function SS(g){return`(${g.value.map(Tv).join(" ")})${qh(g.params)}`}function xS(g,t={whitespace:!0}){if(typeof g!="object"||g==null)throw Us(g,iS);const n=g instanceof Map?g.entries():Object.entries(g),i=t?.whitespace?" ":"";return Array.from(n).map(([l,d])=>{d instanceof Ns||(d=new Ns(d));let s=Sh(l);return d.value===!0?s+=qh(d.params):(s+="=",Array.isArray(d.value)?s+=SS(d):s+=Tv(d)),s}).join(`,${i}`)}function wv(g,t){return xS(g,t)}const Bs="CMCD-Object",Fr="CMCD-Request",po="CMCD-Session",Ua="CMCD-Status",TS={br:Bs,ab:Bs,d:Bs,ot:Bs,tb:Bs,tpb:Bs,lb:Bs,tab:Bs,lab:Bs,url:Bs,pb:Fr,bl:Fr,tbl:Fr,dl:Fr,ltc:Fr,mtp:Fr,nor:Fr,nrr:Fr,rc:Fr,sn:Fr,sta:Fr,su:Fr,ttfb:Fr,ttfbb:Fr,ttlb:Fr,cmsdd:Fr,cmsds:Fr,smrt:Fr,df:Fr,cs:Fr,ts:Fr,cid:po,pr:po,sf:po,sid:po,st:po,v:po,msd:po,bs:Ua,bsd:Ua,cdn:Ua,rtp:Ua,bg:Ua,pt:Ua,ec:Ua,e:Ua},wS={REQUEST:Fr};function LS(g){return Object.keys(g).reduce((t,n)=>{var i;return(i=g[n])===null||i===void 0||i.forEach(l=>t[l]=n),t},{})}function RS(g,t){const n={};if(!g)return n;const i=Object.keys(g),l=t?LS(t):{};return i.reduce((d,s)=>{var c;const e=TS[s]||l[s]||wS.REQUEST,o=(c=d[e])!==null&&c!==void 0?c:d[e]={};return o[s]=g[s],d},n)}function IS(g){return["ot","sf","st","e","sta"].includes(g)}function DS(g){return typeof g=="number"?je(g):g!=null&&g!==""&&g!==!1}const Lv="event";function kS(g,t){const n=new URL(g),i=new URL(t);if(n.origin!==i.origin)return g;const l=n.pathname.split("/").slice(1),d=i.pathname.split("/").slice(1,-1);for(;l[0]===d[0];)l.shift(),d.shift();for(;d.length;)d.shift(),l.unshift("..");return l.join("/")+n.search+n.hash}const kc=g=>Math.round(g),xh=(g,t)=>Array.isArray(g)?g.map(n=>xh(n,t)):g instanceof Ns&&typeof g.value=="string"?new Ns(xh(g.value,t),g.params):(t.baseUrl&&(g=kS(g,t.baseUrl)),t.version===1?encodeURIComponent(g):g),yc=g=>kc(g/100)*100,BS=(g,t)=>{let n=g;return t.version>=2&&(g instanceof Ns&&typeof g.value=="string"?n=new Ns([g]):typeof g=="string"&&(n=[g])),xh(n,t)},OS={br:kc,d:kc,bl:yc,dl:yc,mtp:yc,nor:BS,rtp:yc,tb:kc},Rv="request",Iv="response",Xh=["ab","bg","bl","br","bs","bsd","cdn","cid","cs","df","ec","lab","lb","ltc","msd","mtp","pb","pr","pt","sf","sid","sn","st","sta","tab","tb","tbl","tpb","ts","v"],_S=["e"],MS=/^[a-zA-Z0-9-.]+-[a-zA-Z0-9-.]+$/;function Wc(g){return MS.test(g)}function PS(g){return Xh.includes(g)||_S.includes(g)||Wc(g)}const Dv=["d","dl","nor","ot","rtp","su"];function NS(g){return Xh.includes(g)||Dv.includes(g)||Wc(g)}const US=["cmsdd","cmsds","rc","smrt","ttfb","ttfbb","ttlb","url"];function FS(g){return Xh.includes(g)||Dv.includes(g)||US.includes(g)||Wc(g)}const GS=["bl","br","bs","cid","d","dl","mtp","nor","nrr","ot","pr","rtp","sf","sid","st","su","tb","v"];function QS(g){return GS.includes(g)||Wc(g)}const jS={[Iv]:FS,[Lv]:PS,[Rv]:NS};function kv(g,t={}){const n={};if(g==null||typeof g!="object")return n;const i=t.version||g.v||1,l=t.reportingMode||Rv,d=i===1?QS:jS[l];let s=Object.keys(g).filter(d);const c=t.filter;typeof c=="function"&&(s=s.filter(c));const e=l===Iv||l===Lv;e&&!s.includes("ts")&&s.push("ts"),i>1&&!s.includes("v")&&s.push("v");const o=yr({},OS,t.formatters),u={version:i,reportingMode:l,baseUrl:t.baseUrl};return s.sort().forEach(f=>{let A=g[f];const p=o[f];if(typeof p=="function"&&(A=p(A,u)),f==="v"){if(i===1)return;A=i}f=="pr"&&A===1||(e&&f==="ts"&&!je(A)&&(A=Date.now()),DS(A)&&(IS(f)&&typeof A=="string"&&(A=new Cv(A)),n[f]=A))}),n}function zS(g,t={}){const n={};if(!g)return n;const i=kv(g,t),l=RS(i,t?.customHeaderMap);return Object.entries(l).reduce((d,[s,c])=>{const e=wv(c,{whitespace:!1});return e&&(d[s]=e),d},n)}function HS(g,t,n){return yr(g,zS(t,n))}const YS="CMCD";function $S(g,t={}){return g?wv(kv(g,t),{whitespace:!1}):""}function VS(g,t={}){if(!g)return"";const n=$S(g,t);return encodeURIComponent(n)}function KS(g,t={}){if(!g)return"";const n=VS(g,t);return`${YS}=${n}`}const Z0=/CMCD=[^&#]+/;function WS(g,t,n){const i=KS(t,n);if(!i)return g;if(Z0.test(g))return g.replace(Z0,i);const l=g.includes("?")?"&":"?";return`${g}${l}${i}`}class qS{constructor(t){this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.includeKeys=void 0,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=()=>{this.initialized&&(this.starved=!0),this.buffering=!0},this.onPlaying=()=>{this.initialized||(this.initialized=!0),this.buffering=!1},this.applyPlaylistData=l=>{try{this.apply(l,{ot:Mi.MANIFEST,su:!this.initialized})}catch(d){this.hls.logger.warn("Could not generate manifest CMCD data.",d)}},this.applyFragmentData=l=>{try{const{frag:d,part:s}=l,c=this.hls.levels[d.level],e=this.getObjectType(d),o={d:(s||d).duration*1e3,ot:e};(e===Mi.VIDEO||e===Mi.AUDIO||e==Mi.MUXED)&&(o.br=c.bitrate/1e3,o.tb=this.getTopBandwidth(e)/1e3,o.bl=this.getBufferLength(e));const u=s?this.getNextPart(s):this.getNextFrag(d);u!=null&&u.url&&u.url!==d.url&&(o.nor=u.url),this.apply(l,o)}catch(d){this.hls.logger.warn("Could not generate segment CMCD data.",d)}},this.hls=t;const n=this.config=t.config,{cmcd:i}=n;i!=null&&(n.pLoader=this.createPlaylistLoader(),n.fLoader=this.createFragmentLoader(),this.sid=i.sessionId||t.sessionId,this.cid=i.contentId,this.useHeaders=i.useHeaders===!0,this.includeKeys=i.includeKeys,this.registerListeners())}registerListeners(){const t=this.hls;t.on(G.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(G.MEDIA_DETACHED,this.onMediaDetached,this),t.on(G.BUFFER_CREATED,this.onBufferCreated,this)}unregisterListeners(){const t=this.hls;t.off(G.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(G.MEDIA_DETACHED,this.onMediaDetached,this),t.off(G.BUFFER_CREATED,this.onBufferCreated,this)}destroy(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null,this.onWaiting=this.onPlaying=this.media=null}onMediaAttached(t,n){this.media=n.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}onMediaDetached(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}onBufferCreated(t,n){var i,l;this.audioBuffer=(i=n.tracks.audio)==null?void 0:i.buffer,this.videoBuffer=(l=n.tracks.video)==null?void 0:l.buffer}createData(){var t;return{v:1,sf:rS.HLS,sid:this.sid,cid:this.cid,pr:(t=this.media)==null?void 0:t.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}apply(t,n={}){yr(n,this.createData());const i=n.ot===Mi.INIT||n.ot===Mi.VIDEO||n.ot===Mi.MUXED;this.starved&&i&&(n.bs=!0,n.su=!0,this.starved=!1),n.su==null&&(n.su=this.buffering);const{includeKeys:l}=this;l&&(n=Object.keys(n).reduce((s,c)=>(l.includes(c)&&(s[c]=n[c]),s),{}));const d={baseUrl:t.url};this.useHeaders?(t.headers||(t.headers={}),HS(t.headers,n,d)):t.url=WS(t.url,n,d)}getNextFrag(t){var n;const i=(n=this.hls.levels[t.level])==null?void 0:n.details;if(i){const l=t.sn-i.startSN;return i.fragments[l+1]}}getNextPart(t){var n;const{index:i,fragment:l}=t,d=(n=this.hls.levels[l.level])==null||(n=n.details)==null?void 0:n.partList;if(d){const{sn:s}=l;for(let c=d.length-1;c>=0;c--){const e=d[c];if(e.index===i&&e.fragment.sn===s)return d[c+1]}}}getObjectType(t){const{type:n}=t;if(n==="subtitle")return Mi.TIMED_TEXT;if(t.sn==="initSegment")return Mi.INIT;if(n==="audio")return Mi.AUDIO;if(n==="main")return this.hls.audioTracks.length?Mi.VIDEO:Mi.MUXED}getTopBandwidth(t){let n=0,i;const l=this.hls;if(t===Mi.AUDIO)i=l.audioTracks;else{const d=l.maxAutoLevel,s=d>-1?d+1:l.levels.length;i=l.levels.slice(0,s)}return i.forEach(d=>{d.bitrate>n&&(n=d.bitrate)}),n>0?n:NaN}getBufferLength(t){const n=this.media,i=t===Mi.AUDIO?this.audioBuffer:this.videoBuffer;return!i||!n?NaN:Pn.bufferInfo(i,n.currentTime,this.config.maxBufferHole).len*1e3}createPlaylistLoader(){const{pLoader:t}=this.config,n=this.applyPlaylistData,i=t||this.config.loader;return class{constructor(d){this.loader=void 0,this.loader=new i(d)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(d,s,c){n(d),this.loader.load(d,s,c)}}}createFragmentLoader(){const{fLoader:t}=this.config,n=this.applyFragmentData,i=t||this.config.loader;return class{constructor(d){this.loader=void 0,this.loader=new i(d)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(d,s,c){n(d),this.loader.load(d,s,c)}}}}const XS=3e5;class ZS extends as{constructor(t){super("content-steering",t.logger),this.hls=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this._pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=t,this.registerListeners()}registerListeners(){const t=this.hls;t.on(G.MANIFEST_LOADING,this.onManifestLoading,this),t.on(G.MANIFEST_LOADED,this.onManifestLoaded,this),t.on(G.MANIFEST_PARSED,this.onManifestParsed,this),t.on(G.ERROR,this.onError,this)}unregisterListeners(){const t=this.hls;t&&(t.off(G.MANIFEST_LOADING,this.onManifestLoading,this),t.off(G.MANIFEST_LOADED,this.onManifestLoaded,this),t.off(G.MANIFEST_PARSED,this.onManifestParsed,this),t.off(G.ERROR,this.onError,this))}pathways(){return(this.levels||[]).reduce((t,n)=>(t.indexOf(n.pathwayId)===-1&&t.push(n.pathwayId),t),[])}get pathwayPriority(){return this._pathwayPriority}set pathwayPriority(t){this.updatePathwayPriority(t)}startLoad(){if(this.started=!0,this.clearTimeout(),this.enabled&&this.uri){if(this.updated){const t=this.timeToLoad*1e3-(performance.now()-this.updated);if(t>0){this.scheduleRefresh(this.uri,t);return}}this.loadSteeringManifest(this.uri)}}stopLoad(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),this.clearTimeout()}clearTimeout(){this.reloadTimer!==-1&&(self.clearTimeout(this.reloadTimer),this.reloadTimer=-1)}destroy(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}removeLevel(t){const n=this.levels;n&&(this.levels=n.filter(i=>i!==t))}onManifestLoading(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}onManifestLoaded(t,n){const{contentSteering:i}=n;i!==null&&(this.pathwayId=i.pathwayId,this.uri=i.uri,this.started&&this.startLoad())}onManifestParsed(t,n){this.audioTracks=n.audioTracks,this.subtitleTracks=n.subtitleTracks}onError(t,n){const{errorAction:i}=n;if(i?.action===Ai.SendAlternateToPenaltyBox&&i.flags===Ki.MoveAllAlternatesMatchingHost){const l=this.levels;let d=this._pathwayPriority,s=this.pathwayId;if(n.context){const{groupId:c,pathwayId:e,type:o}=n.context;c&&l?s=this.getPathwayForGroupId(c,o,s):e&&(s=e)}s in this.penalizedPathways||(this.penalizedPathways[s]=performance.now()),!d&&l&&(d=this.pathways()),d&&d.length>1&&(this.updatePathwayPriority(d),i.resolved=this.pathwayId!==s),n.details===_t.BUFFER_APPEND_ERROR&&!n.fatal?i.resolved=!0:i.resolved||this.warn(`Could not resolve ${n.details} ("${n.error.message}") with content-steering for Pathway: ${s} levels: ${l&&l.length} priorities: ${Lr(d)} penalized: ${Lr(this.penalizedPathways)}`)}}filterParsedLevels(t){this.levels=t;let n=this.getLevelsForPathway(this.pathwayId);if(n.length===0){const i=t[0].pathwayId;this.log(`No levels found in Pathway ${this.pathwayId}. Setting initial Pathway to "${i}"`),n=this.getLevelsForPathway(i),this.pathwayId=i}return n.length!==t.length&&this.log(`Found ${n.length}/${t.length} levels in Pathway "${this.pathwayId}"`),n}getLevelsForPathway(t){return this.levels===null?[]:this.levels.filter(n=>t===n.pathwayId)}updatePathwayPriority(t){this._pathwayPriority=t;let n;const i=this.penalizedPathways,l=performance.now();Object.keys(i).forEach(d=>{l-i[d]>XS&&delete i[d]});for(let d=0;d<t.length;d++){const s=t[d];if(s in i)continue;if(s===this.pathwayId)return;const c=this.hls.nextLoadLevel,e=this.hls.levels[c];if(n=this.getLevelsForPathway(s),n.length>0){this.log(`Setting Pathway to "${s}"`),this.pathwayId=s,Xm(n),this.hls.trigger(G.LEVELS_UPDATED,{levels:n});const o=this.hls.levels[c];e&&o&&this.levels&&(o.attrs["STABLE-VARIANT-ID"]!==e.attrs["STABLE-VARIANT-ID"]&&o.bitrate!==e.bitrate&&this.log(`Unstable Pathways change from bitrate ${e.bitrate} to ${o.bitrate}`),this.hls.nextLoadLevel=c);break}}}getPathwayForGroupId(t,n,i){const l=this.getLevelsForPathway(i).concat(this.levels||[]);for(let d=0;d<l.length;d++)if(n===Kn.AUDIO_TRACK&&l[d].hasAudioGroup(t)||n===Kn.SUBTITLE_TRACK&&l[d].hasSubtitleGroup(t))return l[d].pathwayId;return i}clonePathways(t){const n=this.levels;if(!n)return;const i={},l={};t.forEach(d=>{const{ID:s,"BASE-ID":c,"URI-REPLACEMENT":e}=d;if(n.some(u=>u.pathwayId===s))return;const o=this.getLevelsForPathway(c).map(u=>{const f=new Pr(u.attrs);f["PATHWAY-ID"]=s;const A=f.AUDIO&&`${f.AUDIO}_clone_${s}`,p=f.SUBTITLES&&`${f.SUBTITLES}_clone_${s}`;A&&(i[f.AUDIO]=A,f.AUDIO=A),p&&(l[f.SUBTITLES]=p,f.SUBTITLES=p);const m=Bv(u.uri,f["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",e),y=new nu({attrs:f,audioCodec:u.audioCodec,bitrate:u.bitrate,height:u.height,name:u.name,url:m,videoCodec:u.videoCodec,width:u.width});if(u.audioGroups)for(let b=1;b<u.audioGroups.length;b++)y.addGroupId("audio",`${u.audioGroups[b]}_clone_${s}`);if(u.subtitleGroups)for(let b=1;b<u.subtitleGroups.length;b++)y.addGroupId("text",`${u.subtitleGroups[b]}_clone_${s}`);return y});n.push(...o),J0(this.audioTracks,i,e,s),J0(this.subtitleTracks,l,e,s)})}loadSteeringManifest(t){const n=this.hls.config,i=n.loader;this.loader&&this.loader.destroy(),this.loader=new i(n);let l;try{l=new self.URL(t)}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest URI: ${t}`);return}if(l.protocol!=="data:"){const u=(this.hls.bandwidthEstimate||n.abrEwmaDefaultEstimate)|0;l.searchParams.set("_HLS_pathway",this.pathwayId),l.searchParams.set("_HLS_throughput",""+u)}const d={responseType:"json",url:l.href},s=n.steeringManifestLoadPolicy.default,c=s.errorRetry||s.timeoutRetry||{},e={loadPolicy:s,timeout:s.maxLoadTimeMs,maxRetry:c.maxNumRetry||0,retryDelay:c.retryDelayMs||0,maxRetryDelay:c.maxRetryDelayMs||0},o={onSuccess:(u,f,A,p)=>{this.log(`Loaded steering manifest: "${l}"`);const m=u.data;if(m?.VERSION!==1){this.log(`Steering VERSION ${m.VERSION} not supported!`);return}this.updated=performance.now(),this.timeToLoad=m.TTL;const{"RELOAD-URI":y,"PATHWAY-CLONES":b,"PATHWAY-PRIORITY":E}=m;if(y)try{this.uri=new self.URL(y,l).href}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest RELOAD-URI: ${y}`);return}this.scheduleRefresh(this.uri||A.url),b&&this.clonePathways(b);const S={steeringManifest:m,url:l.toString()};this.hls.trigger(G.STEERING_MANIFEST_LOADED,S),E&&this.updatePathwayPriority(E)},onError:(u,f,A,p)=>{if(this.log(`Error loading steering manifest: ${u.code} ${u.text} (${f.url})`),this.stopLoad(),u.code===410){this.enabled=!1,this.log(`Steering manifest ${f.url} no longer available`);return}let m=this.timeToLoad*1e3;if(u.code===429){const y=this.loader;if(typeof y?.getResponseHeader=="function"){const b=y.getResponseHeader("Retry-After");b&&(m=parseFloat(b)*1e3)}this.log(`Steering manifest ${f.url} rate limited`);return}this.scheduleRefresh(this.uri||f.url,m)},onTimeout:(u,f,A)=>{this.log(`Timeout loading steering manifest (${f.url})`),this.scheduleRefresh(this.uri||f.url)}};this.log(`Requesting steering manifest: ${l}`),this.loader.load(d,e,o)}scheduleRefresh(t,n=this.timeToLoad*1e3){this.clearTimeout(),this.reloadTimer=self.setTimeout(()=>{var i;const l=(i=this.hls)==null?void 0:i.media;if(l&&!l.ended){this.loadSteeringManifest(t);return}this.scheduleRefresh(t,this.timeToLoad*1e3)},n)}}function J0(g,t,n,i){g&&Object.keys(t).forEach(l=>{const d=g.filter(s=>s.groupId===l).map(s=>{const c=yr({},s);return c.details=void 0,c.attrs=new Pr(c.attrs),c.url=c.attrs.URI=Bv(s.url,s.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",n),c.groupId=c.attrs["GROUP-ID"]=t[l],c.attrs["PATHWAY-ID"]=i,c});g.push(...d)})}function Bv(g,t,n,i){const{HOST:l,PARAMS:d,[n]:s}=i;let c;t&&(c=s?.[t],c&&(g=c));const e=new self.URL(g);return l&&!c&&(e.host=l),d&&Object.keys(d).sort().forEach(o=>{o&&e.searchParams.set(o,d[o])}),e.href}class ll extends as{constructor(t){super("eme",t.logger),this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.mediaKeys=null,this.setMediaKeysQueue=ll.CDMCleanupPromise?[ll.CDMCleanupPromise]:[],this.bannedKeyIds={},this.onMediaEncrypted=n=>{const{initDataType:i,initData:l}=n,d=`"${n.type}" event: init data type: "${i}"`;if(this.debug(d),l!==null){if(!this.keyFormatPromise){let s=Object.keys(this.keySystemAccessPromises);s.length||(s=Xl(this.config));const c=s.map(zd).filter(e=>!!e);this.keyFormatPromise=this.getKeyFormatPromise(c)}this.keyFormatPromise.then(s=>{const c=Rc(s);if(i!=="sinf"||c!==Gr.FAIRPLAY){this.log(`Ignoring "${n.type}" event with init data type: "${i}" for selected key-system ${c}`);return}let e;try{const p=ei(new Uint8Array(l)),m=Fh(JSON.parse(p).sinf),y=Dm(m);if(!y)throw new Error("'schm' box missing or not cbcs/cenc with schi > tenc");e=new Uint8Array(y.subarray(8,24))}catch(p){this.warn(`${d} Failed to parse sinf: ${p}`);return}const o=Wi(e),{keyIdToKeySessionPromise:u,mediaKeySessions:f}=this;let A=u[o];for(let p=0;p<f.length;p++){const m=f[p],y=m.decryptdata;if(!y.keyId)continue;const b=Wi(y.keyId);if(o===b||y.uri.replace(/-/g,"").indexOf(o)!==-1){if(A=u[b],!A)continue;if(y.pssh)break;delete u[b],y.pssh=new Uint8Array(l),y.keyId=e,A=u[o]=A.then(()=>this.generateRequestWithPreferredKeySession(m,i,l,"encrypted-event-key-match")),A.catch(E=>this.handleError(E));break}}A||this.handleError(new Error(`Key ID ${o} not encountered in playlist. Key-system sessions ${f.length}.`))}).catch(s=>this.handleError(s))}},this.onWaitingForKey=n=>{this.log(`"${n.type}" event`)},this.hls=t,this.config=t.config,this.registerListeners()}destroy(){this.onDestroying(),this.onMediaDetached();const t=this.config;t.requestMediaKeySystemAccessFunc=null,t.licenseXhrSetup=t.licenseResponseCallback=void 0,t.drmSystems=t.drmSystemOptions={},this.hls=this.config=this.keyIdToKeySessionPromise=null,this.onMediaEncrypted=this.onWaitingForKey=null}registerListeners(){this.hls.on(G.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(G.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(G.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(G.MANIFEST_LOADED,this.onManifestLoaded,this),this.hls.on(G.DESTROYING,this.onDestroying,this)}unregisterListeners(){this.hls.off(G.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(G.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(G.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(G.MANIFEST_LOADED,this.onManifestLoaded,this),this.hls.off(G.DESTROYING,this.onDestroying,this)}getLicenseServerUrl(t){const{drmSystems:n,widevineLicenseUrl:i}=this.config,l=n?.[t];if(l)return l.licenseUrl;if(t===Gr.WIDEVINE&&i)return i}getLicenseServerUrlOrThrow(t){const n=this.getLicenseServerUrl(t);if(n===void 0)throw new Error(`no license server URL configured for key-system "${t}"`);return n}getServerCertificateUrl(t){const{drmSystems:n}=this.config,i=n?.[t];if(i)return i.serverCertificateUrl;this.log(`No Server Certificate in config.drmSystems["${t}"]`)}attemptKeySystemAccess(t){const n=this.hls.levels,i=(s,c,e)=>!!s&&e.indexOf(s)===c,l=n.map(s=>s.audioCodec).filter(i),d=n.map(s=>s.videoCodec).filter(i);return l.length+d.length===0&&d.push("avc1.42e01e"),new Promise((s,c)=>{const e=o=>{const u=o.shift();this.getMediaKeysPromise(u,l,d).then(f=>s({keySystem:u,mediaKeys:f})).catch(f=>{o.length?e(o):f instanceof Cs?c(f):c(new Cs({type:rn.KEY_SYSTEM_ERROR,details:_t.KEY_SYSTEM_NO_ACCESS,error:f,fatal:!0},f.message))})};e(t)})}requestMediaKeySystemAccess(t,n){const{requestMediaKeySystemAccessFunc:i}=this.config;if(typeof i!="function"){let l=`Configured requestMediaKeySystemAccess is not a function ${i}`;return Hm===null&&self.location.protocol==="http:"&&(l=`navigator.requestMediaKeySystemAccess is not available over insecure protocol ${location.protocol}`),Promise.reject(new Error(l))}return i(t,n)}getMediaKeysPromise(t,n,i){var l;const d=BE(t,n,i,this.config.drmSystemOptions||{});let s=this.keySystemAccessPromises[t],c=(l=s)==null?void 0:l.keySystemAccess;if(!c){this.log(`Requesting encrypted media "${t}" key-system access with config: ${Lr(d)}`),c=this.requestMediaKeySystemAccess(t,d);const e=s=this.keySystemAccessPromises[t]={keySystemAccess:c};return c.catch(o=>{this.log(`Failed to obtain access to key-system "${t}": ${o}`)}),c.then(o=>{this.log(`Access for key-system "${o.keySystem}" obtained`);const u=this.fetchServerCertificate(t);this.log(`Create media-keys for "${t}"`);const f=e.mediaKeys=o.createMediaKeys().then(A=>(this.log(`Media-keys created for "${t}"`),e.hasMediaKeys=!0,u.then(p=>p?this.setMediaKeysServerCertificate(A,t,p):A)));return f.catch(A=>{this.error(`Failed to create media-keys for "${t}"}: ${A}`)}),f})}return c.then(()=>s.mediaKeys)}createMediaKeySessionContext({decryptdata:t,keySystem:n,mediaKeys:i}){this.log(`Creating key-system session "${n}" keyId: ${Wi(t.keyId||[])}`);const l=i.createSession(),d={decryptdata:t,keySystem:n,mediaKeys:i,mediaKeysSession:l,keyStatus:"status-pending"};return this.mediaKeySessions.push(d),d}renewKeySession(t){const n=t.decryptdata;if(n.pssh){const i=this.createMediaKeySessionContext(t),l=this.getKeyIdString(n),d="cenc";this.keyIdToKeySessionPromise[l]=this.generateRequestWithPreferredKeySession(i,d,n.pssh.buffer,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(t)}getKeyIdString(t){if(!t)throw new Error("Could not read keyId of undefined decryptdata");if(t.keyId===null)throw new Error("keyId is null");return Wi(t.keyId)}updateKeySession(t,n){const i=t.mediaKeysSession;return this.log(`Updating key-session "${i.sessionId}" for keyId ${Wi(t.decryptdata.keyId||[])}
      } (data length: ${n.byteLength})`),i.update(n)}getSelectedKeySystemFormats(){return Object.keys(this.keySystemAccessPromises).map(t=>({keySystem:t,hasMediaKeys:this.keySystemAccessPromises[t].hasMediaKeys})).filter(({hasMediaKeys:t})=>!!t).map(({keySystem:t})=>zd(t)).filter(t=>!!t)}getKeySystemAccess(t){return this.getKeySystemSelectionPromise(t).then(({keySystem:n,mediaKeys:i})=>this.attemptSetMediaKeys(n,i))}selectKeySystem(t){return new Promise((n,i)=>{this.getKeySystemSelectionPromise(t).then(({keySystem:l})=>{const d=zd(l);d?n(d):i(new Error(`Unable to find format for key-system "${l}"`))}).catch(i)})}selectKeySystemFormat(t){const n=Object.keys(t.levelkeys||{});return this.keyFormatPromise||(this.log(`Selecting key-system from fragment (sn: ${t.sn} ${t.type}: ${t.level}) key formats ${n.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(n)),this.keyFormatPromise}getKeyFormatPromise(t){const n=Xl(this.config),i=t.map(Rc).filter(l=>!!l&&n.indexOf(l)!==-1);return this.selectKeySystem(i)}loadKey(t){const n=t.keyInfo.decryptdata,i=this.getKeyIdString(n),l=this.bannedKeyIds[i];if(l){const c=tm(l,n);return this.handleError(c,t.frag),Promise.reject(c)}const d=`(keyId: ${i} format: "${n.keyFormat}" method: ${n.method} uri: ${n.uri})`;this.log(`Starting session for key ${d}`);const s=this.keyIdToKeySessionPromise[i];if(!s){const c=this.getKeySystemForKeyPromise(n).then(({keySystem:e,mediaKeys:o})=>(this.throwIfDestroyed(),this.log(`Handle encrypted media sn: ${t.frag.sn} ${t.frag.type}: ${t.frag.level} using key ${d}`),this.attemptSetMediaKeys(e,o).then(()=>(this.throwIfDestroyed(),this.createMediaKeySessionContext({keySystem:e,mediaKeys:o,decryptdata:n}))))).then(e=>{const o="cenc",u=n.pssh?n.pssh.buffer:null;return this.generateRequestWithPreferredKeySession(e,o,u,"playlist-key")});return c.catch(e=>this.handleError(e,t.frag)),this.keyIdToKeySessionPromise[i]=c,c}return s}throwIfDestroyed(t="Invalid state"){if(!this.hls)throw new Error("invalid state")}handleError(t,n){this.hls&&(this.error(t.message),t instanceof Cs?(n&&(t.data.frag=n),this.hls.trigger(G.ERROR,t.data)):this.hls.trigger(G.ERROR,{type:rn.KEY_SYSTEM_ERROR,details:_t.KEY_SYSTEM_NO_KEYS,error:t,fatal:!0}))}getKeySystemForKeyPromise(t){const n=this.getKeyIdString(t),i=this.keyIdToKeySessionPromise[n];if(!i){const l=Rc(t.keyFormat),d=l?[l]:Xl(this.config);return this.attemptKeySystemAccess(d)}return i}getKeySystemSelectionPromise(t){if(t.length||(t=Xl(this.config)),t.length===0)throw new Cs({type:rn.KEY_SYSTEM_ERROR,details:_t.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},`Missing key-system license configuration options ${Lr({drmSystems:this.config.drmSystems})}`);return this.attemptKeySystemAccess(t)}attemptSetMediaKeys(t,n){if(this.mediaKeys===n)return Promise.resolve();const i=this.setMediaKeysQueue.slice();this.log(`Setting media-keys for "${t}"`);const l=Promise.all(i).then(()=>{if(!this.media)throw this.mediaKeys=null,new Error("Attempted to set mediaKeys without media element attached");return this.media.setMediaKeys(n)});return this.mediaKeys=n,this.setMediaKeysQueue.push(l),l.then(()=>{this.log(`Media-keys set for "${t}"`),i.push(l),this.setMediaKeysQueue=this.setMediaKeysQueue.filter(d=>i.indexOf(d)===-1)})}generateRequestWithPreferredKeySession(t,n,i,l){var d;const s=(d=this.config.drmSystems)==null||(d=d[t.keySystem])==null?void 0:d.generateRequest;if(s)try{const A=s.call(this.hls,n,i,t);if(!A)throw new Error("Invalid response from configured generateRequest filter");n=A.initDataType,i=A.initData?A.initData:null,t.decryptdata.pssh=i?new Uint8Array(i):null}catch(A){if(this.warn(A.message),this.hls&&this.hls.config.debug)throw A}if(i===null)return this.log(`Skipping key-session request for "${l}" (no initData)`),Promise.resolve(t);const c=this.getKeyIdString(t.decryptdata);this.log(`Generating key-session request for "${l}": ${c} (init data type: ${n} length: ${i.byteLength})`);const e=new Qh,o=t._onmessage=A=>{const p=t.mediaKeysSession;if(!p){e.emit("error",new Error("invalid state"));return}const{messageType:m,message:y}=A;this.log(`"${m}" message event for session "${p.sessionId}" message size: ${y.byteLength}`),m==="license-request"||m==="license-renewal"?this.renewLicense(t,y).catch(b=>{e.eventNames().length?e.emit("error",b):this.handleError(b)}):m==="license-release"?t.keySystem===Gr.FAIRPLAY&&(this.updateKeySession(t,ph("acknowledged")),this.removeSession(t)):this.warn(`unhandled media key message type "${m}"`)},u=t._onkeystatuseschange=A=>{if(!t.mediaKeysSession){e.emit("error",new Error("invalid state"));return}const m=t.keyStatus;this.onKeyStatusChange(t);const y=t.keyStatus;y!==m&&(e.emit("keyStatus",y,t),y==="expired"&&(this.log(`${t.keySystem} expired for key ${c}`),this.renewKeySession(t)))};Ii(t.mediaKeysSession,"message",o),Ii(t.mediaKeysSession,"keystatuseschange",u);const f=new Promise((A,p)=>{e.on("error",p),e.on("keyStatus",(m,{decryptdata:y})=>{m.startsWith("usable")?A():m==="internal-error"||m==="output-restricted"?p(tm(m,y)):m==="expired"?p(new Error(`key expired while generating request (keyId: ${c})`)):this.warn(`unhandled key status change "${m}" (keyId: ${c})`)})});return t.mediaKeysSession.generateRequest(n,i).then(()=>{this.log(`Request generated for key-session "${t.mediaKeysSession.sessionId}" keyId: ${c}`)}).catch(A=>{throw new Cs({type:rn.KEY_SYSTEM_ERROR,details:_t.KEY_SYSTEM_NO_SESSION,error:A,decryptdata:t.decryptdata,fatal:!1},`Error generating key-session request: ${A}`)}).then(()=>f).catch(A=>{throw e.removeAllListeners(),this.removeSession(t),A}).then(()=>(e.removeAllListeners(),t))}onKeyStatusChange(t){const n=Wi(new Uint8Array(t.decryptdata.keyId||[]));t.mediaKeysSession.keyStatuses.forEach((i,l)=>{if(typeof l=="string"&&typeof i=="object"){const c=l;l=i,i=c}const d=Wi("buffer"in l?new Uint8Array(l.buffer,l.byteOffset,l.byteLength):new Uint8Array(l));i==="internal-error"&&(this.bannedKeyIds[d]=i);const s=d===n;this.log(`${s?"":"un"}matched key status change "${i}" for keyStatuses keyId: ${d} session keyId: ${n} uri: ${t.decryptdata.uri}`),s&&(t.keyStatus=i)})}fetchServerCertificate(t){const n=this.config,i=n.loader,l=new i(n),d=this.getServerCertificateUrl(t);return d?(this.log(`Fetching server certificate for "${t}"`),new Promise((s,c)=>{const e={responseType:"arraybuffer",url:d},o=n.certLoadPolicy.default,u={loadPolicy:o,timeout:o.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},f={onSuccess:(A,p,m,y)=>{s(A.data)},onError:(A,p,m,y)=>{c(new Cs({type:rn.KEY_SYSTEM_ERROR,details:_t.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:m,response:vr({url:e.url,data:void 0},A)},`"${t}" certificate request failed (${d}). Status: ${A.code} (${A.text})`))},onTimeout:(A,p,m)=>{c(new Cs({type:rn.KEY_SYSTEM_ERROR,details:_t.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:m,response:{url:e.url,data:void 0}},`"${t}" certificate request timed out (${d})`))},onAbort:(A,p,m)=>{c(new Error("aborted"))}};l.load(e,u,f)})):Promise.resolve()}setMediaKeysServerCertificate(t,n,i){return new Promise((l,d)=>{t.setServerCertificate(i).then(s=>{this.log(`setServerCertificate ${s?"success":"not supported by CDM"} (${i.byteLength}) on "${n}"`),l(t)}).catch(s=>{d(new Cs({type:rn.KEY_SYSTEM_ERROR,details:_t.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:s,fatal:!0},s.message))})})}renewLicense(t,n){return this.requestLicense(t,new Uint8Array(n)).then(i=>this.updateKeySession(t,new Uint8Array(i)).catch(l=>{throw new Cs({type:rn.KEY_SYSTEM_ERROR,details:_t.KEY_SYSTEM_SESSION_UPDATE_FAILED,decryptdata:t.decryptdata,error:l,fatal:!1},l.message)}))}unpackPlayReadyKeyMessage(t,n){const i=String.fromCharCode.apply(null,new Uint16Array(n.buffer));if(!i.includes("PlayReadyKeyMessage"))return t.setRequestHeader("Content-Type","text/xml; charset=utf-8"),n;const l=new DOMParser().parseFromString(i,"application/xml"),d=l.querySelectorAll("HttpHeader");if(d.length>0){let u;for(let f=0,A=d.length;f<A;f++){var s,c;u=d[f];const p=(s=u.querySelector("name"))==null?void 0:s.textContent,m=(c=u.querySelector("value"))==null?void 0:c.textContent;p&&m&&t.setRequestHeader(p,m)}}const e=l.querySelector("Challenge"),o=e?.textContent;if(!o)throw new Error("Cannot find <Challenge> in key message");return ph(atob(o))}setupLicenseXHR(t,n,i,l){const d=this.config.licenseXhrSetup;return d?Promise.resolve().then(()=>{if(!i.decryptdata)throw new Error("Key removed");return d.call(this.hls,t,n,i,l)}).catch(s=>{if(!i.decryptdata)throw s;return t.open("POST",n,!0),d.call(this.hls,t,n,i,l)}).then(s=>(t.readyState||t.open("POST",n,!0),{xhr:t,licenseChallenge:s||l})):(t.open("POST",n,!0),Promise.resolve({xhr:t,licenseChallenge:l}))}requestLicense(t,n){const i=this.config.keyLoadPolicy.default;return new Promise((l,d)=>{const s=this.getLicenseServerUrlOrThrow(t.keySystem);this.log(`Sending license request to URL: ${s}`);const c=new XMLHttpRequest;c.responseType="arraybuffer",c.onreadystatechange=()=>{if(!this.hls||!t.mediaKeysSession)return d(new Error("invalid state"));if(c.readyState===4)if(c.status===200){this._requestLicenseFailureCount=0;let e=c.response;this.log(`License received ${e instanceof ArrayBuffer?e.byteLength:e}`);const o=this.config.licenseResponseCallback;if(o)try{e=o.call(this.hls,c,s,t)}catch(u){this.error(u)}l(e)}else{const e=i.errorRetry,o=e?e.maxNumRetry:0;if(this._requestLicenseFailureCount++,this._requestLicenseFailureCount>o||c.status>=400&&c.status<500)d(new Cs({type:rn.KEY_SYSTEM_ERROR,details:_t.KEY_SYSTEM_LICENSE_REQUEST_FAILED,decryptdata:t.decryptdata,fatal:!0,networkDetails:c,response:{url:s,data:void 0,code:c.status,text:c.statusText}},`License Request XHR failed (${s}). Status: ${c.status} (${c.statusText})`));else{const u=o-this._requestLicenseFailureCount+1;this.warn(`Retrying license request, ${u} attempts left`),this.requestLicense(t,n).then(l,d)}}},t.licenseXhr&&t.licenseXhr.readyState!==XMLHttpRequest.DONE&&t.licenseXhr.abort(),t.licenseXhr=c,this.setupLicenseXHR(c,s,t,n).then(({xhr:e,licenseChallenge:o})=>{t.keySystem==Gr.PLAYREADY&&(o=this.unpackPlayReadyKeyMessage(e,o)),e.send(o)}).catch(d)})}onDestroying(){this.unregisterListeners(),this._clear()}onMediaAttached(t,n){if(!this.config.emeEnabled)return;const i=n.media;this.media=i,Ii(i,"encrypted",this.onMediaEncrypted),Ii(i,"waitingforkey",this.onWaitingForKey)}onMediaDetached(){const t=this.media;t&&(Ni(t,"encrypted",this.onMediaEncrypted),Ni(t,"waitingforkey",this.onWaitingForKey),this.media=null,this.mediaKeys=null)}_clear(){var t;if(this._requestLicenseFailureCount=0,this.keyIdToKeySessionPromise={},this.bannedKeyIds={},!this.mediaKeys&&!this.mediaKeySessions.length)return;const n=this.media,i=this.mediaKeySessions.slice();this.mediaKeySessions=[],this.mediaKeys=null,Vc.clearKeyUriToKeyIdMap();const l=i.length;ll.CDMCleanupPromise=Promise.all(i.map(d=>this.removeSession(d)).concat(n==null||(t=n.setMediaKeys(null))==null?void 0:t.catch(d=>{this.log(`Could not clear media keys: ${d}`),this.hls&&this.hls.trigger(G.ERROR,{type:rn.OTHER_ERROR,details:_t.KEY_SYSTEM_DESTROY_MEDIA_KEYS_ERROR,fatal:!1,error:new Error(`Could not clear media keys: ${d}`)})}))).catch(d=>{this.log(`Could not close sessions and clear media keys: ${d}`),this.hls&&this.hls.trigger(G.ERROR,{type:rn.OTHER_ERROR,details:_t.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR,fatal:!1,error:new Error(`Could not close sessions and clear media keys: ${d}`)})}).then(()=>{l&&this.log("finished closing key sessions and clearing media keys")})}onManifestLoading(){this.keyFormatPromise=null,this.bannedKeyIds={}}onManifestLoaded(t,{sessionKeys:n}){if(!(!n||!this.config.emeEnabled)&&!this.keyFormatPromise){const i=n.reduce((l,d)=>(l.indexOf(d.keyFormat)===-1&&l.push(d.keyFormat),l),[]);this.log(`Selecting key-system from session-keys ${i.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(i)}}removeSession(t){const{mediaKeysSession:n,licenseXhr:i,decryptdata:l}=t;if(n){this.log(`Remove licenses and keys and close session "${n.sessionId}" keyId: ${Wi(l?.keyId||[])}`),t._onmessage&&(n.removeEventListener("message",t._onmessage),t._onmessage=void 0),t._onkeystatuseschange&&(n.removeEventListener("keystatuseschange",t._onkeystatuseschange),t._onkeystatuseschange=void 0),i&&i.readyState!==XMLHttpRequest.DONE&&i.abort(),t.mediaKeysSession=t.decryptdata=t.licenseXhr=void 0;const d=this.mediaKeySessions.indexOf(t);d>-1&&this.mediaKeySessions.splice(d,1);const{drmSystemOptions:s}=this.config;return(_E(s)?new Promise((e,o)=>{self.setTimeout(()=>o(new Error("MediaKeySession.remove() timeout")),8e3),n.remove().then(e).catch(o)}):Promise.resolve()).catch(e=>{this.log(`Could not remove session: ${e}`),this.hls&&this.hls.trigger(G.ERROR,{type:rn.OTHER_ERROR,details:_t.KEY_SYSTEM_DESTROY_REMOVE_SESSION_ERROR,fatal:!1,error:new Error(`Could not remove session: ${e}`)})}).then(()=>n.close()).catch(e=>{this.log(`Could not close session: ${e}`),this.hls&&this.hls.trigger(G.ERROR,{type:rn.OTHER_ERROR,details:_t.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR,fatal:!1,error:new Error(`Could not close session: ${e}`)})})}}}ll.CDMCleanupPromise=void 0;class Cs extends Error{constructor(t,n){super(n),this.data=void 0,t.error||(t.error=new Error(n)),this.data=t,t.err=t.error}}function tm(g,t){const n=g==="output-restricted",i=n?_t.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:_t.KEY_SYSTEM_STATUS_INTERNAL_ERROR;return new Cs({type:rn.KEY_SYSTEM_ERROR,details:i,fatal:!1,decryptdata:t},n?"HDCP level output restricted":`key status changed to "${g}"`)}class JS{constructor(t){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=t,this.registerListeners()}setStreamController(t){this.streamController=t}registerListeners(){this.hls.on(G.MEDIA_ATTACHING,this.onMediaAttaching,this),this.hls.on(G.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListeners(){this.hls.off(G.MEDIA_ATTACHING,this.onMediaAttaching,this),this.hls.off(G.MEDIA_DETACHING,this.onMediaDetaching,this)}destroy(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}onMediaAttaching(t,n){const i=this.hls.config;if(i.capLevelOnFPSDrop){const l=n.media instanceof self.HTMLVideoElement?n.media:null;this.media=l,l&&typeof l.getVideoPlaybackQuality=="function"&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),i.fpsDroppedMonitoringPeriod)}}onMediaDetaching(){this.media=null}checkFPS(t,n,i){const l=performance.now();if(n){if(this.lastTime){const d=l-this.lastTime,s=i-this.lastDroppedFrames,c=n-this.lastDecodedFrames,e=1e3*s/d,o=this.hls;if(o.trigger(G.FPS_DROP,{currentDropped:s,currentDecoded:c,totalDroppedFrames:i}),e>0&&s>o.config.fpsDroppedMonitoringThreshold*c){let u=o.currentLevel;o.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+u),u>0&&(o.autoLevelCapping===-1||o.autoLevelCapping>=u)&&(u=u-1,o.trigger(G.FPS_DROP_LEVEL_CAPPING,{level:u,droppedLevel:o.currentLevel}),o.autoLevelCapping=u,this.streamController.nextLevelSwitch())}}this.lastTime=l,this.lastDroppedFrames=i,this.lastDecodedFrames=n}}checkFPSInterval(){const t=this.media;if(t)if(this.isVideoPlaybackQualityAvailable){const n=t.getVideoPlaybackQuality();this.checkFPS(t,n.totalVideoFrames,n.droppedVideoFrames)}else this.checkFPS(t,t.webkitDecodedFrameCount,t.webkitDroppedFrameCount)}}function Ov(g,t){let n;try{n=new Event("addtrack")}catch{n=document.createEvent("Event"),n.initEvent("addtrack",!1,!1)}n.track=g,t.dispatchEvent(n)}function _v(g,t){const n=g.mode;if(n==="disabled"&&(g.mode="hidden"),g.cues&&!g.cues.getCueById(t.id))try{if(g.addCue(t),!g.cues.getCueById(t.id))throw new Error(`addCue is failed for: ${t}`)}catch(i){hr.debug(`[texttrack-utils]: ${i}`);try{const l=new self.TextTrackCue(t.startTime,t.endTime,t.text);l.id=t.id,g.addCue(l)}catch(l){hr.debug(`[texttrack-utils]: Legacy TextTrackCue fallback failed: ${l}`)}}n==="disabled"&&(g.mode=n)}function sl(g,t){const n=g.mode;if(n==="disabled"&&(g.mode="hidden"),g.cues)for(let i=g.cues.length;i--;)t&&g.cues[i].removeEventListener("enter",t),g.removeCue(g.cues[i]);n==="disabled"&&(g.mode=n)}function Th(g,t,n,i){const l=g.mode;if(l==="disabled"&&(g.mode="hidden"),g.cues&&g.cues.length>0){const d=ex(g.cues,t,n);for(let s=0;s<d.length;s++)(!i||i(d[s]))&&g.removeCue(d[s])}l==="disabled"&&(g.mode=l)}function tx(g,t){if(t<=g[0].startTime)return 0;const n=g.length-1;if(t>g[n].endTime)return-1;let i=0,l=n,d;for(;i<=l;)if(d=Math.floor((l+i)/2),t<g[d].startTime)l=d-1;else if(t>g[d].startTime&&i<n)i=d+1;else return d;return g[i].startTime-t<t-g[l].startTime?i:l}function ex(g,t,n){const i=[],l=tx(g,t);if(l>-1)for(let d=l,s=g.length;d<s;d++){const c=g[d];if(c.startTime>=t&&c.endTime<=n)i.push(c);else if(c.startTime>n)return i}return i}function Bc(g){const t=[];for(let n=0;n<g.length;n++){const i=g[n];(i.kind==="subtitles"||i.kind==="captions")&&i.label&&t.push(g[n])}return t}class nx extends Kh{constructor(t){super(t,"subtitle-track-controller"),this.media=null,this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.queuedDefaultTrack=-1,this.useTextTrackPolling=!1,this.subtitlePollingInterval=-1,this._subtitleDisplay=!0,this.asyncPollTrackChange=()=>this.pollTrackChange(0),this.onTextTracksChanged=()=>{if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!this.media||!this.hls.config.renderTextTracksNatively)return;let n=null;const i=Bc(this.media.textTracks);for(let d=0;d<i.length;d++)if(i[d].mode==="hidden")n=i[d];else if(i[d].mode==="showing"){n=i[d];break}const l=this.findTrackForTextTrack(n);this.subtitleTrack!==l&&this.setSubtitleTrack(l)},this.registerListeners()}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,this.onTextTracksChanged=this.asyncPollTrackChange=null,super.destroy()}get subtitleDisplay(){return this._subtitleDisplay}set subtitleDisplay(t){this._subtitleDisplay=t,this.trackId>-1&&this.toggleTrackModes()}registerListeners(){const{hls:t}=this;t.on(G.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(G.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(G.MANIFEST_LOADING,this.onManifestLoading,this),t.on(G.MANIFEST_PARSED,this.onManifestParsed,this),t.on(G.LEVEL_LOADING,this.onLevelLoading,this),t.on(G.LEVEL_SWITCHING,this.onLevelSwitching,this),t.on(G.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.on(G.ERROR,this.onError,this)}unregisterListeners(){const{hls:t}=this;t.off(G.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(G.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(G.MANIFEST_LOADING,this.onManifestLoading,this),t.off(G.MANIFEST_PARSED,this.onManifestParsed,this),t.off(G.LEVEL_LOADING,this.onLevelLoading,this),t.off(G.LEVEL_SWITCHING,this.onLevelSwitching,this),t.off(G.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.off(G.ERROR,this.onError,this)}onMediaAttached(t,n){this.media=n.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}pollTrackChange(t){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.onTextTracksChanged,t)}onMediaDetaching(t,n){const i=this.media;if(!i)return;const l=!!n.transferMedia;if(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||i.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),this.subtitleTrack=-1,this.media=null,l)return;Bc(i.textTracks).forEach(s=>{sl(s)})}onManifestLoading(){this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}onManifestParsed(t,n){this.tracks=n.subtitleTracks}onSubtitleTrackLoaded(t,n){const{id:i,groupId:l,details:d}=n,s=this.tracksInGroup[i];if(!s||s.groupId!==l){this.warn(`Subtitle track with id:${i} and group:${l} not found in active group ${s?.groupId}`);return}const c=s.details;s.details=n.details,this.log(`Subtitle track ${i} "${s.name}" lang:${s.lang} group:${l} loaded [${d.startSN}-${d.endSN}]`),i===this.trackId&&this.playlistLoaded(i,n,c)}onLevelLoading(t,n){this.switchLevel(n.level)}onLevelSwitching(t,n){this.switchLevel(n.level)}switchLevel(t){const n=this.hls.levels[t];if(!n)return;const i=n.subtitleGroups||null,l=this.groupIds;let d=this.currentTrack;if(!i||l?.length!==i?.length||i!=null&&i.some(s=>l?.indexOf(s)===-1)){this.groupIds=i,this.trackId=-1,this.currentTrack=null;const s=this.tracks.filter(u=>!i||i.indexOf(u.groupId)!==-1);if(s.length)this.selectDefaultTrack&&!s.some(u=>u.default)&&(this.selectDefaultTrack=!1),s.forEach((u,f)=>{u.id=f});else if(!d&&!this.tracksInGroup.length)return;this.tracksInGroup=s;const c=this.hls.config.subtitlePreference;if(!d&&c){this.selectDefaultTrack=!1;const u=Ms(c,s);if(u>-1)d=s[u];else{const f=Ms(c,this.tracks);d=this.tracks[f]}}let e=this.findTrackId(d);e===-1&&d&&(e=this.findTrackId(null));const o={subtitleTracks:s};this.log(`Updating subtitle tracks, ${s.length} track(s) found in "${i?.join(",")}" group-id`),this.hls.trigger(G.SUBTITLE_TRACKS_UPDATED,o),e!==-1&&this.trackId===-1&&this.setSubtitleTrack(e)}}findTrackId(t){const n=this.tracksInGroup,i=this.selectDefaultTrack;for(let l=0;l<n.length;l++){const d=n[l];if(!(i&&!d.default||!i&&!t)&&(!t||yo(d,t)))return l}if(t){for(let l=0;l<n.length;l++){const d=n[l];if(au(t.attrs,d.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return l}for(let l=0;l<n.length;l++){const d=n[l];if(au(t.attrs,d.attrs,["LANGUAGE"]))return l}}return-1}findTrackForTextTrack(t){if(t){const n=this.tracksInGroup;for(let i=0;i<n.length;i++){const l=n[i];if(Eh(l,t))return i}}return-1}onError(t,n){n.fatal||!n.context||n.context.type===Kn.SUBTITLE_TRACK&&n.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(n.context.groupId)!==-1)&&this.checkRetry(n)}get allSubtitleTracks(){return this.tracks}get subtitleTracks(){return this.tracksInGroup}get subtitleTrack(){return this.trackId}set subtitleTrack(t){this.selectDefaultTrack=!1,this.setSubtitleTrack(t)}setSubtitleOption(t){if(this.hls.config.subtitlePreference=t,t){if(t.id===-1)return this.setSubtitleTrack(-1),null;const n=this.allSubtitleTracks;if(this.selectDefaultTrack=!1,n.length){const i=this.currentTrack;if(i&&yo(t,i))return i;const l=Ms(t,this.tracksInGroup);if(l>-1){const d=this.tracksInGroup[l];return this.setSubtitleTrack(l),d}else{if(i)return null;{const d=Ms(t,n);if(d>-1)return n[d]}}}}return null}loadPlaylist(t){super.loadPlaylist(),this.shouldLoadPlaylist(this.currentTrack)&&this.scheduleLoading(this.currentTrack,t)}loadingPlaylist(t,n){super.loadingPlaylist(t,n);const i=t.id,l=t.groupId,d=this.getUrlWithDirectives(t.url,n),s=t.details,c=s?.age;this.log(`Loading subtitle ${i} "${t.name}" lang:${t.lang} group:${l}${n?.msn!==void 0?" at sn "+n.msn+" part "+n.part:""}${c&&s.live?" age "+c.toFixed(1)+(s.type&&" "+s.type||""):""} ${d}`),this.hls.trigger(G.SUBTITLE_TRACK_LOADING,{url:d,id:i,groupId:l,deliveryDirectives:n||null,track:t})}toggleTrackModes(){const{media:t}=this;if(!t)return;const n=Bc(t.textTracks),i=this.currentTrack;let l;if(i&&(l=n.filter(d=>Eh(i,d))[0],l||this.warn(`Unable to find subtitle TextTrack with name "${i.name}" and language "${i.lang}"`)),[].slice.call(n).forEach(d=>{d.mode!=="disabled"&&d!==l&&(d.mode="disabled")}),l){const d=this.subtitleDisplay?"showing":"hidden";l.mode!==d&&(l.mode=d)}}setSubtitleTrack(t){const n=this.tracksInGroup;if(!this.media){this.queuedDefaultTrack=t;return}if(t<-1||t>=n.length||!je(t)){this.warn(`Invalid subtitle track id: ${t}`);return}this.selectDefaultTrack=!1;const i=this.currentTrack,l=n[t]||null;if(this.trackId=t,this.currentTrack=l,this.toggleTrackModes(),!l){this.hls.trigger(G.SUBTITLE_TRACK_SWITCH,{id:t});return}const d=!!l.details&&!l.details.live;if(t===this.trackId&&l===i&&d)return;this.log(`Switching to subtitle-track ${t}`+(l?` "${l.name}" lang:${l.lang} group:${l.groupId}`:""));const{id:s,groupId:c="",name:e,type:o,url:u}=l;this.hls.trigger(G.SUBTITLE_TRACK_SWITCH,{id:s,groupId:c,name:e,type:o,url:u});const f=this.switchParams(l.url,i?.details,l.details);this.loadPlaylist(f)}}function rx(){try{return crypto.randomUUID()}catch{try{const t=URL.createObjectURL(new Blob),n=t.toString();return URL.revokeObjectURL(t),n.slice(n.lastIndexOf("/")+1)}catch{let n=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,l=>{const d=(n+Math.random()*16)%16|0;return n=Math.floor(n/16),(l=="x"?d:d&3|8).toString(16)})}}}function tu(g){let t=5381,n=g.length;for(;n;)t=t*33^g.charCodeAt(--n);return(t>>>0).toString()}const ul=.025;let Yc=(function(g){return g[g.Point=0]="Point",g[g.Range=1]="Range",g})({});function ix(g,t,n){return`${g.identifier}-${n+1}-${tu(t)}`}class sx{constructor(t,n){this.base=void 0,this._duration=null,this._timelineStart=null,this.appendInPlaceDisabled=void 0,this.appendInPlaceStarted=void 0,this.dateRange=void 0,this.hasPlayed=!1,this.cumulativeDuration=0,this.resumeOffset=NaN,this.playoutLimit=NaN,this.restrictions={skip:!1,jump:!1},this.snapOptions={out:!1,in:!1},this.assetList=[],this.assetListLoader=void 0,this.assetListResponse=null,this.resumeAnchor=void 0,this.error=void 0,this.resetOnResume=void 0,this.base=n,this.dateRange=t,this.setDateRange(t)}setDateRange(t){this.dateRange=t,this.resumeOffset=t.attr.optionalFloat("X-RESUME-OFFSET",this.resumeOffset),this.playoutLimit=t.attr.optionalFloat("X-PLAYOUT-LIMIT",this.playoutLimit),this.restrictions=t.attr.enumeratedStringList("X-RESTRICT",this.restrictions),this.snapOptions=t.attr.enumeratedStringList("X-SNAP",this.snapOptions)}reset(){var t;this.appendInPlaceStarted=!1,(t=this.assetListLoader)==null||t.destroy(),this.assetListLoader=void 0,this.supplementsPrimary||(this.assetListResponse=null,this.assetList=[],this._duration=null)}isAssetPastPlayoutLimit(t){var n;if(t>0&&t>=this.assetList.length)return!0;const i=this.playoutLimit;return t<=0||isNaN(i)?!1:i===0?!0:(((n=this.assetList[t])==null?void 0:n.startOffset)||0)>i}findAssetIndex(t){return this.assetList.indexOf(t)}get identifier(){return this.dateRange.id}get startDate(){return this.dateRange.startDate}get startTime(){const t=this.dateRange.startTime;if(this.snapOptions.out){const n=this.dateRange.tagAnchor;if(n)return Zd(t,n)}return t}get startOffset(){return this.cue.pre?0:this.startTime}get startIsAligned(){if(this.startTime===0||this.snapOptions.out)return!0;const t=this.dateRange.tagAnchor;if(t){const n=this.dateRange.startTime,i=Zd(n,t);return n-i<.1}return!1}get resumptionOffset(){const t=this.resumeOffset,n=je(t)?t:this.duration;return this.cumulativeDuration+n}get resumeTime(){const t=this.startOffset+this.resumptionOffset;if(this.snapOptions.in){const n=this.resumeAnchor;if(n)return Zd(t,n)}return t}get appendInPlace(){return this.appendInPlaceStarted?!0:this.appendInPlaceDisabled?!1:!!(!this.cue.once&&!this.cue.pre&&this.startIsAligned&&(isNaN(this.playoutLimit)&&isNaN(this.resumeOffset)||this.resumeOffset&&this.duration&&Math.abs(this.resumeOffset-this.duration)<ul))}set appendInPlace(t){if(this.appendInPlaceStarted){this.resetOnResume=!t;return}this.appendInPlaceDisabled=!t}get timelineStart(){return this._timelineStart!==null?this._timelineStart:this.startTime}set timelineStart(t){this._timelineStart=t}get duration(){const t=this.playoutLimit;let n;return this._duration!==null?n=this._duration:this.dateRange.duration?n=this.dateRange.duration:n=this.dateRange.plannedDuration||0,!isNaN(t)&&t<n&&(n=t),n}set duration(t){this._duration=t}get cue(){return this.dateRange.cue}get timelineOccupancy(){return this.dateRange.attr["X-TIMELINE-OCCUPIES"]==="RANGE"?Yc.Range:Yc.Point}get supplementsPrimary(){return this.dateRange.attr["X-TIMELINE-STYLE"]==="PRIMARY"}get contentMayVary(){return this.dateRange.attr["X-CONTENT-MAY-VARY"]!=="NO"}get assetUrl(){return this.dateRange.attr["X-ASSET-URI"]}get assetListUrl(){return this.dateRange.attr["X-ASSET-LIST"]}get baseUrl(){return this.base.url}get assetListLoaded(){return this.assetList.length>0||this.assetListResponse!==null}toString(){return ax(this)}}function Zd(g,t){return g-t.start<t.duration/2&&!(Math.abs(g-(t.start+t.duration))<ul)?t.start:t.start+t.duration}function Mv(g,t,n){const i=new self.URL(g,n);return i.protocol!=="data:"&&i.searchParams.set("_HLS_primary_id",t),i}function Jd(g,t){for(;(n=g.assetList[++t])!=null&&n.error;)var n;return t}function ax(g){return`["${g.identifier}" ${g.cue.pre?"<pre>":g.cue.post?"<post>":""}${g.timelineStart.toFixed(2)}-${g.resumeTime.toFixed(2)}]`}function rl(g){const t=g.timelineStart,n=g.duration||0;return`["${g.identifier}" ${t.toFixed(2)}-${(t+n).toFixed(2)}]`}class ox{constructor(t,n,i,l){this.hls=void 0,this.interstitial=void 0,this.assetItem=void 0,this.tracks=null,this.hasDetails=!1,this.mediaAttached=null,this._currentTime=void 0,this._bufferedEosTime=void 0,this.checkPlayout=()=>{this.reachedPlayout(this.currentTime)&&this.hls&&this.hls.trigger(G.PLAYOUT_LIMIT_REACHED,{})};const d=this.hls=new t(n);this.interstitial=i,this.assetItem=l;const s=()=>{this.hasDetails=!0};d.once(G.LEVEL_LOADED,s),d.once(G.AUDIO_TRACK_LOADED,s),d.once(G.SUBTITLE_TRACK_LOADED,s),d.on(G.MEDIA_ATTACHING,(c,{media:e})=>{this.removeMediaListeners(),this.mediaAttached=e,this.interstitial.playoutLimit&&(e.addEventListener("timeupdate",this.checkPlayout),this.appendInPlace&&d.on(G.BUFFER_APPENDED,()=>{const u=this.bufferedEnd;this.reachedPlayout(u)&&(this._bufferedEosTime=u,d.trigger(G.BUFFERED_TO_END,void 0))}))})}get appendInPlace(){return this.interstitial.appendInPlace}loadSource(){const t=this.hls;if(t)if(t.url)t.levels.length&&!t.started&&t.startLoad(-1,!0);else{let n=this.assetItem.uri;try{n=Mv(n,t.config.primarySessionId||"").href}catch{}t.loadSource(n)}}bufferedInPlaceToEnd(t){var n;if(!this.appendInPlace)return!1;if((n=this.hls)!=null&&n.bufferedToEnd)return!0;if(!t)return!1;const i=Math.min(this._bufferedEosTime||1/0,this.duration),l=this.timelineOffset,d=Pn.bufferInfo(t,l,0);return this.getAssetTime(d.end)>=i-.02}reachedPlayout(t){const i=this.interstitial.playoutLimit;return this.startOffset+t>=i}get destroyed(){var t;return!((t=this.hls)!=null&&t.userConfig)}get assetId(){return this.assetItem.identifier}get interstitialId(){return this.assetItem.parentIdentifier}get media(){var t;return((t=this.hls)==null?void 0:t.media)||null}get bufferedEnd(){const t=this.media||this.mediaAttached;if(!t)return this._bufferedEosTime?this._bufferedEosTime:this.currentTime;const n=Pn.bufferInfo(t,t.currentTime,.001);return this.getAssetTime(n.end)}get currentTime(){const t=this.media||this.mediaAttached;return t?this.getAssetTime(t.currentTime):this._currentTime||0}get duration(){const t=this.assetItem.duration;if(!t)return 0;const n=this.interstitial.playoutLimit;if(n){const i=n-this.startOffset;if(i>0&&i<t)return i}return t}get remaining(){const t=this.duration;return t?Math.max(0,t-this.currentTime):0}get startOffset(){return this.assetItem.startOffset}get timelineOffset(){var t;return((t=this.hls)==null?void 0:t.config.timelineOffset)||0}set timelineOffset(t){const n=this.timelineOffset;if(t!==n){const i=t-n;if(Math.abs(i)>1/9e4&&this.hls){if(this.hasDetails)throw new Error("Cannot set timelineOffset after playlists are loaded");this.hls.config.timelineOffset=t}}}getAssetTime(t){const n=this.timelineOffset,i=this.duration;return Math.min(Math.max(0,t-n),i)}removeMediaListeners(){const t=this.mediaAttached;t&&(this._currentTime=t.currentTime,this.bufferSnapShot(),t.removeEventListener("timeupdate",this.checkPlayout))}bufferSnapShot(){if(this.mediaAttached){var t;(t=this.hls)!=null&&t.bufferedToEnd&&(this._bufferedEosTime=this.bufferedEnd)}}destroy(){this.removeMediaListeners(),this.hls&&this.hls.destroy(),this.hls=null,this.tracks=this.mediaAttached=this.checkPlayout=null}attachMedia(t){var n;this.loadSource(),(n=this.hls)==null||n.attachMedia(t)}detachMedia(){var t;this.removeMediaListeners(),this.mediaAttached=null,(t=this.hls)==null||t.detachMedia()}resumeBuffering(){var t;(t=this.hls)==null||t.resumeBuffering()}pauseBuffering(){var t;(t=this.hls)==null||t.pauseBuffering()}transferMedia(){var t;return this.bufferSnapShot(),((t=this.hls)==null?void 0:t.transferMedia())||null}resetDetails(){const t=this.hls;if(t&&this.hasDetails){t.stopLoad();const n=i=>delete i.details;t.levels.forEach(n),t.allAudioTracks.forEach(n),t.allSubtitleTracks.forEach(n),this.hasDetails=!1}}on(t,n,i){var l;(l=this.hls)==null||l.on(t,n)}once(t,n,i){var l;(l=this.hls)==null||l.once(t,n)}off(t,n,i){var l;(l=this.hls)==null||l.off(t,n)}toString(){var t;return`HlsAssetPlayer: ${rl(this.assetItem)} ${(t=this.hls)==null?void 0:t.sessionId} ${this.appendInPlace?"append-in-place":""}`}}const em=.033;class lx extends as{constructor(t,n){super("interstitials-sched",n),this.onScheduleUpdate=void 0,this.eventMap={},this.events=null,this.items=null,this.durations={primary:0,playout:0,integrated:0},this.onScheduleUpdate=t}destroy(){this.reset(),this.onScheduleUpdate=null}reset(){this.eventMap={},this.setDurations(0,0,0),this.events&&this.events.forEach(t=>t.reset()),this.events=this.items=null}resetErrorsInRange(t,n){return this.events?this.events.reduce((i,l)=>t<=l.startOffset&&n>l.startOffset?(delete l.error,i+1):i,0):0}get duration(){const t=this.items;return t?t[t.length-1].end:0}get length(){return this.items?this.items.length:0}getEvent(t){return t&&this.eventMap[t]||null}hasEvent(t){return t in this.eventMap}findItemIndex(t,n){if(t.event)return this.findEventIndex(t.event.identifier);let i=-1;t.nextEvent?i=this.findEventIndex(t.nextEvent.identifier)-1:t.previousEvent&&(i=this.findEventIndex(t.previousEvent.identifier)+1);const l=this.items;if(l)for(l[i]||(n===void 0&&(n=t.start),i=this.findItemIndexAtTime(n));i>=0&&(d=l[i])!=null&&d.event;){var d;i--}return i}findItemIndexAtTime(t,n){const i=this.items;if(i)for(let l=0;l<i.length;l++){let d=i[l];if(n&&n!=="primary"&&(d=d[n]),t===d.start||t>d.start&&t<d.end)return l}return-1}findJumpRestrictedIndex(t,n){const i=this.items;if(i)for(let l=t;l<=n&&i[l];l++){const d=i[l].event;if(d!=null&&d.restrictions.jump&&!d.appendInPlace)return l}return-1}findEventIndex(t){const n=this.items;if(n)for(let l=n.length;l--;){var i;if(((i=n[l].event)==null?void 0:i.identifier)===t)return l}return-1}findAssetIndex(t,n){const i=t.assetList,l=i.length;if(l>1)for(let d=0;d<l;d++){const s=i[d];if(!s.error){const c=s.timelineStart;if(n===c||n>c&&(n<c+(s.duration||0)||d===l-1))return d}}return 0}get assetIdAtEnd(){var t;const n=(t=this.items)==null||(t=t[this.length-1])==null?void 0:t.event;if(n){const i=n.assetList,l=i[i.length-1];if(l)return l.identifier}return null}parseInterstitialDateRanges(t,n){const i=t.main.details,{dateRanges:l}=i,d=this.events,s=this.parseDateRanges(l,{url:i.url},n),c=Object.keys(l),e=d?d.filter(o=>!c.includes(o.identifier)):[];s.length&&s.sort((o,u)=>{const f=o.cue.pre,A=o.cue.post,p=u.cue.pre,m=u.cue.post;if(f&&!p)return-1;if(p&&!f||A&&!m)return 1;if(m&&!A)return-1;if(!f&&!p&&!A&&!m){const y=o.startTime,b=u.startTime;if(y!==b)return y-b}return o.dateRange.tagOrder-u.dateRange.tagOrder}),this.events=s,e.forEach(o=>{this.removeEvent(o)}),this.updateSchedule(t,e)}updateSchedule(t,n=[],i=!1){const l=this.events||[];if(l.length||n.length||this.length<2){const d=this.items,s=this.parseSchedule(l,t);(i||n.length||d?.length!==s.length||s.some((e,o)=>Math.abs(e.playout.start-d[o].playout.start)>.005||Math.abs(e.playout.end-d[o].playout.end)>.005))&&(this.items=s,this.onScheduleUpdate(n,d))}}parseDateRanges(t,n,i){const l=[],d=Object.keys(t);for(let s=0;s<d.length;s++){const c=d[s],e=t[c];if(e.isInterstitial){let o=this.eventMap[c];o?o.setDateRange(e):(o=new sx(e,n),this.eventMap[c]=o,i===!1&&(o.appendInPlace=i)),l.push(o)}}return l}parseSchedule(t,n){const i=[],l=n.main.details,d=l.live?1/0:l.edge;let s=0;if(t=t.filter(e=>!e.error&&!(e.cue.once&&e.hasPlayed)),t.length){this.resolveOffsets(t,n);let e=0,o=0;if(t.forEach((u,f)=>{const A=u.cue.pre,p=u.cue.post,m=t[f-1]||null,y=u.appendInPlace,b=p?d:u.startOffset,E=u.duration,S=u.timelineOccupancy===Yc.Range?E:0,T=u.resumptionOffset,L=m?.startTime===b,I=b+u.cumulativeDuration;let B=y?I+E:b+T;if(A||!p&&b<=0){const _=o;o+=S,u.timelineStart=I;const M=s;s+=E,i.push({event:u,start:I,end:B,playout:{start:M,end:s},integrated:{start:_,end:o}})}else if(b<=d){if(!L){const U=b-e;if(U>em){const Q=e,$=o;o+=U;const W=s;s+=U;const X={previousEvent:t[f-1]||null,nextEvent:u,start:Q,end:Q+U,playout:{start:W,end:s},integrated:{start:$,end:o}};i.push(X)}else U>0&&m&&(m.cumulativeDuration+=U,i[i.length-1].end=b)}p&&(B=I),u.timelineStart=I;const _=o;o+=S;const M=s;s+=E,i.push({event:u,start:I,end:B,playout:{start:M,end:s},integrated:{start:_,end:o}})}else return;const O=u.resumeTime;p||O>d?e=d:e=O}),e<d){var c;const u=e,f=o,A=d-e;o+=A;const p=s;s+=A,i.push({previousEvent:((c=i[i.length-1])==null?void 0:c.event)||null,nextEvent:null,start:e,end:u+A,playout:{start:p,end:s},integrated:{start:f,end:o}})}this.setDurations(d,s,o)}else i.push({previousEvent:null,nextEvent:null,start:0,end:d,playout:{start:0,end:d},integrated:{start:0,end:d}}),this.setDurations(d,d,d);return i}setDurations(t,n,i){this.durations={primary:t,playout:n,integrated:i}}resolveOffsets(t,n){const i=n.main.details,l=i.live?1/0:i.edge;let d=0,s=-1;t.forEach((c,e)=>{const o=c.cue.pre,u=c.cue.post,f=o?0:u?l:c.startTime;this.updateAssetDurations(c),s===f?c.cumulativeDuration=d:(d=0,s=f),!u&&c.snapOptions.in&&(c.resumeAnchor=bo(null,i.fragments,c.startOffset+c.resumptionOffset,0,0)||void 0),c.appendInPlace&&!c.appendInPlaceStarted&&(this.primaryCanResumeInPlaceAt(c,n)||(c.appendInPlace=!1)),!c.appendInPlace&&e+1<t.length&&t[e+1].startTime-t[e].resumeTime<em&&(t[e+1].appendInPlace=!1,t[e+1].appendInPlace&&this.warn(`Could not change append strategy for abutting event ${c}`));const p=je(c.resumeOffset)?c.resumeOffset:c.duration;d+=p})}primaryCanResumeInPlaceAt(t,n){const i=t.resumeTime,l=t.startTime+t.resumptionOffset;return Math.abs(i-l)>ul?(this.log(`"${t.identifier}" resumption ${i} not aligned with estimated timeline end ${l}`),!1):!Object.keys(n).some(s=>{const c=n[s].details,e=c.edge;if(i>=e)return this.log(`"${t.identifier}" resumption ${i} past ${s} playlist end ${e}`),!1;const o=bo(null,c.fragments,i);if(!o)return this.log(`"${t.identifier}" resumption ${i} does not align with any fragments in ${s} playlist (${c.fragStart}-${c.fragmentEnd})`),!0;const u=s==="audio"?.175:0;return Math.abs(o.start-i)<ul+u||Math.abs(o.end-i)<ul+u?!1:(this.log(`"${t.identifier}" resumption ${i} not aligned with ${s} fragment bounds (${o.start}-${o.end} sn: ${o.sn} cc: ${o.cc})`),!0)})}updateAssetDurations(t){if(!t.assetListLoaded)return;const n=t.timelineStart;let i=0,l=!1,d=!1;for(let s=0;s<t.assetList.length;s++){const c=t.assetList[s],e=n+i;c.startOffset=i,c.timelineStart=e,l||(l=c.duration===null),d||(d=!!c.error);const o=c.error?0:c.duration||0;i+=o}l&&!d?t.duration=Math.max(i,t.duration):t.duration=i}removeEvent(t){t.reset(),delete this.eventMap[t.identifier]}}function Es(g){return`[${g.event?'"'+g.event.identifier+'"':"primary"}: ${g.start.toFixed(2)}-${g.end.toFixed(2)}]`}class ux{constructor(t){this.hls=void 0,this.hls=t}destroy(){this.hls=null}loadAssetList(t,n){const i=t.assetListUrl;let l;try{l=Mv(i,this.hls.sessionId,t.baseUrl)}catch(A){const p=this.assignAssetListError(t,_t.ASSET_LIST_LOAD_ERROR,A,i);this.hls.trigger(G.ERROR,p);return}n&&l.protocol!=="data:"&&l.searchParams.set("_HLS_start_offset",""+n);const d=this.hls.config,s=d.loader,c=new s(d),e={responseType:"json",url:l.href},o=d.interstitialAssetListLoadPolicy.default,u={loadPolicy:o,timeout:o.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},f={onSuccess:(A,p,m,y)=>{const b=A.data,E=b?.ASSETS;if(!Array.isArray(E)){const S=this.assignAssetListError(t,_t.ASSET_LIST_PARSING_ERROR,new Error("Invalid interstitial asset list"),m.url,p,y);this.hls.trigger(G.ERROR,S);return}t.assetListResponse=b,this.hls.trigger(G.ASSET_LIST_LOADED,{event:t,assetListResponse:b,networkDetails:y})},onError:(A,p,m,y)=>{const b=this.assignAssetListError(t,_t.ASSET_LIST_LOAD_ERROR,new Error(`Error loading X-ASSET-LIST: HTTP status ${A.code} ${A.text} (${p.url})`),p.url,y,m);this.hls.trigger(G.ERROR,b)},onTimeout:(A,p,m)=>{const y=this.assignAssetListError(t,_t.ASSET_LIST_LOAD_TIMEOUT,new Error(`Timeout loading X-ASSET-LIST (${p.url})`),p.url,A,m);this.hls.trigger(G.ERROR,y)}};return c.load(e,u,f),this.hls.trigger(G.ASSET_LIST_LOADING,{event:t}),c}assignAssetListError(t,n,i,l,d,s){return t.error=i,{type:rn.NETWORK_ERROR,details:n,fatal:!1,interstitial:t,url:l,error:i,networkDetails:s,stats:d}}}function nm(g){g?.play().catch(()=>{})}function bc(g,t){return`[${g}] Advancing timeline position to ${t}`}class cx extends as{constructor(t,n){super("interstitials",t.logger),this.HlsPlayerClass=void 0,this.hls=void 0,this.assetListLoader=void 0,this.mediaSelection=null,this.altSelection=null,this.media=null,this.detachedData=null,this.requiredTracks=null,this.manager=null,this.playerQueue=[],this.bufferedPos=-1,this.timelinePos=-1,this.schedule=void 0,this.playingItem=null,this.bufferingItem=null,this.waitingItem=null,this.endedItem=null,this.playingAsset=null,this.endedAsset=null,this.bufferingAsset=null,this.shouldPlay=!1,this.onPlay=()=>{this.shouldPlay=!0},this.onPause=()=>{this.shouldPlay=!1},this.onSeeking=()=>{const i=this.currentTime;if(i===void 0||this.playbackDisabled||!this.schedule)return;const l=i-this.timelinePos;if(Math.abs(l)<1/7056e5)return;const s=l<=-.01;this.timelinePos=i,this.bufferedPos=i;const c=this.playingItem;if(!c){this.checkBuffer();return}if(s&&this.schedule.resetErrorsInRange(i,i-l)&&this.updateSchedule(!0),this.checkBuffer(),s&&i<c.start||i>=c.end){var e;const p=this.findItemIndex(c);let m=this.schedule.findItemIndexAtTime(i);if(m===-1&&(m=p+(s?-1:1),this.log(`seeked ${s?"back ":""}to position not covered by schedule ${i} (resolving from ${p} to ${m})`)),!this.isInterstitial(c)&&(e=this.media)!=null&&e.paused&&(this.shouldPlay=!1),!s&&m>p){const y=this.schedule.findJumpRestrictedIndex(p+1,m);if(y>p){this.setSchedulePosition(y);return}}this.setSchedulePosition(m);return}const o=this.playingAsset;if(!o){if(this.playingLastItem&&this.isInterstitial(c)){const p=c.event.assetList[0];p&&(this.endedItem=this.playingItem,this.playingItem=null,this.setScheduleToAssetAtTime(i,p))}return}const u=o.timelineStart,f=o.duration||0;if(s&&i<u||i>=u+f){var A;(A=c.event)!=null&&A.appendInPlace&&(this.clearInterstitial(c.event,c),this.flushFrontBuffer(i)),this.setScheduleToAssetAtTime(i,o)}},this.onTimeupdate=()=>{const i=this.currentTime;if(i===void 0||this.playbackDisabled)return;if(i>this.timelinePos)this.timelinePos=i,i>this.bufferedPos&&this.checkBuffer();else return;const l=this.playingItem;if(!l||this.playingLastItem)return;if(i>=l.end){this.timelinePos=l.end;const c=this.findItemIndex(l);this.setSchedulePosition(c+1)}const d=this.playingAsset;if(!d)return;const s=d.timelineStart+(d.duration||0);i>=s&&this.setScheduleToAssetAtTime(i,d)},this.onScheduleUpdate=(i,l)=>{const d=this.schedule;if(!d)return;const s=this.playingItem,c=d.events||[],e=d.items||[],o=d.durations,u=i.map(y=>y.identifier),f=!!(c.length||u.length);(f||l)&&this.log(`INTERSTITIALS_UPDATED (${c.length}): ${c}
Schedule: ${e.map(y=>Es(y))} pos: ${this.timelinePos}`),u.length&&this.log(`Removed events ${u}`);let A=null,p=null;s&&(A=this.updateItem(s,this.timelinePos),this.itemsMatch(s,A)?this.playingItem=A:this.waitingItem=this.endedItem=null),this.waitingItem=this.updateItem(this.waitingItem),this.endedItem=this.updateItem(this.endedItem);const m=this.bufferingItem;if(m&&(p=this.updateItem(m,this.bufferedPos),this.itemsMatch(m,p)?this.bufferingItem=p:m.event&&(this.bufferingItem=this.playingItem,this.clearInterstitial(m.event,null))),i.forEach(y=>{y.assetList.forEach(b=>{this.clearAssetPlayer(b.identifier,null)})}),this.playerQueue.forEach(y=>{if(y.interstitial.appendInPlace){const b=y.assetItem.timelineStart,E=y.timelineOffset-b;if(E)try{y.timelineOffset=b}catch(S){Math.abs(E)>ul&&this.warn(`${S} ("${y.assetId}" ${y.timelineOffset}->${b})`)}}}),f||l){if(this.hls.trigger(G.INTERSTITIALS_UPDATED,{events:c.slice(0),schedule:e.slice(0),durations:o,removedIds:u}),this.isInterstitial(s)&&u.includes(s.event.identifier)){this.warn(`Interstitial "${s.event.identifier}" removed while playing`),this.primaryFallback(s.event);return}s&&this.trimInPlace(A,s),m&&p!==A&&this.trimInPlace(p,m),this.checkBuffer()}},this.hls=t,this.HlsPlayerClass=n,this.assetListLoader=new ux(t),this.schedule=new lx(this.onScheduleUpdate,t.logger),this.registerListeners()}registerListeners(){const t=this.hls;t&&(t.on(G.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(G.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(G.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(G.MANIFEST_LOADING,this.onManifestLoading,this),t.on(G.LEVEL_UPDATED,this.onLevelUpdated,this),t.on(G.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.on(G.AUDIO_TRACK_UPDATED,this.onAudioTrackUpdated,this),t.on(G.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),t.on(G.SUBTITLE_TRACK_UPDATED,this.onSubtitleTrackUpdated,this),t.on(G.EVENT_CUE_ENTER,this.onInterstitialCueEnter,this),t.on(G.ASSET_LIST_LOADED,this.onAssetListLoaded,this),t.on(G.BUFFER_APPENDED,this.onBufferAppended,this),t.on(G.BUFFER_FLUSHED,this.onBufferFlushed,this),t.on(G.BUFFERED_TO_END,this.onBufferedToEnd,this),t.on(G.MEDIA_ENDED,this.onMediaEnded,this),t.on(G.ERROR,this.onError,this),t.on(G.DESTROYING,this.onDestroying,this))}unregisterListeners(){const t=this.hls;t&&(t.off(G.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(G.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(G.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(G.MANIFEST_LOADING,this.onManifestLoading,this),t.off(G.LEVEL_UPDATED,this.onLevelUpdated,this),t.off(G.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.off(G.AUDIO_TRACK_UPDATED,this.onAudioTrackUpdated,this),t.off(G.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),t.off(G.SUBTITLE_TRACK_UPDATED,this.onSubtitleTrackUpdated,this),t.off(G.EVENT_CUE_ENTER,this.onInterstitialCueEnter,this),t.off(G.ASSET_LIST_LOADED,this.onAssetListLoaded,this),t.off(G.BUFFER_CODECS,this.onBufferCodecs,this),t.off(G.BUFFER_APPENDED,this.onBufferAppended,this),t.off(G.BUFFER_FLUSHED,this.onBufferFlushed,this),t.off(G.BUFFERED_TO_END,this.onBufferedToEnd,this),t.off(G.MEDIA_ENDED,this.onMediaEnded,this),t.off(G.ERROR,this.onError,this),t.off(G.DESTROYING,this.onDestroying,this))}startLoad(){this.resumeBuffering()}stopLoad(){this.pauseBuffering()}resumeBuffering(){var t;(t=this.getBufferingPlayer())==null||t.resumeBuffering()}pauseBuffering(){var t;(t=this.getBufferingPlayer())==null||t.pauseBuffering()}destroy(){this.unregisterListeners(),this.stopLoad(),this.assetListLoader&&this.assetListLoader.destroy(),this.emptyPlayerQueue(),this.clearScheduleState(),this.schedule&&this.schedule.destroy(),this.media=this.detachedData=this.mediaSelection=this.requiredTracks=this.altSelection=this.schedule=this.manager=null,this.hls=this.HlsPlayerClass=this.log=null,this.assetListLoader=null,this.onPlay=this.onPause=this.onSeeking=this.onTimeupdate=null,this.onScheduleUpdate=null}onDestroying(){const t=this.primaryMedia||this.media;t&&this.removeMediaListeners(t)}removeMediaListeners(t){Ni(t,"play",this.onPlay),Ni(t,"pause",this.onPause),Ni(t,"seeking",this.onSeeking),Ni(t,"timeupdate",this.onTimeupdate)}onMediaAttaching(t,n){const i=this.media=n.media;Ii(i,"seeking",this.onSeeking),Ii(i,"timeupdate",this.onTimeupdate),Ii(i,"play",this.onPlay),Ii(i,"pause",this.onPause)}onMediaAttached(t,n){const i=this.effectivePlayingItem,l=this.detachedData;if(this.detachedData=null,i===null)this.checkStart();else if(!l){this.clearScheduleState();const d=this.findItemIndex(i);this.setSchedulePosition(d)}}clearScheduleState(){this.log("clear schedule state"),this.playingItem=this.bufferingItem=this.waitingItem=this.endedItem=this.playingAsset=this.endedAsset=this.bufferingAsset=null}onMediaDetaching(t,n){const i=!!n.transferMedia,l=this.media;if(this.media=null,!i&&(l&&this.removeMediaListeners(l),this.detachedData)){const d=this.getBufferingPlayer();d&&(this.log(`Removing schedule state for detachedData and ${d}`),this.playingAsset=this.endedAsset=this.bufferingAsset=this.bufferingItem=this.waitingItem=this.detachedData=null,d.detachMedia()),this.shouldPlay=!1}}get interstitialsManager(){if(!this.hls)return null;if(this.manager)return this.manager;const t=this,n=()=>t.bufferingItem||t.waitingItem,i=f=>f&&t.getAssetPlayer(f.identifier),l=(f,A,p,m,y)=>{if(f){let b=f[A].start;const E=f.event;if(E){if(A==="playout"||E.timelineOccupancy!==Yc.Point){const S=i(p);S?.interstitial===E&&(b+=S.assetItem.startOffset+S[y])}}else{const S=m==="bufferedPos"?s():t[m];b+=S-f.start}return b}return 0},d=(f,A)=>{var p;if(f!==0&&A!=="primary"&&(p=t.schedule)!=null&&p.length){var m;const y=t.schedule.findItemIndexAtTime(f),b=(m=t.schedule.items)==null?void 0:m[y];if(b){const E=b[A].start-b.start;return f+E}}return f},s=()=>{const f=t.bufferedPos;return f===Number.MAX_VALUE?c("primary"):Math.max(f,0)},c=f=>{var A,p;return(A=t.primaryDetails)!=null&&A.live?t.primaryDetails.edge:((p=t.schedule)==null?void 0:p.durations[f])||0},e=(f,A)=>{var p,m;const y=t.effectivePlayingItem;if(y!=null&&(p=y.event)!=null&&p.restrictions.skip||!t.schedule)return;t.log(`seek to ${f} "${A}"`);const b=t.effectivePlayingItem,E=t.schedule.findItemIndexAtTime(f,A),S=(m=t.schedule.items)==null?void 0:m[E],T=t.getBufferingPlayer(),L=T?.interstitial,I=L?.appendInPlace,B=b&&t.itemsMatch(b,S);if(b&&(I||B)){const O=i(t.playingAsset),_=O?.media||t.primaryMedia;if(_){const M=A==="primary"?_.currentTime:l(b,A,t.playingAsset,"timelinePos","currentTime"),U=f-M,Q=(I?M:_.currentTime)+U;if(Q>=0&&(!O||I||Q<=O.duration)){_.currentTime=Q;return}}}if(S){let O=f;if(A!=="primary"){const M=S[A].start,U=f-M;O=S.start+U}const _=!t.isInterstitial(S);if((!t.isInterstitial(b)||b.event.appendInPlace)&&(_||S.event.appendInPlace)){const M=t.media||(I?T?.media:null);M&&(M.currentTime=O)}else if(b){const M=t.findItemIndex(b);if(E>M){const Q=t.schedule.findJumpRestrictedIndex(M+1,E);if(Q>M){t.setSchedulePosition(Q);return}}let U=0;if(_)t.timelinePos=O,t.checkBuffer();else{const Q=S.event.assetList,$=f-(S[A]||S).start;for(let W=Q.length;W--;){const X=Q[W];if(X.duration&&$>=X.startOffset&&$<X.startOffset+X.duration){U=W;break}}}t.setSchedulePosition(E,U)}}},o=()=>{const f=t.effectivePlayingItem;if(t.isInterstitial(f))return f;const A=n();return t.isInterstitial(A)?A:null},u={get bufferedEnd(){const f=n(),A=t.bufferingItem;if(A&&A===f){var p;return l(A,"playout",t.bufferingAsset,"bufferedPos","bufferedEnd")-A.playout.start||((p=t.bufferingAsset)==null?void 0:p.startOffset)||0}return 0},get currentTime(){const f=o(),A=t.effectivePlayingItem;return A&&A===f?l(A,"playout",t.effectivePlayingAsset,"timelinePos","currentTime")-A.playout.start:0},set currentTime(f){const A=o(),p=t.effectivePlayingItem;p&&p===A&&e(f+p.playout.start,"playout")},get duration(){const f=o();return f?f.playout.end-f.playout.start:0},get assetPlayers(){var f;const A=(f=o())==null?void 0:f.event.assetList;return A?A.map(p=>t.getAssetPlayer(p.identifier)):[]},get playingIndex(){var f;const A=(f=o())==null?void 0:f.event;return A&&t.effectivePlayingAsset?A.findAssetIndex(t.effectivePlayingAsset):-1},get scheduleItem(){return o()}};return this.manager={get events(){var f;return((f=t.schedule)==null||(f=f.events)==null?void 0:f.slice(0))||[]},get schedule(){var f;return((f=t.schedule)==null||(f=f.items)==null?void 0:f.slice(0))||[]},get interstitialPlayer(){return o()?u:null},get playerQueue(){return t.playerQueue.slice(0)},get bufferingAsset(){return t.bufferingAsset},get bufferingItem(){return n()},get bufferingIndex(){const f=n();return t.findItemIndex(f)},get playingAsset(){return t.effectivePlayingAsset},get playingItem(){return t.effectivePlayingItem},get playingIndex(){const f=t.effectivePlayingItem;return t.findItemIndex(f)},primary:{get bufferedEnd(){return s()},get currentTime(){const f=t.timelinePos;return f>0?f:0},set currentTime(f){e(f,"primary")},get duration(){return c("primary")},get seekableStart(){var f;return((f=t.primaryDetails)==null?void 0:f.fragmentStart)||0}},integrated:{get bufferedEnd(){return l(n(),"integrated",t.bufferingAsset,"bufferedPos","bufferedEnd")},get currentTime(){return l(t.effectivePlayingItem,"integrated",t.effectivePlayingAsset,"timelinePos","currentTime")},set currentTime(f){e(f,"integrated")},get duration(){return c("integrated")},get seekableStart(){var f;return d(((f=t.primaryDetails)==null?void 0:f.fragmentStart)||0,"integrated")}},skip:()=>{const f=t.effectivePlayingItem,A=f?.event;if(A&&!A.restrictions.skip){const p=t.findItemIndex(f);if(A.appendInPlace){const m=f.playout.start+f.event.duration;e(m+.001,"playout")}else t.advanceAfterAssetEnded(A,p,1/0)}}}}get effectivePlayingItem(){return this.waitingItem||this.playingItem||this.endedItem}get effectivePlayingAsset(){return this.playingAsset||this.endedAsset}get playingLastItem(){var t;const n=this.playingItem,i=(t=this.schedule)==null?void 0:t.items;return!this.playbackStarted||!n||!i?!1:this.findItemIndex(n)===i.length-1}get playbackStarted(){return this.effectivePlayingItem!==null}get currentTime(){var t,n;if(this.mediaSelection===null)return;const i=this.waitingItem||this.playingItem;if(this.isInterstitial(i)&&!i.event.appendInPlace)return;let l=this.media;!l&&(t=this.bufferingItem)!=null&&(t=t.event)!=null&&t.appendInPlace&&(l=this.primaryMedia);const d=(n=l)==null?void 0:n.currentTime;if(!(d===void 0||!je(d)))return d}get primaryMedia(){var t;return this.media||((t=this.detachedData)==null?void 0:t.media)||null}isInterstitial(t){return!!(t!=null&&t.event)}retreiveMediaSource(t,n){const i=this.getAssetPlayer(t);i&&this.transferMediaFromPlayer(i,n)}transferMediaFromPlayer(t,n){const i=t.interstitial.appendInPlace,l=t.media;if(i&&l===this.primaryMedia){if(this.bufferingAsset=null,(!n||this.isInterstitial(n)&&!n.event.appendInPlace)&&n&&l){this.detachedData={media:l};return}const d=t.transferMedia();this.log(`transfer MediaSource from ${t} ${Lr(d)}`),this.detachedData=d}else n&&l&&(this.shouldPlay||(this.shouldPlay=!l.paused))}transferMediaTo(t,n){var i,l;if(t.media===n)return;let d=null;const s=this.hls,c=t!==s,e=c&&t.interstitial.appendInPlace,o=(i=this.detachedData)==null?void 0:i.mediaSource;let u;if(s.media)e&&(d=s.transferMedia(),this.detachedData=d),u="Primary";else if(o){const m=this.getBufferingPlayer();m?(d=m.transferMedia(),u=`${m}`):u="detached MediaSource"}else u="detached media";if(!d){if(o)d=this.detachedData,this.log(`using detachedData: MediaSource ${Lr(d)}`);else if(!this.detachedData||s.media===n){const m=this.playerQueue;m.length>1&&m.forEach(y=>{if(c&&y.interstitial.appendInPlace!==e){const b=y.interstitial;this.clearInterstitial(y.interstitial,null),b.appendInPlace=!1,b.appendInPlace&&this.warn(`Could not change append strategy for queued assets ${b}`)}}),this.hls.detachMedia(),this.detachedData={media:n}}}const f=d&&"mediaSource"in d&&((l=d.mediaSource)==null?void 0:l.readyState)!=="closed",A=f&&d?d:n;this.log(`${f?"transfering MediaSource":"attaching media"} to ${c?t:"Primary"} from ${u} (media.currentTime: ${n.currentTime})`);const p=this.schedule;if(A===d&&p){const m=c&&t.assetId===p.assetIdAtEnd;A.overrides={duration:p.duration,endOfStream:!c||m,cueRemoval:!c}}t.attachMedia(A)}onInterstitialCueEnter(){this.onTimeupdate()}checkStart(){const t=this.schedule,n=t?.events;if(!n||this.playbackDisabled||!this.media)return;this.bufferedPos===-1&&(this.bufferedPos=0);const i=this.timelinePos,l=this.effectivePlayingItem;if(i===-1){const d=this.hls.startPosition;if(this.log(bc("checkStart",d)),this.timelinePos=d,n.length&&n[0].cue.pre){const s=t.findEventIndex(n[0].identifier);this.setSchedulePosition(s)}else if(d>=0||!this.primaryLive){const s=this.timelinePos=d>0?d:0,c=t.findItemIndexAtTime(s);this.setSchedulePosition(c)}}else if(l&&!this.playingItem){const d=t.findItemIndex(l);this.setSchedulePosition(d)}}advanceAssetBuffering(t,n){const i=t.event,l=i.findAssetIndex(n),d=Jd(i,l);if(!i.isAssetPastPlayoutLimit(d))this.bufferedToEvent(t,d);else if(this.schedule){var s;const c=(s=this.schedule.items)==null?void 0:s[this.findItemIndex(t)+1];c&&this.bufferedToItem(c)}}advanceAfterAssetEnded(t,n,i){const l=Jd(t,i);if(t.isAssetPastPlayoutLimit(l)){if(this.schedule){const d=this.schedule.items;if(d){const s=n+1,c=d.length;if(s>=c){this.setSchedulePosition(-1);return}const e=t.resumeTime;this.timelinePos<e&&(this.log(bc("advanceAfterAssetEnded",e)),this.timelinePos=e,t.appendInPlace&&this.advanceInPlace(e),this.checkBuffer(this.bufferedPos<e)),this.setSchedulePosition(s)}}}else{if(t.appendInPlace){const d=t.assetList[l];d&&this.advanceInPlace(d.timelineStart)}this.setSchedulePosition(n,l)}}setScheduleToAssetAtTime(t,n){const i=this.schedule;if(!i)return;const l=n.parentIdentifier,d=i.getEvent(l);if(d){const s=i.findEventIndex(l),c=i.findAssetIndex(d,t);this.advanceAfterAssetEnded(d,s,c-1)}}setSchedulePosition(t,n){var i;const l=(i=this.schedule)==null?void 0:i.items;if(!l||this.playbackDisabled)return;const d=t>=0?l[t]:null;this.log(`setSchedulePosition ${t}, ${n} (${d&&Es(d)}) pos: ${this.timelinePos}`);const s=this.waitingItem||this.playingItem,c=this.playingLastItem;if(this.isInterstitial(s)){const u=s.event,f=this.playingAsset,A=f?.identifier,p=A?this.getAssetPlayer(A):null;if(p&&A&&(!this.eventItemsMatch(s,d)||n!==void 0&&A!==u.assetList[n].identifier)){var e;const m=u.findAssetIndex(f);if(this.log(`INTERSTITIAL_ASSET_ENDED ${m+1}/${u.assetList.length} ${rl(f)}`),this.endedAsset=f,this.playingAsset=null,this.hls.trigger(G.INTERSTITIAL_ASSET_ENDED,{asset:f,assetListIndex:m,event:u,schedule:l.slice(0),scheduleIndex:t,player:p}),s!==this.playingItem){this.itemsMatch(s,this.playingItem)&&!this.playingAsset&&this.advanceAfterAssetEnded(u,this.findItemIndex(this.playingItem),m);return}this.retreiveMediaSource(A,d),p.media&&!((e=this.detachedData)!=null&&e.mediaSource)&&p.detachMedia()}if(!this.eventItemsMatch(s,d)&&(this.endedItem=s,this.playingItem=null,this.log(`INTERSTITIAL_ENDED ${u} ${Es(s)}`),u.hasPlayed=!0,this.hls.trigger(G.INTERSTITIAL_ENDED,{event:u,schedule:l.slice(0),scheduleIndex:t}),u.cue.once)){var o;this.updateSchedule();const m=(o=this.schedule)==null?void 0:o.items;if(d&&m){const y=this.findItemIndex(d);this.advanceSchedule(y,m,n,s,c)}return}}this.advanceSchedule(t,l,n,s,c)}advanceSchedule(t,n,i,l,d){const s=this.schedule;if(!s)return;const c=n[t]||null,e=this.primaryMedia,o=this.playerQueue;if(o.length&&o.forEach(u=>{const f=u.interstitial,A=s.findEventIndex(f.identifier);(A<t||A>t+1)&&this.clearInterstitial(f,c)}),this.isInterstitial(c)){this.timelinePos=Math.min(Math.max(this.timelinePos,c.start),c.end);const u=c.event;if(i===void 0){i=s.findAssetIndex(u,this.timelinePos);const m=Jd(u,i-1);if(u.isAssetPastPlayoutLimit(m)||u.appendInPlace&&this.timelinePos===c.end){this.advanceAfterAssetEnded(u,t,i);return}i=m}const f=this.waitingItem;this.assetsBuffered(c,e)||this.setBufferingItem(c);let A=this.preloadAssets(u,i);if(this.eventItemsMatch(c,f||l)||(this.waitingItem=c,this.log(`INTERSTITIAL_STARTED ${Es(c)} ${u.appendInPlace?"append in place":""}`),this.hls.trigger(G.INTERSTITIAL_STARTED,{event:u,schedule:n.slice(0),scheduleIndex:t})),!u.assetListLoaded){this.log(`Waiting for ASSET-LIST to complete loading ${u}`);return}if(u.assetListLoader&&(u.assetListLoader.destroy(),u.assetListLoader=void 0),!e){this.log(`Waiting for attachMedia to start Interstitial ${u}`);return}this.waitingItem=this.endedItem=null,this.playingItem=c;const p=u.assetList[i];if(!p){this.advanceAfterAssetEnded(u,t,i||0);return}if(A||(A=this.getAssetPlayer(p.identifier)),A===null||A.destroyed){const m=u.assetList.length;this.warn(`asset ${i+1}/${m} player destroyed ${u}`),A=this.createAssetPlayer(u,p,i),A.loadSource()}if(!this.eventItemsMatch(c,this.bufferingItem)&&u.appendInPlace&&this.isAssetBuffered(p))return;this.startAssetPlayer(A,i,n,t,e),this.shouldPlay&&nm(A.media)}else c?(this.resumePrimary(c,t,l),this.shouldPlay&&nm(this.hls.media)):d&&this.isInterstitial(l)&&(this.endedItem=null,this.playingItem=l,l.event.appendInPlace||this.attachPrimary(s.durations.primary,null))}get playbackDisabled(){return this.hls.config.enableInterstitialPlayback===!1}get primaryDetails(){var t;return(t=this.mediaSelection)==null?void 0:t.main.details}get primaryLive(){var t;return!!((t=this.primaryDetails)!=null&&t.live)}resumePrimary(t,n,i){var l,d;if(this.playingItem=t,this.playingAsset=this.endedAsset=null,this.waitingItem=this.endedItem=null,this.bufferedToItem(t),this.log(`resuming ${Es(t)}`),!((l=this.detachedData)!=null&&l.mediaSource)){let c=this.timelinePos;(c<t.start||c>=t.end)&&(c=this.getPrimaryResumption(t,n),this.log(bc("resumePrimary",c)),this.timelinePos=c),this.attachPrimary(c,t)}if(!i)return;const s=(d=this.schedule)==null?void 0:d.items;s&&(this.log(`INTERSTITIALS_PRIMARY_RESUMED ${Es(t)}`),this.hls.trigger(G.INTERSTITIALS_PRIMARY_RESUMED,{schedule:s.slice(0),scheduleIndex:n}),this.checkBuffer())}getPrimaryResumption(t,n){const i=t.start;if(this.primaryLive){const l=this.primaryDetails;if(n===0)return this.hls.startPosition;if(l&&(i<l.fragmentStart||i>l.edge))return this.hls.liveSyncPosition||-1}return i}isAssetBuffered(t){const n=this.getAssetPlayer(t.identifier);return n!=null&&n.hls?n.hls.bufferedToEnd:Pn.bufferInfo(this.primaryMedia,this.timelinePos,0).end+1>=t.timelineStart+(t.duration||0)}attachPrimary(t,n,i){n?this.setBufferingItem(n):this.bufferingItem=this.playingItem,this.bufferingAsset=null;const l=this.primaryMedia;if(!l)return;const d=this.hls;d.media?this.checkBuffer():(this.transferMediaTo(d,l),i&&this.startLoadingPrimaryAt(t,i)),i||(this.log(bc("attachPrimary",t)),this.timelinePos=t,this.startLoadingPrimaryAt(t,i))}startLoadingPrimaryAt(t,n){var i;const l=this.hls;!l.loadingEnabled||!l.media||Math.abs((((i=l.mainForwardBufferInfo)==null?void 0:i.start)||l.media.currentTime)-t)>.5?l.startLoad(t,n):l.bufferingEnabled||l.resumeBuffering()}onManifestLoading(){var t;this.stopLoad(),(t=this.schedule)==null||t.reset(),this.emptyPlayerQueue(),this.clearScheduleState(),this.shouldPlay=!1,this.bufferedPos=this.timelinePos=-1,this.mediaSelection=this.altSelection=this.manager=this.requiredTracks=null,this.hls.off(G.BUFFER_CODECS,this.onBufferCodecs,this),this.hls.on(G.BUFFER_CODECS,this.onBufferCodecs,this)}onLevelUpdated(t,n){if(n.level===-1||!this.schedule)return;const i=this.hls.levels[n.level],l=vr(vr({},this.mediaSelection||this.altSelection),{},{main:i});this.mediaSelection=l,this.schedule.parseInterstitialDateRanges(l,this.hls.config.interstitialAppendInPlace),!this.effectivePlayingItem&&this.schedule.items&&this.checkStart()}onAudioTrackUpdated(t,n){const i=this.hls.audioTracks[n.id],l=this.mediaSelection;if(!l){this.altSelection=vr(vr({},this.altSelection),{},{audio:i});return}const d=vr(vr({},l),{},{audio:i});this.mediaSelection=d}onSubtitleTrackUpdated(t,n){const i=this.hls.subtitleTracks[n.id],l=this.mediaSelection;if(!l){this.altSelection=vr(vr({},this.altSelection),{},{subtitles:i});return}const d=vr(vr({},l),{},{subtitles:i});this.mediaSelection=d}onAudioTrackSwitching(t,n){const i=h0(n);this.playerQueue.forEach(({hls:l})=>l&&(l.setAudioOption(n)||l.setAudioOption(i)))}onSubtitleTrackSwitch(t,n){const i=h0(n);this.playerQueue.forEach(({hls:l})=>l&&(l.setSubtitleOption(n)||n.id!==-1&&l.setSubtitleOption(i)))}onBufferCodecs(t,n){const i=n.tracks;i&&(this.requiredTracks=i)}onBufferAppended(t,n){this.checkBuffer()}onBufferFlushed(t,n){const i=this.playingItem;if(i&&!this.itemsMatch(i,this.bufferingItem)&&!this.isInterstitial(i)){const l=this.timelinePos;this.bufferedPos=l,this.checkBuffer()}}onBufferedToEnd(t){if(!this.schedule)return;const n=this.schedule.events;if(this.bufferedPos<Number.MAX_VALUE&&n){for(let l=0;l<n.length;l++){const d=n[l];if(d.cue.post){var i;const s=this.schedule.findEventIndex(d.identifier),c=(i=this.schedule.items)==null?void 0:i[s];this.isInterstitial(c)&&this.eventItemsMatch(c,this.bufferingItem)&&this.bufferedToItem(c,0);break}}this.bufferedPos=Number.MAX_VALUE}}onMediaEnded(t){const n=this.playingItem;if(!this.playingLastItem&&n){const i=this.findItemIndex(n);this.setSchedulePosition(i+1)}else this.shouldPlay=!1}updateItem(t,n){var i;const l=(i=this.schedule)==null?void 0:i.items;if(t&&l){const d=this.findItemIndex(t,n);return l[d]||null}return null}trimInPlace(t,n){if(this.isInterstitial(t)&&t.event.appendInPlace&&n.end-t.end>.25){t.event.assetList.forEach((d,s)=>{t.event.isAssetPastPlayoutLimit(s)&&this.clearAssetPlayer(d.identifier,null)});const i=t.end+.25,l=Pn.bufferInfo(this.primaryMedia,i,0);(l.end>i||(l.nextStart||0)>i)&&(this.log(`trim buffered interstitial ${Es(t)} (was ${Es(n)})`),this.attachPrimary(i,null,!0),this.flushFrontBuffer(i))}}itemsMatch(t,n){return!!n&&(t===n||t.event&&n.event&&this.eventItemsMatch(t,n)||!t.event&&!n.event&&this.findItemIndex(t)===this.findItemIndex(n))}eventItemsMatch(t,n){var i;return!!n&&(t===n||t.event.identifier===((i=n.event)==null?void 0:i.identifier))}findItemIndex(t,n){return t&&this.schedule?this.schedule.findItemIndex(t,n):-1}updateSchedule(t=!1){var n;const i=this.mediaSelection;i&&((n=this.schedule)==null||n.updateSchedule(i,[],t))}checkBuffer(t){var n;const i=(n=this.schedule)==null?void 0:n.items;if(!i)return;const l=Pn.bufferInfo(this.primaryMedia,this.timelinePos,0);t&&(this.bufferedPos=this.timelinePos),t||(t=l.len<1),this.updateBufferedPos(l.end,i,t)}updateBufferedPos(t,n,i){const l=this.schedule,d=this.bufferingItem;if(this.bufferedPos>t||!l)return;if(n.length===1&&this.itemsMatch(n[0],d)){this.bufferedPos=t;return}const s=this.playingItem,c=this.findItemIndex(s);let e=l.findItemIndexAtTime(t);if(this.bufferedPos<t){var o;const u=this.findItemIndex(d),f=Math.min(u+1,n.length-1),A=n[f];if((e===-1&&d&&t>=d.end||(o=A.event)!=null&&o.appendInPlace&&t+.01>=A.start)&&(e=f),this.isInterstitial(d)){const p=d.event;if(f-c>1&&p.appendInPlace===!1||p.assetList.length===0&&p.assetListLoader)return}if(this.bufferedPos=t,e>u&&e>c)this.bufferedToItem(A);else{const p=this.primaryDetails;this.primaryLive&&p&&t>p.edge-p.targetduration&&A.start<p.edge+this.hls.config.interstitialLiveLookAhead&&this.isInterstitial(A)&&this.preloadAssets(A.event,0)}}else i&&s&&!this.itemsMatch(s,d)&&(e===c?this.bufferedToItem(s):e===c+1&&this.bufferedToItem(n[e]))}assetsBuffered(t,n){return t.event.assetList.length===0?!1:!t.event.assetList.some(l=>{const d=this.getAssetPlayer(l.identifier);return!(d!=null&&d.bufferedInPlaceToEnd(n))})}setBufferingItem(t){const n=this.bufferingItem,i=this.schedule;if(!this.itemsMatch(t,n)&&i){const{items:l,events:d}=i;if(!l||!d)return n;const s=this.isInterstitial(t),c=this.getBufferingPlayer();this.bufferingItem=t,this.bufferedPos=Math.max(t.start,Math.min(t.end,this.timelinePos));const e=c?c.remaining:n?n.end-this.timelinePos:0;if(this.log(`INTERSTITIALS_BUFFERED_TO_BOUNDARY ${Es(t)}`+(n?` (${e.toFixed(2)} remaining)`:"")),!this.playbackDisabled)if(s){const o=i.findAssetIndex(t.event,this.bufferedPos);t.event.assetList.forEach((u,f)=>{const A=this.getAssetPlayer(u.identifier);A&&(f===o&&A.loadSource(),A.resumeBuffering())})}else this.hls.resumeBuffering(),this.playerQueue.forEach(o=>o.pauseBuffering());this.hls.trigger(G.INTERSTITIALS_BUFFERED_TO_BOUNDARY,{events:d.slice(0),schedule:l.slice(0),bufferingIndex:this.findItemIndex(t),playingIndex:this.findItemIndex(this.playingItem)})}else this.bufferingItem!==t&&(this.bufferingItem=t);return n}bufferedToItem(t,n=0){const i=this.setBufferingItem(t);if(!this.playbackDisabled){if(this.isInterstitial(t))this.bufferedToEvent(t,n);else if(i!==null){this.bufferingAsset=null;const l=this.detachedData;l?l.mediaSource?this.attachPrimary(t.start,t,!0):this.preloadPrimary(t):this.preloadPrimary(t)}}}preloadPrimary(t){const n=this.findItemIndex(t),i=this.getPrimaryResumption(t,n);this.startLoadingPrimaryAt(i)}bufferedToEvent(t,n){const i=t.event,l=i.assetList.length===0&&!i.assetListLoader,d=i.cue.once;if(l||!d){const s=this.preloadAssets(i,n);if(s!=null&&s.interstitial.appendInPlace){const c=this.primaryMedia;c&&this.bufferAssetPlayer(s,c)}}}preloadAssets(t,n){const i=t.assetUrl,l=t.assetList.length,d=l===0&&!t.assetListLoader,s=t.cue.once;if(d){const e=t.timelineStart;if(t.appendInPlace){var c;const A=this.playingItem;!this.isInterstitial(A)&&(A==null||(c=A.nextEvent)==null?void 0:c.identifier)===t.identifier&&this.flushFrontBuffer(e+.25)}let o,u=0;if(!this.playingItem&&this.primaryLive&&(u=this.hls.startPosition,u===-1&&(u=this.hls.liveSyncPosition||0)),u&&!(t.cue.pre||t.cue.post)){const A=u-e;A>0&&(o=Math.round(A*1e3)/1e3)}if(this.log(`Load interstitial asset ${n+1}/${i?1:l} ${t}${o?` live-start: ${u} start-offset: ${o}`:""}`),i)return this.createAsset(t,0,0,e,t.duration,i);const f=this.assetListLoader.loadAssetList(t,o);f&&(t.assetListLoader=f)}else if(!s&&l){for(let o=n;o<l;o++){const u=t.assetList[o],f=this.getAssetPlayerQueueIndex(u.identifier);(f===-1||this.playerQueue[f].destroyed)&&!u.error&&this.createAssetPlayer(t,u,o)}const e=t.assetList[n];if(e){const o=this.getAssetPlayer(e.identifier);return o&&o.loadSource(),o}}return null}flushFrontBuffer(t){const n=this.requiredTracks;if(!n)return;this.log(`Removing front buffer starting at ${t}`),Object.keys(n).forEach(l=>{this.hls.trigger(G.BUFFER_FLUSHING,{startOffset:t,endOffset:1/0,type:l})})}getAssetPlayerQueueIndex(t){const n=this.playerQueue;for(let i=0;i<n.length;i++)if(t===n[i].assetId)return i;return-1}getAssetPlayer(t){const n=this.getAssetPlayerQueueIndex(t);return this.playerQueue[n]||null}getBufferingPlayer(){const{playerQueue:t,primaryMedia:n}=this;if(n){for(let i=0;i<t.length;i++)if(t[i].media===n)return t[i]}return null}createAsset(t,n,i,l,d,s){const c={parentIdentifier:t.identifier,identifier:ix(t,s,n),duration:d,startOffset:i,timelineStart:l,uri:s};return this.createAssetPlayer(t,c,n)}createAssetPlayer(t,n,i){const l=this.hls,d=l.userConfig;let s=d.videoPreference;const c=l.loadLevelObj||l.levels[l.currentLevel];(s||c)&&(s=yr({},s),c.videoCodec&&(s.videoCodec=c.videoCodec),c.videoRange&&(s.allowedVideoRanges=[c.videoRange]));const e=l.audioTracks[l.audioTrack],o=l.subtitleTracks[l.subtitleTrack];let u=0;if(this.primaryLive||t.appendInPlace){const L=this.timelinePos-n.timelineStart;if(L>1){const I=n.duration;I&&L<I&&(u=L)}}const f=n.identifier,A=vr(vr({},d),{},{maxMaxBufferLength:Math.min(180,l.config.maxMaxBufferLength),autoStartLoad:!0,startFragPrefetch:!0,primarySessionId:l.sessionId,assetPlayerId:f,abrEwmaDefaultEstimate:l.bandwidthEstimate,interstitialsController:void 0,startPosition:u,liveDurationInfinity:!1,testBandwidth:!1,videoPreference:s,audioPreference:e||d.audioPreference,subtitlePreference:o||d.subtitlePreference});t.appendInPlace&&(t.appendInPlaceStarted=!0,n.timelineStart&&(A.timelineOffset=n.timelineStart));const p=A.cmcd;p!=null&&p.sessionId&&p.contentId&&(A.cmcd=yr({},p,{contentId:tu(n.uri)})),this.getAssetPlayer(f)&&this.warn(`Duplicate date range identifier ${t} and asset ${f}`);const m=new ox(this.HlsPlayerClass,A,t,n);this.playerQueue.push(m),t.assetList[i]=n;let y=!0;const b=L=>{if(L.live){var I;const _=new Error(`Interstitials MUST be VOD assets ${t}`),M={fatal:!0,type:rn.OTHER_ERROR,details:_t.INTERSTITIAL_ASSET_ITEM_ERROR,error:_},U=((I=this.schedule)==null?void 0:I.findEventIndex(t.identifier))||-1;this.handleAssetItemError(M,t,U,i,_.message);return}const B=L.edge-L.fragmentStart,O=n.duration;(y||O===null||B>O)&&(y=!1,this.log(`Interstitial asset "${f}" duration change ${O} > ${B}`),n.duration=B,this.updateSchedule())};m.on(G.LEVEL_UPDATED,(L,{details:I})=>b(I)),m.on(G.LEVEL_PTS_UPDATED,(L,{details:I})=>b(I)),m.on(G.EVENT_CUE_ENTER,()=>this.onInterstitialCueEnter());const E=(L,I)=>{const B=this.getAssetPlayer(f);if(B&&I.tracks){B.off(G.BUFFER_CODECS,E),B.tracks=I.tracks;const O=this.primaryMedia;this.bufferingAsset===B.assetItem&&O&&!B.media&&this.bufferAssetPlayer(B,O)}};m.on(G.BUFFER_CODECS,E);const S=()=>{var L;const I=this.getAssetPlayer(f);if(this.log(`buffered to end of asset ${I}`),!I||!this.schedule)return;const B=this.schedule.findEventIndex(t.identifier),O=(L=this.schedule.items)==null?void 0:L[B];this.isInterstitial(O)&&this.advanceAssetBuffering(O,n)};m.on(G.BUFFERED_TO_END,S);const T=L=>()=>{if(!this.getAssetPlayer(f)||!this.schedule)return;this.shouldPlay=!0;const B=this.schedule.findEventIndex(t.identifier);this.advanceAfterAssetEnded(t,B,L)};return m.once(G.MEDIA_ENDED,T(i)),m.once(G.PLAYOUT_LIMIT_REACHED,T(1/0)),m.on(G.ERROR,(L,I)=>{if(!this.schedule)return;const B=this.getAssetPlayer(f);if(I.details===_t.BUFFER_STALLED_ERROR){if(B!=null&&B.appendInPlace){this.handleInPlaceStall(t);return}this.onTimeupdate(),this.checkBuffer(!0);return}this.handleAssetItemError(I,t,this.schedule.findEventIndex(t.identifier),i,`Asset player error ${I.error} ${t}`)}),m.on(G.DESTROYING,()=>{if(!this.getAssetPlayer(f)||!this.schedule)return;const I=new Error(`Asset player destroyed unexpectedly ${f}`),B={fatal:!0,type:rn.OTHER_ERROR,details:_t.INTERSTITIAL_ASSET_ITEM_ERROR,error:I};this.handleAssetItemError(B,t,this.schedule.findEventIndex(t.identifier),i,I.message)}),this.log(`INTERSTITIAL_ASSET_PLAYER_CREATED ${rl(n)}`),this.hls.trigger(G.INTERSTITIAL_ASSET_PLAYER_CREATED,{asset:n,assetListIndex:i,event:t,player:m}),m}clearInterstitial(t,n){t.assetList.forEach(i=>{this.clearAssetPlayer(i.identifier,n)}),t.reset()}resetAssetPlayer(t){const n=this.getAssetPlayerQueueIndex(t);if(n!==-1){this.log(`reset asset player "${t}" after error`);const i=this.playerQueue[n];this.transferMediaFromPlayer(i,null),i.resetDetails()}}clearAssetPlayer(t,n){const i=this.getAssetPlayerQueueIndex(t);if(i!==-1){const l=this.playerQueue[i];this.log(`clear ${l} toSegment: ${n&&Es(n)}`),this.transferMediaFromPlayer(l,n),this.playerQueue.splice(i,1),l.destroy()}}emptyPlayerQueue(){let t;for(;t=this.playerQueue.pop();)t.destroy();this.playerQueue=[]}startAssetPlayer(t,n,i,l,d){const{interstitial:s,assetItem:c,assetId:e}=t,o=s.assetList.length,u=this.playingAsset;this.endedAsset=null,this.playingAsset=c,(!u||u.identifier!==e)&&(u&&(this.clearAssetPlayer(u.identifier,i[l]),delete u.error),this.log(`INTERSTITIAL_ASSET_STARTED ${n+1}/${o} ${rl(c)}`),this.hls.trigger(G.INTERSTITIAL_ASSET_STARTED,{asset:c,assetListIndex:n,event:s,schedule:i.slice(0),scheduleIndex:l,player:t})),this.bufferAssetPlayer(t,d)}bufferAssetPlayer(t,n){var i,l;if(!this.schedule)return;const{interstitial:d,assetItem:s}=t,c=this.schedule.findEventIndex(d.identifier),e=(i=this.schedule.items)==null?void 0:i[c];if(!e)return;t.loadSource(),this.setBufferingItem(e),this.bufferingAsset=s;const o=this.getBufferingPlayer();if(o===t)return;const u=d.appendInPlace;if(u&&o?.interstitial.appendInPlace===!1)return;const f=o?.tracks||((l=this.detachedData)==null?void 0:l.tracks)||this.requiredTracks;if(u&&s!==this.playingAsset){if(!t.tracks){this.log(`Waiting for track info before buffering ${t}`);return}if(f&&!Cm(f,t.tracks)){const A=new Error(`Asset ${rl(s)} SourceBuffer tracks ('${Object.keys(t.tracks)}') are not compatible with primary content tracks ('${Object.keys(f)}')`),p={fatal:!0,type:rn.OTHER_ERROR,details:_t.INTERSTITIAL_ASSET_ITEM_ERROR,error:A},m=d.findAssetIndex(s);this.handleAssetItemError(p,d,c,m,A.message);return}}this.transferMediaTo(t,n)}handleInPlaceStall(t){const n=this.schedule,i=this.primaryMedia;if(!n||!i)return;const l=i.currentTime,d=n.findAssetIndex(t,l),s=t.assetList[d];if(s){const c=this.getAssetPlayer(s.identifier);if(c){const e=c.currentTime||l-s.timelineStart,o=c.duration-e;if(this.warn(`Stalled at ${e} of ${e+o} in ${c} ${t} (media.currentTime: ${l})`),e&&(o/i.playbackRate<.5||c.bufferedInPlaceToEnd(i))&&c.hls){const u=n.findEventIndex(t.identifier);this.advanceAfterAssetEnded(t,u,d)}}}}advanceInPlace(t){const n=this.primaryMedia;n&&n.currentTime<t&&(n.currentTime=t)}handleAssetItemError(t,n,i,l,d){if(t.details===_t.BUFFER_STALLED_ERROR)return;const s=n.assetList[l]||null;if(this.warn(`INTERSTITIAL_ASSET_ERROR ${s&&rl(s)} ${t.error}`),!this.schedule)return;const c=s?.identifier||"",e=this.getAssetPlayerQueueIndex(c),o=this.playerQueue[e]||null,u=this.schedule.items,f=yr({},t,{fatal:!1,errorAction:al(!0),asset:s,assetListIndex:l,event:n,schedule:u,scheduleIndex:i,player:o});if(this.hls.trigger(G.INTERSTITIAL_ASSET_ERROR,f),!t.fatal)return;const A=this.playingAsset,p=this.bufferingAsset,m=new Error(d);if(s&&(this.clearAssetPlayer(c,null),s.error=m),!n.assetList.some(y=>!y.error))n.error=m;else for(let y=l;y<n.assetList.length;y++)this.resetAssetPlayer(n.assetList[y].identifier);this.updateSchedule(!0),n.error?this.primaryFallback(n):A&&A.identifier===c?this.advanceAfterAssetEnded(n,i,l):p&&p.identifier===c&&this.isInterstitial(this.bufferingItem)&&this.advanceAssetBuffering(this.bufferingItem,p)}primaryFallback(t){const n=t.timelineStart,i=this.effectivePlayingItem;if(i){this.log(`Fallback to primary from event "${t.identifier}" start: ${n} pos: ${this.timelinePos} playing: ${Es(i)} error: ${t.error}`);let l=this.timelinePos;l===-1&&(l=this.hls.startPosition);const d=this.updateItem(i,l);if(this.itemsMatch(i,d)&&this.clearInterstitial(t,null),t.appendInPlace&&(this.attachPrimary(n,null),this.flushFrontBuffer(n)),!this.schedule)return;const s=this.schedule.findItemIndexAtTime(l);this.setSchedulePosition(s)}else this.checkStart()}onAssetListLoaded(t,n){var i,l;const d=n.event,s=d.identifier,c=n.assetListResponse.ASSETS;if(!((i=this.schedule)!=null&&i.hasEvent(s)))return;const e=d.timelineStart,o=d.duration;let u=0;c.forEach((y,b)=>{const E=parseFloat(y.DURATION);this.createAsset(d,b,u,e+u,E,y.URI),u+=E}),d.duration=u,this.log(`Loaded asset-list with duration: ${u} (was: ${o}) ${d}`);const f=this.waitingItem,A=f?.event.identifier===s;this.updateSchedule();const p=(l=this.bufferingItem)==null?void 0:l.event;if(A){var m;const y=this.schedule.findEventIndex(s),b=(m=this.schedule.items)==null?void 0:m[y];if(b){if(!this.playingItem&&this.timelinePos>b.end&&this.schedule.findItemIndexAtTime(this.timelinePos)!==y){d.error=new Error(`Interstitial no longer within playback range ${this.timelinePos} ${d}`),this.updateSchedule(!0),this.primaryFallback(d);return}this.setBufferingItem(b)}this.setSchedulePosition(y)}else if(p?.identifier===s){const y=d.assetList[0];if(y){const b=this.getAssetPlayer(y.identifier);if(p.appendInPlace){const E=this.primaryMedia;b&&E&&this.bufferAssetPlayer(b,E)}else b&&b.loadSource()}}}onError(t,n){if(this.schedule)switch(n.details){case _t.ASSET_LIST_PARSING_ERROR:case _t.ASSET_LIST_LOAD_ERROR:case _t.ASSET_LIST_LOAD_TIMEOUT:{const i=n.interstitial;i&&(this.updateSchedule(!0),this.primaryFallback(i));break}case _t.BUFFER_STALLED_ERROR:{const i=this.endedItem||this.waitingItem||this.playingItem;if(this.isInterstitial(i)&&i.event.appendInPlace){this.handleInPlaceStall(i.event);return}this.log(`Primary player stall @${this.timelinePos} bufferedPos: ${this.bufferedPos}`),this.onTimeupdate(),this.checkBuffer(!0);break}}}}const rm=500;class fx extends Gh{constructor(t,n,i){super(t,n,i,"subtitle-stream-controller",Je.SUBTITLE),this.currentTrackId=-1,this.tracksBuffered=[],this.mainDetails=null,this.registerListeners()}onHandlerDestroying(){this.unregisterListeners(),super.onHandlerDestroying(),this.mainDetails=null}registerListeners(){super.registerListeners();const{hls:t}=this;t.on(G.LEVEL_LOADED,this.onLevelLoaded,this),t.on(G.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.on(G.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),t.on(G.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.on(G.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),t.on(G.BUFFER_FLUSHING,this.onBufferFlushing,this)}unregisterListeners(){super.unregisterListeners();const{hls:t}=this;t.off(G.LEVEL_LOADED,this.onLevelLoaded,this),t.off(G.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.off(G.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),t.off(G.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.off(G.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),t.off(G.BUFFER_FLUSHING,this.onBufferFlushing,this)}startLoad(t,n){this.stopLoad(),this.state=te.IDLE,this.setInterval(rm),this.nextLoadPosition=this.lastCurrentTime=t+this.timelineOffset,this.startPosition=n?-1:t,this.tick()}onManifestLoading(){super.onManifestLoading(),this.mainDetails=null}onMediaDetaching(t,n){this.tracksBuffered=[],super.onMediaDetaching(t,n)}onLevelLoaded(t,n){this.mainDetails=n.details}onSubtitleFragProcessed(t,n){const{frag:i,success:l}=n;if(this.fragContextChanged(i)||(qr(i)&&(this.fragPrevious=i),this.state=te.IDLE),!l)return;const d=this.tracksBuffered[this.currentTrackId];if(!d)return;let s;const c=i.start;for(let o=0;o<d.length;o++)if(c>=d[o].start&&c<=d[o].end){s=d[o];break}const e=i.start+i.duration;s?s.end=e:(s={start:c,end:e},d.push(s)),this.fragmentTracker.fragBuffered(i),this.fragBufferedComplete(i,null),this.media&&this.tick()}onBufferFlushing(t,n){const{startOffset:i,endOffset:l}=n;if(i===0&&l!==Number.POSITIVE_INFINITY){const d=l-1;if(d<=0)return;n.endOffsetSubtitles=Math.max(0,d),this.tracksBuffered.forEach(s=>{for(let c=0;c<s.length;){if(s[c].end<=d){s.shift();continue}else if(s[c].start<d)s[c].start=d;else break;c++}}),this.fragmentTracker.removeFragmentsInRange(i,d,Je.SUBTITLE)}}onError(t,n){const i=n.frag;i?.type===Je.SUBTITLE&&(n.details===_t.FRAG_GAP&&this.fragmentTracker.fragBuffered(i,!0),this.fragCurrent&&this.fragCurrent.abortRequests(),this.state!==te.STOPPED&&(this.state=te.IDLE))}onSubtitleTracksUpdated(t,{subtitleTracks:n}){if(this.levels&&bv(this.levels,n)){this.levels=n.map(i=>new nu(i));return}this.tracksBuffered=[],this.levels=n.map(i=>{const l=new nu(i);return this.tracksBuffered[l.id]=[],l}),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,Je.SUBTITLE),this.fragPrevious=null,this.mediaBuffer=null}onSubtitleTrackSwitch(t,n){var i;if(this.currentTrackId=n.id,!((i=this.levels)!=null&&i.length)||this.currentTrackId===-1){this.clearInterval();return}const l=this.levels[this.currentTrackId];l!=null&&l.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,l&&this.state!==te.STOPPED&&this.setInterval(rm)}onSubtitleTrackLoaded(t,n){var i;const{currentTrackId:l,levels:d}=this,{details:s,id:c}=n;if(!d){this.warn(`Subtitle tracks were reset while loading level ${c}`);return}const e=d[c];if(c>=d.length||!e)return;this.log(`Subtitle track ${c} loaded [${s.startSN},${s.endSN}]${s.lastPartSn?`[part-${s.lastPartSn}-${s.lastPartIndex}]`:""},duration:${s.totalduration}`),this.mediaBuffer=this.mediaBufferTimeRanges;let o=0;if(s.live||(i=e.details)!=null&&i.live){if(s.deltaUpdateFailed)return;const f=this.mainDetails;if(!f){this.startFragRequested=!1;return}const A=f.fragments[0];if(!e.details)s.hasProgramDateTime&&f.hasProgramDateTime?(zc(s,f),o=s.fragmentStart):A&&(o=A.start,vh(s,o));else{var u;o=this.alignPlaylists(s,e.details,(u=this.levelLastLoaded)==null?void 0:u.details),o===0&&A&&(o=A.start,vh(s,o))}f&&!this.startFragRequested&&this.setStartPosition(f,o)}e.details=s,this.levelLastLoaded=e,c===l&&(this.hls.trigger(G.SUBTITLE_TRACK_UPDATED,{details:s,id:c,groupId:n.groupId}),this.tick(),s.live&&!this.fragCurrent&&this.media&&this.state===te.IDLE&&(bo(null,s.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),e.details=void 0)))}_handleFragmentLoadComplete(t){const{frag:n,payload:i}=t,l=n.decryptdata,d=this.hls;if(!this.fragContextChanged(n)&&i&&i.byteLength>0&&l!=null&&l.key&&l.iv&&ol(l.method)){const s=performance.now();this.decrypter.decrypt(new Uint8Array(i),l.key.buffer,l.iv.buffer,Uh(l.method)).catch(c=>{throw d.trigger(G.ERROR,{type:rn.MEDIA_ERROR,details:_t.FRAG_DECRYPT_ERROR,fatal:!1,error:c,reason:c.message,frag:n}),c}).then(c=>{const e=performance.now();d.trigger(G.FRAG_DECRYPTED,{frag:n,payload:c,stats:{tstart:s,tdecrypt:e}})}).catch(c=>{this.warn(`${c.name}: ${c.message}`),this.state=te.IDLE})}}doTick(){if(!this.media){this.state=te.IDLE;return}if(this.state===te.IDLE){const{currentTrackId:t,levels:n}=this,i=n?.[t];if(!i||!n.length||!i.details||this.waitForLive(i))return;const{config:l}=this,d=this.getLoadPosition(),s=Pn.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],d,l.maxBufferHole),{end:c,len:e}=s,o=i.details,u=this.hls.maxBufferLength+o.levelTargetDuration;if(e>u)return;const f=o.fragments,A=f.length,p=o.edge;let m=null;const y=this.fragPrevious;if(c<p){const S=l.maxFragLookUpTolerance,T=c>p-S?0:S;m=bo(y,f,Math.max(f[0].start,c),T),!m&&y&&y.start<f[0].start&&(m=f[0])}else m=f[A-1];if(m=this.filterReplacedPrimary(m,i.details),!m)return;const b=m.sn-o.startSN,E=f[b-1];if(E&&E.cc===m.cc&&this.fragmentTracker.getState(E)===ni.NOT_LOADED&&(m=E),this.fragmentTracker.getState(m)===ni.NOT_LOADED){const S=this.mapToInitFragWhenRequired(m);S&&this.loadFragment(S,i,c)}}}loadFragment(t,n,i){qr(t)?super.loadFragment(t,n,i):this._loadInitSegment(t,n)}get mediaBufferTimeRanges(){return new dx(this.tracksBuffered[this.currentTrackId]||[])}}class dx{constructor(t){this.buffered=void 0;const n=(i,l,d)=>{if(l=l>>>0,l>d-1)throw new DOMException(`Failed to execute '${i}' on 'TimeRanges': The index provided (${l}) is greater than the maximum bound (${d})`);return t[l][i]};this.buffered={get length(){return t.length},end(i){return n("end",i,t.length)},start(i){return n("start",i,t.length)}}}}const hx={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},Pv=g=>String.fromCharCode(hx[g]||g),Ss=15,na=100,Ax={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},gx={17:2,18:4,21:6,22:8,23:10,19:13,20:15},px={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},mx={25:2,26:4,29:6,30:8,31:10,27:13,28:15},vx=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];class yx{constructor(){this.time=null,this.verboseLevel=0}log(t,n){if(this.verboseLevel>=t){const i=typeof n=="function"?n():n;hr.log(`${this.time} [${t}] ${i}`)}}}const mo=function(t){const n=[];for(let i=0;i<t.length;i++)n.push(t[i].toString(16));return n};class Nv{constructor(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}setStyles(t){const n=["foreground","underline","italics","background","flash"];for(let i=0;i<n.length;i++){const l=n[i];t.hasOwnProperty(l)&&(this[l]=t[l])}}isDefault(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash}equals(t){return this.foreground===t.foreground&&this.underline===t.underline&&this.italics===t.italics&&this.background===t.background&&this.flash===t.flash}copy(t){this.foreground=t.foreground,this.underline=t.underline,this.italics=t.italics,this.background=t.background,this.flash=t.flash}toString(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}class bx{constructor(){this.uchar=" ",this.penState=new Nv}reset(){this.uchar=" ",this.penState.reset()}setChar(t,n){this.uchar=t,this.penState.copy(n)}setPenState(t){this.penState.copy(t)}equals(t){return this.uchar===t.uchar&&this.penState.equals(t.penState)}copy(t){this.uchar=t.uchar,this.penState.copy(t.penState)}isEmpty(){return this.uchar===" "&&this.penState.isDefault()}}class Ex{constructor(t){this.chars=[],this.pos=0,this.currPenState=new Nv,this.cueStartTime=null,this.logger=void 0;for(let n=0;n<na;n++)this.chars.push(new bx);this.logger=t}equals(t){for(let n=0;n<na;n++)if(!this.chars[n].equals(t.chars[n]))return!1;return!0}copy(t){for(let n=0;n<na;n++)this.chars[n].copy(t.chars[n])}isEmpty(){let t=!0;for(let n=0;n<na;n++)if(!this.chars[n].isEmpty()){t=!1;break}return t}setCursor(t){this.pos!==t&&(this.pos=t),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>na&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=na)}moveCursor(t){const n=this.pos+t;if(t>1)for(let i=this.pos+1;i<n+1;i++)this.chars[i].setPenState(this.currPenState);this.setCursor(n)}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}insertChar(t){t>=144&&this.backSpace();const n=Pv(t);if(this.pos>=na){this.logger.log(0,()=>"Cannot insert "+t.toString(16)+" ("+n+") at position "+this.pos+". Skipping it!");return}this.chars[this.pos].setChar(n,this.currPenState),this.moveCursor(1)}clearFromPos(t){let n;for(n=t;n<na;n++)this.chars[n].reset()}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}clearToEndOfRow(){this.clearFromPos(this.pos)}getTextString(){const t=[];let n=!0;for(let i=0;i<na;i++){const l=this.chars[i].uchar;l!==" "&&(n=!1),t.push(l)}return n?"":t.join("")}setPenStyles(t){this.currPenState.setStyles(t),this.chars[this.pos].setPenState(this.currPenState)}}class th{constructor(t){this.rows=[],this.currRow=Ss-1,this.nrRollUpRows=null,this.lastOutputScreen=null,this.logger=void 0;for(let n=0;n<Ss;n++)this.rows.push(new Ex(t));this.logger=t}reset(){for(let t=0;t<Ss;t++)this.rows[t].clear();this.currRow=Ss-1}equals(t){let n=!0;for(let i=0;i<Ss;i++)if(!this.rows[i].equals(t.rows[i])){n=!1;break}return n}copy(t){for(let n=0;n<Ss;n++)this.rows[n].copy(t.rows[n])}isEmpty(){let t=!0;for(let n=0;n<Ss;n++)if(!this.rows[n].isEmpty()){t=!1;break}return t}backSpace(){this.rows[this.currRow].backSpace()}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()}insertChar(t){this.rows[this.currRow].insertChar(t)}setPen(t){this.rows[this.currRow].setPenStyles(t)}moveCursor(t){this.rows[this.currRow].moveCursor(t)}setCursor(t){this.logger.log(2,"setCursor: "+t),this.rows[this.currRow].setCursor(t)}setPAC(t){this.logger.log(2,()=>"pacData = "+Lr(t));let n=t.row-1;if(this.nrRollUpRows&&n<this.nrRollUpRows-1&&(n=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==n){for(let c=0;c<Ss;c++)this.rows[c].clear();const d=this.currRow+1-this.nrRollUpRows,s=this.lastOutputScreen;if(s){const c=s.rows[d].cueStartTime,e=this.logger.time;if(c!==null&&e!==null&&c<e)for(let o=0;o<this.nrRollUpRows;o++)this.rows[n-this.nrRollUpRows+o+1].copy(s.rows[d+o])}}this.currRow=n;const i=this.rows[this.currRow];if(t.indent!==null){const d=t.indent,s=Math.max(d-1,0);i.setCursor(t.indent),t.color=i.chars[s].penState.foreground}const l={foreground:t.color,underline:t.underline,italics:t.italics,background:"black",flash:!1};this.setPen(l)}setBkgData(t){this.logger.log(2,()=>"bkgData = "+Lr(t)),this.backSpace(),this.setPen(t),this.insertChar(32)}setRollUpRows(t){this.nrRollUpRows=t}rollUp(){if(this.nrRollUpRows===null){this.logger.log(3,"roll_up but nrRollUpRows not set yet");return}this.logger.log(1,()=>this.getDisplayText());const t=this.currRow+1-this.nrRollUpRows,n=this.rows.splice(t,1)[0];n.clear(),this.rows.splice(this.currRow,0,n),this.logger.log(2,"Rolling up")}getDisplayText(t){t=t||!1;const n=[];let i="",l=-1;for(let d=0;d<Ss;d++){const s=this.rows[d].getTextString();s&&(l=d+1,t?n.push("Row "+l+": '"+s+"'"):n.push(s.trim()))}return n.length>0&&(t?i="["+n.join(" | ")+"]":i=n.join(`
`)),i}getTextAndFormat(){return this.rows}}class im{constructor(t,n,i){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=t,this.outputFilter=n,this.mode=null,this.verbose=0,this.displayedMemory=new th(i),this.nonDisplayedMemory=new th(i),this.lastOutputScreen=new th(i),this.currRollUpRow=this.displayedMemory.rows[Ss-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=i}reset(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[Ss-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}getHandler(){return this.outputFilter}setHandler(t){this.outputFilter=t}setPAC(t){this.writeScreen.setPAC(t)}setBkgData(t){this.writeScreen.setBkgData(t)}setMode(t){t!==this.mode&&(this.mode=t,this.logger.log(2,()=>"MODE="+t),this.mode==="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=t)}insertChars(t){for(let i=0;i<t.length;i++)this.writeScreen.insertChar(t[i]);const n=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,()=>n+": "+this.writeScreen.getDisplayText(!0)),(this.mode==="MODE_PAINT-ON"||this.mode==="MODE_ROLL-UP")&&(this.logger.log(1,()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS(){this.logger.log(2,"BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(t){this.logger.log(2,"RU("+t+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(t)}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),this.mode==="MODE_POP-ON"){const t=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=t,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,()=>"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)}ccTO(t){this.logger.log(2,"TO("+t+") - Tab Offset"),this.writeScreen.moveCursor(t)}ccMIDROW(t){const n={flash:!1};if(n.underline=t%2===1,n.italics=t>=46,n.italics)n.foreground="white";else{const i=Math.floor(t/2)-16,l=["white","green","blue","cyan","red","yellow","magenta"];n.foreground=l[i]}this.logger.log(2,"MIDROW: "+Lr(n)),this.writeScreen.setPen(n)}outputDataUpdate(t=!1){const n=this.logger.time;n!==null&&this.outputFilter&&(this.cueStartTime===null&&!this.displayedMemory.isEmpty()?this.cueStartTime=n:this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,n,this.lastOutputScreen),t&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:n),this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(t){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,t,this.displayedMemory),this.cueStartTime=t))}}class sm{constructor(t,n,i){this.channels=void 0,this.currentChannel=0,this.cmdHistory=Sx(),this.logger=void 0;const l=this.logger=new yx;this.channels=[null,new im(t,n,l),new im(t+1,i,l)]}getHandler(t){return this.channels[t].getHandler()}setHandler(t,n){this.channels[t].setHandler(n)}addData(t,n){this.logger.time=t;for(let i=0;i<n.length;i+=2){const l=n[i]&127,d=n[i+1]&127;let s=!1,c=null;if(l===0&&d===0)continue;this.logger.log(3,()=>"["+mo([n[i],n[i+1]])+"] -> ("+mo([l,d])+")");const e=this.cmdHistory;if(l>=16&&l<=31){if(Cx(l,d,e)){Ec(null,null,e),this.logger.log(3,()=>"Repeated command ("+mo([l,d])+") is dropped");continue}Ec(l,d,this.cmdHistory),s=this.parseCmd(l,d),s||(s=this.parseMidrow(l,d)),s||(s=this.parsePAC(l,d)),s||(s=this.parseBackgroundAttributes(l,d))}else Ec(null,null,e);if(!s&&(c=this.parseChars(l,d),c)){const u=this.currentChannel;u&&u>0?this.channels[u].insertChars(c):this.logger.log(2,"No channel found yet. TEXT-MODE?")}!s&&!c&&this.logger.log(2,()=>"Couldn't parse cleaned data "+mo([l,d])+" orig: "+mo([n[i],n[i+1]]))}}parseCmd(t,n){const i=(t===20||t===28||t===21||t===29)&&n>=32&&n<=47,l=(t===23||t===31)&&n>=33&&n<=35;if(!(i||l))return!1;const d=t===20||t===21||t===23?1:2,s=this.channels[d];return t===20||t===21||t===28||t===29?n===32?s.ccRCL():n===33?s.ccBS():n===34?s.ccAOF():n===35?s.ccAON():n===36?s.ccDER():n===37?s.ccRU(2):n===38?s.ccRU(3):n===39?s.ccRU(4):n===40?s.ccFON():n===41?s.ccRDC():n===42?s.ccTR():n===43?s.ccRTD():n===44?s.ccEDM():n===45?s.ccCR():n===46?s.ccENM():n===47&&s.ccEOC():s.ccTO(n-32),this.currentChannel=d,!0}parseMidrow(t,n){let i=0;if((t===17||t===25)&&n>=32&&n<=47){if(t===17?i=1:i=2,i!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;const l=this.channels[i];return l?(l.ccMIDROW(n),this.logger.log(3,()=>"MIDROW ("+mo([t,n])+")"),!0):!1}return!1}parsePAC(t,n){let i;const l=(t>=17&&t<=23||t>=25&&t<=31)&&n>=64&&n<=127,d=(t===16||t===24)&&n>=64&&n<=95;if(!(l||d))return!1;const s=t<=23?1:2;n>=64&&n<=95?i=s===1?Ax[t]:px[t]:i=s===1?gx[t]:mx[t];const c=this.channels[s];return c?(c.setPAC(this.interpretPAC(i,n)),this.currentChannel=s,!0):!1}interpretPAC(t,n){let i;const l={color:null,italics:!1,indent:null,underline:!1,row:t};return n>95?i=n-96:i=n-64,l.underline=(i&1)===1,i<=13?l.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(i/2)]:i<=15?(l.italics=!0,l.color="white"):l.indent=Math.floor((i-16)/2)*4,l}parseChars(t,n){let i,l=null,d=null;if(t>=25?(i=2,d=t-8):(i=1,d=t),d>=17&&d<=19){let s;d===17?s=n+80:d===18?s=n+112:s=n+144,this.logger.log(2,()=>"Special char '"+Pv(s)+"' in channel "+i),l=[s]}else t>=32&&t<=127&&(l=n===0?[t]:[t,n]);return l&&this.logger.log(3,()=>"Char codes =  "+mo(l).join(",")),l}parseBackgroundAttributes(t,n){const i=(t===16||t===24)&&n>=32&&n<=47,l=(t===23||t===31)&&n>=45&&n<=47;if(!(i||l))return!1;let d;const s={};t===16||t===24?(d=Math.floor((n-32)/2),s.background=vx[d],n%2===1&&(s.background=s.background+"_semi")):n===45?s.background="transparent":(s.foreground="black",n===47&&(s.underline=!0));const c=t<=23?1:2;return this.channels[c].setBkgData(s),!0}reset(){for(let t=0;t<Object.keys(this.channels).length;t++){const n=this.channels[t];n&&n.reset()}Ec(null,null,this.cmdHistory)}cueSplitAtTime(t){for(let n=0;n<this.channels.length;n++){const i=this.channels[n];i&&i.cueSplitAtTime(t)}}}function Ec(g,t,n){n.a=g,n.b=t}function Cx(g,t,n){return n.a===g&&n.b===t}function Sx(){return{a:null,b:null}}var Zh=(function(){if(jc!=null&&jc.VTTCue)return self.VTTCue;const g=["","lr","rl"],t=["start","middle","end","left","right"];function n(c,e){if(typeof e!="string"||!Array.isArray(c))return!1;const o=e.toLowerCase();return~c.indexOf(o)?o:!1}function i(c){return n(g,c)}function l(c){return n(t,c)}function d(c,...e){let o=1;for(;o<arguments.length;o++){const u=arguments[o];for(const f in u)c[f]=u[f]}return c}function s(c,e,o){const u=this,f={enumerable:!0};u.hasBeenReset=!1;let A="",p=!1,m=c,y=e,b=o,E=null,S="",T=!0,L="auto",I="start",B=50,O="middle",_=50,M="middle";Object.defineProperty(u,"id",d({},f,{get:function(){return A},set:function(U){A=""+U}})),Object.defineProperty(u,"pauseOnExit",d({},f,{get:function(){return p},set:function(U){p=!!U}})),Object.defineProperty(u,"startTime",d({},f,{get:function(){return m},set:function(U){if(typeof U!="number")throw new TypeError("Start time must be set to a number.");m=U,this.hasBeenReset=!0}})),Object.defineProperty(u,"endTime",d({},f,{get:function(){return y},set:function(U){if(typeof U!="number")throw new TypeError("End time must be set to a number.");y=U,this.hasBeenReset=!0}})),Object.defineProperty(u,"text",d({},f,{get:function(){return b},set:function(U){b=""+U,this.hasBeenReset=!0}})),Object.defineProperty(u,"region",d({},f,{get:function(){return E},set:function(U){E=U,this.hasBeenReset=!0}})),Object.defineProperty(u,"vertical",d({},f,{get:function(){return S},set:function(U){const Q=i(U);if(Q===!1)throw new SyntaxError("An invalid or illegal string was specified.");S=Q,this.hasBeenReset=!0}})),Object.defineProperty(u,"snapToLines",d({},f,{get:function(){return T},set:function(U){T=!!U,this.hasBeenReset=!0}})),Object.defineProperty(u,"line",d({},f,{get:function(){return L},set:function(U){if(typeof U!="number"&&U!=="auto")throw new SyntaxError("An invalid number or illegal string was specified.");L=U,this.hasBeenReset=!0}})),Object.defineProperty(u,"lineAlign",d({},f,{get:function(){return I},set:function(U){const Q=l(U);if(!Q)throw new SyntaxError("An invalid or illegal string was specified.");I=Q,this.hasBeenReset=!0}})),Object.defineProperty(u,"position",d({},f,{get:function(){return B},set:function(U){if(U<0||U>100)throw new Error("Position must be between 0 and 100.");B=U,this.hasBeenReset=!0}})),Object.defineProperty(u,"positionAlign",d({},f,{get:function(){return O},set:function(U){const Q=l(U);if(!Q)throw new SyntaxError("An invalid or illegal string was specified.");O=Q,this.hasBeenReset=!0}})),Object.defineProperty(u,"size",d({},f,{get:function(){return _},set:function(U){if(U<0||U>100)throw new Error("Size must be between 0 and 100.");_=U,this.hasBeenReset=!0}})),Object.defineProperty(u,"align",d({},f,{get:function(){return M},set:function(U){const Q=l(U);if(!Q)throw new SyntaxError("An invalid or illegal string was specified.");M=Q,this.hasBeenReset=!0}})),u.displayState=void 0}return s.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},s})();class xx{decode(t,n){if(!t)return"";if(typeof t!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}function Uv(g){function t(i,l,d,s){return(i|0)*3600+(l|0)*60+(d|0)+parseFloat(s||0)}const n=g.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return n?parseFloat(n[2])>59?t(n[2],n[3],0,n[4]):t(n[1],n[2],n[3],n[4]):null}class Tx{constructor(){this.values=Object.create(null)}set(t,n){!this.get(t)&&n!==""&&(this.values[t]=n)}get(t,n,i){return i?this.has(t)?this.values[t]:n[i]:this.has(t)?this.values[t]:n}has(t){return t in this.values}alt(t,n,i){for(let l=0;l<i.length;++l)if(n===i[l]){this.set(t,n);break}}integer(t,n){/^-?\d+$/.test(n)&&this.set(t,parseInt(n,10))}percent(t,n){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(n)){const i=parseFloat(n);if(i>=0&&i<=100)return this.set(t,i),!0}return!1}}function Fv(g,t,n,i){const l=i?g.split(i):[g];for(const d in l){if(typeof l[d]!="string")continue;const s=l[d].split(n);if(s.length!==2)continue;const c=s[0],e=s[1];t(c,e)}}const wh=new Zh(0,0,""),Cc=wh.align==="middle"?"middle":"center";function wx(g,t,n){const i=g;function l(){const c=Uv(g);if(c===null)throw new Error("Malformed timestamp: "+i);return g=g.replace(/^[^\sa-zA-Z-]+/,""),c}function d(c,e){const o=new Tx;Fv(c,function(A,p){let m;switch(A){case"region":for(let y=n.length-1;y>=0;y--)if(n[y].id===p){o.set(A,n[y].region);break}break;case"vertical":o.alt(A,p,["rl","lr"]);break;case"line":m=p.split(","),o.integer(A,m[0]),o.percent(A,m[0])&&o.set("snapToLines",!1),o.alt(A,m[0],["auto"]),m.length===2&&o.alt("lineAlign",m[1],["start",Cc,"end"]);break;case"position":m=p.split(","),o.percent(A,m[0]),m.length===2&&o.alt("positionAlign",m[1],["start",Cc,"end","line-left","line-right","auto"]);break;case"size":o.percent(A,p);break;case"align":o.alt(A,p,["start",Cc,"end","left","right"]);break}},/:/,/\s/),e.region=o.get("region",null),e.vertical=o.get("vertical","");let u=o.get("line","auto");u==="auto"&&wh.line===-1&&(u=-1),e.line=u,e.lineAlign=o.get("lineAlign","start"),e.snapToLines=o.get("snapToLines",!0),e.size=o.get("size",100),e.align=o.get("align",Cc);let f=o.get("position","auto");f==="auto"&&wh.position===50&&(f=e.align==="start"||e.align==="left"?0:e.align==="end"||e.align==="right"?100:50),e.position=f}function s(){g=g.replace(/^\s+/,"")}if(s(),t.startTime=l(),s(),g.slice(0,3)!=="-->")throw new Error("Malformed time stamp (time stamps must be separated by '-->'): "+i);g=g.slice(3),s(),t.endTime=l(),s(),d(g,t)}function Gv(g){return g.replace(/<br(?: \/)?>/gi,`
`)}class Lx{constructor(){this.state="INITIAL",this.buffer="",this.decoder=new xx,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}parse(t){const n=this;t&&(n.buffer+=n.decoder.decode(t,{stream:!0}));function i(){let d=n.buffer,s=0;for(d=Gv(d);s<d.length&&d[s]!=="\r"&&d[s]!==`
`;)++s;const c=d.slice(0,s);return d[s]==="\r"&&++s,d[s]===`
`&&++s,n.buffer=d.slice(s),c}function l(d){Fv(d,function(s,c){},/:/)}try{let d="";if(n.state==="INITIAL"){if(!/\r\n|\n/.test(n.buffer))return this;d=i();const c=d.match(/^()?WEBVTT([ \t].*)?$/);if(!(c!=null&&c[0]))throw new Error("Malformed WebVTT signature.");n.state="HEADER"}let s=!1;for(;n.buffer;){if(!/\r\n|\n/.test(n.buffer))return this;switch(s?s=!1:d=i(),n.state){case"HEADER":/:/.test(d)?l(d):d||(n.state="ID");continue;case"NOTE":d||(n.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(d)){n.state="NOTE";break}if(!d)continue;if(n.cue=new Zh(0,0,""),n.state="CUE",d.indexOf("-->")===-1){n.cue.id=d;continue}case"CUE":if(!n.cue){n.state="BADCUE";continue}try{wx(d,n.cue,n.regionList)}catch{n.cue=null,n.state="BADCUE";continue}n.state="CUETEXT";continue;case"CUETEXT":{const c=d.indexOf("-->")!==-1;if(!d||c&&(s=!0)){n.oncue&&n.cue&&n.oncue(n.cue),n.cue=null,n.state="ID";continue}if(n.cue===null)continue;n.cue.text&&(n.cue.text+=`
`),n.cue.text+=d}continue;case"BADCUE":d||(n.state="ID")}}}catch{n.state==="CUETEXT"&&n.cue&&n.oncue&&n.oncue(n.cue),n.cue=null,n.state=n.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this}flush(){const t=this;try{if((t.cue||t.state==="HEADER")&&(t.buffer+=`

`,t.parse()),t.state==="INITIAL"||t.state==="BADWEBVTT")throw new Error("Malformed WebVTT signature.")}catch(n){t.onparsingerror&&t.onparsingerror(n)}return t.onflush&&t.onflush(),this}}const Rx=/\r\n|\n\r|\n|\r/g,eh=function(t,n,i=0){return t.slice(i,i+n.length)===n},Ix=function(t){let n=parseInt(t.slice(-3));const i=parseInt(t.slice(-6,-4)),l=parseInt(t.slice(-9,-7)),d=t.length>9?parseInt(t.substring(0,t.indexOf(":"))):0;if(!je(n)||!je(i)||!je(l)||!je(d))throw Error(`Malformed X-TIMESTAMP-MAP: Local:${t}`);return n+=1e3*i,n+=60*1e3*l,n+=3600*1e3*d,n};function Jh(g,t,n){return tu(g.toString())+tu(t.toString())+tu(n)}const Dx=function(t,n,i){let l=t[n],d=t[l.prevCC];if(!d||!d.new&&l.new){t.ccOffset=t.presentationOffset=l.start,l.new=!1;return}for(;(s=d)!=null&&s.new;){var s;t.ccOffset+=l.start-d.start,l.new=!1,l=d,d=t[l.prevCC]}t.presentationOffset=i};function kx(g,t,n,i,l,d,s){const c=new Lx,e=Xi(new Uint8Array(g)).trim().replace(Rx,`
`).split(`
`),o=[],u=t?UC(t.baseTime,t.timescale):0;let f="00:00.000",A=0,p=0,m,y=!0;c.oncue=function(b){const E=n[i];let S=n.ccOffset;const T=(A-u)/9e4;if(E!=null&&E.new&&(p!==void 0?S=n.ccOffset=E.start:Dx(n,i,T)),T){if(!t){m=new Error("Missing initPTS for VTT MPEGTS");return}S=T-n.presentationOffset}const L=b.endTime-b.startTime,I=is((b.startTime+S-p)*9e4,l*9e4)/9e4;b.startTime=Math.max(I,0),b.endTime=Math.max(I+L,0);const B=b.text.trim();b.text=decodeURIComponent(encodeURIComponent(B)),b.id||(b.id=Jh(b.startTime,b.endTime,B)),b.endTime>0&&o.push(b)},c.onparsingerror=function(b){m=b},c.onflush=function(){if(m){s(m);return}d(o)},e.forEach(b=>{if(y)if(eh(b,"X-TIMESTAMP-MAP=")){y=!1,b.slice(16).split(",").forEach(E=>{eh(E,"LOCAL:")?f=E.slice(6):eh(E,"MPEGTS:")&&(A=parseInt(E.slice(7)))});try{p=Ix(f)/1e3}catch(E){m=E}return}else b===""&&(y=!1);c.parse(b+`
`)}),c.flush()}const nh="stpp.ttml.im1t",Qv=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,jv=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,Bx={left:"start",center:"center",right:"end",start:"start",end:"end"};function am(g,t,n,i){const l=Hn(new Uint8Array(g),["mdat"]);if(l.length===0){i(new Error("Could not parse IMSC1 mdat"));return}const d=l.map(c=>Xi(c)),s=NC(t.baseTime,1,t.timescale);try{d.forEach(c=>n(Ox(c,s)))}catch(c){i(c)}}function Ox(g,t){const l=new DOMParser().parseFromString(g,"text/xml").getElementsByTagName("tt")[0];if(!l)throw new Error("Invalid ttml");const d={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},s=Object.keys(d).reduce((f,A)=>(f[A]=l.getAttribute(`ttp:${A}`)||d[A],f),{}),c=l.getAttribute("xml:space")!=="preserve",e=om(rh(l,"styling","style")),o=om(rh(l,"layout","region")),u=rh(l,"body","[begin]");return[].map.call(u,f=>{const A=zv(f,c);if(!A||!f.hasAttribute("begin"))return null;const p=sh(f.getAttribute("begin"),s),m=sh(f.getAttribute("dur"),s);let y=sh(f.getAttribute("end"),s);if(p===null)throw lm(f);if(y===null){if(m===null)throw lm(f);y=p+m}const b=new Zh(p-t,y-t,A);b.id=Jh(b.startTime,b.endTime,b.text);const E=o[f.getAttribute("region")],S=e[f.getAttribute("style")],T=_x(E,S,e),{textAlign:L}=T;if(L){const I=Bx[L];I&&(b.lineAlign=I),b.align=L}return yr(b,T),b}).filter(f=>f!==null)}function rh(g,t,n){const i=g.getElementsByTagName(t)[0];return i?[].slice.call(i.querySelectorAll(n)):[]}function om(g){return g.reduce((t,n)=>{const i=n.getAttribute("xml:id");return i&&(t[i]=n),t},{})}function zv(g,t){return[].slice.call(g.childNodes).reduce((n,i,l)=>{var d;return i.nodeName==="br"&&l?n+`
`:(d=i.childNodes)!=null&&d.length?zv(i,t):t?n+i.textContent.trim().replace(/\s+/g," "):n+i.textContent},"")}function _x(g,t,n){const i="http://www.w3.org/ns/ttml#styling";let l=null;const d=["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"],s=g!=null&&g.hasAttribute("style")?g.getAttribute("style"):null;return s&&n.hasOwnProperty(s)&&(l=n[s]),d.reduce((c,e)=>{const o=ih(t,i,e)||ih(g,i,e)||ih(l,i,e);return o&&(c[e]=o),c},{})}function ih(g,t,n){return g&&g.hasAttributeNS(t,n)?g.getAttributeNS(t,n):null}function lm(g){return new Error(`Could not parse ttml timestamp ${g}`)}function sh(g,t){if(!g)return null;let n=Uv(g);return n===null&&(Qv.test(g)?n=Mx(g,t):jv.test(g)&&(n=Px(g,t))),n}function Mx(g,t){const n=Qv.exec(g),i=(n[4]|0)+(n[5]|0)/t.subFrameRate;return(n[1]|0)*3600+(n[2]|0)*60+(n[3]|0)+i/t.frameRate}function Px(g,t){const n=jv.exec(g),i=Number(n[1]);switch(n[2]){case"h":return i*3600;case"m":return i*60;case"ms":return i*1e3;case"f":return i/t.frameRate;case"t":return i/t.tickRate}return i}class Sc{constructor(t,n){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=t,this.trackName=n}dispatchCue(){this.startTime!==null&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}newCue(t,n,i){(this.startTime===null||this.startTime>t)&&(this.startTime=t),this.endTime=n,this.screen=i,this.timelineController.createCaptionsTrack(this.trackName)}reset(){this.cueRanges=[],this.startTime=null}}class Nx{constructor(t){this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=cm(),this.captionsProperties=void 0,this.hls=t,this.config=t.config,this.Cues=t.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},t.on(G.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(G.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(G.MANIFEST_LOADING,this.onManifestLoading,this),t.on(G.MANIFEST_LOADED,this.onManifestLoaded,this),t.on(G.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.on(G.FRAG_LOADING,this.onFragLoading,this),t.on(G.FRAG_LOADED,this.onFragLoaded,this),t.on(G.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),t.on(G.FRAG_DECRYPTED,this.onFragDecrypted,this),t.on(G.INIT_PTS_FOUND,this.onInitPtsFound,this),t.on(G.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),t.on(G.BUFFER_FLUSHING,this.onBufferFlushing,this)}destroy(){const{hls:t}=this;t.off(G.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(G.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(G.MANIFEST_LOADING,this.onManifestLoading,this),t.off(G.MANIFEST_LOADED,this.onManifestLoaded,this),t.off(G.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.off(G.FRAG_LOADING,this.onFragLoading,this),t.off(G.FRAG_LOADED,this.onFragLoaded,this),t.off(G.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),t.off(G.FRAG_DECRYPTED,this.onFragDecrypted,this),t.off(G.INIT_PTS_FOUND,this.onInitPtsFound,this),t.off(G.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),t.off(G.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.media=null,this.cea608Parser1=this.cea608Parser2=void 0}initCea608Parsers(){const t=new Sc(this,"textTrack1"),n=new Sc(this,"textTrack2"),i=new Sc(this,"textTrack3"),l=new Sc(this,"textTrack4");this.cea608Parser1=new sm(1,t,n),this.cea608Parser2=new sm(3,i,l)}addCues(t,n,i,l,d){let s=!1;for(let c=d.length;c--;){const e=d[c],o=Ux(e[0],e[1],n,i);if(o>=0&&(e[0]=Math.min(e[0],n),e[1]=Math.max(e[1],i),s=!0,o/(i-n)>.5))return}if(s||d.push([n,i]),this.config.renderTextTracksNatively){const c=this.captionsTracks[t];this.Cues.newCue(c,n,i,l)}else{const c=this.Cues.newCue(null,n,i,l);this.hls.trigger(G.CUES_PARSED,{type:"captions",cues:c,track:t})}}onInitPtsFound(t,{frag:n,id:i,initPTS:l,timescale:d,trackId:s}){const{unparsedVttFrags:c}=this;i===Je.MAIN&&(this.initPTS[n.cc]={baseTime:l,timescale:d,trackId:s}),c.length&&(this.unparsedVttFrags=[],c.forEach(e=>{this.initPTS[e.frag.cc]?this.onFragLoaded(G.FRAG_LOADED,e):this.hls.trigger(G.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e.frag,error:new Error("Subtitle discontinuity domain does not match main")})}))}getExistingTrack(t,n){const{media:i}=this;if(i)for(let l=0;l<i.textTracks.length;l++){const d=i.textTracks[l];if(um(d,{name:t,lang:n,characteristics:"transcribes-spoken-dialog,describes-music-and-sound"}))return d}return null}createCaptionsTrack(t){this.config.renderTextTracksNatively?this.createNativeTrack(t):this.createNonNativeTrack(t)}createNativeTrack(t){if(this.captionsTracks[t])return;const{captionsProperties:n,captionsTracks:i,media:l}=this,{label:d,languageCode:s}=n[t],c=this.getExistingTrack(d,s);if(c)i[t]=c,sl(i[t]),Ov(i[t],l);else{const e=this.createTextTrack("captions",d,s);e&&(e[t]=!0,i[t]=e)}}createNonNativeTrack(t){if(this.nonNativeCaptionsTracks[t])return;const n=this.captionsProperties[t];if(!n)return;const i=n.label,l={_id:t,label:i,kind:"captions",default:n.media?!!n.media.default:!1,closedCaptions:n.media};this.nonNativeCaptionsTracks[t]=l,this.hls.trigger(G.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[l]})}createTextTrack(t,n,i){const l=this.media;if(l)return l.addTextTrack(t,n,i)}onMediaAttaching(t,n){this.media=n.media,n.mediaSource||this._cleanTracks()}onMediaDetaching(t,n){const i=!!n.transferMedia;if(this.media=null,i)return;const{captionsTracks:l}=this;Object.keys(l).forEach(d=>{sl(l[d]),delete l[d]}),this.nonNativeCaptionsTracks={}}onManifestLoading(){this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=cm(),this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}_cleanTracks(){const{media:t}=this;if(!t)return;const n=t.textTracks;if(n)for(let i=0;i<n.length;i++)sl(n[i])}onSubtitleTracksUpdated(t,n){const i=n.subtitleTracks||[],l=i.some(d=>d.textCodec===nh);if(this.config.enableWebVTT||l&&this.config.enableIMSC1){if(bv(this.tracks,i)){this.tracks=i;return}if(this.textTracks=[],this.tracks=i,this.config.renderTextTracksNatively){const s=this.media,c=s?Bc(s.textTracks):null;if(this.tracks.forEach((e,o)=>{let u;if(c){let f=null;for(let A=0;A<c.length;A++)if(c[A]&&um(c[A],e)){f=c[A],c[A]=null;break}f&&(u=f)}if(u)sl(u);else{const f=Hv(e);u=this.createTextTrack(f,e.name,e.lang),u&&(u.mode="disabled")}u&&this.textTracks.push(u)}),c!=null&&c.length){const e=c.filter(o=>o!==null).map(o=>o.label);e.length&&this.hls.logger.warn(`Media element contains unused subtitle tracks: ${e.join(", ")}. Replace media element for each source to clear TextTracks and captions menu.`)}}else if(this.tracks.length){const s=this.tracks.map(c=>({label:c.name,kind:c.type.toLowerCase(),default:c.default,subtitleTrack:c}));this.hls.trigger(G.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:s})}}}onManifestLoaded(t,n){this.config.enableCEA708Captions&&n.captions&&n.captions.forEach(i=>{const l=/(?:CC|SERVICE)([1-4])/.exec(i.instreamId);if(!l)return;const d=`textTrack${l[1]}`,s=this.captionsProperties[d];s&&(s.label=i.name,i.lang&&(s.languageCode=i.lang),s.media=i)})}closedCaptionsForLevel(t){const n=this.hls.levels[t.level];return n?.attrs["CLOSED-CAPTIONS"]}onFragLoading(t,n){if(this.enabled&&n.frag.type===Je.MAIN){var i,l;const{cea608Parser1:d,cea608Parser2:s,lastSn:c}=this,{cc:e,sn:o}=n.frag,u=(i=(l=n.part)==null?void 0:l.index)!=null?i:-1;d&&s&&(o!==c+1||o===c&&u!==this.lastPartIndex+1||e!==this.lastCc)&&(d.reset(),s.reset()),this.lastCc=e,this.lastSn=o,this.lastPartIndex=u}}onFragLoaded(t,n){const{frag:i,payload:l}=n;if(i.type===Je.SUBTITLE)if(l.byteLength){const d=i.decryptdata,s="stats"in n;if(d==null||!d.encrypted||s){const c=this.tracks[i.level],e=this.vttCCs;e[i.cc]||(e[i.cc]={start:i.start,prevCC:this.prevCC,new:!0},this.prevCC=i.cc),c&&c.textCodec===nh?this._parseIMSC1(i,l):this._parseVTTs(n)}}else this.hls.trigger(G.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:i,error:new Error("Empty subtitle payload")})}_parseIMSC1(t,n){const i=this.hls;am(n,this.initPTS[t.cc],l=>{this._appendCues(l,t.level),i.trigger(G.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:t})},l=>{i.logger.log(`Failed to parse IMSC1: ${l}`),i.trigger(G.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t,error:l})})}_parseVTTs(t){var n;const{frag:i,payload:l}=t,{initPTS:d,unparsedVttFrags:s}=this,c=d.length-1;if(!d[i.cc]&&c===-1){s.push(t);return}const e=this.hls,o=(n=i.initSegment)!=null&&n.data?ss(i.initSegment.data,new Uint8Array(l)).buffer:l;kx(o,this.initPTS[i.cc],this.vttCCs,i.cc,i.start,u=>{this._appendCues(u,i.level),e.trigger(G.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:i})},u=>{const f=u.message==="Missing initPTS for VTT MPEGTS";f?s.push(t):this._fallbackToIMSC1(i,l),e.logger.log(`Failed to parse VTT cue: ${u}`),!(f&&c>i.cc)&&e.trigger(G.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:i,error:u})})}_fallbackToIMSC1(t,n){const i=this.tracks[t.level];i.textCodec||am(n,this.initPTS[t.cc],()=>{i.textCodec=nh,this._parseIMSC1(t,n)},()=>{i.textCodec="wvtt"})}_appendCues(t,n){const i=this.hls;if(this.config.renderTextTracksNatively){const l=this.textTracks[n];if(!l||l.mode==="disabled")return;t.forEach(d=>_v(l,d))}else{const l=this.tracks[n];if(!l)return;const d=l.default?"default":"subtitles"+n;i.trigger(G.CUES_PARSED,{type:"subtitles",cues:t,track:d})}}onFragDecrypted(t,n){const{frag:i}=n;i.type===Je.SUBTITLE&&this.onFragLoaded(G.FRAG_LOADED,n)}onSubtitleTracksCleared(){this.tracks=[],this.captionsTracks={}}onFragParsingUserdata(t,n){if(!this.enabled||!this.config.enableCEA708Captions)return;const{frag:i,samples:l}=n;if(!(i.type===Je.MAIN&&this.closedCaptionsForLevel(i)==="NONE"))for(let d=0;d<l.length;d++){const s=l[d].bytes;if(s){this.cea608Parser1||this.initCea608Parsers();const c=this.extractCea608Data(s);this.cea608Parser1.addData(l[d].pts,c[0]),this.cea608Parser2.addData(l[d].pts,c[1])}}}onBufferFlushing(t,{startOffset:n,endOffset:i,endOffsetSubtitles:l,type:d}){const{media:s}=this;if(!(!s||s.currentTime<i)){if(!d||d==="video"){const{captionsTracks:c}=this;Object.keys(c).forEach(e=>Th(c[e],n,i))}if(this.config.renderTextTracksNatively&&n===0&&l!==void 0){const{textTracks:c}=this;Object.keys(c).forEach(e=>Th(c[e],n,l))}}}extractCea608Data(t){const n=[[],[]],i=t[0]&31;let l=2;for(let d=0;d<i;d++){const s=t[l++],c=127&t[l++],e=127&t[l++];if(c===0&&e===0)continue;if((4&s)!==0){const u=3&s;(u===0||u===1)&&(n[u].push(c),n[u].push(e))}}return n}}function Hv(g){return g.characteristics&&/transcribes-spoken-dialog/gi.test(g.characteristics)&&/describes-music-and-sound/gi.test(g.characteristics)?"captions":"subtitles"}function um(g,t){return!!g&&g.kind===Hv(t)&&Eh(t,g)}function Ux(g,t,n,i){return Math.min(t,i)-Math.max(g,n)}function cm(){return{ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}}}const Fx=/\s/,Gx={newCue(g,t,n,i){const l=[];let d,s,c,e,o;const u=self.VTTCue||self.TextTrackCue;for(let A=0;A<i.rows.length;A++)if(d=i.rows[A],c=!0,e=0,o="",!d.isEmpty()){var f;for(let y=0;y<d.chars.length;y++)Fx.test(d.chars[y].uchar)&&c?e++:(o+=d.chars[y].uchar,c=!1);d.cueStartTime=t,t===n&&(n+=1e-4),e>=16?e--:e++;const p=Gv(o.trim()),m=Jh(t,n,p);g!=null&&(f=g.cues)!=null&&f.getCueById(m)||(s=new u(t,n,p),s.id=m,s.line=A+1,s.align="left",s.position=10+Math.min(80,Math.floor(e*8/32)*10),l.push(s))}return g&&l.length&&(l.sort((A,p)=>A.line==="auto"||p.line==="auto"?0:A.line>8&&p.line>8?p.line-A.line:A.line-p.line),l.forEach(A=>_v(g,A))),l}};function Qx(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch{}return!1}const jx=/(\d+)-(\d+)\/(\d+)/;class fm{constructor(t){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=null,this.response=null,this.controller=void 0,this.context=null,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=t.fetchSetup||$x,this.controller=new self.AbortController,this.stats=new kh}destroy(){this.loader=this.callbacks=this.context=this.config=this.request=null,this.abortInternal(),this.response=null,this.fetchSetup=this.controller=this.stats=null}abortInternal(){this.controller&&!this.stats.loading.end&&(this.stats.aborted=!0,this.controller.abort())}abort(){var t;this.abortInternal(),(t=this.callbacks)!=null&&t.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}load(t,n,i){const l=this.stats;if(l.loading.start)throw new Error("Loader can only be used once.");l.loading.start=self.performance.now();const d=zx(t,this.controller.signal),s=t.responseType==="arraybuffer",c=s?"byteLength":"length",{maxTimeToFirstByteMs:e,maxLoadTimeMs:o}=n.loadPolicy;this.context=t,this.config=n,this.callbacks=i,this.request=this.fetchSetup(t,d),self.clearTimeout(this.requestTimeout),n.timeout=e&&je(e)?e:o,this.requestTimeout=self.setTimeout(()=>{this.callbacks&&(this.abortInternal(),this.callbacks.onTimeout(l,t,this.response))},n.timeout),(su(this.request)?this.request.then(self.fetch):self.fetch(this.request)).then(f=>{var A;this.response=this.loader=f;const p=Math.max(self.performance.now(),l.loading.start);if(self.clearTimeout(this.requestTimeout),n.timeout=o,this.requestTimeout=self.setTimeout(()=>{this.callbacks&&(this.abortInternal(),this.callbacks.onTimeout(l,t,this.response))},o-(p-l.loading.start)),!f.ok){const{status:y,statusText:b}=f;throw new Vx(b||"fetch, bad network response",y,f)}l.loading.first=p,l.total=Yx(f.headers)||l.total;const m=(A=this.callbacks)==null?void 0:A.onProgress;return m&&je(n.highWaterMark)?this.loadProgressively(f,l,t,n.highWaterMark,m):s?f.arrayBuffer():t.responseType==="json"?f.json():f.text()}).then(f=>{var A,p;const m=this.response;if(!m)throw new Error("loader destroyed");self.clearTimeout(this.requestTimeout),l.loading.end=Math.max(self.performance.now(),l.loading.first);const y=f[c];y&&(l.loaded=l.total=y);const b={url:m.url,data:f,code:m.status},E=(A=this.callbacks)==null?void 0:A.onProgress;E&&!je(n.highWaterMark)&&E(l,t,f,m),(p=this.callbacks)==null||p.onSuccess(b,l,t,m)}).catch(f=>{var A;if(self.clearTimeout(this.requestTimeout),l.aborted)return;const p=f&&f.code||0,m=f?f.message:null;(A=this.callbacks)==null||A.onError({code:p,text:m},t,f?f.details:null,l)})}getCacheAge(){let t=null;if(this.response){const n=this.response.headers.get("age");t=n?parseFloat(n):null}return t}getResponseHeader(t){return this.response?this.response.headers.get(t):null}loadProgressively(t,n,i,l=0,d){const s=new tv,c=t.body.getReader(),e=()=>c.read().then(o=>{if(o.done)return s.dataLength&&d(n,i,s.flush().buffer,t),Promise.resolve(new ArrayBuffer(0));const u=o.value,f=u.length;return n.loaded+=f,f<l||s.dataLength?(s.push(u),s.dataLength>=l&&d(n,i,s.flush().buffer,t)):d(n,i,u.buffer,t),e()}).catch(()=>Promise.reject());return e()}}function zx(g,t){const n={method:"GET",mode:"cors",credentials:"same-origin",signal:t,headers:new self.Headers(yr({},g.headers))};return g.rangeEnd&&n.headers.set("Range","bytes="+g.rangeStart+"-"+String(g.rangeEnd-1)),n}function Hx(g){const t=jx.exec(g);if(t)return parseInt(t[2])-parseInt(t[1])+1}function Yx(g){const t=g.get("Content-Range");if(t){const i=Hx(t);if(je(i))return i}const n=g.get("Content-Length");if(n)return parseInt(n)}function $x(g,t){return new self.Request(g.url,t)}class Vx extends Error{constructor(t,n,i){super(t),this.code=void 0,this.details=void 0,this.code=n,this.details=i}}const Kx=/^age:\s*[\d.]+\s*$/im;class Yv{constructor(t){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=null,this.loader=null,this.stats=void 0,this.xhrSetup=t&&t.xhrSetup||null,this.stats=new kh,this.retryDelay=0}destroy(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null,this.context=null,this.xhrSetup=null}abortInternal(){const t=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),t&&(t.onreadystatechange=null,t.onprogress=null,t.readyState!==4&&(this.stats.aborted=!0,t.abort()))}abort(){var t;this.abortInternal(),(t=this.callbacks)!=null&&t.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}load(t,n,i){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=t,this.config=n,this.callbacks=i,this.loadInternal()}loadInternal(){const{config:t,context:n}=this;if(!t||!n)return;const i=this.loader=new self.XMLHttpRequest,l=this.stats;l.loading.first=0,l.loaded=0,l.aborted=!1;const d=this.xhrSetup;d?Promise.resolve().then(()=>{if(!(this.loader!==i||this.stats.aborted))return d(i,n.url)}).catch(s=>{if(!(this.loader!==i||this.stats.aborted))return i.open("GET",n.url,!0),d(i,n.url)}).then(()=>{this.loader!==i||this.stats.aborted||this.openAndSendXhr(i,n,t)}).catch(s=>{var c;(c=this.callbacks)==null||c.onError({code:i.status,text:s.message},n,i,l)}):this.openAndSendXhr(i,n,t)}openAndSendXhr(t,n,i){t.readyState||t.open("GET",n.url,!0);const l=n.headers,{maxTimeToFirstByteMs:d,maxLoadTimeMs:s}=i.loadPolicy;if(l)for(const c in l)t.setRequestHeader(c,l[c]);n.rangeEnd&&t.setRequestHeader("Range","bytes="+n.rangeStart+"-"+(n.rangeEnd-1)),t.onreadystatechange=this.readystatechange.bind(this),t.onprogress=this.loadprogress.bind(this),t.responseType=n.responseType,self.clearTimeout(this.requestTimeout),i.timeout=d&&je(d)?d:s,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),i.timeout),t.send()}readystatechange(){const{context:t,loader:n,stats:i}=this;if(!t||!n)return;const l=n.readyState,d=this.config;if(!i.aborted&&l>=2&&(i.loading.first===0&&(i.loading.first=Math.max(self.performance.now(),i.loading.start),d.timeout!==d.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),d.timeout=d.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),d.loadPolicy.maxLoadTimeMs-(i.loading.first-i.loading.start)))),l===4)){self.clearTimeout(this.requestTimeout),n.onreadystatechange=null,n.onprogress=null;const o=n.status,u=n.responseType==="text"?n.responseText:null;if(o>=200&&o<300){const m=u??n.response;if(m!=null){var s,c;i.loading.end=Math.max(self.performance.now(),i.loading.first);const y=n.responseType==="arraybuffer"?m.byteLength:m.length;i.loaded=i.total=y,i.bwEstimate=i.total*8e3/(i.loading.end-i.loading.first);const b=(s=this.callbacks)==null?void 0:s.onProgress;b&&b(i,t,m,n);const E={url:n.responseURL,data:m,code:o};(c=this.callbacks)==null||c.onSuccess(E,i,t,n);return}}const f=d.loadPolicy.errorRetry,A=i.retry,p={url:t.url,data:void 0,code:o};if(Qc(f,A,!1,p))this.retry(f);else{var e;hr.error(`${o} while loading ${t.url}`),(e=this.callbacks)==null||e.onError({code:o,text:n.statusText},t,n,i)}}}loadtimeout(){if(!this.config)return;const t=this.config.loadPolicy.timeoutRetry,n=this.stats.retry;if(Qc(t,n,!0))this.retry(t);else{var i;hr.warn(`timeout while loading ${(i=this.context)==null?void 0:i.url}`);const l=this.callbacks;l&&(this.abortInternal(),l.onTimeout(this.stats,this.context,this.loader))}}retry(t){const{context:n,stats:i}=this;this.retryDelay=Mh(t,i.retry),i.retry++,hr.warn(`${status?"HTTP Status "+status:"Timeout"} while loading ${n?.url}, retrying ${i.retry}/${t.maxNumRetry} in ${this.retryDelay}ms`),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}loadprogress(t){const n=this.stats;n.loaded=t.loaded,t.lengthComputable&&(n.total=t.total)}getCacheAge(){let t=null;if(this.loader&&Kx.test(this.loader.getAllResponseHeaders())){const n=this.loader.getResponseHeader("age");t=n?parseFloat(n):null}return t}getResponseHeader(t){return this.loader&&new RegExp(`^${t}:\\s*[\\d.]+\\s*$`,"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(t):null}}const Wx={maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null},qx=vr(vr({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,maxDevicePixelRatio:Number.POSITIVE_INFINITY,preferManagedMediaSource:!0,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,frontBufferFlushThreshold:1/0,startOnSegmentBoundary:!1,maxBufferSize:60*1e3*1e3,maxFragLookUpTolerance:.25,maxBufferHole:.1,detectStallWithCurrentTimeMs:1250,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,nudgeOnVideoHole:!0,liveSyncMode:"edge",liveSyncDurationCount:3,liveSyncOnStallIncrease:1,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,ignorePlaylistParsingErrors:!1,loader:Yv,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:oE,bufferController:JC,capLevelController:Wh,errorController:dE,fpsController:JS,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrEwmaDefaultEstimateMax:5e6,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:Hm,requireKeySystemAccessOnStart:!1,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableEmsgKLVMetadata:!1,enableID3MetadataCues:!0,enableInterstitialPlayback:!0,interstitialAppendInPlace:!0,interstitialLiveLookAhead:10,useMediaCapabilities:!0,preserveManualLevelOnError:!1,certLoadPolicy:{default:Wx},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},interstitialAssetListLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:3e4,timeoutRetry:{maxNumRetry:0,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:0,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},Xx()),{},{subtitleStreamController:fx,subtitleTrackController:nx,timelineController:Nx,audioStreamController:WC,audioTrackController:qC,emeController:ll,cmcdController:qS,contentSteeringController:ZS,interstitialsController:cx});function Xx(){return{cueHandler:Gx,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}}function Zx(g,t,n){if((t.liveSyncDurationCount||t.liveMaxLatencyDurationCount)&&(t.liveSyncDuration||t.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(t.liveMaxLatencyDurationCount!==void 0&&(t.liveSyncDurationCount===void 0||t.liveMaxLatencyDurationCount<=t.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(t.liveMaxLatencyDuration!==void 0&&(t.liveSyncDuration===void 0||t.liveMaxLatencyDuration<=t.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');const i=Lh(g),l=["manifest","level","frag"],d=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return l.forEach(s=>{const c=`${s==="level"?"playlist":s}LoadPolicy`,e=t[c]===void 0,o=[];d.forEach(u=>{const f=`${s}Loading${u}`,A=t[f];if(A!==void 0&&e){o.push(f);const p=i[c].default;switch(t[c]={default:p},u){case"TimeOut":p.maxLoadTimeMs=A,p.maxTimeToFirstByteMs=A;break;case"MaxRetry":p.errorRetry.maxNumRetry=A,p.timeoutRetry.maxNumRetry=A;break;case"RetryDelay":p.errorRetry.retryDelayMs=A,p.timeoutRetry.retryDelayMs=A;break;case"MaxRetryTimeout":p.errorRetry.maxRetryDelayMs=A,p.timeoutRetry.maxRetryDelayMs=A;break}}}),o.length&&n.warn(`hls.js config: "${o.join('", "')}" setting(s) are deprecated, use "${c}": ${Lr(t[c])}`)}),vr(vr({},i),t)}function Lh(g){return g&&typeof g=="object"?Array.isArray(g)?g.map(Lh):Object.keys(g).reduce((t,n)=>(t[n]=Lh(g[n]),t),{}):g}function Jx(g,t){const n=g.loader;n!==fm&&n!==Yv?(t.log("[config]: Custom loader detected, cannot enable progressive streaming"),g.progressive=!1):Qx()&&(g.loader=fm,g.progressive=!0,g.enableSoftwareAES=!0,t.log("[config]: Progressive streaming enabled, using FetchLoader"))}const Oc=2,tT=.1,eT=.05,nT=100;class rT extends Gm{constructor(t,n){super("gap-controller",t.logger),this.hls=void 0,this.fragmentTracker=void 0,this.media=null,this.mediaSource=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.buffered={},this.lastCurrentTime=0,this.ended=0,this.waiting=0,this.onMediaPlaying=()=>{this.ended=0,this.waiting=0},this.onMediaWaiting=()=>{var i;(i=this.media)!=null&&i.seeking||(this.waiting=self.performance.now(),this.tick())},this.onMediaEnded=()=>{if(this.hls){var i;this.ended=((i=this.media)==null?void 0:i.currentTime)||1,this.hls.trigger(G.MEDIA_ENDED,{stalled:!1})}},this.hls=t,this.fragmentTracker=n,this.registerListeners()}registerListeners(){const{hls:t}=this;t&&(t.on(G.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(G.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(G.BUFFER_APPENDED,this.onBufferAppended,this))}unregisterListeners(){const{hls:t}=this;t&&(t.off(G.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(G.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(G.BUFFER_APPENDED,this.onBufferAppended,this))}destroy(){super.destroy(),this.unregisterListeners(),this.media=this.hls=this.fragmentTracker=null,this.mediaSource=void 0}onMediaAttached(t,n){this.setInterval(nT),this.mediaSource=n.mediaSource;const i=this.media=n.media;Ii(i,"playing",this.onMediaPlaying),Ii(i,"waiting",this.onMediaWaiting),Ii(i,"ended",this.onMediaEnded)}onMediaDetaching(t,n){this.clearInterval();const{media:i}=this;i&&(Ni(i,"playing",this.onMediaPlaying),Ni(i,"waiting",this.onMediaWaiting),Ni(i,"ended",this.onMediaEnded),this.media=null),this.mediaSource=void 0}onBufferAppended(t,n){this.buffered=n.timeRanges}get hasBuffered(){return Object.keys(this.buffered).length>0}tick(){var t;if(!((t=this.media)!=null&&t.readyState)||!this.hasBuffered)return;const n=this.media.currentTime;this.poll(n,this.lastCurrentTime),this.lastCurrentTime=n}poll(t,n){var i,l;const d=(i=this.hls)==null?void 0:i.config;if(!d)return;const s=this.media;if(!s)return;const{seeking:c}=s,e=this.seeking&&!c,o=!this.seeking&&c,u=s.paused&&!c||s.ended||s.playbackRate===0;if(this.seeking=c,t!==n){n&&(this.ended=0),this.moved=!0,c||(this.nudgeRetry=0,d.nudgeOnVideoHole&&!u&&t>n&&this.nudgeOnVideoHole(t,n)),this.waiting===0&&this.stallResolved(t);return}if(o||e){e&&this.stallResolved(t);return}if(u){this.nudgeRetry=0,this.stallResolved(t),!this.ended&&s.ended&&this.hls&&(this.ended=t||1,this.hls.trigger(G.MEDIA_ENDED,{stalled:!1}));return}if(!Pn.getBuffered(s).length){this.nudgeRetry=0;return}const f=Pn.bufferInfo(s,t,0),A=f.nextStart||0,p=this.fragmentTracker;if(c&&p&&this.hls){const B=dm(this.hls.inFlightFragments,t),O=f.len>Oc,_=!A||B||A-t>Oc&&!p.getPartialFragment(t);if(O||_)return;this.moved=!1}const m=(l=this.hls)==null?void 0:l.latestLevelDetails;if(!this.moved&&this.stalled!==null&&p){if(!(f.len>0)&&!A)return;const O=Math.max(A,f.start||0)-t,M=!!(m!=null&&m.live)?m.targetduration*2:Oc,U=xc(t,p);if(O>0&&(O<=M||U)){s.paused||this._trySkipBufferHole(U);return}}const y=d.detectStallWithCurrentTimeMs,b=self.performance.now(),E=this.waiting;let S=this.stalled;if(S===null)if(E>0&&b-E<y)S=this.stalled=E;else{this.stalled=b;return}const T=b-S;if(!c&&(T>=y||E)&&this.hls){var L;if(((L=this.mediaSource)==null?void 0:L.readyState)==="ended"&&!(m!=null&&m.live)&&Math.abs(t-(m?.edge||0))<1){if(this.ended)return;this.ended=t||1,this.hls.trigger(G.MEDIA_ENDED,{stalled:!0});return}if(this._reportStall(f),!this.media||!this.hls)return}const I=Pn.bufferInfo(s,t,d.maxBufferHole);this._tryFixBufferStall(I,T,t)}stallResolved(t){const n=this.stalled;if(n&&this.hls&&(this.stalled=null,this.stallReported)){const i=self.performance.now()-n;this.log(`playback not stuck anymore @${t}, after ${Math.round(i)}ms`),this.stallReported=!1,this.waiting=0,this.hls.trigger(G.STALL_RESOLVED,{})}}nudgeOnVideoHole(t,n){var i;const l=this.buffered.video;if(this.hls&&this.media&&this.fragmentTracker&&(i=this.buffered.audio)!=null&&i.length&&l&&l.length>1&&t>l.end(0)){const d=Pn.bufferedInfo(Pn.timeRangesToArray(this.buffered.audio),t,0);if(d.len>1&&n>=d.start){const s=Pn.timeRangesToArray(l),c=Pn.bufferedInfo(s,n,0).bufferedIndex;if(c>-1&&c<s.length-1){const e=Pn.bufferedInfo(s,t,0).bufferedIndex,o=s[c].end,u=s[c+1].start;if((e===-1||e>c)&&u-o<1&&t-o<2){const f=new Error(`nudging playhead to flush pipeline after video hole. currentTime: ${t} hole: ${o} -> ${u} buffered index: ${e}`);this.warn(f.message),this.media.currentTime+=1e-6;let A=xc(t,this.fragmentTracker);A&&"fragment"in A?A=A.fragment:A||(A=void 0);const p=Pn.bufferInfo(this.media,t,0);this.hls.trigger(G.ERROR,{type:rn.MEDIA_ERROR,details:_t.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:f,reason:f.message,frag:A,buffer:p.len,bufferInfo:p})}}}}}_tryFixBufferStall(t,n,i){var l,d;const{fragmentTracker:s,media:c}=this,e=(l=this.hls)==null?void 0:l.config;if(!c||!s||!e)return;const o=(d=this.hls)==null?void 0:d.latestLevelDetails,u=xc(i,s);if((u||o!=null&&o.live&&i<o.fragmentStart)&&(this._trySkipBufferHole(u)||!this.media))return;const f=t.buffered,A=this.adjacentTraversal(t,i);(f&&f.length>1&&t.len>e.maxBufferHole||t.nextStart&&(t.nextStart-i<e.maxBufferHole||A))&&(n>e.highBufferWatchdogPeriod*1e3||this.waiting)&&(this.warn("Trying to nudge playhead over buffer-hole"),this._tryNudgeBuffer(t))}adjacentTraversal(t,n){const i=this.fragmentTracker,l=t.nextStart;if(i&&l){const d=i.getFragAtPos(n,Je.MAIN),s=i.getFragAtPos(l,Je.MAIN);if(d&&s)return s.sn-d.sn<2}return!1}_reportStall(t){const{hls:n,media:i,stallReported:l,stalled:d}=this;if(!l&&d!==null&&i&&n){this.stallReported=!0;const s=new Error(`Playback stalling at @${i.currentTime} due to low buffer (${Lr(t)})`);this.warn(s.message),n.trigger(G.ERROR,{type:rn.MEDIA_ERROR,details:_t.BUFFER_STALLED_ERROR,fatal:!1,error:s,buffer:t.len,bufferInfo:t,stalled:{start:d}})}}_trySkipBufferHole(t){var n;const{fragmentTracker:i,media:l}=this,d=(n=this.hls)==null?void 0:n.config;if(!l||!i||!d)return 0;const s=l.currentTime,c=Pn.bufferInfo(l,s,0),e=s<c.start?c.start:c.nextStart;if(e&&this.hls){const u=c.len<=d.maxBufferHole,f=c.len>0&&c.len<1&&l.readyState<3,A=e-s;if(A>0&&(u||f)){if(A>d.maxBufferHole){let m=!1;if(s===0){const y=i.getAppendedFrag(0,Je.MAIN);y&&e<y.end&&(m=!0)}if(!m&&t){var o;if(!((o=this.hls.loadLevelObj)!=null&&o.details)||dm(this.hls.inFlightFragments,e))return 0;let b=!1,E=t.end;for(;E<e;){const S=xc(E,i);if(S)E+=S.duration;else{b=!0;break}}if(b)return 0}}const p=Math.max(e+eT,s+tT);if(this.warn(`skipping hole, adjusting currentTime from ${s} to ${p}`),this.moved=!0,l.currentTime=p,!(t!=null&&t.gap)){const m=new Error(`fragment loaded with buffer holes, seeking from ${s} to ${p}`),y={type:rn.MEDIA_ERROR,details:_t.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:m,reason:m.message,buffer:c.len,bufferInfo:c};t&&("fragment"in t?y.part=t:y.frag=t),this.hls.trigger(G.ERROR,y)}return p}}return 0}_tryNudgeBuffer(t){const{hls:n,media:i,nudgeRetry:l}=this,d=n?.config;if(!i||!d)return 0;const s=i.currentTime;if(this.nudgeRetry++,l<d.nudgeMaxRetry){const c=s+(l+1)*d.nudgeOffset,e=new Error(`Nudging 'currentTime' from ${s} to ${c}`);this.warn(e.message),i.currentTime=c,n.trigger(G.ERROR,{type:rn.MEDIA_ERROR,details:_t.BUFFER_NUDGE_ON_STALL,error:e,fatal:!1,buffer:t.len,bufferInfo:t})}else{const c=new Error(`Playhead still not moving while enough data buffered @${s} after ${d.nudgeMaxRetry} nudges`);this.error(c.message),n.trigger(G.ERROR,{type:rn.MEDIA_ERROR,details:_t.BUFFER_STALLED_ERROR,error:c,fatal:!0,buffer:t.len,bufferInfo:t})}}}function dm(g,t){const n=hm(g.main);if(n&&n.start<=t)return n;const i=hm(g.audio);return i&&i.start<=t?i:null}function hm(g){if(!g)return null;switch(g.state){case te.IDLE:case te.STOPPED:case te.ENDED:case te.ERROR:return null}return g.frag}function xc(g,t){return t.getAppendedFrag(g,Je.MAIN)||t.getPartialFragment(g)}const iT=.25;function Rh(){if(!(typeof self>"u"))return self.VTTCue||self.TextTrackCue}function ah(g,t,n,i,l){let d=new g(t,n,"");try{d.value=i,l&&(d.type=l)}catch{d=new g(t,n,Lr(l?vr({type:l},i):i))}return d}const Tc=(()=>{const g=Rh();try{g&&new g(0,Number.POSITIVE_INFINITY,"")}catch{return Number.MAX_VALUE}return Number.POSITIVE_INFINITY})();class sT{constructor(t){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.removeCues=!0,this.assetCue=void 0,this.onEventCueEnter=()=>{this.hls&&this.hls.trigger(G.EVENT_CUE_ENTER,{})},this.hls=t,this._registerListeners()}destroy(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=this.onEventCueEnter=null}_registerListeners(){const{hls:t}=this;t&&(t.on(G.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(G.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(G.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(G.MANIFEST_LOADING,this.onManifestLoading,this),t.on(G.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),t.on(G.BUFFER_FLUSHING,this.onBufferFlushing,this),t.on(G.LEVEL_UPDATED,this.onLevelUpdated,this),t.on(G.LEVEL_PTS_UPDATED,this.onLevelPtsUpdated,this))}_unregisterListeners(){const{hls:t}=this;t&&(t.off(G.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(G.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(G.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(G.MANIFEST_LOADING,this.onManifestLoading,this),t.off(G.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),t.off(G.BUFFER_FLUSHING,this.onBufferFlushing,this),t.off(G.LEVEL_UPDATED,this.onLevelUpdated,this),t.off(G.LEVEL_PTS_UPDATED,this.onLevelPtsUpdated,this))}onMediaAttaching(t,n){var i;this.media=n.media,((i=n.overrides)==null?void 0:i.cueRemoval)===!1&&(this.removeCues=!1)}onMediaAttached(){var t;const n=(t=this.hls)==null?void 0:t.latestLevelDetails;n&&this.updateDateRangeCues(n)}onMediaDetaching(t,n){this.media=null,!n.transferMedia&&(this.id3Track&&(this.removeCues&&sl(this.id3Track,this.onEventCueEnter),this.id3Track=null),this.dateRangeCuesAppended={})}onManifestLoading(){this.dateRangeCuesAppended={}}createTrack(t){const n=this.getID3Track(t.textTracks);return n.mode="hidden",n}getID3Track(t){if(this.media){for(let n=0;n<t.length;n++){const i=t[n];if(i.kind==="metadata"&&i.label==="id3")return Ov(i,this.media),i}return this.media.addTextTrack("metadata","id3")}}onFragParsingMetadata(t,n){if(!this.media||!this.hls)return;const{enableEmsgMetadataCues:i,enableID3MetadataCues:l}=this.hls.config;if(!i&&!l)return;const{samples:d}=n;this.id3Track||(this.id3Track=this.createTrack(this.media));const s=Rh();if(s)for(let c=0;c<d.length;c++){const e=d[c].type;if(e===qi.emsg&&!i||!l)continue;const o=ov(d[c].data),u=d[c].pts;let f=u+d[c].duration;f>Tc&&(f=Tc),f-u<=0&&(f=u+iT);for(let p=0;p<o.length;p++){const m=o[p];if(!lv(m)){this.updateId3CueEnds(u,e);const y=ah(s,u,f,m,e);y&&this.id3Track.addCue(y)}}}}updateId3CueEnds(t,n){var i;const l=(i=this.id3Track)==null?void 0:i.cues;if(l)for(let d=l.length;d--;){const s=l[d];s.type===n&&s.startTime<t&&s.endTime===Tc&&(s.endTime=t)}}onBufferFlushing(t,{startOffset:n,endOffset:i,type:l}){const{id3Track:d,hls:s}=this;if(!s)return;const{config:{enableEmsgMetadataCues:c,enableID3MetadataCues:e}}=s;if(d&&(c||e)){let o;l==="audio"?o=u=>u.type===qi.audioId3&&e:l==="video"?o=u=>u.type===qi.emsg&&c:o=u=>u.type===qi.audioId3&&e||u.type===qi.emsg&&c,Th(d,n,i,o)}}onLevelUpdated(t,{details:n}){this.updateDateRangeCues(n,!0)}onLevelPtsUpdated(t,n){Math.abs(n.drift)>.01&&this.updateDateRangeCues(n.details)}updateDateRangeCues(t,n){if(!this.hls||!this.media)return;const{assetPlayerId:i,timelineOffset:l,enableDateRangeMetadataCues:d,interstitialsController:s}=this.hls.config;if(!d)return;const c=Rh();if(i&&l&&!s){const{fragmentStart:y,fragmentEnd:b}=t;let E=this.assetCue;E?(E.startTime=y,E.endTime=b):c&&(E=this.assetCue=ah(c,y,b,{assetPlayerId:this.hls.config.assetPlayerId},"hlsjs.interstitial.asset"),E&&(E.id=i,this.id3Track||(this.id3Track=this.createTrack(this.media)),this.id3Track.addCue(E),E.addEventListener("enter",this.onEventCueEnter)))}if(!t.hasProgramDateTime)return;const{id3Track:e}=this,{dateRanges:o}=t,u=Object.keys(o);let f=this.dateRangeCuesAppended;if(e&&n){var A;if((A=e.cues)!=null&&A.length){const y=Object.keys(f).filter(b=>!u.includes(b));for(let b=y.length;b--;){var p;const E=y[b],S=(p=f[E])==null?void 0:p.cues;delete f[E],S&&Object.keys(S).forEach(T=>{const L=S[T];if(L){L.removeEventListener("enter",this.onEventCueEnter);try{e.removeCue(L)}catch{}}})}}else f=this.dateRangeCuesAppended={}}const m=t.fragments[t.fragments.length-1];if(!(u.length===0||!je(m?.programDateTime))){this.id3Track||(this.id3Track=this.createTrack(this.media));for(let y=0;y<u.length;y++){const b=u[y],E=o[b],S=E.startTime,T=f[b],L=T?.cues||{};let I=T?.durationKnown||!1,B=Tc;const{duration:O,endDate:_}=E;if(_&&O!==null)B=S+O,I=!0;else if(E.endOnNext&&!I){const U=u.reduce((Q,$)=>{if($!==E.id){const W=o[$];if(W.class===E.class&&W.startDate>E.startDate&&(!Q||E.startDate<Q.startDate))return W}return Q},null);U&&(B=U.startTime,I=!0)}const M=Object.keys(E.attr);for(let U=0;U<M.length;U++){const Q=M[U];if(!TE(Q))continue;const $=L[Q];if($)I&&!(T!=null&&T.durationKnown)?$.endTime=B:Math.abs($.startTime-S)>.01&&($.startTime=S,$.endTime=B);else if(c){let W=E.attr[Q];wE(Q)&&(W=Sm(W));const et=ah(c,S,B,{key:Q,data:W},qi.dateRange);et&&(et.id=b,this.id3Track.addCue(et),L[Q]=et,s&&(Q==="X-ASSET-LIST"||Q==="X-ASSET-URL")&&et.addEventListener("enter",this.onEventCueEnter))}}f[b]={cues:L,dateRange:E,durationKnown:I}}}}}class aT{constructor(t){this.hls=void 0,this.config=void 0,this.media=null,this.currentTime=0,this.stallCount=0,this._latency=null,this._targetLatencyUpdated=!1,this.onTimeupdate=()=>{const{media:n}=this,i=this.levelDetails;if(!n||!i)return;this.currentTime=n.currentTime;const l=this.computeLatency();if(l===null)return;this._latency=l;const{lowLatencyMode:d,maxLiveSyncPlaybackRate:s}=this.config;if(!d||s===1||!i.live)return;const c=this.targetLatency;if(c===null)return;const e=l-c,o=Math.min(this.maxLatency,c+i.targetduration);if(e<o&&e>.05&&this.forwardBufferLength>1){const f=Math.min(2,Math.max(1,s)),A=Math.round(2/(1+Math.exp(-.75*e-this.edgeStalled))*20)/20,p=Math.min(f,Math.max(1,A));this.changeMediaPlaybackRate(n,p)}else n.playbackRate!==1&&n.playbackRate!==0&&this.changeMediaPlaybackRate(n,1)},this.hls=t,this.config=t.config,this.registerListeners()}get levelDetails(){var t;return((t=this.hls)==null?void 0:t.latestLevelDetails)||null}get latency(){return this._latency||0}get maxLatency(){const{config:t}=this;if(t.liveMaxLatencyDuration!==void 0)return t.liveMaxLatencyDuration;const n=this.levelDetails;return n?t.liveMaxLatencyDurationCount*n.targetduration:0}get targetLatency(){const t=this.levelDetails;if(t===null||this.hls===null)return null;const{holdBack:n,partHoldBack:i,targetduration:l}=t,{liveSyncDuration:d,liveSyncDurationCount:s,lowLatencyMode:c}=this.config,e=this.hls.userConfig;let o=c&&i||n;(this._targetLatencyUpdated||e.liveSyncDuration||e.liveSyncDurationCount||o===0)&&(o=d!==void 0?d:s*l);const u=l;return o+Math.min(this.stallCount*this.config.liveSyncOnStallIncrease,u)}set targetLatency(t){this.stallCount=0,this.config.liveSyncDuration=t,this._targetLatencyUpdated=!0}get liveSyncPosition(){const t=this.estimateLiveEdge(),n=this.targetLatency;if(t===null||n===null)return null;const i=this.levelDetails;if(i===null)return null;const l=i.edge,d=t-n-this.edgeStalled,s=l-i.totalduration,c=l-(this.config.lowLatencyMode&&i.partTarget||i.targetduration);return Math.min(Math.max(s,d),c)}get drift(){const t=this.levelDetails;return t===null?1:t.drift}get edgeStalled(){const t=this.levelDetails;if(t===null)return 0;const n=(this.config.lowLatencyMode&&t.partTarget||t.targetduration)*3;return Math.max(t.age-n,0)}get forwardBufferLength(){const{media:t}=this,n=this.levelDetails;if(!t||!n)return 0;const i=t.buffered.length;return(i?t.buffered.end(i-1):n.edge)-this.currentTime}destroy(){this.unregisterListeners(),this.onMediaDetaching(),this.hls=null}registerListeners(){const{hls:t}=this;t&&(t.on(G.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(G.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(G.MANIFEST_LOADING,this.onManifestLoading,this),t.on(G.LEVEL_UPDATED,this.onLevelUpdated,this),t.on(G.ERROR,this.onError,this))}unregisterListeners(){const{hls:t}=this;t&&(t.off(G.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(G.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(G.MANIFEST_LOADING,this.onManifestLoading,this),t.off(G.LEVEL_UPDATED,this.onLevelUpdated,this),t.off(G.ERROR,this.onError,this))}onMediaAttached(t,n){this.media=n.media,this.media.addEventListener("timeupdate",this.onTimeupdate)}onMediaDetaching(){this.media&&(this.media.removeEventListener("timeupdate",this.onTimeupdate),this.media=null)}onManifestLoading(){this._latency=null,this.stallCount=0}onLevelUpdated(t,{details:n}){n.advanced&&this.onTimeupdate(),!n.live&&this.media&&this.media.removeEventListener("timeupdate",this.onTimeupdate)}onError(t,n){var i;n.details===_t.BUFFER_STALLED_ERROR&&(this.stallCount++,this.hls&&(i=this.levelDetails)!=null&&i.live&&this.hls.logger.warn("[latency-controller]: Stall detected, adjusting target latency"))}changeMediaPlaybackRate(t,n){var i,l;t.playbackRate!==n&&((i=this.hls)==null||i.logger.debug(`[latency-controller]: latency=${this.latency.toFixed(3)}, targetLatency=${(l=this.targetLatency)==null?void 0:l.toFixed(3)}, forwardBufferLength=${this.forwardBufferLength.toFixed(3)}: adjusting playback rate from ${t.playbackRate} to ${n}`),t.playbackRate=n)}estimateLiveEdge(){const t=this.levelDetails;return t===null?null:t.edge+t.age}computeLatency(){const t=this.estimateLiveEdge();return t===null?null:t-this.currentTime}}class oT extends Kh{constructor(t,n){super(t,"level-controller"),this._levels=[],this._firstLevel=-1,this._maxAutoLevel=-1,this._startLevel=void 0,this.currentLevel=null,this.currentLevelIndex=-1,this.manualLevelIndex=-1,this.steering=void 0,this.onParsedComplete=void 0,this.steering=n,this._registerListeners()}_registerListeners(){const{hls:t}=this;t.on(G.MANIFEST_LOADING,this.onManifestLoading,this),t.on(G.MANIFEST_LOADED,this.onManifestLoaded,this),t.on(G.LEVEL_LOADED,this.onLevelLoaded,this),t.on(G.LEVELS_UPDATED,this.onLevelsUpdated,this),t.on(G.FRAG_BUFFERED,this.onFragBuffered,this),t.on(G.ERROR,this.onError,this)}_unregisterListeners(){const{hls:t}=this;t.off(G.MANIFEST_LOADING,this.onManifestLoading,this),t.off(G.MANIFEST_LOADED,this.onManifestLoaded,this),t.off(G.LEVEL_LOADED,this.onLevelLoaded,this),t.off(G.LEVELS_UPDATED,this.onLevelsUpdated,this),t.off(G.FRAG_BUFFERED,this.onFragBuffered,this),t.off(G.ERROR,this.onError,this)}destroy(){this._unregisterListeners(),this.steering=null,this.resetLevels(),super.destroy()}stopLoad(){this._levels.forEach(n=>{n.loadError=0,n.fragmentError=0}),super.stopLoad()}resetLevels(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[],this._maxAutoLevel=-1}onManifestLoading(t,n){this.resetLevels()}onManifestLoaded(t,n){const i=this.hls.config.preferManagedMediaSource,l=[],d={},s={};let c=!1,e=!1,o=!1;n.levels.forEach(u=>{const f=u.attrs;let{audioCodec:A,videoCodec:p}=u;A&&(u.audioCodec=A=Nc(A,i)||void 0),p&&(p=u.videoCodec=jb(p));const{width:m,height:y,unknownCodecs:b}=u;let E=b?b.length:0;if(b)for(let U=E;U--;){const Q=b[U];this.isAudioSupported(Q)?(u.audioCodec=A=A?`${A},${Q}`:Q,E--,cl.audio[A.substring(0,4)]=2):this.isVideoSupported(Q)&&(u.videoCodec=p=p?`${p},${Q}`:Q,E--,cl.video[p.substring(0,4)]=2)}if(c||(c=!!(m&&y)),e||(e=!!p),o||(o=!!A),E||A&&!this.isAudioSupported(A)||p&&!this.isVideoSupported(p)){this.log(`Some or all CODECS not supported "${f.CODECS}"`);return}const{CODECS:S,"FRAME-RATE":T,"HDCP-LEVEL":L,"PATHWAY-ID":I,RESOLUTION:B,"VIDEO-RANGE":O}=f,M=`${`${I||"."}-`}${u.bitrate}-${B}-${T}-${S}-${O}-${L}`;if(d[M])if(d[M].uri!==u.url&&!u.attrs["PATHWAY-ID"]){const U=s[M]+=1;u.attrs["PATHWAY-ID"]=new Array(U+1).join(".");const Q=this.createLevel(u);d[M]=Q,l.push(Q)}else d[M].addGroupId("audio",f.AUDIO),d[M].addGroupId("text",f.SUBTITLES);else{const U=this.createLevel(u);d[M]=U,s[M]=1,l.push(U)}}),this.filterAndSortMediaOptions(l,n,c,e,o)}createLevel(t){const n=new nu(t),i=t.supplemental;if(i!=null&&i.videoCodec&&!this.isVideoSupported(i.videoCodec)){const l=new Error(`SUPPLEMENTAL-CODECS not supported "${i.videoCodec}"`);this.log(l.message),n.supportedResult=_m(l,[])}return n}isAudioSupported(t){return fh(t,"audio",this.hls.config.preferManagedMediaSource)}isVideoSupported(t){return fh(t,"video",this.hls.config.preferManagedMediaSource)}filterAndSortMediaOptions(t,n,i,l,d){let s=[],c=[],e=t;if((i||l)&&d&&(e=e.filter(({videoCodec:b,videoRange:E,width:S,height:T})=>(!!b||!!(S&&T))&&Zb(E))),e.length===0){Promise.resolve().then(()=>{if(this.hls){let b="no level with compatible codecs found in manifest",E=b;n.levels.length&&(E=`one or more CODECS in variant not supported: ${Lr(n.levels.map(T=>T.attrs.CODECS).filter((T,L,I)=>I.indexOf(T)===L))}`,this.warn(E),b+=` (${E})`);const S=new Error(b);this.hls.trigger(G.ERROR,{type:rn.MEDIA_ERROR,details:_t.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:n.url,error:S,reason:E})}});return}n.audioTracks&&(s=n.audioTracks.filter(b=>!b.audioCodec||this.isAudioSupported(b.audioCodec)),Am(s)),n.subtitles&&(c=n.subtitles,Am(c));const o=e.slice(0);e.sort((b,E)=>{if(b.attrs["HDCP-LEVEL"]!==E.attrs["HDCP-LEVEL"])return(b.attrs["HDCP-LEVEL"]||"")>(E.attrs["HDCP-LEVEL"]||"")?1:-1;if(i&&b.height!==E.height)return b.height-E.height;if(b.frameRate!==E.frameRate)return b.frameRate-E.frameRate;if(b.videoRange!==E.videoRange)return Uc.indexOf(b.videoRange)-Uc.indexOf(E.videoRange);if(b.videoCodec!==E.videoCodec){const S=o0(b.videoCodec),T=o0(E.videoCodec);if(S!==T)return T-S}if(b.uri===E.uri&&b.codecSet!==E.codecSet){const S=Pc(b.codecSet),T=Pc(E.codecSet);if(S!==T)return T-S}return b.averageBitrate!==E.averageBitrate?b.averageBitrate-E.averageBitrate:0});let u=o[0];if(this.steering&&(e=this.steering.filterParsedLevels(e),e.length!==o.length)){for(let b=0;b<o.length;b++)if(o[b].pathwayId===e[0].pathwayId){u=o[b];break}}this._levels=e;for(let b=0;b<e.length;b++)if(e[b]===u){var f;this._firstLevel=b;const E=u.bitrate,S=this.hls.bandwidthEstimate;if(this.log(`manifest loaded, ${e.length} level(s) found, first bitrate: ${E}`),((f=this.hls.userConfig)==null?void 0:f.abrEwmaDefaultEstimate)===void 0){const T=Math.min(E,this.hls.config.abrEwmaDefaultEstimateMax);T>S&&S===this.hls.abrEwmaDefaultEstimate&&(this.hls.bandwidthEstimate=T)}break}const A=d&&!l,p=this.hls.config,m=!!(p.audioStreamController&&p.audioTrackController),y={levels:e,audioTracks:s,subtitleTracks:c,sessionData:n.sessionData,sessionKeys:n.sessionKeys,firstLevel:this._firstLevel,stats:n.stats,audio:d,video:l,altAudio:m&&!A&&s.some(b=>!!b.url)};this.hls.trigger(G.MANIFEST_PARSED,y)}get levels(){return this._levels.length===0?null:this._levels}get loadLevelObj(){return this.currentLevel}get level(){return this.currentLevelIndex}set level(t){const n=this._levels;if(n.length===0)return;if(t<0||t>=n.length){const u=new Error("invalid level idx"),f=t<0;if(this.hls.trigger(G.ERROR,{type:rn.OTHER_ERROR,details:_t.LEVEL_SWITCH_ERROR,level:t,fatal:f,error:u,reason:u.message}),f)return;t=Math.min(t,n.length-1)}const i=this.currentLevelIndex,l=this.currentLevel,d=l?l.attrs["PATHWAY-ID"]:void 0,s=n[t],c=s.attrs["PATHWAY-ID"];if(this.currentLevelIndex=t,this.currentLevel=s,i===t&&l&&d===c)return;this.log(`Switching to level ${t} (${s.height?s.height+"p ":""}${s.videoRange?s.videoRange+" ":""}${s.codecSet?s.codecSet+" ":""}@${s.bitrate})${c?" with Pathway "+c:""} from level ${i}${d?" with Pathway "+d:""}`);const e={level:t,attrs:s.attrs,details:s.details,bitrate:s.bitrate,averageBitrate:s.averageBitrate,maxBitrate:s.maxBitrate,realBitrate:s.realBitrate,width:s.width,height:s.height,codecSet:s.codecSet,audioCodec:s.audioCodec,videoCodec:s.videoCodec,audioGroups:s.audioGroups,subtitleGroups:s.subtitleGroups,loaded:s.loaded,loadError:s.loadError,fragmentError:s.fragmentError,name:s.name,id:s.id,uri:s.uri,url:s.url,urlId:0,audioGroupIds:s.audioGroupIds,textGroupIds:s.textGroupIds};this.hls.trigger(G.LEVEL_SWITCHING,e);const o=s.details;if(!o||o.live){const u=this.switchParams(s.uri,l?.details,o);this.loadPlaylist(u)}}get manualLevel(){return this.manualLevelIndex}set manualLevel(t){this.manualLevelIndex=t,this._startLevel===void 0&&(this._startLevel=t),t!==-1&&(this.level=t)}get firstLevel(){return this._firstLevel}set firstLevel(t){this._firstLevel=t}get startLevel(){if(this._startLevel===void 0){const t=this.hls.config.startLevel;return t!==void 0?t:this.hls.firstAutoLevel}return this._startLevel}set startLevel(t){this._startLevel=t}get pathways(){return this.steering?this.steering.pathways():[]}get pathwayPriority(){return this.steering?this.steering.pathwayPriority:null}set pathwayPriority(t){if(this.steering){const n=this.steering.pathways(),i=t.filter(l=>n.indexOf(l)!==-1);if(t.length<1){this.warn(`pathwayPriority ${t} should contain at least one pathway from list: ${n}`);return}this.steering.pathwayPriority=i}}onError(t,n){n.fatal||!n.context||n.context.type===Kn.LEVEL&&n.context.level===this.level&&this.checkRetry(n)}onFragBuffered(t,{frag:n}){if(n!==void 0&&n.type===Je.MAIN){const i=n.elementaryStreams;if(!Object.keys(i).some(d=>!!i[d]))return;const l=this._levels[n.level];l!=null&&l.loadError&&(this.log(`Resetting level error count of ${l.loadError} on frag buffered`),l.loadError=0)}}onLevelLoaded(t,n){var i;const{level:l,details:d}=n,s=n.levelInfo;if(!s){var c;this.warn(`Invalid level index ${l}`),(c=n.deliveryDirectives)!=null&&c.skip&&(d.deltaUpdateFailed=!0);return}if(s===this.currentLevel||n.withoutMultiVariant){s.fragmentError===0&&(s.loadError=0);let e=s.details;e===n.details&&e.advanced&&(e=void 0),this.playlistLoaded(l,n,e)}else(i=n.deliveryDirectives)!=null&&i.skip&&(d.deltaUpdateFailed=!0)}loadPlaylist(t){super.loadPlaylist(),this.shouldLoadPlaylist(this.currentLevel)&&this.scheduleLoading(this.currentLevel,t)}loadingPlaylist(t,n){super.loadingPlaylist(t,n);const i=this.getUrlWithDirectives(t.uri,n),l=this.currentLevelIndex,d=t.attrs["PATHWAY-ID"],s=t.details,c=s?.age;this.log(`Loading level index ${l}${n?.msn!==void 0?" at sn "+n.msn+" part "+n.part:""}${d?" Pathway "+d:""}${c&&s.live?" age "+c.toFixed(1)+(s.type&&" "+s.type||""):""} ${i}`),this.hls.trigger(G.LEVEL_LOADING,{url:i,level:l,levelInfo:t,pathwayId:t.attrs["PATHWAY-ID"],id:0,deliveryDirectives:n||null})}get nextLoadLevel(){return this.manualLevelIndex!==-1?this.manualLevelIndex:this.hls.nextAutoLevel}set nextLoadLevel(t){this.level=t,this.manualLevelIndex===-1&&(this.hls.nextAutoLevel=t)}removeLevel(t){var n;if(this._levels.length===1)return;const i=this._levels.filter((d,s)=>s!==t?!0:(this.steering&&this.steering.removeLevel(d),d===this.currentLevel&&(this.currentLevel=null,this.currentLevelIndex=-1,d.details&&d.details.fragments.forEach(c=>c.level=-1)),!1));Xm(i),this._levels=i,this.currentLevelIndex>-1&&(n=this.currentLevel)!=null&&n.details&&(this.currentLevelIndex=this.currentLevel.details.fragments[0].level),this.manualLevelIndex>-1&&(this.manualLevelIndex=this.currentLevelIndex);const l=i.length-1;this._firstLevel=Math.min(this._firstLevel,l),this._startLevel&&(this._startLevel=Math.min(this._startLevel,l)),this.hls.trigger(G.LEVELS_UPDATED,{levels:i})}onLevelsUpdated(t,{levels:n}){this._levels=n}checkMaxAutoUpdated(){const{autoLevelCapping:t,maxAutoLevel:n,maxHdcpLevel:i}=this.hls;this._maxAutoLevel!==n&&(this._maxAutoLevel=n,this.hls.trigger(G.MAX_AUTO_LEVEL_UPDATED,{autoLevelCapping:t,levels:this.levels,maxAutoLevel:n,minAutoLevel:this.hls.minAutoLevel,maxHdcpLevel:i}))}}function Am(g){const t={};g.forEach(n=>{const i=n.groupId||"";n.id=t[i]=t[i]||0,t[i]++})}function $v(){return self.SourceBuffer||self.WebKitSourceBuffer}function Vv(){if(!Qa())return!1;const t=$v();return!t||t.prototype&&typeof t.prototype.appendBuffer=="function"&&typeof t.prototype.remove=="function"}function lT(){if(!Vv())return!1;const g=Qa();return typeof g?.isTypeSupported=="function"&&(["avc1.42E01E,mp4a.40.2","av01.0.01M.08","vp09.00.50.08"].some(t=>g.isTypeSupported(eu(t,"video")))||["mp4a.40.2","fLaC"].some(t=>g.isTypeSupported(eu(t,"audio"))))}function uT(){var g;const t=$v();return typeof(t==null||(g=t.prototype)==null?void 0:g.changeType)=="function"}const cT=100;class fT extends Gh{constructor(t,n,i){super(t,n,i,"stream-controller",Je.MAIN),this.audioCodecSwap=!1,this.level=-1,this._forceStartLoad=!1,this._hasEnoughToStart=!1,this.altAudio=0,this.audioOnly=!1,this.fragPlaying=null,this.fragLastKbps=0,this.couldBacktrack=!1,this.backtrackFragment=null,this.audioCodecSwitch=!1,this.videoBuffer=null,this.onMediaPlaying=()=>{this.tick()},this.onMediaSeeked=()=>{const l=this.media,d=l?l.currentTime:null;if(d===null||!je(d)||(this.log(`Media seeked to ${d.toFixed(3)}`),!this.getBufferedFrag(d)))return;const s=this.getFwdBufferInfoAtPos(l,d,Je.MAIN,0);if(s===null||s.len===0){this.warn(`Main forward buffer length at ${d} on "seeked" event ${s?s.len:"empty"})`);return}this.tick()},this.registerListeners()}registerListeners(){super.registerListeners();const{hls:t}=this;t.on(G.MANIFEST_PARSED,this.onManifestParsed,this),t.on(G.LEVEL_LOADING,this.onLevelLoading,this),t.on(G.LEVEL_LOADED,this.onLevelLoaded,this),t.on(G.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),t.on(G.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.on(G.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),t.on(G.BUFFER_CREATED,this.onBufferCreated,this),t.on(G.BUFFER_FLUSHED,this.onBufferFlushed,this),t.on(G.LEVELS_UPDATED,this.onLevelsUpdated,this),t.on(G.FRAG_BUFFERED,this.onFragBuffered,this)}unregisterListeners(){super.unregisterListeners();const{hls:t}=this;t.off(G.MANIFEST_PARSED,this.onManifestParsed,this),t.off(G.LEVEL_LOADED,this.onLevelLoaded,this),t.off(G.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),t.off(G.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.off(G.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),t.off(G.BUFFER_CREATED,this.onBufferCreated,this),t.off(G.BUFFER_FLUSHED,this.onBufferFlushed,this),t.off(G.LEVELS_UPDATED,this.onLevelsUpdated,this),t.off(G.FRAG_BUFFERED,this.onFragBuffered,this)}onHandlerDestroying(){this.onMediaPlaying=this.onMediaSeeked=null,this.unregisterListeners(),super.onHandlerDestroying()}startLoad(t,n){if(this.levels){const{lastCurrentTime:i,hls:l}=this;if(this.stopLoad(),this.setInterval(cT),this.level=-1,!this.startFragRequested){let d=l.startLevel;d===-1&&(l.config.testBandwidth&&this.levels.length>1?(d=0,this.bitrateTest=!0):d=l.firstAutoLevel),l.nextLoadLevel=d,this.level=l.loadLevel,this._hasEnoughToStart=!!n}i>0&&t===-1&&!n&&(this.log(`Override startPosition with lastCurrentTime @${i.toFixed(3)}`),t=i),this.state=te.IDLE,this.nextLoadPosition=this.lastCurrentTime=t+this.timelineOffset,this.startPosition=n?-1:t,this.tick()}else this._forceStartLoad=!0,this.state=te.STOPPED}stopLoad(){this._forceStartLoad=!1,super.stopLoad()}doTick(){switch(this.state){case te.WAITING_LEVEL:{const{levels:t,level:n}=this,i=t?.[n],l=i?.details;if(l&&(!l.live||this.levelLastLoaded===i&&!this.waitForLive(i))){if(this.waitForCdnTuneIn(l))break;this.state=te.IDLE;break}else if(this.hls.nextLoadLevel!==this.level){this.state=te.IDLE;break}break}case te.FRAG_LOADING_WAITING_RETRY:this.checkRetryDate();break}this.state===te.IDLE&&this.doTickIdle(),this.onTickEnd()}onTickEnd(){var t;super.onTickEnd(),(t=this.media)!=null&&t.readyState&&this.media.seeking===!1&&(this.lastCurrentTime=this.media.currentTime),this.checkFragmentChanged()}doTickIdle(){const{hls:t,levelLastLoaded:n,levels:i,media:l}=this;if(n===null||!l&&!this.primaryPrefetch&&(this.startFragRequested||!t.config.startFragPrefetch)||this.altAudio&&this.audioOnly)return;const d=this.buffering?t.nextLoadLevel:t.loadLevel;if(!(i!=null&&i[d]))return;const s=i[d],c=this.getMainFwdBufferInfo();if(c===null)return;const e=this.getLevelDetails();if(e&&this._streamEnded(c,e)){const y={};this.altAudio===2&&(y.type="video"),this.hls.trigger(G.BUFFER_EOS,y),this.state=te.ENDED;return}if(!this.buffering)return;t.loadLevel!==d&&t.manualLevel===-1&&this.log(`Adapting to level ${d} from level ${this.level}`),this.level=t.nextLoadLevel=d;const o=s.details;if(!o||this.state===te.WAITING_LEVEL||this.waitForLive(s)){this.level=d,this.state=te.WAITING_LEVEL,this.startFragRequested=!1;return}const u=c.len,f=this.getMaxBufferLength(s.maxBitrate);if(u>=f)return;this.backtrackFragment&&this.backtrackFragment.start>c.end&&(this.backtrackFragment=null);const A=this.backtrackFragment?this.backtrackFragment.start:c.end;let p=this.getNextFragment(A,o);if(this.couldBacktrack&&!this.fragPrevious&&p&&qr(p)&&this.fragmentTracker.getState(p)!==ni.OK){var m;const b=((m=this.backtrackFragment)!=null?m:p).sn-o.startSN,E=o.fragments[b-1];E&&p.cc===E.cc&&(p=E,this.fragmentTracker.removeFragment(E))}else this.backtrackFragment&&c.len&&(this.backtrackFragment=null);if(p&&this.isLoopLoading(p,A)){if(!p.gap){const b=this.audioOnly&&!this.altAudio?Cr.AUDIO:Cr.VIDEO,E=(b===Cr.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;E&&this.afterBufferFlushed(E,b,Je.MAIN)}p=this.getNextFragmentLoopLoading(p,o,c,Je.MAIN,f)}p&&(p.initSegment&&!p.initSegment.data&&!this.bitrateTest&&(p=p.initSegment),this.loadFragment(p,s,A))}loadFragment(t,n,i){const l=this.fragmentTracker.getState(t);l===ni.NOT_LOADED||l===ni.PARTIAL?qr(t)?this.bitrateTest?(this.log(`Fragment ${t.sn} of level ${t.level} is being downloaded to test bitrate and will not be buffered`),this._loadBitrateTestFrag(t,n)):super.loadFragment(t,n,i):this._loadInitSegment(t,n):this.clearTrackerIfNeeded(t)}getBufferedFrag(t){return this.fragmentTracker.getBufferedFrag(t,Je.MAIN)}followingBufferedFrag(t){return t?this.getBufferedFrag(t.end+.5):null}immediateLevelSwitch(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}nextLevelSwitch(){const{levels:t,media:n}=this;if(n!=null&&n.readyState){let i;const l=this.getAppendedFrag(n.currentTime);l&&l.start>1&&this.flushMainBuffer(0,l.start-1);const d=this.getLevelDetails();if(d!=null&&d.live){const c=this.getMainFwdBufferInfo();if(!c||c.len<d.targetduration*2)return}if(!n.paused&&t){const c=this.hls.nextLoadLevel,e=t[c],o=this.fragLastKbps;o&&this.fragCurrent?i=this.fragCurrent.duration*e.maxBitrate/(1e3*o)+1:i=0}else i=0;const s=this.getBufferedFrag(n.currentTime+i);if(s){const c=this.followingBufferedFrag(s);if(c){this.abortCurrentFrag();const e=c.maxStartPTS?c.maxStartPTS:c.start,o=c.duration,u=Math.max(s.end,e+Math.min(Math.max(o-this.config.maxFragLookUpTolerance,o*(this.couldBacktrack?.5:.125)),o*(this.couldBacktrack?.75:.25)));this.flushMainBuffer(u,Number.POSITIVE_INFINITY)}}}}abortCurrentFrag(){const t=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,t&&(t.abortRequests(),this.fragmentTracker.removeFragment(t)),this.state){case te.KEY_LOADING:case te.FRAG_LOADING:case te.FRAG_LOADING_WAITING_RETRY:case te.PARSING:case te.PARSED:this.state=te.IDLE;break}this.nextLoadPosition=this.getLoadPosition()}flushMainBuffer(t,n){super.flushMainBuffer(t,n,this.altAudio===2?"video":null)}onMediaAttached(t,n){super.onMediaAttached(t,n);const i=n.media;Ii(i,"playing",this.onMediaPlaying),Ii(i,"seeked",this.onMediaSeeked)}onMediaDetaching(t,n){const{media:i}=this;i&&(Ni(i,"playing",this.onMediaPlaying),Ni(i,"seeked",this.onMediaSeeked)),this.videoBuffer=null,this.fragPlaying=null,super.onMediaDetaching(t,n),!n.transferMedia&&(this._hasEnoughToStart=!1)}onManifestLoading(){super.onManifestLoading(),this.log("Trigger BUFFER_RESET"),this.hls.trigger(G.BUFFER_RESET,void 0),this.couldBacktrack=!1,this.fragLastKbps=0,this.fragPlaying=this.backtrackFragment=null,this.altAudio=0,this.audioOnly=!1}onManifestParsed(t,n){let i=!1,l=!1;for(let d=0;d<n.levels.length;d++){const s=n.levels[d].audioCodec;s&&(i=i||s.indexOf("mp4a.40.2")!==-1,l=l||s.indexOf("mp4a.40.5")!==-1)}this.audioCodecSwitch=i&&l&&!uT(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=n.levels,this.startFragRequested=!1}onLevelLoading(t,n){const{levels:i}=this;if(!i||this.state!==te.IDLE)return;const l=n.levelInfo;(!l.details||l.details.live&&(this.levelLastLoaded!==l||l.details.expired)||this.waitForCdnTuneIn(l.details))&&(this.state=te.WAITING_LEVEL)}onLevelLoaded(t,n){var i;const{levels:l,startFragRequested:d}=this,s=n.level,c=n.details,e=c.totalduration;if(!l){this.warn(`Levels were reset while loading level ${s}`);return}this.log(`Level ${s} loaded [${c.startSN},${c.endSN}]${c.lastPartSn?`[part-${c.lastPartSn}-${c.lastPartIndex}]`:""}, cc [${c.startCC}, ${c.endCC}] duration:${e}`);const o=n.levelInfo,u=this.fragCurrent;u&&(this.state===te.FRAG_LOADING||this.state===te.FRAG_LOADING_WAITING_RETRY)&&u.level!==n.level&&u.loader&&this.abortCurrentFrag();let f=0;if(c.live||(i=o.details)!=null&&i.live){var A;if(this.checkLiveUpdate(c),c.deltaUpdateFailed)return;f=this.alignPlaylists(c,o.details,(A=this.levelLastLoaded)==null?void 0:A.details)}if(o.details=c,this.levelLastLoaded=o,d||this.setStartPosition(c,f),this.hls.trigger(G.LEVEL_UPDATED,{details:c,level:s}),this.state===te.WAITING_LEVEL){if(this.waitForCdnTuneIn(c))return;this.state=te.IDLE}d&&c.live&&this.synchronizeToLiveEdge(c),this.tick()}synchronizeToLiveEdge(t){const{config:n,media:i}=this;if(!i)return;const l=this.hls.liveSyncPosition,d=this.getLoadPosition(),s=t.fragmentStart,c=t.edge,e=d>=s-n.maxFragLookUpTolerance&&d<=c;if(l!==null&&i.duration>l&&(d<l||!e)){const u=n.liveMaxLatencyDuration!==void 0?n.liveMaxLatencyDuration:n.liveMaxLatencyDurationCount*t.targetduration;if((!e&&i.readyState<4||d<c-u)&&(this._hasEnoughToStart||(this.nextLoadPosition=l),i.readyState))if(this.warn(`Playback: ${d.toFixed(3)} is located too far from the end of live sliding playlist: ${c}, reset currentTime to : ${l.toFixed(3)}`),this.config.liveSyncMode==="buffered"){var o;const f=Pn.bufferInfo(i,l,0);if(!((o=f.buffered)!=null&&o.length)){i.currentTime=l;return}if(f.start<=d){i.currentTime=l;return}const{nextStart:p}=Pn.bufferedInfo(f.buffered,d,0);p&&(i.currentTime=p)}else i.currentTime=l}}_handleFragmentLoadProgress(t){var n;const i=t.frag,{part:l,payload:d}=t,{levels:s}=this;if(!s){this.warn(`Levels were reset while fragment load was in progress. Fragment ${i.sn} of level ${i.level} will not be buffered`);return}const c=s[i.level];if(!c){this.warn(`Level ${i.level} not found on progress`);return}const e=c.details;if(!e){this.warn(`Dropping fragment ${i.sn} of level ${i.level} after level details were reset`),this.fragmentTracker.removeFragment(i);return}const o=c.videoCodec,u=e.PTSKnown||!e.live,f=(n=i.initSegment)==null?void 0:n.data,A=this._getAudioCodec(c),p=this.transmuxer=this.transmuxer||new yv(this.hls,Je.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),m=l?l.index:-1,y=m!==-1,b=new Nh(i.level,i.sn,i.stats.chunkCount,d.byteLength,m,y),E=this.initPTS[i.cc];p.push(d,f,A,o,i,l,e.totalduration,u,b,E)}onAudioTrackSwitching(t,n){const i=this.hls,l=this.altAudio===2;if(Fc(n.url,i))this.altAudio=1;else{if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;const s=this.fragCurrent;s&&(this.log("Switching to main audio track, cancel main fragment load"),s.abortRequests(),this.fragmentTracker.removeFragment(s)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();if(l){this.fragmentTracker.removeAllFragments(),i.once(G.BUFFER_FLUSHED,()=>{this.hls&&this.hls.trigger(G.AUDIO_TRACK_SWITCHED,n)}),i.trigger(G.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null});return}i.trigger(G.AUDIO_TRACK_SWITCHED,n)}}onAudioTrackSwitched(t,n){const i=Fc(n.url,this.hls);if(i){const l=this.videoBuffer;l&&this.mediaBuffer!==l&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=l)}this.altAudio=i?2:0,this.tick()}onBufferCreated(t,n){const i=n.tracks;let l,d,s=!1;for(const c in i){const e=i[c];if(e.id==="main"){if(d=c,l=e,c==="video"){const o=i[c];o&&(this.videoBuffer=o.buffer)}}else s=!0}s&&l?(this.log(`Alternate track found, use ${d}.buffered to schedule main fragment loading`),this.mediaBuffer=l.buffer):this.mediaBuffer=this.media}onFragBuffered(t,n){const{frag:i,part:l}=n,d=i.type===Je.MAIN;if(d){if(this.fragContextChanged(i)){this.warn(`Fragment ${i.sn}${l?" p: "+l.index:""} of level ${i.level} finished buffering, but was aborted. state: ${this.state}`),this.state===te.PARSED&&(this.state=te.IDLE);return}const c=l?l.stats:i.stats;this.fragLastKbps=Math.round(8*c.total/(c.buffering.end-c.loading.first)),qr(i)&&(this.fragPrevious=i),this.fragBufferedComplete(i,l)}const s=this.media;s&&(!this._hasEnoughToStart&&Pn.getBuffered(s).length&&(this._hasEnoughToStart=!0,this.seekToStartPos()),d&&this.tick())}get hasEnoughToStart(){return this._hasEnoughToStart}onError(t,n){var i;if(n.fatal){this.state=te.ERROR;return}switch(n.details){case _t.FRAG_GAP:case _t.FRAG_PARSING_ERROR:case _t.FRAG_DECRYPT_ERROR:case _t.FRAG_LOAD_ERROR:case _t.FRAG_LOAD_TIMEOUT:case _t.KEY_LOAD_ERROR:case _t.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Je.MAIN,n);break;case _t.LEVEL_LOAD_ERROR:case _t.LEVEL_LOAD_TIMEOUT:case _t.LEVEL_PARSING_ERROR:!n.levelRetry&&this.state===te.WAITING_LEVEL&&((i=n.context)==null?void 0:i.type)===Kn.LEVEL&&(this.state=te.IDLE);break;case _t.BUFFER_ADD_CODEC_ERROR:case _t.BUFFER_APPEND_ERROR:if(n.parent!=="main")return;this.reduceLengthAndFlushBuffer(n)&&this.resetLoadingState();break;case _t.BUFFER_FULL_ERROR:if(n.parent!=="main")return;this.reduceLengthAndFlushBuffer(n)&&(!this.config.interstitialsController&&this.config.assetPlayerId?this._hasEnoughToStart=!0:this.flushMainBuffer(0,Number.POSITIVE_INFINITY));break;case _t.INTERNAL_EXCEPTION:this.recoverWorkerError(n);break}}onFragLoadEmergencyAborted(){this.state=te.IDLE,this._hasEnoughToStart||(this.startFragRequested=!1,this.nextLoadPosition=this.lastCurrentTime),this.tickImmediate()}onBufferFlushed(t,{type:n}){if(n!==Cr.AUDIO||!this.altAudio){const i=(n===Cr.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;i&&(this.afterBufferFlushed(i,n,Je.MAIN),this.tick())}}onLevelsUpdated(t,n){this.level>-1&&this.fragCurrent&&(this.level=this.fragCurrent.level,this.level===-1&&this.resetWhenMissingContext(this.fragCurrent)),this.levels=n.levels}swapAudioCodec(){this.audioCodecSwap=!this.audioCodecSwap}seekToStartPos(){const{media:t}=this;if(!t)return;const n=t.currentTime;let i=this.startPosition;if(i>=0&&n<i){if(t.seeking){this.log(`could not seek to ${i}, already seeking at ${n}`);return}const l=this.timelineOffset;l&&i&&(i+=l);const d=this.getLevelDetails(),s=Pn.getBuffered(t),c=s.length?s.start(0):0,e=c-i,o=Math.max(this.config.maxBufferHole,this.config.maxFragLookUpTolerance);(this.config.startOnSegmentBoundary||e>0&&(e<o||this.loadingParts&&e<2*(d?.partTarget||0)))&&(this.log(`adjusting start position by ${e} to match buffer start`),i+=e,this.startPosition=i),n<i&&(this.log(`seek to target start position ${i} from current time ${n} buffer start ${c}`),t.currentTime=i)}}_getAudioCodec(t){let n=this.config.defaultAudioCodec||t.audioCodec;return this.audioCodecSwap&&n&&(this.log("Swapping audio codec"),n.indexOf("mp4a.40.5")!==-1?n="mp4a.40.2":n="mp4a.40.5"),n}_loadBitrateTestFrag(t,n){t.bitrateTest=!0,this._doFragLoad(t,n).then(i=>{const{hls:l}=this,d=i?.frag;if(!d||this.fragContextChanged(d))return;n.fragmentError=0,this.state=te.IDLE,this.startFragRequested=!1,this.bitrateTest=!1;const s=d.stats;s.parsing.start=s.parsing.end=s.buffering.start=s.buffering.end=self.performance.now(),l.trigger(G.FRAG_LOADED,i),d.bitrateTest=!1}).catch(i=>{this.state===te.STOPPED||this.state===te.ERROR||(this.warn(i),this.resetFragmentLoading(t))})}_handleTransmuxComplete(t){const n=this.playlistType,{hls:i}=this,{remuxResult:l,chunkMeta:d}=t,s=this.getCurrentContext(d);if(!s){this.resetWhenMissingContext(d);return}const{frag:c,part:e,level:o}=s,{video:u,text:f,id3:A,initSegment:p}=l,{details:m}=o,y=this.altAudio?void 0:l.audio;if(this.fragContextChanged(c)){this.fragmentTracker.removeFragment(c);return}if(this.state=te.PARSING,p){const b=p.tracks;if(b){const L=c.initSegment||c;if(this.unhandledEncryptionError(p,c))return;this._bufferInitSegment(o,b,L,d),i.trigger(G.FRAG_PARSING_INIT_SEGMENT,{frag:L,id:n,tracks:b})}const E=p.initPTS,S=p.timescale,T=this.initPTS[c.cc];if(je(E)&&(!T||T.baseTime!==E||T.timescale!==S)){const L=p.trackId;this.initPTS[c.cc]={baseTime:E,timescale:S,trackId:L},i.trigger(G.INIT_PTS_FOUND,{frag:c,id:n,initPTS:E,timescale:S,trackId:L})}}if(u&&m){y&&u.type==="audiovideo"&&this.logMuxedErr(c);const b=m.fragments[c.sn-1-m.startSN],E=c.sn===m.startSN,S=!b||c.cc>b.cc;if(l.independent!==!1){const{startPTS:T,endPTS:L,startDTS:I,endDTS:B}=u;if(e)e.elementaryStreams[u.type]={startPTS:T,endPTS:L,startDTS:I,endDTS:B};else if(u.firstKeyFrame&&u.independent&&d.id===1&&!S&&(this.couldBacktrack=!0),u.dropped&&u.independent){const O=this.getMainFwdBufferInfo(),_=(O?O.end:this.getLoadPosition())+this.config.maxBufferHole,M=u.firstKeyFramePTS?u.firstKeyFramePTS:T;if(!E&&_<M-this.config.maxBufferHole&&!S){this.backtrack(c);return}else S&&(c.gap=!0);c.setElementaryStreamInfo(u.type,c.start,L,c.start,B,!0)}else E&&T-(m.appliedTimelineOffset||0)>Oc&&(c.gap=!0);c.setElementaryStreamInfo(u.type,T,L,I,B),this.backtrackFragment&&(this.backtrackFragment=c),this.bufferFragmentData(u,c,e,d,E||S)}else if(E||S)c.gap=!0;else{this.backtrack(c);return}}if(y){const{startPTS:b,endPTS:E,startDTS:S,endDTS:T}=y;e&&(e.elementaryStreams[Cr.AUDIO]={startPTS:b,endPTS:E,startDTS:S,endDTS:T}),c.setElementaryStreamInfo(Cr.AUDIO,b,E,S,T),this.bufferFragmentData(y,c,e,d)}if(m&&A!=null&&A.samples.length){const b={id:n,frag:c,details:m,samples:A.samples};i.trigger(G.FRAG_PARSING_METADATA,b)}if(m&&f){const b={id:n,frag:c,details:m,samples:f.samples};i.trigger(G.FRAG_PARSING_USERDATA,b)}}logMuxedErr(t){this.warn(`${qr(t)?"Media":"Init"} segment with muxed audiovideo where only video expected: ${t.url}`)}_bufferInitSegment(t,n,i,l){if(this.state!==te.PARSING)return;this.audioOnly=!!n.audio&&!n.video,this.altAudio&&!this.audioOnly&&(delete n.audio,n.audiovideo&&this.logMuxedErr(i));const{audio:d,video:s,audiovideo:c}=n;if(d){const o=t.audioCodec;let u=wc(d.codec,o);u==="mp4a"&&(u="mp4a.40.5");const f=navigator.userAgent.toLowerCase();if(this.audioCodecSwitch){u&&(u.indexOf("mp4a.40.5")!==-1?u="mp4a.40.2":u="mp4a.40.5");const A=d.metadata;A&&"channelCount"in A&&(A.channelCount||1)!==1&&f.indexOf("firefox")===-1&&(u="mp4a.40.5")}u&&u.indexOf("mp4a.40.5")!==-1&&f.indexOf("android")!==-1&&d.container!=="audio/mpeg"&&(u="mp4a.40.2",this.log(`Android: force audio codec to ${u}`)),o&&o!==u&&this.log(`Swapping manifest audio codec "${o}" for "${u}"`),d.levelCodec=u,d.id=Je.MAIN,this.log(`Init audio buffer, container:${d.container}, codecs[selected/level/parsed]=[${u||""}/${o||""}/${d.codec}]`),delete n.audiovideo}if(s){s.levelCodec=t.videoCodec,s.id=Je.MAIN;const o=s.codec;if(o?.length===4)switch(o){case"hvc1":case"hev1":s.codec="hvc1.1.6.L120.90";break;case"av01":s.codec="av01.0.04M.08";break;case"avc1":s.codec="avc1.42e01e";break}this.log(`Init video buffer, container:${s.container}, codecs[level/parsed]=[${t.videoCodec||""}/${o}]${s.codec!==o?" parsed-corrected="+s.codec:""}${s.supplemental?" supplemental="+s.supplemental:""}`),delete n.audiovideo}c&&(this.log(`Init audiovideo buffer, container:${c.container}, codecs[level/parsed]=[${t.codecs}/${c.codec}]`),delete n.video,delete n.audio);const e=Object.keys(n);if(e.length){if(this.hls.trigger(G.BUFFER_CODECS,n),!this.hls)return;e.forEach(o=>{const f=n[o].initSegment;f!=null&&f.byteLength&&this.hls.trigger(G.BUFFER_APPENDING,{type:o,data:f,frag:i,part:null,chunkMeta:l,parent:i.type})})}this.tickImmediate()}getMainFwdBufferInfo(){const t=this.mediaBuffer&&this.altAudio===2?this.mediaBuffer:this.media;return this.getFwdBufferInfo(t,Je.MAIN)}get maxBufferLength(){const{levels:t,level:n}=this,i=t?.[n];return i?this.getMaxBufferLength(i.maxBitrate):this.config.maxBufferLength}backtrack(t){this.couldBacktrack=!0,this.backtrackFragment=t,this.resetTransmuxer(),this.flushBufferGap(t),this.fragmentTracker.removeFragment(t),this.fragPrevious=null,this.nextLoadPosition=t.start,this.state=te.IDLE}checkFragmentChanged(){const t=this.media;let n=null;if(t&&t.readyState>1&&t.seeking===!1){const i=t.currentTime;if(Pn.isBuffered(t,i)?n=this.getAppendedFrag(i):Pn.isBuffered(t,i+.1)&&(n=this.getAppendedFrag(i+.1)),n){this.backtrackFragment=null;const l=this.fragPlaying,d=n.level;(!l||n.sn!==l.sn||l.level!==d)&&(this.fragPlaying=n,this.hls.trigger(G.FRAG_CHANGED,{frag:n}),(!l||l.level!==d)&&this.hls.trigger(G.LEVEL_SWITCHED,{level:d}))}}}get nextLevel(){const t=this.nextBufferedFrag;return t?t.level:-1}get currentFrag(){var t;if(this.fragPlaying)return this.fragPlaying;const n=((t=this.media)==null?void 0:t.currentTime)||this.lastCurrentTime;return je(n)?this.getAppendedFrag(n):null}get currentProgramDateTime(){var t;const n=((t=this.media)==null?void 0:t.currentTime)||this.lastCurrentTime;if(je(n)){const i=this.getLevelDetails(),l=this.currentFrag||(i?bo(null,i.fragments,n):null);if(l){const d=l.programDateTime;if(d!==null){const s=d+(n-l.start)*1e3;return new Date(s)}}}return null}get currentLevel(){const t=this.currentFrag;return t?t.level:-1}get nextBufferedFrag(){const t=this.currentFrag;return t?this.followingBufferedFrag(t):null}get forceStartLoad(){return this._forceStartLoad}}class dT extends as{constructor(t,n){super("key-loader",n),this.config=void 0,this.keyIdToKeyInfo={},this.emeController=null,this.config=t}abort(t){for(const i in this.keyIdToKeyInfo){const l=this.keyIdToKeyInfo[i].loader;if(l){var n;if(t&&t!==((n=l.context)==null?void 0:n.frag.type))return;l.abort()}}}detach(){for(const t in this.keyIdToKeyInfo){const n=this.keyIdToKeyInfo[t];(n.mediaKeySessionContext||n.decryptdata.isCommonEncryption)&&delete this.keyIdToKeyInfo[t]}}destroy(){this.detach();for(const t in this.keyIdToKeyInfo){const n=this.keyIdToKeyInfo[t].loader;n&&n.destroy()}this.keyIdToKeyInfo={}}createKeyLoadError(t,n=_t.KEY_LOAD_ERROR,i,l,d){return new ra({type:rn.NETWORK_ERROR,details:n,fatal:!1,frag:t,response:d,error:i,networkDetails:l})}loadClear(t,n,i){if(this.emeController&&this.config.emeEnabled&&!this.emeController.getSelectedKeySystemFormats().length){if(n.length)for(let l=0,d=n.length;l<d;l++){const s=n[l];if(t.cc<=s.cc&&(!qr(t)||!qr(s)||t.sn<s.sn)||!i&&l==d-1)return this.emeController.selectKeySystemFormat(s).then(c=>{if(!this.emeController)return;s.setKeyFormat(c);const e=Rc(c);if(e)return this.emeController.getKeySystemAccess([e])})}if(this.config.requireKeySystemAccessOnStart){const l=Xl(this.config);if(l.length)return this.emeController.getKeySystemAccess(l)}}return null}load(t){return!t.decryptdata&&t.encrypted&&this.emeController&&this.config.emeEnabled?this.emeController.selectKeySystemFormat(t).then(n=>this.loadInternal(t,n)):this.loadInternal(t)}loadInternal(t,n){var i,l;n&&t.setKeyFormat(n);const d=t.decryptdata;if(!d){const u=new Error(n?`Expected frag.decryptdata to be defined after setting format ${n}`:"Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(t,_t.KEY_LOAD_ERROR,u))}const s=d.uri;if(!s)return Promise.reject(this.createKeyLoadError(t,_t.KEY_LOAD_ERROR,new Error(`Invalid key URI: "${s}"`)));const c=oh(d);let e=this.keyIdToKeyInfo[c];if((i=e)!=null&&i.decryptdata.key)return d.key=e.decryptdata.key,Promise.resolve({frag:t,keyInfo:e});if((l=e)!=null&&l.keyLoadPromise){var o;switch((o=e.mediaKeySessionContext)==null?void 0:o.keyStatus){case"usable":case"usable-in-future":return e.keyLoadPromise.then(f=>{const{keyInfo:A}=f;return d.key=A.decryptdata.key,{frag:t,keyInfo:A}})}}switch(this.log(`Loading key ${Wi(d.keyId||[])} from ${t.type} ${t.level}`),e=this.keyIdToKeyInfo[c]={decryptdata:d,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},d.method){case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return d.keyFormat==="identity"?this.loadKeyHTTP(e,t):this.loadKeyEME(e,t);case"AES-128":case"AES-256":case"AES-256-CTR":return this.loadKeyHTTP(e,t);default:return Promise.reject(this.createKeyLoadError(t,_t.KEY_LOAD_ERROR,new Error(`Key supplied with unsupported METHOD: "${d.method}"`)))}}loadKeyEME(t,n){const i={frag:n,keyInfo:t};if(this.emeController&&this.config.emeEnabled){const l=this.emeController.loadKey(i);return(t.keyLoadPromise=l.then(d=>(t.mediaKeySessionContext=d,i))).catch(d=>{throw t.keyLoadPromise=null,d.data&&(d.data.frag=n),d})}return Promise.resolve(i)}loadKeyHTTP(t,n){const i=this.config,l=i.loader,d=new l(i);return n.keyLoader=t.loader=d,t.keyLoadPromise=new Promise((s,c)=>{const e={keyInfo:t,frag:n,responseType:"arraybuffer",url:t.decryptdata.uri},o=i.keyLoadPolicy.default,u={loadPolicy:o,timeout:o.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},f={onSuccess:(A,p,m,y)=>{const{frag:b,keyInfo:E,url:S}=m,T=oh(E.decryptdata)||S;if(!b.decryptdata||E!==this.keyIdToKeyInfo[T])return c(this.createKeyLoadError(b,_t.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),y));E.decryptdata.key=b.decryptdata.key=new Uint8Array(A.data),b.keyLoader=null,E.loader=null,s({frag:b,keyInfo:E})},onError:(A,p,m,y)=>{this.resetLoader(p),c(this.createKeyLoadError(n,_t.KEY_LOAD_ERROR,new Error(`HTTP Error ${A.code} loading key ${A.text}`),m,vr({url:e.url,data:void 0},A)))},onTimeout:(A,p,m)=>{this.resetLoader(p),c(this.createKeyLoadError(n,_t.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),m))},onAbort:(A,p,m)=>{this.resetLoader(p),c(this.createKeyLoadError(n,_t.INTERNAL_ABORTED,new Error("key loading aborted"),m))}};d.load(e,u,f)})}resetLoader(t){const{frag:n,keyInfo:i,url:l}=t,d=i.loader;n.keyLoader===d&&(n.keyLoader=null,i.loader=null);const s=oh(i.decryptdata)||l;delete this.keyIdToKeyInfo[s],d&&d.destroy()}}function oh(g){const t=g.keyId;return t?Wi(t):g.uri}function gm(g){const{type:t}=g;switch(t){case Kn.AUDIO_TRACK:return Je.AUDIO;case Kn.SUBTITLE_TRACK:return Je.SUBTITLE;default:return Je.MAIN}}function lh(g,t){let n=g.url;return(n===void 0||n.indexOf("data:")===0)&&(n=t.url),n}class hT{constructor(t){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.onManifestLoaded=this.checkAutostartLoad,this.hls=t,this.registerListeners()}startLoad(t){}stopLoad(){this.destroyInternalLoaders()}registerListeners(){const{hls:t}=this;t.on(G.MANIFEST_LOADING,this.onManifestLoading,this),t.on(G.LEVEL_LOADING,this.onLevelLoading,this),t.on(G.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),t.on(G.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this),t.on(G.LEVELS_UPDATED,this.onLevelsUpdated,this)}unregisterListeners(){const{hls:t}=this;t.off(G.MANIFEST_LOADING,this.onManifestLoading,this),t.off(G.LEVEL_LOADING,this.onLevelLoading,this),t.off(G.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),t.off(G.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this),t.off(G.LEVELS_UPDATED,this.onLevelsUpdated,this)}createInternalLoader(t){const n=this.hls.config,i=n.pLoader,l=n.loader,d=i||l,s=new d(n);return this.loaders[t.type]=s,s}getInternalLoader(t){return this.loaders[t.type]}resetInternalLoader(t){this.loaders[t]&&delete this.loaders[t]}destroyInternalLoaders(){for(const t in this.loaders){const n=this.loaders[t];n&&n.destroy(),this.resetInternalLoader(t)}}destroy(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}onManifestLoading(t,n){const{url:i}=n;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:Kn.MANIFEST,url:i,deliveryDirectives:null,levelOrTrack:null})}onLevelLoading(t,n){const{id:i,level:l,pathwayId:d,url:s,deliveryDirectives:c,levelInfo:e}=n;this.load({id:i,level:l,pathwayId:d,responseType:"text",type:Kn.LEVEL,url:s,deliveryDirectives:c,levelOrTrack:e})}onAudioTrackLoading(t,n){const{id:i,groupId:l,url:d,deliveryDirectives:s,track:c}=n;this.load({id:i,groupId:l,level:null,responseType:"text",type:Kn.AUDIO_TRACK,url:d,deliveryDirectives:s,levelOrTrack:c})}onSubtitleTrackLoading(t,n){const{id:i,groupId:l,url:d,deliveryDirectives:s,track:c}=n;this.load({id:i,groupId:l,level:null,responseType:"text",type:Kn.SUBTITLE_TRACK,url:d,deliveryDirectives:s,levelOrTrack:c})}onLevelsUpdated(t,n){const i=this.loaders[Kn.LEVEL];if(i){const l=i.context;l&&!n.levels.some(d=>d===l.levelOrTrack)&&(i.abort(),delete this.loaders[Kn.LEVEL])}}load(t){var n;const i=this.hls.config;let l=this.getInternalLoader(t);if(l){const o=this.hls.logger,u=l.context;if(u&&u.levelOrTrack===t.levelOrTrack&&(u.url===t.url||u.deliveryDirectives&&!t.deliveryDirectives)){u.url===t.url?o.log(`[playlist-loader]: ignore ${t.url} ongoing request`):o.log(`[playlist-loader]: ignore ${t.url} in favor of ${u.url}`);return}o.log(`[playlist-loader]: aborting previous loader for type: ${t.type}`),l.abort()}let d;if(t.type===Kn.MANIFEST?d=i.manifestLoadPolicy.default:d=yr({},i.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),l=this.createInternalLoader(t),je((n=t.deliveryDirectives)==null?void 0:n.part)){let o;if(t.type===Kn.LEVEL&&t.level!==null?o=this.hls.levels[t.level].details:t.type===Kn.AUDIO_TRACK&&t.id!==null?o=this.hls.audioTracks[t.id].details:t.type===Kn.SUBTITLE_TRACK&&t.id!==null&&(o=this.hls.subtitleTracks[t.id].details),o){const u=o.partTarget,f=o.targetduration;if(u&&f){const A=Math.max(u*3,f*.8)*1e3;d=yr({},d,{maxTimeToFirstByteMs:Math.min(A,d.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(A,d.maxTimeToFirstByteMs)})}}}const s=d.errorRetry||d.timeoutRetry||{},c={loadPolicy:d,timeout:d.maxLoadTimeMs,maxRetry:s.maxNumRetry||0,retryDelay:s.retryDelayMs||0,maxRetryDelay:s.maxRetryDelayMs||0},e={onSuccess:(o,u,f,A)=>{const p=this.getInternalLoader(f);this.resetInternalLoader(f.type);const m=o.data;if(m.indexOf("#EXTM3U")!==0){this.handleManifestParsingError(o,f,new Error("no EXTM3U delimiter"),A||null,u);return}u.parsing.start=performance.now(),Ps.isMediaPlaylist(m)||f.type!==Kn.MANIFEST?this.handleTrackOrLevelPlaylist(o,u,f,A||null,p):this.handleMasterPlaylist(o,u,f,A)},onError:(o,u,f,A)=>{this.handleNetworkError(u,f,!1,o,A)},onTimeout:(o,u,f)=>{this.handleNetworkError(u,f,!0,void 0,o)}};l.load(t,c,e)}checkAutostartLoad(){if(!this.hls)return;const{config:{autoStartLoad:t,startPosition:n},forceStartLoad:i}=this.hls;(t||i)&&(this.hls.logger.log(`${t?"auto":"force"} startLoad with configured startPosition ${n}`),this.hls.startLoad(n))}handleMasterPlaylist(t,n,i,l){const d=this.hls,s=t.data,c=lh(t,i),e=Ps.parseMasterPlaylist(s,c);if(e.playlistParsingError){this.handleManifestParsingError(t,i,e.playlistParsingError,l,n);return}const{contentSteering:o,levels:u,sessionData:f,sessionKeys:A,startTimeOffset:p,variableList:m}=e;this.variableList=m;const{AUDIO:y=[],SUBTITLES:b,"CLOSED-CAPTIONS":E}=Ps.parseMasterPlaylistMedia(s,c,e);y.length&&!y.some(T=>!T.url)&&u[0].audioCodec&&!u[0].attrs.AUDIO&&(this.hls.logger.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),y.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new Pr({}),bitrate:0,url:""})),d.trigger(G.MANIFEST_LOADED,{levels:u,audioTracks:y,subtitles:b,captions:E,contentSteering:o,url:c,stats:n,networkDetails:l,sessionData:f,sessionKeys:A,startTimeOffset:p,variableList:m})}handleTrackOrLevelPlaylist(t,n,i,l,d){const s=this.hls,{id:c,level:e,type:o}=i,u=lh(t,i),f=je(e)?e:je(c)?c:0,A=gm(i),p=Ps.parseLevelPlaylist(t.data,u,f,A,0,this.variableList);if(o===Kn.MANIFEST){const m={attrs:new Pr({}),bitrate:0,details:p,name:"",url:u};p.requestScheduled=n.loading.start+Km(p,0),s.trigger(G.MANIFEST_LOADED,{levels:[m],audioTracks:[],url:u,stats:n,networkDetails:l,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}n.parsing.end=performance.now(),i.levelDetails=p,this.handlePlaylistLoaded(p,t,n,i,l,d)}handleManifestParsingError(t,n,i,l,d){this.hls.trigger(G.ERROR,{type:rn.NETWORK_ERROR,details:_t.MANIFEST_PARSING_ERROR,fatal:n.type===Kn.MANIFEST,url:t.url,err:i,error:i,reason:i.message,response:t,context:n,networkDetails:l,stats:d})}handleNetworkError(t,n,i=!1,l,d){let s=`A network ${i?"timeout":"error"+(l?" (status "+l.code+")":"")} occurred while loading ${t.type}`;t.type===Kn.LEVEL?s+=`: ${t.level} id: ${t.id}`:(t.type===Kn.AUDIO_TRACK||t.type===Kn.SUBTITLE_TRACK)&&(s+=` id: ${t.id} group-id: "${t.groupId}"`);const c=new Error(s);this.hls.logger.warn(`[playlist-loader]: ${s}`);let e=_t.UNKNOWN,o=!1;const u=this.getInternalLoader(t);switch(t.type){case Kn.MANIFEST:e=i?_t.MANIFEST_LOAD_TIMEOUT:_t.MANIFEST_LOAD_ERROR,o=!0;break;case Kn.LEVEL:e=i?_t.LEVEL_LOAD_TIMEOUT:_t.LEVEL_LOAD_ERROR,o=!1;break;case Kn.AUDIO_TRACK:e=i?_t.AUDIO_TRACK_LOAD_TIMEOUT:_t.AUDIO_TRACK_LOAD_ERROR,o=!1;break;case Kn.SUBTITLE_TRACK:e=i?_t.SUBTITLE_TRACK_LOAD_TIMEOUT:_t.SUBTITLE_LOAD_ERROR,o=!1;break}u&&this.resetInternalLoader(t.type);const f={type:rn.NETWORK_ERROR,details:e,fatal:o,url:t.url,loader:u,context:t,error:c,networkDetails:n,stats:d};if(l){const A=n?.url||t.url;f.response=vr({url:A,data:void 0},l)}this.hls.trigger(G.ERROR,f)}handlePlaylistLoaded(t,n,i,l,d,s){const c=this.hls,{type:e,level:o,id:u,groupId:f,deliveryDirectives:A}=l,p=lh(n,l),m=gm(l),y=typeof l.level=="number"&&m===Je.MAIN?o:void 0;if(!t.fragments.length){const E=t.playlistParsingError=new Error("No Segments found in Playlist");c.trigger(G.ERROR,{type:rn.NETWORK_ERROR,details:_t.LEVEL_EMPTY_ERROR,fatal:!1,url:p,error:E,reason:E.message,response:n,context:l,level:y,parent:m,networkDetails:d,stats:i});return}t.targetduration||(t.playlistParsingError=new Error("Missing Target Duration"));const b=t.playlistParsingError;if(b){if(this.hls.logger.warn(`${b} ${t.url}`),!c.config.ignorePlaylistParsingErrors){c.trigger(G.ERROR,{type:rn.NETWORK_ERROR,details:_t.LEVEL_PARSING_ERROR,fatal:!1,url:p,error:b,reason:b.message,response:n,context:l,level:y,parent:m,networkDetails:d,stats:i});return}t.playlistParsingError=null}switch(t.live&&s&&(s.getCacheAge&&(t.ageHeader=s.getCacheAge()||0),(!s.getCacheAge||isNaN(t.ageHeader))&&(t.ageHeader=0)),e){case Kn.MANIFEST:case Kn.LEVEL:c.trigger(G.LEVEL_LOADED,{details:t,levelInfo:l.levelOrTrack||c.levels[0],level:y||0,id:u||0,stats:i,networkDetails:d,deliveryDirectives:A,withoutMultiVariant:e===Kn.MANIFEST});break;case Kn.AUDIO_TRACK:c.trigger(G.AUDIO_TRACK_LOADED,{details:t,track:l.levelOrTrack,id:u||0,groupId:f||"",stats:i,networkDetails:d,deliveryDirectives:A});break;case Kn.SUBTITLE_TRACK:c.trigger(G.SUBTITLE_TRACK_LOADED,{details:t,track:l.levelOrTrack,id:u||0,groupId:f||"",stats:i,networkDetails:d,deliveryDirectives:A});break}}}let Kv=class il{static get version(){return ru}static isMSESupported(){return Vv()}static isSupported(){return lT()}static getMediaSource(){return Qa()}static get Events(){return G}static get MetadataSchema(){return qi}static get ErrorTypes(){return rn}static get ErrorDetails(){return _t}static get DefaultConfig(){return il.defaultConfig?il.defaultConfig:qx}static set DefaultConfig(t){il.defaultConfig=t}constructor(t={}){this.config=void 0,this.userConfig=void 0,this.logger=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new Qh,this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioStreamController=void 0,this.subtititleStreamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.interstitialsController=void 0,this.gapController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this._url=null,this._sessionId=void 0,this.triggeringException=void 0,this.started=!1;const n=this.logger=Eb(t.debug||!1,"Hls instance",t.assetPlayerId),i=this.config=Zx(il.DefaultConfig,t,n);this.userConfig=t,i.progressive&&Jx(i,n);const{abrController:l,bufferController:d,capLevelController:s,errorController:c,fpsController:e}=i,o=new c(this),u=this.abrController=new l(this),f=new hE(this),A=i.interstitialsController,p=A?this.interstitialsController=new A(this,il):null,m=this.bufferController=new d(this,f),y=this.capLevelController=new s(this),b=new e(this),E=new hT(this),S=i.contentSteeringController,T=S?new S(this):null,L=this.levelController=new oT(this,T),I=new sT(this),B=new dT(this.config,this.logger),O=this.streamController=new fT(this,f,B),_=this.gapController=new rT(this,f);y.setStreamController(O),b.setStreamController(O);const M=[E,L,O];p&&M.splice(1,0,p),T&&M.splice(1,0,T),this.networkControllers=M;const U=[u,m,_,y,b,I,f];this.audioTrackController=this.createController(i.audioTrackController,M);const Q=i.audioStreamController;Q&&M.push(this.audioStreamController=new Q(this,f,B)),this.subtitleTrackController=this.createController(i.subtitleTrackController,M);const $=i.subtitleStreamController;$&&M.push(this.subtititleStreamController=new $(this,f,B)),this.createController(i.timelineController,U),B.emeController=this.emeController=this.createController(i.emeController,U),this.cmcdController=this.createController(i.cmcdController,U),this.latencyController=this.createController(aT,U),this.coreComponents=U,M.push(o);const W=o.onErrorOut;typeof W=="function"&&this.on(G.ERROR,W,o),this.on(G.MANIFEST_LOADED,E.onManifestLoaded,E)}createController(t,n){if(t){const i=new t(this);return n&&n.push(i),i}return null}on(t,n,i=this){this._emitter.on(t,n,i)}once(t,n,i=this){this._emitter.once(t,n,i)}removeAllListeners(t){this._emitter.removeAllListeners(t)}off(t,n,i=this,l){this._emitter.off(t,n,i,l)}listeners(t){return this._emitter.listeners(t)}emit(t,n,i){return this._emitter.emit(t,n,i)}trigger(t,n){if(this.config.debug)return this.emit(t,t,n);try{return this.emit(t,t,n)}catch(i){if(this.logger.error("An internal error happened while handling event "+t+'. Error message: "'+i.message+'". Here is a stacktrace:',i),!this.triggeringException){this.triggeringException=!0;const l=t===G.ERROR;this.trigger(G.ERROR,{type:rn.OTHER_ERROR,details:_t.INTERNAL_EXCEPTION,fatal:l,event:t,error:i}),this.triggeringException=!1}}return!1}listenerCount(t){return this._emitter.listenerCount(t)}destroy(){this.logger.log("destroy"),this.trigger(G.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this._url=null,this.networkControllers.forEach(n=>n.destroy()),this.networkControllers.length=0,this.coreComponents.forEach(n=>n.destroy()),this.coreComponents.length=0;const t=this.config;t.xhrSetup=t.fetchSetup=void 0,this.userConfig=null}attachMedia(t){if(!t||"media"in t&&!t.media){const d=new Error(`attachMedia failed: invalid argument (${t})`);this.trigger(G.ERROR,{type:rn.OTHER_ERROR,details:_t.ATTACH_MEDIA_ERROR,fatal:!0,error:d});return}this.logger.log("attachMedia"),this._media&&(this.logger.warn("media must be detached before attaching"),this.detachMedia());const n="media"in t,i=n?t.media:t,l=n?t:{media:i};this._media=i,this.trigger(G.MEDIA_ATTACHING,l)}detachMedia(){this.logger.log("detachMedia"),this.trigger(G.MEDIA_DETACHING,{}),this._media=null}transferMedia(){this._media=null;const t=this.bufferController.transferMedia();return this.trigger(G.MEDIA_DETACHING,{transferMedia:t}),t}loadSource(t){this.stopLoad();const n=this.media,i=this._url,l=this._url=Dh.buildAbsoluteURL(self.location.href,t,{alwaysNormalize:!0});this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.logger.log(`loadSource:${l}`),n&&i&&(i!==l||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(n)),this.trigger(G.MANIFEST_LOADING,{url:t})}get url(){return this._url}get hasEnoughToStart(){return this.streamController.hasEnoughToStart}get startPosition(){return this.streamController.startPositionValue}startLoad(t=-1,n){this.logger.log(`startLoad(${t+(n?", <skip seek to start>":"")})`),this.started=!0,this.resumeBuffering();for(let i=0;i<this.networkControllers.length&&(this.networkControllers[i].startLoad(t,n),!(!this.started||!this.networkControllers));i++);}stopLoad(){this.logger.log("stopLoad"),this.started=!1;for(let t=0;t<this.networkControllers.length&&(this.networkControllers[t].stopLoad(),!(this.started||!this.networkControllers));t++);}get loadingEnabled(){return this.started}get bufferingEnabled(){return this.streamController.bufferingEnabled}resumeBuffering(){this.bufferingEnabled||(this.logger.log("resume buffering"),this.networkControllers.forEach(t=>{t.resumeBuffering&&t.resumeBuffering()}))}pauseBuffering(){this.bufferingEnabled&&(this.logger.log("pause buffering"),this.networkControllers.forEach(t=>{t.pauseBuffering&&t.pauseBuffering()}))}get inFlightFragments(){const t={[Je.MAIN]:this.streamController.inFlightFrag};return this.audioStreamController&&(t[Je.AUDIO]=this.audioStreamController.inFlightFrag),this.subtititleStreamController&&(t[Je.SUBTITLE]=this.subtititleStreamController.inFlightFrag),t}swapAudioCodec(){this.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()}recoverMediaError(){this.logger.log("recoverMediaError");const t=this._media,n=t?.currentTime;this.detachMedia(),t&&(this.attachMedia(t),n&&this.startLoad(n))}removeLevel(t){this.levelController.removeLevel(t)}get sessionId(){let t=this._sessionId;return t||(t=this._sessionId=rx()),t}get levels(){const t=this.levelController.levels;return t||[]}get latestLevelDetails(){return this.streamController.getLevelDetails()||null}get loadLevelObj(){return this.levelController.loadLevelObj}get currentLevel(){return this.streamController.currentLevel}set currentLevel(t){this.logger.log(`set currentLevel:${t}`),this.levelController.manualLevel=t,this.streamController.immediateLevelSwitch()}get nextLevel(){return this.streamController.nextLevel}set nextLevel(t){this.logger.log(`set nextLevel:${t}`),this.levelController.manualLevel=t,this.streamController.nextLevelSwitch()}get loadLevel(){return this.levelController.level}set loadLevel(t){this.logger.log(`set loadLevel:${t}`),this.levelController.manualLevel=t}get nextLoadLevel(){return this.levelController.nextLoadLevel}set nextLoadLevel(t){this.levelController.nextLoadLevel=t}get firstLevel(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)}set firstLevel(t){this.logger.log(`set firstLevel:${t}`),this.levelController.firstLevel=t}get startLevel(){const t=this.levelController.startLevel;return t===-1&&this.abrController.forcedAutoLevel>-1?this.abrController.forcedAutoLevel:t}set startLevel(t){this.logger.log(`set startLevel:${t}`),t!==-1&&(t=Math.max(t,this.minAutoLevel)),this.levelController.startLevel=t}get capLevelToPlayerSize(){return this.config.capLevelToPlayerSize}set capLevelToPlayerSize(t){const n=!!t;n!==this.config.capLevelToPlayerSize&&(n?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=n)}get autoLevelCapping(){return this._autoLevelCapping}get bandwidthEstimate(){const{bwEstimator:t}=this.abrController;return t?t.getEstimate():NaN}set bandwidthEstimate(t){this.abrController.resetEstimator(t)}get abrEwmaDefaultEstimate(){const{bwEstimator:t}=this.abrController;return t?t.defaultEstimate:NaN}get ttfbEstimate(){const{bwEstimator:t}=this.abrController;return t?t.getEstimateTTFB():NaN}set autoLevelCapping(t){this._autoLevelCapping!==t&&(this.logger.log(`set autoLevelCapping:${t}`),this._autoLevelCapping=t,this.levelController.checkMaxAutoUpdated())}get maxHdcpLevel(){return this._maxHdcpLevel}set maxHdcpLevel(t){Xb(t)&&this._maxHdcpLevel!==t&&(this._maxHdcpLevel=t,this.levelController.checkMaxAutoUpdated())}get autoLevelEnabled(){return this.levelController.manualLevel===-1}get manualLevel(){return this.levelController.manualLevel}get minAutoLevel(){const{levels:t,config:{minAutoBitrate:n}}=this;if(!t)return 0;const i=t.length;for(let l=0;l<i;l++)if(t[l].maxBitrate>=n)return l;return 0}get maxAutoLevel(){const{levels:t,autoLevelCapping:n,maxHdcpLevel:i}=this;let l;if(n===-1&&t!=null&&t.length?l=t.length-1:l=n,i)for(let d=l;d--;){const s=t[d].attrs["HDCP-LEVEL"];if(s&&s<=i)return d}return l}get firstAutoLevel(){return this.abrController.firstAutoLevel}get nextAutoLevel(){return this.abrController.nextAutoLevel}set nextAutoLevel(t){this.abrController.nextAutoLevel=t}get playingDate(){return this.streamController.currentProgramDateTime}get mainForwardBufferInfo(){return this.streamController.getMainFwdBufferInfo()}get maxBufferLength(){return this.streamController.maxBufferLength}setAudioOption(t){var n;return((n=this.audioTrackController)==null?void 0:n.setAudioOption(t))||null}setSubtitleOption(t){var n;return((n=this.subtitleTrackController)==null?void 0:n.setSubtitleOption(t))||null}get allAudioTracks(){const t=this.audioTrackController;return t?t.allAudioTracks:[]}get audioTracks(){const t=this.audioTrackController;return t?t.audioTracks:[]}get audioTrack(){const t=this.audioTrackController;return t?t.audioTrack:-1}set audioTrack(t){const n=this.audioTrackController;n&&(n.audioTrack=t)}get allSubtitleTracks(){const t=this.subtitleTrackController;return t?t.allSubtitleTracks:[]}get subtitleTracks(){const t=this.subtitleTrackController;return t?t.subtitleTracks:[]}get subtitleTrack(){const t=this.subtitleTrackController;return t?t.subtitleTrack:-1}get media(){return this._media}set subtitleTrack(t){const n=this.subtitleTrackController;n&&(n.subtitleTrack=t)}get subtitleDisplay(){const t=this.subtitleTrackController;return t?t.subtitleDisplay:!1}set subtitleDisplay(t){const n=this.subtitleTrackController;n&&(n.subtitleDisplay=t)}get lowLatencyMode(){return this.config.lowLatencyMode}set lowLatencyMode(t){this.config.lowLatencyMode=t}get liveSyncPosition(){return this.latencyController.liveSyncPosition}get latency(){return this.latencyController.latency}get maxLatency(){return this.latencyController.maxLatency}get targetLatency(){return this.latencyController.targetLatency}set targetLatency(t){this.latencyController.targetLatency=t}get drift(){return this.latencyController.drift}get forceStartLoad(){return this.streamController.forceStartLoad}get pathways(){return this.levelController.pathways}get pathwayPriority(){return this.levelController.pathwayPriority}set pathwayPriority(t){this.levelController.pathwayPriority=t}get bufferedToEnd(){var t;return!!((t=this.bufferController)!=null&&t.bufferedToEnd)}get interstitialsManager(){var t;return((t=this.interstitialsController)==null?void 0:t.interstitialsManager)||null}getMediaDecodingInfo(t,n=this.allAudioTracks){const i=Nm(n);return Mm(t,i,navigator.mediaCapabilities)}};Kv.defaultConfig=void 0;const Wv=In.createContext(void 0),qc=()=>{const g=In.useContext(Wv);if(g===void 0)throw new Error("useAuth deve ser usado dentro de um AuthProvider");return g},AT=({children:g})=>{const[t,n]=In.useState(null),[i,l]=In.useState(null),[d,s]=In.useState(!0),c=!!t&&!!i;In.useEffect(()=>{(async()=>{try{const m=localStorage.getItem("yustream_token"),y=localStorage.getItem("yustream_user");m&&y&&((await fetch("/api/auth/verify",{headers:{Authorization:`Bearer ${m}`}})).ok?(l(m),n(JSON.parse(y))):(localStorage.removeItem("yustream_token"),localStorage.removeItem("yustream_user")))}catch(m){console.error("Erro ao verificar autenticao:",m),localStorage.removeItem("yustream_token"),localStorage.removeItem("yustream_user")}finally{s(!1)}})()},[]);const A={user:t,token:i,isAuthenticated:c,isLoading:d,login:(p,m)=>{l(p),n(m),localStorage.setItem("yustream_token",p),localStorage.setItem("yustream_user",JSON.stringify(m))},logout:()=>{l(null),n(null),localStorage.removeItem("yustream_token"),localStorage.removeItem("yustream_user")},checkStreamStatus:async()=>{if(!i)throw new Error("Usurio no autenticado");try{const p=await fetch("/api/stream/status",{headers:{Authorization:`Bearer ${i}`}});if(!p.ok)throw new Error("Falha ao verificar status da stream");const m=await p.json();return{online:m.online,status:m.status}}catch(p){return console.error("Erro ao verificar status da stream:",p),{online:!1,status:"error"}}},getStreamToken:async()=>{if(!i)throw new Error("Usurio no autenticado");try{const p=await fetch("/api/stream/token",{headers:{Authorization:`Bearer ${i}`}});if(!p.ok)throw new Error("Falha ao obter token de stream");return(await p.json()).streamToken}catch(p){return console.error("Erro ao obter token de stream:",p),null}}};return dt.jsx(Wv.Provider,{value:A,children:g})},gT=({showToast:g,onClose:t})=>{const{token:n}=qc(),[i,l]=In.useState([]),[d,s]=In.useState(null),[c,e]=In.useState(!0),[o,u]=In.useState(""),[f,A]=In.useState(1),[p,m]=In.useState(1),[y,b]=In.useState(!1),[E,S]=In.useState(!1),[T,L]=In.useState(null),[I,B]=In.useState({username:"",email:"",password:"",role:"user",isActive:!0}),[O,_]=In.useState(!1);In.useEffect(()=>{M(),U()},[f]);const M=async()=>{try{e(!0);const Z=await fetch(`/api/admin/users?page=${f}&limit=10`,{headers:{Authorization:`Bearer ${n}`}});if(!Z.ok)throw new Error("Falha ao carregar usurios");const F=await Z.json();l(F.users),m(F.pagination.total)}catch(Z){console.error("Erro ao carregar usurios:",Z),g("Erro ao carregar usurios","error")}finally{e(!1)}},U=async()=>{try{const Z=await fetch("/api/admin/stats",{headers:{Authorization:`Bearer ${n}`}});if(!Z.ok)throw new Error("Falha ao carregar estatsticas");const F=await Z.json();s(F)}catch(Z){console.error("Erro ao carregar estatsticas:",Z)}},Q=async Z=>{Z.preventDefault();try{const F=await fetch("/api/admin/users",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify(I)}),q=await F.json();if(!F.ok)throw new Error(q.message||"Erro ao criar usurio");g("Usurio criado com sucesso!","success"),b(!1),X(),M(),U()}catch(F){g(F.message||"Erro ao criar usurio","error")}},$=async Z=>{if(Z.preventDefault(),!!T)try{const F={...I};F.password||delete F.password;const q=await fetch(`/api/admin/users/${T._id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify(F)}),nt=await q.json();if(!q.ok)throw new Error(nt.message||"Erro ao atualizar usurio");g("Usurio atualizado com sucesso!","success"),S(!1),L(null),X(),M(),U()}catch(F){g(F.message||"Erro ao atualizar usurio","error")}},W=async Z=>{if(confirm(`Tem certeza que deseja deletar o usurio "${Z.username}"?`))try{const F=await fetch(`/api/admin/users/${Z._id}`,{method:"DELETE",headers:{Authorization:`Bearer ${n}`}}),q=await F.json();if(!F.ok)throw new Error(q.message||"Erro ao deletar usurio");g("Usurio deletado com sucesso!","success"),M(),U()}catch(F){g(F.message||"Erro ao deletar usurio","error")}},X=()=>{B({username:"",email:"",password:"",role:"user",isActive:!0}),_(!1)},et=Z=>{L(Z),B({username:Z.username,email:Z.email,password:"",role:Z.role,isActive:Z.isActive}),S(!0)},Y=i.filter(Z=>Z.username.toLowerCase().includes(o.toLowerCase())||Z.email.toLowerCase().includes(o.toLowerCase())),N=Z=>{switch(Z){case"admin":return"role-admin";case"moderator":return"role-moderator";default:return"role-user"}},K=Z=>new Date(Z).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});return dt.jsxs("div",{className:"admin-panel",children:[dt.jsxs("div",{className:"admin-header",children:[dt.jsx("div",{className:"header-left",children:dt.jsxs("h1",{children:[dt.jsx(Zp,{size:24})," Gerenciamento de Usurios"]})}),dt.jsxs("div",{className:"header-right",children:[dt.jsxs("button",{className:"btn-create",onClick:()=>b(!0),children:[dt.jsx(F1,{size:16}),"Novo Usurio"]}),dt.jsx("button",{className:"btn-close",onClick:t,children:""})]})]}),d&&dt.jsxs("div",{className:"stats-grid",children:[dt.jsxs("div",{className:"stat-card",children:[dt.jsx("div",{className:"stat-icon users",children:dt.jsx(Zp,{size:24})}),dt.jsxs("div",{className:"stat-content",children:[dt.jsx("h3",{children:d.total}),dt.jsx("p",{children:"Total de Usurios"})]})]}),dt.jsxs("div",{className:"stat-card",children:[dt.jsx("div",{className:"stat-icon active",children:dt.jsx(X1,{size:24})}),dt.jsxs("div",{className:"stat-content",children:[dt.jsx("h3",{children:d.active}),dt.jsx("p",{children:"Usurios Ativos"})]})]}),dt.jsxs("div",{className:"stat-card",children:[dt.jsx("div",{className:"stat-icon admins",children:dt.jsx(Y1,{size:24})}),dt.jsxs("div",{className:"stat-content",children:[dt.jsx("h3",{children:d.byRole.admin}),dt.jsx("p",{children:"Administradores"})]})]}),dt.jsxs("div",{className:"stat-card",children:[dt.jsx("div",{className:"stat-icon inactive",children:dt.jsx(J1,{size:24})}),dt.jsxs("div",{className:"stat-content",children:[dt.jsx("h3",{children:d.inactive}),dt.jsx("p",{children:"Usurios Inativos"})]})]})]}),dt.jsx("div",{className:"filters",children:dt.jsxs("div",{className:"search-box",children:[dt.jsx(Q1,{size:16}),dt.jsx("input",{type:"text",placeholder:"Buscar por usurio ou email...",value:o,onChange:Z=>u(Z.target.value)})]})}),dt.jsx("div",{className:"users-table-container",children:c?dt.jsxs("div",{className:"loading-state",children:[dt.jsx("div",{className:"loading-spinner"}),dt.jsx("p",{children:"Carregando usurios..."})]}):dt.jsxs("table",{className:"users-table",children:[dt.jsx("thead",{children:dt.jsxs("tr",{children:[dt.jsx("th",{children:"Usurio"}),dt.jsx("th",{children:"Email"}),dt.jsx("th",{children:"Role"}),dt.jsx("th",{children:"Status"}),dt.jsx("th",{children:"ltimo Login"}),dt.jsx("th",{children:"Aes"})]})}),dt.jsx("tbody",{children:Y.map(Z=>dt.jsxs("tr",{children:[dt.jsx("td",{children:dt.jsxs("div",{className:"user-info",children:[dt.jsx("strong",{children:Z.username}),dt.jsxs("small",{children:["Criado em ",K(Z.createdAt)]})]})}),dt.jsx("td",{children:Z.email}),dt.jsx("td",{children:dt.jsx("span",{className:`role-badge ${N(Z.role)}`,children:Z.role})}),dt.jsx("td",{children:dt.jsx("span",{className:`status-badge ${Z.isActive?"active":"inactive"}`,children:Z.isActive?"Ativo":"Inativo"})}),dt.jsx("td",{children:Z.lastLogin?K(Z.lastLogin):"Nunca"}),dt.jsx("td",{children:dt.jsxs("div",{className:"actions",children:[dt.jsx("button",{className:"btn-edit",onClick:()=>et(Z),title:"Editar usurio",children:dt.jsx(V1,{size:14})}),dt.jsx("button",{className:"btn-delete",onClick:()=>W(Z),title:"Deletar usurio",children:dt.jsx(W1,{size:14})})]})})]},Z._id))})]})}),p>1&&dt.jsxs("div",{className:"pagination",children:[dt.jsx("button",{disabled:f===1,onClick:()=>A(f-1),children:"Anterior"}),dt.jsxs("span",{children:["Pgina ",f," de ",p]}),dt.jsx("button",{disabled:f===p,onClick:()=>A(f+1),children:"Prxima"})]}),y&&dt.jsx("div",{className:"modal-overlay",children:dt.jsxs("div",{className:"modal",children:[dt.jsxs("div",{className:"modal-header",children:[dt.jsx("h2",{children:"Criar Novo Usurio"}),dt.jsx("button",{onClick:()=>{b(!1),X()},children:""})]}),dt.jsxs("form",{onSubmit:Q,children:[dt.jsxs("div",{className:"form-group",children:[dt.jsx("label",{children:"Username"}),dt.jsx("input",{type:"text",value:I.username,onChange:Z=>B({...I,username:Z.target.value}),required:!0})]}),dt.jsxs("div",{className:"form-group",children:[dt.jsx("label",{children:"Email"}),dt.jsx("input",{type:"email",value:I.email,onChange:Z=>B({...I,email:Z.target.value}),required:!0})]}),dt.jsxs("div",{className:"form-group",children:[dt.jsx("label",{children:"Senha"}),dt.jsxs("div",{className:"password-input",children:[dt.jsx("input",{type:O?"text":"password",value:I.password,onChange:Z=>B({...I,password:Z.target.value}),required:!0}),dt.jsx("button",{type:"button",className:"password-toggle",onClick:()=>_(!O),children:O?dt.jsx(_c,{size:16}):dt.jsx(Mc,{size:16})})]})]}),dt.jsxs("div",{className:"form-group",children:[dt.jsx("label",{children:"Role"}),dt.jsxs("select",{value:I.role,onChange:Z=>B({...I,role:Z.target.value}),children:[dt.jsx("option",{value:"user",children:"Usurio"}),dt.jsx("option",{value:"moderator",children:"Moderador"}),dt.jsx("option",{value:"admin",children:"Administrador"})]})]}),dt.jsxs("div",{className:"form-actions",children:[dt.jsx("button",{type:"button",onClick:()=>{b(!1),X()},children:"Cancelar"}),dt.jsx("button",{type:"submit",children:"Criar Usurio"})]})]})]})}),E&&T&&dt.jsx("div",{className:"modal-overlay",children:dt.jsxs("div",{className:"modal",children:[dt.jsxs("div",{className:"modal-header",children:[dt.jsx("h2",{children:"Editar Usurio"}),dt.jsx("button",{onClick:()=>{S(!1),L(null),X()},children:""})]}),dt.jsxs("form",{onSubmit:$,children:[dt.jsxs("div",{className:"form-group",children:[dt.jsx("label",{children:"Username"}),dt.jsx("input",{type:"text",value:I.username,onChange:Z=>B({...I,username:Z.target.value}),required:!0})]}),dt.jsxs("div",{className:"form-group",children:[dt.jsx("label",{children:"Email"}),dt.jsx("input",{type:"email",value:I.email,onChange:Z=>B({...I,email:Z.target.value}),required:!0})]}),dt.jsxs("div",{className:"form-group",children:[dt.jsx("label",{children:"Nova Senha (deixe vazio para no alterar)"}),dt.jsxs("div",{className:"password-input",children:[dt.jsx("input",{type:O?"text":"password",value:I.password,onChange:Z=>B({...I,password:Z.target.value}),placeholder:"Nova senha (opcional)"}),dt.jsx("button",{type:"button",className:"password-toggle",onClick:()=>_(!O),children:O?dt.jsx(_c,{size:16}):dt.jsx(Mc,{size:16})})]})]}),dt.jsxs("div",{className:"form-group",children:[dt.jsx("label",{children:"Role"}),dt.jsxs("select",{value:I.role,onChange:Z=>B({...I,role:Z.target.value}),children:[dt.jsx("option",{value:"user",children:"Usurio"}),dt.jsx("option",{value:"moderator",children:"Moderador"}),dt.jsx("option",{value:"admin",children:"Administrador"})]})]}),dt.jsx("div",{className:"form-group",children:dt.jsxs("label",{className:"checkbox-label",children:[dt.jsx("input",{type:"checkbox",checked:I.isActive,onChange:Z=>B({...I,isActive:Z.target.checked})}),"Usurio ativo"]})}),dt.jsxs("div",{className:"form-actions",children:[dt.jsx("button",{type:"button",onClick:()=>{S(!1),L(null),X()},children:"Cancelar"}),dt.jsx("button",{type:"submit",children:"Salvar Alteraes"})]})]})]})})]})},pT=({showToast:g,onBack:t,user:n})=>dt.jsxs("div",{className:"admin-screen",children:[dt.jsxs("div",{className:"admin-screen-header",children:[dt.jsxs("button",{className:"back-btn",onClick:t,children:[dt.jsx(ym,{size:20}),"Voltar ao Player"]}),dt.jsxs("div",{className:"user-info",children:[dt.jsxs("span",{children:["Administrador: ",n?.username]}),dt.jsxs("span",{className:"user-role",children:["(",n?.role,")"]})]})]}),dt.jsx("div",{className:"admin-screen-content",children:dt.jsx(gT,{showToast:g,onClose:t})})]}),qv=({showToast:g,onBack:t})=>{const{user:n,isAuthenticated:i}=qc(),[l,d]=In.useState({email:"",password:""}),[s,c]=In.useState(!1),[e,o]=In.useState(!1),u=async()=>{if(n){c(!0);try{const p={email:`${n.username}@yustream.com`,password:"logged-in-user"},m=JSON.stringify(p),y=encodeURIComponent(m),b=`${window.location.origin}/${y}/manifest.json`,E=`stremio://${b.replace("http://","").replace("https://","")}`;console.log("Quick Install - Stremio URL:",E),g("Instalando addon automaticamente...","info"),window.location.href=E,setTimeout(()=>{const S="https://web.stremio.com/#/addons?addon="+encodeURIComponent(b);c(!1),g("Addon instalado! Verifique o Stremio.","success"),confirm(` Addon instalado!

Se o Stremio no abriu, clique OK para abrir no navegador:`)&&window.open(S,"_blank")},2e3)}catch(p){console.error("Erro na instalao rpida:",p),g("Erro na instalao rpida. Use o formulrio manual.","error"),c(!1)}}},f=async p=>{if(p.preventDefault(),!l.email||!l.password){g("Por favor, preencha todos os campos","error");return}c(!0);try{const m={email:l.email,password:l.password},y=JSON.stringify(m),b=encodeURIComponent(y),E=`${window.location.origin}/${b}/manifest.json`;console.log("Credentials Object:",m),console.log("JSON Credentials:",y),console.log("Encoded Credentials:",b),console.log("Addon URL:",E);const S=`stremio://${E.replace("http://","").replace("https://","")}`;console.log("Stremio URL:",S),g("Redirecionando para o Stremio...","info"),window.location.href=S,setTimeout(()=>{const T="https://web.stremio.com/#/addons?addon="+encodeURIComponent(E);c(!1),confirm(` Addon configurado!

Se o Stremio no abriu automaticamente, clique OK para abrir no navegador:`)&&window.open(T,"_blank")},3e3)}catch(m){console.error("Erro ao configurar addon:",m),g("Erro ao configurar addon. Tente novamente.","error"),c(!1)}},A=(p,m)=>{d(y=>({...y,[p]:m}))};return dt.jsx("div",{className:"stremio-config-container",children:dt.jsxs("div",{className:"stremio-config-card",children:[dt.jsxs("div",{className:"stremio-header",children:[dt.jsxs("button",{className:"back-btn",onClick:t,children:[dt.jsx(ym,{size:20}),"Voltar"]}),dt.jsxs("div",{className:"header-content",children:[dt.jsx(Em,{className:"stremio-icon",size:32}),dt.jsx("h1",{children:"Stremio Addon"}),dt.jsx("p",{children:i?`Ol, ${n?.username}! Configure o addon para o Stremio`:"Configure suas credenciais para assistir no Stremio"})]})]}),i&&dt.jsxs("div",{className:"quick-install",children:[dt.jsx("h3",{children:" Instalao Rpida"}),dt.jsx("p",{children:"Voc j est logado! Instale o addon automaticamente:"}),dt.jsx("button",{className:"quick-install-btn",onClick:u,disabled:s,children:s?dt.jsxs(dt.Fragment,{children:[dt.jsx("div",{className:"loading-spinner"}),"Instalando..."]}):dt.jsxs(dt.Fragment,{children:[dt.jsx(ub,{size:20}),"Instalar Agora (",n?.username,")"]})}),dt.jsx("div",{className:"divider",children:dt.jsx("span",{children:"ou configure manualmente"})})]}),dt.jsxs("form",{onSubmit:f,className:"stremio-form",children:[dt.jsx("div",{className:"input-group",children:dt.jsx("div",{className:"input-wrapper",children:dt.jsx("input",{type:"email",placeholder:" Email",value:l.email,onChange:p=>A("email",p.target.value),disabled:s,autoComplete:"email",required:!0})})}),dt.jsx("div",{className:"input-group",children:dt.jsxs("div",{className:"input-wrapper",children:[dt.jsx("input",{type:e?"text":"password",placeholder:" Senha",value:l.password,onChange:p=>A("password",p.target.value),disabled:s,autoComplete:"current-password",required:!0}),dt.jsx("button",{type:"button",className:"password-toggle",onClick:()=>o(!e),disabled:s,children:e?dt.jsx(_c,{size:18}):dt.jsx(Mc,{size:18})})]})}),dt.jsx("button",{type:"submit",className:"install-button",disabled:s,children:s?dt.jsxs(dt.Fragment,{children:[dt.jsx("div",{className:"loading-spinner"}),"Configurando..."]}):dt.jsxs(dt.Fragment,{children:[dt.jsx(I1,{size:20}),"Instalar no Stremio"]})})]}),dt.jsxs("div",{className:"instructions",children:[dt.jsx("h3",{children:" Como usar:"}),dt.jsxs("ol",{children:[dt.jsx("li",{children:"Digite suas credenciais do YuStream"}),dt.jsx("li",{children:'Clique em "Instalar no Stremio"'}),dt.jsx("li",{children:"O Stremio abrir automaticamente"}),dt.jsx("li",{children:'V para "YuStream Live" para assistir'})]})]})]})})},pm="live",mT=({showToast:g})=>{const{user:t,logout:n,getStreamToken:i}=qc(),[l,d]=In.useState("connecting"),[s,c]=In.useState(!1),[e,o]=In.useState(!1),[u,f]=In.useState(0),[A,p]=In.useState(0),m=In.useRef(null),y=In.useRef(null),b=In.useRef(g);In.useEffect(()=>{b.current=g},[g]);const E=3,S=1e4,T=In.useCallback(Q=>{const $=window.location.hostname,W=window.location.protocol==="https:",X=W?"wss:":"ws:",et=W?"https:":"http:",Y=W?"3334":"3333",N=W?"8443":"8080",K=Q?`?token=${Q}`:"";return{autoStart:!0,autoFallback:!0,controls:!0,loop:!1,muted:!1,volume:100,playbackRate:1,playsinline:!0,sources:[{label:"WebRTC",type:"webrtc",file:`${X}//${$}:${Y}/live/${pm}/abr_webrtc${K}`,lowLatency:!0},{label:"LLHLS",type:"llhls",file:`${et}//${$}:${N}/live/${pm}/abr.m3u8${K}`,lowLatency:!0}],webrtcConfig:{iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"}]},hlsConfig:{lowLatencyMode:!0,backBufferLength:90}}},[]),L=In.useCallback(()=>{const Q=Date.now();if(Q-A<S){console.log("Retry muito rpido, ignorando...");return}if(u>=E){d("offline"),b.current('Stream offline. Use "Tentar Novamente" para reconectar.',"info");return}f($=>$+1),p(Q),b.current(`Tentando reconectar... (${u+1}/${E})`,"info"),setTimeout(()=>{I()},5e3)},[u,E,A,S]),I=In.useCallback(async()=>{if(m.current)try{d("connecting");const Q=await i();if(!Q){d("error"),b.current("Erro ao obter token de acesso  stream","error");return}if(y.current=db.create("ovenPlayer",T(Q)),!y.current)throw new Error("Falha ao criar instncia do OvenPlayer");const $=y.current;$.on?.("ready",()=>{console.log("OvenPlayer pronto"),d("playing")}),$.on?.("stateChanged",W=>{const X=W;switch(console.log("Estado mudou:",X),X.newstate){case"playing":d("playing");break;case"paused":d("paused");break;case"loading":d("connecting");break;case"error":d("error"),b.current("Erro na reproduo","error");break}}),$.on?.("error",W=>{console.error("Erro do OvenPlayer:",W),d("error"),L()}),$.on?.("destroy",()=>{console.log("OvenPlayer destrudo"),d("offline")}),console.log("OvenPlayer inicializado com sucesso")}catch(Q){console.error("Erro ao inicializar OvenPlayer:",Q),L()}},[i,T,L]);In.useEffect(()=>{typeof window<"u"&&(window.Hls=Kv);const Q=()=>{if(y.current)try{typeof y.current.destroy=="function"?y.current.destroy():typeof y.current.remove=="function"&&y.current.remove(),y.current=null}catch(W){console.error("Erro ao destruir player:",W)}},$=setTimeout(()=>{I()},50);return()=>{clearTimeout($),Q()}},[]);const B=()=>{switch(l){case"connecting":return dt.jsx("div",{className:"loading-spinner"});case"playing":return dt.jsx(Jp,{className:"status-icon live"});case"offline":return dt.jsx(bm,{className:"status-icon offline"});case"error":return dt.jsx(ib,{className:"status-icon error"});default:return dt.jsx(Jp,{className:"status-icon"})}},O=()=>{n(),b.current("Logout realizado com sucesso","info")},_=()=>{c(!0)},M=()=>{o(!0)},U=()=>{f(0),p(0),d("connecting"),I()};return dt.jsxs("div",{ref:m,className:"stream-player",children:[dt.jsxs("div",{className:"stream-header",children:[dt.jsxs("div",{className:"user-info",children:[dt.jsxs("span",{children:["Bem-vindo, ",t?.username]}),dt.jsxs("span",{className:"user-role",children:["(",t?.role,")"]})]}),dt.jsxs("div",{className:"header-actions",children:[dt.jsxs("button",{className:"stremio-btn",onClick:M,children:[dt.jsx(Em,{size:16}),"Stremio"]}),t?.role==="admin"&&dt.jsxs("button",{className:"admin-btn",onClick:_,children:[dt.jsx(z1,{size:16}),"Admin"]}),dt.jsxs("button",{className:"logout-btn",onClick:O,children:[dt.jsx(P1,{size:16}),"Sair"]})]})]}),dt.jsx("div",{id:"ovenPlayer",className:"oven-player-container"}),(l==="connecting"||l==="error"||l==="offline")&&dt.jsx("div",{className:"stream-overlay",children:dt.jsxs("div",{className:"overlay-content",children:[B(),dt.jsxs("p",{className:"status-text",children:[l==="connecting"&&"Conectando  stream...",l==="offline"&&"Stream est offline",l==="error"&&"Erro na conexo"]}),(l==="error"||l==="offline")&&dt.jsx("button",{className:"retry-btn",onClick:U,children:"Tentar Novamente"}),l==="offline"&&dt.jsxs("div",{className:"offline-info",children:[dt.jsx("p",{children:"A stream no est disponvel no momento."}),u<E?dt.jsxs("p",{children:["Tentativas automticas: ",u,"/",E]}):dt.jsx("p",{children:'Tentativas automticas esgotadas. Use "Tentar Novamente" para reconectar.'})]})]})}),s&&dt.jsx(pT,{showToast:b.current,onBack:()=>c(!1),user:t}),e&&dt.jsx(qv,{showToast:b.current,onBack:()=>o(!1)})]})},mm=({message:g,type:t,onClose:n})=>{const[i,l]=In.useState(!1);In.useEffect(()=>{setTimeout(()=>l(!0),100);const c=setTimeout(()=>{l(!1),setTimeout(n,300)},4e3);return()=>clearTimeout(c)},[n]);const d=()=>{l(!1),setTimeout(n,300)},s=()=>{switch(t){case"success":return dt.jsx(L1,{size:20});case"error":return dt.jsx(bm,{size:20});case"info":return dt.jsx(Xp,{size:20});default:return dt.jsx(Xp,{size:20})}};return dt.jsxs("div",{className:`toast toast-${t} ${i?"show":""}`,children:[dt.jsxs("div",{className:"toast-content",children:[s(),dt.jsx("span",{className:"toast-message",children:g})]}),dt.jsx("button",{className:"toast-close",onClick:d,children:dt.jsx(ob,{size:16})})]})},vT=({onLogin:g,showToast:t})=>{const[n,i]=In.useState({username:"",password:""}),[l,d]=In.useState(!1),[s,c]=In.useState(!1),e=async u=>{if(u.preventDefault(),!n.username||!n.password){t("Por favor, preencha todos os campos","error");return}d(!0);try{const f=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),A=await f.json();f.ok?(localStorage.setItem("yustream_token",A.token),localStorage.setItem("yustream_user",JSON.stringify(A.user)),g(A.token,A.user),t("Login realizado com sucesso!","success")):t(A.message||"Erro ao fazer login","error")}catch(f){console.error("Erro no login:",f),t("Erro de conexo. Tente novamente.","error")}finally{d(!1)}},o=(u,f)=>{i(A=>({...A,[u]:f}))};return dt.jsx("div",{className:"login-container",children:dt.jsxs("div",{className:"login-card",children:[dt.jsxs("div",{className:"login-header",children:[dt.jsx("h1",{children:"YuStream"}),dt.jsx("p",{children:"Faa login para acessar a stream"})]}),dt.jsxs("form",{onSubmit:e,className:"login-form",children:[dt.jsx("div",{className:"input-group",children:dt.jsxs("div",{className:"input-wrapper",children:[dt.jsx(eb,{className:"input-icon",size:20}),dt.jsx("input",{type:"text",placeholder:"Usurio",value:n.username,onChange:u=>o("username",u.target.value),disabled:l,autoComplete:"username"})]})}),dt.jsx("div",{className:"input-group",children:dt.jsxs("div",{className:"input-wrapper",children:[dt.jsx(_1,{className:"input-icon",size:20}),dt.jsx("input",{type:s?"text":"password",placeholder:"Senha",value:n.password,onChange:u=>o("password",u.target.value),disabled:l,autoComplete:"current-password"}),dt.jsx("button",{type:"button",className:"password-toggle",onClick:()=>c(!s),disabled:l,children:s?dt.jsx(_c,{size:18}):dt.jsx(Mc,{size:18})})]})}),dt.jsx("button",{type:"submit",className:"login-button",disabled:l,children:l?dt.jsx("div",{className:"loading-spinner"}):"Entrar"})]}),dt.jsx("div",{className:"login-footer",children:dt.jsx("button",{type:"button",className:"stremio-link-btn",onClick:()=>window.location.href="/configure",children:" Configurar Addon Stremio"})})]})})},yT=()=>{const{isAuthenticated:g,isLoading:t,login:n}=qc(),[i,l]=In.useState([]),[d,s]=In.useState("main");In.useEffect(()=>{const u=window.location.pathname;s(u==="/configure"?"stremio-config":"main")},[]);const c=(u,f="info")=>{const A=Date.now()+Math.random(),p={message:u,type:f,id:A};l(m=>[...m,p]),setTimeout(()=>{l(m=>m.filter(y=>y.id!==A))},4e3)},e=u=>{l(f=>f.filter(A=>A.id!==u))},o=()=>{s("main"),window.history.pushState({},"","/")};return t?dt.jsx("div",{className:"app",children:dt.jsxs("div",{className:"loading-screen",children:[dt.jsx("div",{className:"loading-spinner"}),dt.jsx("p",{children:"Carregando..."})]})}):d==="stremio-config"?dt.jsxs("div",{className:"app",children:[dt.jsx(qv,{showToast:c,onBack:o,isAuthenticated:g,currentUser:g?{email:"user@yustream.com",username:"user"}:null}),dt.jsx("div",{className:"toast-container",children:i.map(u=>dt.jsx(mm,{message:u.message,type:u.type,onClose:()=>e(u.id)},u.id))})]}):dt.jsxs("div",{className:"app",children:[g?dt.jsx(mT,{showToast:c}):dt.jsx(vT,{onLogin:n,showToast:c}),dt.jsx("div",{className:"toast-container",children:i.map(u=>dt.jsx(mm,{message:u.message,type:u.type,onClose:()=>e(u.id)},u.id))})]})};function bT(){return dt.jsx(AT,{children:dt.jsx(yT,{})})}v1.createRoot(document.getElementById("root")).render(dt.jsx(In.StrictMode,{children:dt.jsx(bT,{})}));
